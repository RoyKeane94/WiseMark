const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as d,u as zr,a as ta,b as oa,Q as y0,c as g0}from"./query-CQ1uvarX.js";import{a as b0,b as v0,R as ro,u as Ri,r as F,L as Ep,c as x0,g as S0,d as Uf,e as w0,B as j0,f as N0,h as rl,N as mo}from"./react-OW7IPSYu.js";import{G as _0,g as E0,U as C0}from"./pdf-omjxc98r.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))f(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const x of S.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&f(x)}).observe(document,{childList:!0,subtree:!0});function m(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function f(g){if(g.ep)return;g.ep=!0;const S=m(g);fetch(g.href,S)}})();var xf={exports:{}},ku={},Sf={exports:{}},wf={};var $m;function A0(){return $m||($m=1,(function(s){function o(Y,me){var ge=Y.length;Y.push(me);e:for(;0<ge;){var Ee=ge-1>>>1,Be=Y[Ee];if(0<g(Be,me))Y[Ee]=me,Y[ge]=Be,ge=Ee;else break e}}function m(Y){return Y.length===0?null:Y[0]}function f(Y){if(Y.length===0)return null;var me=Y[0],ge=Y.pop();if(ge!==me){Y[0]=ge;e:for(var Ee=0,Be=Y.length,be=Be>>>1;Ee<be;){var _e=2*(Ee+1)-1,De=Y[_e],Ke=_e+1,Je=Y[Ke];if(0>g(De,ge))Ke<Be&&0>g(Je,De)?(Y[Ee]=Je,Y[Ke]=ge,Ee=Ke):(Y[Ee]=De,Y[_e]=ge,Ee=_e);else if(Ke<Be&&0>g(Je,ge))Y[Ee]=Je,Y[Ke]=ge,Ee=Ke;else break e}}return me}function g(Y,me){var ge=Y.sortIndex-me.sortIndex;return ge!==0?ge:Y.id-me.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;s.unstable_now=function(){return S.now()}}else{var x=Date,N=x.now();s.unstable_now=function(){return x.now()-N}}var q=[],E=[],A=1,B=null,P=3,ye=!1,X=!1,le=!1,J=!1,Ae=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function ce(Y){for(var me=m(E);me!==null;){if(me.callback===null)f(E);else if(me.startTime<=Y)f(E),me.sortIndex=me.expirationTime,o(q,me);else break;me=m(E)}}function Te(Y){if(le=!1,ce(Y),!X)if(m(q)!==null)X=!0,de||(de=!0,ke());else{var me=m(E);me!==null&&Ve(Te,me.startTime-Y)}}var de=!1,we=-1,Pe=5,Xe=-1;function Ne(){return J?!0:!(s.unstable_now()-Xe<Pe)}function tt(){if(J=!1,de){var Y=s.unstable_now();Xe=Y;var me=!0;try{e:{X=!1,le&&(le=!1,fe(we),we=-1),ye=!0;var ge=P;try{t:{for(ce(Y),B=m(q);B!==null&&!(B.expirationTime>Y&&Ne());){var Ee=B.callback;if(typeof Ee=="function"){B.callback=null,P=B.priorityLevel;var Be=Ee(B.expirationTime<=Y);if(Y=s.unstable_now(),typeof Be=="function"){B.callback=Be,ce(Y),me=!0;break t}B===m(q)&&f(q),ce(Y)}else f(q);B=m(q)}if(B!==null)me=!0;else{var be=m(E);be!==null&&Ve(Te,be.startTime-Y),me=!1}}break e}finally{B=null,P=ge,ye=!1}me=void 0}}finally{me?ke():de=!1}}}var ke;if(typeof he=="function")ke=function(){he(tt)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,je=Fe.port2;Fe.port1.onmessage=tt,ke=function(){je.postMessage(null)}}else ke=function(){Ae(tt,0)};function Ve(Y,me){we=Ae(function(){Y(s.unstable_now())},me)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_next=function(Y){switch(P){case 1:case 2:case 3:var me=3;break;default:me=P}var ge=P;P=me;try{return Y()}finally{P=ge}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=P;P=Y;try{return me()}finally{P=ge}},s.unstable_scheduleCallback=function(Y,me,ge){var Ee=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,Y){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ge+Be,Y={id:A++,callback:me,priorityLevel:Y,startTime:ge,expirationTime:Be,sortIndex:-1},ge>Ee?(Y.sortIndex=ge,o(E,Y),m(q)===null&&Y===m(E)&&(le?(fe(we),we=-1):le=!0,Ve(Te,ge-Ee))):(Y.sortIndex=Be,o(q,Y),X||ye||(X=!0,de||(de=!0,ke()))),Y},s.unstable_shouldYield=Ne,s.unstable_wrapCallback=function(Y){var me=P;return function(){var ge=P;P=me;try{return Y.apply(this,arguments)}finally{P=ge}}}})(wf)),wf}var Wm;function O0(){return Wm||(Wm=1,Sf.exports=A0()),Sf.exports}var Pm;function T0(){if(Pm)return ku;Pm=1;var s=O0(),o=b0(),m=v0();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(S(e)!==e)throw Error(f(188))}function E(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(f(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return q(i),e;if(r===a)return q(i),t;r=r.sibling}throw Error(f(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,v=i.child;v;){if(v===n){p=!0,n=i,a=r;break}if(v===a){p=!0,a=i,n=r;break}v=v.sibling}if(!p){for(v=r.child;v;){if(v===n){p=!0,n=r,a=i;break}if(v===a){p=!0,a=r,n=i;break}v=v.sibling}if(!p)throw Error(f(189))}}if(n.alternate!==a)throw Error(f(190))}if(n.tag!==3)throw Error(f(188));return n.stateNode.current===n?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var B=Object.assign,P=Symbol.for("react.element"),ye=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),he=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Xe=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=tt&&e[tt]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case Ae:return"Profiler";case J:return"StrictMode";case Te:return"Suspense";case de:return"SuspenseList";case Xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case he:return e.displayName||"Context";case fe:return(e._context.displayName||"Context")+".Consumer";case ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case we:return t=e.displayName||null,t!==null?t:je(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return je(e(t))}catch{}}return null}var Ve=Array.isArray,Y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ee=[],Be=-1;function be(e){return{current:e}}function _e(e){0>Be||(e.current=Ee[Be],Ee[Be]=null,Be--)}function De(e,t){Be++,Ee[Be]=e.current,e.current=t}var Ke=be(null),Je=be(null),ft=be(null),te=be(null);function pe(e,t){switch(De(ft,t),De(Je,e),De(Ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Ke),De(Ke,e)}function qe(){_e(Ke),_e(Je),_e(ft)}function ie(e){e.memoizedState!==null&&De(te,e);var t=Ke.current,n=xm(t,e.type);t!==n&&(De(Je,e),De(Ke,n))}function Ge(e){Je.current===e&&(_e(Ke),_e(Je)),te.current===e&&(_e(te),Du._currentValue=ge)}var He,St;function xn(e){if(He===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);He=t&&t[1]||"",St=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+e+St}var ve=!1;function mt(e,t){if(!e||ve)return"";ve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var Z=W}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(W){Z=W}e.call(ae.prototype)}}else{try{throw Error()}catch(W){Z=W}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],v=r[1];if(p&&v){var _=p.split(`
`),G=v.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===G.length)for(a=_.length-1,i=G.length-1;1<=a&&0<=i&&_[a]!==G[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==G[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==G[i]){var ee=`
`+_[a].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=a&&0<=i);break}}}finally{ve=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xn(n):""}function Oa(e,t){switch(e.tag){case 26:case 27:case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return e.child!==t&&t!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return xn("Activity");default:return""}}function oe(e){try{var t="",n=null;do t+=Oa(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ie=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,_t=s.unstable_cancelCallback,Nn=s.unstable_shouldYield,na=s.unstable_requestPaint,hn=s.unstable_now,Fl=s.unstable_getCurrentPriorityLevel,mn=s.unstable_ImmediatePriority,fa=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,ki=s.unstable_IdlePriority,Bi=s.log,Ta=s.unstable_setDisableYieldValue,da=null,rn=null;function un(e){if(typeof Bi=="function"&&Ta(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(da,e)}catch{}}var Me=Math.clz32?Math.clz32:qi,$l=Math.log,Da=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-($l(e)/Da|0)|0}var Ce=256,fl=262144,Wl=4194304;function aa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~r,a!==0?i=aa(a):(p&=v,p!==0?i=aa(p):n||(n=v&~e,n!==0&&(i=aa(n))))):(v=a&~r,v!==0?i=aa(v):p!==0?i=aa(p):n||(n=a&~e,n!==0&&(i=aa(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Eo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=Wl;return Wl<<=1,(Wl&62914560)===0&&(Wl=4194304),e}function ha(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kr(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,G=e.hiddenUpdates;for(n=p&~n;0<n;){var ee=31-Me(n),ae=1<<ee;v[ee]=0,_[ee]=-1;var Z=G[ee];if(Z!==null)for(G[ee]=null,ee=0;ee<Z.length;ee++){var W=Z[ee];W!==null&&(W.lane&=-536870913)}n&=~ae}a!==0&&Il(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function Il(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Me(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Me(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Yt(e,t){var n=t&-t;return n=(n&42)!==0?1:Br(n),(n&(e.suspendedLanes|t))!==0?0:n}function Br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ei(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ti(e,t){var n=me.p;try{return me.p=e,t()}finally{me.p=n}}var ma=Math.random().toString(36).slice(2),zt="__reactFiber$"+ma,Qt="__reactProps$"+ma,Sn="__reactContainer$"+ma,hl="__reactEvents$"+ma,Co="__reactListeners$"+ma,pa="__reactHandles$"+ma,qr="__reactResources$"+ma,zn="__reactMarker$"+ma;function Ui(e){delete e[zt],delete e[Qt],delete e[hl],delete e[Co],delete e[pa]}function ya(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cm(e);e!==null;){if(n=e[zt])return n;e=Cm(e)}return t}e=n,n=e.parentNode}return null}function Et(e){if(e=e[zt]||e[Sn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function pn(e){var t=e[qr];return t||(t=e[qr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xt(e){e[zn]=!0}var za=new Set,ni={};function la(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(ni[e]=t,e=0;e<t.length;e++)za.add(t[e])}var Ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ur={},ai={};function Fu(e){return Ie.call(ai,e)?!0:Ie.call(Ur,e)?!1:Ra.test(e)?ai[e]=!0:(Ur[e]=!0,!1)}function lt(e,t,n){if(Fu(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function li(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Qn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ml(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ju(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){if(!e._valueTracker){var t=ml(e)?"checked":"value";e._valueTracker=Ju(e,t,""+e[t])}}function Hr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ml(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function vt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ii=/[\n"\\]/g;function en(e){return e.replace(ii,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ba(e,t,n,a,i,r,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sn(t)):e.value!==""+sn(t)&&(e.value=""+sn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ri(e,p,sn(t)):n!=null?ri(e,p,sn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+sn(v):e.removeAttribute("name")}function Li(e,t,n,a,i,r,p,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Hi(e);return}n=n!=null?""+sn(n):"",t=t!=null?""+sn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hi(e)}function ri(e,t,n){t==="number"&&vt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ia(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lr(e,t,n){if(t!=null&&(t=""+sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+sn(n):""}function ui(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(f(92));if(Ve(a)){if(1<a.length)throw Error(f(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=sn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Hi(e)}function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ao.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kr(e,t,n){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&dt(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&dt(e,r,t[r])}function Yr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return wn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var Xn=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Rt=null;function kn(e){var t=Et(e);if(t&&(e=t.stateNode)){var n=e[Qt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ba(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+en(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Qt]||null;if(!i)throw Error(f(90));ba(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Hr(a)}break e;case"textarea":Lr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ia(e,!!n.multiple,t,!1)}}}var qa=!1;function pl(e,t,n){if(qa)return e(t,n);qa=!0;try{var a=e(t);return a}finally{if(qa=!1,(Ba!==null||Rt!==null)&&(Us(),Ba&&(t=Ba,e=Rt,Rt=Ba=null,kn(t),e)))for(t=0;t<e.length;t++)kn(e[t])}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Qt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(f(231,t,typeof n));return n}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(tn)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Qr=!1}var Gn=null,Yi=null,yl=null;function gl(){if(yl)return yl;var e,t=Yi,n=t.length,a,i="value"in Gn?Gn.value:Gn.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return yl=i.slice(e,1<a?1-a:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function $u(){return!1}function Ft(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?si:$u,this.isPropagationStopped=$u,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Ft(Ha),va=B({},Ha,{view:0,detail:0}),Xi=Ft(va),oi,Xr,ci,Gi=B({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(oi=e.screenX-ci.screenX,Xr=e.screenY-ci.screenY):Xr=oi=0,ci=e),oi)},movementY:function(e){return"movementY"in e?e.movementY:Xr}}),Vi=Ft(Gi),Gr=B({},Gi,{dataTransfer:0}),Wu=Ft(Gr),Zi=B({},va,{relatedTarget:0}),vl=Ft(Zi),Fi=B({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ft(Fi),To=B({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xl=Ft(To),Vr=B({},Ha,{data:0}),Ji=Ft(Vr),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nn[e])?!!t[e]:!1}function La(){return fi}var Iu=B({},va,{key:function(e){if(e.key){var t=Zr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=Ft(Iu),es=B({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jr=Ft(es),Wi=B({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),$r=Ft(Wi),Ka=B({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wr=Ft(Ka),Pr=B({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=Ft(Pr),Ir=B({},Ha,{newState:0,oldState:0}),ts=Ft(Ir),Do=[9,13,27,32],di=tn&&"CompositionEvent"in window,xa=null;tn&&"documentMode"in document&&(xa=document.documentMode);var Mo=tn&&"TextEvent"in window&&!xa,Ii=tn&&(!di||xa&&8<xa&&11>=xa),er=" ",ns=!1;function eu(e,t){switch(e){case"keyup":return Do.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function ls(e,t){switch(e){case"compositionend":return as(t);case"keypress":return t.which!==32?null:(ns=!0,er);case"textInput":return e=t.data,e===er&&ns?null:e;default:return null}}function zo(e,t){if(Ya)return e==="compositionend"||!di&&eu(e,t)?(e=gl(),yl=Yi=Gn=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!is[e.type]:t==="textarea"}function tu(e,t,n,a){Ba?Rt?Rt.push(a):Rt=[a]:Ba=a,t=Gs(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Sl=null,hi=null;function Ro(e){hm(e,0)}function nr(e){var t=Rn(e);if(Hr(t))return e}function mi(e,t){if(e==="change")return t}var Vn=!1;if(tn){var kt;if(tn){var wl="oninput"in document;if(!wl){var Qa=document.createElement("div");Qa.setAttribute("oninput","return;"),wl=typeof Qa.oninput=="function"}kt=wl}else kt=!1;Vn=kt&&(!document.documentMode||9<document.documentMode)}function rs(){Sl&&(Sl.detachEvent("onpropertychange",ar),hi=Sl=null)}function ar(e){if(e.propertyName==="value"&&nr(hi)){var t=[];tu(t,hi,e,Ki(e)),pl(Ro,t)}}function us(e,t,n){e==="focusin"?(rs(),Sl=t,hi=n,Sl.attachEvent("onpropertychange",ar)):e==="focusout"&&rs()}function Xa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(hi)}function nu(e,t){if(e==="click")return nr(t)}function jl(e,t){if(e==="input"||e==="change")return nr(t)}function Sa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:Sa;function l(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ie.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=tn&&"documentMode"in document&&11>=document.documentMode,j=null,O=null,H=null,T=!1;function C(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T||j==null||j!==vt(a)||(a=j,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),H&&l(H,a)||(H=a,a=Gs(O,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var k={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},D={},M={};tn&&(M=document.createElement("div").style,"AnimationEvent"in window||(delete k.animationend.animation,delete k.animationiteration.animation,delete k.animationstart.animation),"TransitionEvent"in window||delete k.transitionend.transition);function K(e){if(D[e])return D[e];if(!k[e])return e;var t=k[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M)return D[e]=t[n];return e}var V=K("animationend"),L=K("animationiteration"),I=K("animationstart"),re=K("transitionrun"),xe=K("transitionstart"),Se=K("transitioncancel"),ue=K("transitionend"),ze=new Map,Oe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oe.push("scrollEnd");function se(e,t){ze.set(e,t),la(t,[e])}var Re=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],it=0,Ye=0;function et(){for(var e=it,t=Ye=it=0;t<e;){var n=We[t];We[t++]=null;var a=We[t];We[t++]=null;var i=We[t];We[t++]=null;var r=We[t];if(We[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&wa(n,i,r)}}function Ct(e,t,n,a){We[it++]=e,We[it++]=t,We[it++]=n,We[it++]=a,Ye|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function bn(e,t,n,a){return Ct(e,t,n,a),Nl(e)}function wt(e,t){return Ct(e,null,null,t),Nl(e)}function wa(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Me(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Nl(e){if(50<Nu)throw Nu=0,Qc=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function Ip(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,n,a){return new Ip(e,t,n,a)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ga(e,t){var n=e.alternate;return n===null?(n=Bn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ss(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")ko(e)&&(p=1);else if(typeof e=="string")p=l0(e,n,Ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xe:return e=Bn(31,n,t,i),e.elementType=Xe,e.lanes=r,e;case le:return pi(n.children,i,r,t);case J:p=8,i|=24;break;case Ae:return e=Bn(12,n,t,i|2),e.elementType=Ae,e.lanes=r,e;case Te:return e=Bn(13,n,t,i),e.elementType=Te,e.lanes=r,e;case de:return e=Bn(19,n,t,i),e.elementType=de,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:p=10;break e;case fe:p=9;break e;case ce:p=11;break e;case we:p=14;break e;case Pe:p=16,a=null;break e}p=29,n=Error(f(130,e===null?"null":typeof e,"")),a=null}return t=Bn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function pi(e,t,n,a){return e=Bn(7,e,a,t),e.lanes=n,e}function Bo(e,t,n){return e=Bn(6,e,null,t),e.lanes=n,e}function $f(e){var t=Bn(18,null,null,0);return t.stateNode=e,t}function qo(e,t,n){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function Zn(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:oe(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:oe(t)}}var ir=[],rr=0,os=null,au=0,Fn=[],Jn=0,_l=null,ja=1,Na="";function Va(e,t){ir[rr++]=au,ir[rr++]=os,os=e,au=t}function Pf(e,t,n){Fn[Jn++]=ja,Fn[Jn++]=Na,Fn[Jn++]=_l,_l=e;var a=ja;e=Na;var i=32-Me(a)-1;a&=~(1<<i),n+=1;var r=32-Me(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,ja=1<<32-Me(t)+i|n<<i|a,Na=r+e}else ja=1<<r|n<<i|a,Na=e}function Uo(e){e.return!==null&&(Va(e,1),Pf(e,1,0))}function Ho(e){for(;e===os;)os=ir[--rr],ir[rr]=null,au=ir[--rr],ir[rr]=null;for(;e===_l;)_l=Fn[--Jn],Fn[Jn]=null,Na=Fn[--Jn],Fn[Jn]=null,ja=Fn[--Jn],Fn[Jn]=null}function If(e,t){Fn[Jn++]=ja,Fn[Jn++]=Na,Fn[Jn++]=_l,ja=t.id,Na=t.overflow,_l=e}var on=null,Bt=null,ht=!1,El=null,$n=!1,Lo=Error(f(519));function Cl(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Zn(t,e)),Lo}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[zt]=e,t[Qt]=a,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<Eu.length;n++)st(Eu[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),Li(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),ui(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gm(t.textContent,n)?(a.popover!=null&&(st("beforetoggle",t),st("toggle",t)),a.onScroll!=null&&st("scroll",t),a.onScrollEnd!=null&&st("scrollend",t),a.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||Cl(e,!0)}function td(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:on=on.return}}function ur(e){if(e!==on)return!1;if(!ht)return td(e),ht=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lf(e.type,e.memoizedProps)),n=!n),n&&Bt&&Cl(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Bt=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Bt=Em(e)}else t===27?(t=Bt,Kl(e.type)?(e=cf,cf=null,Bt=e):Bt=t):Bt=on?Pn(e.stateNode.nextSibling):null;return!0}function yi(){Bt=on=null,ht=!1}function Ko(){var e=El;return e!==null&&(On===null?On=e:On.push.apply(On,e),El=null),e}function lu(e){El===null?El=[e]:El.push(e)}var Yo=be(null),gi=null,Za=null;function Al(e,t,n){De(Yo,t._currentValue),t._currentValue=n}function Fa(e){e._currentValue=Yo.current,_e(Yo)}function Qo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Xo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=i;for(var _=0;_<t.length;_++)if(v.context===t[_]){r.lanes|=n,v=r.alternate,v!==null&&(v.lanes|=n),Qo(r.return,n,e),a||(p=null);break e}r=v.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(f(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Qo(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function sr(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(f(387));if(p=p.memoizedProps,p!==null){var v=i.type;gn(i.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(i===te.current){if(p=i.alternate,p===null)throw Error(f(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Du):e=[Du])}i=i.return}e!==null&&Xo(t,e,n,a),t.flags|=262144}function cs(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bi(e){gi=e,Za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return nd(gi,e)}function fs(e,t){return gi===null&&bi(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Za===null){if(e===null)throw Error(f(308));Za=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Za=Za.next=t;return n}var ey=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ty=s.unstable_scheduleCallback,ny=s.unstable_NormalPriority,Jt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new ey,data:new Map,refCount:0}}function iu(e){e.refCount--,e.refCount===0&&ty(ny,function(){e.controller.abort()})}var ru=null,Vo=0,or=0,cr=null;function ay(e,t){if(ru===null){var n=ru=[];Vo=0,or=Jc(),cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Vo++,t.then(ad,ad),t}function ad(){if(--Vo===0&&ru!==null){cr!==null&&(cr.status="fulfilled");var e=ru;ru=null,or=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ly(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=Y.S;Y.S=function(e,t){Kh=hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ay(e,t),ld!==null&&ld(e,t)};var vi=be(null);function Zo(){var e=vi.current;return e!==null?e:Mt.pooledCache}function ds(e,t){t===null?De(vi,vi.current):De(vi,t.pool)}function id(){var e=Zo();return e===null?null:{parent:Jt._currentValue,pool:e}}var fr=Error(f(460)),Fo=Error(f(474)),hs=Error(f(542)),ms={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ud(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(_n,_n),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw Si=t,fr}}function xi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Si=n,fr):n}}var Si=null;function sd(){if(Si===null)throw Error(f(459));var e=Si;return Si=null,e}function od(e){if(e===fr||e===hs)throw Error(f(483))}var dr=null,uu=0;function ps(e){var t=uu;return uu+=1,dr===null&&(dr=[]),ud(dr,e,t)}function su(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ys(e,t){throw t.$$typeof===P?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cd(e){function t(U,R){if(e){var Q=U.deletions;Q===null?(U.deletions=[R],U.flags|=16):Q.push(R)}}function n(U,R){if(!e)return null;for(;R!==null;)t(U,R),R=R.sibling;return null}function a(U){for(var R=new Map;U!==null;)U.key!==null?R.set(U.key,U):R.set(U.index,U),U=U.sibling;return R}function i(U,R){return U=Ga(U,R),U.index=0,U.sibling=null,U}function r(U,R,Q){return U.index=Q,e?(Q=U.alternate,Q!==null?(Q=Q.index,Q<R?(U.flags|=67108866,R):Q):(U.flags|=67108866,R)):(U.flags|=1048576,R)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,R,Q,ne){return R===null||R.tag!==6?(R=Bo(Q,U.mode,ne),R.return=U,R):(R=i(R,Q),R.return=U,R)}function _(U,R,Q,ne){var Qe=Q.type;return Qe===le?ee(U,R,Q.props.children,ne,Q.key):R!==null&&(R.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Pe&&xi(Qe)===R.type)?(R=i(R,Q.props),su(R,Q),R.return=U,R):(R=ss(Q.type,Q.key,Q.props,null,U.mode,ne),su(R,Q),R.return=U,R)}function G(U,R,Q,ne){return R===null||R.tag!==4||R.stateNode.containerInfo!==Q.containerInfo||R.stateNode.implementation!==Q.implementation?(R=qo(Q,U.mode,ne),R.return=U,R):(R=i(R,Q.children||[]),R.return=U,R)}function ee(U,R,Q,ne,Qe){return R===null||R.tag!==7?(R=pi(Q,U.mode,ne,Qe),R.return=U,R):(R=i(R,Q),R.return=U,R)}function ae(U,R,Q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Bo(""+R,U.mode,Q),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ye:return Q=ss(R.type,R.key,R.props,null,U.mode,Q),su(Q,R),Q.return=U,Q;case X:return R=qo(R,U.mode,Q),R.return=U,R;case Pe:return R=xi(R),ae(U,R,Q)}if(Ve(R)||ke(R))return R=pi(R,U.mode,Q,null),R.return=U,R;if(typeof R.then=="function")return ae(U,ps(R),Q);if(R.$$typeof===he)return ae(U,fs(U,R),Q);ys(U,R)}return null}function Z(U,R,Q,ne){var Qe=R!==null?R.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Qe!==null?null:v(U,R,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ye:return Q.key===Qe?_(U,R,Q,ne):null;case X:return Q.key===Qe?G(U,R,Q,ne):null;case Pe:return Q=xi(Q),Z(U,R,Q,ne)}if(Ve(Q)||ke(Q))return Qe!==null?null:ee(U,R,Q,ne,null);if(typeof Q.then=="function")return Z(U,R,ps(Q),ne);if(Q.$$typeof===he)return Z(U,R,fs(U,Q),ne);ys(U,Q)}return null}function W(U,R,Q,ne,Qe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(Q)||null,v(R,U,""+ne,Qe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ye:return U=U.get(ne.key===null?Q:ne.key)||null,_(R,U,ne,Qe);case X:return U=U.get(ne.key===null?Q:ne.key)||null,G(R,U,ne,Qe);case Pe:return ne=xi(ne),W(U,R,Q,ne,Qe)}if(Ve(ne)||ke(ne))return U=U.get(Q)||null,ee(R,U,ne,Qe,null);if(typeof ne.then=="function")return W(U,R,Q,ps(ne),Qe);if(ne.$$typeof===he)return W(U,R,Q,fs(R,ne),Qe);ys(R,ne)}return null}function Ue(U,R,Q,ne){for(var Qe=null,pt=null,Le=R,at=R=0,ct=null;Le!==null&&at<Q.length;at++){Le.index>at?(ct=Le,Le=null):ct=Le.sibling;var yt=Z(U,Le,Q[at],ne);if(yt===null){Le===null&&(Le=ct);break}e&&Le&&yt.alternate===null&&t(U,Le),R=r(yt,R,at),pt===null?Qe=yt:pt.sibling=yt,pt=yt,Le=ct}if(at===Q.length)return n(U,Le),ht&&Va(U,at),Qe;if(Le===null){for(;at<Q.length;at++)Le=ae(U,Q[at],ne),Le!==null&&(R=r(Le,R,at),pt===null?Qe=Le:pt.sibling=Le,pt=Le);return ht&&Va(U,at),Qe}for(Le=a(Le);at<Q.length;at++)ct=W(Le,U,at,Q[at],ne),ct!==null&&(e&&ct.alternate!==null&&Le.delete(ct.key===null?at:ct.key),R=r(ct,R,at),pt===null?Qe=ct:pt.sibling=ct,pt=ct);return e&&Le.forEach(function(Vl){return t(U,Vl)}),ht&&Va(U,at),Qe}function Ze(U,R,Q,ne){if(Q==null)throw Error(f(151));for(var Qe=null,pt=null,Le=R,at=R=0,ct=null,yt=Q.next();Le!==null&&!yt.done;at++,yt=Q.next()){Le.index>at?(ct=Le,Le=null):ct=Le.sibling;var Vl=Z(U,Le,yt.value,ne);if(Vl===null){Le===null&&(Le=ct);break}e&&Le&&Vl.alternate===null&&t(U,Le),R=r(Vl,R,at),pt===null?Qe=Vl:pt.sibling=Vl,pt=Vl,Le=ct}if(yt.done)return n(U,Le),ht&&Va(U,at),Qe;if(Le===null){for(;!yt.done;at++,yt=Q.next())yt=ae(U,yt.value,ne),yt!==null&&(R=r(yt,R,at),pt===null?Qe=yt:pt.sibling=yt,pt=yt);return ht&&Va(U,at),Qe}for(Le=a(Le);!yt.done;at++,yt=Q.next())yt=W(Le,U,at,yt.value,ne),yt!==null&&(e&&yt.alternate!==null&&Le.delete(yt.key===null?at:yt.key),R=r(yt,R,at),pt===null?Qe=yt:pt.sibling=yt,pt=yt);return e&&Le.forEach(function(p0){return t(U,p0)}),ht&&Va(U,at),Qe}function Tt(U,R,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===le&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case ye:e:{for(var Qe=Q.key;R!==null;){if(R.key===Qe){if(Qe=Q.type,Qe===le){if(R.tag===7){n(U,R.sibling),ne=i(R,Q.props.children),ne.return=U,U=ne;break e}}else if(R.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Pe&&xi(Qe)===R.type){n(U,R.sibling),ne=i(R,Q.props),su(ne,Q),ne.return=U,U=ne;break e}n(U,R);break}else t(U,R);R=R.sibling}Q.type===le?(ne=pi(Q.props.children,U.mode,ne,Q.key),ne.return=U,U=ne):(ne=ss(Q.type,Q.key,Q.props,null,U.mode,ne),su(ne,Q),ne.return=U,U=ne)}return p(U);case X:e:{for(Qe=Q.key;R!==null;){if(R.key===Qe)if(R.tag===4&&R.stateNode.containerInfo===Q.containerInfo&&R.stateNode.implementation===Q.implementation){n(U,R.sibling),ne=i(R,Q.children||[]),ne.return=U,U=ne;break e}else{n(U,R);break}else t(U,R);R=R.sibling}ne=qo(Q,U.mode,ne),ne.return=U,U=ne}return p(U);case Pe:return Q=xi(Q),Tt(U,R,Q,ne)}if(Ve(Q))return Ue(U,R,Q,ne);if(ke(Q)){if(Qe=ke(Q),typeof Qe!="function")throw Error(f(150));return Q=Qe.call(Q),Ze(U,R,Q,ne)}if(typeof Q.then=="function")return Tt(U,R,ps(Q),ne);if(Q.$$typeof===he)return Tt(U,R,fs(U,Q),ne);ys(U,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,R!==null&&R.tag===6?(n(U,R.sibling),ne=i(R,Q),ne.return=U,U=ne):(n(U,R),ne=Bo(Q,U.mode,ne),ne.return=U,U=ne),p(U)):n(U,R)}return function(U,R,Q,ne){try{uu=0;var Qe=Tt(U,R,Q,ne);return dr=null,Qe}catch(Le){if(Le===fr||Le===hs)throw Le;var pt=Bn(29,Le,null,U.mode);return pt.lanes=ne,pt.return=U,pt}}}var wi=cd(!0),fd=cd(!1),Ol=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Nl(e),wa(e,null,n),t}return Ct(e,a,t,n),Nl(e)}function ou(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Dt(e,n)}}function Wo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Po=!1;function cu(){if(Po){var e=cr;if(e!==null)throw e}}function fu(e,t,n,a){Po=!1;var i=e.updateQueue;Ol=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var _=v,G=_.next;_.next=null,p===null?r=G:p.next=G,p=_;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,v=ee.lastBaseUpdate,v!==p&&(v===null?ee.firstBaseUpdate=G:v.next=G,ee.lastBaseUpdate=_))}if(r!==null){var ae=i.baseState;p=0,ee=G=_=null,v=r;do{var Z=v.lane&-536870913,W=Z!==v.lane;if(W?(ot&Z)===Z:(a&Z)===Z){Z!==0&&Z===or&&(Po=!0),ee!==null&&(ee=ee.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Ue=e,Ze=v;Z=t;var Tt=n;switch(Ze.tag){case 1:if(Ue=Ze.payload,typeof Ue=="function"){ae=Ue.call(Tt,ae,Z);break e}ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Ze.payload,Z=typeof Ue=="function"?Ue.call(Tt,ae,Z):Ue,Z==null)break e;ae=B({},ae,Z);break e;case 2:Ol=!0}}Z=v.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=i.callbacks,W===null?i.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ee===null?(G=ee=W,_=ae):ee=ee.next=W,p|=Z;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;W=v,v=W.next,W.next=null,i.lastBaseUpdate=W,i.shared.pending=null}}while(!0);ee===null&&(_=ae),i.baseState=_,i.firstBaseUpdate=G,i.lastBaseUpdate=ee,r===null&&(i.shared.lanes=0),Bl|=p,e.lanes=p,e.memoizedState=ae}}function dd(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var hr=be(null),gs=be(0);function md(e,t){e=al,De(gs,e),De(hr,t),al=e|t.baseLanes}function Io(){De(gs,al),De(hr,hr.current)}function ec(){al=gs.current,_e(hr),_e(gs)}var qn=be(null),Wn=null;function Ml(e){var t=e.alternate;De(Gt,Gt.current&1),De(qn,e),Wn===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(Wn=e)}function tc(e){De(Gt,Gt.current),De(qn,e),Wn===null&&(Wn=e)}function pd(e){e.tag===22?(De(Gt,Gt.current),De(qn,e),Wn===null&&(Wn=e)):zl()}function zl(){De(Gt,Gt.current),De(qn,qn.current)}function Un(e){_e(qn),Wn===e&&(Wn=null),_e(Gt)}var Gt=be(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sf(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=0,nt=null,At=null,$t=null,vs=!1,mr=!1,ji=!1,xs=0,du=0,pr=null,iy=0;function Lt(){throw Error(f(321))}function nc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function ac(e,t,n,a,i,r){return Ja=r,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Pd:bc,ji=!1,r=n(a,i),ji=!1,mr&&(r=gd(t,n,a,i)),yd(e),r}function yd(e){Y.H=pu;var t=At!==null&&At.next!==null;if(Ja=0,$t=At=nt=null,vs=!1,du=0,pr=null,t)throw Error(f(300));e===null||Wt||(e=e.dependencies,e!==null&&cs(e)&&(Wt=!0))}function gd(e,t,n,a){nt=e;var i=0;do{if(mr&&(pr=null),du=0,mr=!1,25<=i)throw Error(f(301));if(i+=1,$t=At=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Y.H=Id,r=t(n,a)}while(mr);return r}function ry(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?hu(t):t,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(nt.flags|=1024),t}function lc(){var e=xs!==0;return xs=0,e}function ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rc(e){if(vs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vs=!1}Ja=0,$t=At=nt=null,mr=!1,du=xs=0,pr=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?nt.memoizedState=$t=e:$t=$t.next=e,$t}function Vt(){if(At===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=$t===null?nt.memoizedState:$t.next;if(t!==null)$t=t,At=e;else{if(e===null)throw nt.alternate===null?Error(f(467)):Error(f(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},$t===null?nt.memoizedState=$t=e:$t=$t.next=e}return $t}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(e){var t=du;return du+=1,pr===null&&(pr=[]),e=ud(pr,e,t),t=nt,($t===null?t.memoizedState:$t.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Pd:bc),e}function ws(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hu(e);if(e.$$typeof===he)return cn(e)}throw Error(f(438,String(e)))}function uc(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ss(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Ne;return t.index++,n}function $a(e,t){return typeof t=="function"?t(e):t}function js(e){var t=Vt();return sc(t,At,e)}function sc(e,t,n){var a=e.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var v=p=null,_=null,G=t,ee=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(ot&ae)===ae:(Ja&ae)===ae){var Z=G.revertLane;if(Z===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===or&&(ee=!0);else if((Ja&Z)===Z){G=G.next,Z===or&&(ee=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},_===null?(v=_=ae,p=r):_=_.next=ae,nt.lanes|=Z,Bl|=Z;ae=G.action,ji&&n(r,ae),r=G.hasEagerState?G.eagerState:n(r,ae)}else Z={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},_===null?(v=_=Z,p=r):_=_.next=Z,nt.lanes|=ae,Bl|=ae;G=G.next}while(G!==null&&G!==t);if(_===null?p=r:_.next=v,!gn(r,e.memoizedState)&&(Wt=!0,ee&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function oc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);gn(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function bd(e,t,n){var a=nt,i=Vt(),r=ht;if(r){if(n===void 0)throw Error(f(407));n=n()}else n=t();var p=!gn((At||i).memoizedState,n);if(p&&(i.memoizedState=n,Wt=!0),i=i.queue,dc(Sd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||$t!==null&&$t.memoizedState.tag&1){if(a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),Mt===null)throw Error(f(349));r||(Ja&127)!==0||vd(a,t,n)}return n}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Ss(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,wd(t)&&jd(e)}function Sd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function jd(e){var t=wt(e,2);t!==null&&Tn(t,e,2)}function cc(e){var t=jn();if(typeof e=="function"){var n=e;if(e=n(),ji){un(!0);try{n()}finally{un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,sc(e,At,typeof a=="function"?a:$a)}function uy(e,t,n,a,i){if(Es(e))throw Error(f(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};Y.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=Y.T,p={};Y.T=p;try{var v=n(i,a),_=Y.S;_!==null&&_(p,v),Ed(e,t,v)}catch(G){fc(e,t,G)}finally{r!==null&&p.types!==null&&(r.types=p.types),Y.T=r}}else try{r=n(i,a),Ed(e,t,r)}catch(G){fc(e,t,G)}}function Ed(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return fc(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function fc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==a)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function Td(e,t){if(ht){var n=Mt.formState;if(n!==null){e:{var a=nt;if(ht){if(Bt){t:{for(var i=Bt,r=$n;i.nodeType!==8;){if(!r){i=null;break t}if(i=Pn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Bt=Pn(i.nextSibling),a=i.data==="F!";break e}}Cl(a)}a=!1}a&&(t=n[0])}}return n=jn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},n.queue=a,n=Jd.bind(null,nt,a),a.dispatch=n,a=cc(!1),r=gc.bind(null,nt,!1,a.queue),a=jn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=uy.bind(null,nt,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dd(e){var t=Vt();return Md(t,At,e)}function Md(e,t,n){if(t=sc(e,t,Od)[0],e=js($a)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=hu(t)}catch(p){throw p===fr?hs:p}else a=t;t=Vt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,yr(9,{destroy:void 0},sy.bind(null,i,n),null)),[a,r,e]}function sy(e,t){e.action=t}function zd(e){var t=Vt(),n=At;if(n!==null)return Md(t,n,e);Vt(),t=t.memoizedState,n=Vt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function yr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Ss(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return Vt().memoizedState}function Ns(e,t,n,a){var i=jn();nt.flags|=e,i.memoizedState=yr(1|t,{destroy:void 0},n,a===void 0?null:a)}function _s(e,t,n,a){var i=Vt();a=a===void 0?null:a;var r=i.memoizedState.inst;At!==null&&a!==null&&nc(a,At.memoizedState.deps)?i.memoizedState=yr(t,r,n,a):(nt.flags|=e,i.memoizedState=yr(1|t,r,n,a))}function kd(e,t){Ns(8390656,8,e,t)}function dc(e,t){_s(2048,8,e,t)}function oy(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=Ss(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=Vt().memoizedState;return oy({ref:t,nextImpl:e}),function(){if((xt&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return _s(4,2,e,t)}function Ud(e,t){return _s(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,_s(4,4,Hd.bind(null,t,e),n)}function hc(){}function Kd(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&nc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&nc(t,a[1]))return a[0];if(a=e(),ji){un(!0);try{e()}finally{un(!1)}}return n.memoizedState=[a,t],a}function mc(e,t,n){return n===void 0||(Ja&1073741824)!==0&&(ot&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qh(),nt.lanes|=e,Bl|=e,n)}function Qd(e,t,n,a){return gn(n,t)?n:hr.current!==null?(e=mc(e,n,a),gn(e,t)||(Wt=!0),e):(Ja&42)===0||(Ja&1073741824)!==0&&(ot&261930)===0?(Wt=!0,e.memoizedState=n):(e=Qh(),nt.lanes|=e,Bl|=e,t)}function Xd(e,t,n,a,i){var r=me.p;me.p=r!==0&&8>r?r:8;var p=Y.T,v={};Y.T=v,gc(e,!1,t,n);try{var _=i(),G=Y.S;if(G!==null&&G(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ee=ly(_,a);mu(e,t,ee,Kn(e))}else mu(e,t,a,Kn(e))}catch(ae){mu(e,t,{then:function(){},status:"rejected",reason:ae},Kn())}finally{me.p=r,p!==null&&v.types!==null&&(p.types=v.types),Y.T=p}}function cy(){}function pc(e,t,n,a){if(e.tag!==5)throw Error(f(476));var i=Gd(e).queue;Xd(e,i,t,ge,n===null?cy:function(){return Vd(e),n(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:ge},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),mu(e,t.next.queue,{},Kn())}function yc(){return cn(Du)}function Zd(){return Vt().memoizedState}function Fd(){return Vt().memoizedState}function fy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Kn();e=Tl(n);var a=Dl(t,e,n);a!==null&&(Tn(a,t,n),ou(a,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function dy(e,t,n){var a=Kn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Es(e)?$d(t,n):(n=bn(e,t,n,a),n!==null&&(Tn(n,e,a),Wd(n,t,a)))}function Jd(e,t,n){var a=Kn();mu(e,t,n,a)}function mu(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Es(e))$d(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,v=r(p,n);if(i.hasEagerState=!0,i.eagerState=v,gn(v,p))return Ct(e,t,i,0),Mt===null&&et(),!1}catch{}if(n=bn(e,t,i,a),n!==null)return Tn(n,e,a),Wd(n,t,a),!0}return!1}function gc(e,t,n,a){if(a={lane:2,revertLane:Jc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Es(e)){if(t)throw Error(f(479))}else t=bn(e,n,a,2),t!==null&&Tn(t,e,2)}function Es(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function $d(e,t){mr=vs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Dt(e,n)}}var pu={readContext:cn,use:ws,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};pu.useEffectEvent=Lt;var Pd={readContext:cn,use:ws,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ns(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){Ns(4,2,e,t)},useMemo:function(e,t){var n=jn();t=t===void 0?null:t;var a=e();if(ji){un(!0);try{e()}finally{un(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=jn();if(n!==void 0){var i=n(t);if(ji){un(!0);try{n(t)}finally{un(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=dy.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:function(e){e=cc(e);var t=e.queue,n=Jd.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hc,useDeferredValue:function(e,t){var n=jn();return mc(n,e,t)},useTransition:function(){var e=cc(!1);return e=Xd.bind(null,nt,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=nt,i=jn();if(ht){if(n===void 0)throw Error(f(407));n=n()}else{if(n=t(),Mt===null)throw Error(f(349));(ot&127)!==0||vd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,kd(Sd.bind(null,a,r,e),[e]),a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,r,n,t),null),n},useId:function(){var e=jn(),t=Mt.identifierPrefix;if(ht){var n=Na,a=ja;n=(a&~(1<<32-Me(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yc,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=jn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gc.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:uc,useCacheRefresh:function(){return jn().memoizedState=fy.bind(null,nt)},useEffectEvent:function(e){var t=jn(),n={impl:e};return t.memoizedState=n,function(){if((xt&2)!==0)throw Error(f(440));return n.impl.apply(void 0,arguments)}}},bc={readContext:cn,use:ws,useCallback:Kd,useContext:cn,useEffect:dc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:js,useRef:Rd,useState:function(){return js($a)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Vt();return Qd(n,At.memoizedState,e,t)},useTransition:function(){var e=js($a)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:hu(e),t]},useSyncExternalStore:bd,useId:Zd,useHostTransitionStatus:yc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=Vt();return Nd(n,At,e,t)},useMemoCache:uc,useCacheRefresh:Fd};bc.useEffectEvent=Bd;var Id={readContext:cn,use:ws,useCallback:Kd,useContext:cn,useEffect:dc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:oc,useRef:Rd,useState:function(){return oc($a)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Vt();return At===null?mc(n,e,t):Qd(n,At.memoizedState,e,t)},useTransition:function(){var e=oc($a)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:hu(e),t]},useSyncExternalStore:bd,useId:Zd,useHostTransitionStatus:yc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=Vt();return At!==null?Nd(n,At,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:uc,useCacheRefresh:Fd};Id.useEffectEvent=Bd;function vc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Kn(),i=Tl(a);i.payload=t,n!=null&&(i.callback=n),t=Dl(e,i,a),t!==null&&(Tn(t,e,a),ou(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Kn(),i=Tl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dl(e,i,a),t!==null&&(Tn(t,e,a),ou(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kn(),a=Tl(n);a.tag=2,t!=null&&(a.callback=t),t=Dl(e,a,n),t!==null&&(Tn(t,e,n),ou(t,e,n))}};function eh(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function th(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=B({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nh(e){Re(e)}function ah(e){console.error(e)}function lh(e){Re(e)}function Cs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ih(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Sc(e,t,n){return n=Tl(n),n.tag=3,n.payload={element:null},n.callback=function(){Cs(e,t)},n}function rh(e){return e=Tl(e),e.tag=3,e}function uh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ih(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,a),typeof i!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function hy(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&sr(t,n,i,!0),n=qn.current,n!==null){switch(n.tag){case 31:case 13:return Wn===null?Hs():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===ms?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Vc(e,a,i)),!1;case 22:return n.flags|=65536,a===ms?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Vc(e,a,i)),!1}throw Error(f(435,n.tag))}return Vc(e,a,i),Hs(),!1}if(ht)return t=qn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Lo&&(e=Error(f(422),{cause:a}),lu(Zn(e,n)))):(a!==Lo&&(t=Error(f(423),{cause:a}),lu(Zn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Zn(a,n),i=Sc(e.stateNode,a,i),Wo(e,i),Kt!==4&&(Kt=2)),!1;var r=Error(f(520),{cause:a});if(r=Zn(r,n),ju===null?ju=[r]:ju.push(r),Kt!==4&&(Kt=2),t===null)return!0;a=Zn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Sc(n.stateNode,a,e),Wo(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ql===null||!ql.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rh(i),uh(i,e,n,a),Wo(n,i),!1}n=n.return}while(n!==null);return!1}var wc=Error(f(461)),Wt=!1;function fn(e,t,n,a){t.child=e===null?fd(t,null,n,a):wi(t,e.child,n,a)}function sh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var v in a)v!=="ref"&&(p[v]=a[v])}else p=a;return bi(t),a=ac(e,t,n,p,r,i),v=lc(),e!==null&&!Wt?(ic(e,t,i),Wa(e,t,i)):(ht&&v&&Uo(t),t.flags|=1,fn(e,t,a,i),t.child)}function oh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!ko(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ch(e,t,r,a,i)):(e=ss(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Tc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,e=Ga(r,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=a=r,Tc(e,i))(e.flags&131072)!==0&&(Wt=!0);else return t.lanes=e.lanes,Wa(e,t,i)}return jc(e,t,n,a,i)}function fh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return dh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ds(t,r!==null?r.cachePool:null),r!==null?md(t,r):Io(),pd(t);else return a=t.lanes=536870912,dh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(ds(t,r.cachePool),md(t,r),zl(),t.memoizedState=null):(e!==null&&ds(t,null),Io(),zl());return fn(e,t,i,n),t.child}function yu(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,i){var r=Zo();return r=r===null?null:{parent:Jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ds(t,null),Io(),pd(t),e!==null&&sr(e,t,a,!0),t.childLanes=i,null}function As(e,t){return t=Ts({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return wi(t,e.child,null,n),e=As(t,t.pendingProps),e.flags|=2,Un(t),t.memoizedState=null,e}function my(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ht){if(a.mode==="hidden")return e=As(t,a),t.lanes=536870912,yu(null,e);if(tc(t),(e=Bt)?(e=_m(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:ja,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,on=t,Bt=null)):e=null,e===null)throw Cl(t);return t.lanes=536870912,null}return As(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(tc(t),i)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(Wt||sr(e,t,n,!1),i=(n&e.childLanes)!==0,Wt||i){if(a=Mt,a!==null&&(p=Yt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,wt(e,p),Tn(a,e,p),wc;Hs(),t=hh(e,t,n)}else e=r.treeContext,Bt=Pn(p.nextSibling),on=t,ht=!0,El=null,$n=!1,e!==null&&If(t,e),t=As(t,a),t.flags|=4096;return t}return e=Ga(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Os(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(f(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jc(e,t,n,a,i){return bi(t),n=ac(e,t,n,a,void 0,i),a=lc(),e!==null&&!Wt?(ic(e,t,i),Wa(e,t,i)):(ht&&a&&Uo(t),t.flags|=1,fn(e,t,n,i),t.child)}function mh(e,t,n,a,i,r){return bi(t),t.updateQueue=null,n=gd(t,a,n,i),yd(e),a=lc(),e!==null&&!Wt?(ic(e,t,r),Wa(e,t,r)):(ht&&a&&Uo(t),t.flags|=1,fn(e,t,n,r),t.child)}function ph(e,t,n,a,i){if(bi(t),t.stateNode===null){var r=lr,p=n.contextType;typeof p=="object"&&p!==null&&(r=cn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Jo(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?cn(p):lr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(vc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&xc.enqueueReplaceState(r,r.state,null),fu(t,a,r,i),cu(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,_=Ni(n,v);r.props=_;var G=r.context,ee=n.contextType;p=lr,typeof ee=="object"&&ee!==null&&(p=cn(ee));var ae=n.getDerivedStateFromProps;ee=typeof ae=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,ee||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||G!==p)&&th(t,r,a,p),Ol=!1;var Z=t.memoizedState;r.state=Z,fu(t,a,r,i),cu(),G=t.memoizedState,v||Z!==G||Ol?(typeof ae=="function"&&(vc(t,n,ae,a),G=t.memoizedState),(_=Ol||eh(t,n,_,a,Z,G,p))?(ee||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),r.props=a,r.state=G,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,$o(e,t),p=t.memoizedProps,ee=Ni(n,p),r.props=ee,ae=t.pendingProps,Z=r.context,G=n.contextType,_=lr,typeof G=="object"&&G!==null&&(_=cn(G)),v=n.getDerivedStateFromProps,(G=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==ae||Z!==_)&&th(t,r,a,_),Ol=!1,Z=t.memoizedState,r.state=Z,fu(t,a,r,i),cu();var W=t.memoizedState;p!==ae||Z!==W||Ol||e!==null&&e.dependencies!==null&&cs(e.dependencies)?(typeof v=="function"&&(vc(t,n,v,a),W=t.memoizedState),(ee=Ol||eh(t,n,ee,a,Z,W,_)||e!==null&&e.dependencies!==null&&cs(e.dependencies))?(G||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,W,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,W,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),r.props=a,r.state=W,r.context=_,a=ee):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Os(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,n,i)):fn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Wa(e,t,i),e}function yh(e,t,n,a){return yi(),t.flags|=256,fn(e,t,n,a),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:id()}}function Ec(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ln),e}function gh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(i?Ml(t):zl(),(e=Bt)?(e=_m(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:_l!==null?{id:ja,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,on=t,Bt=null)):e=null,e===null)throw Cl(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,i?(zl(),i=t.mode,v=Ts({mode:"hidden",children:v},i),a=pi(a,i,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=_c(n),a.childLanes=Ec(e,p,n),t.memoizedState=Nc,yu(null,a)):(Ml(t),Cc(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(r)t.flags&256?(Ml(t),t.flags&=-257,t=Ac(e,t,n)):t.memoizedState!==null?(zl(),t.child=e.child,t.flags|=128,t=null):(zl(),v=a.fallback,i=t.mode,a=Ts({mode:"visible",children:a.children},i),v=pi(v,i,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,wi(t,e.child,null,n),a=t.child,a.memoizedState=_c(n),a.childLanes=Ec(e,p,n),t.memoizedState=Nc,t=yu(null,a));else if(Ml(t),of(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var G=p.dgst;p=G,a=Error(f(419)),a.stack="",a.digest=p,lu({value:a,source:null,stack:null}),t=Ac(e,t,n)}else if(Wt||sr(e,t,n,!1),p=(n&e.childLanes)!==0,Wt||p){if(p=Mt,p!==null&&(a=Yt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,wt(e,a),Tn(p,e,a),wc;sf(v)||Hs(),t=Ac(e,t,n)}else sf(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Bt=Pn(v.nextSibling),on=t,ht=!0,El=null,$n=!1,e!==null&&If(t,e),t=Cc(t,a.children),t.flags|=4096);return t}return i?(zl(),v=a.fallback,i=t.mode,_=e.child,G=_.sibling,a=Ga(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,G!==null?v=Ga(G,v):(v=pi(v,i,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,yu(null,a),a=t.child,v=e.child.memoizedState,v===null?v=_c(n):(i=v.cachePool,i!==null?(_=Jt._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=id(),v={baseLanes:v.baseLanes|n,cachePool:i}),a.memoizedState=v,a.childLanes=Ec(e,p,n),t.memoizedState=Nc,yu(e.child,a)):(Ml(t),n=e.child,e=n.sibling,n=Ga(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Cc(e,t){return t=Ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ts(e,t){return e=Bn(22,e,null,t),e.lanes=0,e}function Ac(e,t,n){return wi(t,e.child,null,n),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Qo(e.return,t,n)}function Oc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=Gt.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,De(Gt,p),fn(e,t,a,n),a=ht?au:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oc(t,!0,n,null,r,a);break;case"together":Oc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Wa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(sr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,n=Ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cs(e)))}function py(e,t,n){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),Al(t,Jt,e.memoizedState.cache),yi();break;case 27:case 5:ie(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:Al(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ml(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gh(e,t,n):(Ml(t),e=Wa(e,t,n),e!==null?e.sibling:null);Ml(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(sr(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Gt,Gt.current),a)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Al(t,Jt,e.memoizedState.cache)}return Wa(e,t,n)}function xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Wt=!0;else{if(!Tc(e,n)&&(t.flags&128)===0)return Wt=!1,py(e,t,n);Wt=(e.flags&131072)!==0}else Wt=!1,ht&&(t.flags&1048576)!==0&&Pf(t,au,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=xi(t.elementType),t.type=e,typeof e=="function")ko(e)?(a=Ni(e,a),t.tag=1,t=ph(null,t,e,a,n)):(t.tag=0,t=jc(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ce){t.tag=11,t=sh(null,t,e,a,n);break e}else if(i===we){t.tag=14,t=oh(null,t,e,a,n);break e}}throw t=je(e)||e,Error(f(306,t,""))}}return t;case 0:return jc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ni(a,t.pendingProps),ph(e,t,a,i,n);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(f(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,$o(e,t),fu(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Al(t,Jt,a),a!==r.cache&&Xo(t,[Jt],n,!0),cu(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yh(e,t,a,n);break e}else if(a!==i){i=Zn(Error(f(424)),t),lu(i),t=yh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Bt=Pn(e.firstChild),on=t,ht=!0,El=null,$n=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),a===i){t=Wa(e,t,n);break e}fn(e,t,a,n)}t=t.child}return t;case 26:return Os(e,t),e===null?(n=Dm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ht||(n=t.type,e=t.pendingProps,a=Vs(ft.current).createElement(n),a[zt]=t,a[Qt]=e,dn(a,n,e),Xt(a),t.stateNode=a):t.memoizedState=Dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ie(t),e===null&&ht&&(a=t.stateNode=Am(t.type,t.pendingProps,ft.current),on=t,$n=!0,i=Bt,Kl(t.type)?(cf=i,Bt=Pn(a.firstChild)):Bt=i),fn(e,t,t.pendingProps.children,n),Os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((i=a=Bt)&&(a=Gy(a,t.type,t.pendingProps,$n),a!==null?(t.stateNode=a,on=t,Bt=Pn(a.firstChild),$n=!1,i=!0):i=!1),i||Cl(t)),ie(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,lf(i,r)?a=null:p!==null&&lf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ac(e,t,ry,null,null,n),Du._currentValue=i),Os(e,t),fn(e,t,a,n),t.child;case 6:return e===null&&ht&&((e=n=Bt)&&(n=Vy(n,t.pendingProps,$n),n!==null?(t.stateNode=n,on=t,Bt=null,e=!0):e=!1),e||Cl(t)),null;case 13:return gh(e,t,n);case 4:return pe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=wi(t,null,a,n):fn(e,t,a,n),t.child;case 11:return sh(e,t,t.type,t.pendingProps,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Al(t,t.type,a.value),fn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,bi(t),i=cn(i),a=a(i),t.flags|=1,fn(e,t,a,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return my(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return bi(t),a=cn(Jt),e===null?(i=Zo(),i===null&&(i=Mt,r=Go(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Jo(t),Al(t,Jt,i)):((e.lanes&n)!==0&&($o(e,t),fu(t,null,null,n),cu()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Al(t,Jt,a)):(a=r.cache,Al(t,Jt,a),a!==i.cache&&Xo(t,[Jt],n,!0))),fn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function Pa(e){e.flags|=4}function Dc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Zh())e.flags|=8192;else throw Si=ms,Fo}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(t))if(Zh())e.flags|=8192;else throw Si=ms,Fo}function Ds(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zu():536870912,e.lanes|=t,xr|=t)}function gu(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function yy(e,t,n){var a=t.pendingProps;switch(Ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return qt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Fa(Jt),qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ur(t)?Pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),qt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Pa(t),r!==null?(qt(t),Sh(t,r)):(qt(t),Dc(t,i,null,a,n))):r?r!==e.memoizedState?(Pa(t),qt(t),Sh(t,r)):(qt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Pa(t),qt(t),Dc(t,i,e,a,n)),null;case 27:if(Ge(t),n=ft.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return qt(t),null}e=Ke.current,ur(t)?ed(t):(e=Am(i,a,n),t.stateNode=e,Pa(t))}return qt(t),null;case 5:if(Ge(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(!a){if(t.stateNode===null)throw Error(f(166));return qt(t),null}if(r=Ke.current,ur(t))ed(t);else{var p=Vs(ft.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[zt]=t,r[Qt]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(dn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Pa(t)}}return qt(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Pa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(f(166));if(e=ft.current,ur(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=on,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[zt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,n)),e||Cl(t,!0)}else e=Vs(e).createTextNode(a),e[zt]=t,t.stateNode=e}return qt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ur(t),n!==null){if(e===null){if(!a)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[zt]=t}else yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qt(t),e=!1}else n=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Un(t),t):(Un(t),null);if((t.flags&128)!==0)throw Error(f(558))}return qt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ur(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(f(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(f(317));i[zt]=t}else yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qt(t),i=!1}else i=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Un(t),t):(Un(t),null)}return Un(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ds(t,t.updateQueue),qt(t),null);case 4:return qe(),e===null&&Ic(t.stateNode.containerInfo),qt(t),null;case 10:return Fa(t.type),qt(t),null;case 19:if(_e(Gt),a=t.memoizedState,a===null)return qt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)gu(a,!1);else{if(Kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=bs(e),r!==null){for(t.flags|=128,gu(a,!1),e=r.updateQueue,t.updateQueue=e,Ds(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return De(Gt,Gt.current&1|2),ht&&Va(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&hn()>Bs&&(t.flags|=128,i=!0,gu(a,!1),t.lanes=4194304)}else{if(!i)if(e=bs(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ds(t,e),gu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ht)return qt(t),null}else 2*hn()-a.renderingStartTime>Bs&&n!==536870912&&(t.flags|=128,i=!0,gu(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hn(),e.sibling=null,n=Gt.current,De(Gt,i?n&1|2:n&1),ht&&Va(t,a.treeForkCount),e):(qt(t),null);case 22:case 23:return Un(t),ec(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),n=t.updateQueue,n!==null&&Ds(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&_e(vi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fa(Jt),qt(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function gy(e,t){switch(Ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fa(Jt),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ge(t),null;case 31:if(t.memoizedState!==null){if(Un(t),t.alternate===null)throw Error(f(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Un(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Gt),null;case 4:return qe(),null;case 10:return Fa(t.type),null;case 22:case 23:return Un(t),ec(),e!==null&&_e(vi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fa(Jt),null;case 25:return null;default:return null}}function wh(e,t){switch(Ho(t),t.tag){case 3:Fa(Jt),qe();break;case 26:case 27:case 5:Ge(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Un(t);break;case 13:Un(t);break;case 19:_e(Gt);break;case 10:Fa(t.type);break;case 22:case 23:Un(t),ec(),e!==null&&_e(vi);break;case 24:Fa(Jt)}}function bu(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(v){Nt(t,t.return,v)}}function Rl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,i=t;var _=n,G=v;try{G()}catch(ee){Nt(i,_,ee)}}}a=a.next}while(a!==r)}}catch(ee){Nt(t,t.return,ee)}}function jh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){Nt(e,e.return,a)}}}function Nh(e,t,n){n.props=Ni(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Nt(e,t,a)}}function vu(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Nt(e,t,i)}}function _a(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Nt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Nt(e,t,i)}else n.current=null}function _h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Nt(e,e.return,i)}}function Mc(e,t,n){try{var a=e.stateNode;Hy(a,e.type,n,t),a[Qt]=t}catch(i){Nt(e,e.return,i)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kl(e.type)||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_n));else if(a!==4&&(a===27&&Kl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function Ms(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Kl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ms(e,t,n),e=e.sibling;e!==null;)Ms(e,t,n),e=e.sibling}function Ch(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dn(t,a,n),t[zt]=e,t[Qt]=n}catch(r){Nt(e,e.return,r)}}var Ia=!1,Pt=!1,kc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,an=null;function by(e,t){if(e=e.containerInfo,nf=Is,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,G=0,ee=0,ae=e,Z=null;t:for(;;){for(var W;ae!==n||i!==0&&ae.nodeType!==3||(v=p+i),ae!==r||a!==0&&ae.nodeType!==3||(_=p+a),ae.nodeType===3&&(p+=ae.nodeValue.length),(W=ae.firstChild)!==null;)Z=ae,ae=W;for(;;){if(ae===e)break t;if(Z===n&&++G===i&&(v=p),Z===r&&++ee===a&&(_=p),(W=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=W}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:e,selectionRange:n},Is=!1,an=t;an!==null;)if(t=an,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,an=e;else for(;an!==null;){switch(t=an,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Ue=Ni(n.type,i);e=a.getSnapshotBeforeUpdate(Ue,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ze){Nt(n,n.return,Ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)uf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,an=e;break}an=t.return}}function Oh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:tl(e,n),a&4&&bu(5,n);break;case 1:if(tl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Nt(n,n.return,p)}else{var i=Ni(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Nt(n,n.return,p)}}a&64&&jh(n),a&512&&vu(n,n.return);break;case 3:if(tl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){Nt(n,n.return,p)}}break;case 27:t===null&&a&4&&Ch(n);case 26:case 5:tl(e,n),t===null&&a&4&&_h(n),a&512&&vu(n,n.return);break;case 12:tl(e,n);break;case 31:tl(e,n),a&4&&Mh(e,n);break;case 13:tl(e,n),a&4&&zh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Cy.bind(null,n),Zy(e,n))));break;case 22:if(a=n.memoizedState!==null||Ia,!a){t=t!==null&&t.memoizedState!==null||Pt,i=Ia;var r=Pt;Ia=a,(Pt=t)&&!r?nl(e,n,(n.subtreeFlags&8772)!==0):tl(e,n),Ia=i,Pt=r}break;case 30:break;default:tl(e,n)}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ut=null,En=!1;function el(e,t,n){for(n=n.child;n!==null;)Dh(e,t,n),n=n.sibling}function Dh(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 26:Pt||_a(n,t),el(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||_a(n,t);var a=Ut,i=En;Kl(n.type)&&(Ut=n.stateNode,En=!1),el(e,t,n),Au(n.stateNode),Ut=a,En=i;break;case 5:Pt||_a(n,t);case 6:if(a=Ut,i=En,Ut=null,el(e,t,n),Ut=a,En=i,Ut!==null)if(En)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(n.stateNode)}catch(r){Nt(n,t,r)}else try{Ut.removeChild(n.stateNode)}catch(r){Nt(n,t,r)}break;case 18:Ut!==null&&(En?(e=Ut,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ar(e)):jm(Ut,n.stateNode));break;case 4:a=Ut,i=En,Ut=n.stateNode.containerInfo,En=!0,el(e,t,n),Ut=a,En=i;break;case 0:case 11:case 14:case 15:Rl(2,n,t),Pt||Rl(4,n,t),el(e,t,n);break;case 1:Pt||(_a(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nh(n,t,a)),el(e,t,n);break;case 21:el(e,t,n);break;case 22:Pt=(a=Pt)||n.memoizedState!==null,el(e,t,n),Pt=a;break;default:el(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(n){Nt(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(n){Nt(t,t.return,n)}}function vy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(f(435,e.tag))}}function zs(e,t){var n=vy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Ay.bind(null,e,a);a.then(i,i)}})}function Cn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Kl(v.type)){Ut=v.stateNode,En=!1;break e}break;case 5:Ut=v.stateNode,En=!1;break e;case 3:case 4:Ut=v.stateNode.containerInfo,En=!0;break e}v=v.return}if(Ut===null)throw Error(f(160));Dh(r,p,i),Ut=null,En=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var ua=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(t,e),An(e),a&4&&(Rl(3,e,e.return),bu(3,e),Rl(5,e,e.return));break;case 1:Cn(t,e),An(e),a&512&&(Pt||n===null||_a(n,n.return)),a&64&&Ia&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ua;if(Cn(t,e),An(e),a&512&&(Pt||n===null||_a(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[zn]||r[zt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),dn(r,a,n),r[zt]=e,Xt(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(r=p[v],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}r=i.createElement(a),dn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(v=0;v<p.length;v++)if(r=p[v],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}r=i.createElement(a),dn(r,a,n),i.head.appendChild(r);break;default:throw Error(f(468,a))}r[zt]=e,Xt(r),a=r}e.stateNode=a}else km(i,e.type,e.stateNode);else e.stateNode=zm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?km(i,e.type,e.stateNode):zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Mc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Cn(t,e),An(e),a&512&&(Pt||n===null||_a(n,n.return)),n!==null&&a&4&&Mc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Cn(t,e),An(e),a&512&&(Pt||n===null||_a(n,n.return)),e.flags&32){i=e.stateNode;try{ka(i,"")}catch(Ue){Nt(e,e.return,Ue)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Mc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(kc=!0);break;case 6:if(Cn(t,e),An(e),a&4){if(e.stateNode===null)throw Error(f(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ue){Nt(e,e.return,Ue)}}break;case 3:if(Js=null,i=ua,ua=Zs(t.containerInfo),Cn(t,e),ua=i,An(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(Ue){Nt(e,e.return,Ue)}kc&&(kc=!1,kh(e));break;case 4:a=ua,ua=Zs(e.stateNode.containerInfo),Cn(t,e),An(e),ua=a;break;case 12:Cn(t,e),An(e);break;case 31:Cn(t,e),An(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 13:Cn(t,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ks=hn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,G=Ia,ee=Pt;if(Ia=G||i,Pt=ee||_,Cn(t,e),Pt=ee,Ia=G,An(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||Ia||Pt||_i(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var ae=_.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;v.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ue){Nt(_,_.return,Ue)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(Ue){Nt(_,_.return,Ue)}}}else if(t.tag===18){if(n===null){_=t;try{var W=_.stateNode;i?Nm(W,!0):Nm(_.stateNode,!1)}catch(Ue){Nt(_,_.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,zs(e,n))));break;case 19:Cn(t,e),An(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 30:break;case 21:break;default:Cn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Eh(a)){n=a;break}a=a.return}if(n==null)throw Error(f(160));switch(n.tag){case 27:var i=n.stateNode,r=zc(e);Ms(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(ka(p,""),n.flags&=-33);var v=zc(e);Ms(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,G=zc(e);Rc(e,G,_);break;default:throw Error(f(161))}}catch(ee){Nt(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Oh(e,t.alternate,t),t=t.sibling}function _i(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rl(4,t,t.return),_i(t);break;case 1:_a(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nh(t,t.return,n),_i(t);break;case 27:Au(t.stateNode);case 26:case 5:_a(t,t.return),_i(t);break;case 22:t.memoizedState===null&&_i(t);break;case 30:_i(t);break;default:_i(t)}e=e.sibling}}function nl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:nl(i,r,n),bu(4,r);break;case 1:if(nl(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(G){Nt(a,a.return,G)}if(a=r,i=a.updateQueue,i!==null){var v=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)dd(_[i],v)}catch(G){Nt(a,a.return,G)}}n&&p&64&&jh(r),vu(r,r.return);break;case 27:Ch(r);case 26:case 5:nl(i,r,n),n&&a===null&&p&4&&_h(r),vu(r,r.return);break;case 12:nl(i,r,n);break;case 31:nl(i,r,n),n&&p&4&&Mh(i,r);break;case 13:nl(i,r,n),n&&p&4&&zh(i,r);break;case 22:r.memoizedState===null&&nl(i,r,n),vu(r,r.return);break;case 30:break;default:nl(i,r,n)}t=t.sibling}}function Bc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&iu(n))}function qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&iu(e))}function sa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,a),t=t.sibling}function Bh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,n,a),i&2048&&bu(9,t);break;case 1:sa(e,t,n,a);break;case 3:sa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&iu(e)));break;case 12:if(i&2048){sa(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,v=r.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Nt(t,t.return,_)}}else sa(e,t,n,a);break;case 31:sa(e,t,n,a);break;case 13:sa(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?sa(e,t,n,a):xu(e,t):r._visibility&2?sa(e,t,n,a):(r._visibility|=2,gr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Bc(p,t);break;case 24:sa(e,t,n,a),i&2048&&qc(t.alternate,t);break;default:sa(e,t,n,a)}}function gr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,v=n,_=a,G=p.flags;switch(p.tag){case 0:case 11:case 15:gr(r,p,v,_,i),bu(8,p);break;case 23:break;case 22:var ee=p.stateNode;p.memoizedState!==null?ee._visibility&2?gr(r,p,v,_,i):xu(r,p):(ee._visibility|=2,gr(r,p,v,_,i)),i&&G&2048&&Bc(p.alternate,p);break;case 24:gr(r,p,v,_,i),i&&G&2048&&qc(p.alternate,p);break;default:gr(r,p,v,_,i)}t=t.sibling}}function xu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:xu(n,a),i&2048&&Bc(a.alternate,a);break;case 24:xu(n,a),i&2048&&qc(a.alternate,a);break;default:xu(n,a)}t=t.sibling}}var Su=8192;function br(e,t,n){if(e.subtreeFlags&Su)for(e=e.child;e!==null;)qh(e,t,n),e=e.sibling}function qh(e,t,n){switch(e.tag){case 26:br(e,t,n),e.flags&Su&&e.memoizedState!==null&&i0(n,ua,e.memoizedState,e.memoizedProps);break;case 5:br(e,t,n);break;case 3:case 4:var a=ua;ua=Zs(e.stateNode.containerInfo),br(e,t,n),ua=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Su,Su=16777216,br(e,t,n),Su=a):br(e,t,n));break;default:br(e,t,n)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Lh(a,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:wu(e),e.flags&2048&&Rl(9,e,e.return);break;case 3:wu(e);break;case 12:wu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rs(e)):wu(e);break;default:wu(e)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Lh(a,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rl(8,t,t.return),Rs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rs(t));break;default:Rs(t)}e=e.sibling}}function Lh(e,t){for(;an!==null;){var n=an;switch(n.tag){case 0:case 11:case 15:Rl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:iu(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,an=a;else e:for(n=e;an!==null;){a=an;var i=a.sibling,r=a.return;if(Th(a),a===n){an=null;break e}if(i!==null){i.return=r,an=i;break e}an=r}}}var xy={getCacheForType:function(e){var t=cn(Jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return cn(Jt).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,xt=0,Mt=null,ut=null,ot=0,jt=0,Hn=null,kl=!1,vr=!1,Uc=!1,al=0,Kt=0,Bl=0,Ei=0,Hc=0,Ln=0,xr=0,ju=null,On=null,Lc=!1,ks=0,Kh=0,Bs=1/0,qs=null,ql=null,It=0,Ul=null,Sr=null,ll=0,Kc=0,Yc=null,Yh=null,Nu=0,Qc=null;function Kn(){return(xt&2)!==0&&ot!==0?ot&-ot:Y.T!==null?Jc():ei()}function Qh(){if(Ln===0)if((ot&536870912)===0||ht){var e=fl;fl<<=1,(fl&3932160)===0&&(fl=262144),Ln=e}else Ln=536870912;return e=qn.current,e!==null&&(e.flags|=32),Ln}function Tn(e,t,n){(e===Mt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Hl(e,ot,Ln,!1)),Yn(e,n),((xt&2)===0||e!==Mt)&&(e===Mt&&((xt&2)===0&&(Ei|=n),Kt===4&&Hl(e,ot,Ln,!1)),Ea(e))}function Xh(e,t,n){if((xt&6)!==0)throw Error(f(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ma(e,t),i=a?Ny(e,t):Gc(e,t,!0),r=a;do{if(i===0){vr&&!a&&Hl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!wy(n)){i=Gc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;i=ju;var _=v.current.memoizedState.isDehydrated;if(_&&(wr(v,p).flags|=256),p=Gc(v,p,!1),p!==2){if(Uc&&!_){v.errorRecoveryDisabledLanes|=r,Ei|=r,i=4;break e}r=On,On=i,r!==null&&(On===null?On=r:On.push.apply(On,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){wr(e,0),Hl(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:Hl(a,t,Ln,!kl);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(i=ks+300-hn(),10<i)){if(Hl(a,t,Ln,!kl),Pl(a,0,!0)!==0)break e;ll=t,a.timeoutHandle=Sm(Gh.bind(null,a,n,On,qs,Lc,t,Ln,Ei,xr,kl,r,"Throttled",-0,0),i);break e}Gh(a,n,On,qs,Lc,t,Ln,Ei,xr,kl,r,null,-0,0)}}break}while(!0);Ea(e)}function Gh(e,t,n,a,i,r,p,v,_,G,ee,ae,Z,W){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},qh(t,r,ae);var Ue=(r&62914560)===r?ks-hn():(r&4194048)===r?Kh-hn():0;if(Ue=r0(ae,Ue),Ue!==null){ll=r,e.cancelPendingCommit=Ue(Ih.bind(null,e,t,r,n,a,i,p,v,_,ee,ae,null,Z,W)),Hl(e,r,p,!G);return}}Ih(e,t,r,n,a,i,p,v,_)}function wy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!gn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hl(e,t,n,a){t&=~Hc,t&=~Ei,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Me(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&Il(e,n,t)}function Us(){return(xt&6)===0?(_u(0),!1):!0}function Xc(){if(ut!==null){if(jt===0)var e=ut.return;else e=ut,Za=gi=null,rc(e),dr=null,uu=0,e=ut;for(;e!==null;)wh(e.alternate,e),e=e.return;ut=null}}function wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ll=0,Xc(),Mt=e,ut=n=Ga(e.current,null),ot=t,jt=0,Hn=null,kl=!1,vr=Ma(e,t),Uc=!1,xr=Ln=Hc=Ei=Bl=Kt=0,On=ju=null,Lc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Me(a),r=1<<i;t|=e[i],a&=~r}return al=t,et(),n}function Vh(e,t){nt=null,Y.H=pu,t===fr||t===hs?(t=sd(),jt=3):t===Fo?(t=sd(),jt=4):jt=t===wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Hn=t,ut===null&&(Kt=1,Cs(e,Zn(t,e.current)))}function Zh(){var e=qn.current;return e===null?!0:(ot&4194048)===ot?Wn===null:(ot&62914560)===ot||(ot&536870912)!==0?e===Wn:!1}function Fh(){var e=Y.H;return Y.H=pu,e===null?pu:e}function Jh(){var e=Y.A;return Y.A=xy,e}function Hs(){Kt=4,kl||(ot&4194048)!==ot&&qn.current!==null||(vr=!0),(Bl&134217727)===0&&(Ei&134217727)===0||Mt===null||Hl(Mt,ot,Ln,!1)}function Gc(e,t,n){var a=xt;xt|=2;var i=Fh(),r=Jh();(Mt!==e||ot!==t)&&(qs=null,wr(e,t)),t=!1;var p=Kt;e:do try{if(jt!==0&&ut!==null){var v=ut,_=Hn;switch(jt){case 8:Xc(),p=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(t=!0);var G=jt;if(jt=0,Hn=null,jr(e,v,_,G),n&&vr){p=0;break e}break;default:G=jt,jt=0,Hn=null,jr(e,v,_,G)}}jy(),p=Kt;break}catch(ee){Vh(e,ee)}while(!0);return t&&e.shellSuspendCounter++,Za=gi=null,xt=a,Y.H=i,Y.A=r,ut===null&&(Mt=null,ot=0,et()),p}function jy(){for(;ut!==null;)$h(ut)}function Ny(e,t){var n=xt;xt|=2;var a=Fh(),i=Jh();Mt!==e||ot!==t?(qs=null,Bs=hn()+500,wr(e,t)):vr=Ma(e,t);e:do try{if(jt!==0&&ut!==null){t=ut;var r=Hn;t:switch(jt){case 1:jt=0,Hn=null,jr(e,t,r,1);break;case 2:case 9:if(rd(r)){jt=0,Hn=null,Wh(t);break}t=function(){jt!==2&&jt!==9||Mt!==e||(jt=7),Ea(e)},r.then(t,t);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:rd(r)?(jt=0,Hn=null,Wh(t)):(jt=0,Hn=null,jr(e,t,r,7));break;case 5:var p=null;switch(ut.tag){case 26:p=ut.memoizedState;case 5:case 27:var v=ut;if(p?Bm(p):v.stateNode.complete){jt=0,Hn=null;var _=v.sibling;if(_!==null)ut=_;else{var G=v.return;G!==null?(ut=G,Ls(G)):ut=null}break t}}jt=0,Hn=null,jr(e,t,r,5);break;case 6:jt=0,Hn=null,jr(e,t,r,6);break;case 8:Xc(),Kt=6;break e;default:throw Error(f(462))}}_y();break}catch(ee){Vh(e,ee)}while(!0);return Za=gi=null,Y.H=a,Y.A=i,xt=n,ut!==null?0:(Mt=null,ot=0,et(),Kt)}function _y(){for(;ut!==null&&!Nn();)$h(ut)}function $h(e){var t=xh(e.alternate,e,al);e.memoizedProps=e.pendingProps,t===null?Ls(e):ut=t}function Wh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:rc(t);default:wh(n,t),t=ut=Jf(t,al),t=xh(n,t,al)}e.memoizedProps=e.pendingProps,t===null?Ls(e):ut=t}function jr(e,t,n,a){Za=gi=null,rc(t),dr=null,uu=0;var i=t.return;try{if(hy(e,i,t,n,ot)){Kt=1,Cs(e,Zn(n,e.current)),ut=null;return}}catch(r){if(i!==null)throw ut=i,r;Kt=1,Cs(e,Zn(n,e.current)),ut=null;return}t.flags&32768?(ht||a===1?e=!0:vr||(ot&536870912)!==0?e=!1:(kl=e=!0,(a===2||a===9||a===3||a===6)&&(a=qn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ph(t,e)):Ls(t)}function Ls(e){var t=e;do{if((t.flags&32768)!==0){Ph(t,kl);return}e=t.return;var n=yy(t.alternate,t,al);if(n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);Kt===0&&(Kt=5)}function Ph(e,t){do{var n=gy(e.alternate,e);if(n!==null){n.flags&=32767,ut=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ut=e;return}ut=e=n}while(e!==null);Kt=6,ut=null}function Ih(e,t,n,a,i,r,p,v,_){e.cancelPendingCommit=null;do Ks();while(It!==0);if((xt&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(r=t.lanes|t.childLanes,r|=Ye,kr(e,n,r,p,v,_),e===Mt&&(ut=Mt=null,ot=0),Sr=t,Ul=e,ll=n,Kc=r,Yc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Oy(cl,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,i=me.p,me.p=2,p=xt,xt|=4;try{by(e,t,n)}finally{xt=p,me.p=i,Y.T=a}}It=1,em(),tm(),nm()}}function em(){if(It===1){It=0;var e=Ul,t=Sr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=me.p;me.p=2;var i=xt;xt|=4;try{Rh(t,e);var r=af,p=y(e.containerInfo),v=r.focusedElem,_=r.selectionRange;if(p!==v&&v&&v.ownerDocument&&h(v.ownerDocument.documentElement,v)){if(_!==null&&b(v)){var G=_.start,ee=_.end;if(ee===void 0&&(ee=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(ee,v.value.length);else{var ae=v.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),Ue=v.textContent.length,Ze=Math.min(_.start,Ue),Tt=_.end===void 0?Ze:Math.min(_.end,Ue);!W.extend&&Ze>Tt&&(p=Tt,Tt=Ze,Ze=p);var U=c(v,Ze),R=c(v,Tt);if(U&&R&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==R.node||W.focusOffset!==R.offset)){var Q=ae.createRange();Q.setStart(U.node,U.offset),W.removeAllRanges(),Ze>Tt?(W.addRange(Q),W.extend(R.node,R.offset)):(Q.setEnd(R.node,R.offset),W.addRange(Q))}}}}for(ae=[],W=v;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ae.length;v++){var ne=ae[v];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Is=!!nf,af=nf=null}finally{xt=i,me.p=a,Y.T=n}}e.current=t,It=2}}function tm(){if(It===2){It=0;var e=Ul,t=Sr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=me.p;me.p=2;var i=xt;xt|=4;try{Oh(e,t.alternate,t)}finally{xt=i,me.p=a,Y.T=n}}It=3}}function nm(){if(It===4||It===3){It=0,na();var e=Ul,t=Sr,n=ll,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Sr=Ul=null,am(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ql=null),dl(n),t=t.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(da,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,i=me.p,me.p=2,Y.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var v=a[p];r(v.value,{componentStack:v.stack})}}finally{Y.T=t,me.p=i}}(ll&3)!==0&&Ks(),Ea(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Qc?Nu++:(Nu=0,Qc=e):Nu=0,_u(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,iu(t)))}function Ks(){return em(),tm(),nm(),lm()}function lm(){if(It!==5)return!1;var e=Ul,t=Kc;Kc=0;var n=dl(ll),a=Y.T,i=me.p;try{me.p=32>n?32:n,Y.T=null,n=Yc,Yc=null;var r=Ul,p=ll;if(It=0,Sr=Ul=null,ll=0,(xt&6)!==0)throw Error(f(331));var v=xt;if(xt|=4,Hh(r.current),Bh(r,r.current,p,n),xt=v,_u(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(da,r)}catch{}return!0}finally{me.p=i,Y.T=a,am(e,t)}}function im(e,t,n){t=Zn(n,t),t=Sc(e.stateNode,t,2),e=Dl(e,t,2),e!==null&&(Yn(e,2),Ea(e))}function Nt(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ql===null||!ql.has(a))){e=Zn(n,e),n=rh(2),a=Dl(t,n,2),a!==null&&(uh(n,a,t,e),Yn(a,2),Ea(a));break}}t=t.return}}function Vc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Sy;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Uc=!0,i.add(n),e=Ey.bind(null,e,t,n),t.then(e,e))}function Ey(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Mt===e&&(ot&n)===n&&(Kt===4||Kt===3&&(ot&62914560)===ot&&300>hn()-ks?(xt&2)===0&&wr(e,0):Hc|=n,xr===ot&&(xr=0)),Ea(e)}function rm(e,t){t===0&&(t=Zu()),e=wt(e,t),e!==null&&(Yn(e,t),Ea(e))}function Cy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function Ay(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(f(314))}a!==null&&a.delete(t),rm(e,n)}function Oy(e,t){return bt(e,t)}var Ys=null,Nr=null,Zc=!1,Qs=!1,Fc=!1,Ll=0;function Ea(e){e!==Nr&&e.next===null&&(Nr===null?Ys=Nr=e:Nr=Nr.next=e),Qs=!0,Zc||(Zc=!0,Dy())}function _u(e,t){if(!Fc&&Qs){Fc=!0;do for(var n=!1,a=Ys;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,v=a.pingedLanes;r=(1<<31-Me(42|e)+1)-1,r&=i&~(p&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cm(a,r))}else r=ot,r=Pl(a,a===Mt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Ma(a,r)||(n=!0,cm(a,r));a=a.next}while(n);Fc=!1}}function Ty(){um()}function um(){Qs=Zc=!1;var e=0;Ll!==0&&Ky()&&(e=Ll);for(var t=hn(),n=null,a=Ys;a!==null;){var i=a.next,r=sm(a,t);r===0?(a.next=null,n===null?Ys=i:n.next=i,i===null&&(Nr=n)):(n=a,(e!==0||(r&3)!==0)&&(Qs=!0)),a=i}It!==0&&It!==5||_u(e),Ll!==0&&(Ll=0)}function sm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-Me(r),v=1<<p,_=i[p];_===-1?((v&n)===0||(v&a)!==0)&&(i[p]=Eo(v,t)):_<=t&&(e.expiredLanes|=v),r&=~v}if(t=Mt,n=ot,n=Pl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_t(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ma(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&_t(a),dl(n)){case 2:case 8:n=fa;break;case 32:n=cl;break;case 268435456:n=ki;break;default:n=cl}return a=om.bind(null,e),n=bt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&_t(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ks()&&e.callbackNode!==n)return null;var a=ot;return a=Pl(e,e===Mt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xh(e,a,t),sm(e,hn()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Ks())return null;Xh(e,t,!0)}function Dy(){Qy(function(){(xt&6)!==0?bt(mn,Ty):um()})}function Jc(){if(Ll===0){var e=or;e===0&&(e=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),Ll=e}return Ll}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function My(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=fm((i[Qt]||null).action),p=a.submitter;p&&(t=(t=p[Qt]||null)?fm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var v=new Qi("action","action",null,a,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ll!==0){var _=p?dm(i,p):new FormData(i);pc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(v.preventDefault(),_=p?dm(i,p):new FormData(i),pc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var $c=0;$c<Oe.length;$c++){var Wc=Oe[$c],zy=Wc.toLowerCase(),Ry=Wc[0].toUpperCase()+Wc.slice(1);se(zy,"on"+Ry)}se(V,"onAnimationEnd"),se(L,"onAnimationIteration"),se(I,"onAnimationStart"),se("dblclick","onDoubleClick"),se("focusin","onFocus"),se("focusout","onBlur"),se(re,"onTransitionRun"),se(xe,"onTransitionStart"),se(Se,"onTransitionCancel"),se(ue,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ky=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],_=v.instance,G=v.currentTarget;if(v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=G;try{r(i)}catch(ee){Re(ee)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(v=a[p],_=v.instance,G=v.currentTarget,v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=G;try{r(i)}catch(ee){Re(ee)}i.currentTarget=null,r=_}}}}function st(e,t){var n=t[hl];n===void 0&&(n=t[hl]=new Set);var a=e+"__bubble";n.has(a)||(mm(t,e,2,!1),n.add(a))}function Pc(e,t,n){var a=0;t&&(a|=4),mm(n,e,a,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Xs]){e[Xs]=!0,za.forEach(function(n){n!=="selectionchange"&&(ky.has(n)||Pc(n,!1,e),Pc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Pc("selectionchange",!1,t))}}function mm(e,t,n,a){switch(Qm(t)){case 2:var i=o0;break;case 8:i=c0;break;default:i=pf}n=i.bind(null,t,n,e),i=void 0,!Qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ef(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;v!==null;){if(p=ya(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}v=v.parentNode}}a=a.return}pl(function(){var G=r,ee=Ki(n),ae=[];e:{var Z=ze.get(e);if(Z!==void 0){var W=Qi,Ue=e;switch(e){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":W=$i;break;case"focusin":Ue="focus",W=vl;break;case"focusout":Ue="blur",W=vl;break;case"beforeblur":case"afterblur":W=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=$r;break;case V:case L:case I:W=Pu;break;case ue:W=Wr;break;case"scroll":case"scrollend":W=Xi;break;case"wheel":W=Pi;break;case"copy":case"cut":case"paste":W=xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Jr;break;case"toggle":case"beforetoggle":W=ts}var Ze=(t&4)!==0,Tt=!Ze&&(e==="scroll"||e==="scrollend"),U=Ze?Z!==null?Z+"Capture":null:Z;Ze=[];for(var R=G,Q;R!==null;){var ne=R;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||U===null||(ne=Ua(R,U),ne!=null&&Ze.push(Cu(R,ne,Q))),Tt)break;R=R.return}0<Ze.length&&(Z=new W(Z,Ue,null,n,ee),ae.push({event:Z,listeners:Ze}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&n!==Xn&&(Ue=n.relatedTarget||n.fromElement)&&(ya(Ue)||Ue[Sn]))break e;if((W||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(Ue=n.relatedTarget||n.toElement,W=G,Ue=Ue?ya(Ue):null,Ue!==null&&(Tt=S(Ue),Ze=Ue.tag,Ue!==Tt||Ze!==5&&Ze!==27&&Ze!==6)&&(Ue=null)):(W=null,Ue=G),W!==Ue)){if(Ze=Vi,ne="onMouseLeave",U="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Ze=Jr,ne="onPointerLeave",U="onPointerEnter",R="pointer"),Tt=W==null?Z:Rn(W),Q=Ue==null?Z:Rn(Ue),Z=new Ze(ne,R+"leave",W,n,ee),Z.target=Tt,Z.relatedTarget=Q,ne=null,ya(ee)===G&&(Ze=new Ze(U,R+"enter",Ue,n,ee),Ze.target=Q,Ze.relatedTarget=Tt,ne=Ze),Tt=ne,W&&Ue)t:{for(Ze=By,U=W,R=Ue,Q=0,ne=U;ne;ne=Ze(ne))Q++;ne=0;for(var Qe=R;Qe;Qe=Ze(Qe))ne++;for(;0<Q-ne;)U=Ze(U),Q--;for(;0<ne-Q;)R=Ze(R),ne--;for(;Q--;){if(U===R||R!==null&&U===R.alternate){Ze=U;break t}U=Ze(U),R=Ze(R)}Ze=null}else Ze=null;W!==null&&pm(ae,Z,W,Ze,!1),Ue!==null&&Tt!==null&&pm(ae,Tt,Ue,Ze,!0)}}e:{if(Z=G?Rn(G):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var pt=mi;else if(tr(Z))if(Vn)pt=jl;else{pt=Xa;var Le=us}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&Yr(G.elementType)&&(pt=mi):pt=nu;if(pt&&(pt=pt(e,G))){tu(ae,pt,n,ee);break e}Le&&Le(e,Z,G),e==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&ri(Z,"number",Z.value)}switch(Le=G?Rn(G):window,e){case"focusin":(tr(Le)||Le.contentEditable==="true")&&(j=Le,O=G,H=null);break;case"focusout":H=O=j=null;break;case"mousedown":T=!0;break;case"contextmenu":case"mouseup":case"dragend":T=!1,C(ae,n,ee);break;case"selectionchange":if(w)break;case"keydown":case"keyup":C(ae,n,ee)}var at;if(di)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Ya?eu(e,n)&&(ct="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ct="onCompositionStart");ct&&(Ii&&n.locale!=="ko"&&(Ya||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ya&&(at=gl()):(Gn=ee,Yi="value"in Gn?Gn.value:Gn.textContent,Ya=!0)),Le=Gs(G,ct),0<Le.length&&(ct=new Ji(ct,e,null,n,ee),ae.push({event:ct,listeners:Le}),at?ct.data=at:(at=as(n),at!==null&&(ct.data=at)))),(at=Mo?ls(e,n):zo(e,n))&&(ct=Gs(G,"onBeforeInput"),0<ct.length&&(Le=new Ji("onBeforeInput","beforeinput",null,n,ee),ae.push({event:Le,listeners:ct}),Le.data=at)),My(ae,e,G,n,ee)}hm(ae,t)})}function Cu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gs(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Ua(e,n),i!=null&&a.unshift(Cu(e,i,r)),i=Ua(e,t),i!=null&&a.push(Cu(e,i,r))),e.tag===3)return a;e=e.return}return[]}function By(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var v=n,_=v.alternate,G=v.stateNode;if(v=v.tag,_!==null&&_===a)break;v!==5&&v!==26&&v!==27||G===null||(_=G,i?(G=Ua(n,r),G!=null&&p.unshift(Cu(n,G,_))):i||(G=Ua(n,r),G!=null&&p.push(Cu(n,G,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var qy=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(qy,`
`).replace(Uy,"")}function gm(e,t){return t=ym(t),ym(e)===t}function Ot(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ka(e,""+a);break;case"className":li(e,"class",a);break;case"tabIndex":li(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":li(e,n,a);break;case"style":Kr(e,a,r);break;case"data":if(t!=="object"){li(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ra(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Ot(e,t,"name",i.name,i,null),Ot(e,t,"formEncType",i.formEncType,i,null),Ot(e,t,"formMethod",i.formMethod,i,null),Ot(e,t,"formTarget",i.formTarget,i,null)):(Ot(e,t,"encType",i.encType,i,null),Ot(e,t,"method",i.method,i,null),Ot(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ra(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=_n);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ra(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":st("beforetoggle",e),st("toggle",e),lt(e,"popover",a);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":lt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Oo.get(n)||n,lt(e,n,a))}}function tf(e,t,n,a,i,r){switch(n){case"style":Kr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(f(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ka(e,a):(typeof a=="number"||typeof a=="bigint")&&ka(e,""+a);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"onClick":a!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Qt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):lt(e,n,a)}}}function dn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Ot(e,t,r,p,n,null)}}i&&Ot(e,t,"srcSet",n.srcSet,n,null),a&&Ot(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var v=r=p=i=null,_=null,G=null;for(a in n)if(n.hasOwnProperty(a)){var ee=n[a];if(ee!=null)switch(a){case"name":i=ee;break;case"type":p=ee;break;case"checked":_=ee;break;case"defaultChecked":G=ee;break;case"value":r=ee;break;case"defaultValue":v=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(f(137,t));break;default:Ot(e,t,a,ee,n,null)}}Li(e,r,v,_,G,p,i,!1);return;case"select":st("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(v=n[i],v!=null))switch(i){case"value":r=v;break;case"defaultValue":p=v;break;case"multiple":a=v;default:Ot(e,t,i,v,n,null)}t=r,n=p,e.multiple=!!a,t!=null?ia(e,!!a,t,!1):n!=null&&ia(e,!!a,n,!0);return;case"textarea":st("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":a=v;break;case"defaultValue":i=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(f(91));break;default:Ot(e,t,p,v,n,null)}ui(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Ot(e,t,_,a,n,null));return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(a=0;a<Eu.length;a++)st(Eu[a],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(a=n[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Ot(e,t,G,a,n,null)}return;default:if(Yr(t)){for(ee in n)n.hasOwnProperty(ee)&&(a=n[ee],a!==void 0&&tf(e,t,ee,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&Ot(e,t,v,a,n,null))}function Hy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,v=null,_=null,G=null,ee=null;for(W in n){var ae=n[W];if(n.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":_=ae;default:a.hasOwnProperty(W)||Ot(e,t,W,null,a,ae)}}for(var Z in a){var W=a[Z];if(ae=n[Z],a.hasOwnProperty(Z)&&(W!=null||ae!=null))switch(Z){case"type":r=W;break;case"name":i=W;break;case"checked":G=W;break;case"defaultChecked":ee=W;break;case"value":p=W;break;case"defaultValue":v=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(f(137,t));break;default:W!==ae&&Ot(e,t,Z,W,a,ae)}}ba(e,p,v,_,G,ee,r,i);return;case"select":W=p=v=Z=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":W=_;default:a.hasOwnProperty(r)||Ot(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":Z=r;break;case"defaultValue":v=r;break;case"multiple":p=r;default:r!==_&&Ot(e,t,i,r,a,_)}t=v,n=p,a=W,Z!=null?ia(e,!!n,Z,!1):!!a!=!!n&&(t!=null?ia(e,!!n,t,!0):ia(e,!!n,n?[]:"",!1));return;case"textarea":W=Z=null;for(v in n)if(i=n[v],n.hasOwnProperty(v)&&i!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ot(e,t,v,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":Z=i;break;case"defaultValue":W=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(f(91));break;default:i!==r&&Ot(e,t,p,i,a,r)}Lr(e,Z,W);return;case"option":for(var Ue in n)Z=n[Ue],n.hasOwnProperty(Ue)&&Z!=null&&!a.hasOwnProperty(Ue)&&(Ue==="selected"?e.selected=!1:Ot(e,t,Ue,null,a,Z));for(_ in a)Z=a[_],W=n[_],a.hasOwnProperty(_)&&Z!==W&&(Z!=null||W!=null)&&(_==="selected"?e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":Ot(e,t,_,Z,a,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in n)Z=n[Ze],n.hasOwnProperty(Ze)&&Z!=null&&!a.hasOwnProperty(Ze)&&Ot(e,t,Ze,null,a,Z);for(G in a)if(Z=a[G],W=n[G],a.hasOwnProperty(G)&&Z!==W&&(Z!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(f(137,t));break;default:Ot(e,t,G,Z,a,W)}return;default:if(Yr(t)){for(var Tt in n)Z=n[Tt],n.hasOwnProperty(Tt)&&Z!==void 0&&!a.hasOwnProperty(Tt)&&tf(e,t,Tt,void 0,a,Z);for(ee in a)Z=a[ee],W=n[ee],!a.hasOwnProperty(ee)||Z===W||Z===void 0&&W===void 0||tf(e,t,ee,Z,a,W);return}}for(var U in n)Z=n[U],n.hasOwnProperty(U)&&Z!=null&&!a.hasOwnProperty(U)&&Ot(e,t,U,null,a,Z);for(ae in a)Z=a[ae],W=n[ae],!a.hasOwnProperty(ae)||Z===W||Z==null&&W==null||Ot(e,t,ae,Z,a,W)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ly(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,v=i.duration;if(r&&v&&bm(p)){for(p=0,v=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],G=_.startTime;if(G>v)break;var ee=_.transferSize,ae=_.initiatorType;ee&&bm(ae)&&(_=_.responseEnd,p+=ee*(_<v?1:(v-G)/(_-G)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nf=null,af=null;function Vs(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=null;function Ky(){var e=window.event;return e&&e.type==="popstate"?e===rf?!1:(rf=e,!0):(rf=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Yy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(Xy)}:Sm;function Xy(e){setTimeout(function(){throw e})}function Kl(e){return e==="head"}function jm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ar(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Au(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Au(n);for(var r=n.firstChild;r;){var p=r.nextSibling,v=r.nodeName;r[zn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Au(e.ownerDocument.body);n=i}while(n);Ar(t)}function Nm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function uf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uf(n),Ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Gy(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[zn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function Vy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pn(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pn(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$?"||e.data==="$~"}function of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cf=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,n){switch(t=Vs(n),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Au(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var In=new Map,Om=new Set;function Zs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var il=me.d;me.d={f:Fy,r:Jy,D:$y,C:Wy,L:Py,m:Iy,X:t0,S:e0,M:n0};function Fy(){var e=il.f(),t=Us();return e||t}function Jy(e){var t=Et(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):il.r(e)}var _r=typeof document>"u"?null:document;function Tm(e,t,n){var a=_r;if(a&&typeof t=="string"&&t){var i=en(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Om.has(i)||(Om.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),dn(t,"link",e),Xt(t),a.head.appendChild(t)))}}function $y(e){il.D(e),Tm("dns-prefetch",e,null)}function Wy(e,t){il.C(e,t),Tm("preconnect",e,t)}function Py(e,t,n){il.L(e,t,n);var a=_r;if(a&&e&&t){var i='link[rel="preload"][as="'+en(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+en(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+en(n.imageSizes)+'"]')):i+='[href="'+en(e)+'"]';var r=i;switch(t){case"style":r=Er(e);break;case"script":r=Cr(e)}In.has(r)||(e=B({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ou(r))||t==="script"&&a.querySelector(Tu(r))||(t=a.createElement("link"),dn(t,"link",e),Xt(t),a.head.appendChild(t)))}}function Iy(e,t){il.m(e,t);var n=_r;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+en(a)+'"][href="'+en(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cr(e)}if(!In.has(r)&&(e=B({rel:"modulepreload",href:e},t),In.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tu(r)))return}a=n.createElement("link"),dn(a,"link",e),Xt(a),n.head.appendChild(a)}}}function e0(e,t,n){il.S(e,t,n);var a=_r;if(a&&e){var i=pn(a).hoistableStyles,r=Er(e);t=t||"default";var p=i.get(r);if(!p){var v={loading:0,preload:null};if(p=a.querySelector(Ou(r)))v.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(r))&&ff(e,n);var _=p=a.createElement("link");Xt(_),dn(_,"link",e),_._p=new Promise(function(G,ee){_.onload=G,_.onerror=ee}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Fs(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:v},i.set(r,p)}}}function t0(e,t){il.X(e,t);var n=_r;if(n&&e){var a=pn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Tu(i)),r||(e=B({src:e,async:!0},t),(t=In.get(i))&&df(e,t),r=n.createElement("script"),Xt(r),dn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function n0(e,t){il.M(e,t);var n=_r;if(n&&e){var a=pn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Tu(i)),r||(e=B({src:e,async:!0,type:"module"},t),(t=In.get(i))&&df(e,t),r=n.createElement("script"),Xt(r),dn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Dm(e,t,n,a){var i=(i=ft.current)?Zs(i):null;if(!i)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Er(n.href),n=pn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Er(n.href);var r=pn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ou(e)))&&!r._p&&(p.instance=r,p.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),r||a0(i,e,n,p.state))),t&&a===null)throw Error(f(528,""));return p}if(t&&a!==null)throw Error(f(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=pn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Er(e){return'href="'+en(e)+'"'}function Ou(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function a0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dn(t,"link",n),Xt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+en(e)+'"]'}function Tu(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+en(n.href)+'"]');if(a)return t.instance=a,Xt(a),a;var i=B({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Xt(a),dn(a,"style",i),Fs(a,n.precedence,e),t.instance=a;case"stylesheet":i=Er(n.href);var r=e.querySelector(Ou(i));if(r)return t.state.loading|=4,t.instance=r,Xt(r),r;a=Mm(n),(i=In.get(i))&&ff(a,i),r=(e.ownerDocument||e).createElement("link"),Xt(r);var p=r;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),dn(r,"link",a),t.state.loading|=4,Fs(r,n.precedence,e),t.instance=r;case"script":return r=Cr(n.src),(i=e.querySelector(Tu(r)))?(t.instance=i,Xt(i),i):(a=n,(i=In.get(r))&&(a=B({},n),df(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Xt(i),dn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Fs(a,n.precedence,e));return t.instance}function Fs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var v=a[p];if(v.dataset.precedence===t)r=v;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ff(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function df(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Js=null;function Rm(e,t,n){if(Js===null){var a=new Map,i=Js=new Map;i.set(n,a)}else i=Js,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[zn]||r[zt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var v=a.get(p);v?v.push(r):a.set(p,[r])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function l0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Er(a.href),r=t.querySelector(Ou(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$s.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Xt(r);return}r=t.ownerDocument||t,a=Mm(a),(i=In.get(i))&&ff(a,i),r=r.createElement("link"),Xt(r);var p=r;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),dn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=$s.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var hf=0;function r0(e,t){return e.stylesheets&&e.count===0&&Ps(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Ps(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&hf===0&&(hf=62500*Ly());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ps(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>hf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function $s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ps(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function Ps(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(u0,e),Ws=null,$s.call(e))}function u0(e,t){if(!(t.state.loading&4)){var n=Ws.get(e);if(n)var a=n.get(null);else{n=new Map,Ws.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=$s.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Du={$$typeof:he,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function s0(e,t,n,a,i,r,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,n,a,i,r,p,v,_,G,ee,ae){return e=new s0(e,t,n,p,_,G,ee,ae,v),t=1,r===!0&&(t|=24),r=Bn(3,null,null,t),e.current=r,r.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Jo(r),e}function Um(e){return e?(e=lr,e):lr}function Hm(e,t,n,a,i,r){i=Um(i),a.context===null?a.context=i:a.pendingContext=i,a=Tl(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Dl(e,a,t),n!==null&&(Tn(n,e,t),ou(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Km(e){if(e.tag===13||e.tag===31){var t=wt(e,67108864);t!==null&&Tn(t,e,67108864),mf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Kn();t=Br(t);var n=wt(e,t);n!==null&&Tn(n,e,t),mf(e,t)}}var Is=!0;function o0(e,t,n,a){var i=Y.T;Y.T=null;var r=me.p;try{me.p=2,pf(e,t,n,a)}finally{me.p=r,Y.T=i}}function c0(e,t,n,a){var i=Y.T;Y.T=null;var r=me.p;try{me.p=8,pf(e,t,n,a)}finally{me.p=r,Y.T=i}}function pf(e,t,n,a){if(Is){var i=yf(a);if(i===null)ef(e,t,a,eo,n),Xm(e,a);else if(d0(i,e,t,n,a))a.stopPropagation();else if(Xm(e,a),t&4&&-1<f0.indexOf(e)){for(;i!==null;){var r=Et(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=aa(r.pendingLanes);if(p!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-Me(p);v.entanglements[1]|=_,p&=~_}Ea(r),(xt&6)===0&&(Bs=hn()+500,_u(0))}}break;case 31:case 13:v=wt(r,2),v!==null&&Tn(v,r,2),Us(),mf(r,2)}if(r=yf(a),r===null&&ef(e,t,a,eo,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else ef(e,t,a,null,n)}}function yf(e){return e=Ki(e),gf(e)}var eo=null;function gf(e){if(eo=null,e=ya(e),e!==null){var t=S(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=x(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eo=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fl()){case mn:return 2;case fa:return 8;case cl:case Jl:return 32;case ki:return 268435456;default:return 32}default:return 32}}var bf=!1,Yl=null,Ql=null,Xl=null,Mu=new Map,zu=new Map,Gl=[],f0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":Mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(t.pointerId)}}function Ru(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Et(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d0(e,t,n,a,i){switch(t){case"focusin":return Yl=Ru(Yl,e,t,n,a,i),!0;case"dragenter":return Ql=Ru(Ql,e,t,n,a,i),!0;case"mouseover":return Xl=Ru(Xl,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Mu.set(r,Ru(Mu.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,zu.set(r,Ru(zu.get(r)||null,e,t,n,a,i)),!0}return!1}function Gm(e){var t=ya(e.target);if(t!==null){var n=S(t);if(n!==null){if(t=n.tag,t===13){if(t=x(n),t!==null){e.blockedOn=t,ti(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ti(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Xn=a,n.target.dispatchEvent(a),Xn=null}else return t=Et(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){to(e)&&n.delete(t)}function h0(){bf=!1,Yl!==null&&to(Yl)&&(Yl=null),Ql!==null&&to(Ql)&&(Ql=null),Xl!==null&&to(Xl)&&(Xl=null),Mu.forEach(Vm),zu.forEach(Vm)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,bf||(bf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,h0)))}var ao=null;function Zm(e){ao!==e&&(ao=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(gf(a||n)===null)continue;break}var r=Et(n);r!==null&&(e.splice(t,3),t-=3,pc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ar(e){function t(_){return no(_,e)}Yl!==null&&no(Yl,e),Ql!==null&&no(Ql,e),Xl!==null&&no(Xl,e),Mu.forEach(t),zu.forEach(t);for(var n=0;n<Gl.length;n++){var a=Gl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Gl.length&&(n=Gl[0],n.blockedOn===null);)Gm(n),n.blockedOn===null&&Gl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[Qt]||null;if(typeof r=="function")p||Zm(n);else if(p){var v=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[Qt]||null)v=p.formAction;else if(gf(i)!==null)continue}else v=p.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),Zm(n)}}}function Fm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vf(e){this._internalRoot=e}lo.prototype.render=vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var n=t.current,a=Kn();Hm(n,a,e,t,null,null)},lo.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Us(),t[Sn]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ei();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gl.length&&t!==0&&t<Gl[n].priority;n++);Gl.splice(n,0,e),n===0&&Gm(e)}};var Jm=o.version;if(Jm!=="19.2.4")throw Error(f(527,Jm,"19.2.4"));me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=E(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var m0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{da=io.inject(m0),rn=io}catch{}}return ku.createRoot=function(e,t){if(!g(e))throw Error(f(299));var n=!1,a="",i=nh,r=ah,p=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qm(e,1,!1,null,null,n,a,null,i,r,p,Fm),e[Sn]=t.current,Ic(e),new vf(t)},ku.hydrateRoot=function(e,t,n){if(!g(e))throw Error(f(299));var a=!1,i="",r=nh,p=ah,v=lh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=qm(e,1,!0,t,n??null,a,i,_,r,p,v,Fm),t.context=Um(null),n=t.current,a=Kn(),a=Br(a),i=Tl(a),i.callback=null,Dl(n,i,a),n=a,t.current.lanes=n,Yn(t,n),Ea(t),e[Sn]=t.current,Ic(e),new lo(t)},ku.version="19.2.4",ku}var Im;function D0(){if(Im)return xf.exports;Im=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),xf.exports=T0(),xf.exports}var M0=D0();const ep=s=>{let o;const m=new Set,f=(E,A)=>{const B=typeof E=="function"?E(o):E;if(!Object.is(B,o)){const P=o;o=A??(typeof B!="object"||B===null)?B:Object.assign({},o,B),m.forEach(ye=>ye(o,P))}},g=()=>o,N={setState:f,getState:g,getInitialState:()=>q,subscribe:E=>(m.add(E),()=>m.delete(E))},q=o=s(f,g,N);return N},z0=(s=>s?ep(s):ep),R0=s=>s;function k0(s,o=R0){const m=ro.useSyncExternalStore(s.subscribe,ro.useCallback(()=>o(s.getState()),[s,o]),ro.useCallback(()=>o(s.getInitialState()),[s,o]));return ro.useDebugValue(m),m}const tp=s=>{const o=z0(s),m=f=>k0(o,f);return Object.assign(m,o),m},B0=(s=>s?tp(s):tp);function q0(s,o){let m;try{m=s()}catch{return}return{getItem:g=>{var S;const x=q=>q===null?null:JSON.parse(q,void 0),N=(S=m.getItem(g))!=null?S:null;return N instanceof Promise?N.then(x):x(N)},setItem:(g,S)=>m.setItem(g,JSON.stringify(S,void 0)),removeItem:g=>m.removeItem(g)}}const Af=s=>o=>{try{const m=s(o);return m instanceof Promise?m:{then(f){return Af(f)(m)},catch(f){return this}}}catch(m){return{then(f){return this},catch(f){return Af(f)(m)}}}},U0=(s,o)=>(m,f,g)=>{let S={storage:q0(()=>window.localStorage),partialize:J=>J,version:0,merge:(J,Ae)=>({...Ae,...J}),...o},x=!1,N=0;const q=new Set,E=new Set;let A=S.storage;if(!A)return s((...J)=>{console.warn(`[zustand persist middleware] Unable to update item '${S.name}', the given storage is currently unavailable.`),m(...J)},f,g);const B=()=>{const J=S.partialize({...f()});return A.setItem(S.name,{state:J,version:S.version})},P=g.setState;g.setState=(J,Ae)=>(P(J,Ae),B());const ye=s((...J)=>(m(...J),B()),f,g);g.getInitialState=()=>ye;let X;const le=()=>{var J,Ae;if(!A)return;const fe=++N;x=!1,q.forEach(ce=>{var Te;return ce((Te=f())!=null?Te:ye)});const he=((Ae=S.onRehydrateStorage)==null?void 0:Ae.call(S,(J=f())!=null?J:ye))||void 0;return Af(A.getItem.bind(A))(S.name).then(ce=>{if(ce)if(typeof ce.version=="number"&&ce.version!==S.version){if(S.migrate){const Te=S.migrate(ce.state,ce.version);return Te instanceof Promise?Te.then(de=>[!0,de]):[!0,Te]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ce.state];return[!1,void 0]}).then(ce=>{var Te;if(fe!==N)return;const[de,we]=ce;if(X=S.merge(we,(Te=f())!=null?Te:ye),m(X,!0),de)return B()}).then(()=>{fe===N&&(he?.(X,void 0),X=f(),x=!0,E.forEach(ce=>ce(X)))}).catch(ce=>{fe===N&&he?.(void 0,ce)})};return g.persist={setOptions:J=>{S={...S,...J},J.storage&&(A=J.storage)},clearStorage:()=>{A?.removeItem(S.name)},getOptions:()=>S,rehydrate:()=>le(),hasHydrated:()=>x,onHydrate:J=>(q.add(J),()=>{q.delete(J)}),onFinishHydration:J=>(E.add(J),()=>{E.delete(J)})},S.skipHydration||le(),X||ye},H0=U0,ol=B0(H0(s=>({token:null,setToken:o=>s({token:o}),logout:()=>s({token:null})}),{name:"wisemark-auth",partialize:s=>({token:s.token})}));function Cp(s,o){return function(){return s.apply(o,arguments)}}const{toString:L0}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:xo,toStringTag:Ap}=Symbol,So=(s=>o=>{const m=L0.call(o);return s[m]||(s[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),ca=s=>(s=s.toLowerCase(),o=>So(o)===s),wo=s=>o=>typeof o===s,{isArray:Rr}=Array,Tr=wo("undefined");function Yu(s){return s!==null&&!Tr(s)&&s.constructor!==null&&!Tr(s.constructor)&&Dn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Op=ca("ArrayBuffer");function K0(s){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(s):o=s&&s.buffer&&Op(s.buffer),o}const Y0=wo("string"),Dn=wo("function"),Tp=wo("number"),Qu=s=>s!==null&&typeof s=="object",Q0=s=>s===!0||s===!1,oo=s=>{if(So(s)!=="object")return!1;const o=Hf(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Ap in s)&&!(xo in s)},X0=s=>{if(!Qu(s)||Yu(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},G0=ca("Date"),V0=ca("File"),Z0=ca("Blob"),F0=ca("FileList"),J0=s=>Qu(s)&&Dn(s.pipe),$0=s=>{let o;return s&&(typeof FormData=="function"&&s instanceof FormData||Dn(s.append)&&((o=So(s))==="formdata"||o==="object"&&Dn(s.toString)&&s.toString()==="[object FormData]"))},W0=ca("URLSearchParams"),[P0,I0,eg,tg]=["ReadableStream","Request","Response","Headers"].map(ca),ng=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xu(s,o,{allOwnKeys:m=!1}={}){if(s===null||typeof s>"u")return;let f,g;if(typeof s!="object"&&(s=[s]),Rr(s))for(f=0,g=s.length;f<g;f++)o.call(null,s[f],f,s);else{if(Yu(s))return;const S=m?Object.getOwnPropertyNames(s):Object.keys(s),x=S.length;let N;for(f=0;f<x;f++)N=S[f],o.call(null,s[N],N,s)}}function Dp(s,o){if(Yu(s))return null;o=o.toLowerCase();const m=Object.keys(s);let f=m.length,g;for(;f-- >0;)if(g=m[f],o===g.toLowerCase())return g;return null}const Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mp=s=>!Tr(s)&&s!==Ai;function Of(){const{caseless:s,skipUndefined:o}=Mp(this)&&this||{},m={},f=(g,S)=>{if(S==="__proto__"||S==="constructor"||S==="prototype")return;const x=s&&Dp(m,S)||S;oo(m[x])&&oo(g)?m[x]=Of(m[x],g):oo(g)?m[x]=Of({},g):Rr(g)?m[x]=g.slice():(!o||!Tr(g))&&(m[x]=g)};for(let g=0,S=arguments.length;g<S;g++)arguments[g]&&Xu(arguments[g],f);return m}const ag=(s,o,m,{allOwnKeys:f}={})=>(Xu(o,(g,S)=>{m&&Dn(g)?Object.defineProperty(s,S,{value:Cp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,S,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:f}),s),lg=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),ig=(s,o,m,f)=>{s.prototype=Object.create(o.prototype,f),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:o.prototype}),m&&Object.assign(s.prototype,m)},rg=(s,o,m,f)=>{let g,S,x;const N={};if(o=o||{},s==null)return o;do{for(g=Object.getOwnPropertyNames(s),S=g.length;S-- >0;)x=g[S],(!f||f(x,s,o))&&!N[x]&&(o[x]=s[x],N[x]=!0);s=m!==!1&&Hf(s)}while(s&&(!m||m(s,o))&&s!==Object.prototype);return o},ug=(s,o,m)=>{s=String(s),(m===void 0||m>s.length)&&(m=s.length),m-=o.length;const f=s.indexOf(o,m);return f!==-1&&f===m},sg=s=>{if(!s)return null;if(Rr(s))return s;let o=s.length;if(!Tp(o))return null;const m=new Array(o);for(;o-- >0;)m[o]=s[o];return m},og=(s=>o=>s&&o instanceof s)(typeof Uint8Array<"u"&&Hf(Uint8Array)),cg=(s,o)=>{const f=(s&&s[xo]).call(s);let g;for(;(g=f.next())&&!g.done;){const S=g.value;o.call(s,S[0],S[1])}},fg=(s,o)=>{let m;const f=[];for(;(m=s.exec(o))!==null;)f.push(m);return f},dg=ca("HTMLFormElement"),hg=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,f,g){return f.toUpperCase()+g}),np=(({hasOwnProperty:s})=>(o,m)=>s.call(o,m))(Object.prototype),mg=ca("RegExp"),zp=(s,o)=>{const m=Object.getOwnPropertyDescriptors(s),f={};Xu(m,(g,S)=>{let x;(x=o(g,S,s))!==!1&&(f[S]=x||g)}),Object.defineProperties(s,f)},pg=s=>{zp(s,(o,m)=>{if(Dn(s)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const f=s[m];if(Dn(f)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},yg=(s,o)=>{const m={},f=g=>{g.forEach(S=>{m[S]=!0})};return Rr(s)?f(s):f(String(s).split(o)),m},gg=()=>{},bg=(s,o)=>s!=null&&Number.isFinite(s=+s)?s:o;function vg(s){return!!(s&&Dn(s.append)&&s[Ap]==="FormData"&&s[xo])}const xg=s=>{const o=new Array(10),m=(f,g)=>{if(Qu(f)){if(o.indexOf(f)>=0)return;if(Yu(f))return f;if(!("toJSON"in f)){o[g]=f;const S=Rr(f)?[]:{};return Xu(f,(x,N)=>{const q=m(x,g+1);!Tr(q)&&(S[N]=q)}),o[g]=void 0,S}}return f};return m(s,0)},Sg=ca("AsyncFunction"),wg=s=>s&&(Qu(s)||Dn(s))&&Dn(s.then)&&Dn(s.catch),Rp=((s,o)=>s?setImmediate:o?((m,f)=>(Ai.addEventListener("message",({source:g,data:S})=>{g===Ai&&S===m&&f.length&&f.shift()()},!1),g=>{f.push(g),Ai.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Dn(Ai.postMessage)),jg=typeof queueMicrotask<"u"?queueMicrotask.bind(Ai):typeof process<"u"&&process.nextTick||Rp,Ng=s=>s!=null&&Dn(s[xo]),$={isArray:Rr,isArrayBuffer:Op,isBuffer:Yu,isFormData:$0,isArrayBufferView:K0,isString:Y0,isNumber:Tp,isBoolean:Q0,isObject:Qu,isPlainObject:oo,isEmptyObject:X0,isReadableStream:P0,isRequest:I0,isResponse:eg,isHeaders:tg,isUndefined:Tr,isDate:G0,isFile:V0,isBlob:Z0,isRegExp:mg,isFunction:Dn,isStream:J0,isURLSearchParams:W0,isTypedArray:og,isFileList:F0,forEach:Xu,merge:Of,extend:ag,trim:ng,stripBOM:lg,inherits:ig,toFlatObject:rg,kindOf:So,kindOfTest:ca,endsWith:ug,toArray:sg,forEachEntry:cg,matchAll:fg,isHTMLForm:dg,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:zp,freezeMethods:pg,toObjectSet:yg,toCamelCase:hg,noop:gg,toFiniteNumber:bg,findKey:Dp,global:Ai,isContextDefined:Mp,isSpecCompliantForm:vg,toJSONObject:xg,isAsyncFn:Sg,isThenable:wg,setImmediate:Rp,asap:jg,isIterable:Ng};let $e=class kp extends Error{static from(o,m,f,g,S,x){const N=new kp(o.message,m||o.code,f,g,S);return N.cause=o,N.name=o.name,x&&Object.assign(N,x),N}constructor(o,m,f,g,S){super(o),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),f&&(this.config=f),g&&(this.request=g),S&&(this.response=S,this.status=S.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}};$e.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";$e.ERR_BAD_OPTION="ERR_BAD_OPTION";$e.ECONNABORTED="ECONNABORTED";$e.ETIMEDOUT="ETIMEDOUT";$e.ERR_NETWORK="ERR_NETWORK";$e.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";$e.ERR_DEPRECATED="ERR_DEPRECATED";$e.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";$e.ERR_BAD_REQUEST="ERR_BAD_REQUEST";$e.ERR_CANCELED="ERR_CANCELED";$e.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";$e.ERR_INVALID_URL="ERR_INVALID_URL";const _g=null;function Tf(s){return $.isPlainObject(s)||$.isArray(s)}function Bp(s){return $.endsWith(s,"[]")?s.slice(0,-2):s}function ap(s,o,m){return s?s.concat(o).map(function(g,S){return g=Bp(g),!m&&S?"["+g+"]":g}).join(m?".":""):o}function Eg(s){return $.isArray(s)&&!s.some(Tf)}const Cg=$.toFlatObject($,{},null,function(o){return/^is[A-Z]/.test(o)});function jo(s,o,m){if(!$.isObject(s))throw new TypeError("target must be an object");o=o||new FormData,m=$.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(le,J){return!$.isUndefined(J[le])});const f=m.metaTokens,g=m.visitor||A,S=m.dots,x=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(o);if(!$.isFunction(g))throw new TypeError("visitor must be a function");function E(X){if(X===null)return"";if($.isDate(X))return X.toISOString();if($.isBoolean(X))return X.toString();if(!q&&$.isBlob(X))throw new $e("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(X)||$.isTypedArray(X)?q&&typeof Blob=="function"?new Blob([X]):Buffer.from(X):X}function A(X,le,J){let Ae=X;if(X&&!J&&typeof X=="object"){if($.endsWith(le,"{}"))le=f?le:le.slice(0,-2),X=JSON.stringify(X);else if($.isArray(X)&&Eg(X)||($.isFileList(X)||$.endsWith(le,"[]"))&&(Ae=$.toArray(X)))return le=Bp(le),Ae.forEach(function(he,ce){!($.isUndefined(he)||he===null)&&o.append(x===!0?ap([le],ce,S):x===null?le:le+"[]",E(he))}),!1}return Tf(X)?!0:(o.append(ap(J,le,S),E(X)),!1)}const B=[],P=Object.assign(Cg,{defaultVisitor:A,convertValue:E,isVisitable:Tf});function ye(X,le){if(!$.isUndefined(X)){if(B.indexOf(X)!==-1)throw Error("Circular reference detected in "+le.join("."));B.push(X),$.forEach(X,function(Ae,fe){(!($.isUndefined(Ae)||Ae===null)&&g.call(o,Ae,$.isString(fe)?fe.trim():fe,le,P))===!0&&ye(Ae,le?le.concat(fe):[fe])}),B.pop()}}if(!$.isObject(s))throw new TypeError("data must be an object");return ye(s),o}function lp(s){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(f){return o[f]})}function Lf(s,o){this._pairs=[],s&&jo(s,this,o)}const qp=Lf.prototype;qp.append=function(o,m){this._pairs.push([o,m])};qp.toString=function(o){const m=o?function(f){return o.call(this,f,lp)}:lp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Ag(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Up(s,o,m){if(!o)return s;const f=m&&m.encode||Ag,g=$.isFunction(m)?{serialize:m}:m,S=g&&g.serialize;let x;if(S?x=S(o,g):x=$.isURLSearchParams(o)?o.toString():new Lf(o,g).toString(f),x){const N=s.indexOf("#");N!==-1&&(s=s.slice(0,N)),s+=(s.indexOf("?")===-1?"?":"&")+x}return s}class ip{constructor(){this.handlers=[]}use(o,m,f){return this.handlers.push({fulfilled:o,rejected:m,synchronous:f?f.synchronous:!1,runWhen:f?f.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){$.forEach(this.handlers,function(f){f!==null&&o(f)})}}const Kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Og=typeof URLSearchParams<"u"?URLSearchParams:Lf,Tg=typeof FormData<"u"?FormData:null,Dg=typeof Blob<"u"?Blob:null,Mg={isBrowser:!0,classes:{URLSearchParams:Og,FormData:Tg,Blob:Dg},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Df=typeof navigator=="object"&&navigator||void 0,zg=Yf&&(!Df||["ReactNative","NativeScript","NS"].indexOf(Df.product)<0),Rg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kg=Yf&&window.location.href||"http://localhost",Bg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:zg,hasStandardBrowserWebWorkerEnv:Rg,navigator:Df,origin:kg},Symbol.toStringTag,{value:"Module"})),vn={...Bg,...Mg};function qg(s,o){return jo(s,new vn.classes.URLSearchParams,{visitor:function(m,f,g,S){return vn.isNode&&$.isBuffer(m)?(this.append(f,m.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)},...o})}function Ug(s){return $.matchAll(/\w+|\[(\w*)]/g,s).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Hg(s){const o={},m=Object.keys(s);let f;const g=m.length;let S;for(f=0;f<g;f++)S=m[f],o[S]=s[S];return o}function Hp(s){function o(m,f,g,S){let x=m[S++];if(x==="__proto__")return!0;const N=Number.isFinite(+x),q=S>=m.length;return x=!x&&$.isArray(g)?g.length:x,q?($.hasOwnProp(g,x)?g[x]=[g[x],f]:g[x]=f,!N):((!g[x]||!$.isObject(g[x]))&&(g[x]=[]),o(m,f,g[x],S)&&$.isArray(g[x])&&(g[x]=Hg(g[x])),!N)}if($.isFormData(s)&&$.isFunction(s.entries)){const m={};return $.forEachEntry(s,(f,g)=>{o(Ug(f),g,m,0)}),m}return null}function Lg(s,o,m){if($.isString(s))try{return(o||JSON.parse)(s),$.trim(s)}catch(f){if(f.name!=="SyntaxError")throw f}return(m||JSON.stringify)(s)}const Gu={transitional:Kf,adapter:["xhr","http","fetch"],transformRequest:[function(o,m){const f=m.getContentType()||"",g=f.indexOf("application/json")>-1,S=$.isObject(o);if(S&&$.isHTMLForm(o)&&(o=new FormData(o)),$.isFormData(o))return g?JSON.stringify(Hp(o)):o;if($.isArrayBuffer(o)||$.isBuffer(o)||$.isStream(o)||$.isFile(o)||$.isBlob(o)||$.isReadableStream(o))return o;if($.isArrayBufferView(o))return o.buffer;if($.isURLSearchParams(o))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let N;if(S){if(f.indexOf("application/x-www-form-urlencoded")>-1)return qg(o,this.formSerializer).toString();if((N=$.isFileList(o))||f.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return jo(N?{"files[]":o}:o,q&&new q,this.formSerializer)}}return S||g?(m.setContentType("application/json",!1),Lg(o)):o}],transformResponse:[function(o){const m=this.transitional||Gu.transitional,f=m&&m.forcedJSONParsing,g=this.responseType==="json";if($.isResponse(o)||$.isReadableStream(o))return o;if(o&&$.isString(o)&&(f&&!this.responseType||g)){const x=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(o,this.parseReviver)}catch(N){if(x)throw N.name==="SyntaxError"?$e.from(N,$e.ERR_BAD_RESPONSE,this,null,this.response):N}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],s=>{Gu.headers[s]={}});const Kg=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yg=s=>{const o={};let m,f,g;return s&&s.split(`
`).forEach(function(x){g=x.indexOf(":"),m=x.substring(0,g).trim().toLowerCase(),f=x.substring(g+1).trim(),!(!m||o[m]&&Kg[m])&&(m==="set-cookie"?o[m]?o[m].push(f):o[m]=[f]:o[m]=o[m]?o[m]+", "+f:f)}),o},rp=Symbol("internals");function Bu(s){return s&&String(s).trim().toLowerCase()}function co(s){return s===!1||s==null?s:$.isArray(s)?s.map(co):String(s)}function Qg(s){const o=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let f;for(;f=m.exec(s);)o[f[1]]=f[2];return o}const Xg=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function jf(s,o,m,f,g){if($.isFunction(f))return f.call(this,o,m);if(g&&(o=m),!!$.isString(o)){if($.isString(f))return o.indexOf(f)!==-1;if($.isRegExp(f))return f.test(o)}}function Gg(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,m,f)=>m.toUpperCase()+f)}function Vg(s,o){const m=$.toCamelCase(" "+o);["get","set","has"].forEach(f=>{Object.defineProperty(s,f+m,{value:function(g,S,x){return this[f].call(this,o,g,S,x)},configurable:!0})})}let Mn=class{constructor(o){o&&this.set(o)}set(o,m,f){const g=this;function S(N,q,E){const A=Bu(q);if(!A)throw new Error("header name must be a non-empty string");const B=$.findKey(g,A);(!B||g[B]===void 0||E===!0||E===void 0&&g[B]!==!1)&&(g[B||q]=co(N))}const x=(N,q)=>$.forEach(N,(E,A)=>S(E,A,q));if($.isPlainObject(o)||o instanceof this.constructor)x(o,m);else if($.isString(o)&&(o=o.trim())&&!Xg(o))x(Yg(o),m);else if($.isObject(o)&&$.isIterable(o)){let N={},q,E;for(const A of o){if(!$.isArray(A))throw TypeError("Object iterator must return a key-value pair");N[E=A[0]]=(q=N[E])?$.isArray(q)?[...q,A[1]]:[q,A[1]]:A[1]}x(N,m)}else o!=null&&S(m,o,f);return this}get(o,m){if(o=Bu(o),o){const f=$.findKey(this,o);if(f){const g=this[f];if(!m)return g;if(m===!0)return Qg(g);if($.isFunction(m))return m.call(this,g,f);if($.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,m){if(o=Bu(o),o){const f=$.findKey(this,o);return!!(f&&this[f]!==void 0&&(!m||jf(this,this[f],f,m)))}return!1}delete(o,m){const f=this;let g=!1;function S(x){if(x=Bu(x),x){const N=$.findKey(f,x);N&&(!m||jf(f,f[N],N,m))&&(delete f[N],g=!0)}}return $.isArray(o)?o.forEach(S):S(o),g}clear(o){const m=Object.keys(this);let f=m.length,g=!1;for(;f--;){const S=m[f];(!o||jf(this,this[S],S,o,!0))&&(delete this[S],g=!0)}return g}normalize(o){const m=this,f={};return $.forEach(this,(g,S)=>{const x=$.findKey(f,S);if(x){m[x]=co(g),delete m[S];return}const N=o?Gg(S):String(S).trim();N!==S&&delete m[S],m[N]=co(g),f[N]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const m=Object.create(null);return $.forEach(this,(f,g)=>{f!=null&&f!==!1&&(m[g]=o&&$.isArray(f)?f.join(", "):f)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,m])=>o+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...m){const f=new this(o);return m.forEach(g=>f.set(g)),f}static accessor(o){const f=(this[rp]=this[rp]={accessors:{}}).accessors,g=this.prototype;function S(x){const N=Bu(x);f[N]||(Vg(g,x),f[N]=!0)}return $.isArray(o)?o.forEach(S):S(o),this}};Mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Mn.prototype,({value:s},o)=>{let m=o[0].toUpperCase()+o.slice(1);return{get:()=>s,set(f){this[m]=f}}});$.freezeMethods(Mn);function Nf(s,o){const m=this||Gu,f=o||m,g=Mn.from(f.headers);let S=f.data;return $.forEach(s,function(N){S=N.call(m,S,g.normalize(),o?o.status:void 0)}),g.normalize(),S}function Lp(s){return!!(s&&s.__CANCEL__)}let Vu=class extends $e{constructor(o,m,f){super(o??"canceled",$e.ERR_CANCELED,m,f),this.name="CanceledError",this.__CANCEL__=!0}};function Kp(s,o,m){const f=m.config.validateStatus;!m.status||!f||f(m.status)?s(m):o(new $e("Request failed with status code "+m.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Zg(s){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return o&&o[1]||""}function Fg(s,o){s=s||10;const m=new Array(s),f=new Array(s);let g=0,S=0,x;return o=o!==void 0?o:1e3,function(q){const E=Date.now(),A=f[S];x||(x=E),m[g]=q,f[g]=E;let B=S,P=0;for(;B!==g;)P+=m[B++],B=B%s;if(g=(g+1)%s,g===S&&(S=(S+1)%s),E-x<o)return;const ye=A&&E-A;return ye?Math.round(P*1e3/ye):void 0}}function Jg(s,o){let m=0,f=1e3/o,g,S;const x=(E,A=Date.now())=>{m=A,g=null,S&&(clearTimeout(S),S=null),s(...E)};return[(...E)=>{const A=Date.now(),B=A-m;B>=f?x(E,A):(g=E,S||(S=setTimeout(()=>{S=null,x(g)},f-B)))},()=>g&&x(g)]}const po=(s,o,m=3)=>{let f=0;const g=Fg(50,250);return Jg(S=>{const x=S.loaded,N=S.lengthComputable?S.total:void 0,q=x-f,E=g(q),A=x<=N;f=x;const B={loaded:x,total:N,progress:N?x/N:void 0,bytes:q,rate:E||void 0,estimated:E&&N&&A?(N-x)/E:void 0,event:S,lengthComputable:N!=null,[o?"download":"upload"]:!0};s(B)},m)},up=(s,o)=>{const m=s!=null;return[f=>o[0]({lengthComputable:m,total:s,loaded:f}),o[1]]},sp=s=>(...o)=>$.asap(()=>s(...o)),$g=vn.hasStandardBrowserEnv?((s,o)=>m=>(m=new URL(m,vn.origin),s.protocol===m.protocol&&s.host===m.host&&(o||s.port===m.port)))(new URL(vn.origin),vn.navigator&&/(msie|trident)/i.test(vn.navigator.userAgent)):()=>!0,Wg=vn.hasStandardBrowserEnv?{write(s,o,m,f,g,S,x){if(typeof document>"u")return;const N=[`${s}=${encodeURIComponent(o)}`];$.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),$.isString(f)&&N.push(`path=${f}`),$.isString(g)&&N.push(`domain=${g}`),S===!0&&N.push("secure"),$.isString(x)&&N.push(`SameSite=${x}`),document.cookie=N.join("; ")},read(s){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Pg(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Ig(s,o){return o?s.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):s}function Yp(s,o,m){let f=!Pg(o);return s&&(f||m==!1)?Ig(s,o):o}const op=s=>s instanceof Mn?{...s}:s;function zi(s,o){o=o||{};const m={};function f(E,A,B,P){return $.isPlainObject(E)&&$.isPlainObject(A)?$.merge.call({caseless:P},E,A):$.isPlainObject(A)?$.merge({},A):$.isArray(A)?A.slice():A}function g(E,A,B,P){if($.isUndefined(A)){if(!$.isUndefined(E))return f(void 0,E,B,P)}else return f(E,A,B,P)}function S(E,A){if(!$.isUndefined(A))return f(void 0,A)}function x(E,A){if($.isUndefined(A)){if(!$.isUndefined(E))return f(void 0,E)}else return f(void 0,A)}function N(E,A,B){if(B in o)return f(E,A);if(B in s)return f(void 0,E)}const q={url:S,method:S,data:S,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:N,headers:(E,A,B)=>g(op(E),op(A),B,!0)};return $.forEach(Object.keys({...s,...o}),function(A){if(A==="__proto__"||A==="constructor"||A==="prototype")return;const B=$.hasOwnProp(q,A)?q[A]:g,P=B(s[A],o[A],A);$.isUndefined(P)&&B!==N||(m[A]=P)}),m}const Qp=s=>{const o=zi({},s);let{data:m,withXSRFToken:f,xsrfHeaderName:g,xsrfCookieName:S,headers:x,auth:N}=o;if(o.headers=x=Mn.from(x),o.url=Up(Yp(o.baseURL,o.url,o.allowAbsoluteUrls),s.params,s.paramsSerializer),N&&x.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),$.isFormData(m)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if($.isFunction(m.getHeaders)){const q=m.getHeaders(),E=["content-type","content-length"];Object.entries(q).forEach(([A,B])=>{E.includes(A.toLowerCase())&&x.set(A,B)})}}if(vn.hasStandardBrowserEnv&&(f&&$.isFunction(f)&&(f=f(o)),f||f!==!1&&$g(o.url))){const q=g&&S&&Wg.read(S);q&&x.set(g,q)}return o},eb=typeof XMLHttpRequest<"u",tb=eb&&function(s){return new Promise(function(m,f){const g=Qp(s);let S=g.data;const x=Mn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:E}=g,A,B,P,ye,X;function le(){ye&&ye(),X&&X(),g.cancelToken&&g.cancelToken.unsubscribe(A),g.signal&&g.signal.removeEventListener("abort",A)}let J=new XMLHttpRequest;J.open(g.method.toUpperCase(),g.url,!0),J.timeout=g.timeout;function Ae(){if(!J)return;const he=Mn.from("getAllResponseHeaders"in J&&J.getAllResponseHeaders()),Te={data:!N||N==="text"||N==="json"?J.responseText:J.response,status:J.status,statusText:J.statusText,headers:he,config:s,request:J};Kp(function(we){m(we),le()},function(we){f(we),le()},Te),J=null}"onloadend"in J?J.onloadend=Ae:J.onreadystatechange=function(){!J||J.readyState!==4||J.status===0&&!(J.responseURL&&J.responseURL.indexOf("file:")===0)||setTimeout(Ae)},J.onabort=function(){J&&(f(new $e("Request aborted",$e.ECONNABORTED,s,J)),J=null)},J.onerror=function(ce){const Te=ce&&ce.message?ce.message:"Network Error",de=new $e(Te,$e.ERR_NETWORK,s,J);de.event=ce||null,f(de),J=null},J.ontimeout=function(){let ce=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const Te=g.transitional||Kf;g.timeoutErrorMessage&&(ce=g.timeoutErrorMessage),f(new $e(ce,Te.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,s,J)),J=null},S===void 0&&x.setContentType(null),"setRequestHeader"in J&&$.forEach(x.toJSON(),function(ce,Te){J.setRequestHeader(Te,ce)}),$.isUndefined(g.withCredentials)||(J.withCredentials=!!g.withCredentials),N&&N!=="json"&&(J.responseType=g.responseType),E&&([P,X]=po(E,!0),J.addEventListener("progress",P)),q&&J.upload&&([B,ye]=po(q),J.upload.addEventListener("progress",B),J.upload.addEventListener("loadend",ye)),(g.cancelToken||g.signal)&&(A=he=>{J&&(f(!he||he.type?new Vu(null,s,J):he),J.abort(),J=null)},g.cancelToken&&g.cancelToken.subscribe(A),g.signal&&(g.signal.aborted?A():g.signal.addEventListener("abort",A)));const fe=Zg(g.url);if(fe&&vn.protocols.indexOf(fe)===-1){f(new $e("Unsupported protocol "+fe+":",$e.ERR_BAD_REQUEST,s));return}J.send(S||null)})},nb=(s,o)=>{const{length:m}=s=s?s.filter(Boolean):[];if(o||m){let f=new AbortController,g;const S=function(E){if(!g){g=!0,N();const A=E instanceof Error?E:this.reason;f.abort(A instanceof $e?A:new Vu(A instanceof Error?A.message:A))}};let x=o&&setTimeout(()=>{x=null,S(new $e(`timeout of ${o}ms exceeded`,$e.ETIMEDOUT))},o);const N=()=>{s&&(x&&clearTimeout(x),x=null,s.forEach(E=>{E.unsubscribe?E.unsubscribe(S):E.removeEventListener("abort",S)}),s=null)};s.forEach(E=>E.addEventListener("abort",S));const{signal:q}=f;return q.unsubscribe=()=>$.asap(N),q}},ab=function*(s,o){let m=s.byteLength;if(m<o){yield s;return}let f=0,g;for(;f<m;)g=f+o,yield s.slice(f,g),f=g},lb=async function*(s,o){for await(const m of ib(s))yield*ab(m,o)},ib=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const o=s.getReader();try{for(;;){const{done:m,value:f}=await o.read();if(m)break;yield f}}finally{await o.cancel()}},cp=(s,o,m,f)=>{const g=lb(s,o);let S=0,x,N=q=>{x||(x=!0,f&&f(q))};return new ReadableStream({async pull(q){try{const{done:E,value:A}=await g.next();if(E){N(),q.close();return}let B=A.byteLength;if(m){let P=S+=B;m(P)}q.enqueue(new Uint8Array(A))}catch(E){throw N(E),E}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:uo}=$,rb=(({Request:s,Response:o})=>({Request:s,Response:o}))($.global),{ReadableStream:dp,TextEncoder:hp}=$.global,mp=(s,...o)=>{try{return!!s(...o)}catch{return!1}},ub=s=>{s=$.merge.call({skipUndefined:!0},rb,s);const{fetch:o,Request:m,Response:f}=s,g=o?uo(o):typeof fetch=="function",S=uo(m),x=uo(f);if(!g)return!1;const N=g&&uo(dp),q=g&&(typeof hp=="function"?(X=>le=>X.encode(le))(new hp):async X=>new Uint8Array(await new m(X).arrayBuffer())),E=S&&N&&mp(()=>{let X=!1;const le=new m(vn.origin,{body:new dp,method:"POST",get duplex(){return X=!0,"half"}}).headers.has("Content-Type");return X&&!le}),A=x&&N&&mp(()=>$.isReadableStream(new f("").body)),B={stream:A&&(X=>X.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(X=>{!B[X]&&(B[X]=(le,J)=>{let Ae=le&&le[X];if(Ae)return Ae.call(le);throw new $e(`Response type '${X}' is not supported`,$e.ERR_NOT_SUPPORT,J)})});const P=async X=>{if(X==null)return 0;if($.isBlob(X))return X.size;if($.isSpecCompliantForm(X))return(await new m(vn.origin,{method:"POST",body:X}).arrayBuffer()).byteLength;if($.isArrayBufferView(X)||$.isArrayBuffer(X))return X.byteLength;if($.isURLSearchParams(X)&&(X=X+""),$.isString(X))return(await q(X)).byteLength},ye=async(X,le)=>{const J=$.toFiniteNumber(X.getContentLength());return J??P(le)};return async X=>{let{url:le,method:J,data:Ae,signal:fe,cancelToken:he,timeout:ce,onDownloadProgress:Te,onUploadProgress:de,responseType:we,headers:Pe,withCredentials:Xe="same-origin",fetchOptions:Ne}=Qp(X),tt=o||fetch;we=we?(we+"").toLowerCase():"text";let ke=nb([fe,he&&he.toAbortSignal()],ce),Fe=null;const je=ke&&ke.unsubscribe&&(()=>{ke.unsubscribe()});let Ve;try{if(de&&E&&J!=="get"&&J!=="head"&&(Ve=await ye(Pe,Ae))!==0){let be=new m(le,{method:"POST",body:Ae,duplex:"half"}),_e;if($.isFormData(Ae)&&(_e=be.headers.get("content-type"))&&Pe.setContentType(_e),be.body){const[De,Ke]=up(Ve,po(sp(de)));Ae=cp(be.body,fp,De,Ke)}}$.isString(Xe)||(Xe=Xe?"include":"omit");const Y=S&&"credentials"in m.prototype,me={...Ne,signal:ke,method:J.toUpperCase(),headers:Pe.normalize().toJSON(),body:Ae,duplex:"half",credentials:Y?Xe:void 0};Fe=S&&new m(le,me);let ge=await(S?tt(Fe,Ne):tt(le,me));const Ee=A&&(we==="stream"||we==="response");if(A&&(Te||Ee&&je)){const be={};["status","statusText","headers"].forEach(Je=>{be[Je]=ge[Je]});const _e=$.toFiniteNumber(ge.headers.get("content-length")),[De,Ke]=Te&&up(_e,po(sp(Te),!0))||[];ge=new f(cp(ge.body,fp,De,()=>{Ke&&Ke(),je&&je()}),be)}we=we||"text";let Be=await B[$.findKey(B,we)||"text"](ge,X);return!Ee&&je&&je(),await new Promise((be,_e)=>{Kp(be,_e,{data:Be,headers:Mn.from(ge.headers),status:ge.status,statusText:ge.statusText,config:X,request:Fe})})}catch(Y){throw je&&je(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,X,Fe,Y&&Y.response),{cause:Y.cause||Y}):$e.from(Y,Y&&Y.code,X,Fe,Y&&Y.response)}}},sb=new Map,Xp=s=>{let o=s&&s.env||{};const{fetch:m,Request:f,Response:g}=o,S=[f,g,m];let x=S.length,N=x,q,E,A=sb;for(;N--;)q=S[N],E=A.get(q),E===void 0&&A.set(q,E=N?new Map:ub(o)),A=E;return E};Xp();const Qf={http:_g,xhr:tb,fetch:{get:Xp}};$.forEach(Qf,(s,o)=>{if(s){try{Object.defineProperty(s,"name",{value:o})}catch{}Object.defineProperty(s,"adapterName",{value:o})}});const pp=s=>`- ${s}`,ob=s=>$.isFunction(s)||s===null||s===!1;function cb(s,o){s=$.isArray(s)?s:[s];const{length:m}=s;let f,g;const S={};for(let x=0;x<m;x++){f=s[x];let N;if(g=f,!ob(f)&&(g=Qf[(N=String(f)).toLowerCase()],g===void 0))throw new $e(`Unknown adapter '${N}'`);if(g&&($.isFunction(g)||(g=g.get(o))))break;S[N||"#"+x]=g}if(!g){const x=Object.entries(S).map(([q,E])=>`adapter ${q} `+(E===!1?"is not supported by the environment":"is not available in the build"));let N=m?x.length>1?`since :
`+x.map(pp).join(`
`):" "+pp(x[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const Gp={getAdapter:cb,adapters:Qf};function _f(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Vu(null,s)}function yp(s){return _f(s),s.headers=Mn.from(s.headers),s.data=Nf.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Gp.getAdapter(s.adapter||Gu.adapter,s)(s).then(function(f){return _f(s),f.data=Nf.call(s,s.transformResponse,f),f.headers=Mn.from(f.headers),f},function(f){return Lp(f)||(_f(s),f&&f.response&&(f.response.data=Nf.call(s,s.transformResponse,f.response),f.response.headers=Mn.from(f.response.headers))),Promise.reject(f)})}const Vp="1.13.5",No={};["object","boolean","number","function","string","symbol"].forEach((s,o)=>{No[s]=function(f){return typeof f===s||"a"+(o<1?"n ":" ")+s}});const gp={};No.transitional=function(o,m,f){function g(S,x){return"[Axios v"+Vp+"] Transitional option '"+S+"'"+x+(f?". "+f:"")}return(S,x,N)=>{if(o===!1)throw new $e(g(x," has been removed"+(m?" in "+m:"")),$e.ERR_DEPRECATED);return m&&!gp[x]&&(gp[x]=!0,console.warn(g(x," has been deprecated since v"+m+" and will be removed in the near future"))),o?o(S,x,N):!0}};No.spelling=function(o){return(m,f)=>(console.warn(`${f} is likely a misspelling of ${o}`),!0)};function fb(s,o,m){if(typeof s!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const f=Object.keys(s);let g=f.length;for(;g-- >0;){const S=f[g],x=o[S];if(x){const N=s[S],q=N===void 0||x(N,S,s);if(q!==!0)throw new $e("option "+S+" must be "+q,$e.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new $e("Unknown option "+S,$e.ERR_BAD_OPTION)}}const fo={assertOptions:fb,validators:No},ea=fo.validators;let Di=class{constructor(o){this.defaults=o||{},this.interceptors={request:new ip,response:new ip}}async request(o,m){try{return await this._request(o,m)}catch(f){if(f instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const S=g.stack?g.stack.replace(/^.+\n/,""):"";try{f.stack?S&&!String(f.stack).endsWith(S.replace(/^.+\n.+\n/,""))&&(f.stack+=`
`+S):f.stack=S}catch{}}throw f}}_request(o,m){typeof o=="string"?(m=m||{},m.url=o):m=o||{},m=zi(this.defaults,m);const{transitional:f,paramsSerializer:g,headers:S}=m;f!==void 0&&fo.assertOptions(f,{silentJSONParsing:ea.transitional(ea.boolean),forcedJSONParsing:ea.transitional(ea.boolean),clarifyTimeoutError:ea.transitional(ea.boolean),legacyInterceptorReqResOrdering:ea.transitional(ea.boolean)},!1),g!=null&&($.isFunction(g)?m.paramsSerializer={serialize:g}:fo.assertOptions(g,{encode:ea.function,serialize:ea.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),fo.assertOptions(m,{baseUrl:ea.spelling("baseURL"),withXsrfToken:ea.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let x=S&&$.merge(S.common,S[m.method]);S&&$.forEach(["delete","get","head","post","put","patch","common"],X=>{delete S[X]}),m.headers=Mn.concat(x,S);const N=[];let q=!0;this.interceptors.request.forEach(function(le){if(typeof le.runWhen=="function"&&le.runWhen(m)===!1)return;q=q&&le.synchronous;const J=m.transitional||Kf;J&&J.legacyInterceptorReqResOrdering?N.unshift(le.fulfilled,le.rejected):N.push(le.fulfilled,le.rejected)});const E=[];this.interceptors.response.forEach(function(le){E.push(le.fulfilled,le.rejected)});let A,B=0,P;if(!q){const X=[yp.bind(this),void 0];for(X.unshift(...N),X.push(...E),P=X.length,A=Promise.resolve(m);B<P;)A=A.then(X[B++],X[B++]);return A}P=N.length;let ye=m;for(;B<P;){const X=N[B++],le=N[B++];try{ye=X(ye)}catch(J){le.call(this,J);break}}try{A=yp.call(this,ye)}catch(X){return Promise.reject(X)}for(B=0,P=E.length;B<P;)A=A.then(E[B++],E[B++]);return A}getUri(o){o=zi(this.defaults,o);const m=Yp(o.baseURL,o.url,o.allowAbsoluteUrls);return Up(m,o.params,o.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(o){Di.prototype[o]=function(m,f){return this.request(zi(f||{},{method:o,url:m,data:(f||{}).data}))}});$.forEach(["post","put","patch"],function(o){function m(f){return function(S,x,N){return this.request(zi(N||{},{method:o,headers:f?{"Content-Type":"multipart/form-data"}:{},url:S,data:x}))}}Di.prototype[o]=m(),Di.prototype[o+"Form"]=m(!0)});let db=class Zp{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(S){m=S});const f=this;this.promise.then(g=>{if(!f._listeners)return;let S=f._listeners.length;for(;S-- >0;)f._listeners[S](g);f._listeners=null}),this.promise.then=g=>{let S;const x=new Promise(N=>{f.subscribe(N),S=N}).then(g);return x.cancel=function(){f.unsubscribe(S)},x},o(function(S,x,N){f.reason||(f.reason=new Vu(S,x,N),m(f.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const m=this._listeners.indexOf(o);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const o=new AbortController,m=f=>{o.abort(f)};return this.subscribe(m),o.signal.unsubscribe=()=>this.unsubscribe(m),o.signal}static source(){let o;return{token:new Zp(function(g){o=g}),cancel:o}}};function hb(s){return function(m){return s.apply(null,m)}}function mb(s){return $.isObject(s)&&s.isAxiosError===!0}const Mf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mf).forEach(([s,o])=>{Mf[o]=s});function Fp(s){const o=new Di(s),m=Cp(Di.prototype.request,o);return $.extend(m,Di.prototype,o,{allOwnKeys:!0}),$.extend(m,o,null,{allOwnKeys:!0}),m.create=function(g){return Fp(zi(s,g))},m}const Zt=Fp(Gu);Zt.Axios=Di;Zt.CanceledError=Vu;Zt.CancelToken=db;Zt.isCancel=Lp;Zt.VERSION=Vp;Zt.toFormData=jo;Zt.AxiosError=$e;Zt.Cancel=Zt.CanceledError;Zt.all=function(o){return Promise.all(o)};Zt.spread=hb;Zt.isAxiosError=mb;Zt.mergeConfig=zi;Zt.AxiosHeaders=Mn;Zt.formToJSON=s=>Hp($.isHTMLForm(s)?new FormData(s):s);Zt.getAdapter=Gp.getAdapter;Zt.HttpStatusCode=Mf;Zt.default=Zt;const{Axios:Iv,AxiosError:ex,CanceledError:tx,isCancel:nx,CancelToken:ax,VERSION:lx,all:ix,Cancel:rx,isAxiosError:ux,spread:sx,toFormData:ox,AxiosHeaders:cx,HttpStatusCode:fx,formToJSON:dx,getAdapter:hx,mergeConfig:mx}=Zt,gt=Zt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});gt.interceptors.request.use(s=>{const o=ol.getState().token;return o&&(s.headers.Authorization=`Token ${o}`),s.data instanceof FormData&&delete s.headers["Content-Type"],s});gt.interceptors.response.use(s=>s,s=>(s.response?.status===401&&ol.getState().logout(),Promise.reject(s)));const Dr={login:(s,o)=>gt.post("/auth/login/",{email:s,password:o}),register:s=>gt.post("/auth/register/",s),logout:()=>gt.post("/auth/logout/"),me:()=>gt.get("/auth/me/"),deleteAccount:()=>gt.post("/auth/me/delete/")},Uu={list:()=>gt.get("/projects/"),get:s=>gt.get(`/projects/${s}/`),create:s=>gt.post("/projects/",s),update:(s,o)=>gt.patch(`/projects/${s}/`,o),delete:s=>gt.delete(`/projects/${s}/`)},Oi={list:()=>gt.get("/lenses/"),get:s=>gt.get(`/lenses/${s}/`),create:s=>gt.post("/lenses/",s),update:(s,o)=>gt.patch(`/lenses/${s}/`,o),delete:s=>gt.delete(`/lenses/${s}/`),addColor:(s,o)=>gt.post(`/lenses/${s}/colors/`,o),updateColor:(s,o,m)=>gt.patch(`/lenses/${s}/colors/${o}/`,m),removeColor:(s,o)=>gt.delete(`/lenses/${s}/colors/${o}/`)},ln={list:s=>gt.get("/documents/",{params:s}),get:s=>gt.get(`/documents/${s}/`),create:s=>gt.post("/documents/",s),createWithFile:s=>gt.post("/documents/",s),getPdf:s=>gt.get(`/documents/${s}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(s,o)=>gt.post(`/documents/${s}/upload_pdf/`,o),update:(s,o)=>gt.patch(`/documents/${s}/`,o),delete:s=>gt.delete(`/documents/${s}/`),highlights:s=>gt.get(`/documents/${s}/highlights/`),createHighlight:(s,o)=>gt.post(`/documents/${s}/highlights/`,o),updateHighlight:(s,o,m)=>gt.patch(`/documents/${s}/highlights/${o}/`,m),deleteHighlight:(s,o)=>gt.delete(`/documents/${s}/highlights/${o}/`)},pb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},rt={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},Ti={default:"border-slate-200"},Hu="min-h-screen p-6",yb="bg-white border-b border-slate-200",yo="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",so="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",bp="w-px h-6 bg-slate-200",Mi=pb;function gb(){const s=Ri(),o=ol(B=>B.setToken),[m,f]=F.useState(""),[g,S]=F.useState(""),[x,N]=F.useState(""),[q,E]=F.useState(!1),A=async B=>{B.preventDefault(),N(""),E(!0);try{const{data:P}=await Dr.login(m,g);o(P.token),s("/",{replace:!0})}catch(P){N(P.response?.data?.detail||P.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return d.jsx("div",{className:`${Hu} ${Mi.page} flex items-center justify-center`,children:d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsx("h1",{className:`text-2xl font-semibold ${rt.heading} mb-6`,children:"Sign in"}),d.jsxs("form",{onSubmit:A,className:"flex flex-col gap-4",children:[x&&d.jsx("p",{className:"text-sm text-red-600",children:x}),d.jsxs("label",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:`text-sm ${rt.secondary}`,children:"Email"}),d.jsx("input",{type:"email",value:m,onChange:B=>f(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),d.jsxs("label",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:`text-sm ${rt.secondary}`,children:"Password"}),d.jsx("input",{type:"password",value:g,onChange:B=>S(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),d.jsx("button",{type:"submit",disabled:q,className:yo,children:q?"Signing in...":"Sign in"})]}),d.jsxs("p",{className:`mt-4 text-sm ${rt.muted}`,children:["No account? ",d.jsx(Ep,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function bb(){const s=Ri(),o=ol(B=>B.setToken),[m,f]=F.useState(""),[g,S]=F.useState(""),[x,N]=F.useState(""),[q,E]=F.useState(!1),A=async B=>{B.preventDefault(),N(""),E(!0);try{await Dr.register({email:m,password:g});const{data:P}=await Dr.login(m,g);o(P.token),s("/",{replace:!0})}catch(P){const ye=P.response?.data;N(ye?.email?.[0]||ye?.password?.[0]||"Registration failed")}finally{E(!1)}};return d.jsx("div",{className:`${Hu} ${Mi.page} flex items-center justify-center`,children:d.jsxs("div",{className:"w-full max-w-sm",children:[d.jsx("h1",{className:`text-2xl font-semibold ${rt.heading} mb-6`,children:"Create account"}),d.jsxs("form",{onSubmit:A,className:"flex flex-col gap-4",children:[x&&d.jsx("p",{className:"text-sm text-red-600",children:x}),d.jsxs("label",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:`text-sm ${rt.secondary}`,children:"Email"}),d.jsx("input",{type:"email",value:m,onChange:B=>f(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),d.jsxs("label",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:`text-sm ${rt.secondary}`,children:"Password"}),d.jsx("input",{type:"password",value:g,onChange:B=>S(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),d.jsx("button",{type:"submit",disabled:q,className:yo,children:q?"Creating account...":"Register"})]}),d.jsxs("p",{className:`mt-4 text-sm ${rt.muted}`,children:["Already have an account? ",d.jsx(Ep,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const Jp=(...s)=>s.filter((o,m,f)=>!!o&&o.trim()!==""&&f.indexOf(o)===m).join(" ").trim();const vb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,m,f)=>f?f.toUpperCase():m.toLowerCase());const vp=s=>{const o=xb(s);return o.charAt(0).toUpperCase()+o.slice(1)};var Sb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wb=s=>{for(const o in s)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const jb=F.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:m=2,absoluteStrokeWidth:f,className:g="",children:S,iconNode:x,...N},q)=>F.createElement("svg",{ref:q,...Sb,width:o,height:o,stroke:s,strokeWidth:f?Number(m)*24/Number(o):m,className:Jp("lucide",g),...!S&&!wb(N)&&{"aria-hidden":"true"},...N},[...x.map(([E,A])=>F.createElement(E,A)),...Array.isArray(S)?S:[S]]));const Ht=(s,o)=>{const m=F.forwardRef(({className:f,...g},S)=>F.createElement(jb,{ref:S,iconNode:o,className:Jp(`lucide-${vb(vp(s))}`,`lucide-${s}`,f),...g}));return m.displayName=vp(s),m};const Nb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_o=Ht("arrow-left",Nb);const _b=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Eb=Ht("braces",_b);const Cb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],go=Ht("check",Cb);const Ab=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ob=Ht("chevron-down",Ab);const Tb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zf=Ht("chevron-right",Tb);const Db=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mb=Ht("copy",Db);const zb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Rb=Ht("download",zb);const kb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Bb=Ht("file-down",kb);const qb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Ub=Ht("file-stack",qb);const Hb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xf=Ht("file-text",Hb);const Lb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Aa=Ht("loader-circle",Lb);const Kb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gf=Ht("log-out",Kb);const Yb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Qb=Ht("palette",Yb);const Xb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Gb=Ht("panel-right-close",Xb);const Vb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Zb=Ht("panel-right-open",Vb);const Fb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],bo=Ht("pencil",Fb);const Jb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$b=Ht("plus",Jb);const Wb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$p=Ht("search",Wb);const Pb=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ib=Ht("settings-2",Pb);const ev=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lu=Ht("trash-2",ev);const tv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rf=Ht("upload",tv);const nv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ku=Ht("x",nv);const av=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],lv=Ht("zoom-in",av);const iv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],rv=Ht("zoom-out",iv),ul=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function uv(s){if(!s)return"";const o=new Date(s);if(Number.isNaN(o.getTime()))return"";const m=new Date,f=m-o,g=Math.floor(f/6e4),S=Math.floor(f/36e5),x=Math.floor(f/864e5);return g<1?"Just now":g<60?`${g} min ago`:S<24?`${S} hour${S===1?"":"s"} ago`:x===1?"Yesterday":x<7?`${x} days ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:o.getFullYear()!==m.getFullYear()?"numeric":void 0})}function sv({project:s,onOpen:o}){const[m,f]=F.useState(!1),g=s.document_count??0,S=s.annotation_count??0,x=s.color&&ul.includes(s.color)?s.color:ul[s.id%ul.length];return d.jsxs("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>o(s.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&o(s.id),className:"flex items-center gap-4 rounded-xl border border-slate-200 bg-white px-5 py-5 cursor-pointer transition-all duration-200",style:{boxShadow:m?"0 4px 12px rgba(71,85,105,0.08)":"0 1px 3px rgba(0,0,0,0.04)",transform:m?"translateY(-1px)":"none",background:m?"#f8fafc":"#fff"},children:[d.jsx("div",{className:"shrink-0 rounded-sm",style:{width:4,height:48,background:x}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-base font-normal text-slate-900 truncate",style:{fontFamily:"'Instrument Serif', serif"},children:s.name}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[13px] text-slate-400",style:{fontFamily:"'JetBrains Mono', monospace"},children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),g," ",g===1?"doc":"docs"]}),d.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[d.jsx("path",{d:"M12 20h9"}),d.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),S," ",S===1?"annotation":"annotations"]})]})]}),d.jsx("div",{className:"text-[13px] text-slate-400 whitespace-nowrap shrink-0",style:{fontFamily:"'JetBrains Mono', monospace"},children:uv(s.updated_at)}),d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:m?"#475569":"#cbd5e1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 transition-colors",children:d.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}function ov({onClose:s,onCreate:o,isPending:m,defaultColorIndex:f=0}){const[g,S]=F.useState(""),[x,N]=F.useState(ul[f%ul.length]),q=()=>{const E=g.trim();E&&(o(E,x),S(""),N(ul[f%ul.length]))};return d.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:s,children:d.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[d.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),d.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),d.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),d.jsx("input",{type:"text",value:g,onChange:E=>S(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),d.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),d.jsx("div",{className:"flex gap-2",children:ul.map(E=>d.jsx("button",{type:"button",onClick:()=>N(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:x===E?"#1e293b":"transparent",outline:x===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),d.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),d.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function cv(){const s=Ri(),o=zr(),m=ol(fe=>fe.logout),[f,g]=F.useState(!1),[S,x]=F.useState(""),{data:N}=ta({queryKey:["me"],queryFn:async()=>{const{data:fe}=await Dr.me();return fe}}),{data:q,isLoading:E}=ta({queryKey:["projects"],queryFn:async()=>{const{data:fe}=await Uu.list();return fe}}),A=Array.isArray(q)?q:q?.results??[],B=A.filter(fe=>fe.name.toLowerCase().includes(S.toLowerCase())),P=A.reduce((fe,he)=>fe+(he.document_count??0),0),ye=A.reduce((fe,he)=>fe+(he.annotation_count??0),0),X=oa({mutationFn:({name:fe,color:he})=>Uu.create({name:fe.trim(),color:he}),onSuccess:()=>{o.invalidateQueries({queryKey:["projects"]}),g(!1)}}),le=(fe,he)=>{X.mutate({name:fe,color:he})},J=()=>{m(),s("/login",{replace:!0})},Ae=(N?.email?.[0]||N?.username?.[0]||"?").toUpperCase();return d.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[d.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),d.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),d.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:J,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:d.jsx(Gf,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>s("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:Ae})]})]}),d.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),d.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]})]}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[d.jsxs("span",{children:[A.length," project",A.length!==1?"s":""]}),d.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),d.jsxs("span",{children:[P," document",P!==1?"s":""]}),d.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),d.jsxs("span",{children:[ye," annotation",ye!==1?"s":""]})]}),A.length>3&&d.jsxs("div",{className:"relative mb-4",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),d.jsx("input",{type:"text",placeholder:"Search projects",value:S,onChange:fe=>x(fe.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),E?d.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx(Aa,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):d.jsx("div",{className:"flex flex-col gap-2",children:B.map(fe=>d.jsx(sv,{project:fe,onOpen:he=>s(`/project/${he}`)},fe.id))}),!E&&B.length===0&&S&&d.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',S,'"']}),!E&&A.length===0&&d.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:d.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),d.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),d.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),f&&d.jsx(ov,{onClose:()=>g(!1),onCreate:le,isPending:X.isPending,defaultColorIndex:A.length%ul.length})]})}var ho={exports:{}},fv=ho.exports,xp;function dv(){return xp||(xp=1,(function(s,o){((m,f)=>{s.exports=f()})(fv,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(c,h){c.__proto__=h}:function(c,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(c[y]=h[y])}))(l,u)},f=function(){return(f=Object.assign||function(l){for(var u,c=1,h=arguments.length;c<h;c++)for(var y in u=arguments[c])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,c){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:x0,x=Object.keys,N=Array.isArray;function q(l,u){return typeof u=="object"&&x(u).forEach(function(c){l[c]=u[c]}),l}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var E=Object.getPrototypeOf,A={}.hasOwnProperty;function B(l,u){return A.call(l,u)}function P(l,u){typeof u=="function"&&(u=u(E(l))),(typeof Reflect>"u"?x:Reflect.ownKeys)(u).forEach(function(c){X(l,c,u[c])})}var ye=Object.defineProperty;function X(l,u,c,h){ye(l,u,q(c&&B(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},h))}function le(l){return{from:function(u){return l.prototype=Object.create(u.prototype),X(l.prototype,"constructor",l),{extend:P.bind(null,l.prototype)}}}}var J=Object.getOwnPropertyDescriptor,Ae=[].slice;function fe(l,u,c){return Ae.call(l,u,c)}function he(l,u){return u(l)}function ce(l){if(!l)throw new Error("Assertion Failed")}function Te(l){S.setImmediate?setImmediate(l):setTimeout(l,0)}function de(l,u){if(typeof u=="string"&&B(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var c=[],h=0,y=u.length;h<y;++h){var b=de(l,u[h]);c.push(b)}return c}var w,j=u.indexOf(".");return j===-1||(w=l[u.substr(0,j)])==null?void 0:de(w,u.substr(j+1))}function we(l,u,c){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){ce(typeof c!="string"&&"length"in c);for(var h=0,y=u.length;h<y;++h)we(l,u[h],c[h])}else{var b,w,j=u.indexOf(".");j!==-1?(b=u.substr(0,j),(j=u.substr(j+1))===""?c===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=c:we(w=(w=l[b])&&B(l,b)?w:l[b]={},j,c)):c===void 0?N(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=c}}function Pe(l){var u,c={};for(u in l)B(l,u)&&(c[u]=l[u]);return c}var Xe=[].concat;function Ne(l){return Xe.apply([],l)}var _e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ne([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return S[l]}),tt=new Set(_e.map(function(l){return S[l]})),ke=null;function Fe(l){return ke=new WeakMap,l=(function u(c){if(!c||typeof c!="object")return c;var h=ke.get(c);if(h)return h;if(N(c)){h=[],ke.set(c,h);for(var y=0,b=c.length;y<b;++y)h.push(u(c[y]))}else if(tt.has(c.constructor))h=c;else{var w,j=E(c);for(w in h=j===Object.prototype?{}:Object.create(j),ke.set(c,h),c)B(c,w)&&(h[w]=u(c[w]))}return h})(l),ke=null,l}var je={}.toString;function Ve(l){return je.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof Y=="symbol"?function(l){var u;return l!=null&&(u=l[Y])&&u.apply(l)}:function(){return null};function ge(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var Ee={};function Be(l){var u,c,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===Ee&&typeof l=="string")return[l];if(y=me(l))for(c=[];!(h=y.next()).done;)c.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(c=new Array(u);u--;)c[u]=l[u]}}else for(u=arguments.length,c=new Array(u);u--;)c[u]=arguments[u];return c}var be=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},_e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_e),De={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(l,u){this.name=l,this.message=u}function Je(l,u){return l+". Errors: "+Object.keys(u).map(function(c){return u[c].toString()}).filter(function(c,h,y){return y.indexOf(c)===h}).join(`
`)}function ft(l,u,c,h){this.failures=u,this.failedKeys=h,this.successCount=c,this.message=Je(l,u)}function te(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(c){return u[c]}),this.failuresByPos=u,this.message=Je(l,this.failures)}le(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),le(ft).from(Ke),le(te).from(Ke);var pe=mn.reduce(function(l,u){return l[u]=u+"Error",l},{}),qe=Ke,ie=mn.reduce(function(l,u){var c=u+"Error";function h(y,b){this.name=c,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=De[u]||c,this.inner=null)}return le(h).from(qe),l[u]=h,l},{}),Ge=(ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError,_e.reduce(function(l,u){return l[u+"Error"]=ie[u],l},{}));_e=mn.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=ie[u]),l},{});function He(){}function St(l){return l}function xn(l,u){return l==null||l===St?u:function(c){return u(l(c))}}function ve(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function mt(l,u){return l===He?u:function(){var c=l.apply(this,arguments),h=(c!==void 0&&(arguments[0]=c),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?ve(h,this.onsuccess):h),y&&(this.onerror=this.onerror?ve(y,this.onerror):y),b!==void 0?b:c}}function Oa(l,u){return l===He?u:function(){l.apply(this,arguments);var c=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?ve(c,this.onsuccess):c),h&&(this.onerror=this.onerror?ve(h,this.onerror):h)}}function oe(l,u){return l===He?u:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,w=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?ve(y,this.onsuccess):y),b&&(this.onerror=this.onerror?ve(b,this.onerror):b),h===void 0?w===void 0?void 0:w:q(h,w)}}function Ie(l,u){return l===He?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function bt(l,u){return l===He?u:function(){var c=l.apply(this,arguments);if(c&&typeof c.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return c.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}_e.ModifyError=ft,_e.DexieError=Ke,_e.BulkError=te;var _t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Nn(l){_t=l}var na={},hn=100,Fl=typeof Promise>"u"?[]:(mn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Fl=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(Fl),mn]:[mn,E(mn),mn]),mn=Fl[0],Qa=Fl[1],Qa=Qa&&Qa.then,fa=mn&&mn.constructor,cl=!!Fl[2],Jl=function(l,u){$l.push([l,u]),Bi&&(queueMicrotask(Zu),Bi=!1)},ki=!0,Bi=!0,Ta=[],da=[],rn=St,un={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:He,pgp:!1,env:{},finalize:He},Me=un,$l=[],Da=0,qi=[];function Ce(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Me;if(typeof l!="function"){if(l!==na)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&aa(this,this._value)}else this._state=null,this._value=null,++u.ref,(function c(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&ha();b&&typeof b.then=="function"?c(h,function(j,O){b instanceof Ce?b._then(j,O):b.then(j,O)}):(h._state=!0,h._value=b,Pl(h)),w&&Yn()}},aa.bind(null,h))}catch(b){aa(h,b)}})(this,l)}var fl={get:function(){var l=Me,u=ti;function c(h,y){var b=this,w=!l.global&&(l!==Me||u!==ti),j=w&&!Sn(),O=new Ce(function(H,T){Ma(b,new Wl(Ui(h,l,w,j),Ui(y,l,w,j),H,T,l))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return c.prototype=na,c},set:function(l){X(this,"then",l&&l.prototype===na?fl:{get:function(){return l},set:fl.set})}};function Wl(l,u,c,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=c,this.reject=h,this.psd=y}function aa(l,u){var c,h;da.push(u),l._state===null&&(c=l._lib&&ha(),u=rn(u),l._state=!1,l._value=u,h=l,Ta.some(function(y){return y._value===h._value})||Ta.push(h),Pl(l),c)&&Yn()}function Pl(l){var u=l._listeners;l._listeners=[];for(var c=0,h=u.length;c<h;++c)Ma(l,u[c]);var y=l._PSD;--y.ref||y.finalize(),Da===0&&(++Da,Jl(function(){--Da==0&&kr()},[]))}function Ma(l,u){if(l._state===null)l._listeners.push(u);else{var c=l._state?u.onFulfilled:u.onRejected;if(c===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Da,Jl(Eo,[c,l,u])}}function Eo(l,u,c){try{var h,y=u._value;!u._state&&da.length&&(da=[]),h=_t&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||da.indexOf(y)!==-1||(b=>{for(var w=Ta.length;w;)if(Ta[--w]._value===b._value)return Ta.splice(w,1)})(u),c.resolve(h)}catch(b){c.reject(b)}finally{--Da==0&&kr(),--c.psd.ref||c.psd.finalize()}}function Zu(){zn(un,function(){ha()&&Yn()})}function ha(){var l=ki;return Bi=ki=!1,l}function Yn(){var l,u,c;do for(;0<$l.length;)for(l=$l,$l=[],c=l.length,u=0;u<c;++u){var h=l[u];h[0].apply(null,h[1])}while(0<$l.length);Bi=ki=!0}function kr(){for(var l=Ta,u=(Ta=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),qi.slice(0)),c=u.length;c;)u[--c]()}function Il(l){return new Ce(na,!1,l)}function Dt(l,u){var c=Me;return function(){var h=ha(),y=Me;try{return pa(c,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{pa(y,!1),h&&Yn()}}}P(Ce.prototype,{then:fl,_then:function(l,u){Ma(this,new Wl(null,null,l,u,Me))},catch:function(l){var u,c;return arguments.length===1?this.then(null,l):(u=l,c=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?c:Il)(h)}):this.then(null,function(h){return(h&&h.name===u?c:Il)(h)}))},finally:function(l){return this.then(function(u){return Ce.resolve(l()).then(function(){return u})},function(u){return Ce.resolve(l()).then(function(){return Il(u)})})},timeout:function(l,u){var c=this;return l<1/0?new Ce(function(h,y){var b=setTimeout(function(){return y(new ie.Timeout(u))},l);c.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&X(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),un.env=qr(),P(Ce,{all:function(){var l=Be.apply(null,arguments).map(hl);return new Ce(function(u,c){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return Ce.resolve(y).then(function(w){l[b]=w,--h||u(l)},c)})})},resolve:function(l){return l instanceof Ce?l:l&&typeof l.then=="function"?new Ce(function(u,c){l.then(u,c)}):new Ce(na,!0,l)},reject:Il,race:function(){var l=Be.apply(null,arguments).map(hl);return new Ce(function(u,c){l.map(function(h){return Ce.resolve(h).then(u,c)})})},PSD:{get:function(){return Me},set:function(l){return Me=l}},totalEchoes:{get:function(){return ti}},newPSD:zt,usePSD:zn,scheduler:{get:function(){return Jl},set:function(l){Jl=l}},rejectionMapper:{get:function(){return rn},set:function(l){rn=l}},follow:function(l,u){return new Ce(function(c,h){return zt(function(y,b){var w=Me;w.unhandleds=[],w.onunhandled=b,w.finalize=ve(function(){var j,O=this;j=function(){O.unhandleds.length===0?y():b(O.unhandleds[0])},qi.push(function H(){j(),qi.splice(qi.indexOf(H),1)}),++Da,Jl(function(){--Da==0&&kr()},[])},w.finalize),l()},u,c,h)})}}),fa&&(fa.allSettled&&X(Ce,"allSettled",function(){var l=Be.apply(null,arguments).map(hl);return new Ce(function(u){l.length===0&&u([]);var c=l.length,h=new Array(c);l.forEach(function(y,b){return Ce.resolve(y).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--c||u(h)})})})}),fa.any&&typeof AggregateError<"u"&&X(Ce,"any",function(){var l=Be.apply(null,arguments).map(hl);return new Ce(function(u,c){l.length===0&&c(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,w){return Ce.resolve(b).then(function(j){return u(j)},function(j){y[w]=j,--h||c(new AggregateError(y))})})})}),fa.withResolvers)&&(Ce.withResolvers=fa.withResolvers);var Yt={awaits:0,echoes:0,id:0},Br=0,dl=[],ei=0,ti=0,ma=0;function zt(l,w,c,h){var y=Me,b=Object.create(y),w=(b.parent=y,b.ref=0,b.global=!1,b.id=++ma,un.env,b.env=cl?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject}:{},w&&q(b,w),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},zn(b,l,c,h));return b.ref===0&&b.finalize(),w}function Qt(){return Yt.id||(Yt.id=++Br),++Yt.awaits,Yt.echoes+=hn,Yt.id}function Sn(){return!!Yt.awaits&&(--Yt.awaits==0&&(Yt.id=0),Yt.echoes=Yt.awaits*hn,!0)}function hl(l){return Yt.echoes&&l&&l.constructor===fa?(Qt(),l.then(function(u){return Sn(),u},function(u){return Sn(),Et(u)})):l}function Co(){var l=dl[dl.length-1];dl.pop(),pa(l,!1)}function pa(l,u){var c,h,y=Me;(u?!Yt.echoes||ei++&&l===Me:!ei||--ei&&l===Me)||queueMicrotask(u?(function(b){++ti,Yt.echoes&&--Yt.echoes!=0||(Yt.echoes=Yt.awaits=Yt.id=0),dl.push(Me),pa(b,!0)}).bind(null,l):Co),l!==Me&&(Me=l,y===un&&(un.env=qr()),cl)&&(c=un.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(S,"Promise",h.PromiseProp),c.all=h.all,c.race=h.race,c.resolve=h.resolve,c.reject=h.reject,h.allSettled&&(c.allSettled=h.allSettled),h.any)&&(c.any=h.any)}function qr(){var l=S.Promise;return cl?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function zn(l,u,c,h,y){var b=Me;try{return pa(l,!0),u(c,h,y)}finally{pa(b,!1)}}function Ui(l,u,c,h){return typeof l!="function"?l:function(){var y=Me;c&&Qt(),pa(u,!0);try{return l.apply(this,arguments)}finally{pa(y,!1),h&&queueMicrotask(Sn)}}}function ya(l){Promise===fa&&Yt.echoes===0?ei===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Qa).indexOf("[native code]")===-1&&(Qt=Sn=He);var Et=Ce.reject,Rn="",pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xt="String expected.",za=[],ni="__dbnames",la="readonly",ga="readwrite";function Ra(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Ur={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ai(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=Fe(u))[l],u}}function Fu(){throw ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(l,u){try{var c=li(l),h=li(u);if(c!==h)return c==="Array"?1:h==="Array"?-1:c==="binary"?1:h==="binary"?-1:c==="string"?1:h==="string"?-1:c==="Date"?1:h!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=Qn(l),b=Qn(u),w=y.length,j=b.length,O=w<j?w:j,H=0;H<O;++H)if(y[H]!==b[H])return y[H]<b[H]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var T=l,C=u,z=T.length,k=C.length,D=z<k?z:k,M=0;M<D;++M){var K=lt(T[M],C[M]);if(K!==0)return K}return z===k?0:z<k?-1:1}}catch{}return NaN}function li(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=Ve(l))==="ArrayBuffer")?"binary":u}function Qn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function sn(l,u,c){var h=l.schema.yProps;return h?(u&&0<c.numFailures&&(u=u.filter(function(y,b){return!c.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return c})):c}Ju.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var c=u.add;if(N(c))return g(g([],N(l)?l:[],!0),c).sort();if(typeof c=="number")return(Number(l)||0)+c;if(typeof c=="bigint")try{return BigInt(l)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(u.remove!==void 0){var h=u.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return c=(c=u.replacePrefix)==null?void 0:c[0],c&&typeof l=="string"&&l.startsWith(c)?u.replacePrefix[1]+l.substring(c.length):l};var ml=Ju;function Ju(l){this["@@propmod"]=l}function Hi(l,u){for(var c=x(u),h=c.length,y=!1,b=0;b<h;++b){var w=c[b],j=u[w],O=de(l,w);j instanceof ml?(we(l,w,j.execute(O)),y=!0):O!==j&&(we(l,w,j),y=!0)}return y}vt.prototype._trans=function(l,u,c){var h=this._tx||Me.trans,y=this.name,b=_t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(H,T,C){if(C.schema[y])return u(C.idbtrans,C);throw new ie.NotFound("Table "+y+" not part of transaction")}var j=ha();try{var O=h&&h.db._novip===this.db._novip?h===Me.trans?h._promise(l,w,c):zt(function(){return h._promise(l,w,c)},{trans:h,transless:Me.transless||Me}):(function H(T,C,z,k){if(T.idbdb&&(T._state.openComplete||Me.letThrough||T._vip)){var D=T._createTransaction(C,z,T._dbSchema);try{D.create(),T._state.PR1398_maxLoop=3}catch(M){return M.name===pe.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return H(T,C,z,k)})):Et(M)}return D._promise(C,function(M,K){return zt(function(){return Me.trans=D,k(M,K,D)})}).then(function(M){if(C==="readwrite")try{D.idbtrans.commit()}catch{}return C==="readonly"?M:D._completion.then(function(){return M})})}if(T._state.openComplete)return Et(new ie.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return Et(new ie.DatabaseClosed);T.open().catch(He)}return T._state.dbReadyPromise.then(function(){return H(T,C,z,k)})})(this.db,l,[this.name],w);return b&&(O._consoleTask=b,O=O.catch(function(H){return console.trace(H),Et(H)})),O}finally{j&&Yn()}},vt.prototype.get=function(l,u){var c=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Et(new ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return c.core.get({trans:h,key:l}).then(function(y){return c.hook.reading.fire(y)})}).then(u)},vt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=x(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&u.every(function(H){return 0<=j.keyPath.indexOf(H)})){for(var O=0;O<u.length;++O)if(u.indexOf(j.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(j,O){return j.keyPath.length-O.keyPath.length})[0];if(c&&this.db._maxKey!==Rn)return w=c.keyPath.slice(0,u.length),this.where(w).equals(w.map(function(j){return l[j]}));!c&&_t&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(j,O){return lt(j,O)===0}var w=u.reduce(function(T,O){var H=T[0],T=T[1],C=h[O],z=l[O];return[H||C,H||!C?Ra(T,C&&C.multi?function(k){return k=de(k,O),N(k)&&k.some(function(D){return y(z,D)})}:function(k){return y(z,de(k,O))}):T]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(w):c?this.filter(w):this.where(u).equals("")},vt.prototype.filter=function(l){return this.toCollection().and(l)},vt.prototype.count=function(l){return this.toCollection().count(l)},vt.prototype.offset=function(l){return this.toCollection().offset(l)},vt.prototype.limit=function(l){return this.toCollection().limit(l)},vt.prototype.each=function(l){return this.toCollection().each(l)},vt.prototype.toArray=function(l){return this.toCollection().toArray(l)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(l){for(var u=this.db,c=this.name,h=((this.schema.mappedClass=l).prototype instanceof Fu&&(l=(w=>{var j=T,O=w;if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function H(){this.constructor=j}function T(){return w!==null&&w.apply(this,arguments)||this}return m(j,O),j.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H),Object.defineProperty(T.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),T.prototype.table=function(){return c},T})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function b(w){if(!w)return w;var j,O=Object.create(l.prototype);for(j in w)if(!h.has(j))try{O[j]=w[j]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},vt.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},vt.prototype.add=function(l,u){var c=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=ai(b)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"add",keys:u!=null?[u]:null,values:[w]})}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{we(l,b,j)}catch{}return j})},vt.prototype.upsert=function(l,u){var c=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return c.core.get({trans:y,key:l}).then(function(b){var w=b??{};return Hi(w,u),h&&we(w,h,l),c.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):!!b})})})},vt.prototype.update=function(l,u){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(u):(l=de(l,this.schema.primKey.keyPath))===void 0?Et(new ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},vt.prototype.put=function(l,u){var c=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=ai(b)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"put",values:[w],keys:u!=null?[u]:null})}).then(function(j){return j.numFailures?Ce.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{we(l,b,j)}catch{}return j})},vt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(c){return u.core.mutate({trans:c,type:"delete",keys:[l]}).then(function(h){return sn(u,[l],h)}).then(function(h){return h.numFailures?Ce.reject(h.failures[0]):void 0})})},vt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Ur}).then(function(c){return sn(l,null,c)})}).then(function(u){return u.numFailures?Ce.reject(u.failures[0]):void 0})},vt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(c){return u.core.getMany({keys:l,trans:c}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},vt.prototype.bulkAdd=function(l,u,c){var h=this,y=Array.isArray(u)?u:void 0,b=(c=c||(y?void 0:u))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,H=j&&H?l.map(ai(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:H,wantResults:b}).then(function(T){var C=T.numFailures,z=T.failures;if(C===0)return b?T.results:T.lastResult;throw new te("".concat(h.name,".bulkAdd(): ").concat(C," of ").concat(O," operations failed"),z)})})},vt.prototype.bulkPut=function(l,u,c){var h=this,y=Array.isArray(u)?u:void 0,b=(c=c||(y?void 0:u))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,H=j&&H?l.map(ai(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:H,wantResults:b}).then(function(T){var C=T.numFailures,z=T.failures;if(C===0)return b?T.results:T.lastResult;throw new te("".concat(h.name,".bulkPut(): ").concat(C," of ").concat(O," operations failed"),z)})})},vt.prototype.bulkUpdate=function(l){var u=this,c=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return c.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var O=[],H=[],T=(l.forEach(function(C,z){var k=C.key,D=C.changes,M=j[z];if(M){for(var K=0,V=Object.keys(D);K<V.length;K++){var L=V[K],I=D[L];if(L===u.schema.primKey.keyPath){if(lt(I,k)!==0)throw new ie.Constraint("Cannot update primary key in bulkUpdate()")}else we(M,L,I)}b.push(z),O.push(k),H.push(M)}}),O.length);return c.mutate({trans:w,type:"put",keys:O,values:H,updates:{keys:h,changeSpecs:y}}).then(function(C){var z=C.numFailures,k=C.failures;if(z===0)return T;for(var D=0,M=Object.keys(k);D<M.length;D++){var K,V=M[D],L=b[Number(V)];L!=null&&(K=k[V],delete k[V],k[L]=K)}throw new te("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(T," operations failed"),k)})})})},vt.prototype.bulkDelete=function(l){var u=this,c=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return sn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new te("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(c," operations failed"),b)})};var Hr=vt;function vt(){}function ii(l){function u(w,j){if(j){for(var O=arguments.length,H=new Array(O-1);--O;)H[O-1]=arguments[O];return c[w].subscribe.apply(null,H),l}if(typeof w=="string")return c[w]}var c={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(w,j,O){var H,T;if(typeof w!="object")return j=j||Ie,T={subscribers:[],fire:O=O||He,subscribe:function(C){T.subscribers.indexOf(C)===-1&&(T.subscribers.push(C),T.fire=j(T.fire,C))},unsubscribe:function(C){T.subscribers=T.subscribers.filter(function(z){return z!==C}),T.fire=T.subscribers.reduce(j,O)}},c[w]=u[w]=T;x(H=w).forEach(function(C){var z=H[C];if(N(z))b(C,H[C][0],H[C][1]);else{if(z!=="asap")throw new ie.InvalidArgument("Invalid event config");var k=b(C,St,function(){for(var D=arguments.length,M=new Array(D);D--;)M[D]=arguments[D];k.subscribers.forEach(function(K){Te(function(){K.apply(null,M)})})})}})}}function en(l,u){return le(u).from({prototype:l}),u}function ba(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Li(l,u){l.filter=Ra(l.filter,u)}function ri(l,u,c){var h=l.replayFilter;l.replayFilter=h?function(){return Ra(h(),u())}:u,l.justLimit=c&&!h}function ia(l,u){if(l.isPrimKey)return u.primaryKey;var c=u.getIndexByKeyPath(l.index);if(c)return c;throw new ie.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Lr(l,u,c){var h=ia(l,u.schema);return u.openCursor({trans:c,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function ui(l,u,c,h){var y,b,w=l.replayFilter?Ra(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(j,O,H){var T,C;w&&!w(O,H,function(z){return O.stop(z)},function(z){return O.fail(z)})||((C=""+(T=O.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(T)),B(y,C))||(y[C]=!0,u(j,O,H))},Promise.all([l.or._iterate(b,c),ka(Lr(l,h,c),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):ka(Lr(l,h,c),Ra(l.algorithm,w),u,!l.keysOnly&&l.valueMapper)}function ka(l,u,c,h){var y=Dt(h?function(b,w,j){return c(h(b),w,j)}:c);return l.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};u&&!u(b,function(j){return w=j},function(j){b.stop(j),w=He},function(j){b.fail(j),w=He})||y(b.value,b,function(j){return w=j}),w()})})}dt.prototype._read=function(l,u){var c=this._ctx;return c.error?c.table._trans(null,Et.bind(null,c.error)):c.table._trans("readonly",l).then(u)},dt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Et.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},dt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Ra(u.algorithm,l)},dt.prototype._iterate=function(l,u){return ui(this._ctx,l,u,this._ctx.table.core)},dt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return l&&q(c,l),u._ctx=c,u},dt.prototype.raw=function(){return this._ctx.valueMapper=null,this},dt.prototype.each=function(l){var u=this._ctx;return this._read(function(c){return ui(u,l,c,u.table.core)})},dt.prototype.count=function(l){var u=this;return this._read(function(c){var h,y=u._ctx,b=y.table.core;return ba(y,!0)?b.count({trans:c,query:{index:ia(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,ui(y,function(){return++h,!1},c,b).then(function(){return h}))}).then(l)},dt.prototype.sortBy=function(l,u){var c=l.split(".").reverse(),h=c[0],y=c.length-1;function b(O,H){return H?b(O[c[H]],H-1):O[h]}var w=this._ctx.dir==="next"?1:-1;function j(O,H){return lt(b(O,y),b(H,y))*w}return this.toArray(function(O){return O.sort(j)}).then(u)},dt.prototype.toArray=function(l){var u=this;return this._read(function(c){var h,y,b,w=u._ctx;return w.dir==="next"&&ba(w,!0)&&0<w.limit?(h=w.valueMapper,y=ia(w,w.table.core.schema),w.table.core.query({trans:c,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(b=[],ui(w,function(j){return b.push(j)},c,w.table.core).then(function(){return b}))},l)},dt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,ba(u)?ri(u,function(){var c=l;return function(h,y){return c===0||(c===1?--c:y(function(){h.advance(c),c=0}),!1)}}):ri(u,function(){var c=l;return function(){return--c<0}})),this},dt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ri(this._ctx,function(){var u=l;return function(c,h,y){return--u<=0&&h(y),0<=u}},!0),this},dt.prototype.until=function(l,u){return Li(this._ctx,function(c,h,y){return!l(c.value)||(h(y),u)}),this},dt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},dt.prototype.last=function(l){return this.reverse().first(l)},dt.prototype.filter=function(l){var u;return Li(this._ctx,function(c){return l(c.value)}),(u=this._ctx).isMatch=Ra(u.isMatch,l),this},dt.prototype.and=function(l){return this.filter(l)},dt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},dt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dt.prototype.desc=function(){return this.reverse()},dt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(c,h){l(h.key,h)})},dt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},dt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(c,h){l(h.primaryKey,h)})},dt.prototype.keys=function(l){var u=this._ctx,c=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){c.push(y.key)}).then(function(){return c}).then(l)},dt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&ba(u,!0)&&0<u.limit)return this._read(function(h){var y=ia(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var c=[];return this.each(function(h,y){c.push(y.primaryKey)}).then(function(){return c}).then(l)},dt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},dt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},dt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},dt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Li(this._ctx,function(h){var h=h.primaryKey.toString(),y=B(l,h);return l[h]=!0,!y})),this},dt.prototype.modify=function(l){var u=this,c=this._ctx;return this._write(function(h){function y(M,K){var V=K.failures;z+=M-K.numFailures;for(var L=0,I=x(V);L<I.length;L++){var re=I[L];C.push(V[re])}}var b=typeof l=="function"?l:function(M){return Hi(M,l)},w=c.table.core,T=w.schema.primaryKey,j=T.outbound,O=T.extractKey,H=200,T=u.db._options.modifyChunkSize,C=(T&&(H=typeof T=="object"?T[w.name]||T["*"]||200:T),[]),z=0,k=[],D=l===Kr;return u.clone().primaryKeys().then(function(M){function K(L){var I=Math.min(H,M.length-L),re=M.slice(L,L+I);return(D?Promise.resolve([]):w.getMany({trans:h,keys:re,cache:"immutable"})).then(function(xe){var Se=[],ue=[],ze=j?[]:null,Oe=D?re:[];if(!D)for(var se=0;se<I;++se){var Re=xe[se],We={value:Fe(Re),primKey:M[L+se]};b.call(We,We.value,We)!==!1&&(We.value==null?Oe.push(M[L+se]):j||lt(O(Re),O(We.value))===0?(ue.push(We.value),j&&ze.push(M[L+se])):(Oe.push(M[L+se]),Se.push(We.value)))}return Promise.resolve(0<Se.length&&w.mutate({trans:h,type:"add",values:Se}).then(function(it){for(var Ye in it.failures)Oe.splice(parseInt(Ye),1);y(Se.length,it)})).then(function(){return(0<ue.length||V&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:ze,values:ue,criteria:V,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<L}).then(function(it){return y(ue.length,it)})}).then(function(){return(0<Oe.length||V&&D)&&w.mutate({trans:h,type:"delete",keys:Oe,criteria:V,isAdditionalChunk:0<L}).then(function(it){return sn(c.table,Oe,it)}).then(function(it){return y(Oe.length,it)})}).then(function(){return M.length>L+I&&K(L+H)})})}var V=ba(c)&&c.limit===1/0&&(typeof l!="function"||D)&&{index:c.index,range:c.range};return K(0).then(function(){if(0<C.length)throw new ft("Error modifying one or more objects",C,z,k);return M.length})})})},dt.prototype.delete=function(){var l=this._ctx,u=l.range;return!ba(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Kr):this._write(function(c){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:c,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:c,type:"deleteRange",range:y}).then(function(O){var j=O.failures,O=O.numFailures;if(O)throw new ft("Could not delete some values",Object.keys(j).map(function(H){return j[H]}),b-O);return b-O})})})};var Ao=dt;function dt(){}var Kr=function(l,u){return u.value=null};function Yr(l,u){return l<u?-1:l===u?0:1}function Oo(l,u){return u<l?-1:l===u?0:1}function wn(l,u,c){return l=l instanceof Ba?new l.Collection(l):l,l._ctx.error=new(c||TypeError)(u),l}function ra(l){return new l.Collection(l,function(){return Ki("")}).limit(0)}function _n(k,u,c,h){var y,b,w,j,O,H,T,C=c.length;if(!c.every(function(M){return typeof M=="string"}))return wn(k,Xt);function z(M){y=M==="next"?function(V){return V.toUpperCase()}:function(V){return V.toLowerCase()},b=M==="next"?function(V){return V.toLowerCase()}:function(V){return V.toUpperCase()},w=M==="next"?Yr:Oo;var K=c.map(function(V){return{lower:b(V),upper:y(V)}}).sort(function(V,L){return w(V.lower,L.lower)});j=K.map(function(V){return V.upper}),O=K.map(function(V){return V.lower}),T=(H=M)==="next"?"":h}z("next");var k=new k.Collection(k,function(){return Xn(j[0],O[C-1]+h)}),D=(k._ondirectionchange=function(M){z(M)},0);return k._addAlgorithm(function(M,K,V){var L=M.key;if(typeof L=="string"){var I=b(L);if(u(I,O,D))return!0;for(var re=null,xe=D;xe<C;++xe){var Se=((ue,ze,Oe,se,Re,We)=>{for(var it=Math.min(ue.length,se.length),Ye=-1,et=0;et<it;++et){var Ct=ze[et];if(Ct!==se[et])return Re(ue[et],Oe[et])<0?ue.substr(0,et)+Oe[et]+Oe.substr(et+1):Re(ue[et],se[et])<0?ue.substr(0,et)+se[et]+Oe.substr(et+1):0<=Ye?ue.substr(0,Ye)+ze[Ye]+Oe.substr(Ye+1):null;Re(ue[et],Ct)<0&&(Ye=et)}return it<se.length&&We==="next"?ue+Oe.substr(ue.length):it<ue.length&&We==="prev"?ue.substr(0,Oe.length):Ye<0?null:ue.substr(0,Ye)+se[Ye]+Oe.substr(Ye+1)})(L,I,j[xe],O[xe],w,H);Se===null&&re===null?D=xe+1:(re===null||0<w(re,Se))&&(re=Se)}K(re!==null?function(){M.continue(re+T)}:V)}return!1}),k}function Xn(l,u,c,h){return{type:2,lower:l,upper:u,lowerOpen:c,upperOpen:h}}function Ki(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(l,u,c,h){c=c!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(c||h)&&(!c||!h)?ra(this):new this.Collection(this,function(){return Xn(l,u,!c,!h)})}catch{return wn(this,pn)}},Rt.prototype.equals=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Ki(l)})},Rt.prototype.above=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Xn(l,void 0,!0)})},Rt.prototype.aboveOrEqual=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Xn(l,void 0,!1)})},Rt.prototype.below=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Xn(void 0,l,!1,!0)})},Rt.prototype.belowOrEqual=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Xn(void 0,l)})},Rt.prototype.startsWith=function(l){return typeof l!="string"?wn(this,Xt):this.between(l,l+Rn,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):_n(this,function(u,c){return u.indexOf(c[0])===0},[l],Rn)},Rt.prototype.equalsIgnoreCase=function(l){return _n(this,function(u,c){return u===c[0]},[l],"")},Rt.prototype.anyOfIgnoreCase=function(){var l=Be.apply(Ee,arguments);return l.length===0?ra(this):_n(this,function(u,c){return c.indexOf(u)!==-1},l,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Be.apply(Ee,arguments);return l.length===0?ra(this):_n(this,function(u,c){return c.some(function(h){return u.indexOf(h)===0})},l,Rn)},Rt.prototype.anyOf=function(){var l,u,c=this,h=Be.apply(Ee,arguments),y=this._cmp;try{h.sort(y)}catch{return wn(this,pn)}return h.length===0?ra(this):((l=new this.Collection(this,function(){return Xn(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?c._ascending:c._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,w,j){for(var O=b.key;0<y(O,h[u]);)if(++u===h.length)return w(j),!1;return y(O,h[u])===0||(w(function(){b.continue(h[u])}),!1)}),l)},Rt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var l=Be.apply(Ee,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return wn(this,pn)}var u=l.reduce(function(c,h){return c?c.concat([[c[c.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(l,V){var c=this,h=this._cmp,y=this._ascending,b=this._descending,w=this._min,j=this._max;if(l.length===0)return ra(this);if(!l.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&y(L[0],L[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);var O=!V||V.includeLowers!==!1,H=V&&V.includeUppers===!0,T,C=y;function z(L,I){return C(L[0],I[0])}try{(T=l.reduce(function(L,I){for(var re=0,xe=L.length;re<xe;++re){var Se=L[re];if(h(I[0],Se[1])<0&&0<h(I[1],Se[0])){Se[0]=w(Se[0],I[0]),Se[1]=j(Se[1],I[1]);break}}return re===xe&&L.push(I),L},[])).sort(z)}catch{return wn(this,pn)}var k=0,D=H?function(L){return 0<y(L,T[k][1])}:function(L){return 0<=y(L,T[k][1])},M=O?function(L){return 0<b(L,T[k][0])}:function(L){return 0<=b(L,T[k][0])},K=D,V=new this.Collection(this,function(){return Xn(T[0][0],T[T.length-1][1],!O,!H)});return V._ondirectionchange=function(L){C=L==="next"?(K=D,y):(K=M,b),T.sort(z)},V._addAlgorithm(function(L,I,re){for(var xe,Se=L.key;K(Se);)if(++k===T.length)return I(re),!1;return!D(xe=Se)&&!M(xe)||(c._cmp(Se,T[k][1])===0||c._cmp(Se,T[k][0])===0||I(function(){C===y?L.continue(T[k][0]):L.continue(T[k][1])}),!1)}),V},Rt.prototype.startsWithAnyOf=function(){var l=Be.apply(Ee,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?ra(this):this.inAnyRange(l.map(function(u){return[u,u+Rn]})):wn(this,"startsWithAnyOf() only works with strings")};var Ba=Rt;function Rt(){}function kn(l){return Dt(function(u){return qa(u),l(u.target.error),!1})}function qa(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var pl="storagemutated",Ua="x-storagemutated-1",tn=ii(null,pl),Qr=(yn.prototype._lock=function(){return ce(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},yn.prototype._unlock=function(){if(ce(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{zn(l[1],l[0])}catch{}}return this},yn.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},yn.prototype.create=function(l){var u=this;if(this.mode){var c=this.db.idbdb,h=this.db._state.dbOpenError;if(ce(!this.idbtrans),!l&&!c)switch(h&&h.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(h);case"MissingAPIError":throw new ie.MissingAPI(h.message,h);default:throw new ie.OpenFailed(h)}if(!this.active)throw new ie.TransactionInactive;ce(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Dt(function(y){qa(y),u._reject(l.error)}),l.onabort=Dt(function(y){qa(y),u.active&&u._reject(new ie.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Dt(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&tn.storagemutated.fire(l.mutatedParts)})}return this},yn.prototype._promise=function(l,u,c){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Et(new ie.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Ce(function(b,w){y._blockedFuncs.push([function(){y._promise(l,u,c).then(b,w)},Me])}):c?zt(function(){var b=new Ce(function(w,j){y._lock();var O=u(w,j,y);O&&O.then&&O.then(w,j)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Ce(function(b,w){var j=u(b,w,y);j&&j.then&&j.then(b,w)}))._lib=!0,h):Et(new ie.TransactionInactive)},yn.prototype._root=function(){return this.parent?this.parent._root():this},yn.prototype.waitFor=function(l){var u,c=this._root(),h=Ce.resolve(l),y=(c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return h}):(c._waitingFor=h,c._waitingQueue=[],u=c.idbtrans.objectStore(c.storeNames[0]),(function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(u.get(-1/0).onsuccess=b)})()),c._waitingFor);return new Ce(function(b,w){h.then(function(j){return c._waitingQueue.push(Dt(b.bind(null,j)))},function(j){return c._waitingQueue.push(Dt(w.bind(null,j)))}).finally(function(){c._waitingFor===y&&(c._waitingFor=null)})})},yn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))},yn.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(B(u,l))return u[l];var c=this.schema[l];if(c)return(c=new this.db.Table(l,c,this)).core=this.db.core.table(l),u[l]=c;throw new ie.NotFound("Table "+l+" not part of transaction")},yn);function yn(){}function Gn(l,u,c,h,y,b,w,j){return{name:l,keyPath:u,unique:c,multi:h,auto:y,compound:b,src:(c&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Yi(u),type:j}}function Yi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function yl(l,u,c){return{name:l,primKey:u,indexes:c,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},c.reduce(function(y,b,w){return b=h(b,w),b&&(y[b[0]]=b[1]),y},{}))};var h}var gl=function(l){try{return l.only([[]]),gl=function(){return[[]]},[[]]}catch{return gl=function(){return Rn},Rn}};function bl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(c){return c[u]}:function(c){return de(c,u)}:function(c){return de(c,l)};var u}function si(l){return[].slice.call(l)}var $u=0;function Ft(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ha(l,u,O){function h(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=D.lower,z=D.upper,k=D.lowerOpen,D=D.upperOpen;return C===void 0?z===void 0?null:u.upperBound(z,!!D):z===void 0?u.lowerBound(C,!!k):u.bound(C,z,!!k,!!D)}function y(T){var C,z=T.name;return{name:z,schema:T,mutate:function(k){var D=k.trans,M=k.type,K=k.keys,V=k.values,L=k.range;return new Promise(function(I,re){I=Dt(I);var xe=D.objectStore(z),Se=xe.keyPath==null,ue=M==="put"||M==="add";if(!ue&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var ze,Oe=(K||V||{length:1}).length;if(K&&V&&K.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(Oe===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});function se(wt){++it,qa(wt)}var Re=[],We=[],it=0;if(M==="deleteRange"){if(L.type===4)return I({numFailures:it,failures:We,results:[],lastResult:void 0});L.type===3?Re.push(ze=xe.clear()):Re.push(ze=xe.delete(h(L)))}else{var Se=ue?Se?[V,K]:[V,null]:[K,null],Ye=Se[0],et=Se[1];if(ue)for(var Ct=0;Ct<Oe;++Ct)Re.push(ze=et&&et[Ct]!==void 0?xe[M](Ye[Ct],et[Ct]):xe[M](Ye[Ct])),ze.onerror=se;else for(Ct=0;Ct<Oe;++Ct)Re.push(ze=xe[M](Ye[Ct])),ze.onerror=se}function bn(wt){wt=wt.target.result,Re.forEach(function(wa,Nl){return wa.error!=null&&(We[Nl]=wa.error)}),I({numFailures:it,failures:We,results:M==="delete"?K:Re.map(function(wa){return wa.result}),lastResult:wt})}ze.onerror=function(wt){se(wt),bn(wt)},ze.onsuccess=bn})},getMany:function(k){var D=k.trans,M=k.keys;return new Promise(function(K,V){K=Dt(K);for(var L,I=D.objectStore(z),re=M.length,xe=new Array(re),Se=0,ue=0,ze=function(Re){Re=Re.target,xe[Re._pos]=Re.result,++ue===Se&&K(xe)},Oe=kn(V),se=0;se<re;++se)M[se]!=null&&((L=I.get(M[se]))._pos=se,L.onsuccess=ze,L.onerror=Oe,++Se);Se===0&&K(xe)})},get:function(k){var D=k.trans,M=k.key;return new Promise(function(K,V){K=Dt(K);var L=D.objectStore(z).get(M);L.onsuccess=function(I){return K(I.target.result)},L.onerror=kn(V)})},query:(C=j,function(k){return new Promise(function(D,M){D=Dt(D);var K,V,L,ue=k.trans,I=k.values,re=k.limit,Se=k.query,xe=re===1/0?void 0:re,ze=Se.index,Se=Se.range,ue=ue.objectStore(z),ue=ze.isPrimaryKey?ue:ue.index(ze.name),ze=h(Se);if(re===0)return D({result:[]});C?((Se=I?ue.getAll(ze,xe):ue.getAllKeys(ze,xe)).onsuccess=function(Oe){return D({result:Oe.target.result})},Se.onerror=kn(M)):(K=0,V=!I&&"openKeyCursor"in ue?ue.openKeyCursor(ze):ue.openCursor(ze),L=[],V.onsuccess=function(Oe){var se=V.result;return!se||(L.push(I?se.value:se.primaryKey),++K===re)?D({result:L}):void se.continue()},V.onerror=kn(M))})}),openCursor:function(k){var D=k.trans,M=k.values,K=k.query,V=k.reverse,L=k.unique;return new Promise(function(I,re){I=Dt(I);var ue=K.index,xe=K.range,Se=D.objectStore(z),Se=ue.isPrimaryKey?Se:Se.index(ue.name),ue=V?L?"prevunique":"prev":L?"nextunique":"next",ze=!M&&"openKeyCursor"in Se?Se.openKeyCursor(h(xe),ue):Se.openCursor(h(xe),ue);ze.onerror=kn(re),ze.onsuccess=Dt(function(Oe){var se,Re,We,it,Ye=ze.result;Ye?(Ye.___id=++$u,Ye.done=!1,se=Ye.continue.bind(Ye),Re=(Re=Ye.continuePrimaryKey)&&Re.bind(Ye),We=Ye.advance.bind(Ye),it=function(){throw new Error("Cursor not stopped")},Ye.trans=D,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Dt(re),Ye.next=function(){var et=this,Ct=1;return this.start(function(){return Ct--?et.continue():et.stop()}).then(function(){return et})},Ye.start=function(et){function Ct(){if(ze.result)try{et()}catch(wt){Ye.fail(wt)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var bn=new Promise(function(wt,wa){wt=Dt(wt),ze.onerror=kn(wa),Ye.fail=wa,Ye.stop=function(Nl){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=it,wt(Nl)}});return ze.onsuccess=Dt(function(wt){ze.onsuccess=Ct,Ct()}),Ye.continue=se,Ye.continuePrimaryKey=Re,Ye.advance=We,Ct(),bn},I(Ye)):I(null)},re)})},count:function(k){var D=k.query,M=k.trans,K=D.index,V=D.range;return new Promise(function(L,I){var re=M.objectStore(z),re=K.isPrimaryKey?re:re.index(K.name),xe=h(V),xe=xe?re.count(xe):re.count();xe.onsuccess=Dt(function(Se){return L(Se.target.result)}),xe.onerror=kn(I)})}}}b=O,w=si((O=l).objectStoreNames);var b,O={schema:{name:O.name,tables:w.map(function(T){return b.objectStore(T)}).map(function(T){var C=T.keyPath,z=T.autoIncrement,D=N(C),k={},D={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:D,keyPath:C,autoIncrement:z,unique:!0,extractKey:bl(C)},indexes:si(T.indexNames).map(function(M){return T.index(M)}).map(function(L){var I=L.name,K=L.unique,V=L.multiEntry,L=L.keyPath,I={name:I,compound:N(L),keyPath:L,unique:K,multiEntry:V,extractKey:bl(L)};return k[Ft(L)]=I}),getIndexByKeyPath:function(M){return k[Ft(M)]}};return k[":id"]=D.primaryKey,C!=null&&(k[Ft(C)]=D.primaryKey),D})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=O.schema,j=O.hasGetAll,O=w.tables.map(y),H={};return O.forEach(function(T){return H[T.name]=T}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(T){if(H[T])return H[T];throw new Error("Table '".concat(T,"' not found"))},MIN_KEY:-1/0,MAX_KEY:gl(u),schema:w}}function Qi(l,u,c,h){return c=c.IDBKeyRange,u=Ha(u,c,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,f(f({},y),b(y))},u)}}function va(l,u){var c=u.db,c=Qi(l._middlewares,c,l._deps,u);l.core=c.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Xi(l,u,c,h){c.forEach(function(y){var b=h[y];u.forEach(function(w){var j=(function O(H,T){return J(H,T)||(H=E(H))&&O(H,T)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?X(w,y,{get:function(){return this.table(y)},set:function(O){ye(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,b))})})}function oi(l,u){u.forEach(function(c){for(var h in c)c[h]instanceof l.Table&&delete c[h]})}function Xr(l,u){return l._cfg.version-u._cfg.version}function ci(l,u,c,h){var y=l._dbSchema,b=(c.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=yl("$meta",Pu("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(b.create(c),b._completion.catch(h),b._reject.bind(b)),j=Me.transless||Me;zt(function(){if(Me.trans=b,Me.transless=j,u!==0)return va(l,c),H=u,((O=b).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(T){return T??H}):Ce.resolve(H)).then(function(K){var C=l,z=K,k=b,D=c,M=[],K=C._versions,V=C._dbSchema=vl(0,C.idbdb,D);return(K=K.filter(function(L){return L._cfg.version>=z})).length===0?Ce.resolve():(K.forEach(function(L){M.push(function(){var I,re,xe,Se=V,ue=L._cfg.dbschema,ze=(Fi(C,Se,D),Fi(C,ue,D),V=C._dbSchema=ue,Vi(Se,ue)),Oe=(ze.add.forEach(function(se){Gr(D,se[0],se[1].primKey,se[1].indexes)}),ze.change.forEach(function(se){if(se.recreate)throw new ie.Upgrade("Not yet support for changing primary key");var Re=D.objectStore(se.name);se.add.forEach(function(We){return Zi(Re,We)}),se.change.forEach(function(We){Re.deleteIndex(We.name),Zi(Re,We)}),se.del.forEach(function(We){return Re.deleteIndex(We)})}),L._cfg.contentUpgrade);if(Oe&&L._cfg.version>z)return va(C,D),k._memoizedTables={},I=Pe(ue),ze.del.forEach(function(se){I[se]=Se[se]}),oi(C,[C.Transaction.prototype]),Xi(C,[C.Transaction.prototype],x(I),I),k.schema=I,(re=be(Oe))&&Qt(),ue=Ce.follow(function(){var se;(xe=Oe(k))&&re&&(se=Sn.bind(null,null),xe.then(se,se))}),xe&&typeof xe.then=="function"?Ce.resolve(xe):ue.then(function(){return xe})}),M.push(function(I){var re,xe,Se=L._cfg.dbschema;re=Se,xe=I,[].slice.call(xe.db.objectStoreNames).forEach(function(ue){return re[ue]==null&&xe.db.deleteObjectStore(ue)}),oi(C,[C.Transaction.prototype]),Xi(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),k.schema=C._dbSchema}),M.push(function(I){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===L._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(re){return re!=="$meta"})):I.objectStore("$meta").put(L._cfg.version,"version"))})}),(function L(){return M.length?Ce.resolve(M.shift()(k.idbtrans)).then(L):Ce.resolve()})().then(function(){Wu(V,D)}))}).catch(w);var O,H;x(y).forEach(function(T){Gr(c,T,y[T].primKey,y[T].indexes)}),va(l,c),Ce.follow(function(){return l.on.populate.fire(b)}).catch(w)})}function Gi(l,u){Wu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var c=vl(0,l.idbdb,u);Fi(l,l._dbSchema,u);for(var h=0,y=Vi(c,l._dbSchema).change;h<y.length;h++){var b=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=u.objectStore(w.name);w.add.forEach(function(O){_t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(O.src)),Zi(j,O)})})(y[h]);if(typeof b=="object")return b.value}}function Vi(l,u){var c,h={del:[],add:[],change:[]};for(c in l)u[c]||h.del.push(c);for(c in u){var y=l[c],b=u[c];if(y){var w={name:c,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,O=b.idxByName,H=void 0;for(H in j)O[H]||w.del.push(H);for(H in O){var T=j[H],C=O[H];T?T.src!==C.src&&w.change.push(C):w.add.push(C)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([c,b])}return h}function Gr(l,u,c,h){var y=l.db.createObjectStore(u,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});h.forEach(function(b){return Zi(y,b)})}function Wu(l,u){x(l).forEach(function(c){u.db.objectStoreNames.contains(c)||(_t&&console.debug("Dexie: Creating missing table",c),Gr(u,c,l[c].primKey,l[c].indexes))})}function Zi(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function vl(l,u,c){var h={};return fe(u.objectStoreNames,0).forEach(function(y){for(var b=c.objectStore(y),w=Gn(Yi(H=b.keyPath),H||"",!0,!1,!!b.autoIncrement,H&&typeof H!="string",!0),j=[],O=0;O<b.indexNames.length;++O){var T=b.index(b.indexNames[O]),H=T.keyPath,T=Gn(T.name,H,!!T.unique,!!T.multiEntry,!1,H&&typeof H!="string",!1);j.push(T)}h[y]=yl(y,w,j)}),h}function Fi(l,u,c){for(var h=c.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],w=c.objectStore(b);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var O,H=w.indexNames[j],T=w.index(H).keyPath,T=typeof T=="string"?T:"["+fe(T).join("+")+"]";u[b]&&(O=u[b].idxByName[T])&&(O.name=H,delete u[b].idxByName[T],u[b].idxByName[H]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Pu(l){return l.split(",").map(function(u,c){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Gn(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),N(b),c===0,h)})}xl.prototype._createTableSchema=yl,xl.prototype._parseIndexSyntax=Pu,xl.prototype._parseStoresSpec=function(l,u){var c=this;x(l).forEach(function(h){if(l[h]!==null){var y=c._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new ie.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new ie.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),b=c._createTableSchema(h,b,y),u[h]=b}})},xl.prototype.stores=function(c){var u=this.db,c=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,c):c,u._versions),h={},y={};return c.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,oi(u,[u._allTables,u,u.Transaction.prototype]),Xi(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],x(y),y),u._storeNames=x(y),this},xl.prototype.upgrade=function(l){return this._cfg.contentUpgrade=bt(this._cfg.contentUpgrade||He,l),this};var To=xl;function xl(){}function Vr(l,u){var c=l._dbNamesDB;return c||(c=l._dbNamesDB=new Vn(ni,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Ji(l){return l&&typeof l.databases=="function"}function Zr(l){return zt(function(){return Me.letThrough=!0,l()})}function Fr(l){return!("from"in l)}var nn=function(l,u){var c;if(!this)return c=new nn,l&&"d"in l&&q(c,l),c;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function fi(l,u,c){var h=lt(u,c);if(!isNaN(h)){if(0<h)throw RangeError();if(Fr(l))return q(l,{from:u,to:c,d:1});var h=l.l,y=l.r;if(lt(c,l.from)<0)return h?fi(h,u,c):l.l={from:u,to:c,d:1,l:null,r:null},es(l);if(0<lt(u,l.to))return y?fi(y,u,c):l.r={from:u,to:c,d:1,l:null,r:null},es(l);lt(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<lt(c,l.to)&&(l.to=c,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&La(l,h),y&&u&&La(l,y)}}function La(l,u){Fr(u)||(function c(h,y){var b=y.from,w=y.l,j=y.r;fi(h,b,y.to),w&&c(h,w),j&&c(h,j)})(l,u)}function Iu(l,u){var c=$i(u),h=c.next();if(!h.done)for(var y=h.value,b=$i(l),w=b.next(y.from),j=w.value;!h.done&&!w.done;){if(lt(j.from,y.to)<=0&&0<=lt(j.to,y.from))return!0;lt(y.from,j.from)<0?y=(h=c.next(j.from)).value:j=(w=b.next(y.from)).value}return!1}function $i(l){var u=Fr(l)?null:{s:0,n:l};return{next:function(c){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&lt(c,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||lt(c,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function es(l){var u,c,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",c=f({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],c[y]=h[u],(l[u]=c).d=Jr(c)),l.d=Jr(l)}function Jr(c){var u=c.r,c=c.l;return(u?c?Math.max(u.d,c.d):u.d:c?c.d:0)+1}function Wi(l,u){return x(u).forEach(function(c){l[c]?La(l[c],u[c]):l[c]=(function h(y){var b,w,j={};for(b in y)B(y,b)&&(w=y[b],j[b]=!w||typeof w!="object"||tt.has(w.constructor)?w:h(w));return j})(u[c])}),l}function $r(l,u){return l.all||u.all||Object.keys(l).some(function(c){return u[c]&&Iu(u[c],l[c])})}P(nn.prototype,((mn={add:function(l){return La(this,l),this},addKey:function(l){return fi(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(c){return fi(u,c,c)}),this},hasKey:function(l){var u=$i(this).next(l).value;return u&&lt(u.from,l)<=0&&0<=lt(u.to,l)}})[Y]=function(){return $i(this)},mn));var Ka={},Wr={},Pr=!1;function Pi(l){Wi(Wr,l),Pr||(Pr=!0,setTimeout(function(){Pr=!1,Ir(Wr,!(Wr={}))},0))}function Ir(l,u){u===void 0&&(u=!1);var c=new Set;if(l.all)for(var h=0,y=Object.values(Ka);h<y.length;h++)ts(j=y[h],l,c,u);else for(var b in l){var w,j,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(w=b[1],b=b[2],j=Ka["idb://".concat(w,"/").concat(b)])&&ts(j,l,c,u)}c.forEach(function(O){return O()})}function ts(l,u,c,h){for(var y=[],b=0,w=Object.entries(l.queries.query);b<w.length;b++){for(var j=w[b],O=j[0],H=[],T=0,C=j[1];T<C.length;T++){var z=C[T];$r(u,z.obsSet)?z.subscribers.forEach(function(K){return c.add(K)}):h&&H.push(z)}h&&y.push([O,H])}if(h)for(var k=0,D=y;k<D.length;k++){var M=D[k],O=M[0],H=M[1];l.queries.query[O]=H}}function Do(l){var u=l._state,c=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Et(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function w(){if(u.openCanceller!==h)throw new ie.DatabaseClosed("db.open() was cancelled")}function j(){return new Ce(function(z,k){if(w(),!c)throw new ie.MissingAPI;var D=l.name,M=u.autoSchema||!y?c.open(D):c.open(D,y);if(!M)throw new ie.MissingAPI;M.onerror=kn(k),M.onblocked=Dt(l._fireOnBlocked),M.onupgradeneeded=Dt(function(K){var V;T=M.transaction,u.autoSchema&&!l._options.allowEmptyDB?(M.onerror=qa,T.abort(),M.result.close(),(V=c.deleteDatabase(D)).onsuccess=V.onerror=Dt(function(){k(new ie.NoSuchDatabase("Database ".concat(D," doesnt exist")))})):(T.onerror=kn(k),V=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,C=V<1,l.idbdb=M.result,b&&Gi(l,T),ci(l,V/10,T,k))},k),M.onsuccess=Dt(function(){T=null;var K,V,L,I,re,xe,Se=l.idbdb=M.result,ue=fe(Se.objectStoreNames);if(0<ue.length)try{var ze=Se.transaction((re=ue).length===1?re[0]:re,"readonly");if(u.autoSchema)xe=Se,I=ze,(L=l).verno=xe.version/10,I=L._dbSchema=vl(0,xe,I),L._storeNames=fe(xe.objectStoreNames,0),Xi(L,[L._allTables],x(I),I);else if(Fi(l,l._dbSchema,ze),V=ze,((V=Vi(vl(0,(K=l).idbdb,V),K._dbSchema)).add.length||V.change.some(function(Oe){return Oe.add.length||Oe.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Se.close(),y=Se.version+1,b=!0,z(j());va(l,ze)}catch{}za.push(l),Se.onversionchange=Dt(function(Oe){u.vcFired=!0,l.on("versionchange").fire(Oe)}),Se.onclose=Dt(function(){l.close({disableAutoOpen:!1})}),C&&(ue=l._deps,re=D,Ji(xe=ue.indexedDB)||re===ni||Vr(xe,ue.IDBKeyRange).put({name:re}).catch(He)),z()},k)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Ce.reject(z)})}var O,H=u.dbReadyResolve,T=null,C=!1;return Ce.race([h,(typeof navigator>"u"?Ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function k(){return indexedDB.databases().finally(z)}O=setInterval(k,100),k()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(j)]).then(function(){return w(),u.onReadyBeingFired=[],Ce.resolve(Zr(function(){return l.on.ready.fire(l.vip)})).then(function z(){var k;if(0<u.onReadyBeingFired.length)return k=u.onReadyBeingFired.reduce(bt,He),u.onReadyBeingFired=[],Ce.resolve(Zr(function(){return k(l.vip)})).then(z)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{T&&T.abort()}catch{}return h===u.openCanceller&&l._close(),Et(z)}).finally(function(){u.openComplete=!0,H()}).then(function(){var z;return C&&(z={},l.tables.forEach(function(k){k.schema.indexes.forEach(function(D){D.name&&(z["idb://".concat(l.name,"/").concat(k.name,"/").concat(D.name)]=new nn(-1/0,[[[]]]))}),z["idb://".concat(l.name,"/").concat(k.name,"/")]=z["idb://".concat(l.name,"/").concat(k.name,"/:dels")]=new nn(-1/0,[[[]]])}),tn(pl).fire(z),Ir(z,!0)),l})}function di(l){function u(b){return l.next(b)}var c=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(j){var j=b(j),O=j.value;return j.done?O:O&&typeof O.then=="function"?O.then(c,h):N(O)?Promise.all(O).then(c,h):c(O)}}return y(u)()}function xa(l,u,c){for(var h=N(l)?l.slice():[l],y=0;y<c;++y)h.push(u);return h}var Mo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return f(f({},l),{table:function(h){var c=l.table(h),h=c.schema,y={},b=[];function w(z,k,D){var L=Ft(z),M=y[L]=y[L]||[],K=z==null?0:typeof z=="string"?1:z.length,V=0<k,L=f(f({},D),{name:V?"".concat(L,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:V,keyTail:k,keyLength:K,extractKey:bl(z),unique:!V&&D.unique});return M.push(L),L.isPrimaryKey||b.push(L),1<K&&w(K===2?z[0]:z.slice(0,K-1),k+1,D),M.sort(function(I,re){return I.keyTail-re.keyTail}),L}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var O=0,H=h.indexes;O<H.length;O++){var T=H[O];w(T.keyPath,0,T)}function C(z){var k,D=z.query.index;return D.isVirtual?f(f({},z),{query:{index:D.lowLevelIndex,range:(k=z.query.range,D=D.keyTail,{type:k.type===1?2:k.type,lower:xa(k.lower,k.lowerOpen?l.MAX_KEY:l.MIN_KEY,D),lowerOpen:!0,upper:xa(k.upper,k.upperOpen?l.MIN_KEY:l.MAX_KEY,D),upperOpen:!0})}}):z}return f(f({},c),{schema:f(f({},h),{primaryKey:j,indexes:b,getIndexByKeyPath:function(z){return(z=y[Ft(z)])&&z[0]}}),count:function(z){return c.count(C(z))},query:function(z){return c.query(C(z))},openCursor:function(z){var k=z.query.index,D=k.keyTail,M=k.keyLength;return k.isVirtual?c.openCursor(C(z)).then(function(V){return V&&K(V)}):c.openCursor(z);function K(V){return Object.create(V,{continue:{value:function(L){L!=null?V.continue(xa(L,z.reverse?l.MAX_KEY:l.MIN_KEY,D)):z.unique?V.continue(V.key.slice(0,M).concat(z.reverse?l.MIN_KEY:l.MAX_KEY,D)):V.continue()}},continuePrimaryKey:{value:function(L,I){V.continuePrimaryKey(xa(L,l.MAX_KEY,D),I)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var L=V.key;return M===1?L[0]:L.slice(0,M)}},value:{get:function(){return V.value}}})}}})}})}};function Ii(l,u,c,h){return c=c||{},h=h||"",x(l).forEach(function(y){var b,w,j;B(u,y)?(b=l[y],w=u[y],typeof b=="object"&&typeof w=="object"&&b&&w?(j=Ve(b))!==Ve(w)?c[h+y]=u[y]:j==="Object"?Ii(b,w,c,h+y+"."):b!==w&&(c[h+y]=u[y]):b!==w&&(c[h+y]=u[y])):c[h+y]=void 0}),x(u).forEach(function(y){B(l,y)||(c[h+y]=u[y])}),c}function er(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ns={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return f(f({},l),{table:function(u){var c=l.table(u),h=c.schema.primaryKey;return f(f({},c),{mutate:function(y){var b=Me.trans,w=b.table(u).hook,j=w.deleting,O=w.creating,H=w.updating;switch(y.type){case"add":if(O.fire===He)break;return b._promise("readwrite",function(){return T(y)},!0);case"put":if(O.fire===He&&H.fire===He)break;return b._promise("readwrite",function(){return T(y)},!0);case"delete":if(j.fire===He)break;return b._promise("readwrite",function(){return T(y)},!0);case"deleteRange":if(j.fire===He)break;return b._promise("readwrite",function(){return(function C(z,k,D){return c.query({trans:z,values:!1,query:{index:h,range:k},limit:D}).then(function(M){var K=M.result;return T({type:"delete",keys:K,trans:z}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):K.length<D?{failures:[],numFailures:0,lastResult:void 0}:C(z,f(f({},k),{lower:K[K.length-1],lowerOpen:!0}),D)})})})(y.trans,y.range,1e4)},!0)}return c.mutate(y);function T(C){var z,k,D,M=Me.trans,K=C.keys||er(h,C);if(K)return(C=C.type==="add"||C.type==="put"?f(f({},C),{keys:K}):f({},C)).type!=="delete"&&(C.values=g([],C.values)),C.keys&&(C.keys=g([],C.keys)),z=c,D=K,((k=C).type==="add"?Promise.resolve([]):z.getMany({trans:k.trans,keys:D,cache:"immutable"})).then(function(V){var L=K.map(function(I,re){var xe,Se,ue,ze=V[re],Oe={onerror:null,onsuccess:null};return C.type==="delete"?j.fire.call(Oe,I,ze,M):C.type==="add"||ze===void 0?(xe=O.fire.call(Oe,I,C.values[re],M),I==null&&xe!=null&&(C.keys[re]=I=xe,h.outbound||we(C.values[re],h.keyPath,I))):(xe=Ii(ze,C.values[re]),(Se=H.fire.call(Oe,xe,I,ze,M))&&(ue=C.values[re],Object.keys(Se).forEach(function(se){B(ue,se)?ue[se]=Se[se]:we(ue,se,Se[se])}))),Oe});return c.mutate(C).then(function(I){for(var re=I.failures,xe=I.results,Se=I.numFailures,I=I.lastResult,ue=0;ue<K.length;++ue){var ze=(xe||K)[ue],Oe=L[ue];ze==null?Oe.onerror&&Oe.onerror(re[ue]):Oe.onsuccess&&Oe.onsuccess(C.type==="put"&&V[ue]?C.values[ue]:ze)}return{failures:re,results:xe,numFailures:Se,lastResult:I}}).catch(function(I){return L.forEach(function(re){return re.onerror&&re.onerror(I)}),Promise.reject(I)})});throw new Error("Keys missing")}}})}})}};function eu(l,u,c){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)lt(u.keys[y],l[b])===0&&(h.push(c?Fe(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var as={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var c=l.table(u);return f(f({},c),{getMany:function(h){var y;return h.cache?(y=eu(h.keys,h.trans._cache,h.cache==="clone"))?Ce.resolve(y):c.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Fe(b):b},b}):c.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),c.mutate(h)}})}}}};function Ya(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function ls(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var zo={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,c=new nn(l.MIN_KEY,l.MAX_KEY);return f(f({},l),{transaction:function(h,y,b){if(Me.subscr&&y!=="readonly")throw new ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return l.transaction(h,y,b)},table:function(h){function y(K){var M,K=K.query;return[M=K.index,new nn((M=(K=K.range).lower)!=null?M:l.MIN_KEY,(M=K.upper)!=null?M:l.MAX_KEY)]}var b=l.table(h),w=b.schema,j=w.primaryKey,O=w.indexes,H=j.extractKey,T=j.outbound,C=j.autoIncrement&&O.filter(function(D){return D.compound&&D.keyPath.includes(j.keyPath)}),z=f(f({},b),{mutate:function(D){function M(Re){return Re="idb://".concat(u,"/").concat(h,"/").concat(Re),re[Re]||(re[Re]=new nn)}var K,V,L,I=D.trans,re=D.mutatedParts||(D.mutatedParts={}),xe=M(""),Se=M(":dels"),ue=D.type,Oe=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[er(j,D).filter(function(Re){return Re}),D.values]:[],ze=Oe[0],Oe=Oe[1],se=D.trans._cache;return N(ze)?(xe.addKeys(ze),(ue=ue==="delete"||ze.length===Oe.length?eu(ze,se):null)||Se.addKeys(ze),(ue||Oe)&&(K=M,V=ue,L=Oe,w.indexes.forEach(function(Re){var We=K(Re.name||"");function it(et){return et!=null?Re.extractKey(et):null}function Ye(et){Re.multiEntry&&N(et)?et.forEach(function(Ct){return We.addKey(Ct)}):We.addKey(et)}(V||L).forEach(function(et,wt){var bn=V&&it(V[wt]),wt=L&&it(L[wt]);lt(bn,wt)!==0&&(bn!=null&&Ye(bn),wt!=null)&&Ye(wt)})}))):ze?(Oe={from:(se=ze.lower)!=null?se:l.MIN_KEY,to:(ue=ze.upper)!=null?ue:l.MAX_KEY},Se.add(Oe),xe.add(Oe)):(xe.add(c),Se.add(c),w.indexes.forEach(function(Re){return M(Re.name).add(c)})),b.mutate(D).then(function(Re){return!ze||D.type!=="add"&&D.type!=="put"||(xe.addKeys(Re.results),C&&C.forEach(function(We){for(var it=D.values.map(function(bn){return We.extractKey(bn)}),Ye=We.keyPath.findIndex(function(bn){return bn===j.keyPath}),et=0,Ct=Re.results.length;et<Ct;++et)it[et][Ye]=Re.results[et];M(We.name).addKeys(it)})),I.mutatedParts=Wi(I.mutatedParts||{},re),Re})}}),k={get:function(D){return[j,new nn(D.key)]},getMany:function(D){return[j,new nn().addKeys(D.keys)]},count:y,query:y,openCursor:y};return x(k).forEach(function(D){z[D]=function(M){var K=Me.subscr,V=!!K,L=Ya(Me,b)&&ls(D,M)?M.obsSet={}:K;if(V){var I,K=function(Oe){return Oe="idb://".concat(u,"/").concat(h,"/").concat(Oe),L[Oe]||(L[Oe]=new nn)},re=K(""),xe=K(":dels"),V=k[D](M),Se=V[0],V=V[1];if((D==="query"&&Se.isPrimaryKey&&!M.values?xe:K(Se.name||"")).add(V),!Se.isPrimaryKey){if(D!=="count")return I=D==="query"&&T&&M.values&&b.query(f(f({},M),{values:!1})),b[D].apply(this,arguments).then(function(Oe){if(D==="query"){if(T&&M.values)return I.then(function(it){return it=it.result,re.addKeys(it),Oe});var se=M.values?Oe.result.map(H):Oe.result;(M.values?re:xe).addKeys(se)}else{var Re,We;if(D==="openCursor")return We=M.values,(Re=Oe)&&Object.create(Re,{key:{get:function(){return xe.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var it=Re.primaryKey;return xe.addKey(it),it}},value:{get:function(){return We&&re.addKey(Re.primaryKey),Re.value}}})}return Oe});xe.add(c)}}return b[D].apply(this,arguments)}}),z}})}};function is(l,u,c){var h;return c.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,c.numFailures===h)?null:(h=f({},u),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in c.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in c.failures)})),h)}function tr(l,u){return c=l,((h=u).lower===void 0||(h.lowerOpen?0<lt(c,h.lower):0<=lt(c,h.lower)))&&(c=l,(h=u).upper===void 0||(h.upperOpen?lt(c,h.upper)<0:lt(c,h.upper)<=0));var c,h}function tu(l,u,c,h,y,b){var w,j,O,H,T,C;return!c||c.length===0||(w=u.query.index,j=w.multiEntry,O=u.query.range,H=h.schema.primaryKey.extractKey,T=w.extractKey,C=(w.lowLevelIndex||w).extractKey,(h=c.reduce(function(z,k){var D=z,M=[];if(k.type==="add"||k.type==="put")for(var K=new nn,V=k.values.length-1;0<=V;--V){var L,I=k.values[V],re=H(I);!K.hasKey(re)&&(L=T(I),j&&N(L)?L.some(function(Oe){return tr(Oe,O)}):tr(L,O))&&(K.addKey(re),M.push(I))}switch(k.type){case"add":var xe=new nn().addKeys(u.values?z.map(function(se){return H(se)}):z),D=z.concat(u.values?M.filter(function(se){return se=H(se),!xe.hasKey(se)&&(xe.addKey(se),!0)}):M.map(function(se){return H(se)}).filter(function(se){return!xe.hasKey(se)&&(xe.addKey(se),!0)}));break;case"put":var Se=new nn().addKeys(k.values.map(function(se){return H(se)}));D=z.filter(function(se){return!Se.hasKey(u.values?H(se):se)}).concat(u.values?M:M.map(function(se){return H(se)}));break;case"delete":var ue=new nn().addKeys(k.keys);D=z.filter(function(se){return!ue.hasKey(u.values?H(se):se)});break;case"deleteRange":var ze=k.range;D=z.filter(function(se){return!tr(H(se),ze)})}return D},l))===l)?l:(h.sort(function(z,k){return lt(C(z),C(k))||lt(H(z),H(k))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Sl(l,u){return lt(l.lower,u.lower)===0&&lt(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function hi(l,u){return((c,h,y,b)=>{if(c===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((c=lt(c,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return c})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((c,h,y,b)=>{if(c===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((c=lt(c,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return c})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Ro(l,u,c,h){l.subscribers.add(c),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(c),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&ge(b,y)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return f(f({},l),{transaction:function(c,h,y){var b,w,j=l.transaction(c,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,j.addEventListener("abort",(w=function(O){return function(){if(b.abort(),h==="readwrite"){for(var H=new Set,T=0,C=c;T<C.length;T++){var z=C[T],k=Ka["idb://".concat(u,"/").concat(z)];if(k){var D=l.table(z),M=k.optimisticOps.filter(function(Re){return Re.trans===j});if(j._explicit&&O&&j.mutatedParts)for(var K=0,V=Object.values(k.queries.query);K<V.length;K++)for(var L=0,I=(Se=V[K]).slice();L<I.length;L++)$r((ue=I[L]).obsSet,j.mutatedParts)&&(ge(Se,ue),ue.subscribers.forEach(function(Re){return H.add(Re)}));else if(0<M.length){k.optimisticOps=k.optimisticOps.filter(function(Re){return Re.trans!==j});for(var re=0,xe=Object.values(k.queries.query);re<xe.length;re++)for(var Se,ue,ze,Oe=0,se=(Se=xe[re]).slice();Oe<se.length;Oe++)(ue=se[Oe]).res!=null&&j.mutatedParts&&(O&&!ue.dirty?(ze=Object.isFrozen(ue.res),ze=tu(ue.res,ue.req,M,D,ue,ze),ue.dirty?(ge(Se,ue),ue.subscribers.forEach(function(Re){return H.add(Re)})):ze!==ue.res&&(ue.res=ze,ue.promise=Ce.resolve({result:ze}))):(ue.dirty&&ge(Se,ue),ue.subscribers.forEach(function(Re){return H.add(Re)})))}}}H.forEach(function(Re){return Re()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(c){var h=l.table(c),y=h.schema.primaryKey;return f(f({},h),{mutate:function(b){var w,j=Me.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=Ka["idb://".concat(u,"/").concat(c)])?(j=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||er(y,b).some(function(O){return O==null}))?(w.optimisticOps.push(b),b.mutatedParts&&Pi(b.mutatedParts),j.then(function(O){0<O.numFailures&&(ge(w.optimisticOps,b),(O=is(0,b,O))&&w.optimisticOps.push(O),b.mutatedParts)&&Pi(b.mutatedParts)}),j.catch(function(){ge(w.optimisticOps,b),b.mutatedParts&&Pi(b.mutatedParts)})):j.then(function(O){var H=is(0,f(f({},b),{values:b.values.map(function(T,C){var z;return O.failures[C]?T:(we(z=(z=y.keyPath)!=null&&z.includes(".")?Fe(T):f({},T),y.keyPath,O.results[C]),z)})}),O);w.optimisticOps.push(H),queueMicrotask(function(){return b.mutatedParts&&Pi(b.mutatedParts)})}),j):h.mutate(b)},query:function(b){var w,j,O,H,T,C,z;return Ya(Me,h)&&ls("query",b)?(w=((O=Me.trans)==null?void 0:O.db._options.cache)==="immutable",j=(O=Me).requery,O=O.signal,C=((k,D,M,K)=>{var V=Ka["idb://".concat(k,"/").concat(D)];if(!V)return[];if(!(k=V.queries[M]))return[null,!1,V,null];var L=k[(K.query?K.query.index.name:null)||""];if(!L)return[null,!1,V,null];switch(M){case"query":var I=L.find(function(re){return re.req.limit===K.limit&&re.req.values===K.values&&Sl(re.req.query.range,K.query.range)});return I?[I,!0,V,L]:[L.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=K.limit&&(!K.values||re.req.values)&&hi(re.req.query.range,K.query.range)}),!1,V,L];case"count":return I=L.find(function(re){return Sl(re.req.query.range,K.query.range)}),[I,!!I,V,L]}})(u,c,"query",b),z=C[0],H=C[2],T=C[3],z&&C[1]?z.obsSet=b.obsSet:(C=h.query(b).then(function(k){var D=k.result;if(z&&(z.res=D),w){for(var M=0,K=D.length;M<K;++M)Object.freeze(D[M]);Object.freeze(D)}else k.result=Fe(D);return k}).catch(function(k){return T&&z&&ge(T,z),Promise.reject(k)}),z={obsSet:b.obsSet,promise:C,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(z):(T=[z],(H=H||(Ka["idb://".concat(u,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=T)),Ro(z,T,j,O),z.promise.then(function(k){return{result:tu(k.result,b,H?.optimisticOps,h,z,w)}})):h.query(b)}})}})}};function mi(l,u){return new Proxy(l,{get:function(c,h,y){return h==="db"?u:Reflect.get(c,h,y)}})}kt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new ie.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,c=u.filter(function(h){return h._cfg.version===l})[0];return c||(c=new this.Version(l),u.push(c),u.sort(Xr),c.stores({}),this._state.autoSchema=!1),c},kt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?l():new Ce(function(c,h){if(u._state.openComplete)return h(new ie.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new ie.DatabaseClosed);u.open().catch(He)}u._state.dbReadyPromise.then(c,h)}).then(l)},kt.prototype.use=function(y){var u=y.stack,c=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:c,level:h??10,name:y}),b.sort(function(w,j){return w.level-j.level}),this},kt.prototype.unuse=function(l){var u=l.stack,c=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!c&&y.name!==c})),this},kt.prototype.open=function(){var l=this;return zn(un,function(){return Do(l)})},kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=za.indexOf(this);if(0<=u&&za.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Ce(function(c){l.dbReadyResolve=c}),l.openCanceller=new Ce(function(c,h){l.cancelOpen=h}))},kt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,c=this._state;u?(c.isBeingOpened&&c.cancelOpen(new ie.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new ie.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},kt.prototype.delete=function(l){var u=this,c=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Ce(function(y,b){function w(){u.close(l);var j=u._deps.indexedDB.deleteDatabase(u.name);j.onsuccess=Dt(function(){var O,H,T;O=u._deps,H=u.name,Ji(T=O.indexedDB)||H===ni||Vr(T,O.IDBKeyRange).delete(H).catch(He),y()}),j.onerror=kn(b),j.onblocked=u._fireOnBlocked}if(c)throw new ie.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},kt.prototype.backendDB=function(){return this.idbdb},kt.prototype.isOpen=function(){return this.idbdb!==null},kt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(kt.prototype,"tables",{get:function(){var l=this;return x(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),kt.prototype.transaction=function(){var l=(function(u,c,h){var y=arguments.length;if(y<2)throw new ie.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,Ne(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},kt.prototype._transaction=function(l,u,c){var h,y,b=this,w=Me.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(H){if(H=H instanceof b.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),l=="r"||l===la)h=la;else{if(l!="rw"&&l!=ga)throw new ie.InvalidArgument("Invalid transaction mode: "+l);h=ga}if(w){if(w.mode===la&&h===ga){if(!j)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(H){if(w&&w.storeNames.indexOf(H)===-1){if(!j)throw new ie.SubTransaction("Table "+H+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(H){return w?w._promise(null,function(T,C){C(H)}):Et(H)}var O=(function H(T,C,z,k,D){return Ce.resolve().then(function(){var L=Me.transless||Me,M=T._createTransaction(C,z,T._dbSchema,k),L=(M.explicit=!0,{trans:M,transless:L});if(k)M.idbtrans=k.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(I){return I.name===pe.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return H(T,C,z,null,D)})):Et(I)}var K,V=be(D),L=(V&&Qt(),Ce.follow(function(){var I;(K=D.call(M,M))&&(V?(I=Sn.bind(null,null),K.then(I,I)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=di(K)))},L));return(K&&typeof K.then=="function"?Ce.resolve(K).then(function(I){return M.active?I:Et(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return K})).then(function(I){return k&&M._resolve(),M._completion.then(function(){return I})}).catch(function(I){return M._reject(I),Et(I)})})}).bind(null,this,h,y,w,c);return w?w._promise(h,O,"lock"):Me.trans?zn(Me.transless,function(){return b._whenReady(O)}):this._whenReady(O)},kt.prototype.table=function(l){if(B(this._allTables,l))return this._allTables[l];throw new ie.InvalidTable("Table ".concat(l," does not exist"))};var Vn=kt;function kt(l,u){var c,h,y,b,w,j=this,O=(this._middlewares={},this.verno=0,kt.dependencies),O=(this._options=u=f({addons:kt.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),H=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:He,dbReadyPromise:null,cancelOpen:He,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),T=(H.dbReadyPromise=new Ce(function(C){H.dbReadyResolve=C}),H.openCanceller=new Ce(function(C,z){H.cancelOpen=z}),this._state=H,this.name=l,this.on=ii(this,"populate","blocked","versionchange","close",{ready:[bt,He]}),this.once=function(C,z){var k=function(){for(var D=[],M=0;M<arguments.length;M++)D[M]=arguments[M];j.on(C).unsubscribe(k),z.apply(j,D)};return j.on(C,k)},this.on.ready.subscribe=he(this.on.ready.subscribe,function(C){return function(z,k){kt.vip(function(){var D,M=j._state;M.openComplete?(M.dbOpenError||Ce.resolve().then(z),k&&C(z)):M.onReadyBeingFired?(M.onReadyBeingFired.push(z),k&&C(z)):(C(z),D=j,k||C(function K(){D.on.ready.unsubscribe(z),D.on.ready.unsubscribe(K)}))})}}),this.Collection=(c=this,en(Ao.prototype,function(K,M){this.db=c;var k=Ur,D=null;if(M)try{k=M()}catch(L){D=L}var M=K._ctx,K=M.table,V=K.hook.reading.fire;this._ctx={table:K,index:M.index,isPrimKey:!M.index||K.schema.primKey.keyPath&&M.index===K.schema.primKey.name,range:k,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:M.or,valueMapper:V!==St?V:null}})),this.Table=(h=this,en(Hr.prototype,function(C,z,k){this.db=h,this._tx=k,this.name=C,this.schema=z,this.hook=h._allTables[C]?h._allTables[C].hook:ii(null,{creating:[mt,He],reading:[xn,St],updating:[oe,He],deleting:[Oa,He]})})),this.Transaction=(y=this,en(Qr.prototype,function(C,z,k,D,M){var K=this;C!=="readonly"&&z.forEach(function(V){V=(V=k[V])==null?void 0:V.yProps,V&&(z=z.concat(V.map(function(L){return L.updatesTable})))}),this.db=y,this.mode=C,this.storeNames=z,this.schema=k,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=ii(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(V,L){K._resolve=V,K._reject=L}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(V){var L=K.active;return K.active=!1,K.on.error.fire(V),K.parent?K.parent._reject(V):L&&K.idbtrans&&K.idbtrans.abort(),Et(V)})})),this.Version=(b=this,en(To.prototype,function(C){this.db=b,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,en(Ba.prototype,function(C,z,k){if(this.db=w,this._ctx={table:C,index:z===":id"?null:z,or:k},this._cmp=this._ascending=lt,this._descending=function(D,M){return lt(M,D)},this._max=function(D,M){return 0<lt(D,M)?D:M},this._min=function(D,M){return lt(D,M)<0?D:M},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new ie.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=gl(u.IDBKeyRange),this._createTransaction=function(C,z,k,D){return new j.Transaction(C,z,k,j._options.chromeTransactionDurability,D)},this._fireOnBlocked=function(C){j.on("blocked").fire(C),za.filter(function(z){return z.name===j.name&&z!==j&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(C)})},this.use(as),this.use(nr),this.use(zo),this.use(Mo),this.use(ns),new Proxy(this,{get:function(C,z,k){var D;return z==="_vip"||(z==="table"?function(M){return mi(j.table(M),T)}:(D=Reflect.get(C,z,k))instanceof Hr?mi(D,T):z==="tables"?D.map(function(M){return mi(M,T)}):z==="_createTransaction"?function(){return mi(D.apply(this,arguments),T)}:D)}}));this.vip=T,O.forEach(function(C){return C(j)})}var wl,Qa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",rs=(ar.prototype.subscribe=function(l,u,c){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:c})},ar.prototype[Qa]=function(){return this},ar);function ar(l){this._subscribe=l}try{wl={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{wl={indexedDB:null,IDBKeyRange:null}}function us(l){var u,c=!1,h=new rs(function(y){var b=be(l),w,j=!1,O={},H={},T={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),C&&tn.storagemutated.unsubscribe(k))}},C=(y.start&&y.start(T),!1),z=function(){return ya(D)},k=function(M){Wi(O,M),$r(H,O)&&z()},D=function(){var M,K,V;!j&&wl.indexedDB&&(O={},M={},w&&w.abort(),w=new AbortController,V=(L=>{var I=ha();try{b&&Qt();var re=zt(l,L);return re=b?re.finally(Sn):re}finally{I&&Yn()}})(K={subscr:M,signal:w.signal,requery:z,querier:l,trans:null}),Promise.resolve(V).then(function(L){c=!0,u=L,j||K.signal.aborted||(O={},(I=>{for(var re in I)if(B(I,re))return;return 1})(H=M)||C||(tn(pl,k),C=!0),ya(function(){return!j&&y.next&&y.next(L)}))},function(L){c=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||j||ya(function(){j||y.error&&y.error(L)})}))};return setTimeout(z,0),T});return h.hasValue=function(){return c},h.getValue=function(){return u},h}var Xa=Vn;function nu(l){var u=Sa;try{Sa=!0,tn.storagemutated.fire(l),Ir(l,!0)}finally{Sa=u}}P(Xa,f(f({},_e),{delete:function(l){return new Xa(l,{addons:[]}).delete()},exists:function(l){return new Xa(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=Xa.dependencies,c=u.indexedDB,u=u.IDBKeyRange,(Ji(c)?Promise.resolve(c.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ni})}):Vr(c,u).toCollection().primaryKeys()).then(l)}catch{return Et(new ie.MissingAPI)}var u,c},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Me.trans?zn(Me.transless,l):l()},vip:Zr,async:function(l){return function(){try{var u=di(l.apply(this,arguments));return u&&typeof u.then=="function"?u:Ce.resolve(u)}catch(c){return Et(c)}}},spawn:function(l,u,c){try{var h=di(l.apply(c,u||[]));return h&&typeof h.then=="function"?h:Ce.resolve(h)}catch(y){return Et(y)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(l,u){return l=Ce.resolve(typeof l=="function"?Xa.ignoreTransaction(l):l).timeout(u||6e4),Me.trans?Me.trans.waitFor(l):l},Promise:Ce,debug:{get:function(){return _t},set:function(l){Nn(l)}},derive:le,extend:q,props:P,override:he,Events:ii,on:tn,liveQuery:us,extendObservabilitySet:Wi,getByKeyPath:de,setByKeyPath:we,delByKeyPath:function(l,u){typeof u=="string"?we(l,u,void 0):"length"in u&&[].map.call(u,function(c){we(l,c,void 0)})},shallowClone:Pe,deepClone:Fe,getObjectDiff:Ii,cmp:lt,asap:Te,minKey:-1/0,addons:[],connections:za,errnames:pe,dependencies:wl,cache:Ka,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,c){return l+u/Math.pow(10,2*c)})})),Xa.maxKey=gl(Xa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tn(pl,function(l){Sa||(l=new CustomEvent(Ua,{detail:l}),Sa=!0,dispatchEvent(l),Sa=!1)}),addEventListener(Ua,function(l){l=l.detail,Sa||nu(l)}));var jl,Sa=!1,gn=function(){};return typeof BroadcastChannel<"u"&&((gn=function(){(jl=new BroadcastChannel(Ua)).onmessage=function(l){return l.data&&nu(l.data)}})(),typeof jl.unref=="function"&&jl.unref(),tn(pl,function(l){Sa||jl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Vn.disableBfCache&&l.persisted){_t&&console.debug("Dexie: handling persisted pagehide"),jl?.close();for(var u=0,c=za;u<c.length;u++)c[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Vn.disableBfCache&&l.persisted&&(_t&&console.debug("Dexie: handling persisted pageshow"),gn(),nu({all:new nn(-1/0,[[]])}))})),Ce.rejectionMapper=function(l,u){return!l||l instanceof Ke||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ge[l.name]?l:(u=new Ge[l.name](u||l.message,l),"stack"in l&&X(u,"stack",{get:function(){return this.inner.stack}}),u)},Nn(_t),f(Vn,Object.freeze({__proto__:null,Dexie:Vn,Entity:Fu,PropModification:ml,RangeSet:nn,add:function(l){return new ml({add:l})},cmp:lt,default:Vn,liveQuery:us,mergeRanges:La,rangesOverlap:Iu,remove:function(l){return new ml({remove:l})},replacePrefix:function(l,u){return new ml({replacePrefix:[l,u]})}}),{default:Vn}),Vn})})(ho)),ho.exports}var hv=dv();const kf=S0(hv),Sp=Symbol.for("Dexie"),vo=globalThis[Sp]||(globalThis[Sp]=kf);if(kf.semVer!==vo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${kf.semVer} and ${vo.semVer}`);const{liveQuery:px,mergeRanges:yx,rangesOverlap:gx,RangeSet:bx,cmp:vx,Entity:xx,PropModification:Sx,replacePrefix:wx,add:jx,remove:Nx,DexieYProvider:_x}=vo,Vf=new vo("WiseMarkDB");Vf.version(1).stores({pdfs:"hash, filename, size, blob"});async function Wp(s){const o=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(o)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Zf(s,o,m,f){await Vf.pdfs.put({hash:s,filename:o,size:m,blob:f})}async function mv(s){const o=await Vf.pdfs.get(s);return o?{data:o.blob,filename:o.filename,size:o.size}:null}async function pv(s){if(!s?.pdf_hash)return null;try{const{data:o}=await ln.getPdf(s.id),m=(o instanceof ArrayBuffer,o),f=s.file_size??m?.byteLength??0;return await Zf(s.pdf_hash,s.filename||"",f,m),{data:m,filename:s.filename||"",size:f}}catch{const o=await mv(s.pdf_hash);return o||null}}const Ca=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Ef(s){if(!s)return null;const o=new Date(s);return Number.isNaN(o.getTime())?null:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function yv(){const{projectId:s}=Uf(),o=Ri(),m=zr(),[f,g]=F.useState(!1),[S,x]=F.useState(""),[N,q]=F.useState(null),[E,A]=F.useState(""),[B,P]=F.useState(!1),[ye,X]=F.useState(""),[le,J]=F.useState(null),[Ae,fe]=F.useState(""),[he,ce]=F.useState(null),[Te,de]=F.useState(Ca[0]),we=F.useRef(null),Pe=F.useRef(null),Xe=F.useRef(null),[Ne,tt]=F.useState(0),{data:ke,isLoading:Fe}=ta({queryKey:["project",s],queryFn:async()=>{const{data:ve}=await Uu.get(s);return ve},enabled:!!s}),{data:je,isLoading:Ve}=ta({queryKey:["documents",s],queryFn:async()=>{const{data:ve}=await ln.list({project:s});return ve},enabled:!!s}),Y=Array.isArray(je)?je:je?.results??[],me=oa({mutationFn:({id:ve,name:mt})=>Uu.update(ve,{name:mt}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",s]}),m.invalidateQueries({queryKey:["projects"]}),P(!1)}}),ge=oa({mutationFn:({id:ve,filename:mt})=>ln.update(ve,{filename:mt}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",s]}),q(null),A("")}}),Ee=oa({mutationFn:ve=>ln.delete(ve),onSuccess:()=>m.invalidateQueries({queryKey:["documents",s]})}),Be=oa({mutationFn:ve=>Uu.delete(ve),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),o("/app",{replace:!0})}}),be=async ve=>{const mt=ve.target.files?.[0];if(!mt||!mt.type.includes("pdf"))return;x(""),J(mt);const Oa=mt.name.replace(/\.pdf$/i,"")||mt.name;fe(Oa),de(Ca[Y.length%Ca.length]),ce(null),we.current=null;try{const oe=await mt.arrayBuffer(),Ie=await Wp(oe),bt={arrayBuffer:oe,hash:Ie,size:mt.size};ce(bt),we.current={...bt,suggestedName:Oa}}catch(oe){x(oe.message||"Could not read file"),J(null),fe("")}},_e=()=>{J(null),fe(""),ce(null),de(Ca[0]),x(""),we.current=null,tt(ve=>ve+1)},De=()=>{Xe.current?.click()},Ke=async ve=>{ve.preventDefault();const mt=s,oe=Pe.current?.value?.trim()||Ae?.trim()||we.current?.suggestedName?.trim()||"",Ie=we.current||he;if(!mt){x("Project not found.");return}if(!oe){x("Please enter a name for the PDF.");return}if(!Ie||!Ie.hash||!Ie.arrayBuffer){x("File data missing. Please close and select the file again.");return}const bt=oe.toLowerCase().endsWith(".pdf")?oe:`${oe}.pdf`;x(""),g(!0);try{const _t=new FormData;_t.append("project",String(mt)),_t.append("filename",bt),_t.append("color",Te),_t.append("file",new Blob([Ie.arrayBuffer]),bt),await ln.createWithFile(_t),await Zf(Ie.hash,bt,Ie.size,Ie.arrayBuffer),m.invalidateQueries({queryKey:["documents",mt]}),J(null),fe(""),ce(null),we.current=null,tt(Nn=>Nn+1)}catch(_t){const Nn=_t.response?.data?.detail||typeof _t.response?.data=="object"&&Object.values(_t.response?.data||{}).flat().join(" ")||_t.message||"Upload failed";x(String(Nn))}finally{g(!1)}},Je=ve=>{q(ve.id),A(ve.filename||"")},ft=()=>{if(N==null||!E.trim()){q(null);return}ge.mutate({id:N,filename:E.trim()})},te=()=>{q(null),A("")},pe=()=>{X(ke?.name??""),P(!0)},qe=()=>{const ve=ye.trim();if(!ve||ve===ke?.name){P(!1);return}me.mutate({id:s,name:ve})},ie=()=>{P(!1),X("")},Ge=ol(ve=>ve.logout),{data:He}=ta({queryKey:["me"],queryFn:async()=>{const{data:ve}=await Dr.me();return ve}}),St=(He?.email?.[0]||He?.username?.[0]||"?").toUpperCase(),xn=ke?.color&&Ca.includes(ke.color)?ke.color:ke?Ca[ke.id%Ca.length]:Ca[0];return Fe||!ke?d.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:d.jsx(Aa,{className:"w-8 h-8 animate-spin text-slate-400"})}):d.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[d.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),d.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>o("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:d.jsx(_o,{className:"w-4 h-4"})}),d.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),d.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{Ge(),o("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:d.jsx(Gf,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>o("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:St})]})]}),d.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("div",{className:"flex items-center gap-2 min-w-0",children:B?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",value:ye,onChange:ve=>X(ve.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},autoFocus:!0,onKeyDown:ve=>{ve.key==="Enter"&&qe(),ve.key==="Escape"&&ie()}}),d.jsx("button",{type:"button",onClick:qe,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:d.jsx(go,{className:"w-5 h-5"})}),d.jsx("button",{type:"button",onClick:ie,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:d.jsx(Ku,{className:"w-5 h-5"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"m-0 text-[28px] text-slate-950 truncate",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:ke.name}),d.jsx("button",{type:"button",onClick:pe,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Edit project name",children:d.jsx(bo,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>{window.confirm(`Delete project "${ke.name}" and all its documents? This cannot be undone.`)&&Be.mutate(s)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg shrink-0",title:"Delete project",disabled:Be.isPending,children:d.jsx(Lu,{className:"w-4 h-4"})})]})}),d.jsxs("button",{type:"button",onClick:De,disabled:f,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 shrink-0 disabled:opacity-70",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[d.jsx(Rf,{className:"w-4 h-4"}),"Add PDF"]})]}),d.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:d.jsxs("span",{children:[Y.length," document",Y.length!==1?"s":""]})}),d.jsx("input",{ref:Xe,type:"file",accept:".pdf",onChange:be,className:"hidden","aria-hidden":"true",tabIndex:-1},Ne),S&&d.jsx("p",{className:"text-sm text-red-600 mb-4",children:S}),f&&d.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[d.jsx(Aa,{className:"w-4 h-4 animate-spin"})," Uploading..."]}),Ve?d.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx(Aa,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):Y.length===0?d.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx(Xf,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),d.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):d.jsx("ul",{className:"space-y-2",children:Y.map(ve=>d.jsx("li",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden transition-all duration-200 hover:shadow-[0_4px_12px_rgba(71,85,105,0.08)] hover:-translate-y-px cursor-pointer",children:N===ve.id?d.jsxs("div",{className:"flex items-center gap-2 px-5 py-3",children:[d.jsx("input",{type:"text",value:E,onChange:mt=>A(mt.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:mt=>{mt.key==="Enter"&&ft(),mt.key==="Escape"&&te()}}),d.jsx("button",{type:"button",onClick:ft,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:d.jsx(go,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:te,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:d.jsx(Ku,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 cursor-pointer",onClick:()=>o(`/document/${ve.id}`),children:[d.jsx("div",{className:"shrink-0 rounded-sm",style:{width:4,height:40,background:ve.color&&Ca.includes(ve.color)?ve.color:xn}}),d.jsxs("div",{className:"flex-1 min-w-0 py-1 flex flex-col items-start gap-0.5",children:[d.jsx("span",{className:"text-base font-normal text-slate-900 truncate block w-full",style:{fontFamily:"'Instrument Serif', serif"},children:ve.filename}),d.jsxs("span",{className:"text-xs text-slate-400 block",style:{fontFamily:"'JetBrains Mono', monospace"},children:[ve.file_size!=null&&`${(ve.file_size/1024).toFixed(1)} KB`,ve.file_size!=null&&Ef(ve.created_at)&&"  ",Ef(ve.created_at)?`Uploaded ${Ef(ve.created_at)}`:null]})]}),d.jsx("button",{type:"button",onClick:mt=>{mt.stopPropagation(),Je(ve)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Rename",children:d.jsx(bo,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:mt=>{mt.stopPropagation(),confirm("Delete this PDF?")&&Ee.mutate(ve.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg shrink-0",title:"Delete",children:d.jsx(Lu,{className:"w-4 h-4"})})]})},ve.id))})]}),le&&d.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:_e,children:d.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:ve=>ve.stopPropagation(),children:[d.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),he?d.jsxs("div",{className:"space-y-4",children:[S&&d.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:S}),d.jsx("input",{ref:Pe,type:"text",value:Ae,onChange:ve=>fe(ve.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:f}),d.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),d.jsx("div",{className:"flex gap-2",children:Ca.map(ve=>d.jsx("button",{type:"button",onClick:()=>de(ve),disabled:f,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:ve,borderColor:Te===ve?"#1e293b":"transparent",outline:Te===ve?"2px solid #fff":"none",outlineOffset:-4}},ve))}),d.jsxs("div",{className:"flex justify-end gap-3 pt-2",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx("button",{type:"button",onClick:_e,disabled:f,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),d.jsx("button",{type:"button",onClick:ve=>{ve.preventDefault(),Ke(ve)},disabled:f||!Ae.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:f?d.jsxs("span",{className:"inline-flex items-center gap-2",children:[d.jsx(Aa,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Upload & save"})]})]}):d.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[d.jsx(Aa,{className:"w-5 h-5 animate-spin shrink-0"}),d.jsx("span",{children:"Reading file..."})]})]})})]})}const sl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Ff=Object.keys(sl);function Mr(s,o=1){if(!s||!s.startsWith("#"))return`rgba(148,163,184,${o})`;const m=parseInt(s.slice(1),16),f=m>>16&255,g=m>>8&255,S=m&255;return`rgba(${f},${g},${S},${o})`}function Zl(s,o={},m){if(o&&typeof o[s]=="string"&&o[s].trim())return o[s].trim();if(m?.length){const f=m.find(g=>g.key===s);if(f?.display_name)return f.display_name}return sl[s]&&sl[s].name||s}_0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const gv=()=>typeof window<"u"&&window.devicePixelRatio||1;function bv(s,o){const m=Math.sqrt(o[2]*o[2]+o[3]*o[3]),f=Math.sqrt(o[0]*o[0]+o[1]*o[1]),g=m,S=g,x=typeof s.width=="number"&&s.width>0?s.width*f:(s.str?.length||1)*S*.5,N=o[4],q=o[5]-g*.85;return{x:N,y:q,w:x,h:S}}function vv(s,o,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),S=[];let x=0,N=-999;const q=4;let E=0;return s.items.forEach(A=>{if(!A.str||A.str.trim()==="")return;const B=C0.transform(o.transform,A.transform),P=bv(A,B);Math.abs(P.y-N)>q&&(x+=1,N=P.y);const ye=P.h,X=typeof A.width=="number"&&A.width>0?A.width*m:P.w,le=A.str.split(/(\s+)/);if(!g||le.length===0){S.push({id:E++,text:A.str,x:P.x,y:P.y,w:P.w,h:P.h,fontSize:P.h,lineIndex:x});return}g.font=`${ye}px sans-serif`;const J=le.map(ce=>({text:ce,measured:g.measureText(ce).width,isSpace:/^\s+$/.test(ce)||ce===""})),Ae=J.reduce((ce,Te)=>ce+Te.measured,0),fe=Ae>0?X/Ae:1;let he=0;J.forEach(ce=>{const Te=ce.measured*fe;if(ce.text===""||ce.isSpace){he+=Te;return}S.push({id:E,text:ce.text,x:P.x+he,y:P.y,w:Te,h:ye,fontSize:ye,lineIndex:x}),E+=1,he+=Te})}),S}function Pp(s){const o={};return s.forEach(m=>{const f=m.lineIndex??Math.round(m.y/4)*4;o[f]||(o[f]=[]),o[f].push(m)}),Object.values(o)}function wp(s,o,m){let S=null,x=1/0;for(const N of s){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(o>=N.x-4&&o<=N.x+N.w+4)return N;const A=o<N.x?N.x-o:o-(N.x+N.w);A<x&&A<40&&(x=A,S=N)}return S}function xv(s){if(!s.length)return"";let o="";for(let m=0;m<s.length;m++){const f=s[m];if(m>0){const g=s[m-1];Math.abs(f.y-g.y)<6?f.x-(g.x+g.w)>1&&(o+=" "):o+=" "}o+=f.text}return o.trim()}function Sv(s,o){return s.length?Pp(s).map(f=>{const g=Math.min(...f.map(B=>B.x)),S=Math.max(...f.map(B=>B.x+B.w)),x=f.map(B=>B.y),N=x.sort((B,P)=>B-P)[Math.floor(x.length/2)],q=Math.max(...f.map(B=>B.h)),E=2;return{x:(g-1)/o,y:(N-E)/o,width:(S-g+2)/o,height:(q+E+3)/o}}):[]}function wv({pdfData:s,scale:o,highlights:m=[],hoveredHighlightId:f=null,activeHighlightId:g=null,selectionForPicker:S=null,lensColors:x=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:E,onHighlightHoverEnd:A,onHighlightEdit:B,onHighlightDelete:P}){const[ye,X]=F.useState(null),[le,J]=F.useState(0),[Ae,fe]=F.useState(!0);return F.useEffect(()=>{if(!s)return;let he=!1;return(async()=>{fe(!0);try{const Te=s.slice(0),de=await E0({data:Te}).promise;he||(X(de),J(de.numPages),q?.(de.numPages))}catch(Te){console.error("Failed to load PDF",Te)}he||fe(!1)})(),()=>{he=!0}},[s,q]),Ae?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx(Aa,{className:"w-6 h-6 text-slate-400 animate-spin"})}):ye?d.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:le},(he,ce)=>d.jsx(jv,{pdf:ye,pageNumber:ce+1,scale:o,pageHighlights:m.filter(Te=>Te.page_number===ce+1),hoveredHighlightId:f,activeHighlightId:g,selectionForPicker:S,lensColors:x,onSelectionComplete:N,onHighlightHover:E,onHighlightHoverEnd:A,onHighlightEdit:B,onHighlightDelete:P},ce))}):null}function jv({pdf:s,pageNumber:o,scale:m,pageHighlights:f,hoveredHighlightId:g,activeHighlightId:S,selectionForPicker:x,lensColors:N=[],onSelectionComplete:q,onHighlightHover:E,onHighlightHoverEnd:A,onHighlightEdit:B,onHighlightDelete:P}){const ye=F.useRef(null),X=F.useRef(null),le=F.useRef(null),J=F.useRef(null),[Ae,fe]=F.useState({width:0,height:0}),[he,ce]=F.useState([]),[Te,de]=F.useState(null),[we,Pe]=F.useState(null),[Xe,Ne]=F.useState(!1),tt=F.useRef(null),ke=F.useRef(null),Fe=F.useCallback(()=>{ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>{A?.(),ke.current=null},1e3)},[A]),je=F.useCallback(be=>{ke.current&&(clearTimeout(ke.current),ke.current=null),E?.(be)},[E]);F.useEffect(()=>()=>{ke.current&&clearTimeout(ke.current)},[]),F.useEffect(()=>{let be=!1;return(async()=>{const De=await s.getPage(o),Ke=gv(),Je=De.getViewport({scale:m}),ft=De.getViewport({scale:m*Ke}),te=X.current;if(!te||be)return;const pe=te.getContext("2d",{alpha:!1});pe.imageSmoothingEnabled=!0,pe.imageSmoothingQuality="high",te.width=ft.width,te.height=ft.height,te.style.width=`${Je.width}px`,te.style.height=`${Je.height}px`,fe({width:Je.width,height:Je.height}),await De.render({canvasContext:pe,viewport:ft}).promise;const qe=await De.getTextContent();if(be)return;const ie=vv(qe,Je,m);ce(ie);const Ge=le.current;!Ge||be||(Ge.innerHTML="",Ge.style.width=`${Je.width}px`,Ge.style.height=`${Je.height}px`,ie.forEach(He=>{const St=document.createElement("span");St.textContent=He.text,St.style.position="absolute",St.style.left=`${He.x}px`,St.style.top=`${He.y}px`,St.style.width=`${He.w}px`,St.style.height=`${He.h}px`,St.style.fontSize=`${He.fontSize}px`,St.style.fontFamily="sans-serif",St.style.color="transparent",St.style.whiteSpace="pre",St.style.pointerEvents="none",St.style.lineHeight="1",Ge.appendChild(St)}))})(),()=>{be=!0}},[s,o,m]);const Ve=F.useMemo(()=>{if(x&&x.pageNumber===o){const De=Math.min(x.spanStart,x.spanEnd),Ke=Math.max(x.spanStart,x.spanEnd);return he.filter(Je=>Je.id>=De&&Je.id<=Ke)}if(Te==null||we==null)return[];const be=Math.min(Te,we),_e=Math.max(Te,we);return he.filter(De=>De.id>=be&&De.id<=_e)},[he,x,o,Te,we]);F.useEffect(()=>{x===null&&tt.current?.pageNumber===o&&(de(null),Pe(null)),tt.current=x},[x,o]);const Y=F.useCallback((be,_e)=>{const De=ye.current?.getBoundingClientRect();return De?{x:be-De.left,y:_e-De.top}:{x:0,y:0}},[]),me=F.useCallback(be=>{if(be.button!==0||!he.length)return;const{x:_e,y:De}=Y(be.clientX,be.clientY),Ke=wp(he,_e,De);Ke?(de(Ke.id),Pe(Ke.id),Ne(!0)):(de(null),Pe(null))},[he,Y]),ge=F.useCallback(be=>{if(!Xe)return;const{x:_e,y:De}=Y(be.clientX,be.clientY),Ke=wp(he,_e,De);Ke&&Pe(Ke.id)},[Xe,he,Y]),Ee=F.useCallback(be=>{if(be.button!==0||!Xe)return;if(Ne(!1),Ve.length<2){de(null),Pe(null);return}if(!q)return;const _e=ye.current?.getBoundingClientRect();if(!_e)return;const De={rects:Sv(Ve,m)},Ke=xv(Ve),Je=Ve[Ve.length-1],ft={x:_e.left+(Je.x+Je.w/2),y:_e.top+(Je.y-8)};q({pageNumber:o,position_data:De,highlighted_text:Ke,spanStart:Math.min(Te,we),spanEnd:Math.max(Te,we),pickerPosition:ft})},[Xe,Ve,Te,we,m,o,q]);F.useEffect(()=>{const be=J.current||ye.current;if(be)return be.addEventListener("mousedown",me),be.addEventListener("mousemove",ge),be.addEventListener("mouseup",Ee),be.addEventListener("mouseleave",Ee),()=>{be.removeEventListener("mousedown",me),be.removeEventListener("mousemove",ge),be.removeEventListener("mouseup",Ee),be.removeEventListener("mouseleave",Ee)}},[me,ge,Ee]);const Be=F.useMemo(()=>Pp(Ve),[Ve]);return d.jsxs("div",{ref:ye,"data-page":o,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ae.width||0,height:Ae.height||0,cursor:"text"},title:"Drag to highlight text",children:[d.jsx("canvas",{ref:X,className:"block w-full h-full",style:{display:"block"}}),d.jsxs("div",{ref:J,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[f.map(be=>{const _e=be.position_data?.rects||[],De=(N??[]).find(Ge=>Ge.key===be.color),Ke=sl[be.color]||sl.yellow,Je=De?.hex??Ke?.hex??Ke?.solid,ft=g!=null&&String(be.id)===String(g),te=S!=null&&String(be.id)===String(S),pe=ft||te?Mr(Je,.38):Mr(Je,.18),qe=B||P;let ie=null;if(_e.length>0){const Ge=Math.min(..._e.map(ve=>ve.x))*m,He=Math.min(..._e.map(ve=>ve.y))*m,St=Math.max(..._e.map(ve=>(ve.x||0)+(ve.width||0)))*m,xn=Math.max(..._e.map(ve=>(ve.y||0)+(ve.height||4)))*m;ie={left:Ge,top:He,width:St-Ge,height:xn-He}}return ie?d.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:ie.left,top:ie.top,width:ie.width,height:ie.height,pointerEvents:"auto"},onMouseEnter:()=>je(be.id),onMouseLeave:Fe,children:[_e.map((Ge,He)=>d.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(Ge.x||0)*m-ie.left,top:(Ge.y||0)*m-ie.top,width:Math.max(0,(Ge.width||0)*m),height:Math.max(4,(Ge.height||0)*m),backgroundColor:pe,pointerEvents:"none"}},He)),qe&&ft&&ie&&d.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>je(be.id),onMouseLeave:Fe,children:[B&&d.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),B(be.id,Ge)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:d.jsx(bo,{className:"w-3.5 h-3.5",strokeWidth:2})}),P&&d.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),P(be.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:d.jsx(Lu,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},be.id):null}),Be.map((be,_e)=>{const De=Math.min(...be.map(ie=>ie.x)),Ke=Math.max(...be.map(ie=>ie.x+ie.w)),Je=be.map(ie=>ie.y).sort((ie,Ge)=>ie-Ge),ft=Je[Math.floor(Je.length/2)],te=Math.max(...be.map(ie=>ie.h)),pe=2;return d.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${De-1}px`,top:`${ft-pe}px`,width:`${Ke-De+2}px`,height:`${te+pe+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},_e)})]}),d.jsx("div",{ref:le,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Nv({highlights:s,colorLabels:o,lensColors:m=[],documentColorKeys:f,activeHighlightId:g,onScrollToPage:S,onHighlightClick:x,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:E,documentId:A,onHighlightNoteUpdate:B,onHighlightDelete:P,openEditForHighlightId:ye,onClearOpenEditForHighlightId:X}){const le=m?.length>0?m.map(je=>je.key):f?.length>0?f:Ff,[J,Ae]=F.useState("all"),[fe,he]=F.useState(!1),[ce,Te]=F.useState(""),[de,we]=F.useState(null),[Pe,Xe]=F.useState("");F.useEffect(()=>{if(ye==null||!s?.length)return;const je=s.find(Ve=>String(Ve.id)===String(ye));je&&(we(je.id),Xe(je.note?.content??"")),X?.()},[ye,s,X]);const Ne=F.useMemo(()=>{let je=s||[];if(J!=="all"&&(je=je.filter(Ve=>Ve.color===J)),ce.trim()){const Ve=ce.trim().toLowerCase();je=je.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(Ve)||Y.note?.content&&Y.note.content.toLowerCase().includes(Ve))}return je},[s,J,ce]),tt=je=>{we(je.id),Xe(je.note?.content??"")},ke=async()=>{if(de==null||!A||!B){we(null);return}await B(de,Pe.trim()||""),we(null)},Fe=()=>{we(null),Xe("")};return d.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${Ti.default} ${Mi.surface}`,children:[d.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${Ti.default}`,children:[d.jsx("h2",{className:`text-[15px] font-semibold ${rt.heading} mb-1`,children:"Annotations"}),d.jsxs("p",{className:`text-xs ${rt.muted} mb-4`,children:[Ne.length," highlight",Ne.length!==1?"s":"",s?.length!==Ne.length&&` of ${s?.length||0}`]}),d.jsxs("div",{className:"space-y-2 mb-4",children:[d.jsx("div",{children:d.jsx("button",{type:"button",onClick:()=>{Ae("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${J==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${rt.secondary} hover:bg-slate-50`}`,children:"All"})}),d.jsxs("div",{children:[d.jsxs("button",{type:"button",onClick:()=>he(je=>!je),className:`flex items-center gap-1.5 text-[11px] font-semibold ${rt.secondary} hover:text-slate-800 transition-colors`,children:[fe?d.jsx(zf,{className:"w-3.5 h-3.5 shrink-0"}):d.jsx(Ob,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!fe&&d.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:le.map(je=>{const Ve=(s||[]).filter(be=>be.color===je).length,Y=sl[je],ge=m?.find(be=>be.key===je)?.hex??Y?.hex??Y?.solid??"#94a3b8",Ee=Zl(je,o,m),Be=J===je;return d.jsxs("button",{type:"button",onClick:()=>{Ae(Be?"all":je),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${Be?"border-transparent":`border-slate-200 ${rt.secondary} hover:bg-slate-50`}`,style:Be?{backgroundColor:`${ge}25`,color:ge}:void 0,children:[d.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ge,opacity:1}}),d.jsx("span",{children:Ee}),d.jsxs("span",{className:Be?"opacity-80":rt.muted,children:["(",Ve,")"]})]},je)})})]})]}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx($p,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),d.jsx("input",{type:"text",placeholder:"Search highlights...",value:ce,onChange:je=>Te(je.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${Ti.default} rounded-lg bg-slate-50 outline-none ${rt.body} placeholder:${rt.muted}`})]})]}),d.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:s?.length?Ne.length?d.jsx("ul",{className:"space-y-1.5",children:Ne.map(je=>{const Ve=sl[je.color]||sl.yellow,me=m?.find(Be=>Be.key===je.color)?.hex??Ve?.hex??Ve?.solid??"#94a3b8",ge=je.note?.content,Ee=g!=null&&String(je.id)===String(g);return d.jsx("li",{children:d.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ee?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{x?.(je.id),S?.(je.page_number)},onKeyDown:Be=>{Be.target.tagName==="TEXTAREA"||Be.target.tagName==="INPUT"||Be.target.isContentEditable||(Be.key==="Enter"||Be.key===" ")&&(Be.preventDefault(),x?.(je.id),S?.(je.page_number))},onMouseEnter:()=>N?.(je.id),onMouseLeave:q,children:[d.jsxs("div",{className:"flex gap-2.5",children:[d.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:me,opacity:Ee?1:.6}}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:`text-xs leading-snug ${rt.body} line-clamp-3`,children:je.highlighted_text||"(No text captured)"})})]}),de===je.id?d.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[d.jsx("textarea",{value:Pe,onChange:Be=>Xe(Be.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${Ti.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${rt.body}`}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{type:"button",onClick:ke,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),d.jsx("button",{type:"button",onClick:Fe,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):d.jsxs(d.Fragment,{children:[ge&&d.jsx("p",{className:`text-[11.5px] ${rt.muted} mt-2 pl-3.5 leading-snug italic`,children:ge}),A&&B&&d.jsx("button",{type:"button",onClick:()=>tt(je),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:ge?"Edit comment":"Add comment"})]}),d.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[d.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:me,backgroundColor:`${me}12`},children:Zl(je.color,o,m)}),d.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",je.page_number]}),A&&P&&d.jsx("button",{type:"button",onClick:Be=>{Be.stopPropagation(),P(je.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:d.jsx(Lu,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},je.id)})}):d.jsx("div",{className:`py-6 text-center ${rt.muted} text-sm`,children:"No matching highlights."}):d.jsxs("div",{className:`py-8 text-center ${rt.muted} text-sm`,children:[d.jsx(Xf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{children:"No highlights yet."}),d.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Bf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function _v(s,o){return s?.length?[...s].sort((f,g)=>(f.sort_order??0)-(g.sort_order??0)).map((f,g)=>({colorKey:f.key,color:f.hex,shortcut:String(g+1)})):o?.length>0?o.map(m=>Bf.find(f=>f.colorKey===m)).filter(Boolean):Bf}function Ev({position:s,onSelect:o,onClose:m,colorLabels:f,documentColorKeys:g,lensColors:S=[]}){const x=F.useRef(null),N=F.useRef(null),[q,E]=F.useState(null),[A,B]=F.useState(""),[P,ye]=F.useState(!1),[X,le]=F.useState(!1),J=F.useMemo(()=>_v(S,g),[S,g]),Ae=J.length>0?J:Bf,fe=F.useCallback(de=>Zl(de,f,S),[f,S]);F.useEffect(()=>{P&&N.current&&N.current.focus()},[P]);const he=F.useCallback(de=>{E(de.colorKey),P||(o(de.colorKey,""),le(!0),setTimeout(()=>m(),400))},[P,o,m]),ce=F.useCallback(()=>{q&&(o(q,A.trim()||void 0),le(!0),setTimeout(()=>m(),400))},[q,A,o,m]);if(F.useEffect(()=>{const de=we=>{if(we.key==="Escape"){m();return}if(!P){const Pe=parseInt(we.key,10);if(Pe>=1&&Pe<=Ae.length){const Xe=Ae[Pe-1];Xe&&he(Xe)}}P&&we.key==="Enter"&&(we.metaKey||we.ctrlKey)&&(we.preventDefault(),ce())};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[P,q,A,m,he,ce,Ae]),F.useEffect(()=>{const de=we=>{x.current&&!x.current.contains(we.target)&&m()};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[m]),F.useEffect(()=>{B(""),E(null),ye(!1),le(!1)},[s]),!s)return null;const Te=q?Ae.find(de=>de.colorKey===q):null;return d.jsx("div",{ref:x,className:"fixed z-1000",style:{left:s.x,top:s.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:X?d.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[d.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:Te?.color??"#64748b"},children:d.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:d.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),d.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):d.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:P?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[d.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ae.map((de,we)=>d.jsx("button",{type:"button",onClick:()=>he(de),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===de.colorKey?`${de.color}25`:"transparent"},children:d.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:de.color,boxShadow:q===de.colorKey?`0 0 0 2px ${de.color}80`:"none",transform:q===de.colorKey?"scale(1.15)":"scale(1)"}})},de.colorKey)),d.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),d.jsx("button",{type:"button",onClick:()=>ye(!P),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${P?"bg-slate-100":"hover:bg-slate-100"}`,children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[d.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M5.5 6H10.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),d.jsx("path",{d:"M5.5 8.5H8.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),d.jsx("path",{d:"M10 13.5V10H13.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),d.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:d.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),P&&d.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!Te&&d.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),Te&&d.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[d.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:Te.color}}),d.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:fe(Te.colorKey)})]}),d.jsx("textarea",{ref:N,value:A,onChange:de=>B(de.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),d.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:d.jsx("button",{type:"button",onClick:ce,disabled:!Te,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Cv=5;function Av({lens:s,documentId:o,onClose:m}){const f=zr(),g=s?.colors??[],S=!s||s.is_system,N=oa({mutationFn:({colorId:E,data:A})=>Oi.updateColor(s.id,E,A),onSuccess:()=>{f.invalidateQueries({queryKey:["lenses"]}),f.invalidateQueries({queryKey:["document",o]})}}),q=d.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Mi.surface} rounded-xl shadow-xl border ${Ti.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:E=>E.stopPropagation(),onMouseDown:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[d.jsx("h3",{className:`text-base font-semibold ${rt.heading}`,children:"Edit lens"}),s&&d.jsx("p",{className:`text-xs ${rt.muted} mt-0.5`,children:s.name})]}),d.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:S?d.jsx("p",{className:`text-sm ${rt.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):d.jsxs("div",{children:[d.jsxs("p",{className:`text-xs ${rt.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Cv,")"]}),d.jsx("div",{className:"space-y-2",children:g.map(E=>d.jsxs("div",{className:"flex items-center gap-2.5",children:[d.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:E.hex}}),d.jsx("input",{type:"text",defaultValue:E.display_name,placeholder:"Label",onBlur:A=>{const B=A.target.value.trim();B&&B!==E.display_name&&N.mutate({colorId:E.id,data:{display_name:B}})},className:`flex-1 min-w-0 rounded-lg border ${Ti.default} px-2.5 py-1.5 text-sm ${rt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]},E.id))})]})}),d.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:d.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?q:w0.createPortal(q,document.body)}function Ov({position:s,initialValue:o="",onSave:m,onClose:f}){const[g,S]=F.useState(o),x=F.useRef(null),N=F.useRef(null);return F.useEffect(()=>{S(o)},[o,s]),F.useEffect(()=>{N.current?.focus()},[s]),F.useEffect(()=>{const q=E=>{E.key==="Escape"&&f(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,f]),F.useEffect(()=>{const q=E=>{x.current&&!x.current.contains(E.target)&&f()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[f]),s?d.jsxs("div",{ref:x,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:s.x,top:s.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[d.jsx("textarea",{ref:N,value:g,onChange:q=>S(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:f,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Tv(){const{id:s}=Uf(),o=Ri(),m=zr(),[f,g]=F.useState(null),[S,x]=F.useState(!1),[N,q]=F.useState(!0),[E,A]=F.useState(1.3),[B,P]=F.useState(!0),[ye,X]=F.useState(null),[le,J]=F.useState(null),[Ae,fe]=F.useState(null),[he,ce]=F.useState(null),[Te,de]=F.useState(null),[we,Pe]=F.useState(0),[Xe,Ne]=F.useState(1),[tt,ke]=F.useState(!1),[Fe,je]=F.useState(null),[Ve,Y]=F.useState(null),[me,ge]=F.useState(null),{data:Ee,isLoading:Be,isError:be}=ta({queryKey:["document",s],queryFn:async()=>{const{data:oe}=await ln.get(s);return oe},enabled:!!s});F.useEffect(()=>{if(!Ee||!s)return;let oe=!1;return(async()=>{q(!0);try{const bt=await pv(Ee);oe||(bt?g(bt.data):x(!0))}finally{oe||q(!1)}})(),()=>{oe=!0}},[Ee,s]);const{data:_e=[]}=ta({queryKey:["highlights",s],queryFn:async()=>{const{data:oe}=await ln.highlights(s);return oe},enabled:!!s}),{data:De=[]}=ta({queryKey:["lenses"],queryFn:async()=>{const{data:oe}=await Oi.list();return oe}}),Ke=F.useMemo(()=>De.length?Ee?.highlight_preset!=null?De.find(oe=>oe.id===Ee.highlight_preset)??null:De.find(oe=>oe.is_system)??De[0]??null:null,[De,Ee?.highlight_preset]),Je=F.useMemo(()=>Ke?.colors??Ee?.highlight_preset_detail?.colors??[],[Ke?.colors,Ee?.highlight_preset_detail?.colors]),ft=F.useMemo(()=>{if(Je?.length)return Je.map(Ie=>Ie.key);const oe=Object.keys(Ee?.color_labels||{});return oe.length>0?oe:[...Ff]},[Je,Ee?.color_labels]),te=oa({mutationFn:({documentId:oe,payload:Ie})=>ln.update(oe,Ie),onSuccess:(oe,{documentId:Ie})=>{m.invalidateQueries({queryKey:["document",Ie]})}}),pe=F.useCallback(async oe=>{if(s)try{await ln.createHighlight(s,oe),m.invalidateQueries({queryKey:["highlights",s]}),fe(null),ce(null),de(null)}catch(Ie){console.error("Failed to save highlight",Ie)}},[s,m]),qe=F.useCallback(oe=>{fe({page_number:oe.pageNumber,position_data:oe.position_data,highlighted_text:oe.highlighted_text}),ce(oe.pickerPosition),de({pageNumber:oe.pageNumber,spanStart:oe.spanStart,spanEnd:oe.spanEnd})},[]),ie=F.useCallback((oe,Ie)=>{Ae&&pe({...Ae,color:oe,comment:Ie})},[Ae,pe]),Ge=F.useCallback(()=>{fe(null),ce(null),de(null)},[]),He=F.useCallback(oe=>{Ne(oe),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${oe}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),St=F.useCallback(oe=>{J(Ie=>Ie!=null&&String(Ie)===String(oe)?null:oe)},[]),xn=F.useCallback(oe=>Pe(oe??0),[]),ve=F.useCallback(()=>{if(Xe<=1)return;const oe=Xe-1;Ne(oe),He(oe)},[Xe,He]),mt=F.useCallback(()=>{if(Xe>=we)return;const oe=Xe+1;Ne(oe),He(oe)},[Xe,we,He]),Oa=async oe=>{const Ie=oe.target.files?.[0];if(!Ie||!Ee||!s)return;const bt=await Ie.arrayBuffer(),_t=await Wp(bt);if(_t!==Ee.pdf_hash){alert("This file does not match the original document.");return}try{const Nn=new FormData;Nn.append("file",new Blob([bt],{type:"application/pdf"}),Ie.name||Ee.filename||"document.pdf"),await ln.uploadPdf(s,Nn)}catch(Nn){const na=Nn.response?.data?.detail??Nn.message??"Upload failed";alert(typeof na=="string"?na:JSON.stringify(na));return}await Zf(_t,Ee.filename||Ie.name,Ie.size,bt),g(bt),x(!1)};return s?Be||N?d.jsx("div",{className:`${Hu} flex items-center justify-center min-h-[50vh]`,children:d.jsx(Aa,{className:`w-8 h-8 ${rt.muted} animate-spin`})}):be||!Ee&&!Be?d.jsxs("div",{className:`${Hu} flex flex-col items-center justify-center min-h-[50vh]`,children:[d.jsx("h2",{className:`text-lg font-semibold ${rt.heading} mb-2`,children:"Document not found"}),d.jsx("p",{className:`text-sm ${rt.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),d.jsx("button",{type:"button",onClick:()=>o(Ee?.project?`/project/${Ee.project}`:"/"),className:yo,children:"Back to project"})]}):S?d.jsxs("div",{className:`${Hu} flex flex-col items-center justify-center`,children:[d.jsx(Rf,{className:`w-12 h-12 ${rt.muted} mb-4`}),d.jsx("h2",{className:`text-lg font-semibold ${rt.heading} mb-2`,children:"PDF needed on this device"}),d.jsxs("p",{className:`text-sm ${rt.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",d.jsx("strong",{children:Ee?.filename}),"."]}),d.jsxs("label",{className:`${yo} inline-flex items-center gap-2`,children:[d.jsx(Rf,{className:"w-4 h-4"})," Upload PDF",d.jsx("input",{type:"file",accept:".pdf",onChange:Oa,className:"hidden"})]}),d.jsx("button",{type:"button",onClick:()=>o(Ee?.project?`/project/${Ee.project}`:"/"),className:`mt-4 text-sm ${rt.muted} hover:underline`,children:"Back to project"})]}):d.jsxs("div",{className:`h-screen flex flex-col ${Mi.page} overflow-hidden`,children:[d.jsxs("header",{className:`${yb} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{type:"button",onClick:()=>o(Ee?.project?`/project/${Ee.project}`:"/"),className:so,title:"Back to project",children:d.jsx(_o,{className:"w-4 h-4"})}),d.jsx("p",{className:`text-sm font-medium ${rt.heading} truncate max-w-xs`,children:Ee?.filename})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[De.length>0&&d.jsx("select",{value:Ee?.highlight_preset!=null?String(Ee.highlight_preset):De.find(oe=>oe.is_system)?.id??"",onChange:oe=>{const Ie=oe.target.value,bt=Ie===""?null:Number(Ie);s&&(_e.length>0?ge(bt):te.mutate({documentId:s,payload:{highlight_preset:bt}}))},className:`text-xs rounded-lg border ${Ti.default} ${Mi.surface} py-1.5 pl-2 pr-7 ${rt.body} cursor-pointer max-w-44`,title:"Highlight lens",children:De.map(oe=>d.jsx("option",{value:oe.id,children:oe.name},oe.id))}),d.jsx("button",{type:"button",onClick:()=>ke(!0),className:so,title:"Edit lens",children:d.jsx(Ib,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>o(`/document/${s}/summary`),className:so,title:"Summary",children:d.jsx(Ub,{className:"w-4 h-4"})}),d.jsx("div",{className:bp}),d.jsxs("div",{className:`flex items-center gap-1 ${Mi.muted} rounded-lg px-1 py-0.5`,children:[d.jsx("button",{type:"button",onClick:()=>A(oe=>Math.max(.5,oe-.1)),className:`p-1.5 ${rt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:d.jsx(rv,{className:"w-3.5 h-3.5"})}),d.jsxs("span",{className:`text-xs ${rt.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),d.jsx("button",{type:"button",onClick:()=>A(oe=>Math.min(3,oe+.1)),className:`p-1.5 ${rt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:d.jsx(lv,{className:"w-3.5 h-3.5"})})]}),d.jsx("div",{className:bp}),d.jsx("button",{type:"button",onClick:()=>P(oe=>!oe),className:so,title:B?"Close annotations":"Open annotations",children:B?d.jsx(Gb,{className:"w-4 h-4"}):d.jsx(Zb,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[f&&d.jsx(wv,{pdfData:f,scale:E,highlights:_e,hoveredHighlightId:ye,activeHighlightId:le,selectionForPicker:Te,lensColors:Je,onSelectionComplete:qe,onNumPages:xn,onHighlightHover:X,onHighlightHoverEnd:()=>X(null),onHighlightEdit:(oe,Ie)=>{const bt=Ie?.target?.getBoundingClientRect?.();bt?Y({highlightId:oe,x:bt.left+bt.width/2,y:bt.bottom}):(je(oe),P(!0))},onHighlightDelete:async oe=>{s&&(await ln.deleteHighlight(s,oe),m.invalidateQueries({queryKey:["highlights",s]}),String(le)===String(oe)&&J(null),String(ye)===String(oe)&&X(null))}}),he&&d.jsx(Ev,{position:he,onSelect:ie,onClose:Ge,colorLabels:Ee?.color_labels,documentColorKeys:ft,lensColors:Je}),Ve&&d.jsx(Ov,{position:{x:Ve.x,y:Ve.y},initialValue:(_e||[]).find(oe=>String(oe.id)===String(Ve.highlightId))?.note?.content??"",onSave:async oe=>{s&&(await ln.updateHighlight(s,Ve.highlightId,{note:oe}),m.invalidateQueries({queryKey:["highlights",s]}),Y(null))},onClose:()=>Y(null)}),tt&&d.jsx(Av,{lens:Ke,documentId:s,onClose:()=>ke(!1)}),me!==null&&d.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>ge(null),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:oe=>oe.stopPropagation(),children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),d.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",d.jsx("strong",{children:_e.length})," highlight",_e.length!==1?"s":"",". Switching lenses will ",d.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:()=>ge(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),d.jsx("button",{type:"button",onClick:async()=>{const oe=me;ge(null);for(const Ie of _e)await ln.deleteHighlight(s,Ie.id);m.invalidateQueries({queryKey:["highlights",s]}),J(null),X(null),te.mutate({documentId:s,payload:{highlight_preset:oe}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),B&&d.jsx(Nv,{highlights:_e,colorLabels:Ee?.color_labels,lensColors:Je,documentColorKeys:ft,activeHighlightId:le,onScrollToPage:He,onHighlightClick:St,onHighlightHover:X,onHighlightHoverEnd:()=>X(null),onClearActive:()=>J(null),documentId:s,openEditForHighlightId:Fe,onClearOpenEditForHighlightId:()=>je(null),onHighlightNoteUpdate:async(oe,Ie)=>{s&&(await ln.updateHighlight(s,oe,{note:Ie}),m.invalidateQueries({queryKey:["highlights",s]}))},onHighlightDelete:async oe=>{s&&(await ln.deleteHighlight(s,oe),m.invalidateQueries({queryKey:["highlights",s]}),String(le)===String(oe)&&J(null),String(ye)===String(oe)&&X(null))}})]}),we>0&&d.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${B?"right-80":"right-0"}`,children:[d.jsx("button",{type:"button",onClick:ve,disabled:Xe<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),d.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Xe," of ",we]}),d.jsx("button",{type:"button",onClick:mt,disabled:Xe>=we,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(o("/",{replace:!0}),null)}const Dv="modulepreload",Mv=function(s){return"/static/frontend/"+s},jp={},qf=function(o,m,f){let g=Promise.resolve();if(m&&m.length>0){let q=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),N=x?.nonce||x?.getAttribute("nonce");g=q(m.map(E=>{if(E=Mv(E),E in jp)return;jp[E]=!0;const A=E.endsWith(".css"),B=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${B}`))return;const P=document.createElement("link");if(P.rel=A?"stylesheet":Dv,A||(P.as="script"),P.crossOrigin="",P.href=E,N&&P.setAttribute("nonce",N),document.head.appendChild(P),A)return new Promise((ye,X)=>{P.addEventListener("load",ye),P.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${E}`)))})}))}function S(x){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=x,window.dispatchEvent(N),!N.defaultPrevented)throw x}return g.then(x=>{for(const N of x||[])N.status==="rejected"&&S(N.reason);return o().catch(S)})};function zv(s){return F.useMemo(()=>{const o={};return s?.length&&s.forEach(m=>{o[m.key]={hex:m.hex,displayName:m.display_name}}),o},[s])}function Or(s,o){if(o[s])return o[s].hex;const m=sl[s];return m?.hex??m?.solid??"#94a3b8"}function Rv(s){const o=parseInt((s||"#94a3b8").replace("#",""),16);return[o>>16&255,o>>8&255,o&255]}function kv(s,o,m,f,g){return[...s].sort((x,N)=>x.page_number!==N.page_number?x.page_number-N.page_number:new Date(x.created_at)-new Date(N.created_at)).map((x,N)=>({seq:N+1,text:x.highlighted_text||"",note:x.note?.content||"",page:x.page_number,category:Zl(x.color,o,m),colorKey:x.color,hex:Or(x.color,f)}))}function Bv(s,o,m,f,g){const S={};return s.forEach(x=>{(S[x.colorKey]??=[]).push(x)}),o.map(x=>({topic:Zl(x,m,f),hex:Or(x,g),items:S[x]||[]})).filter(x=>x.items.length>0)}async function qv(s,o,m){const[{Document:f,Packer:g,Paragraph:S,TextRun:x,HeadingLevel:N,BorderStyle:q},{saveAs:E}]=await Promise.all([qf(()=>import("./index-CMhXIFeh.js"),[]),qf(()=>import("./FileSaver.min-rgW_m_5v.js").then(ye=>ye.F),__vite__mapDeps([0,1]))]),A=[];A.push(new S({text:s,heading:N.HEADING_1,spacing:{after:200}})),A.push(new S({text:`${o.length} annotations`,spacing:{after:300},style:"Subtitle"})),m.forEach(({topic:ye,hex:X,items:le})=>{A.push(new S({spacing:{before:300,after:100},border:{bottom:{style:q.SINGLE,size:1,color:X.replace("#","")}},children:[new x({text:`${ye} (${le.length})`,bold:!0,size:24,color:X.replace("#","")})]})),le.forEach(J=>{A.push(new S({spacing:{before:120,after:40},children:[new x({text:`"${J.text}"`,italics:!0,size:21}),new x({text:`   p.${J.page}`,size:18,color:"94A3B8"})]})),J.note&&A.push(new S({spacing:{after:60},children:[new x({text:J.note,size:18,italics:!0,color:X.replace("#","")})]}))})});const B=new f({sections:[{children:A}]}),P=await g.toBlob(B);E(P,`${s.replace(/\.pdf$/i,"")}  Summary.docx`)}async function Uv(s,o,m){const{jsPDF:f}=await qf(async()=>{const{jsPDF:A}=await import("./jspdf.es.min-DlUlczts.js").then(B=>B.j);return{jsPDF:A}},[]),g=new f({unit:"mm",format:"a4"}),S=g.internal.pageSize.getWidth(),x=18,N=S-x*2;let q=x;const E=A=>{q+A>g.internal.pageSize.getHeight()-x&&(g.addPage(),q=x)};g.setFont("helvetica","bold"),g.setFontSize(16),g.text(s,x,q),q+=8,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100),g.text(`${o.length} annotations`,x,q),q+=12,m.forEach(({topic:A,hex:B,items:P})=>{E(18);const[ye,X,le]=Rv(B);g.setDrawColor(ye,X,le),g.setLineWidth(.5),g.line(x,q,x+N,q),q+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.setTextColor(ye,X,le),g.text(`${A} (${P.length})`,x,q),q+=7,P.forEach(J=>{E(14),g.setFont("helvetica","italic"),g.setFontSize(9.5),g.setTextColor(30),g.splitTextToSize(`"${J.text}"`,N-10).forEach(fe=>{E(5),g.text(fe,x+2,q),q+=4.2}),g.setFont("helvetica","normal"),g.setFontSize(8),g.setTextColor(148,163,184),g.text(`p.${J.page}  #${J.seq}`,x+2,q),q+=4,J.note&&(E(5),g.setFont("helvetica","italic"),g.setFontSize(8.5),g.setTextColor(ye,X,le),g.splitTextToSize(J.note,N-10).forEach(he=>{E(4.5),g.text(he,x+2,q),q+=4})),q+=3}),q+=4}),g.save(`${s.replace(/\.pdf$/i,"")}  Summary.pdf`)}function Hv(s,o){const m=new Blob([JSON.stringify({document:s,exported_at:new Date().toISOString(),annotations:o},null,2)],{type:"application/json"}),f=URL.createObjectURL(m);Object.assign(document.createElement("a"),{href:f,download:`${s.replace(/\.pdf$/i,"")}  Summary.json`}).click(),URL.revokeObjectURL(f)}function Lv(){const{id:s}=Uf(),o=Ri(),m=zr(),[f,g]=F.useState("sequence"),[S,x]=F.useState(""),[N,q]=F.useState([]),[E,A]=F.useState(null),[B,P]=F.useState(new Set),[ye,X]=F.useState(new Set),[le,J]=F.useState(null),[Ae,fe]=F.useState(""),[he,ce]=F.useState(!1),Te=F.useRef(null);F.useEffect(()=>{if(!he)return;const te=pe=>{Te.current&&!Te.current.contains(pe.target)&&ce(!1)};return window.addEventListener("mousedown",te),()=>window.removeEventListener("mousedown",te)},[he]);const{data:de,isLoading:we,isError:Pe}=ta({queryKey:["document",s],queryFn:async()=>(await ln.get(s)).data,enabled:!!s}),{data:Xe=[]}=ta({queryKey:["highlights",s],queryFn:async()=>(await ln.highlights(s)).data,enabled:!!s}),{data:Ne=[]}=ta({queryKey:["lenses"],queryFn:async()=>(await Oi.list()).data}),tt=F.useMemo(()=>Ne.length?de?.highlight_preset!=null?Ne.find(te=>te.id===de.highlight_preset)??null:Ne.find(te=>te.is_system)??Ne[0]??null:null,[Ne,de?.highlight_preset]),ke=F.useMemo(()=>tt?.colors??de?.highlight_preset_detail?.colors??[],[tt?.colors,de?.highlight_preset_detail?.colors]),Fe=de?.color_labels||{},je=zv(ke),Ve=F.useMemo(()=>ke?.length?ke.map(te=>te.key):Ff,[ke]),Y=oa({mutationFn:({highlightId:te,note:pe})=>ln.updateHighlight(s,te,{note:pe}),onSuccess:()=>{m.invalidateQueries({queryKey:["highlights",s]}),J(null),fe("")}}),me=F.useCallback(te=>{q(pe=>pe.includes(te)?pe.filter(qe=>qe!==te):[...pe,te])},[]),ge=F.useCallback(te=>{P(pe=>{const qe=new Set(pe);return qe.has(te)?qe.delete(te):qe.add(te),qe})},[]),Ee=F.useCallback(te=>{X(pe=>{const qe=new Set(pe);return qe.has(te)?qe.delete(te):qe.add(te),qe})},[]),Be=F.useCallback(async te=>{ce(!1);const pe=kv(Xe,Fe,ke,je),qe=Bv(pe,Ve,Fe,ke,je),ie=de?.filename||"Document";te==="docx"?await qv(ie,pe,qe):te==="pdf"?await Uv(ie,pe,qe):Hv(ie,pe)},[Xe,Fe,ke,je,Ve,de?.filename]),be=F.useMemo(()=>{const te={};return Xe.forEach(pe=>{te[pe.color]=(te[pe.color]||0)+1}),te},[Xe]),_e=F.useMemo(()=>Xe.filter(te=>{if(N.length>0&&!N.includes(te.color))return!1;if(S.trim()){const pe=S.toLowerCase();return te.highlighted_text?.toLowerCase().includes(pe)||te.note?.content?.toLowerCase().includes(pe)}return!0}),[Xe,N,S]),De=F.useMemo(()=>[..._e].sort((te,pe)=>te.page_number!==pe.page_number?te.page_number-pe.page_number:new Date(te.created_at)-new Date(pe.created_at)),[_e]),Ke=F.useMemo(()=>{if(f!=="topic")return[];const te={};return _e.forEach(pe=>{te[pe.color]||(te[pe.color]=[]),te[pe.color].push(pe)}),Ve.map(pe=>({colorKey:pe,topic:Zl(pe,Fe,ke),hex:Or(pe,je),items:(te[pe]||[]).sort((qe,ie)=>qe.page_number!==ie.page_number?qe.page_number-ie.page_number:new Date(qe.created_at)-new Date(ie.created_at))})).filter(pe=>pe.items.length>0)},[f,_e,Ve,Fe,ke,je]),Je=F.useMemo(()=>{if(f!=="page")return[];const te={};return _e.forEach(pe=>{const qe=pe.page_number;te[qe]||(te[qe]=[]),te[qe].push(pe)}),Object.entries(te).map(([pe,qe])=>({page:Number(pe),items:qe.sort((ie,Ge)=>new Date(ie.created_at)-new Date(Ge.created_at))})).sort((pe,qe)=>pe.page-qe.page)},[f,_e]);if(!s)return o("/",{replace:!0}),null;if(we)return d.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:d.jsx(Aa,{className:"w-8 h-8 text-slate-400 animate-spin"})});if(Pe||!de)return d.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Document not found"}),d.jsx("button",{type:"button",onClick:()=>o("/"),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700",children:"Back"})]});const ft=new Map;return[...Xe].sort((te,pe)=>te.page_number!==pe.page_number?te.page_number-pe.page_number:new Date(te.created_at)-new Date(pe.created_at)).forEach((te,pe)=>ft.set(te.id,pe+1)),d.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[d.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",style:{padding:"16px 32px"},children:d.jsxs("div",{className:"max-w-[1060px] mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{type:"button",onClick:()=>o(`/document/${s}`),className:"text-slate-500 hover:text-slate-700 text-sm flex items-center gap-1",children:[d.jsx(_o,{className:"w-4 h-4"}),"Back"]}),d.jsx("div",{className:"w-px h-5 bg-slate-200"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-[16px] font-semibold text-slate-900 tracking-tight",children:"Summary"}),d.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[300px]",children:de.filename})]})]}),d.jsxs("div",{className:"relative",ref:Te,children:[d.jsxs("button",{type:"button",onClick:()=>ce(te=>!te),disabled:!Xe.length,className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-md bg-slate-800 text-white text-[13px] font-medium hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[d.jsx(Rb,{className:"w-3.5 h-3.5"}),"Export"]}),he&&d.jsx("div",{className:"absolute right-0 top-full mt-1.5 bg-white border border-slate-200 rounded-lg shadow-lg py-1.5 z-50 min-w-[200px]",children:[{key:"docx",icon:Xf,label:"Word (.docx)",desc:"Formatted summary"},{key:"pdf",icon:Bb,label:"PDF (.pdf)",desc:"Print-ready export"},{key:"json",icon:Eb,label:"JSON (.json)",desc:"Structured data"}].map(te=>d.jsxs("button",{type:"button",onClick:()=>Be(te.key),className:"flex items-center gap-2.5 w-full px-3 py-2 text-left hover:bg-slate-50 transition-colors",children:[d.jsx(te.icon,{className:"w-4 h-4 text-slate-400 shrink-0"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[13px] font-medium text-slate-800",children:te.label}),d.jsx("div",{className:"text-[11px] text-slate-400",children:te.desc})]})]},te.key))})]})]}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-3 mb-3.5",children:[d.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[Xe.length," annotation",Xe.length!==1?"s":""]}),d.jsx("span",{className:"text-slate-300 mx-0.5",children:""}),Ve.map(te=>{const pe=be[te]||0;if(!pe)return null;const qe=Or(te,je);return d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{backgroundColor:qe}}),d.jsx("span",{className:"text-[11px] text-slate-500",children:pe})]},te)})]}),d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("div",{className:"flex bg-slate-100 rounded-md p-0.5",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(te=>d.jsx("button",{type:"button",onClick:()=>g(te.key),className:`px-3 py-1.5 rounded text-[12.5px] font-medium transition-all ${f===te.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:te.label},te.key))}),d.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 flex-1 max-w-[280px]",children:[d.jsx($p,{className:"w-3.5 h-3.5 text-slate-400"}),d.jsx("input",{type:"text",value:S,onChange:te=>x(te.target.value),placeholder:"Search annotations...",className:"border-0 bg-transparent outline-none text-[12.5px] text-slate-900 w-full placeholder:text-slate-400"}),S&&d.jsx("button",{type:"button",onClick:()=>x(""),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Ku,{className:"w-3.5 h-3.5"})})]}),B.size>0&&d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 rounded-md border border-blue-200",children:[d.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[B.size," selected"]}),d.jsx("button",{type:"button",onClick:()=>{const pe=Xe.filter(qe=>B.has(qe.id)).map(qe=>`"${qe.highlighted_text}"  p.${qe.page_number}`).join(`

`);navigator.clipboard?.writeText(pe)},className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-100",children:"Copy selected"}),d.jsx("button",{type:"button",onClick:()=>P(new Set),className:"text-blue-400 hover:text-blue-600",children:d.jsx(Ku,{className:"w-3.5 h-3.5"})})]})]}),d.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:Ve.map(te=>{const pe=be[te]||0;if(!pe)return null;const qe=Or(te,je),ie=Zl(te,Fe,ke),Ge=N.length===0||N.includes(te);return d.jsxs("button",{type:"button",onClick:()=>me(te),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all",style:{borderColor:Ge?qe:"#E2E8F0",background:Ge?Mr(qe,.08):"#fff",opacity:Ge?1:.5},children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:qe}}),d.jsx("span",{className:"text-xs font-medium",style:{color:Ge?qe:"#94A3B8"},children:ie}),d.jsx("span",{className:"text-[11px] font-semibold px-1.5 rounded",style:{color:Ge?qe:"#CBD5E1",background:Ge?Mr(qe,.1):"#F8FAFC"},children:pe})]},te)})})]})}),d.jsx("div",{className:"max-w-[1060px] mx-auto",style:{padding:"24px 32px 60px 64px"},children:Xe.length?_e.length===0?d.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:"No annotations match your search."}):f==="sequence"?d.jsx("div",{className:"flex flex-col gap-2",children:De.map(te=>d.jsx(Cf,{h:te,seq:ft.get(te.id),showCategory:!0,lensColorMap:je,colorLabels:Fe,lensColors:ke,hovered:E===te.id,selected:B.has(te.id),onHover:A,onLeave:()=>A(null),onSelect:ge,editingNoteId:le,editingNoteValue:Ae,onEditNote:pe=>{J(pe),fe(te.note?.content??"")},onChangeNote:fe,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{J(null),fe("")},savingNote:Y.isPending},te.id))}):f==="topic"?d.jsx("div",{className:"flex flex-col gap-5",children:Ke.map(({colorKey:te,topic:pe,hex:qe,items:ie})=>{const Ge=ye.has(te);return d.jsxs("div",{children:[d.jsxs("button",{type:"button",onClick:()=>Ee(te),className:"flex items-center gap-2 w-full pb-2.5 sticky top-[160px] z-10",children:[d.jsx(zf,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ge?"rotate(0deg)":"rotate(90deg)"}}),d.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:qe}}),d.jsx("span",{className:"text-sm font-semibold text-slate-900",children:pe}),d.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:ie.length})]}),!Ge&&d.jsx("div",{className:"flex flex-col gap-2",children:ie.map(He=>d.jsx(Cf,{h:He,seq:ft.get(He.id),showCategory:!1,lensColorMap:je,colorLabels:Fe,lensColors:ke,hovered:E===He.id,selected:B.has(He.id),onHover:A,onLeave:()=>A(null),onSelect:ge,editingNoteId:le,editingNoteValue:Ae,onEditNote:St=>{J(St),fe(He.note?.content??"")},onChangeNote:fe,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{J(null),fe("")},savingNote:Y.isPending},He.id))})]},te)})}):d.jsx("div",{className:"flex flex-col gap-5",children:Je.map(({page:te,items:pe})=>{const qe=`p${te}`,ie=ye.has(qe);return d.jsxs("div",{children:[d.jsxs("button",{type:"button",onClick:()=>Ee(qe),className:"flex items-center gap-2 pb-2.5 sticky top-[160px] z-10",children:[d.jsx(zf,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:ie?"rotate(0deg)":"rotate(90deg)"}}),d.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Page ",te]}),d.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:pe.length})]}),!ie&&d.jsx("div",{className:"flex flex-col gap-2",children:pe.map(Ge=>d.jsx(Cf,{h:Ge,seq:ft.get(Ge.id),showCategory:!0,lensColorMap:je,colorLabels:Fe,lensColors:ke,hovered:E===Ge.id,selected:B.has(Ge.id),onHover:A,onLeave:()=>A(null),onSelect:ge,editingNoteId:le,editingNoteValue:Ae,onEditNote:He=>{J(He),fe(Ge.note?.content??"")},onChangeNote:fe,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{J(null),fe("")},savingNote:Y.isPending},Ge.id))})]},qe)})}):d.jsxs("div",{className:"text-center py-16 text-slate-400 text-sm",children:[d.jsx("p",{children:"No highlights yet."}),d.jsx("p",{className:"mt-1",children:"Select text in the document to create highlights, then return here."}),d.jsx("button",{type:"button",onClick:()=>o(`/document/${s}`),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 mt-4",children:"Open document"})]})})]})}function Cf({h:s,seq:o,showCategory:m,lensColorMap:f,colorLabels:g,lensColors:S,hovered:x,selected:N,onHover:q,onLeave:E,onSelect:A,editingNoteId:B,editingNoteValue:P,onEditNote:ye,onChangeNote:X,onSaveNote:le,onCancelNote:J,savingNote:Ae}){const[fe,he]=F.useState(!1),ce=Or(s.color,f),Te=Zl(s.color,g,S),de=B===s.id,we=Pe=>{Pe.stopPropagation(),navigator.clipboard?.writeText(`"${s.highlighted_text}"  p.${s.page_number}`),he(!0),setTimeout(()=>he(!1),1500)};return d.jsxs("div",{className:"relative rounded-lg bg-white transition-all",style:{border:`1px solid ${x?Mr(ce,.3):"#E8ECF0"}`,borderLeft:`3px solid ${ce}`,padding:"14px 16px 12px 16px",boxShadow:x?"0 2px 8px rgba(0,0,0,0.06)":"none"},onMouseEnter:()=>q?.(s.id),onMouseLeave:()=>E?.(),children:[d.jsx("div",{className:"absolute transition-opacity",style:{top:14,left:-32,opacity:x||N?1:0},children:d.jsx("div",{onClick:Pe=>{Pe.stopPropagation(),A?.(s.id)},className:"w-[18px] h-[18px] rounded flex items-center justify-center cursor-pointer transition-all",style:{border:N?`2px solid ${ce}`:"2px solid #CBD5E1",background:N?ce:"#fff"},children:N&&d.jsx(go,{className:"w-3 h-3 text-white",strokeWidth:3})})}),d.jsxs("p",{className:"text-[13.5px] leading-[1.55] text-slate-900",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",s.highlighted_text||"(No text captured)",""]}),de?d.jsxs("div",{className:"mt-2 space-y-1.5",children:[d.jsx("textarea",{value:P,onChange:Pe=>X(Pe.target.value),rows:2,autoFocus:!0,className:"w-full text-[12.5px] border border-slate-200 rounded-lg px-2.5 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 text-slate-800",placeholder:"Add a note..."}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{type:"button",onClick:le,disabled:Ae,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Ae?"Saving":"Save"}),d.jsx("button",{type:"button",onClick:J,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):s.note?.content?d.jsx("p",{className:"mt-2 text-[12.5px] leading-normal italic",style:{color:ce},children:s.note.content}):x&&d.jsx("button",{type:"button",onClick:()=>ye(s.id),className:"mt-2 text-xs text-slate-400 hover:text-slate-600 cursor-pointer",children:"+ Add a note..."}),d.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100",children:[m&&d.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:ce,background:Mr(ce,.08)},children:Te}),d.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",s.page_number]}),o!=null&&d.jsxs("span",{className:"text-[10px] text-slate-300",children:["#",o]}),d.jsxs("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:x?1:0},children:[d.jsxs("button",{type:"button",onClick:we,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:fe?"#16A34A":"#64748B"},children:[fe?d.jsx(go,{className:"w-3 h-3"}):d.jsx(Mb,{className:"w-3 h-3"}),fe?"Copied":"Copy"]}),d.jsxs("button",{type:"button",onClick:()=>ye(s.id),className:"flex items-center gap-1 text-[11px] text-slate-500 border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",children:[d.jsx(bo,{className:"w-3 h-3"}),"Edit"]})]})]})]})}const Kv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Ci=5,Np=3;function Yv(){const s=zr(),[o,m]=F.useState(0),[f,g]=F.useState(""),[S,x]=F.useState([]),[N,q]=F.useState(null),[E,A]=F.useState(""),[B,P]=F.useState(null),[ye,X]=F.useState(""),{data:le=[]}=ta({queryKey:["lenses"],queryFn:async()=>{const{data:Ne}=await Oi.list();return Ne}}),J=le.filter(Ne=>!Ne.is_system),Ae=()=>{m(0),g(""),x([]),q(null),A("")},fe=oa({mutationFn:Ne=>Oi.create(Ne),onSuccess:()=>{s.invalidateQueries({queryKey:["lenses"]}),Ae()}}),he=oa({mutationFn:Ne=>Oi.delete(Ne),onSuccess:()=>s.invalidateQueries({queryKey:["lenses"]})}),ce=oa({mutationFn:({lensId:Ne,colorId:tt,displayName:ke})=>Oi.updateColor(Ne,tt,{display_name:ke}),onSuccess:()=>{s.invalidateQueries({queryKey:["lenses"]}),P(null),X("")}}),Te=new Set(S.map(Ne=>Ne.hex.toLowerCase())),de=Kv.filter(Ne=>!Te.has(Ne.toLowerCase())),we=()=>{!N||!E.trim()||(x(Ne=>[...Ne,{key:`color_${Date.now()}_${Ne.length}`,display_name:E.trim(),hex:N}]),q(null),A(""))},Pe=Ne=>{x(tt=>tt.filter((ke,Fe)=>Fe!==Ne))},Xe=()=>{!f.trim()||S.length!==Ci||fe.mutate({name:f.trim(),colors:S})};return d.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[d.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[d.jsx(Qb,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),d.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Ci," colour categories. You can create up to ",Np," custom lenses."]}),d.jsx("ul",{className:"space-y-2 mb-4",children:le.map(Ne=>d.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("span",{className:"font-medium text-slate-800 truncate",children:Ne.name}),Ne.is_system&&d.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!Ne.is_system&&d.jsx("button",{type:"button",onClick:()=>{window.confirm(`Delete lens "${Ne.name}"?`)&&he.mutate(Ne.id)},className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:d.jsx(Lu,{className:"w-3.5 h-3.5"})})]}),d.jsx("div",{className:"flex flex-wrap gap-1.5 items-center",children:(Ne.colors??[]).map(tt=>{const ke=B?.lensId===Ne.id&&B?.colorId===tt.id;return d.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[d.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:tt.hex}}),ke?d.jsx("input",{type:"text",value:ye,onChange:Fe=>X(Fe.target.value),onBlur:()=>{const Fe=ye.trim();Fe&&Fe!==tt.display_name?ce.mutate({lensId:Ne.id,colorId:tt.id,displayName:Fe}):(P(null),X(""))},onKeyDown:Fe=>{if(Fe.key==="Enter"){const je=ye.trim();je&&ce.mutate({lensId:Ne.id,colorId:tt.id,displayName:je})}Fe.key==="Escape"&&(P(null),X(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):d.jsx("button",{type:"button",onClick:()=>{Ne.is_system||(P({lensId:Ne.id,colorId:tt.id}),X(tt.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${Ne.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:tt.display_name})]},tt.id)})})]},Ne.id))}),J.length<Np&&d.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[d.jsx($b,{className:"w-4 h-4"}),"Create lens"]}),o>0&&d.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!fe.isPending&&Ae(),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:Ne=>Ne.stopPropagation(),children:[o===1&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),d.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),d.jsx("input",{type:"text",value:f,onChange:Ne=>g(Ne.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:Ne=>{Ne.key==="Enter"&&f.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:Ae,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),d.jsx("button",{type:"button",onClick:()=>m(2),disabled:!f.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),o===2&&d.jsxs(d.Fragment,{children:[d.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",S.length,"/",Ci,")"]}),d.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick ",Ci," colours and give each a label."]}),S.length>0&&d.jsx("div",{className:"space-y-1.5 mb-3",children:S.map((Ne,tt)=>d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[d.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:Ne.hex}}),d.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:Ne.display_name}),d.jsx("button",{type:"button",onClick:()=>Pe(tt),className:"text-slate-400 hover:text-red-500 shrink-0",children:d.jsx(Ku,{className:"w-3.5 h-3.5"})})]},tt))}),S.length<Ci&&d.jsx(d.Fragment,{children:N?d.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),d.jsx("input",{type:"text",value:E,onChange:Ne=>A(Ne.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:Ne=>{Ne.key==="Enter"&&we()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),d.jsx("button",{type:"button",onClick:we,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):d.jsxs("div",{className:"mb-3",children:[d.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",S.length+1," of ",Ci]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(Ne=>d.jsx("button",{type:"button",onClick:()=>{q(Ne),A("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:Ne}},Ne))})]})}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{m(1),x([]),q(null),A("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),d.jsx("button",{type:"button",onClick:Xe,disabled:S.length!==Ci||fe.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:fe.isPending?"Creating":"Create lens"})]})]})]})})]})}function Qv({onClose:s,onConfirm:o,isDeleting:m}){return d.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:s,children:d.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:f=>f.stopPropagation(),children:[d.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),d.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:s,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),d.jsx("button",{type:"button",onClick:o,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?d.jsxs(d.Fragment,{children:[d.jsx(Aa,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Xv(){const s=Ri(),o=ol(A=>A.logout),[m,f]=F.useState(!1),[g,S]=F.useState(!1),[x,N]=F.useState(""),q=()=>{o(),s("/login",{replace:!0})},E=async()=>{N(""),S(!0);try{await Dr.deleteAccount(),o(),s("/",{replace:!0})}catch(A){N(A.response?.data?.detail||A.message||"Something went wrong."),S(!1)}};return d.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[d.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),d.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>s("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:d.jsx(_o,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),d.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:d.jsx(Gf,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"max-w-[560px] mx-auto px-6 py-10",children:[d.jsx("h1",{className:"m-0 text-[28px] font-normal text-slate-950 tracking-tight",style:{fontFamily:"'Instrument Serif', serif"},children:"Account settings"}),d.jsx(Yv,{}),d.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[d.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),d.jsx("button",{type:"button",onClick:()=>f(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),x&&d.jsx("p",{className:"mt-4 text-sm text-red-600",children:x})]}),m&&d.jsx(Qv,{onClose:()=>!g&&f(!1),onConfirm:E,isDeleting:g})]})}const Gv=new y0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function qu({children:s}){return ol(m=>m.token)?s:d.jsx(mo,{to:"/login",replace:!0})}function _p({children:s}){return ol(m=>m.token)?d.jsx(mo,{to:"/app",replace:!0}):s}function Vv(){return d.jsx(g0,{client:Gv,children:d.jsx(j0,{children:d.jsxs(N0,{children:[d.jsx(rl,{path:"/login",element:d.jsx(_p,{children:d.jsx(gb,{})})}),d.jsx(rl,{path:"/register",element:d.jsx(_p,{children:d.jsx(bb,{})})}),d.jsx(rl,{path:"/",element:d.jsx(mo,{to:"/app",replace:!0})}),d.jsx(rl,{path:"/app",element:d.jsx(qu,{children:d.jsx(cv,{})})}),d.jsx(rl,{path:"/app/settings",element:d.jsx(qu,{children:d.jsx(Xv,{})})}),d.jsx(rl,{path:"/project/:projectId",element:d.jsx(qu,{children:d.jsx(yv,{})})}),d.jsx(rl,{path:"/document/:id",element:d.jsx(qu,{children:d.jsx(Tv,{})})}),d.jsx(rl,{path:"/document/:id/summary",element:d.jsx(qu,{children:d.jsx(Lv,{})})}),d.jsx(rl,{path:"*",element:d.jsx(mo,{to:"/app",replace:!0})})]})})})}M0.createRoot(document.getElementById("root")).render(d.jsx(F.StrictMode,{children:d.jsx(Vv,{})}));export{qf as _};
