const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as o,u as Ui,a as Ln,b as An,Q as C0,c as A0}from"./query-CQ1uvarX.js";import{a as O0,b as D0,R as fo,u as ls,r as U,L as Bp,c as T0,g as M0,d as Xf,e as z0,B as k0,f as R0,h as La,N as vo}from"./react-OW7IPSYu.js";import{G as B0,g as q0,U as U0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const S of v.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=m(g);fetch(g.href,v)}})();var Ef={exports:{}},Lr={},Cf={exports:{}},Af={};var tp;function H0(){return tp||(tp=1,(function(r){function c(Y,ue){var be=Y.length;Y.push(ue);e:for(;0<be;){var Ae=be-1>>>1,Me=Y[Ae];if(0<g(Me,ue))Y[Ae]=ue,Y[be]=Me,be=Ae;else break e}}function m(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var ue=Y[0],be=Y.pop();if(be!==ue){Y[0]=be;e:for(var Ae=0,Me=Y.length,X=Me>>>1;Ae<X;){var oe=2*(Ae+1)-1,Ne=Y[oe],Be=oe+1,Pe=Y[Be];if(0>g(Ne,be))Be<Me&&0>g(Pe,Ne)?(Y[Ae]=Pe,Y[Be]=be,Ae=Be):(Y[Ae]=Ne,Y[oe]=be,Ae=oe);else if(Be<Me&&0>g(Pe,be))Y[Ae]=Pe,Y[Be]=be,Ae=Be;else break e}}return ue}function g(Y,ue){var be=Y.sortIndex-ue.sortIndex;return be!==0?be:Y.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;r.unstable_now=function(){return v.now()}}else{var S=Date,N=S.now();r.unstable_now=function(){return S.now()-N}}var q=[],E=[],k=1,A=null,V=3,ge=!1,Z=!1,ie=!1,P=!1,De=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var ue=m(E);ue!==null;){if(ue.callback===null)d(E);else if(ue.startTime<=Y)d(E),ue.sortIndex=ue.expirationTime,c(q,ue);else break;ue=m(E)}}function Se(Y){if(ie=!1,ae(Y),!Z)if(m(q)!==null)Z=!0,xe||(xe=!0,le());else{var ue=m(E);ue!==null&&He(Se,ue.startTime-Y)}}var xe=!1,je=-1,Ze=5,$e=-1;function rt(){return P?!0:!(r.unstable_now()-$e<Ze)}function Ke(){if(P=!1,xe){var Y=r.unstable_now();$e=Y;var ue=!0;try{e:{Z=!1,ie&&(ie=!1,de(je),je=-1),ge=!0;var be=V;try{t:{for(ae(Y),A=m(q);A!==null&&!(A.expirationTime>Y&&rt());){var Ae=A.callback;if(typeof Ae=="function"){A.callback=null,V=A.priorityLevel;var Me=Ae(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof Me=="function"){A.callback=Me,ae(Y),ue=!0;break t}A===m(q)&&d(q),ae(Y)}else d(q);A=m(q)}if(A!==null)ue=!0;else{var X=m(E);X!==null&&He(Se,X.startTime-Y),ue=!1}}break e}finally{A=null,V=be,ge=!1}ue=void 0}}finally{ue?le():xe=!1}}}var le;if(typeof Ce=="function")le=function(){Ce(Ke)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ce=we.port2;we.port1.onmessage=Ke,le=function(){ce.postMessage(null)}}else le=function(){De(Ke,0)};function He(Y,ue){je=De(function(){Y(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(Y){switch(V){case 1:case 2:case 3:var ue=3;break;default:ue=V}var be=V;V=ue;try{return Y()}finally{V=be}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var be=V;V=Y;try{return ue()}finally{V=be}},r.unstable_scheduleCallback=function(Y,ue,be){var Ae=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ae+be:Ae):be=Ae,Y){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=be+Me,Y={id:k++,callback:ue,priorityLevel:Y,startTime:be,expirationTime:Me,sortIndex:-1},be>Ae?(Y.sortIndex=be,c(E,Y),m(q)===null&&Y===m(E)&&(ie?(de(je),je=-1):ie=!0,He(Se,be-Ae))):(Y.sortIndex=Me,c(q,Y),Z||ge||(Z=!0,xe||(xe=!0,le()))),Y},r.unstable_shouldYield=rt,r.unstable_wrapCallback=function(Y){var ue=V;return function(){var be=V;V=ue;try{return Y.apply(this,arguments)}finally{V=be}}}})(Af)),Af}var np;function L0(){return np||(np=1,Cf.exports=H0()),Cf.exports}var ap;function K0(){if(ap)return Lr;ap=1;var r=L0(),c=O0(),m=D0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(v(e)!==e)throw Error(d(188))}function E(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return q(s),e;if(i===a)return q(s),t;i=i.sibling}throw Error(d(188))}if(n.return!==a.return)n=s,a=i;else{for(var p=!1,x=s.child;x;){if(x===n){p=!0,n=s,a=i;break}if(x===a){p=!0,a=s,n=i;break}x=x.sibling}if(!p){for(x=i.child;x;){if(x===n){p=!0,n=i,a=s;break}if(x===a){p=!0,a=i,n=s;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function k(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=k(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),ge=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var we=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===we?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case De:return"Profiler";case P:return"StrictMode";case Se:return"Suspense";case xe:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Ce:return e.displayName||"Context";case de:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case je:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Ze:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var He=Array.isArray,Y=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ae=[],Me=-1;function X(e){return{current:e}}function oe(e){0>Me||(e.current=Ae[Me],Ae[Me]=null,Me--)}function Ne(e,t){Me++,Ae[Me]=e.current,e.current=t}var Be=X(null),Pe=X(null),lt=X(null),vt=X(null);function Ft(e,t){switch(Ne(lt,t),Ne(Pe,e),Ne(Be,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(Be),Ne(Be,e)}function dn(){oe(Be),oe(Pe),oe(lt)}function ve(e){e.memoizedState!==null&&Ne(vt,e);var t=Be.current,n=_m(t,e.type);t!==n&&(Ne(Pe,e),Ne(Be,n))}function dt(e){Pe.current===e&&(oe(Be),oe(Pe)),vt.current===e&&(oe(vt),Br._currentValue=be)}var Fe,ht;function Zt(e){if(Fe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fe=t&&t[1]||"",ht=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+ht}var Ot=!1;function Yn(e,t){if(!e||Ot)return"";Ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(I){var J=I}Reflect.construct(e,[],re)}else{try{re.call()}catch(I){J=I}e.call(re.prototype)}}else{try{throw Error()}catch(I){J=I}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(I){if(I&&J&&typeof I.stack=="string")return[I.stack,J.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),p=i[0],x=i[1];if(p&&x){var _=p.split(`
`),F=x.split(`
`);for(s=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;s<F.length&&!F[s].includes("DetermineComponentFrameRoot");)s++;if(a===_.length||s===F.length)for(a=_.length-1,s=F.length-1;1<=a&&0<=s&&_[a]!==F[s];)s--;for(;1<=a&&0<=s;a--,s--)if(_[a]!==F[s]){if(a!==1||s!==1)do if(a--,s--,0>s||_[a]!==F[s]){var ne=`
`+_[a].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=a&&0<=s);break}}}finally{Ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zt(n):""}function ea(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Yn(e.type,!1);case 11:return Yn(e.type.render,!1);case 1:return Yn(e.type,!0);case 31:return Zt("Activity");default:return""}}function pe(e){try{var t="",n=null;do t+=ea(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var nt=Object.prototype.hasOwnProperty,ee=r.unstable_scheduleCallback,Re=r.unstable_cancelCallback,ye=r.unstable_shouldYield,Je=r.unstable_requestPaint,st=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,mn=r.unstable_UserBlockingPriority,sn=r.unstable_NormalPriority,Dn=r.unstable_LowPriority,ke=r.unstable_IdlePriority,Ye=r.log,wt=r.unstable_setDisableYieldValue,qt=null,Ct=null;function Ut(e){if(typeof Ye=="function"&&wt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(qt,e)}catch{}}var Oe=Math.clz32?Math.clz32:Ls,ga=Math.log,Qa=Math.LN2;function Ls(e){return e>>>=0,e===0?32:31-(ga(e)/Qa|0)|0}var Te=256,vl=262144,ss=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function is(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~i,a!==0?s=ba(a):(p&=x,p!==0?s=ba(p):n||(n=x&~e,n!==0&&(s=ba(n))))):(x=a&~i,x!==0?s=ba(x):p!==0?s=ba(p):n||(n=a&~e,n!==0&&(s=ba(n)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var e=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),e}function Ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ta(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,t,n,a,s,i){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,F=e.hiddenUpdates;for(n=p&~n;0<n;){var ne=31-Oe(n),re=1<<ne;x[ne]=0,_[ne]=-1;var J=F[ne];if(J!==null)for(F[ne]=null,ne=0;ne<J.length;ne++){var I=J[ne];I!==null&&(I.lane&=-536870913)}n&=~re}a!==0&&rs(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(p&~t))}function rs(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Oe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Oe(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Wt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ki(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function us(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Zm(e.type))}function os(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var Ca=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ca,It="__reactProps$"+Ca,Tn="__reactContainer$"+Ca,jl="__reactEvents$"+Ca,zo="__reactListeners$"+Ca,Aa="__reactHandles$"+Ca,Qi="__reactResources$"+Ca,Xn="__reactMarker$"+Ca;function Ks(e){delete e[Kt],delete e[It],delete e[jl],delete e[zo],delete e[Aa]}function Oa(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[Kt])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function Mt(e){if(e=e[Kt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Nn(e){var t=e[Qi];return t||(t=e[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function en(e){e[Xn]=!0}var Xa=new Set,cs={};function xa(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(cs[e]=t,e=0;e<t.length;e++)Xa.add(t[e])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},fs={};function Ir(e){return nt.call(fs,e)?!0:nt.call(Yi,e)?!1:Ga.test(e)?fs[e]=!0:(Yi[e]=!0,!1)}function ut(e,t,n){if(Ir(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ds(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function na(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eu(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){n=""+p,i.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){if(!e._valueTracker){var t=wl(e)?"checked":"value";e._valueTracker=eu(e,t,""+e[t])}}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hs=/[\n"\\]/g;function pn(e){return e.replace(hs,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ta(e,t,n,a,s,i,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ms(e,p,xn(t)):n!=null?ms(e,p,xn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+xn(x):e.removeAttribute("name")}function Ys(e,t,n,a,s,i,p,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Qs(e);return}n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qs(e)}function ms(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gi(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function ps(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(He(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Qs(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||ko.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vi(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&yt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&yt(e,i,t[i])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var aa=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Qt=null;function Vn(e){var t=Mt(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ta(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[It]||null;if(!s)throw Error(d(90));Ta(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xi(a)}break e;case"textarea":Gi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Za=!1;function Nl(e,t,n){if(Za)return e(t,n);Za=!0;try{var a=e(t);return a}finally{if(Za=!1,(Fa!==null||Qt!==null)&&(Yu(),Fa&&(t=Fa,e=Qt,Qt=Fa=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var a=n[It]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(yn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Zi=!1}var la=null,Gs=null,_l=null;function El(){if(_l)return _l;var e,t=Gs,n=t.length,a,s="value"in la?la.value:la.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===s[i-a];a++);return _l=s.slice(e,1<a?1-a:void 0)}function Cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function tu(){return!1}function rn(e){function t(n,a,s,i,p){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ys:tu,this.isPropagationStopped=tu,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=rn(Ja),Ma=A({},Ja,{view:0,detail:0}),Fs=rn(Ma),gs,$i,bs,Zs=A({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(gs=e.screenX-bs.screenX,$i=e.screenY-bs.screenY):$i=gs=0,bs=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),$s=rn(Zs),Ji=A({},Zs,{dataTransfer:0}),nu=rn(Ji),Js=A({},Ma,{relatedTarget:0}),Al=rn(Js),Ps=A({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),au=rn(Ps),Bo=A({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ol=rn(Bo),Pi=A({},Ja,{data:0}),Ws=rn(Pi),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Pa(){return xs}var lu=A({},Ma,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Is=rn(lu),su=A({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=rn(su),ei=A({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),tr=rn(ei),Wa=A({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=rn(Wa),ar=A({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ti=rn(ar),lr=A({},Ja,{newState:0,oldState:0}),iu=rn(lr),qo=[9,13,27,32],vs=yn&&"CompositionEvent"in window,za=null;yn&&"documentMode"in document&&(za=document.documentMode);var Uo=yn&&"TextEvent"in window&&!za,ni=yn&&(!vs||za&&8<za&&11>=za),ai=" ",ru=!1;function sr(e,t){switch(e){case"keyup":return qo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function ou(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ru=!0,ai);case"textInput":return e=t.data,e===ai&&ru?null:e;default:return null}}function Ho(e,t){if(Ia)return e==="compositionend"||!vs&&sr(e,t)?(e=El(),_l=Gs=la=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ni&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ir(e,t,n,a){Fa?Qt?Qt.push(a):Qt=[a]:Fa=a,t=Ju(t,"onChange"),0<t.length&&(n=new Vs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Dl=null,Ss=null;function Lo(e){bm(e,0)}function si(e){var t=Gn(e);if(Xi(t))return e}function js(e,t){if(e==="change")return t}var sa=!1;if(yn){var Yt;if(yn){var Tl="oninput"in document;if(!Tl){var el=document.createElement("div");el.setAttribute("oninput","return;"),Tl=typeof el.oninput=="function"}Yt=Tl}else Yt=!1;sa=Yt&&(!document.documentMode||9<document.documentMode)}function fu(){Dl&&(Dl.detachEvent("onpropertychange",ii),Ss=Dl=null)}function ii(e){if(e.propertyName==="value"&&si(Ss)){var t=[];ir(t,Ss,e,Xs(e)),Nl(Lo,t)}}function du(e,t,n){e==="focusin"?(fu(),Dl=t,Ss=n,Dl.attachEvent("onpropertychange",ii)):e==="focusout"&&fu()}function tl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(Ss)}function rr(e,t){if(e==="click")return si(t)}function Ml(e,t){if(e==="input"||e==="change")return si(t)}function ka(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:ka;function l(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!nt.call(t,s)||!En(e[s],t[s]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=yn&&"documentMode"in document&&11>=document.documentMode,w=null,O=null,L=null,D=!1;function C(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D||w==null||w!==Nt(a)||(a=w,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),L&&l(L,a)||(L=a,a=Ju(O,"onSelect"),0<a.length&&(t=new Vs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=w)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},T={},M={};yn&&(M=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Q(e){if(T[e])return T[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M)return T[e]=t[n];return e}var $=Q("animationend"),K=Q("animationiteration"),te=Q("animationstart"),fe=Q("transitionrun"),_e=Q("transitionstart"),Ee=Q("transitioncancel"),he=Q("transitionend"),qe=new Map,ze="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ze.push("scrollEnd");function me(e,t){qe.set(e,t),xa(t,[e])}var Ue=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},et=[],ot=0,Xe=0;function tt(){for(var e=ot,t=Xe=ot=0;t<e;){var n=et[t];et[t++]=null;var a=et[t];et[t++]=null;var s=et[t];et[t++]=null;var i=et[t];if(et[t++]=null,a!==null&&s!==null){var p=a.pending;p===null?s.next=s:(s.next=p.next,p.next=s),a.pending=s}i!==0&&Ra(n,s,i)}}function zt(e,t,n,a){et[ot++]=e,et[ot++]=t,et[ot++]=n,et[ot++]=a,Xe|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cn(e,t,n,a){return zt(e,t,n,a),zl(e)}function At(e,t){return zt(e,null,null,t),zl(e)}function Ra(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-Oe(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function zl(e){if(50<Or)throw Or=0,$c=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ri={};function cy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,a){return new cy(e,t,n,a)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ed(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hu(e,t,n,a,s,i){var p=0;if(a=e,typeof e=="function")Ko(e)&&(p=1);else if(typeof e=="string")p=p0(e,n,Be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=Fn(31,n,t,s),e.elementType=$e,e.lanes=i,e;case ie:return ws(n.children,s,i,t);case P:p=8,s|=24;break;case De:return e=Fn(12,n,t,s|2),e.elementType=De,e.lanes=i,e;case Se:return e=Fn(13,n,t,s),e.elementType=Se,e.lanes=i,e;case xe:return e=Fn(19,n,t,s),e.elementType=xe,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:p=10;break e;case de:p=9;break e;case ae:p=11;break e;case je:p=14;break e;case Ze:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Fn(p,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function ws(e,t,n,a){return e=Fn(7,e,a,t),e.lanes=n,e}function Qo(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function td(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Yo(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nd=new WeakMap;function ia(e,t){if(typeof e=="object"&&e!==null){var n=nd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pe(t)},nd.set(e,t),t)}return{value:e,source:t,stack:pe(t)}}var ui=[],oi=0,mu=null,ur=0,ra=[],ua=0,kl=null,Ba=1,qa="";function al(e,t){ui[oi++]=ur,ui[oi++]=mu,mu=e,ur=t}function ad(e,t,n){ra[ua++]=Ba,ra[ua++]=qa,ra[ua++]=kl,kl=e;var a=Ba;e=qa;var s=32-Oe(a)-1;a&=~(1<<s),n+=1;var i=32-Oe(t)+s;if(30<i){var p=s-s%5;i=(a&(1<<p)-1).toString(32),a>>=p,s-=p,Ba=1<<32-Oe(t)+s|n<<s|a,qa=i+e}else Ba=1<<i|n<<s|a,qa=e}function Xo(e){e.return!==null&&(al(e,1),ad(e,1,0))}function Go(e){for(;e===mu;)mu=ui[--oi],ui[oi]=null,ur=ui[--oi],ui[oi]=null;for(;e===kl;)kl=ra[--ua],ra[ua]=null,qa=ra[--ua],ra[ua]=null,Ba=ra[--ua],ra[ua]=null}function ld(e,t){ra[ua++]=Ba,ra[ua++]=qa,ra[ua++]=kl,Ba=t.id,qa=t.overflow,kl=e}var vn=null,Xt=null,gt=!1,Rl=null,oa=!1,Vo=Error(d(519));function Bl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(ia(t,e)),Vo}function sd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Kt]=e,t[It]=a,n){case"dialog":ft("cancel",t),ft("close",t);break;case"iframe":case"object":case"embed":ft("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)ft(Tr[n],t);break;case"source":ft("error",t);break;case"img":case"image":case"link":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"input":ft("invalid",t),Ys(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ft("invalid",t);break;case"textarea":ft("invalid",t),ps(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||jm(t.textContent,n)?(a.popover!=null&&(ft("beforetoggle",t),ft("toggle",t)),a.onScroll!=null&&ft("scroll",t),a.onScrollEnd!=null&&ft("scrollend",t),a.onClick!=null&&(t.onclick=kn),t=!0):t=!1,t||Bl(e,!0)}function id(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:vn=vn.return}}function ci(e){if(e!==vn)return!1;if(!gt)return id(e),gt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ff(e.type,e.memoizedProps)),n=!n),n&&Xt&&Bl(e),id(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xt=Tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xt=Tm(e)}else t===27?(t=Xt,Jl(e.type)?(e=yf,yf=null,Xt=e):Xt=t):Xt=vn?fa(e.stateNode.nextSibling):null;return!0}function Ns(){Xt=vn=null,gt=!1}function Fo(){var e=Rl;return e!==null&&(Un===null?Un=e:Un.push.apply(Un,e),Rl=null),e}function or(e){Rl===null?Rl=[e]:Rl.push(e)}var Zo=X(null),_s=null,ll=null;function ql(e,t,n){Ne(Zo,t._currentValue),t._currentValue=n}function sl(e){e._currentValue=Zo.current,oe(Zo)}function $o(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Jo(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var p=s.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=s;for(var _=0;_<t.length;_++)if(x.context===t[_]){i.lanes|=n,x=i.alternate,x!==null&&(x.lanes|=n),$o(i.return,n,e),a||(p=null);break e}i=x.next}}else if(s.tag===18){if(p=s.return,p===null)throw Error(d(341));p.lanes|=n,i=p.alternate,i!==null&&(i.lanes|=n),$o(p,n,e),p=null}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===e){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}}function fi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var p=s.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=s.type;En(s.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(s===vt.current){if(p=s.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}s=s.return}e!==null&&Jo(t,e,n,a),t.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){_s=e,ll=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return rd(_s,e)}function yu(e,t){return _s===null&&Es(e),rd(e,t)}function rd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ll===null){if(e===null)throw Error(d(308));ll=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ll=ll.next=t;return n}var fy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},dy=r.unstable_scheduleCallback,hy=r.unstable_NormalPriority,un={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new fy,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&dy(hy,function(){e.controller.abort()})}var fr=null,Wo=0,di=0,hi=null;function my(e,t){if(fr===null){var n=fr=[];Wo=0,di=tf(),hi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Wo++,t.then(ud,ud),t}function ud(){if(--Wo===0&&fr!==null){hi!==null&&(hi.status="fulfilled");var e=fr;fr=null,di=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function py(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var od=Y.S;Y.S=function(e,t){Vh=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&my(e,t),od!==null&&od(e,t)};var Cs=X(null);function Io(){var e=Cs.current;return e!==null?e:Lt.pooledCache}function gu(e,t){t===null?Ne(Cs,Cs.current):Ne(Cs,t.pool)}function cd(){var e=Io();return e===null?null:{parent:un._currentValue,pool:e}}var mi=Error(d(460)),ec=Error(d(474)),bu=Error(d(542)),xu={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kn,kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e;default:if(typeof t.status=="string")t.then(kn,kn);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e}throw Os=t,mi}}function As(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Os=n,mi):n}}var Os=null;function hd(){if(Os===null)throw Error(d(459));var e=Os;return Os=null,e}function md(e){if(e===mi||e===bu)throw Error(d(483))}var pi=null,dr=0;function vu(e){var t=dr;return dr+=1,pi===null&&(pi=[]),dd(pi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Su(e,t){throw t.$$typeof===V?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pd(e){function t(H,R){if(e){var G=H.deletions;G===null?(H.deletions=[R],H.flags|=16):G.push(R)}}function n(H,R){if(!e)return null;for(;R!==null;)t(H,R),R=R.sibling;return null}function a(H){for(var R=new Map;H!==null;)H.key!==null?R.set(H.key,H):R.set(H.index,H),H=H.sibling;return R}function s(H,R){return H=nl(H,R),H.index=0,H.sibling=null,H}function i(H,R,G){return H.index=G,e?(G=H.alternate,G!==null?(G=G.index,G<R?(H.flags|=67108866,R):G):(H.flags|=67108866,R)):(H.flags|=1048576,R)}function p(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function x(H,R,G,se){return R===null||R.tag!==6?(R=Qo(G,H.mode,se),R.return=H,R):(R=s(R,G),R.return=H,R)}function _(H,R,G,se){var Ge=G.type;return Ge===ie?ne(H,R,G.props.children,se,G.key):R!==null&&(R.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Ze&&As(Ge)===R.type)?(R=s(R,G.props),hr(R,G),R.return=H,R):(R=hu(G.type,G.key,G.props,null,H.mode,se),hr(R,G),R.return=H,R)}function F(H,R,G,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==G.containerInfo||R.stateNode.implementation!==G.implementation?(R=Yo(G,H.mode,se),R.return=H,R):(R=s(R,G.children||[]),R.return=H,R)}function ne(H,R,G,se,Ge){return R===null||R.tag!==7?(R=ws(G,H.mode,se,Ge),R.return=H,R):(R=s(R,G),R.return=H,R)}function re(H,R,G){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Qo(""+R,H.mode,G),R.return=H,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ge:return G=hu(R.type,R.key,R.props,null,H.mode,G),hr(G,R),G.return=H,G;case Z:return R=Yo(R,H.mode,G),R.return=H,R;case Ze:return R=As(R),re(H,R,G)}if(He(R)||le(R))return R=ws(R,H.mode,G,null),R.return=H,R;if(typeof R.then=="function")return re(H,vu(R),G);if(R.$$typeof===Ce)return re(H,yu(H,R),G);Su(H,R)}return null}function J(H,R,G,se){var Ge=R!==null?R.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ge!==null?null:x(H,R,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ge:return G.key===Ge?_(H,R,G,se):null;case Z:return G.key===Ge?F(H,R,G,se):null;case Ze:return G=As(G),J(H,R,G,se)}if(He(G)||le(G))return Ge!==null?null:ne(H,R,G,se,null);if(typeof G.then=="function")return J(H,R,vu(G),se);if(G.$$typeof===Ce)return J(H,R,yu(H,G),se);Su(H,G)}return null}function I(H,R,G,se,Ge){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(G)||null,x(R,H,""+se,Ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ge:return H=H.get(se.key===null?G:se.key)||null,_(R,H,se,Ge);case Z:return H=H.get(se.key===null?G:se.key)||null,F(R,H,se,Ge);case Ze:return se=As(se),I(H,R,G,se,Ge)}if(He(se)||le(se))return H=H.get(G)||null,ne(R,H,se,Ge,null);if(typeof se.then=="function")return I(H,R,G,vu(se),Ge);if(se.$$typeof===Ce)return I(H,R,G,yu(R,se),Ge);Su(R,se)}return null}function Le(H,R,G,se){for(var Ge=null,St=null,Qe=R,it=R=0,pt=null;Qe!==null&&it<G.length;it++){Qe.index>it?(pt=Qe,Qe=null):pt=Qe.sibling;var jt=J(H,Qe,G[it],se);if(jt===null){Qe===null&&(Qe=pt);break}e&&Qe&&jt.alternate===null&&t(H,Qe),R=i(jt,R,it),St===null?Ge=jt:St.sibling=jt,St=jt,Qe=pt}if(it===G.length)return n(H,Qe),gt&&al(H,it),Ge;if(Qe===null){for(;it<G.length;it++)Qe=re(H,G[it],se),Qe!==null&&(R=i(Qe,R,it),St===null?Ge=Qe:St.sibling=Qe,St=Qe);return gt&&al(H,it),Ge}for(Qe=a(Qe);it<G.length;it++)pt=I(Qe,H,it,G[it],se),pt!==null&&(e&&pt.alternate!==null&&Qe.delete(pt.key===null?it:pt.key),R=i(pt,R,it),St===null?Ge=pt:St.sibling=pt,St=pt);return e&&Qe.forEach(function(ts){return t(H,ts)}),gt&&al(H,it),Ge}function We(H,R,G,se){if(G==null)throw Error(d(151));for(var Ge=null,St=null,Qe=R,it=R=0,pt=null,jt=G.next();Qe!==null&&!jt.done;it++,jt=G.next()){Qe.index>it?(pt=Qe,Qe=null):pt=Qe.sibling;var ts=J(H,Qe,jt.value,se);if(ts===null){Qe===null&&(Qe=pt);break}e&&Qe&&ts.alternate===null&&t(H,Qe),R=i(ts,R,it),St===null?Ge=ts:St.sibling=ts,St=ts,Qe=pt}if(jt.done)return n(H,Qe),gt&&al(H,it),Ge;if(Qe===null){for(;!jt.done;it++,jt=G.next())jt=re(H,jt.value,se),jt!==null&&(R=i(jt,R,it),St===null?Ge=jt:St.sibling=jt,St=jt);return gt&&al(H,it),Ge}for(Qe=a(Qe);!jt.done;it++,jt=G.next())jt=I(Qe,H,it,jt.value,se),jt!==null&&(e&&jt.alternate!==null&&Qe.delete(jt.key===null?it:jt.key),R=i(jt,R,it),St===null?Ge=jt:St.sibling=jt,St=jt);return e&&Qe.forEach(function(E0){return t(H,E0)}),gt&&al(H,it),Ge}function Bt(H,R,G,se){if(typeof G=="object"&&G!==null&&G.type===ie&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case ge:e:{for(var Ge=G.key;R!==null;){if(R.key===Ge){if(Ge=G.type,Ge===ie){if(R.tag===7){n(H,R.sibling),se=s(R,G.props.children),se.return=H,H=se;break e}}else if(R.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Ze&&As(Ge)===R.type){n(H,R.sibling),se=s(R,G.props),hr(se,G),se.return=H,H=se;break e}n(H,R);break}else t(H,R);R=R.sibling}G.type===ie?(se=ws(G.props.children,H.mode,se,G.key),se.return=H,H=se):(se=hu(G.type,G.key,G.props,null,H.mode,se),hr(se,G),se.return=H,H=se)}return p(H);case Z:e:{for(Ge=G.key;R!==null;){if(R.key===Ge)if(R.tag===4&&R.stateNode.containerInfo===G.containerInfo&&R.stateNode.implementation===G.implementation){n(H,R.sibling),se=s(R,G.children||[]),se.return=H,H=se;break e}else{n(H,R);break}else t(H,R);R=R.sibling}se=Yo(G,H.mode,se),se.return=H,H=se}return p(H);case Ze:return G=As(G),Bt(H,R,G,se)}if(He(G))return Le(H,R,G,se);if(le(G)){if(Ge=le(G),typeof Ge!="function")throw Error(d(150));return G=Ge.call(G),We(H,R,G,se)}if(typeof G.then=="function")return Bt(H,R,vu(G),se);if(G.$$typeof===Ce)return Bt(H,R,yu(H,G),se);Su(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,R!==null&&R.tag===6?(n(H,R.sibling),se=s(R,G),se.return=H,H=se):(n(H,R),se=Qo(G,H.mode,se),se.return=H,H=se),p(H)):n(H,R)}return function(H,R,G,se){try{dr=0;var Ge=Bt(H,R,G,se);return pi=null,Ge}catch(Qe){if(Qe===mi||Qe===bu)throw Qe;var St=Fn(29,Qe,null,H.mode);return St.lanes=se,St.return=H,St}}}var Ds=pd(!0),yd=pd(!1),Ul=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=zl(e),Ra(e,null,n),t}return zt(e,a,t,n),zl(e)}function mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}function ac(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=p:i=i.next=p,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lc=!1;function pr(){if(lc){var e=hi;if(e!==null)throw e}}function yr(e,t,n,a){lc=!1;var s=e.updateQueue;Ul=!1;var i=s.firstBaseUpdate,p=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var _=x,F=_.next;_.next=null,p===null?i=F:p.next=F,p=_;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==p&&(x===null?ne.firstBaseUpdate=F:x.next=F,ne.lastBaseUpdate=_))}if(i!==null){var re=s.baseState;p=0,ne=F=_=null,x=i;do{var J=x.lane&-536870913,I=J!==x.lane;if(I?(mt&J)===J:(a&J)===J){J!==0&&J===di&&(lc=!0),ne!==null&&(ne=ne.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Le=e,We=x;J=t;var Bt=n;switch(We.tag){case 1:if(Le=We.payload,typeof Le=="function"){re=Le.call(Bt,re,J);break e}re=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=We.payload,J=typeof Le=="function"?Le.call(Bt,re,J):Le,J==null)break e;re=A({},re,J);break e;case 2:Ul=!0}}J=x.callback,J!==null&&(e.flags|=64,I&&(e.flags|=8192),I=s.callbacks,I===null?s.callbacks=[J]:I.push(J))}else I={lane:J,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(F=ne=I,_=re):ne=ne.next=I,p|=J;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;I=x,x=I.next,I.next=null,s.lastBaseUpdate=I,s.shared.pending=null}}while(!0);ne===null&&(_=re),s.baseState=_,s.firstBaseUpdate=F,s.lastBaseUpdate=ne,i===null&&(s.shared.lanes=0),Gl|=p,e.lanes=p,e.memoizedState=re}}function gd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function bd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gd(n[e],t)}var yi=X(null),ju=X(0);function xd(e,t){e=ml,Ne(ju,e),Ne(yi,t),ml=e|t.baseLanes}function sc(){Ne(ju,ml),Ne(yi,yi.current)}function ic(){ml=ju.current,oe(yi),oe(ju)}var Zn=X(null),ca=null;function Kl(e){var t=e.alternate;Ne(tn,tn.current&1),Ne(Zn,e),ca===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(ca=e)}function rc(e){Ne(tn,tn.current),Ne(Zn,e),ca===null&&(ca=e)}function vd(e){e.tag===22?(Ne(tn,tn.current),Ne(Zn,e),ca===null&&(ca=e)):Ql()}function Ql(){Ne(tn,tn.current),Ne(Zn,Zn.current)}function $n(e){oe(Zn),ca===e&&(ca=null),oe(tn)}var tn=X(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mf(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=0,at=null,kt=null,on=null,Nu=!1,gi=!1,Ts=!1,_u=0,gr=0,bi=null,yy=0;function Jt(){throw Error(d(321))}function uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function oc(e,t,n,a,s,i){return il=i,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?ah:Nc,Ts=!1,i=n(a,s),Ts=!1,gi&&(i=jd(t,n,a,s)),Sd(e),i}function Sd(e){Y.H=vr;var t=kt!==null&&kt.next!==null;if(il=0,on=kt=at=null,Nu=!1,gr=0,bi=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&pu(e)&&(cn=!0))}function jd(e,t,n,a){at=e;var s=0;do{if(gi&&(bi=null),gr=0,gi=!1,25<=s)throw Error(d(301));if(s+=1,on=kt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Y.H=lh,i=t(n,a)}while(gi);return i}function gy(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(at.flags|=1024),t}function cc(){var e=_u!==0;return _u=0,e}function fc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dc(e){if(Nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nu=!1}il=0,on=kt=at=null,gi=!1,gr=_u=0,bi=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?at.memoizedState=on=e:on=on.next=e,on}function nn(){if(kt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=on===null?at.memoizedState:on.next;if(t!==null)on=t,kt=e;else{if(e===null)throw at.alternate===null?Error(d(467)):Error(d(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?at.memoizedState=on=e:on=on.next=e}return on}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=gr;return gr+=1,bi===null&&(bi=[]),e=dd(bi,e,t),t=at,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?ah:Nc),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===Ce)return Sn(e)}throw Error(d(438,String(e)))}function hc(e){var t=null,n=at.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=at.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Eu(),at.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=rt;return t.index++,n}function rl(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=nn();return mc(t,kt,e)}function mc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var p=s.next;s.next=i.next,i.next=p}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var x=p=null,_=null,F=t,ne=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(mt&re)===re:(il&re)===re){var J=F.revertLane;if(J===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===di&&(ne=!0);else if((il&J)===J){F=F.next,J===di&&(ne=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=re,p=i):_=_.next=re,at.lanes|=J,Gl|=J;re=F.action,Ts&&n(i,re),i=F.hasEagerState?F.eagerState:n(i,re)}else J={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=J,p=i):_=_.next=J,at.lanes|=re,Gl|=re;F=F.next}while(F!==null&&F!==t);if(_===null?p=i:_.next=x,!En(i,e.memoizedState)&&(cn=!0,ne&&(n=hi,n!==null)))throw n;e.memoizedState=i,e.baseState=p,e.baseQueue=_,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function pc(e){var t=nn(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var p=s=s.next;do i=e(i,p.action),p=p.next;while(p!==s);En(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function wd(e,t,n){var a=at,s=nn(),i=gt;if(i){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!En((kt||s).memoizedState,n);if(p&&(s.memoizedState=n,cn=!0),s=s.queue,bc(Ed.bind(null,a,s,e),[e]),s.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,xi(9,{destroy:void 0},_d.bind(null,a,s,n,t),null),Lt===null)throw Error(d(349));i||(il&127)!==0||Nd(a,t,n)}return n}function Nd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t=Eu(),at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _d(e,t,n,a){t.value=n,t.getSnapshot=a,Cd(t)&&Ad(e)}function Ed(e,t,n){return n(function(){Cd(t)&&Ad(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function Ad(e){var t=At(e,2);t!==null&&Hn(t,e,2)}function yc(e){var t=zn();if(typeof e=="function"){var n=e;if(e=n(),Ts){Ut(!0);try{n()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function Od(e,t,n,a){return e.baseState=n,mc(e,kt,typeof a=="function"?a:rl)}function by(e,t,n,a,s){if(Tu(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){i.listeners.push(p)}};Y.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Dd(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Dd(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=Y.T,p={};Y.T=p;try{var x=n(s,a),_=Y.S;_!==null&&_(p,x),Td(e,t,x)}catch(F){gc(e,t,F)}finally{i!==null&&p.types!==null&&(i.types=p.types),Y.T=i}}else try{i=n(s,a),Td(e,t,i)}catch(F){gc(e,t,F)}}function Td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Md(e,t,a)},function(a){return gc(e,t,a)}):Md(e,t,n)}function Md(e,t,n){t.status="fulfilled",t.value=n,zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Dd(e,n)))}function gc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,zd(t),t=t.next;while(t!==a)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kd(e,t){return t}function Rd(e,t){if(gt){var n=Lt.formState;if(n!==null){e:{var a=at;if(gt){if(Xt){t:{for(var s=Xt,i=oa;s.nodeType!==8;){if(!i){s=null;break t}if(s=fa(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Xt=fa(s.nextSibling),a=s.data==="F!";break e}}Bl(a)}a=!1}a&&(t=n[0])}}return n=zn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},n.queue=a,n=eh.bind(null,at,a),a.dispatch=n,a=yc(!1),i=wc.bind(null,at,!1,a.queue),a=zn(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=by.bind(null,at,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Bd(e){var t=nn();return qd(t,kt,e)}function qd(e,t,n){if(t=mc(e,t,kd)[0],e=Au(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=br(t)}catch(p){throw p===mi?bu:p}else a=t;t=nn();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(at.flags|=2048,xi(9,{destroy:void 0},xy.bind(null,s,n),null)),[a,i,e]}function xy(e,t){e.action=t}function Ud(e){var t=nn(),n=kt;if(n!==null)return qd(t,n,e);nn(),t=t.memoizedState,n=nn();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function xi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=at.updateQueue,t===null&&(t=Eu(),at.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Hd(){return nn().memoizedState}function Ou(e,t,n,a){var s=zn();at.flags|=e,s.memoizedState=xi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Du(e,t,n,a){var s=nn();a=a===void 0?null:a;var i=s.memoizedState.inst;kt!==null&&a!==null&&uc(a,kt.memoizedState.deps)?s.memoizedState=xi(t,i,n,a):(at.flags|=e,s.memoizedState=xi(1|t,i,n,a))}function Ld(e,t){Ou(8390656,8,e,t)}function bc(e,t){Du(2048,8,e,t)}function vy(e){at.flags|=4;var t=at.updateQueue;if(t===null)t=Eu(),at.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Kd(e){var t=nn().memoizedState;return vy({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Qd(e,t){return Du(4,2,e,t)}function Yd(e,t){return Du(4,4,e,t)}function Xd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){n=n!=null?n.concat([e]):null,Du(4,4,Xd.bind(null,t,e),n)}function xc(){}function Vd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&uc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Fd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&uc(t,a[1]))return a[0];if(a=e(),Ts){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a}function vc(e,t,n){return n===void 0||(il&1073741824)!==0&&(mt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Zh(),at.lanes|=e,Gl|=e,n)}function Zd(e,t,n,a){return En(n,t)?n:yi.current!==null?(e=vc(e,n,a),En(e,t)||(cn=!0),e):(il&42)===0||(il&1073741824)!==0&&(mt&261930)===0?(cn=!0,e.memoizedState=n):(e=Zh(),at.lanes|=e,Gl|=e,t)}function $d(e,t,n,a,s){var i=ue.p;ue.p=i!==0&&8>i?i:8;var p=Y.T,x={};Y.T=x,wc(e,!1,t,n);try{var _=s(),F=Y.S;if(F!==null&&F(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ne=py(_,a);xr(e,t,ne,Wn(e))}else xr(e,t,a,Wn(e))}catch(re){xr(e,t,{then:function(){},status:"rejected",reason:re},Wn())}finally{ue.p=i,p!==null&&x.types!==null&&(p.types=x.types),Y.T=p}}function Sy(){}function Sc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var s=Jd(e).queue;$d(e,s,t,be,n===null?Sy:function(){return Pd(e),n(a)})}function Jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:be},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pd(e){var t=Jd(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},Wn())}function jc(){return Sn(Br)}function Wd(){return nn().memoizedState}function Id(){return nn().memoizedState}function jy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Wn();e=Hl(n);var a=Ll(t,e,n);a!==null&&(Hn(a,t,n),mr(a,t,n)),t={cache:Po()},e.payload=t;return}t=t.return}}function wy(e,t,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(e)?th(t,n):(n=Cn(e,t,n,a),n!==null&&(Hn(n,e,a),nh(n,t,a)))}function eh(e,t,n){var a=Wn();xr(e,t,n,a)}function xr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))th(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var p=t.lastRenderedState,x=i(p,n);if(s.hasEagerState=!0,s.eagerState=x,En(x,p))return zt(e,t,s,0),Lt===null&&tt(),!1}catch{}if(n=Cn(e,t,s,a),n!==null)return Hn(n,e,a),nh(n,t,a),!0}return!1}function wc(e,t,n,a){if(a={lane:2,revertLane:tf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(t)throw Error(d(479))}else t=Cn(e,n,a,2),t!==null&&Hn(t,e,2)}function Tu(e){var t=e.alternate;return e===at||t!==null&&t===at}function th(e,t){gi=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}var vr={readContext:Sn,use:Cu,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};vr.useEffectEvent=Jt;var ah={readContext:Sn,use:Cu,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Ld,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ou(4194308,4,Xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var n=zn();t=t===void 0?null:t;var a=e();if(Ts){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zn();if(n!==void 0){var s=n(t);if(Ts){Ut(!0);try{n(t)}finally{Ut(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=wy.bind(null,at,e),[a.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=yc(e);var t=e.queue,n=eh.bind(null,at,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xc,useDeferredValue:function(e,t){var n=zn();return vc(n,e,t)},useTransition:function(){var e=yc(!1);return e=$d.bind(null,at,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=at,s=zn();if(gt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Lt===null)throw Error(d(349));(mt&127)!==0||Nd(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ld(Ed.bind(null,a,i,e),[e]),a.flags|=2048,xi(9,{destroy:void 0},_d.bind(null,a,i,n,t),null),n},useId:function(){var e=zn(),t=Lt.identifierPrefix;if(gt){var n=qa,a=Ba;n=(a&~(1<<32-Oe(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=yy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jc,useFormState:Rd,useActionState:Rd,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wc.bind(null,at,!0,n),n.dispatch=t,[e,t]},useMemoCache:hc,useCacheRefresh:function(){return zn().memoizedState=jy.bind(null,at)},useEffectEvent:function(e){var t=zn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Nc={readContext:Sn,use:Cu,useCallback:Vd,useContext:Sn,useEffect:bc,useImperativeHandle:Gd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:Fd,useReducer:Au,useRef:Hd,useState:function(){return Au(rl)},useDebugValue:xc,useDeferredValue:function(e,t){var n=nn();return Zd(n,kt.memoizedState,e,t)},useTransition:function(){var e=Au(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:wd,useId:Wd,useHostTransitionStatus:jc,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var n=nn();return Od(n,kt,e,t)},useMemoCache:hc,useCacheRefresh:Id};Nc.useEffectEvent=Kd;var lh={readContext:Sn,use:Cu,useCallback:Vd,useContext:Sn,useEffect:bc,useImperativeHandle:Gd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:Fd,useReducer:pc,useRef:Hd,useState:function(){return pc(rl)},useDebugValue:xc,useDeferredValue:function(e,t){var n=nn();return kt===null?vc(n,e,t):Zd(n,kt.memoizedState,e,t)},useTransition:function(){var e=pc(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:wd,useId:Wd,useHostTransitionStatus:jc,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var n=nn();return kt!==null?Od(n,kt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hc,useCacheRefresh:Id};lh.useEffectEvent=Kd;function _c(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ec={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Hn(t,e,a),mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Hn(t,e,a),mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),a=Hl(n);a.tag=2,t!=null&&(a.callback=t),t=Ll(e,a,n),t!==null&&(Hn(t,e,n),mr(t,e,n))}};function sh(e,t,n,a,s,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(s,i):!0}function ih(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function Ms(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function rh(e){Ue(e)}function uh(e){console.error(e)}function oh(e){Ue(e)}function Mu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ch(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Cc(e,t,n){return n=Hl(n),n.tag=3,n.payload={element:null},n.callback=function(){Mu(e,t)},n}function fh(e){return e=Hl(e),e.tag=3,e}function dh(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){ch(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ch(t,n,a),typeof s!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function Ny(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&fi(t,n,s,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return ca===null?Xu():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Wc(e,a,s)),!1;case 22:return n.flags|=65536,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Wc(e,a,s)),!1}throw Error(d(435,n.tag))}return Wc(e,a,s),Xu(),!1}if(gt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Vo&&(e=Error(d(422),{cause:a}),or(ia(e,n)))):(a!==Vo&&(t=Error(d(423),{cause:a}),or(ia(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ia(a,n),s=Cc(e.stateNode,a,s),ac(e,s),Pt!==4&&(Pt=2)),!1;var i=Error(d(520),{cause:a});if(i=ia(i,n),Ar===null?Ar=[i]:Ar.push(i),Pt!==4&&(Pt=2),t===null)return!0;a=ia(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Cc(n.stateNode,a,e),ac(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=fh(s),dh(s,e,n,a),ac(n,s),!1}n=n.return}while(n!==null);return!1}var Ac=Error(d(461)),cn=!1;function jn(e,t,n,a){t.child=e===null?yd(t,null,n,a):Ds(t,e.child,n,a)}function hh(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return Es(t),a=oc(e,t,n,p,i,s),x=cc(),e!==null&&!cn?(fc(e,t,s),ul(e,t,s)):(gt&&x&&Xo(t),t.flags|=1,jn(e,t,a,s),t.child)}function mh(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ko(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ph(e,t,i,a,s)):(e=hu(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Bc(e,s)){var p=i.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return ul(e,t,s)}return t.flags|=1,e=nl(i,a),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(l(i,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=i,Bc(e,s))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,ul(e,t,s)}return Oc(e,t,n,a,s)}function yh(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return gh(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,i!==null?i.cachePool:null),i!==null?xd(t,i):sc(),vd(t);else return a=t.lanes=536870912,gh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(gu(t,i.cachePool),xd(t,i),Ql(),t.memoizedState=null):(e!==null&&gu(t,null),sc(),Ql());return jn(e,t,s,n),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gh(e,t,n,a,s){var i=Io();return i=i===null?null:{parent:un._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&gu(t,null),sc(),vd(t),e!==null&&fi(e,t,a,!0),t.childLanes=s,null}function zu(e,t){return t=Ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bh(e,t,n){return Ds(t,e.child,null,n),e=zu(t,t.pendingProps),e.flags|=2,$n(t),t.memoizedState=null,e}function _y(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(gt){if(a.mode==="hidden")return e=zu(t,a),t.lanes=536870912,Sr(null,e);if(rc(t),(e=Xt)?(e=Dm(e,oa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,vn=t,Xt=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return zu(t,a)}var i=e.memoizedState;if(i!==null){var p=i.dehydrated;if(rc(t),s)if(t.flags&256)t.flags&=-257,t=bh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||fi(e,t,n,!1),s=(n&e.childLanes)!==0,cn||s){if(a=Lt,a!==null&&(p=Wt(a,n),p!==0&&p!==i.retryLane))throw i.retryLane=p,At(e,p),Hn(a,e,p),Ac;Xu(),t=bh(e,t,n)}else e=i.treeContext,Xt=fa(p.nextSibling),vn=t,gt=!0,Rl=null,oa=!1,e!==null&&ld(t,e),t=zu(t,a),t.flags|=4096;return t}return e=nl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Oc(e,t,n,a,s){return Es(t),n=oc(e,t,n,a,void 0,s),a=cc(),e!==null&&!cn?(fc(e,t,s),ul(e,t,s)):(gt&&a&&Xo(t),t.flags|=1,jn(e,t,n,s),t.child)}function xh(e,t,n,a,s,i){return Es(t),t.updateQueue=null,n=jd(t,a,n,s),Sd(e),a=cc(),e!==null&&!cn?(fc(e,t,i),ul(e,t,i)):(gt&&a&&Xo(t),t.flags|=1,jn(e,t,n,i),t.child)}function vh(e,t,n,a,s){if(Es(t),t.stateNode===null){var i=ri,p=n.contextType;typeof p=="object"&&p!==null&&(i=Sn(p)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ec,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},tc(t),p=n.contextType,i.context=typeof p=="object"&&p!==null?Sn(p):ri,i.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(_c(t,n,p,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(p=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),p!==i.state&&Ec.enqueueReplaceState(i,i.state,null),yr(t,a,i,s),pr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,_=Ms(n,x);i.props=_;var F=i.context,ne=n.contextType;p=ri,typeof ne=="object"&&ne!==null&&(p=Sn(ne));var re=n.getDerivedStateFromProps;ne=typeof re=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ne||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||F!==p)&&ih(t,i,a,p),Ul=!1;var J=t.memoizedState;i.state=J,yr(t,a,i,s),pr(),F=t.memoizedState,x||J!==F||Ul?(typeof re=="function"&&(_c(t,n,re,a),F=t.memoizedState),(_=Ul||sh(t,n,_,a,J,F,p))?(ne||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=F),i.props=a,i.state=F,i.context=p,a=_):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,nc(e,t),p=t.memoizedProps,ne=Ms(n,p),i.props=ne,re=t.pendingProps,J=i.context,F=n.contextType,_=ri,typeof F=="object"&&F!==null&&(_=Sn(F)),x=n.getDerivedStateFromProps,(F=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p!==re||J!==_)&&ih(t,i,a,_),Ul=!1,J=t.memoizedState,i.state=J,yr(t,a,i,s),pr();var I=t.memoizedState;p!==re||J!==I||Ul||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof x=="function"&&(_c(t,n,x,a),I=t.memoizedState),(ne=Ul||sh(t,n,ne,a,J,I,_)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(F||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,I,_),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,I,_)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=I),i.props=a,i.state=I,i.context=_,a=ne):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ku(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ds(t,e.child,null,s),t.child=Ds(t,null,n,s)):jn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ul(e,t,s),e}function Sh(e,t,n,a){return Ns(),t.flags|=256,jn(e,t,n,a),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:cd()}}function Mc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function jh(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,p;if((p=i)||(p=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),p&&(s=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(gt){if(s?Kl(t):Ql(),(e=Xt)?(e=Dm(e,oa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,vn=t,Xt=null)):e=null,e===null)throw Bl(t);return pf(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,s?(Ql(),s=t.mode,x=Ru({mode:"hidden",children:x},s),a=ws(a,s,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Tc(n),a.childLanes=Mc(e,p,n),t.memoizedState=Dc,Sr(null,a)):(Kl(t),zc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(i)t.flags&256?(Kl(t),t.flags&=-257,t=kc(e,t,n)):t.memoizedState!==null?(Ql(),t.child=e.child,t.flags|=128,t=null):(Ql(),x=a.fallback,s=t.mode,a=Ru({mode:"visible",children:a.children},s),x=ws(x,s,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ds(t,e.child,null,n),a=t.child,a.memoizedState=Tc(n),a.childLanes=Mc(e,p,n),t.memoizedState=Dc,t=Sr(null,a));else if(Kl(t),pf(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var F=p.dgst;p=F,a=Error(d(419)),a.stack="",a.digest=p,or({value:a,source:null,stack:null}),t=kc(e,t,n)}else if(cn||fi(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=Lt,p!==null&&(a=Wt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,At(e,a),Hn(p,e,a),Ac;mf(x)||Xu(),t=kc(e,t,n)}else mf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Xt=fa(x.nextSibling),vn=t,gt=!0,Rl=null,oa=!1,e!==null&&ld(t,e),t=zc(t,a.children),t.flags|=4096);return t}return s?(Ql(),x=a.fallback,s=t.mode,_=e.child,F=_.sibling,a=nl(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,F!==null?x=nl(F,x):(x=ws(x,s,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,Sr(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Tc(n):(s=x.cachePool,s!==null?(_=un._currentValue,s=s.parent!==_?{parent:_,pool:_}:s):s=cd(),x={baseLanes:x.baseLanes|n,cachePool:s}),a.memoizedState=x,a.childLanes=Mc(e,p,n),t.memoizedState=Dc,Sr(e.child,a)):(Kl(t),n=e.child,e=n.sibling,n=nl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function zc(e,t){return t=Ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ru(e,t){return e=Fn(22,e,null,t),e.lanes=0,e}function kc(e,t,n){return Ds(t,e.child,null,n),e=zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),$o(e.return,t,n)}function Rc(e,t,n,a,s,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=s,p.treeForkCount=i)}function Nh(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var p=tn.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,Ne(tn,p),jn(e,t,a,n),a=gt?ur:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,n,t);else if(e.tag===19)wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Rc(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Rc(t,!0,n,null,i,a);break;case"together":Rc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ul(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(fi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Ey(e,t,n){switch(t.tag){case 3:Ft(t,t.stateNode.containerInfo),ql(t,un,e.memoizedState.cache),Ns();break;case 27:case 5:ve(t);break;case 4:Ft(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jh(e,t,n):(Kl(t),e=ul(e,t,n),e!==null?e.sibling:null);Kl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(fi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Nh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(tn,tn.current),a)break;return null;case 22:return t.lanes=0,yh(e,t,n,t.pendingProps);case 24:ql(t,un,e.memoizedState.cache)}return ul(e,t,n)}function _h(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!Bc(e,n)&&(t.flags&128)===0)return cn=!1,Ey(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,gt&&(t.flags&1048576)!==0&&ad(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=As(t.elementType),t.type=e,typeof e=="function")Ko(e)?(a=Ms(e,a),t.tag=1,t=vh(null,t,e,a,n)):(t.tag=0,t=Oc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===ae){t.tag=11,t=hh(null,t,e,a,n);break e}else if(s===je){t.tag=14,t=mh(null,t,e,a,n);break e}}throw t=ce(e)||e,Error(d(306,t,""))}}return t;case 0:return Oc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Ms(a,t.pendingProps),vh(e,t,a,s,n);case 3:e:{if(Ft(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,nc(e,t),yr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,ql(t,un,a),a!==i.cache&&Jo(t,[un],n,!0),pr(),a=p.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Sh(e,t,a,n);break e}else if(a!==s){s=ia(Error(d(424)),t),or(s),t=Sh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xt=fa(e.firstChild),vn=t,gt=!0,Rl=null,oa=!0,n=yd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ns(),a===s){t=ul(e,t,n);break e}jn(e,t,a,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=Bm(t.type,null,t.pendingProps,null))?t.memoizedState=n:gt||(n=t.type,e=t.pendingProps,a=Pu(lt.current).createElement(n),a[Kt]=t,a[It]=e,wn(a,n,e),en(a),t.stateNode=a):t.memoizedState=Bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&gt&&(a=t.stateNode=zm(t.type,t.pendingProps,lt.current),vn=t,oa=!0,s=Xt,Jl(t.type)?(yf=s,Xt=fa(a.firstChild)):Xt=s),jn(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&gt&&((s=a=Xt)&&(a=n0(a,t.type,t.pendingProps,oa),a!==null?(t.stateNode=a,vn=t,Xt=fa(a.firstChild),oa=!1,s=!0):s=!1),s||Bl(t)),ve(t),s=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,a=i.children,ff(s,i)?a=null:p!==null&&ff(s,p)&&(t.flags|=32),t.memoizedState!==null&&(s=oc(e,t,gy,null,null,n),Br._currentValue=s),ku(e,t),jn(e,t,a,n),t.child;case 6:return e===null&&gt&&((e=n=Xt)&&(n=a0(n,t.pendingProps,oa),n!==null?(t.stateNode=n,vn=t,Xt=null,e=!0):e=!1),e||Bl(t)),null;case 13:return jh(e,t,n);case 4:return Ft(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ds(t,null,a,n):jn(e,t,a,n),t.child;case 11:return hh(e,t,t.type,t.pendingProps,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ql(t,t.type,a.value),jn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Es(t),s=Sn(s),a=a(s),t.flags|=1,jn(e,t,a,n),t.child;case 14:return mh(e,t,t.type,t.pendingProps,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 19:return Nh(e,t,n);case 31:return _y(e,t,n);case 22:return yh(e,t,n,t.pendingProps);case 24:return Es(t),a=Sn(un),e===null?(s=Io(),s===null&&(s=Lt,i=Po(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},tc(t),ql(t,un,s)):((e.lanes&n)!==0&&(nc(e,t),yr(t,null,null,n),pr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ql(t,un,a)):(a=i.cache,ql(t,un,a),a!==s.cache&&Jo(t,[un],n,!0))),jn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ol(e){e.flags|=4}function qc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Wh())e.flags|=8192;else throw Os=xu,ec}else e.flags&=-16777217}function Eh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(t))if(Wh())e.flags|=8192;else throw Os=xu,ec}function Bu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wr():536870912,e.lanes|=t,wi|=t)}function jr(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Cy(e,t,n){var a=t.pendingProps;switch(Go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return Gt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sl(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ci(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fo())),Gt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ol(t),i!==null?(Gt(t),Eh(t,i)):(Gt(t),qc(t,s,null,a,n))):i?i!==e.memoizedState?(ol(t),Gt(t),Eh(t,i)):(Gt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ol(t),Gt(t),qc(t,s,e,a,n)),null;case 27:if(dt(t),n=lt.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Gt(t),null}e=Be.current,ci(t)?sd(t):(e=zm(s,a,n),t.stateNode=e,ol(t))}return Gt(t),null;case 5:if(dt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Gt(t),null}if(i=Be.current,ci(t))sd(t);else{var p=Pu(lt.current);switch(i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?p.createElement(s,{is:a.is}):p.createElement(s)}}i[Kt]=t,i[It]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=i;e:switch(wn(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ol(t)}}return Gt(t),qc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=lt.current,ci(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=vn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||jm(e.nodeValue,n)),e||Bl(t,!0)}else e=Pu(e).createTextNode(a),e[Kt]=t,t.stateNode=e}return Gt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ci(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Kt]=t}else Ns(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gt(t),e=!1}else n=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($n(t),t):($n(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Gt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ci(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Kt]=t}else Ns(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gt(t),s=!1}else s=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?($n(t),t):($n(t),null)}return $n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bu(t,t.updateQueue),Gt(t),null);case 4:return dn(),e===null&&sf(t.stateNode.containerInfo),Gt(t),null;case 10:return sl(t.type),Gt(t),null;case 19:if(oe(tn),a=t.memoizedState,a===null)return Gt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)jr(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wu(e),i!==null){for(t.flags|=128,jr(a,!1),e=i.updateQueue,t.updateQueue=e,Bu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ed(n,e),n=n.sibling;return Ne(tn,tn.current&1|2),gt&&al(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&st()>Ku&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=wu(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Bu(t,e),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!gt)return Gt(t),null}else 2*st()-a.renderingStartTime>Ku&&n!==536870912&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=st(),e.sibling=null,n=tn.current,Ne(tn,s?n&1|2:n&1),gt&&al(t,a.treeForkCount),e):(Gt(t),null);case 22:case 23:return $n(t),ic(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),n=t.updateQueue,n!==null&&Bu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&oe(Cs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sl(un),Gt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Ay(e,t){switch(Go(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sl(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dt(t),null;case 31:if(t.memoizedState!==null){if($n(t),t.alternate===null)throw Error(d(340));Ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(tn),null;case 4:return dn(),null;case 10:return sl(t.type),null;case 22:case 23:return $n(t),ic(),e!==null&&oe(Cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sl(un),null;case 25:return null;default:return null}}function Ch(e,t){switch(Go(t),t.tag){case 3:sl(un),dn();break;case 26:case 27:case 5:dt(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&$n(t);break;case 13:$n(t);break;case 19:oe(tn);break;case 10:sl(t.type);break;case 22:case 23:$n(t),ic(),e!==null&&oe(Cs);break;case 24:sl(un)}}function wr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,p=n.inst;a=i(),p.destroy=a}n=n.next}while(n!==s)}}catch(x){Tt(t,t.return,x)}}function Yl(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,s=t;var _=n,F=x;try{F()}catch(ne){Tt(s,_,ne)}}}a=a.next}while(a!==i)}}catch(ne){Tt(t,t.return,ne)}}function Ah(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bd(t,n)}catch(a){Tt(e,e.return,a)}}}function Oh(e,t,n){n.props=Ms(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Tt(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Tt(e,t,s)}}function Ua(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Tt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Tt(e,t,s)}else n.current=null}function Dh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Tt(e,e.return,s)}}function Uc(e,t,n){try{var a=e.stateNode;Jy(a,e.type,n,t),a[It]=t}catch(s){Tt(e,e.return,s)}}function Th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kn));else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lc(e,t,n),e=e.sibling;e!==null;)Lc(e,t,n),e=e.sibling}function qu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Mh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wn(t,a,n),t[Kt]=e,t[It]=n}catch(i){Tt(e,e.return,i)}}var cl=!1,fn=!1,Kc=!1,zh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Oy(e,t){if(e=e.containerInfo,of=lo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,F=0,ne=0,re=e,J=null;t:for(;;){for(var I;re!==n||s!==0&&re.nodeType!==3||(x=p+s),re!==i||a!==0&&re.nodeType!==3||(_=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(I=re.firstChild)!==null;)J=re,re=I;for(;;){if(re===e)break t;if(J===n&&++F===s&&(x=p),J===i&&++ne===a&&(_=p),(I=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=I}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:e,selectionRange:n},lo=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var Le=Ms(n.type,s);e=a.getSnapshotBeforeUpdate(Le,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(We){Tt(n,n.return,We)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function kh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:dl(e,n),a&4&&wr(5,n);break;case 1:if(dl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Tt(n,n.return,p)}else{var s=Ms(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Tt(n,n.return,p)}}a&64&&Ah(n),a&512&&Nr(n,n.return);break;case 3:if(dl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{bd(e,t)}catch(p){Tt(n,n.return,p)}}break;case 27:t===null&&a&4&&Mh(n);case 26:case 5:dl(e,n),t===null&&a&4&&Dh(n),a&512&&Nr(n,n.return);break;case 12:dl(e,n);break;case 31:dl(e,n),a&4&&qh(e,n);break;case 13:dl(e,n),a&4&&Uh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Uy.bind(null,n),l0(e,n))));break;case 22:if(a=n.memoizedState!==null||cl,!a){t=t!==null&&t.memoizedState!==null||fn,s=cl;var i=fn;cl=a,(fn=t)&&!i?hl(e,n,(n.subtreeFlags&8772)!==0):dl(e,n),cl=s,fn=i}break;case 30:break;default:dl(e,n)}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Rn=!1;function fl(e,t,n){for(n=n.child;n!==null;)Bh(e,t,n),n=n.sibling}function Bh(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(qt,n)}catch{}switch(n.tag){case 26:fn||Ua(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ua(n,t);var a=$t,s=Rn;Jl(n.type)&&($t=n.stateNode,Rn=!1),fl(e,t,n),zr(n.stateNode),$t=a,Rn=s;break;case 5:fn||Ua(n,t);case 6:if(a=$t,s=Rn,$t=null,fl(e,t,n),$t=a,Rn=s,$t!==null)if(Rn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(n.stateNode)}catch(i){Tt(n,t,i)}else try{$t.removeChild(n.stateNode)}catch(i){Tt(n,t,i)}break;case 18:$t!==null&&(Rn?(e=$t,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ti(e)):Am($t,n.stateNode));break;case 4:a=$t,s=Rn,$t=n.stateNode.containerInfo,Rn=!0,fl(e,t,n),$t=a,Rn=s;break;case 0:case 11:case 14:case 15:Yl(2,n,t),fn||Yl(4,n,t),fl(e,t,n);break;case 1:fn||(Ua(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Oh(n,t,a)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,fl(e,t,n),fn=a;break;default:fl(e,t,n)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(n){Tt(t,t.return,n)}}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(n){Tt(t,t.return,n)}}function Dy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zh),t;default:throw Error(d(435,e.tag))}}function Uu(e,t){var n=Dy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Hy.bind(null,e,a);a.then(s,s)}})}function Bn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Jl(x.type)){$t=x.stateNode,Rn=!1;break e}break;case 5:$t=x.stateNode,Rn=!1;break e;case 3:case 4:$t=x.stateNode.containerInfo,Rn=!0;break e}x=x.return}if($t===null)throw Error(d(160));Bh(i,p,s),$t=null,Rn=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}var ja=null;function Hh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(t,e),qn(e),a&4&&(Yl(3,e,e.return),wr(3,e),Yl(5,e,e.return));break;case 1:Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),a&64&&cl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=ja;if(Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Xn]||i[Kt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),wn(i,a,n),i[Kt]=e,en(i),a=i;break e;case"link":var p=Hm("link","href",s).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(i=p[x],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;case"meta":if(p=Hm("meta","content",s).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(i=p[x],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;default:throw Error(d(468,a))}i[Kt]=e,en(i),a=i}e.stateNode=a}else Lm(s,e.type,e.stateNode);else e.stateNode=Um(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Lm(s,e.type,e.stateNode):Um(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),n!==null&&a&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),e.flags&32){s=e.stateNode;try{Va(s,"")}catch(Le){Tt(e,e.return,Le)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Uc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Kc=!0);break;case 6:if(Bn(t,e),qn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Le){Tt(e,e.return,Le)}}break;case 3:if(eo=null,s=ja,ja=Wu(t.containerInfo),Bn(t,e),ja=s,qn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(Le){Tt(e,e.return,Le)}Kc&&(Kc=!1,Lh(e));break;case 4:a=ja,ja=Wu(e.stateNode.containerInfo),Bn(t,e),qn(e),ja=a;break;case 12:Bn(t,e),qn(e);break;case 31:Bn(t,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 13:Bn(t,e),qn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lu=st()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 22:s=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,F=cl,ne=fn;if(cl=F||s,fn=ne||_,Bn(t,e),fn=ne,cl=F,qn(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||_||cl||fn||zs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(i=_.stateNode,s)p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var re=_.memoizedProps.style,J=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Le){Tt(_,_.return,Le)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=s?"":_.memoizedProps}catch(Le){Tt(_,_.return,Le)}}}else if(t.tag===18){if(n===null){_=t;try{var I=_.stateNode;s?Om(I,!0):Om(_.stateNode,!1)}catch(Le){Tt(_,_.return,Le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Uu(e,n))));break;case 19:Bn(t,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 30:break;case 21:break;default:Bn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Th(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var s=n.stateNode,i=Hc(e);qu(e,i,s);break;case 5:var p=n.stateNode;n.flags&32&&(Va(p,""),n.flags&=-33);var x=Hc(e);qu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,F=Hc(e);Lc(e,F,_);break;default:throw Error(d(161))}}catch(ne){Tt(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kh(e,t.alternate,t),t=t.sibling}function zs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),zs(t);break;case 1:Ua(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Oh(t,t.return,n),zs(t);break;case 27:zr(t.stateNode);case 26:case 5:Ua(t,t.return),zs(t);break;case 22:t.memoizedState===null&&zs(t);break;case 30:zs(t);break;default:zs(t)}e=e.sibling}}function hl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,p=i.flags;switch(i.tag){case 0:case 11:case 15:hl(s,i,n),wr(4,i);break;case 1:if(hl(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(F){Tt(a,a.return,F)}if(a=i,s=a.updateQueue,s!==null){var x=a.stateNode;try{var _=s.shared.hiddenCallbacks;if(_!==null)for(s.shared.hiddenCallbacks=null,s=0;s<_.length;s++)gd(_[s],x)}catch(F){Tt(a,a.return,F)}}n&&p&64&&Ah(i),Nr(i,i.return);break;case 27:Mh(i);case 26:case 5:hl(s,i,n),n&&a===null&&p&4&&Dh(i),Nr(i,i.return);break;case 12:hl(s,i,n);break;case 31:hl(s,i,n),n&&p&4&&qh(s,i);break;case 13:hl(s,i,n),n&&p&4&&Uh(s,i);break;case 22:i.memoizedState===null&&hl(s,i,n),Nr(i,i.return);break;case 30:break;default:hl(s,i,n)}t=t.sibling}}function Qc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cr(n))}function Yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function wa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kh(e,t,n,a),t=t.sibling}function Kh(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,n,a),s&2048&&wr(9,t);break;case 1:wa(e,t,n,a);break;case 3:wa(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(s&2048){wa(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,p=i.id,x=i.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Tt(t,t.return,_)}}else wa(e,t,n,a);break;case 31:wa(e,t,n,a);break;case 13:wa(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,p=t.alternate,t.memoizedState!==null?i._visibility&2?wa(e,t,n,a):_r(e,t):i._visibility&2?wa(e,t,n,a):(i._visibility|=2,vi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Qc(p,t);break;case 24:wa(e,t,n,a),s&2048&&Yc(t.alternate,t);break;default:wa(e,t,n,a)}}function vi(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,p=t,x=n,_=a,F=p.flags;switch(p.tag){case 0:case 11:case 15:vi(i,p,x,_,s),wr(8,p);break;case 23:break;case 22:var ne=p.stateNode;p.memoizedState!==null?ne._visibility&2?vi(i,p,x,_,s):_r(i,p):(ne._visibility|=2,vi(i,p,x,_,s)),s&&F&2048&&Qc(p.alternate,p);break;case 24:vi(i,p,x,_,s),s&&F&2048&&Yc(p.alternate,p);break;default:vi(i,p,x,_,s)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:_r(n,a),s&2048&&Qc(a.alternate,a);break;case 24:_r(n,a),s&2048&&Yc(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var Er=8192;function Si(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Qh(e,t,n),e=e.sibling}function Qh(e,t,n){switch(e.tag){case 26:Si(e,t,n),e.flags&Er&&e.memoizedState!==null&&y0(n,ja,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,n);break;case 3:case 4:var a=ja;ja=Wu(e.stateNode.containerInfo),Si(e,t,n),ja=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,Si(e,t,n),Er=a):Si(e,t,n));break;default:Si(e,t,n)}}function Yh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Gh(a,e)}Yh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Cr(e);break;default:Cr(e)}}function Hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Gh(a,e)}Yh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function Gh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:cr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var s=a.sibling,i=a.return;if(Rh(a),a===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var Ty={getCacheForType:function(e){var t=Sn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Sn(un).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,_t=0,Lt=null,ct=null,mt=0,Dt=0,Jn=null,Xl=!1,ji=!1,Xc=!1,ml=0,Pt=0,Gl=0,ks=0,Gc=0,Pn=0,wi=0,Ar=null,Un=null,Vc=!1,Lu=0,Vh=0,Ku=1/0,Qu=null,Vl=null,hn=0,Fl=null,Ni=null,pl=0,Fc=0,Zc=null,Fh=null,Or=0,$c=null;function Wn(){return(_t&2)!==0&&mt!==0?mt&-mt:Y.T!==null?tf():us()}function Zh(){if(Pn===0)if((mt&536870912)===0||gt){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),Pn=e}else Pn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Pn}function Hn(e,t,n){(e===Lt&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)&&(_i(e,0),Zl(e,mt,Pn,!1)),ta(e,n),((_t&2)===0||e!==Lt)&&(e===Lt&&((_t&2)===0&&(ks|=n),Pt===4&&Zl(e,mt,Pn,!1)),Ha(e))}function $h(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ya(e,t),s=a?Ry(e,t):Pc(e,t,!0),i=a;do{if(s===0){ji&&!a&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!zy(n)){s=Pc(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;s=Ar;var _=x.current.memoizedState.isDehydrated;if(_&&(_i(x,p).flags|=256),p=Pc(x,p,!1),p!==2){if(Xc&&!_){x.errorRecoveryDisabledLanes|=i,ks|=i,s=4;break e}i=Un,Un=s,i!==null&&(Un===null?Un=i:Un.push.apply(Un,i))}s=p}if(i=!1,s!==2)continue}}if(s===1){_i(e,0),Zl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Zl(a,t,Pn,!Xl);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Lu+300-st(),10<s)){if(Zl(a,t,Pn,!Xl),is(a,0,!0)!==0)break e;pl=t,a.timeoutHandle=Em(Jh.bind(null,a,n,Un,Qu,Vc,t,Pn,ks,wi,Xl,i,"Throttled",-0,0),s);break e}Jh(a,n,Un,Qu,Vc,t,Pn,ks,wi,Xl,i,null,-0,0)}}break}while(!0);Ha(e)}function Jh(e,t,n,a,s,i,p,x,_,F,ne,re,J,I){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Qh(t,i,re);var Le=(i&62914560)===i?Lu-st():(i&4194048)===i?Vh-st():0;if(Le=g0(re,Le),Le!==null){pl=i,e.cancelPendingCommit=Le(lm.bind(null,e,t,i,n,a,s,p,x,_,ne,re,null,J,I)),Zl(e,i,p,!F);return}}lm(e,t,i,n,a,s,p,x,_)}function zy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,a){t&=~Gc,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-Oe(s),p=1<<i;a[i]=-1,s&=~p}n!==0&&rs(e,n,t)}function Yu(){return(_t&6)===0?(Dr(0),!1):!0}function Jc(){if(ct!==null){if(Dt===0)var e=ct.return;else e=ct,ll=_s=null,dc(e),pi=null,dr=0,e=ct;for(;e!==null;)Ch(e.alternate,e),e=e.return;ct=null}}function _i(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Iy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pl=0,Jc(),Lt=e,ct=n=nl(e.current,null),mt=t,Dt=0,Jn=null,Xl=!1,ji=Ya(e,t),Xc=!1,wi=Pn=Gc=ks=Gl=Pt=0,Un=Ar=null,Vc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Oe(a),i=1<<s;t|=e[s],a&=~i}return ml=t,tt(),n}function Ph(e,t){at=null,Y.H=vr,t===mi||t===bu?(t=hd(),Dt=3):t===ec?(t=hd(),Dt=4):Dt=t===Ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ct===null&&(Pt=1,Mu(e,ia(t,e.current)))}function Wh(){var e=Zn.current;return e===null?!0:(mt&4194048)===mt?ca===null:(mt&62914560)===mt||(mt&536870912)!==0?e===ca:!1}function Ih(){var e=Y.H;return Y.H=vr,e===null?vr:e}function em(){var e=Y.A;return Y.A=Ty,e}function Xu(){Pt=4,Xl||(mt&4194048)!==mt&&Zn.current!==null||(ji=!0),(Gl&134217727)===0&&(ks&134217727)===0||Lt===null||Zl(Lt,mt,Pn,!1)}function Pc(e,t,n){var a=_t;_t|=2;var s=Ih(),i=em();(Lt!==e||mt!==t)&&(Qu=null,_i(e,t)),t=!1;var p=Pt;e:do try{if(Dt!==0&&ct!==null){var x=ct,_=Jn;switch(Dt){case 8:Jc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var F=Dt;if(Dt=0,Jn=null,Ei(e,x,_,F),n&&ji){p=0;break e}break;default:F=Dt,Dt=0,Jn=null,Ei(e,x,_,F)}}ky(),p=Pt;break}catch(ne){Ph(e,ne)}while(!0);return t&&e.shellSuspendCounter++,ll=_s=null,_t=a,Y.H=s,Y.A=i,ct===null&&(Lt=null,mt=0,tt()),p}function ky(){for(;ct!==null;)tm(ct)}function Ry(e,t){var n=_t;_t|=2;var a=Ih(),s=em();Lt!==e||mt!==t?(Qu=null,Ku=st()+500,_i(e,t)):ji=Ya(e,t);e:do try{if(Dt!==0&&ct!==null){t=ct;var i=Jn;t:switch(Dt){case 1:Dt=0,Jn=null,Ei(e,t,i,1);break;case 2:case 9:if(fd(i)){Dt=0,Jn=null,nm(t);break}t=function(){Dt!==2&&Dt!==9||Lt!==e||(Dt=7),Ha(e)},i.then(t,t);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:fd(i)?(Dt=0,Jn=null,nm(t)):(Dt=0,Jn=null,Ei(e,t,i,7));break;case 5:var p=null;switch(ct.tag){case 26:p=ct.memoizedState;case 5:case 27:var x=ct;if(p?Km(p):x.stateNode.complete){Dt=0,Jn=null;var _=x.sibling;if(_!==null)ct=_;else{var F=x.return;F!==null?(ct=F,Gu(F)):ct=null}break t}}Dt=0,Jn=null,Ei(e,t,i,5);break;case 6:Dt=0,Jn=null,Ei(e,t,i,6);break;case 8:Jc(),Pt=6;break e;default:throw Error(d(462))}}By();break}catch(ne){Ph(e,ne)}while(!0);return ll=_s=null,Y.H=a,Y.A=s,_t=n,ct!==null?0:(Lt=null,mt=0,tt(),Pt)}function By(){for(;ct!==null&&!ye();)tm(ct)}function tm(e){var t=_h(e.alternate,e,ml);e.memoizedProps=e.pendingProps,t===null?Gu(e):ct=t}function nm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xh(n,t,t.pendingProps,t.type,void 0,mt);break;case 11:t=xh(n,t,t.pendingProps,t.type.render,t.ref,mt);break;case 5:dc(t);default:Ch(n,t),t=ct=ed(t,ml),t=_h(n,t,ml)}e.memoizedProps=e.pendingProps,t===null?Gu(e):ct=t}function Ei(e,t,n,a){ll=_s=null,dc(t),pi=null,dr=0;var s=t.return;try{if(Ny(e,s,t,n,mt)){Pt=1,Mu(e,ia(n,e.current)),ct=null;return}}catch(i){if(s!==null)throw ct=s,i;Pt=1,Mu(e,ia(n,e.current)),ct=null;return}t.flags&32768?(gt||a===1?e=!0:ji||(mt&536870912)!==0?e=!1:(Xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),am(t,e)):Gu(t)}function Gu(e){var t=e;do{if((t.flags&32768)!==0){am(t,Xl);return}e=t.return;var n=Cy(t.alternate,t,ml);if(n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);Pt===0&&(Pt=5)}function am(e,t){do{var n=Ay(e.alternate,e);if(n!==null){n.flags&=32767,ct=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ct=e;return}ct=e=n}while(e!==null);Pt=6,ct=null}function lm(e,t,n,a,s,i,p,x,_){e.cancelPendingCommit=null;do Vu();while(hn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Xe,Li(e,n,i,p,x,_),e===Lt&&(ct=Lt=null,mt=0),Ni=t,Fl=e,pl=n,Fc=i,Zc=s,Fh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(sn,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,s=ue.p,ue.p=2,p=_t,_t|=4;try{Oy(e,t,n)}finally{_t=p,ue.p=s,Y.T=a}}hn=1,sm(),im(),rm()}}function sm(){if(hn===1){hn=0;var e=Fl,t=Ni,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{Hh(t,e);var i=cf,p=y(e.containerInfo),x=i.focusedElem,_=i.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var F=_.start,ne=_.end;if(ne===void 0&&(ne=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(ne,x.value.length);else{var re=x.ownerDocument||document,J=re&&re.defaultView||window;if(J.getSelection){var I=J.getSelection(),Le=x.textContent.length,We=Math.min(_.start,Le),Bt=_.end===void 0?We:Math.min(_.end,Le);!I.extend&&We>Bt&&(p=Bt,Bt=We,We=p);var H=f(x,We),R=f(x,Bt);if(H&&R&&(I.rangeCount!==1||I.anchorNode!==H.node||I.anchorOffset!==H.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var G=re.createRange();G.setStart(H.node,H.offset),I.removeAllRanges(),We>Bt?(I.addRange(G),I.extend(R.node,R.offset)):(G.setEnd(R.node,R.offset),I.addRange(G))}}}}for(re=[],I=x;I=I.parentNode;)I.nodeType===1&&re.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var se=re[x];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}lo=!!of,cf=of=null}finally{_t=s,ue.p=a,Y.T=n}}e.current=t,hn=2}}function im(){if(hn===2){hn=0;var e=Fl,t=Ni,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{kh(e,t.alternate,t)}finally{_t=s,ue.p=a,Y.T=n}}hn=3}}function rm(){if(hn===4||hn===3){hn=0,Je();var e=Fl,t=Ni,n=pl,a=Fh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,Ni=Fl=null,um(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Vl=null),Sl(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,s=ue.p,ue.p=2,Y.T=null;try{for(var i=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];i(x.value,{componentStack:x.stack})}}finally{Y.T=t,ue.p=s}}(pl&3)!==0&&Vu(),Ha(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===$c?Or++:(Or=0,$c=e):Or=0,Dr(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Vu(){return sm(),im(),rm(),om()}function om(){if(hn!==5)return!1;var e=Fl,t=Fc;Fc=0;var n=Sl(pl),a=Y.T,s=ue.p;try{ue.p=32>n?32:n,Y.T=null,n=Zc,Zc=null;var i=Fl,p=pl;if(hn=0,Ni=Fl=null,pl=0,(_t&6)!==0)throw Error(d(331));var x=_t;if(_t|=4,Xh(i.current),Kh(i,i.current,p,n),_t=x,Dr(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(qt,i)}catch{}return!0}finally{ue.p=s,Y.T=a,um(e,t)}}function cm(e,t,n){t=ia(n,t),t=Cc(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(ta(e,2),Ha(e))}function Tt(e,t,n){if(e.tag===3)cm(e,e,n);else for(;t!==null;){if(t.tag===3){cm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vl===null||!Vl.has(a))){e=ia(n,e),n=fh(2),a=Ll(t,n,2),a!==null&&(dh(n,a,t,e),ta(a,2),Ha(a));break}}t=t.return}}function Wc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new My;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Xc=!0,s.add(n),e=qy.bind(null,e,t,n),t.then(e,e))}function qy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(mt&n)===n&&(Pt===4||Pt===3&&(mt&62914560)===mt&&300>st()-Lu?(_t&2)===0&&_i(e,0):Gc|=n,wi===mt&&(wi=0)),Ha(e)}function fm(e,t){t===0&&(t=Wr()),e=At(e,t),e!==null&&(ta(e,t),Ha(e))}function Uy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fm(e,n)}function Hy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),fm(e,n)}function Ly(e,t){return ee(e,t)}var Fu=null,Ci=null,Ic=!1,Zu=!1,ef=!1,$l=0;function Ha(e){e!==Ci&&e.next===null&&(Ci===null?Fu=Ci=e:Ci=Ci.next=e),Zu=!0,Ic||(Ic=!0,Qy())}function Dr(e,t){if(!ef&&Zu){ef=!0;do for(var n=!1,a=Fu;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var p=a.suspendedLanes,x=a.pingedLanes;i=(1<<31-Oe(42|e)+1)-1,i&=s&~(p&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,pm(a,i))}else i=mt,i=is(a,a===Lt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ya(a,i)||(n=!0,pm(a,i));a=a.next}while(n);ef=!1}}function Ky(){dm()}function dm(){Zu=Ic=!1;var e=0;$l!==0&&Wy()&&(e=$l);for(var t=st(),n=null,a=Fu;a!==null;){var s=a.next,i=hm(a,t);i===0?(a.next=null,n===null?Fu=s:n.next=s,s===null&&(Ci=n)):(n=a,(e!==0||(i&3)!==0)&&(Zu=!0)),a=s}hn!==0&&hn!==5||Dr(e),$l!==0&&($l=0)}function hm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var p=31-Oe(i),x=1<<p,_=s[p];_===-1?((x&n)===0||(x&a)!==0)&&(s[p]=Mo(x,t)):_<=t&&(e.expiredLanes|=x),i&=~x}if(t=Lt,n=mt,n=is(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Re(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ya(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Re(a),Sl(n)){case 2:case 8:n=mn;break;case 32:n=sn;break;case 268435456:n=ke;break;default:n=sn}return a=mm.bind(null,e),n=ee(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Re(a),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var a=mt;return a=is(e,e===Lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($h(e,a,t),hm(e,st()),e.callbackNode!=null&&e.callbackNode===n?mm.bind(null,e):null)}function pm(e,t){if(Vu())return null;$h(e,t,!0)}function Qy(){e0(function(){(_t&6)!==0?ee(Et,Ky):dm()})}function tf(){if($l===0){var e=di;e===0&&(e=Te,Te<<=1,(Te&261888)===0&&(Te=256)),$l=e}return $l}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function gm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Yy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=ym((s[It]||null).action),p=a.submitter;p&&(t=(t=p[It]||null)?ym(t.formAction):p.getAttribute("formAction"),t!==null&&(i=t,p=null));var x=new Vs("action","action",null,a,s);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($l!==0){var _=p?gm(s,p):new FormData(s);Sc(n,{pending:!0,data:_,method:s.method,action:i},null,_)}}else typeof i=="function"&&(x.preventDefault(),_=p?gm(s,p):new FormData(s),Sc(n,{pending:!0,data:_,method:s.method,action:i},i,_))},currentTarget:s}]})}}for(var nf=0;nf<ze.length;nf++){var af=ze[nf],Xy=af.toLowerCase(),Gy=af[0].toUpperCase()+af.slice(1);me(Xy,"on"+Gy)}me($,"onAnimationEnd"),me(K,"onAnimationIteration"),me(te,"onAnimationStart"),me("dblclick","onDoubleClick"),me("focusin","onFocus"),me("focusout","onBlur"),me(fe,"onTransitionRun"),me(_e,"onTransitionStart"),me(Ee,"onTransitionCancel"),me(he,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function bm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,F=x.currentTarget;if(x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=F;try{i(s)}catch(ne){Ue(ne)}s.currentTarget=null,i=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,F=x.currentTarget,x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=F;try{i(s)}catch(ne){Ue(ne)}s.currentTarget=null,i=_}}}}function ft(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var a=e+"__bubble";n.has(a)||(xm(t,e,2,!1),n.add(a))}function lf(e,t,n){var a=0;t&&(a|=4),xm(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[$u]){e[$u]=!0,Xa.forEach(function(n){n!=="selectionchange"&&(Vy.has(n)||lf(n,!1,e),lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,lf("selectionchange",!1,t))}}function xm(e,t,n,a){switch(Zm(t)){case 2:var s=v0;break;case 8:s=S0;break;default:s=Sf}n=s.bind(null,t,n,e),s=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rf(e,t,n,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===s)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===s)return;p=p.return}for(;x!==null;){if(p=Oa(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=i=p;continue e}x=x.parentNode}}a=a.return}Nl(function(){var F=i,ne=Xs(n),re=[];e:{var J=qe.get(e);if(J!==void 0){var I=Vs,Le=e;switch(e){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":I=Is;break;case"focusin":Le="focus",I=Al;break;case"focusout":Le="blur",I=Al;break;case"beforeblur":case"afterblur":I=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=tr;break;case $:case K:case te:I=au;break;case he:I=nr;break;case"scroll":case"scrollend":I=Fs;break;case"wheel":I=ti;break;case"copy":case"cut":case"paste":I=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=er;break;case"toggle":case"beforetoggle":I=iu}var We=(t&4)!==0,Bt=!We&&(e==="scroll"||e==="scrollend"),H=We?J!==null?J+"Capture":null:J;We=[];for(var R=F,G;R!==null;){var se=R;if(G=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||G===null||H===null||(se=$a(R,H),se!=null&&We.push(Mr(R,se,G))),Bt)break;R=R.return}0<We.length&&(J=new I(J,Le,null,n,ne),re.push({event:J,listeners:We}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",J&&n!==aa&&(Le=n.relatedTarget||n.fromElement)&&(Oa(Le)||Le[Tn]))break e;if((I||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,I?(Le=n.relatedTarget||n.toElement,I=F,Le=Le?Oa(Le):null,Le!==null&&(Bt=v(Le),We=Le.tag,Le!==Bt||We!==5&&We!==27&&We!==6)&&(Le=null)):(I=null,Le=F),I!==Le)){if(We=$s,se="onMouseLeave",H="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(We=er,se="onPointerLeave",H="onPointerEnter",R="pointer"),Bt=I==null?J:Gn(I),G=Le==null?J:Gn(Le),J=new We(se,R+"leave",I,n,ne),J.target=Bt,J.relatedTarget=G,se=null,Oa(ne)===F&&(We=new We(H,R+"enter",Le,n,ne),We.target=G,We.relatedTarget=Bt,se=We),Bt=se,I&&Le)t:{for(We=Fy,H=I,R=Le,G=0,se=H;se;se=We(se))G++;se=0;for(var Ge=R;Ge;Ge=We(Ge))se++;for(;0<G-se;)H=We(H),G--;for(;0<se-G;)R=We(R),se--;for(;G--;){if(H===R||R!==null&&H===R.alternate){We=H;break t}H=We(H),R=We(R)}We=null}else We=null;I!==null&&vm(re,J,I,We,!1),Le!==null&&Bt!==null&&vm(re,Bt,Le,We,!0)}}e:{if(J=F?Gn(F):window,I=J.nodeName&&J.nodeName.toLowerCase(),I==="select"||I==="input"&&J.type==="file")var St=js;else if(li(J))if(sa)St=Ml;else{St=tl;var Qe=du}else I=J.nodeName,!I||I.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?F&&Fi(F.elementType)&&(St=js):St=rr;if(St&&(St=St(e,F))){ir(re,St,n,ne);break e}Qe&&Qe(e,J,F),e==="focusout"&&F&&J.type==="number"&&F.memoizedProps.value!=null&&ms(J,"number",J.value)}switch(Qe=F?Gn(F):window,e){case"focusin":(li(Qe)||Qe.contentEditable==="true")&&(w=Qe,O=F,L=null);break;case"focusout":L=O=w=null;break;case"mousedown":D=!0;break;case"contextmenu":case"mouseup":case"dragend":D=!1,C(re,n,ne);break;case"selectionchange":if(j)break;case"keydown":case"keyup":C(re,n,ne)}var it;if(vs)e:{switch(e){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ia?sr(e,n)&&(pt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(pt="onCompositionStart");pt&&(ni&&n.locale!=="ko"&&(Ia||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ia&&(it=El()):(la=ne,Gs="value"in la?la.value:la.textContent,Ia=!0)),Qe=Ju(F,pt),0<Qe.length&&(pt=new Ws(pt,e,null,n,ne),re.push({event:pt,listeners:Qe}),it?pt.data=it:(it=uu(n),it!==null&&(pt.data=it)))),(it=Uo?ou(e,n):Ho(e,n))&&(pt=Ju(F,"onBeforeInput"),0<pt.length&&(Qe=new Ws("onBeforeInput","beforeinput",null,n,ne),re.push({event:Qe,listeners:pt}),Qe.data=it)),Yy(re,e,F,n,ne)}bm(re,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ju(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=$a(e,n),s!=null&&a.unshift(Mr(e,s,i)),s=$a(e,t),s!=null&&a.push(Mr(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vm(e,t,n,a,s){for(var i=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,F=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||F===null||(_=F,s?(F=$a(n,i),F!=null&&p.unshift(Mr(n,F,_))):s||(F=$a(n,i),F!=null&&p.push(Mr(n,F,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Zy=/\r\n?/g,$y=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(Zy,`
`).replace($y,"")}function jm(e,t){return t=Sm(t),Sm(e)===t}function Rt(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Va(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Va(e,""+a);break;case"className":ds(e,"class",a);break;case"tabIndex":ds(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(e,n,a);break;case"style":Vi(e,a,i);break;case"data":if(t!=="object"){ds(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Rt(e,t,"name",s.name,s,null),Rt(e,t,"formEncType",s.formEncType,s,null),Rt(e,t,"formMethod",s.formMethod,s,null),Rt(e,t,"formTarget",s.formTarget,s,null)):(Rt(e,t,"encType",s.encType,s,null),Rt(e,t,"method",s.method,s,null),Rt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=kn);break;case"onScroll":a!=null&&ft("scroll",e);break;case"onScrollEnd":a!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ft("beforetoggle",e),ft("toggle",e),ut(e,"popover",a);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ut(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ro.get(n)||n,ut(e,n,a))}}function uf(e,t,n,a,s,i){switch(n){case"style":Vi(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Va(e,a):(typeof a=="number"||typeof a=="bigint")&&Va(e,""+a);break;case"onScroll":a!=null&&ft("scroll",e);break;case"onScrollEnd":a!=null&&ft("scrollend",e);break;case"onClick":a!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[It]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ut(e,n,a)}}}function wn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,i,p,n,null)}}s&&Rt(e,t,"srcSet",n.srcSet,n,null),a&&Rt(e,t,"src",n.src,n,null);return;case"input":ft("invalid",e);var x=i=p=s=null,_=null,F=null;for(a in n)if(n.hasOwnProperty(a)){var ne=n[a];if(ne!=null)switch(a){case"name":s=ne;break;case"type":p=ne;break;case"checked":_=ne;break;case"defaultChecked":F=ne;break;case"value":i=ne;break;case"defaultValue":x=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,t));break;default:Rt(e,t,a,ne,n,null)}}Ys(e,i,x,_,F,p,s,!1);return;case"select":ft("invalid",e),a=p=i=null;for(s in n)if(n.hasOwnProperty(s)&&(x=n[s],x!=null))switch(s){case"value":i=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Rt(e,t,s,x,n,null)}t=i,n=p,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":ft("invalid",e),i=s=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":s=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Rt(e,t,p,x,n,null)}ps(e,a,s,i);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Rt(e,t,_,a,n,null));return;case"dialog":ft("beforetoggle",e),ft("toggle",e),ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ft(Tr[a],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,F,a,n,null)}return;default:if(Fi(t)){for(ne in n)n.hasOwnProperty(ne)&&(a=n[ne],a!==void 0&&uf(e,t,ne,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Rt(e,t,x,a,n,null))}function Jy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,p=null,x=null,_=null,F=null,ne=null;for(I in n){var re=n[I];if(n.hasOwnProperty(I)&&re!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=re;default:a.hasOwnProperty(I)||Rt(e,t,I,null,a,re)}}for(var J in a){var I=a[J];if(re=n[J],a.hasOwnProperty(J)&&(I!=null||re!=null))switch(J){case"type":i=I;break;case"name":s=I;break;case"checked":F=I;break;case"defaultChecked":ne=I;break;case"value":p=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(d(137,t));break;default:I!==re&&Rt(e,t,J,I,a,re)}}Ta(e,p,x,_,F,ne,i,s);return;case"select":I=p=x=J=null;for(i in n)if(_=n[i],n.hasOwnProperty(i)&&_!=null)switch(i){case"value":break;case"multiple":I=_;default:a.hasOwnProperty(i)||Rt(e,t,i,null,a,_)}for(s in a)if(i=a[s],_=n[s],a.hasOwnProperty(s)&&(i!=null||_!=null))switch(s){case"value":J=i;break;case"defaultValue":x=i;break;case"multiple":p=i;default:i!==_&&Rt(e,t,s,i,a,_)}t=x,n=p,a=I,J!=null?va(e,!!n,J,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":I=J=null;for(x in n)if(s=n[x],n.hasOwnProperty(x)&&s!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Rt(e,t,x,null,a,s)}for(p in a)if(s=a[p],i=n[p],a.hasOwnProperty(p)&&(s!=null||i!=null))switch(p){case"value":J=s;break;case"defaultValue":I=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&Rt(e,t,p,s,a,i)}Gi(e,J,I);return;case"option":for(var Le in n)J=n[Le],n.hasOwnProperty(Le)&&J!=null&&!a.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:Rt(e,t,Le,null,a,J));for(_ in a)J=a[_],I=n[_],a.hasOwnProperty(_)&&J!==I&&(J!=null||I!=null)&&(_==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Rt(e,t,_,J,a,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in n)J=n[We],n.hasOwnProperty(We)&&J!=null&&!a.hasOwnProperty(We)&&Rt(e,t,We,null,a,J);for(F in a)if(J=a[F],I=n[F],a.hasOwnProperty(F)&&J!==I&&(J!=null||I!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(d(137,t));break;default:Rt(e,t,F,J,a,I)}return;default:if(Fi(t)){for(var Bt in n)J=n[Bt],n.hasOwnProperty(Bt)&&J!==void 0&&!a.hasOwnProperty(Bt)&&uf(e,t,Bt,void 0,a,J);for(ne in a)J=a[ne],I=n[ne],!a.hasOwnProperty(ne)||J===I||J===void 0&&I===void 0||uf(e,t,ne,J,a,I);return}}for(var H in n)J=n[H],n.hasOwnProperty(H)&&J!=null&&!a.hasOwnProperty(H)&&Rt(e,t,H,null,a,J);for(re in a)J=a[re],I=n[re],!a.hasOwnProperty(re)||J===I||J==null&&I==null||Rt(e,t,re,J,a,I)}function wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,p=s.initiatorType,x=s.duration;if(i&&x&&wm(p)){for(p=0,x=s.responseEnd,a+=1;a<n.length;a++){var _=n[a],F=_.startTime;if(F>x)break;var ne=_.transferSize,re=_.initiatorType;ne&&wm(re)&&(_=_.responseEnd,p+=ne*(_<x?1:(x-F)/(_-F)))}if(--a,t+=8*(i+p)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var of=null,cf=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function Nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var df=null;function Wy(){var e=window.event;return e&&e.type==="popstate"?e===df?!1:(df=e,!0):(df=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(e){return Cm.resolve(null).then(e).catch(t0)}:Em;function t0(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function Am(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Ti(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")zr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zr(n);for(var i=n.firstChild;i;){var p=i.nextSibling,x=i.nodeName;i[Xn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=p}}else n==="body"&&zr(e.ownerDocument.body);n=s}while(n);Ti(t)}function Om(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hf(n),Ks(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function n0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=fa(e.nextSibling),e===null)break}return null}function a0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fa(e.nextSibling),e===null))return null;return e}function Dm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fa(e.nextSibling),e===null))return null;return e}function mf(e){return e.data==="$?"||e.data==="$~"}function pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function l0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yf=null;function Tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return fa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function zm(e,t,n){switch(t=Pu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ks(e)}var da=new Map,km=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=ue.d;ue.d={f:s0,r:i0,D:r0,C:u0,L:o0,m:c0,X:d0,S:f0,M:h0};function s0(){var e=yl.f(),t=Yu();return e||t}function i0(e){var t=Mt(e);t!==null&&t.tag===5&&t.type==="form"?Pd(t):yl.r(e)}var Ai=typeof document>"u"?null:document;function Rm(e,t,n){var a=Ai;if(a&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),km.has(s)||(km.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function r0(e){yl.D(e),Rm("dns-prefetch",e,null)}function u0(e,t){yl.C(e,t),Rm("preconnect",e,t)}function o0(e,t,n){yl.L(e,t,n);var a=Ai;if(a&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var i=s;switch(t){case"style":i=Oi(e);break;case"script":i=Di(e)}da.has(i)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),da.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(kr(i))||t==="script"&&a.querySelector(Rr(i))||(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function c0(e,t){yl.m(e,t);var n=Ai;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Di(e)}if(!da.has(i)&&(e=A({rel:"modulepreload",href:e},t),da.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}a=n.createElement("link"),wn(a,"link",e),en(a),n.head.appendChild(a)}}}function f0(e,t,n){yl.S(e,t,n);var a=Ai;if(a&&e){var s=Nn(a).hoistableStyles,i=Oi(e);t=t||"default";var p=s.get(i);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(kr(i)))x.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=da.get(i))&&gf(e,n);var _=p=a.createElement("link");en(_),wn(_,"link",e),_._p=new Promise(function(F,ne){_.onload=F,_.onerror=ne}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Iu(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},s.set(i,p)}}}function d0(e,t){yl.X(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0},t),(t=da.get(s))&&bf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function h0(e,t){yl.M(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0,type:"module"},t),(t=da.get(s))&&bf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Bm(e,t,n,a){var s=(s=lt.current)?Wu(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Oi(n.href),n=Nn(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Oi(n.href);var i=Nn(s).hoistableStyles,p=i.get(e);if(p||(s=s.ownerDocument||s,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,p),(i=s.querySelector(kr(e)))&&!i._p&&(p.instance=i,p.state.loading=5),da.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},da.set(e,n),i||m0(s,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Di(n),n=Nn(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Oi(e){return'href="'+pn(e)+'"'}function kr(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function m0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),wn(t,"link",n),en(t),e.head.appendChild(t))}function Di(e){return'[src="'+pn(e)+'"]'}function Rr(e){return"script[async]"+e}function Um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,en(a),a;var s=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),en(a),wn(a,"style",s),Iu(a,n.precedence,e),t.instance=a;case"stylesheet":s=Oi(n.href);var i=e.querySelector(kr(s));if(i)return t.state.loading|=4,t.instance=i,en(i),i;a=qm(n),(s=da.get(s))&&gf(a,s),i=(e.ownerDocument||e).createElement("link"),en(i);var p=i;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=Di(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,en(s),s):(a=n,(s=da.get(i))&&(a=A({},n),bf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),en(s),wn(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Iu(a,n.precedence,e));return t.instance}function Iu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)i=x;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function gf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Hm(e,t,n){if(eo===null){var a=new Map,s=eo=new Map;s.set(n,a)}else s=eo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Xn]||i[Kt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var p=i.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(i):a.set(p,[i])}}return a}function Lm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function p0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function y0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Oi(a.href),i=t.querySelector(kr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,en(i);return}i=t.ownerDocument||t,a=qm(a),(s=da.get(s))&&gf(a,s),i=i.createElement("link"),en(i);var p=i;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=to.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var xf=0;function g0(e,t){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&xf===0&&(xf=62500*Py());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>xf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(b0,e),no=null,to.call(e))}function b0(e,t){if(!(t.state.loading&4)){var n=no.get(e);if(n)var a=n.get(null);else{n=new Map,no.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var p=s[i];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}s=t.instance,p=s.getAttribute("data-precedence"),i=n.get(p)||a,i===a&&n.set(null,s),n.set(p,s),this.count++,a=to.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function x0(e,t,n,a,s,i,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Qm(e,t,n,a,s,i,p,x,_,F,ne,re){return e=new x0(e,t,n,p,_,F,ne,re,x),t=1,i===!0&&(t|=24),i=Fn(3,null,null,t),e.current=i,i.stateNode=e,t=Po(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},tc(i),e}function Ym(e){return e?(e=ri,e):ri}function Xm(e,t,n,a,s,i){s=Ym(s),a.context===null?a.context=s:a.pendingContext=s,a=Hl(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Ll(e,a,t),n!==null&&(Hn(n,e,t),mr(n,e,t))}function Gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vf(e,t){Gm(e,t),(e=e.alternate)&&Gm(e,t)}function Vm(e){if(e.tag===13||e.tag===31){var t=At(e,67108864);t!==null&&Hn(t,e,67108864),vf(e,67108864)}}function Fm(e){if(e.tag===13||e.tag===31){var t=Wn();t=Ki(t);var n=At(e,t);n!==null&&Hn(n,e,t),vf(e,t)}}var lo=!0;function v0(e,t,n,a){var s=Y.T;Y.T=null;var i=ue.p;try{ue.p=2,Sf(e,t,n,a)}finally{ue.p=i,Y.T=s}}function S0(e,t,n,a){var s=Y.T;Y.T=null;var i=ue.p;try{ue.p=8,Sf(e,t,n,a)}finally{ue.p=i,Y.T=s}}function Sf(e,t,n,a){if(lo){var s=jf(a);if(s===null)rf(e,t,a,so,n),$m(e,a);else if(w0(s,e,t,n,a))a.stopPropagation();else if($m(e,a),t&4&&-1<j0.indexOf(e)){for(;s!==null;){var i=Mt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var p=ba(i.pendingLanes);if(p!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Oe(p);x.entanglements[1]|=_,p&=~_}Ha(i),(_t&6)===0&&(Ku=st()+500,Dr(0))}}break;case 31:case 13:x=At(i,2),x!==null&&Hn(x,i,2),Yu(),vf(i,2)}if(i=jf(a),i===null&&rf(e,t,a,so,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else rf(e,t,a,null,n)}}function jf(e){return e=Xs(e),wf(e)}var so=null;function wf(e){if(so=null,e=Oa(e),e!==null){var t=v(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return so=e,null}function Zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Et:return 2;case mn:return 8;case sn:case Dn:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Nf=!1,Pl=null,Wl=null,Il=null,qr=new Map,Ur=new Map,es=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Hr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mt(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function w0(e,t,n,a,s){switch(t){case"focusin":return Pl=Hr(Pl,e,t,n,a,s),!0;case"dragenter":return Wl=Hr(Wl,e,t,n,a,s),!0;case"mouseover":return Il=Hr(Il,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,Hr(qr.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,Hr(Ur.get(i)||null,e,t,n,a,s)),!0}return!1}function Jm(e){var t=Oa(e.target);if(t!==null){var n=v(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,os(e.priority,function(){Fm(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,os(e.priority,function(){Fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);aa=a,n.target.dispatchEvent(a),aa=null}else return t=Mt(n),t!==null&&Vm(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){io(e)&&n.delete(t)}function N0(){Nf=!1,Pl!==null&&io(Pl)&&(Pl=null),Wl!==null&&io(Wl)&&(Wl=null),Il!==null&&io(Il)&&(Il=null),qr.forEach(Pm),Ur.forEach(Pm)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,N0)))}var uo=null;function Wm(e){uo!==e&&(uo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(wf(a||n)===null)continue;break}var i=Mt(n);i!==null&&(e.splice(t,3),t-=3,Sc(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Ti(e){function t(_){return ro(_,e)}Pl!==null&&ro(Pl,e),Wl!==null&&ro(Wl,e),Il!==null&&ro(Il,e),qr.forEach(t),Ur.forEach(t);for(var n=0;n<es.length;n++){var a=es[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<es.length&&(n=es[0],n.blockedOn===null);)Jm(n),n.blockedOn===null&&es.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],p=s[It]||null;if(typeof i=="function")p||Wm(n);else if(p){var x=null;if(i&&i.hasAttribute("formAction")){if(s=i,p=i[It]||null)x=p.formAction;else if(wf(s)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Wm(n)}}}function Im(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(p){return s=p})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function _f(e){this._internalRoot=e}oo.prototype.render=_f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Wn();Xm(n,a,e,t,null,null)},oo.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xm(e.current,2,null,e,null,null),Yu(),t[Tn]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=us();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&Jm(e)}};var ep=c.version;if(ep!=="19.2.4")throw Error(d(527,ep,"19.2.4"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(t),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var _0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{qt=co.inject(_0),Ct=co}catch{}}return Lr.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",s=rh,i=uh,p=oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Qm(e,1,!1,null,null,n,a,null,s,i,p,Im),e[Tn]=t.current,sf(e),new _f(t)},Lr.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,s="",i=rh,p=uh,x=oh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Qm(e,1,!0,t,n??null,a,s,_,i,p,x,Im),t.context=Ym(null),n=t.current,a=Wn(),a=Ki(a),s=Hl(a),s.callback=null,Ll(n,s,a),n=a,t.current.lanes=n,ta(t,n),Ha(t),e[Tn]=t.current,sf(e),new oo(t)},Lr.version="19.2.4",Lr}var lp;function Q0(){if(lp)return Ef.exports;lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Ef.exports=K0(),Ef.exports}var Y0=Q0();const sp=r=>{let c;const m=new Set,d=(E,k)=>{const A=typeof E=="function"?E(c):E;if(!Object.is(A,c)){const V=c;c=k??(typeof A!="object"||A===null)?A:Object.assign({},c,A),m.forEach(ge=>ge(c,V))}},g=()=>c,N={setState:d,getState:g,getInitialState:()=>q,subscribe:E=>(m.add(E),()=>m.delete(E))},q=c=r(d,g,N);return N},X0=(r=>r?sp(r):sp),G0=r=>r;function V0(r,c=G0){const m=fo.useSyncExternalStore(r.subscribe,fo.useCallback(()=>c(r.getState()),[r,c]),fo.useCallback(()=>c(r.getInitialState()),[r,c]));return fo.useDebugValue(m),m}const ip=r=>{const c=X0(r),m=d=>V0(c,d);return Object.assign(m,c),m},F0=(r=>r?ip(r):ip);function Z0(r,c){let m;try{m=r()}catch{return}return{getItem:g=>{var v;const S=q=>q===null?null:JSON.parse(q,void 0),N=(v=m.getItem(g))!=null?v:null;return N instanceof Promise?N.then(S):S(N)},setItem:(g,v)=>m.setItem(g,JSON.stringify(v,void 0)),removeItem:g=>m.removeItem(g)}}const kf=r=>c=>{try{const m=r(c);return m instanceof Promise?m:{then(d){return kf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return kf(d)(m)}}}},$0=(r,c)=>(m,d,g)=>{let v={storage:Z0(()=>window.localStorage),partialize:P=>P,version:0,merge:(P,De)=>({...De,...P}),...c},S=!1,N=0;const q=new Set,E=new Set;let k=v.storage;if(!k)return r((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${v.name}', the given storage is currently unavailable.`),m(...P)},d,g);const A=()=>{const P=v.partialize({...d()});return k.setItem(v.name,{state:P,version:v.version})},V=g.setState;g.setState=(P,De)=>(V(P,De),A());const ge=r((...P)=>(m(...P),A()),d,g);g.getInitialState=()=>ge;let Z;const ie=()=>{var P,De;if(!k)return;const de=++N;S=!1,q.forEach(ae=>{var Se;return ae((Se=d())!=null?Se:ge)});const Ce=((De=v.onRehydrateStorage)==null?void 0:De.call(v,(P=d())!=null?P:ge))||void 0;return kf(k.getItem.bind(k))(v.name).then(ae=>{if(ae)if(typeof ae.version=="number"&&ae.version!==v.version){if(v.migrate){const Se=v.migrate(ae.state,ae.version);return Se instanceof Promise?Se.then(xe=>[!0,xe]):[!0,Se]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ae.state];return[!1,void 0]}).then(ae=>{var Se;if(de!==N)return;const[xe,je]=ae;if(Z=v.merge(je,(Se=d())!=null?Se:ge),m(Z,!0),xe)return A()}).then(()=>{de===N&&(Ce?.(Z,void 0),Z=d(),S=!0,E.forEach(ae=>ae(Z)))}).catch(ae=>{de===N&&Ce?.(void 0,ae)})};return g.persist={setOptions:P=>{v={...v,...P},P.storage&&(k=P.storage)},clearStorage:()=>{k?.removeItem(v.name)},getOptions:()=>v,rehydrate:()=>ie(),hasHydrated:()=>S,onHydrate:P=>(q.add(P),()=>{q.delete(P)}),onFinishHydration:P=>(E.add(P),()=>{E.delete(P)})},v.skipHydration||ie(),Z||ge},J0=$0,xl=F0(J0(r=>({token:null,setToken:c=>r({token:c}),logout:()=>r({token:null})}),{name:"wisemark-auth",partialize:r=>({token:r.token})}));function qp(r,c){return function(){return r.apply(c,arguments)}}const{toString:P0}=Object.prototype,{getPrototypeOf:Gf}=Object,{iterator:Eo,toStringTag:Up}=Symbol,Co=(r=>c=>{const m=P0.call(c);return r[m]||(r[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),_a=r=>(r=r.toLowerCase(),c=>Co(c)===r),Ao=r=>c=>typeof c===r,{isArray:Hi}=Array,Ri=Ao("undefined");function Vr(r){return r!==null&&!Ri(r)&&r.constructor!==null&&!Ri(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Hp=_a("ArrayBuffer");function W0(r){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(r):c=r&&r.buffer&&Hp(r.buffer),c}const I0=Ao("string"),Kn=Ao("function"),Lp=Ao("number"),Fr=r=>r!==null&&typeof r=="object",eg=r=>r===!0||r===!1,po=r=>{if(Co(r)!=="object")return!1;const c=Gf(r);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Up in r)&&!(Eo in r)},tg=r=>{if(!Fr(r)||Vr(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},ng=_a("Date"),ag=_a("File"),lg=_a("Blob"),sg=_a("FileList"),ig=r=>Fr(r)&&Kn(r.pipe),rg=r=>{let c;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((c=Co(r))==="formdata"||c==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},ug=_a("URLSearchParams"),[og,cg,fg,dg]=["ReadableStream","Request","Response","Headers"].map(_a),hg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zr(r,c,{allOwnKeys:m=!1}={}){if(r===null||typeof r>"u")return;let d,g;if(typeof r!="object"&&(r=[r]),Hi(r))for(d=0,g=r.length;d<g;d++)c.call(null,r[d],d,r);else{if(Vr(r))return;const v=m?Object.getOwnPropertyNames(r):Object.keys(r),S=v.length;let N;for(d=0;d<S;d++)N=v[d],c.call(null,r[N],N,r)}}function Kp(r,c){if(Vr(r))return null;c=c.toLowerCase();const m=Object.keys(r);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const Rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qp=r=>!Ri(r)&&r!==Rs;function Rf(){const{caseless:r,skipUndefined:c}=Qp(this)&&this||{},m={},d=(g,v)=>{if(v==="__proto__"||v==="constructor"||v==="prototype")return;const S=r&&Kp(m,v)||v;po(m[S])&&po(g)?m[S]=Rf(m[S],g):po(g)?m[S]=Rf({},g):Hi(g)?m[S]=g.slice():(!c||!Ri(g))&&(m[S]=g)};for(let g=0,v=arguments.length;g<v;g++)arguments[g]&&Zr(arguments[g],d);return m}const mg=(r,c,m,{allOwnKeys:d}={})=>(Zr(c,(g,v)=>{m&&Kn(g)?Object.defineProperty(r,v,{value:qp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,v,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),r),pg=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),yg=(r,c,m,d)=>{r.prototype=Object.create(c.prototype,d),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:c.prototype}),m&&Object.assign(r.prototype,m)},gg=(r,c,m,d)=>{let g,v,S;const N={};if(c=c||{},r==null)return c;do{for(g=Object.getOwnPropertyNames(r),v=g.length;v-- >0;)S=g[v],(!d||d(S,r,c))&&!N[S]&&(c[S]=r[S],N[S]=!0);r=m!==!1&&Gf(r)}while(r&&(!m||m(r,c))&&r!==Object.prototype);return c},bg=(r,c,m)=>{r=String(r),(m===void 0||m>r.length)&&(m=r.length),m-=c.length;const d=r.indexOf(c,m);return d!==-1&&d===m},xg=r=>{if(!r)return null;if(Hi(r))return r;let c=r.length;if(!Lp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=r[c];return m},vg=(r=>c=>r&&c instanceof r)(typeof Uint8Array<"u"&&Gf(Uint8Array)),Sg=(r,c)=>{const d=(r&&r[Eo]).call(r);let g;for(;(g=d.next())&&!g.done;){const v=g.value;c.call(r,v[0],v[1])}},jg=(r,c)=>{let m;const d=[];for(;(m=r.exec(c))!==null;)d.push(m);return d},wg=_a("HTMLFormElement"),Ng=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),rp=(({hasOwnProperty:r})=>(c,m)=>r.call(c,m))(Object.prototype),_g=_a("RegExp"),Yp=(r,c)=>{const m=Object.getOwnPropertyDescriptors(r),d={};Zr(m,(g,v)=>{let S;(S=c(g,v,r))!==!1&&(d[v]=S||g)}),Object.defineProperties(r,d)},Eg=r=>{Yp(r,(c,m)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=r[m];if(Kn(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Cg=(r,c)=>{const m={},d=g=>{g.forEach(v=>{m[v]=!0})};return Hi(r)?d(r):d(String(r).split(c)),m},Ag=()=>{},Og=(r,c)=>r!=null&&Number.isFinite(r=+r)?r:c;function Dg(r){return!!(r&&Kn(r.append)&&r[Up]==="FormData"&&r[Eo])}const Tg=r=>{const c=new Array(10),m=(d,g)=>{if(Fr(d)){if(c.indexOf(d)>=0)return;if(Vr(d))return d;if(!("toJSON"in d)){c[g]=d;const v=Hi(d)?[]:{};return Zr(d,(S,N)=>{const q=m(S,g+1);!Ri(q)&&(v[N]=q)}),c[g]=void 0,v}}return d};return m(r,0)},Mg=_a("AsyncFunction"),zg=r=>r&&(Fr(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),Xp=((r,c)=>r?setImmediate:c?((m,d)=>(Rs.addEventListener("message",({source:g,data:v})=>{g===Rs&&v===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Rs.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Kn(Rs.postMessage)),kg=typeof queueMicrotask<"u"?queueMicrotask.bind(Rs):typeof process<"u"&&process.nextTick||Xp,Rg=r=>r!=null&&Kn(r[Eo]),W={isArray:Hi,isArrayBuffer:Hp,isBuffer:Vr,isFormData:rg,isArrayBufferView:W0,isString:I0,isNumber:Lp,isBoolean:eg,isObject:Fr,isPlainObject:po,isEmptyObject:tg,isReadableStream:og,isRequest:cg,isResponse:fg,isHeaders:dg,isUndefined:Ri,isDate:ng,isFile:ag,isBlob:lg,isRegExp:_g,isFunction:Kn,isStream:ig,isURLSearchParams:ug,isTypedArray:vg,isFileList:sg,forEach:Zr,merge:Rf,extend:mg,trim:hg,stripBOM:pg,inherits:yg,toFlatObject:gg,kindOf:Co,kindOfTest:_a,endsWith:bg,toArray:xg,forEachEntry:Sg,matchAll:jg,isHTMLForm:wg,hasOwnProperty:rp,hasOwnProp:rp,reduceDescriptors:Yp,freezeMethods:Eg,toObjectSet:Cg,toCamelCase:Ng,noop:Ag,toFiniteNumber:Og,findKey:Kp,global:Rs,isContextDefined:Qp,isSpecCompliantForm:Dg,toJSONObject:Tg,isAsyncFn:Mg,isThenable:zg,setImmediate:Xp,asap:kg,isIterable:Rg};let Ie=class Gp extends Error{static from(c,m,d,g,v,S){const N=new Gp(c.message,m||c.code,d,g,v);return N.cause=c,N.name=c.name,S&&Object.assign(N,S),N}constructor(c,m,d,g,v){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),v&&(this.response=v,this.status=v.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}};Ie.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ie.ERR_BAD_OPTION="ERR_BAD_OPTION";Ie.ECONNABORTED="ECONNABORTED";Ie.ETIMEDOUT="ETIMEDOUT";Ie.ERR_NETWORK="ERR_NETWORK";Ie.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ie.ERR_DEPRECATED="ERR_DEPRECATED";Ie.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ie.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ie.ERR_CANCELED="ERR_CANCELED";Ie.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ie.ERR_INVALID_URL="ERR_INVALID_URL";const Bg=null;function Bf(r){return W.isPlainObject(r)||W.isArray(r)}function Vp(r){return W.endsWith(r,"[]")?r.slice(0,-2):r}function up(r,c,m){return r?r.concat(c).map(function(g,v){return g=Vp(g),!m&&v?"["+g+"]":g}).join(m?".":""):c}function qg(r){return W.isArray(r)&&!r.some(Bf)}const Ug=W.toFlatObject(W,{},null,function(c){return/^is[A-Z]/.test(c)});function Oo(r,c,m){if(!W.isObject(r))throw new TypeError("target must be an object");c=c||new FormData,m=W.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ie,P){return!W.isUndefined(P[ie])});const d=m.metaTokens,g=m.visitor||k,v=m.dots,S=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(c);if(!W.isFunction(g))throw new TypeError("visitor must be a function");function E(Z){if(Z===null)return"";if(W.isDate(Z))return Z.toISOString();if(W.isBoolean(Z))return Z.toString();if(!q&&W.isBlob(Z))throw new Ie("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(Z)||W.isTypedArray(Z)?q&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function k(Z,ie,P){let De=Z;if(Z&&!P&&typeof Z=="object"){if(W.endsWith(ie,"{}"))ie=d?ie:ie.slice(0,-2),Z=JSON.stringify(Z);else if(W.isArray(Z)&&qg(Z)||(W.isFileList(Z)||W.endsWith(ie,"[]"))&&(De=W.toArray(Z)))return ie=Vp(ie),De.forEach(function(Ce,ae){!(W.isUndefined(Ce)||Ce===null)&&c.append(S===!0?up([ie],ae,v):S===null?ie:ie+"[]",E(Ce))}),!1}return Bf(Z)?!0:(c.append(up(P,ie,v),E(Z)),!1)}const A=[],V=Object.assign(Ug,{defaultVisitor:k,convertValue:E,isVisitable:Bf});function ge(Z,ie){if(!W.isUndefined(Z)){if(A.indexOf(Z)!==-1)throw Error("Circular reference detected in "+ie.join("."));A.push(Z),W.forEach(Z,function(De,de){(!(W.isUndefined(De)||De===null)&&g.call(c,De,W.isString(de)?de.trim():de,ie,V))===!0&&ge(De,ie?ie.concat(de):[de])}),A.pop()}}if(!W.isObject(r))throw new TypeError("data must be an object");return ge(r),c}function op(r){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Vf(r,c){this._pairs=[],r&&Oo(r,this,c)}const Fp=Vf.prototype;Fp.append=function(c,m){this._pairs.push([c,m])};Fp.toString=function(c){const m=c?function(d){return c.call(this,d,op)}:op;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Hg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zp(r,c,m){if(!c)return r;const d=m&&m.encode||Hg,g=W.isFunction(m)?{serialize:m}:m,v=g&&g.serialize;let S;if(v?S=v(c,g):S=W.isURLSearchParams(c)?c.toString():new Vf(c,g).toString(d),S){const N=r.indexOf("#");N!==-1&&(r=r.slice(0,N)),r+=(r.indexOf("?")===-1?"?":"&")+S}return r}class cp{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){W.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Lg=typeof URLSearchParams<"u"?URLSearchParams:Vf,Kg=typeof FormData<"u"?FormData:null,Qg=typeof Blob<"u"?Blob:null,Yg={isBrowser:!0,classes:{URLSearchParams:Lg,FormData:Kg,Blob:Qg},protocols:["http","https","file","blob","url","data"]},Zf=typeof window<"u"&&typeof document<"u",qf=typeof navigator=="object"&&navigator||void 0,Xg=Zf&&(!qf||["ReactNative","NativeScript","NS"].indexOf(qf.product)<0),Gg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vg=Zf&&window.location.href||"http://localhost",Fg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zf,hasStandardBrowserEnv:Xg,hasStandardBrowserWebWorkerEnv:Gg,navigator:qf,origin:Vg},Symbol.toStringTag,{value:"Module"})),On={...Fg,...Yg};function Zg(r,c){return Oo(r,new On.classes.URLSearchParams,{visitor:function(m,d,g,v){return On.isNode&&W.isBuffer(m)?(this.append(d,m.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)},...c})}function $g(r){return W.matchAll(/\w+|\[(\w*)]/g,r).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Jg(r){const c={},m=Object.keys(r);let d;const g=m.length;let v;for(d=0;d<g;d++)v=m[d],c[v]=r[v];return c}function $p(r){function c(m,d,g,v){let S=m[v++];if(S==="__proto__")return!0;const N=Number.isFinite(+S),q=v>=m.length;return S=!S&&W.isArray(g)?g.length:S,q?(W.hasOwnProp(g,S)?g[S]=[g[S],d]:g[S]=d,!N):((!g[S]||!W.isObject(g[S]))&&(g[S]=[]),c(m,d,g[S],v)&&W.isArray(g[S])&&(g[S]=Jg(g[S])),!N)}if(W.isFormData(r)&&W.isFunction(r.entries)){const m={};return W.forEachEntry(r,(d,g)=>{c($g(d),g,m,0)}),m}return null}function Pg(r,c,m){if(W.isString(r))try{return(c||JSON.parse)(r),W.trim(r)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(r)}const $r={transitional:Ff,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,v=W.isObject(c);if(v&&W.isHTMLForm(c)&&(c=new FormData(c)),W.isFormData(c))return g?JSON.stringify($p(c)):c;if(W.isArrayBuffer(c)||W.isBuffer(c)||W.isStream(c)||W.isFile(c)||W.isBlob(c)||W.isReadableStream(c))return c;if(W.isArrayBufferView(c))return c.buffer;if(W.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let N;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Zg(c,this.formSerializer).toString();if((N=W.isFileList(c))||d.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return Oo(N?{"files[]":c}:c,q&&new q,this.formSerializer)}}return v||g?(m.setContentType("application/json",!1),Pg(c)):c}],transformResponse:[function(c){const m=this.transitional||$r.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(W.isResponse(c)||W.isReadableStream(c))return c;if(c&&W.isString(c)&&(d&&!this.responseType||g)){const S=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(N){if(S)throw N.name==="SyntaxError"?Ie.from(N,Ie.ERR_BAD_RESPONSE,this,null,this.response):N}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],r=>{$r.headers[r]={}});const Wg=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ig=r=>{const c={};let m,d,g;return r&&r.split(`
`).forEach(function(S){g=S.indexOf(":"),m=S.substring(0,g).trim().toLowerCase(),d=S.substring(g+1).trim(),!(!m||c[m]&&Wg[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},fp=Symbol("internals");function Kr(r){return r&&String(r).trim().toLowerCase()}function yo(r){return r===!1||r==null?r:W.isArray(r)?r.map(yo):String(r)}function eb(r){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(r);)c[d[1]]=d[2];return c}const tb=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Of(r,c,m,d,g){if(W.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!W.isString(c)){if(W.isString(d))return c.indexOf(d)!==-1;if(W.isRegExp(d))return d.test(c)}}function nb(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function ab(r,c){const m=W.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(r,d+m,{value:function(g,v,S){return this[d].call(this,c,g,v,S)},configurable:!0})})}let Qn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function v(N,q,E){const k=Kr(q);if(!k)throw new Error("header name must be a non-empty string");const A=W.findKey(g,k);(!A||g[A]===void 0||E===!0||E===void 0&&g[A]!==!1)&&(g[A||q]=yo(N))}const S=(N,q)=>W.forEach(N,(E,k)=>v(E,k,q));if(W.isPlainObject(c)||c instanceof this.constructor)S(c,m);else if(W.isString(c)&&(c=c.trim())&&!tb(c))S(Ig(c),m);else if(W.isObject(c)&&W.isIterable(c)){let N={},q,E;for(const k of c){if(!W.isArray(k))throw TypeError("Object iterator must return a key-value pair");N[E=k[0]]=(q=N[E])?W.isArray(q)?[...q,k[1]]:[q,k[1]]:k[1]}S(N,m)}else c!=null&&v(m,c,d);return this}get(c,m){if(c=Kr(c),c){const d=W.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return eb(g);if(W.isFunction(m))return m.call(this,g,d);if(W.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Kr(c),c){const d=W.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||Of(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function v(S){if(S=Kr(S),S){const N=W.findKey(d,S);N&&(!m||Of(d,d[N],N,m))&&(delete d[N],g=!0)}}return W.isArray(c)?c.forEach(v):v(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const v=m[d];(!c||Of(this,this[v],v,c,!0))&&(delete this[v],g=!0)}return g}normalize(c){const m=this,d={};return W.forEach(this,(g,v)=>{const S=W.findKey(d,v);if(S){m[S]=yo(g),delete m[v];return}const N=c?nb(v):String(v).trim();N!==v&&delete m[v],m[N]=yo(g),d[N]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return W.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&W.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[fp]=this[fp]={accessors:{}}).accessors,g=this.prototype;function v(S){const N=Kr(S);d[N]||(ab(g,S),d[N]=!0)}return W.isArray(c)?c.forEach(v):v(c),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Qn.prototype,({value:r},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>r,set(d){this[m]=d}}});W.freezeMethods(Qn);function Df(r,c){const m=this||$r,d=c||m,g=Qn.from(d.headers);let v=d.data;return W.forEach(r,function(N){v=N.call(m,v,g.normalize(),c?c.status:void 0)}),g.normalize(),v}function Jp(r){return!!(r&&r.__CANCEL__)}let Jr=class extends Ie{constructor(c,m,d){super(c??"canceled",Ie.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Pp(r,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?r(m):c(new Ie("Request failed with status code "+m.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function lb(r){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return c&&c[1]||""}function sb(r,c){r=r||10;const m=new Array(r),d=new Array(r);let g=0,v=0,S;return c=c!==void 0?c:1e3,function(q){const E=Date.now(),k=d[v];S||(S=E),m[g]=q,d[g]=E;let A=v,V=0;for(;A!==g;)V+=m[A++],A=A%r;if(g=(g+1)%r,g===v&&(v=(v+1)%r),E-S<c)return;const ge=k&&E-k;return ge?Math.round(V*1e3/ge):void 0}}function ib(r,c){let m=0,d=1e3/c,g,v;const S=(E,k=Date.now())=>{m=k,g=null,v&&(clearTimeout(v),v=null),r(...E)};return[(...E)=>{const k=Date.now(),A=k-m;A>=d?S(E,k):(g=E,v||(v=setTimeout(()=>{v=null,S(g)},d-A)))},()=>g&&S(g)]}const So=(r,c,m=3)=>{let d=0;const g=sb(50,250);return ib(v=>{const S=v.loaded,N=v.lengthComputable?v.total:void 0,q=S-d,E=g(q),k=S<=N;d=S;const A={loaded:S,total:N,progress:N?S/N:void 0,bytes:q,rate:E||void 0,estimated:E&&N&&k?(N-S)/E:void 0,event:v,lengthComputable:N!=null,[c?"download":"upload"]:!0};r(A)},m)},dp=(r,c)=>{const m=r!=null;return[d=>c[0]({lengthComputable:m,total:r,loaded:d}),c[1]]},hp=r=>(...c)=>W.asap(()=>r(...c)),rb=On.hasStandardBrowserEnv?((r,c)=>m=>(m=new URL(m,On.origin),r.protocol===m.protocol&&r.host===m.host&&(c||r.port===m.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,ub=On.hasStandardBrowserEnv?{write(r,c,m,d,g,v,S){if(typeof document>"u")return;const N=[`${r}=${encodeURIComponent(c)}`];W.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),W.isString(d)&&N.push(`path=${d}`),W.isString(g)&&N.push(`domain=${g}`),v===!0&&N.push("secure"),W.isString(S)&&N.push(`SameSite=${S}`),document.cookie=N.join("; ")},read(r){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ob(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function cb(r,c){return c?r.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):r}function Wp(r,c,m){let d=!ob(c);return r&&(d||m==!1)?cb(r,c):c}const mp=r=>r instanceof Qn?{...r}:r;function Us(r,c){c=c||{};const m={};function d(E,k,A,V){return W.isPlainObject(E)&&W.isPlainObject(k)?W.merge.call({caseless:V},E,k):W.isPlainObject(k)?W.merge({},k):W.isArray(k)?k.slice():k}function g(E,k,A,V){if(W.isUndefined(k)){if(!W.isUndefined(E))return d(void 0,E,A,V)}else return d(E,k,A,V)}function v(E,k){if(!W.isUndefined(k))return d(void 0,k)}function S(E,k){if(W.isUndefined(k)){if(!W.isUndefined(E))return d(void 0,E)}else return d(void 0,k)}function N(E,k,A){if(A in c)return d(E,k);if(A in r)return d(void 0,E)}const q={url:v,method:v,data:v,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:N,headers:(E,k,A)=>g(mp(E),mp(k),A,!0)};return W.forEach(Object.keys({...r,...c}),function(k){if(k==="__proto__"||k==="constructor"||k==="prototype")return;const A=W.hasOwnProp(q,k)?q[k]:g,V=A(r[k],c[k],k);W.isUndefined(V)&&A!==N||(m[k]=V)}),m}const Ip=r=>{const c=Us({},r);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:S,auth:N}=c;if(c.headers=S=Qn.from(S),c.url=Zp(Wp(c.baseURL,c.url,c.allowAbsoluteUrls),r.params,r.paramsSerializer),N&&S.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),W.isFormData(m)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(W.isFunction(m.getHeaders)){const q=m.getHeaders(),E=["content-type","content-length"];Object.entries(q).forEach(([k,A])=>{E.includes(k.toLowerCase())&&S.set(k,A)})}}if(On.hasStandardBrowserEnv&&(d&&W.isFunction(d)&&(d=d(c)),d||d!==!1&&rb(c.url))){const q=g&&v&&ub.read(v);q&&S.set(g,q)}return c},fb=typeof XMLHttpRequest<"u",db=fb&&function(r){return new Promise(function(m,d){const g=Ip(r);let v=g.data;const S=Qn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:E}=g,k,A,V,ge,Z;function ie(){ge&&ge(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(k),g.signal&&g.signal.removeEventListener("abort",k)}let P=new XMLHttpRequest;P.open(g.method.toUpperCase(),g.url,!0),P.timeout=g.timeout;function De(){if(!P)return;const Ce=Qn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),Se={data:!N||N==="text"||N==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:Ce,config:r,request:P};Pp(function(je){m(je),ie()},function(je){d(je),ie()},Se),P=null}"onloadend"in P?P.onloadend=De:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(De)},P.onabort=function(){P&&(d(new Ie("Request aborted",Ie.ECONNABORTED,r,P)),P=null)},P.onerror=function(ae){const Se=ae&&ae.message?ae.message:"Network Error",xe=new Ie(Se,Ie.ERR_NETWORK,r,P);xe.event=ae||null,d(xe),P=null},P.ontimeout=function(){let ae=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const Se=g.transitional||Ff;g.timeoutErrorMessage&&(ae=g.timeoutErrorMessage),d(new Ie(ae,Se.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,r,P)),P=null},v===void 0&&S.setContentType(null),"setRequestHeader"in P&&W.forEach(S.toJSON(),function(ae,Se){P.setRequestHeader(Se,ae)}),W.isUndefined(g.withCredentials)||(P.withCredentials=!!g.withCredentials),N&&N!=="json"&&(P.responseType=g.responseType),E&&([V,Z]=So(E,!0),P.addEventListener("progress",V)),q&&P.upload&&([A,ge]=So(q),P.upload.addEventListener("progress",A),P.upload.addEventListener("loadend",ge)),(g.cancelToken||g.signal)&&(k=Ce=>{P&&(d(!Ce||Ce.type?new Jr(null,r,P):Ce),P.abort(),P=null)},g.cancelToken&&g.cancelToken.subscribe(k),g.signal&&(g.signal.aborted?k():g.signal.addEventListener("abort",k)));const de=lb(g.url);if(de&&On.protocols.indexOf(de)===-1){d(new Ie("Unsupported protocol "+de+":",Ie.ERR_BAD_REQUEST,r));return}P.send(v||null)})},hb=(r,c)=>{const{length:m}=r=r?r.filter(Boolean):[];if(c||m){let d=new AbortController,g;const v=function(E){if(!g){g=!0,N();const k=E instanceof Error?E:this.reason;d.abort(k instanceof Ie?k:new Jr(k instanceof Error?k.message:k))}};let S=c&&setTimeout(()=>{S=null,v(new Ie(`timeout of ${c}ms exceeded`,Ie.ETIMEDOUT))},c);const N=()=>{r&&(S&&clearTimeout(S),S=null,r.forEach(E=>{E.unsubscribe?E.unsubscribe(v):E.removeEventListener("abort",v)}),r=null)};r.forEach(E=>E.addEventListener("abort",v));const{signal:q}=d;return q.unsubscribe=()=>W.asap(N),q}},mb=function*(r,c){let m=r.byteLength;if(m<c){yield r;return}let d=0,g;for(;d<m;)g=d+c,yield r.slice(d,g),d=g},pb=async function*(r,c){for await(const m of yb(r))yield*mb(m,c)},yb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const c=r.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},pp=(r,c,m,d)=>{const g=pb(r,c);let v=0,S,N=q=>{S||(S=!0,d&&d(q))};return new ReadableStream({async pull(q){try{const{done:E,value:k}=await g.next();if(E){N(),q.close();return}let A=k.byteLength;if(m){let V=v+=A;m(V)}q.enqueue(new Uint8Array(k))}catch(E){throw N(E),E}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},yp=64*1024,{isFunction:ho}=W,gb=(({Request:r,Response:c})=>({Request:r,Response:c}))(W.global),{ReadableStream:gp,TextEncoder:bp}=W.global,xp=(r,...c)=>{try{return!!r(...c)}catch{return!1}},bb=r=>{r=W.merge.call({skipUndefined:!0},gb,r);const{fetch:c,Request:m,Response:d}=r,g=c?ho(c):typeof fetch=="function",v=ho(m),S=ho(d);if(!g)return!1;const N=g&&ho(gp),q=g&&(typeof bp=="function"?(Z=>ie=>Z.encode(ie))(new bp):async Z=>new Uint8Array(await new m(Z).arrayBuffer())),E=v&&N&&xp(()=>{let Z=!1;const ie=new m(On.origin,{body:new gp,method:"POST",get duplex(){return Z=!0,"half"}}).headers.has("Content-Type");return Z&&!ie}),k=S&&N&&xp(()=>W.isReadableStream(new d("").body)),A={stream:k&&(Z=>Z.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(Z=>{!A[Z]&&(A[Z]=(ie,P)=>{let De=ie&&ie[Z];if(De)return De.call(ie);throw new Ie(`Response type '${Z}' is not supported`,Ie.ERR_NOT_SUPPORT,P)})});const V=async Z=>{if(Z==null)return 0;if(W.isBlob(Z))return Z.size;if(W.isSpecCompliantForm(Z))return(await new m(On.origin,{method:"POST",body:Z}).arrayBuffer()).byteLength;if(W.isArrayBufferView(Z)||W.isArrayBuffer(Z))return Z.byteLength;if(W.isURLSearchParams(Z)&&(Z=Z+""),W.isString(Z))return(await q(Z)).byteLength},ge=async(Z,ie)=>{const P=W.toFiniteNumber(Z.getContentLength());return P??V(ie)};return async Z=>{let{url:ie,method:P,data:De,signal:de,cancelToken:Ce,timeout:ae,onDownloadProgress:Se,onUploadProgress:xe,responseType:je,headers:Ze,withCredentials:$e="same-origin",fetchOptions:rt}=Ip(Z),Ke=c||fetch;je=je?(je+"").toLowerCase():"text";let le=hb([de,Ce&&Ce.toAbortSignal()],ae),we=null;const ce=le&&le.unsubscribe&&(()=>{le.unsubscribe()});let He;try{if(xe&&E&&P!=="get"&&P!=="head"&&(He=await ge(Ze,De))!==0){let X=new m(ie,{method:"POST",body:De,duplex:"half"}),oe;if(W.isFormData(De)&&(oe=X.headers.get("content-type"))&&Ze.setContentType(oe),X.body){const[Ne,Be]=dp(He,So(hp(xe)));De=pp(X.body,yp,Ne,Be)}}W.isString($e)||($e=$e?"include":"omit");const Y=v&&"credentials"in m.prototype,ue={...rt,signal:le,method:P.toUpperCase(),headers:Ze.normalize().toJSON(),body:De,duplex:"half",credentials:Y?$e:void 0};we=v&&new m(ie,ue);let be=await(v?Ke(we,rt):Ke(ie,ue));const Ae=k&&(je==="stream"||je==="response");if(k&&(Se||Ae&&ce)){const X={};["status","statusText","headers"].forEach(Pe=>{X[Pe]=be[Pe]});const oe=W.toFiniteNumber(be.headers.get("content-length")),[Ne,Be]=Se&&dp(oe,So(hp(Se),!0))||[];be=new d(pp(be.body,yp,Ne,()=>{Be&&Be(),ce&&ce()}),X)}je=je||"text";let Me=await A[W.findKey(A,je)||"text"](be,Z);return!Ae&&ce&&ce(),await new Promise((X,oe)=>{Pp(X,oe,{data:Me,headers:Qn.from(be.headers),status:be.status,statusText:be.statusText,config:Z,request:we})})}catch(Y){throw ce&&ce(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,Z,we,Y&&Y.response),{cause:Y.cause||Y}):Ie.from(Y,Y&&Y.code,Z,we,Y&&Y.response)}}},xb=new Map,ey=r=>{let c=r&&r.env||{};const{fetch:m,Request:d,Response:g}=c,v=[d,g,m];let S=v.length,N=S,q,E,k=xb;for(;N--;)q=v[N],E=k.get(q),E===void 0&&k.set(q,E=N?new Map:bb(c)),k=E;return E};ey();const $f={http:Bg,xhr:db,fetch:{get:ey}};W.forEach($f,(r,c)=>{if(r){try{Object.defineProperty(r,"name",{value:c})}catch{}Object.defineProperty(r,"adapterName",{value:c})}});const vp=r=>`- ${r}`,vb=r=>W.isFunction(r)||r===null||r===!1;function Sb(r,c){r=W.isArray(r)?r:[r];const{length:m}=r;let d,g;const v={};for(let S=0;S<m;S++){d=r[S];let N;if(g=d,!vb(d)&&(g=$f[(N=String(d)).toLowerCase()],g===void 0))throw new Ie(`Unknown adapter '${N}'`);if(g&&(W.isFunction(g)||(g=g.get(c))))break;v[N||"#"+S]=g}if(!g){const S=Object.entries(v).map(([q,E])=>`adapter ${q} `+(E===!1?"is not supported by the environment":"is not available in the build"));let N=m?S.length>1?`since :
`+S.map(vp).join(`
`):" "+vp(S[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const ty={getAdapter:Sb,adapters:$f};function Tf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Jr(null,r)}function Sp(r){return Tf(r),r.headers=Qn.from(r.headers),r.data=Df.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ty.getAdapter(r.adapter||$r.adapter,r)(r).then(function(d){return Tf(r),d.data=Df.call(r,r.transformResponse,d),d.headers=Qn.from(d.headers),d},function(d){return Jp(d)||(Tf(r),d&&d.response&&(d.response.data=Df.call(r,r.transformResponse,d.response),d.response.headers=Qn.from(d.response.headers))),Promise.reject(d)})}const ny="1.13.5",Do={};["object","boolean","number","function","string","symbol"].forEach((r,c)=>{Do[r]=function(d){return typeof d===r||"a"+(c<1?"n ":" ")+r}});const jp={};Do.transitional=function(c,m,d){function g(v,S){return"[Axios v"+ny+"] Transitional option '"+v+"'"+S+(d?". "+d:"")}return(v,S,N)=>{if(c===!1)throw new Ie(g(S," has been removed"+(m?" in "+m:"")),Ie.ERR_DEPRECATED);return m&&!jp[S]&&(jp[S]=!0,console.warn(g(S," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(v,S,N):!0}};Do.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function jb(r,c,m){if(typeof r!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const d=Object.keys(r);let g=d.length;for(;g-- >0;){const v=d[g],S=c[v];if(S){const N=r[v],q=N===void 0||S(N,v,r);if(q!==!0)throw new Ie("option "+v+" must be "+q,Ie.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Ie("Unknown option "+v,Ie.ERR_BAD_OPTION)}}const go={assertOptions:jb,validators:Do},ha=go.validators;let Bs=class{constructor(c){this.defaults=c||{},this.interceptors={request:new cp,response:new cp}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Us(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:v}=m;d!==void 0&&go.assertOptions(d,{silentJSONParsing:ha.transitional(ha.boolean),forcedJSONParsing:ha.transitional(ha.boolean),clarifyTimeoutError:ha.transitional(ha.boolean),legacyInterceptorReqResOrdering:ha.transitional(ha.boolean)},!1),g!=null&&(W.isFunction(g)?m.paramsSerializer={serialize:g}:go.assertOptions(g,{encode:ha.function,serialize:ha.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),go.assertOptions(m,{baseUrl:ha.spelling("baseURL"),withXsrfToken:ha.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=v&&W.merge(v.common,v[m.method]);v&&W.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete v[Z]}),m.headers=Qn.concat(S,v);const N=[];let q=!0;this.interceptors.request.forEach(function(ie){if(typeof ie.runWhen=="function"&&ie.runWhen(m)===!1)return;q=q&&ie.synchronous;const P=m.transitional||Ff;P&&P.legacyInterceptorReqResOrdering?N.unshift(ie.fulfilled,ie.rejected):N.push(ie.fulfilled,ie.rejected)});const E=[];this.interceptors.response.forEach(function(ie){E.push(ie.fulfilled,ie.rejected)});let k,A=0,V;if(!q){const Z=[Sp.bind(this),void 0];for(Z.unshift(...N),Z.push(...E),V=Z.length,k=Promise.resolve(m);A<V;)k=k.then(Z[A++],Z[A++]);return k}V=N.length;let ge=m;for(;A<V;){const Z=N[A++],ie=N[A++];try{ge=Z(ge)}catch(P){ie.call(this,P);break}}try{k=Sp.call(this,ge)}catch(Z){return Promise.reject(Z)}for(A=0,V=E.length;A<V;)k=k.then(E[A++],E[A++]);return k}getUri(c){c=Us(this.defaults,c);const m=Wp(c.baseURL,c.url,c.allowAbsoluteUrls);return Zp(m,c.params,c.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(c){Bs.prototype[c]=function(m,d){return this.request(Us(d||{},{method:c,url:m,data:(d||{}).data}))}});W.forEach(["post","put","patch"],function(c){function m(d){return function(v,S,N){return this.request(Us(N||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:S}))}}Bs.prototype[c]=m(),Bs.prototype[c+"Form"]=m(!0)});let wb=class ay{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(v){m=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const S=new Promise(N=>{d.subscribe(N),v=N}).then(g);return S.cancel=function(){d.unsubscribe(v)},S},c(function(v,S,N){d.reason||(d.reason=new Jr(v,S,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new ay(function(g){c=g}),cancel:c}}};function Nb(r){return function(m){return r.apply(null,m)}}function _b(r){return W.isObject(r)&&r.isAxiosError===!0}const Uf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Uf).forEach(([r,c])=>{Uf[c]=r});function ly(r){const c=new Bs(r),m=qp(Bs.prototype.request,c);return W.extend(m,Bs.prototype,c,{allOwnKeys:!0}),W.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return ly(Us(r,g))},m}const ln=ly($r);ln.Axios=Bs;ln.CanceledError=Jr;ln.CancelToken=wb;ln.isCancel=Jp;ln.VERSION=ny;ln.toFormData=Oo;ln.AxiosError=Ie;ln.Cancel=ln.CanceledError;ln.all=function(c){return Promise.all(c)};ln.spread=Nb;ln.isAxiosError=_b;ln.mergeConfig=Us;ln.AxiosHeaders=Qn;ln.formToJSON=r=>$p(W.isHTMLForm(r)?new FormData(r):r);ln.getAdapter=ty.getAdapter;ln.HttpStatusCode=Uf;ln.default=ln;const{Axios:nv,AxiosError:av,CanceledError:lv,isCancel:sv,CancelToken:iv,VERSION:rv,all:uv,Cancel:ov,isAxiosError:cv,spread:fv,toFormData:dv,AxiosHeaders:hv,HttpStatusCode:mv,formToJSON:pv,getAdapter:yv,mergeConfig:gv}=ln,xt=ln.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});xt.interceptors.request.use(r=>{const c=xl.getState().token;return c&&(r.headers.Authorization=`Token ${c}`),r.data instanceof FormData&&delete r.headers["Content-Type"],r});xt.interceptors.response.use(r=>r,r=>(r.response?.status===401&&xl.getState().logout(),Promise.reject(r)));const Bi={login:(r,c)=>xt.post("/auth/login/",{email:r,password:c}),register:r=>xt.post("/auth/register/",r),logout:()=>xt.post("/auth/logout/"),me:()=>xt.get("/auth/me/"),deleteAccount:()=>xt.post("/auth/me/delete/")},Qr={list:()=>xt.get("/projects/"),get:r=>xt.get(`/projects/${r}/`),create:r=>xt.post("/projects/",r),update:(r,c)=>xt.patch(`/projects/${r}/`,c),delete:r=>xt.delete(`/projects/${r}/`)},pa={list:()=>xt.get("/lenses/"),get:r=>xt.get(`/lenses/${r}/`),create:r=>xt.post("/lenses/",r),update:(r,c)=>xt.patch(`/lenses/${r}/`,c),delete:r=>xt.delete(`/lenses/${r}/`),addColor:(r,c)=>xt.post(`/lenses/${r}/colors/`,c),updateColor:(r,c,m)=>xt.patch(`/lenses/${r}/colors/${c}/`,m),removeColor:(r,c)=>xt.delete(`/lenses/${r}/colors/${c}/`)},Eb={get:()=>xt.get("/library/")},an={list:r=>xt.get("/documents/",{params:r}),get:r=>xt.get(`/documents/${r}/`),create:r=>xt.post("/documents/",r),createWithFile:r=>xt.post("/documents/",r),getPdf:r=>xt.get(`/documents/${r}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(r,c)=>xt.post(`/documents/${r}/upload_pdf/`,c),update:(r,c)=>xt.patch(`/documents/${r}/`,c),delete:r=>xt.delete(`/documents/${r}/`),highlights:r=>xt.get(`/documents/${r}/highlights/`),createHighlight:(r,c)=>xt.post(`/documents/${r}/highlights/`,c),updateHighlight:(r,c,m)=>xt.patch(`/documents/${r}/highlights/${c}/`,m),deleteHighlight:(r,c)=>xt.delete(`/documents/${r}/highlights/${c}/`)},Cb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Ve={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},In={default:"border-slate-200"},qs="min-h-screen p-6",sy="bg-white border-b border-slate-200",Yr="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",ki="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",wp="w-px h-6 bg-slate-200",Na=Cb;function Ab(){const r=ls(),c=xl(A=>A.setToken),[m,d]=U.useState(""),[g,v]=U.useState(""),[S,N]=U.useState(""),[q,E]=U.useState(!1),k=async A=>{A.preventDefault(),N(""),E(!0);try{const{data:V}=await Bi.login(m,g);c(V.token),r("/",{replace:!0})}catch(V){N(V.response?.data?.detail||V.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return o.jsx("div",{className:`${qs} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ve.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>v(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:q,className:Yr,children:q?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ve.muted}`,children:["No account? ",o.jsx(Bp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function Ob(){const r=ls(),c=xl(A=>A.setToken),[m,d]=U.useState(""),[g,v]=U.useState(""),[S,N]=U.useState(""),[q,E]=U.useState(!1),k=async A=>{A.preventDefault(),N(""),E(!0);try{await Bi.register({email:m,password:g});const{data:V}=await Bi.login(m,g);c(V.token),r("/",{replace:!0})}catch(V){const ge=V.response?.data;N(ge?.email?.[0]||ge?.password?.[0]||"Registration failed")}finally{E(!1)}};return o.jsx("div",{className:`${qs} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ve.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>v(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:q,className:Yr,children:q?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ve.muted}`,children:["Already have an account? ",o.jsx(Bp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const iy=(...r)=>r.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const Db=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Tb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const Np=r=>{const c=Tb(r);return c.charAt(0).toUpperCase()+c.slice(1)};var Mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zb=r=>{for(const c in r)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const kb=U.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:v,iconNode:S,...N},q)=>U.createElement("svg",{ref:q,...Mb,width:c,height:c,stroke:r,strokeWidth:d?Number(m)*24/Number(c):m,className:iy("lucide",g),...!v&&!zb(N)&&{"aria-hidden":"true"},...N},[...S.map(([E,k])=>U.createElement(E,k)),...Array.isArray(v)?v:[v]]));const Vt=(r,c)=>{const m=U.forwardRef(({className:d,...g},v)=>U.createElement(kb,{ref:v,iconNode:c,className:iy(`lucide-${Db(Np(r))}`,`lucide-${r}`,d),...g}));return m.displayName=Np(r),m};const Rb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pr=Vt("arrow-left",Rb);const Bb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],qb=Vt("braces",Bb);const Ub=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hb=Vt("chart-column",Ub);const Lb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jo=Vt("check",Lb);const Kb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bo=Vt("chevron-down",Kb);const Qb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=Vt("chevron-right",Qb);const Yb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jf=Vt("copy",Yb);const Xb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Gb=Vt("file-down",Xb);const Vb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Fb=Vt("file-stack",Vb);const Zb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Vt("file-text",Zb);const $b=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Hf=Vt("folder-open",$b);const Jb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ya=Vt("loader-circle",Jb);const Pb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pf=Vt("log-out",Pb);const Wb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ry=Vt("palette",Wb);const Ib=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],ex=Vt("panel-right-close",Ib);const tx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],nx=Vt("panel-right-open",tx);const ax=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],To=Vt("pencil",ax);const lx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_p=Vt("plus",lx);const sx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gr=Vt("search",sx);const ix=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rx=Vt("settings-2",ix);const ux=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hs=Vt("trash-2",ux);const ox=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wo=Vt("upload",ox);const cx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=Vt("x",cx);const fx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],dx=Vt("zoom-in",fx);const hx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],mx=Vt("zoom-out",hx),Ep=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Mi=5,Cp=3;function uy(){const r=Ui(),[c,m]=U.useState(0),[d,g]=U.useState(""),[v,S]=U.useState([]),[N,q]=U.useState(null),[E,k]=U.useState(""),[A,V]=U.useState(null),[ge,Z]=U.useState(null),[ie,P]=U.useState(null),[De,de]=U.useState(""),[Ce,ae]=U.useState(null),[Se,xe]=U.useState(""),{data:je=[]}=Ln({queryKey:["lenses"],queryFn:async()=>{const{data:X}=await pa.list();return X}}),Ze=je.filter(X=>!X.is_system),$e=()=>{m(0),g(""),S([]),q(null),k("")},rt=An({mutationFn:X=>pa.create(X),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),$e()}}),Ke=An({mutationFn:X=>pa.delete(X),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),le=An({mutationFn:({lensId:X,data:oe})=>pa.addColor(X,oe),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Z(null),P(null),de("")}}),we=An({mutationFn:({lensId:X,colorId:oe})=>pa.removeColor(X,oe),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),ce=An({mutationFn:({lensId:X,colorId:oe,displayName:Ne})=>pa.updateColor(X,oe,{display_name:Ne}),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),ae(null),xe("")}}),He=()=>{!ge||!ie||!De.trim()||le.mutate({lensId:ge,data:{key:`custom_${Date.now()}`,display_name:De.trim(),hex:ie}})},Y=new Set(v.map(X=>X.hex.toLowerCase())),ue=Ep.filter(X=>!Y.has(X.toLowerCase())),be=()=>{!N||!E.trim()||(S(X=>[...X,{key:`color_${Date.now()}_${X.length}`,display_name:E.trim(),hex:N}]),q(null),k(""))},Ae=X=>{S(oe=>oe.filter((Ne,Be)=>Be!==X))},Me=()=>{!d.trim()||v.length<1||rt.mutate({name:d.trim(),colors:v})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(ry,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Mi," colour categories. You can create up to ",Cp," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:je.map(X=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:X.name}),X.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!X.is_system&&o.jsx("button",{type:"button",onClick:()=>V(X),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(Hs,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(X.colors??[]).map(oe=>{const Ne=Ce?.lensId===X.id&&Ce?.colorId===oe.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:oe.hex}}),Ne?o.jsx("input",{type:"text",value:Se,onChange:Be=>xe(Be.target.value),onBlur:()=>{const Be=Se.trim();Be&&Be!==oe.display_name?ce.mutate({lensId:X.id,colorId:oe.id,displayName:Be}):(ae(null),xe(""))},onKeyDown:Be=>{if(Be.key==="Enter"){const Pe=Se.trim();Pe&&ce.mutate({lensId:X.id,colorId:oe.id,displayName:Pe})}Be.key==="Escape"&&(ae(null),xe(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{X.is_system||(ae({lensId:X.id,colorId:oe.id}),xe(oe.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${X.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:oe.display_name}),!X.is_system&&(X.colors?.length??0)>1&&!Ne&&o.jsx("button",{type:"button",onClick:Be=>{Be.stopPropagation(),we.mutate({lensId:X.id,colorId:oe.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(as,{className:"w-3 h-3",strokeWidth:2.5})})]},oe.id)}),!X.is_system&&(X.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!X.is_system&&(X.colors?.length??0)<Mi&&o.jsx("button",{type:"button",onClick:()=>{Z(X.id),P(null),de("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(_p,{className:"w-3 h-3",strokeWidth:2.5})})]})]},X.id))}),Ze.length<Cp&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(_p,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!rt.isPending&&$e(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:X=>g(X.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",v.length,"/",Mi,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Mi," colours and give each a label."]}),v.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:v.map((X,oe)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:X.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:X.display_name}),o.jsx("button",{type:"button",onClick:()=>Ae(oe),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]},oe))}),v.length<Mi&&o.jsx(o.Fragment,{children:N?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),o.jsx("input",{type:"text",value:E,onChange:X=>k(X.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&be()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:be,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",v.length+1," of ",Mi]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(X=>o.jsx("button",{type:"button",onClick:()=>{q(X),k("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:X}},X))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),q(null),k("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:Me,disabled:v.length<1||rt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:rt.isPending?"Creating":"Create lens"})]})]})]})}),ge&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!le.isPending&&Z(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ie?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ie}}),o.jsx("input",{type:"text",value:De,onChange:X=>de(X.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&He()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const X=je.find(Ne=>Ne.id===ge),oe=new Set((X?.colors??[]).map(Ne=>Ne.hex.toLowerCase()));return Ep.filter(Ne=>!oe.has(Ne.toLowerCase()))})().map(X=>o.jsx("button",{type:"button",onClick:()=>P(X),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:X}},X))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{ie?(P(null),de("")):Z(null)},disabled:le.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ie?"Back":"Cancel"}),ie&&o.jsx("button",{type:"button",onClick:He,disabled:!De.trim()||le.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:le.isPending?"Adding":"Add"})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ke.isPending&&V(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:X=>X.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:A.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>V(null),disabled:Ke.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{Ke.mutate(A.id,{onSuccess:()=>V(null)})},disabled:Ke.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Ke.isPending?"Deleting":"Delete lens"})]})]})})]})}const gl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function px(r){if(!r)return"";const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:v<24?`${v} hour${v===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function yx({project:r,onOpen:c}){const[m,d]=U.useState(!1),g=r.document_count??0,v=r.annotation_count??0,S=r.color&&gl.includes(r.color)?r.color:gl[r.id%gl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(r.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&c(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:px(r.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:v>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[v," note",v!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function gx({onClose:r,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,v]=U.useState(""),[S,N]=U.useState(gl[d%gl.length]),q=()=>{const E=g.trim();E&&(c(E,S),v(""),N(gl[d%gl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:E=>v(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:gl.map(E=>o.jsx("button",{type:"button",onClick:()=>N(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:S===E?"#1e293b":"transparent",outline:S===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function bx(){const r=ls(),c=Ui(),m=xl(ae=>ae.logout),[d,g]=U.useState(!1),[v,S]=U.useState(!1),[N,q]=U.useState(""),{data:E}=Ln({queryKey:["me"],queryFn:async()=>{const{data:ae}=await Bi.me();return ae}}),{data:k,isLoading:A}=Ln({queryKey:["projects"],queryFn:async()=>{const{data:ae}=await Qr.list();return ae}}),V=Array.isArray(k)?k:k?.results??[],ge=V.filter(ae=>ae.name.toLowerCase().includes(N.toLowerCase())),Z=V.reduce((ae,Se)=>ae+(Se.document_count??0),0),ie=V.reduce((ae,Se)=>ae+(Se.annotation_count??0),0),P=An({mutationFn:({name:ae,color:Se})=>Qr.create({name:ae.trim(),color:Se}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),g(!1)}}),De=(ae,Se)=>{P.mutate({name:ae,color:Se})},de=()=>{m(),r("/login",{replace:!0})},Ce=(E?.email?.[0]||E?.username?.[0]||"?").toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:de,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>r("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:Ce})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>r("/app/library"),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Gr,{className:"w-4 h-4"}),"Library"]}),o.jsxs("button",{type:"button",onClick:()=>S(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ry,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[V.length," project",V.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[Z," document",Z!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[ie," annotation",ie!==1?"s":""]})]}),V.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:ae=>q(ae.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),A?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:ge.map(ae=>o.jsx(yx,{project:ae,onOpen:Se=>r(`/project/${Se}`)},ae.id))}),!A&&ge.length===0&&N&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!A&&V.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&o.jsx(gx,{onClose:()=>g(!1),onCreate:De,isPending:P.isPending,defaultColorIndex:V.length%gl.length}),v&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>S(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:ae=>ae.stopPropagation(),children:o.jsx(uy,{})})})]})}var xo={exports:{}},xx=xo.exports,Ap;function vx(){return Ap||(Ap=1,(function(r,c){((m,d)=>{r.exports=d()})(xx,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:T0,S=Object.keys,N=Array.isArray;function q(l,u){return typeof u=="object"&&S(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var E=Object.getPrototypeOf,k={}.hasOwnProperty;function A(l,u){return k.call(l,u)}function V(l,u){typeof u=="function"&&(u=u(E(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(u).forEach(function(f){Z(l,f,u[f])})}var ge=Object.defineProperty;function Z(l,u,f,h){ge(l,u,q(f&&A(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function ie(l){return{from:function(u){return l.prototype=Object.create(u.prototype),Z(l.prototype,"constructor",l),{extend:V.bind(null,l.prototype)}}}}var P=Object.getOwnPropertyDescriptor,De=[].slice;function de(l,u,f){return De.call(l,u,f)}function Ce(l,u){return u(l)}function ae(l){if(!l)throw new Error("Assertion Failed")}function Se(l){v.setImmediate?setImmediate(l):setTimeout(l,0)}function xe(l,u){if(typeof u=="string"&&A(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=xe(l,u[h]);f.push(b)}return f}var j,w=u.indexOf(".");return w===-1||(j=l[u.substr(0,w)])==null?void 0:xe(j,u.substr(w+1))}function je(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){ae(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)je(l,u[h],f[h])}else{var b,j,w=u.indexOf(".");w!==-1?(b=u.substr(0,w),(w=u.substr(w+1))===""?f===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:je(j=(j=l[b])&&A(l,b)?j:l[b]={},w,f)):f===void 0?N(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ze(l){var u,f={};for(u in l)A(l,u)&&(f[u]=l[u]);return f}var $e=[].concat;function rt(l){return $e.apply([],l)}var oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return v[l]}),Ke=new Set(oe.map(function(l){return v[l]})),le=null;function we(l){return le=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=le.get(f);if(h)return h;if(N(f)){h=[],le.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(Ke.has(f.constructor))h=f;else{var j,w=E(f);for(j in h=w===Object.prototype?{}:Object.create(w),le.set(f,h),f)A(f,j)&&(h[j]=u(f[j]))}return h})(l),le=null,l}var ce={}.toString;function He(l){return ce.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof Y=="symbol"?function(l){var u;return l!=null&&(u=l[Y])&&u.apply(l)}:function(){return null};function be(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var Ae={};function Me(l){var u,f,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===Ae&&typeof l=="string")return[l];if(y=ue(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var X=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},oe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(oe),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Be(l,u){this.name=l,this.message=u}function Pe(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function lt(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Pe(l,u)}function vt(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Pe(l,this.failures)}ie(Be).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ie(lt).from(Be),ie(vt).from(Be);var Ft=Et.reduce(function(l,u){return l[u]=u+"Error",l},{}),dn=Be,ve=Et.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Ne[u]||f,this.inner=null)}return ie(h).from(dn),l[u]=h,l},{}),dt=(ve.Syntax=SyntaxError,ve.Type=TypeError,ve.Range=RangeError,oe.reduce(function(l,u){return l[u+"Error"]=ve[u],l},{}));oe=Et.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=ve[u]),l},{});function Fe(){}function ht(l){return l}function Zt(l,u){return l==null||l===ht?u:function(f){return u(l(f))}}function Ot(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Yn(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Ot(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Ot(y,this.onerror):y),b!==void 0?b:f}}function ea(l,u){return l===Fe?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ot(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Ot(h,this.onerror):h)}}function pe(l,u){return l===Fe?u:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,j=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Ot(y,this.onsuccess):y),b&&(this.onerror=this.onerror?Ot(b,this.onerror):b),h===void 0?j===void 0?void 0:j:q(h,j)}}function nt(l,u){return l===Fe?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ee(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}oe.ModifyError=lt,oe.DexieError=Be,oe.BulkError=vt;var Re=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ye(l){Re=l}var Je={},st=100,bt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[bt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(bt),Et]:[Et,E(Et),Et]),Et=bt[0],el=bt[1],el=el&&el.then,mn=Et&&Et.constructor,sn=!!bt[2],Dn=function(l,u){ga.push([l,u]),Ye&&(queueMicrotask(Wr),Ye=!1)},ke=!0,Ye=!0,wt=[],qt=[],Ct=ht,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},Oe=Ut,ga=[],Qa=0,Ls=[];function Te(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Oe;if(typeof l!="function"){if(l!==Je)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ba(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var j=h._lib&&Ea();b&&typeof b.then=="function"?f(h,function(w,O){b instanceof Te?b._then(w,O):b.then(w,O)}):(h._state=!0,h._value=b,is(h)),j&&ta()}},ba.bind(null,h))}catch(b){ba(h,b)}})(this,l)}var vl={get:function(){var l=Oe,u=os;function f(h,y){var b=this,j=!l.global&&(l!==Oe||u!==os),w=j&&!Tn(),O=new Te(function(L,D){Ya(b,new ss(Ks(h,l,j,w),Ks(y,l,j,w),L,D,l))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return f.prototype=Je,f},set:function(l){Z(this,"then",l&&l.prototype===Je?vl:{get:function(){return l},set:vl.set})}};function ss(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ba(l,u){var f,h;qt.push(u),l._state===null&&(f=l._lib&&Ea(),u=Ct(u),l._state=!1,l._value=u,h=l,wt.some(function(y){return y._value===h._value})||wt.push(h),is(l),f)&&ta()}function is(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Ya(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Qa===0&&(++Qa,Dn(function(){--Qa==0&&Li()},[]))}function Ya(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Qa,Dn(Mo,[f,l,u])}}function Mo(l,u,f){try{var h,y=u._value;!u._state&&qt.length&&(qt=[]),h=Re&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||qt.indexOf(y)!==-1||(b=>{for(var j=wt.length;j;)if(wt[--j]._value===b._value)return wt.splice(j,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Qa==0&&Li(),--f.psd.ref||f.psd.finalize()}}function Wr(){Xn(Ut,function(){Ea()&&ta()})}function Ea(){var l=ke;return Ye=ke=!1,l}function ta(){var l,u,f;do for(;0<ga.length;)for(l=ga,ga=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<ga.length);Ye=ke=!0}function Li(){for(var l=wt,u=(wt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Ls.slice(0)),f=u.length;f;)u[--f]()}function rs(l){return new Te(Je,!1,l)}function Ht(l,u){var f=Oe;return function(){var h=Ea(),y=Oe;try{return Aa(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Aa(y,!1),h&&ta()}}}V(Te.prototype,{then:vl,_then:function(l,u){Ya(this,new ss(null,null,l,u,Oe))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:rs)(h)}):this.then(null,function(h){return(h&&h.name===u?f:rs)(h)}))},finally:function(l){return this.then(function(u){return Te.resolve(l()).then(function(){return u})},function(u){return Te.resolve(l()).then(function(){return rs(u)})})},timeout:function(l,u){var f=this;return l<1/0?new Te(function(h,y){var b=setTimeout(function(){return y(new ve.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Z(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=Qi(),V(Te,{all:function(){var l=Me.apply(null,arguments).map(jl);return new Te(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return Te.resolve(y).then(function(j){l[b]=j,--h||u(l)},f)})})},resolve:function(l){return l instanceof Te?l:l&&typeof l.then=="function"?new Te(function(u,f){l.then(u,f)}):new Te(Je,!0,l)},reject:rs,race:function(){var l=Me.apply(null,arguments).map(jl);return new Te(function(u,f){l.map(function(h){return Te.resolve(h).then(u,f)})})},PSD:{get:function(){return Oe},set:function(l){return Oe=l}},totalEchoes:{get:function(){return os}},newPSD:Kt,usePSD:Xn,scheduler:{get:function(){return Dn},set:function(l){Dn=l}},rejectionMapper:{get:function(){return Ct},set:function(l){Ct=l}},follow:function(l,u){return new Te(function(f,h){return Kt(function(y,b){var j=Oe;j.unhandleds=[],j.onunhandled=b,j.finalize=Ot(function(){var w,O=this;w=function(){O.unhandleds.length===0?y():b(O.unhandleds[0])},Ls.push(function L(){w(),Ls.splice(Ls.indexOf(L),1)}),++Qa,Dn(function(){--Qa==0&&Li()},[])},j.finalize),l()},u,f,h)})}}),mn&&(mn.allSettled&&Z(Te,"allSettled",function(){var l=Me.apply(null,arguments).map(jl);return new Te(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return Te.resolve(y).then(function(j){return h[b]={status:"fulfilled",value:j}},function(j){return h[b]={status:"rejected",reason:j}}).then(function(){return--f||u(h)})})})}),mn.any&&typeof AggregateError<"u"&&Z(Te,"any",function(){var l=Me.apply(null,arguments).map(jl);return new Te(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,j){return Te.resolve(b).then(function(w){return u(w)},function(w){y[j]=w,--h||f(new AggregateError(y))})})})}),mn.withResolvers)&&(Te.withResolvers=mn.withResolvers);var Wt={awaits:0,echoes:0,id:0},Ki=0,Sl=[],us=0,os=0,Ca=0;function Kt(l,j,f,h){var y=Oe,b=Object.create(y),j=(b.parent=y,b.ref=0,b.global=!1,b.id=++Ca,Ut.env,b.env=sn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},j&&q(b,j),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Xn(b,l,f,h));return b.ref===0&&b.finalize(),j}function It(){return Wt.id||(Wt.id=++Ki),++Wt.awaits,Wt.echoes+=st,Wt.id}function Tn(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*st,!0)}function jl(l){return Wt.echoes&&l&&l.constructor===mn?(It(),l.then(function(u){return Tn(),u},function(u){return Tn(),Mt(u)})):l}function zo(){var l=Sl[Sl.length-1];Sl.pop(),Aa(l,!1)}function Aa(l,u){var f,h,y=Oe;(u?!Wt.echoes||us++&&l===Oe:!us||--us&&l===Oe)||queueMicrotask(u?(function(b){++os,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Sl.push(Oe),Aa(b,!0)}).bind(null,l):zo),l!==Oe&&(Oe=l,y===Ut&&(Ut.env=Qi()),sn)&&(f=Ut.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(v,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Qi(){var l=v.Promise;return sn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Xn(l,u,f,h,y){var b=Oe;try{return Aa(l,!0),u(f,h,y)}finally{Aa(b,!1)}}function Ks(l,u,f,h){return typeof l!="function"?l:function(){var y=Oe;f&&It(),Aa(u,!0);try{return l.apply(this,arguments)}finally{Aa(y,!1),h&&queueMicrotask(Tn)}}}function Oa(l){Promise===mn&&Wt.echoes===0?us===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+el).indexOf("[native code]")===-1&&(It=Tn=Fe);var Mt=Te.reject,Gn="",Nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Xa=[],cs="__dbnames",xa="readonly",Da="readwrite";function Ga(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Yi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function fs(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=we(u))[l],u}}function Ir(){throw ve.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ut(l,u){try{var f=ds(l),h=ds(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=na(l),b=na(u),j=y.length,w=b.length,O=j<w?j:w,L=0;L<O;++L)if(y[L]!==b[L])return y[L]<b[L]?-1:1;return j===w?0:j<w?-1:1;case"Array":for(var D=l,C=u,z=D.length,B=C.length,T=z<B?z:B,M=0;M<T;++M){var Q=ut(D[M],C[M]);if(Q!==0)return Q}return z===B?0:z<B?-1:1}}catch{}return NaN}function ds(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=He(l))==="ArrayBuffer")?"binary":u}function na(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function xn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}eu.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(N(f))return g(g([],N(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var wl=eu;function eu(l){this["@@propmod"]=l}function Qs(l,u){for(var f=S(u),h=f.length,y=!1,b=0;b<h;++b){var j=f[b],w=u[j],O=xe(l,j);w instanceof wl?(je(l,j,w.execute(O)),y=!0):O!==w&&(je(l,j,w),y=!0)}return y}Nt.prototype._trans=function(l,u,f){var h=this._tx||Oe.trans,y=this.name,b=Re&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(L,D,C){if(C.schema[y])return u(C.idbtrans,C);throw new ve.NotFound("Table "+y+" not part of transaction")}var w=Ea();try{var O=h&&h.db._novip===this.db._novip?h===Oe.trans?h._promise(l,j,f):Kt(function(){return h._promise(l,j,f)},{trans:h,transless:Oe.transless||Oe}):(function L(D,C,z,B){if(D.idbdb&&(D._state.openComplete||Oe.letThrough||D._vip)){var T=D._createTransaction(C,z,D._dbSchema);try{T.create(),D._state.PR1398_maxLoop=3}catch(M){return M.name===Ft.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return L(D,C,z,B)})):Mt(M)}return T._promise(C,function(M,Q){return Kt(function(){return Oe.trans=T,B(M,Q,T)})}).then(function(M){if(C==="readwrite")try{T.idbtrans.commit()}catch{}return C==="readonly"?M:T._completion.then(function(){return M})})}if(D._state.openComplete)return Mt(new ve.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return Mt(new ve.DatabaseClosed);D.open().catch(Fe)}return D._state.dbReadyPromise.then(function(){return L(D,C,z,B)})})(this.db,l,[this.name],j);return b&&(O._consoleTask=b,O=O.catch(function(L){return console.trace(L),Mt(L)})),O}finally{w&&ta()}},Nt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Mt(new ve.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=S(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&u.every(function(L){return 0<=w.keyPath.indexOf(L)})){for(var O=0;O<u.length;++O)if(u.indexOf(w.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(w,O){return w.keyPath.length-O.keyPath.length})[0];if(f&&this.db._maxKey!==Gn)return j=f.keyPath.slice(0,u.length),this.where(j).equals(j.map(function(w){return l[w]}));!f&&Re&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(w,O){return ut(w,O)===0}var j=u.reduce(function(D,O){var L=D[0],D=D[1],C=h[O],z=l[O];return[L||C,L||!C?Ga(D,C&&C.multi?function(B){return B=xe(B,O),N(B)&&B.some(function(T){return y(z,T)})}:function(B){return y(z,xe(B,O))}):D]},[null,null]),b=j[0],j=j[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(j):f?this.filter(j):this.where(u).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Ir&&(l=(j=>{var w=D,O=j;if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function L(){this.constructor=w}function D(){return j!==null&&j.apply(this,arguments)||this}return m(w,O),w.prototype=O===null?Object.create(O):(L.prototype=O.prototype,new L),Object.defineProperty(D.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),D.prototype.table=function(){return f},D})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(j){return h.add(j)});function b(j){if(!j)return j;var w,O=Object.create(l.prototype);for(w in j)if(!h.has(w))try{O[w]=j[w]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},Nt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=fs(b)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"add",keys:u!=null?[u]:null,values:[j]})}).then(function(w){return w.numFailures?Te.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{je(l,b,w)}catch{}return w})},Nt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var j=b??{};return Qs(j,u),h&&je(j,h,l),f.core.mutate({trans:y,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(w){return w.numFailures?Te.reject(w.failures[0]):!!b})})})},Nt.prototype.update=function(l,u){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(u):(l=xe(l,this.schema.primKey.keyPath))===void 0?Mt(new ve.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},Nt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=fs(b)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"put",values:[j],keys:u!=null?[u]:null})}).then(function(w){return w.numFailures?Te.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{je(l,b,w)}catch{}return w})},Nt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return xn(u,[l],h)}).then(function(h){return h.numFailures?Te.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Yi}).then(function(f){return xn(l,null,f)})}).then(function(u){return u.numFailures?Te.reject(u.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var w=h.schema.primKey,L=w.auto,w=w.keyPath;if(w&&y)throw new ve.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,L=w&&L?l.map(fs(w)):l;return h.core.mutate({trans:j,type:"add",keys:y,values:L,wantResults:b}).then(function(D){var C=D.numFailures,z=D.failures;if(C===0)return b?D.results:D.lastResult;throw new vt("".concat(h.name,".bulkAdd(): ").concat(C," of ").concat(O," operations failed"),z)})})},Nt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var w=h.schema.primKey,L=w.auto,w=w.keyPath;if(w&&y)throw new ve.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ve.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,L=w&&L?l.map(fs(w)):l;return h.core.mutate({trans:j,type:"put",keys:y,values:L,wantResults:b}).then(function(D){var C=D.numFailures,z=D.failures;if(C===0)return b?D.results:D.lastResult;throw new vt("".concat(h.name,".bulkPut(): ").concat(C," of ").concat(O," operations failed"),z)})})},Nt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(j){return j.key}),y=l.map(function(j){return j.changes}),b=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:h,cache:"clone"}).then(function(w){var O=[],L=[],D=(l.forEach(function(C,z){var B=C.key,T=C.changes,M=w[z];if(M){for(var Q=0,$=Object.keys(T);Q<$.length;Q++){var K=$[Q],te=T[K];if(K===u.schema.primKey.keyPath){if(ut(te,B)!==0)throw new ve.Constraint("Cannot update primary key in bulkUpdate()")}else je(M,K,te)}b.push(z),O.push(B),L.push(M)}}),O.length);return f.mutate({trans:j,type:"put",keys:O,values:L,updates:{keys:h,changeSpecs:y}}).then(function(C){var z=C.numFailures,B=C.failures;if(z===0)return D;for(var T=0,M=Object.keys(B);T<M.length;T++){var Q,$=M[T],K=b[Number($)];K!=null&&(Q=B[$],delete B[$],B[K]=Q)}throw new vt("".concat(u.name,".bulkUpdate(): ").concat(z," of ").concat(D," operations failed"),B)})})})},Nt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return xn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new vt("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Xi=Nt;function Nt(){}function hs(l){function u(j,w){if(w){for(var O=arguments.length,L=new Array(O-1);--O;)L[O-1]=arguments[O];return f[j].subscribe.apply(null,L),l}if(typeof j=="string")return f[j]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(j,w,O){var L,D;if(typeof j!="object")return w=w||nt,D={subscribers:[],fire:O=O||Fe,subscribe:function(C){D.subscribers.indexOf(C)===-1&&(D.subscribers.push(C),D.fire=w(D.fire,C))},unsubscribe:function(C){D.subscribers=D.subscribers.filter(function(z){return z!==C}),D.fire=D.subscribers.reduce(w,O)}},f[j]=u[j]=D;S(L=j).forEach(function(C){var z=L[C];if(N(z))b(C,L[C][0],L[C][1]);else{if(z!=="asap")throw new ve.InvalidArgument("Invalid event config");var B=b(C,ht,function(){for(var T=arguments.length,M=new Array(T);T--;)M[T]=arguments[T];B.subscribers.forEach(function(Q){Se(function(){Q.apply(null,M)})})})}})}}function pn(l,u){return ie(u).from({prototype:l}),u}function Ta(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Ys(l,u){l.filter=Ga(l.filter,u)}function ms(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Ga(h(),u())}:u,l.justLimit=f&&!h}function va(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new ve.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Gi(l,u,f){var h=va(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function ps(l,u,f,h){var y,b,j=l.replayFilter?Ga(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(w,O,L){var D,C;j&&!j(O,L,function(z){return O.stop(z)},function(z){return O.fail(z)})||((C=""+(D=O.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(D)),A(y,C))||(y[C]=!0,u(w,O,L))},Promise.all([l.or._iterate(b,f),Va(Gi(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Va(Gi(l,h,f),Ga(l.algorithm,j),u,!l.keysOnly&&l.valueMapper)}function Va(l,u,f,h){var y=Ht(h?function(b,j,w){return f(h(b),j,w)}:f);return l.then(function(b){if(b)return b.start(function(){var j=function(){return b.continue()};u&&!u(b,function(w){return j=w},function(w){b.stop(w),j=Fe},function(w){b.fail(w),j=Fe})||y(b.value,b,function(w){return j=w}),j()})})}yt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Mt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},yt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Mt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},yt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Ga(u.algorithm,l)},yt.prototype._iterate=function(l,u){return ps(this._ctx,l,u,this._ctx.table.core)},yt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&q(f,l),u._ctx=f,u},yt.prototype.raw=function(){return this._ctx.valueMapper=null,this},yt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return ps(u,l,f,u.table.core)})},yt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Ta(y,!0)?b.count({trans:f,query:{index:va(y,b.schema),range:y.range}}).then(function(j){return Math.min(j,y.limit)}):(h=0,ps(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},yt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(O,L){return L?b(O[f[L]],L-1):O[h]}var j=this._ctx.dir==="next"?1:-1;function w(O,L){return ut(b(O,y),b(L,y))*j}return this.toArray(function(O){return O.sort(w)}).then(u)},yt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,j=u._ctx;return j.dir==="next"&&Ta(j,!0)&&0<j.limit?(h=j.valueMapper,y=va(j,j.table.core.schema),j.table.core.query({trans:f,limit:j.limit,values:!0,query:{index:y,range:j.range}}).then(function(w){return w=w.result,h?w.map(h):w})):(b=[],ps(j,function(w){return b.push(w)},f,j.table.core).then(function(){return b}))},l)},yt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Ta(u)?ms(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ms(u,function(){var f=l;return function(){return--f<0}})),this},yt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ms(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},yt.prototype.until=function(l,u){return Ys(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},yt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},yt.prototype.last=function(l){return this.reverse().first(l)},yt.prototype.filter=function(l){var u;return Ys(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Ga(u.isMatch,l),this},yt.prototype.and=function(l){return this.filter(l)},yt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},yt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},yt.prototype.desc=function(){return this.reverse()},yt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},yt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},yt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},yt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},yt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Ta(u,!0)&&0<u.limit)return this._read(function(h){var y=va(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},yt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},yt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},yt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},yt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Ys(this._ctx,function(h){var h=h.primaryKey.toString(),y=A(l,h);return l[h]=!0,!y})),this},yt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(M,Q){var $=Q.failures;z+=M-Q.numFailures;for(var K=0,te=S($);K<te.length;K++){var fe=te[K];C.push($[fe])}}var b=typeof l=="function"?l:function(M){return Qs(M,l)},j=f.table.core,D=j.schema.primaryKey,w=D.outbound,O=D.extractKey,L=200,D=u.db._options.modifyChunkSize,C=(D&&(L=typeof D=="object"?D[j.name]||D["*"]||200:D),[]),z=0,B=[],T=l===Vi;return u.clone().primaryKeys().then(function(M){function Q(K){var te=Math.min(L,M.length-K),fe=M.slice(K,K+te);return(T?Promise.resolve([]):j.getMany({trans:h,keys:fe,cache:"immutable"})).then(function(_e){var Ee=[],he=[],qe=w?[]:null,ze=T?fe:[];if(!T)for(var me=0;me<te;++me){var Ue=_e[me],et={value:we(Ue),primKey:M[K+me]};b.call(et,et.value,et)!==!1&&(et.value==null?ze.push(M[K+me]):w||ut(O(Ue),O(et.value))===0?(he.push(et.value),w&&qe.push(M[K+me])):(ze.push(M[K+me]),Ee.push(et.value)))}return Promise.resolve(0<Ee.length&&j.mutate({trans:h,type:"add",values:Ee}).then(function(ot){for(var Xe in ot.failures)ze.splice(parseInt(Xe),1);y(Ee.length,ot)})).then(function(){return(0<he.length||$&&typeof l=="object")&&j.mutate({trans:h,type:"put",keys:qe,values:he,criteria:$,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<K}).then(function(ot){return y(he.length,ot)})}).then(function(){return(0<ze.length||$&&T)&&j.mutate({trans:h,type:"delete",keys:ze,criteria:$,isAdditionalChunk:0<K}).then(function(ot){return xn(f.table,ze,ot)}).then(function(ot){return y(ze.length,ot)})}).then(function(){return M.length>K+te&&Q(K+L)})})}var $=Ta(f)&&f.limit===1/0&&(typeof l!="function"||T)&&{index:f.index,range:f.range};return Q(0).then(function(){if(0<C.length)throw new lt("Error modifying one or more objects",C,z,B);return M.length})})})},yt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Ta(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Vi):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(O){var w=O.failures,O=O.numFailures;if(O)throw new lt("Could not delete some values",Object.keys(w).map(function(L){return w[L]}),b-O);return b-O})})})};var ko=yt;function yt(){}var Vi=function(l,u){return u.value=null};function Fi(l,u){return l<u?-1:l===u?0:1}function Ro(l,u){return u<l?-1:l===u?0:1}function Mn(l,u,f){return l=l instanceof Fa?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function Sa(l){return new l.Collection(l,function(){return Xs("")}).limit(0)}function kn(B,u,f,h){var y,b,j,w,O,L,D,C=f.length;if(!f.every(function(M){return typeof M=="string"}))return Mn(B,en);function z(M){y=M==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},b=M==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},j=M==="next"?Fi:Ro;var Q=f.map(function($){return{lower:b($),upper:y($)}}).sort(function($,K){return j($.lower,K.lower)});w=Q.map(function($){return $.upper}),O=Q.map(function($){return $.lower}),D=(L=M)==="next"?"":h}z("next");var B=new B.Collection(B,function(){return aa(w[0],O[C-1]+h)}),T=(B._ondirectionchange=function(M){z(M)},0);return B._addAlgorithm(function(M,Q,$){var K=M.key;if(typeof K=="string"){var te=b(K);if(u(te,O,T))return!0;for(var fe=null,_e=T;_e<C;++_e){var Ee=((he,qe,ze,me,Ue,et)=>{for(var ot=Math.min(he.length,me.length),Xe=-1,tt=0;tt<ot;++tt){var zt=qe[tt];if(zt!==me[tt])return Ue(he[tt],ze[tt])<0?he.substr(0,tt)+ze[tt]+ze.substr(tt+1):Ue(he[tt],me[tt])<0?he.substr(0,tt)+me[tt]+ze.substr(tt+1):0<=Xe?he.substr(0,Xe)+qe[Xe]+ze.substr(Xe+1):null;Ue(he[tt],zt)<0&&(Xe=tt)}return ot<me.length&&et==="next"?he+ze.substr(he.length):ot<he.length&&et==="prev"?he.substr(0,ze.length):Xe<0?null:he.substr(0,Xe)+me[Xe]+ze.substr(Xe+1)})(K,te,w[_e],O[_e],j,L);Ee===null&&fe===null?T=_e+1:(fe===null||0<j(fe,Ee))&&(fe=Ee)}Q(fe!==null?function(){M.continue(fe+D)}:$)}return!1}),B}function aa(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Xs(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?Sa(this):new this.Collection(this,function(){return aa(l,u,!f,!h)})}catch{return Mn(this,Nn)}},Qt.prototype.equals=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return Xs(l)})},Qt.prototype.above=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(l,void 0,!0)})},Qt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(l,void 0,!1)})},Qt.prototype.below=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(void 0,l,!1,!0)})},Qt.prototype.belowOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(void 0,l)})},Qt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,en):this.between(l,l+Gn,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):kn(this,function(u,f){return u.indexOf(f[0])===0},[l],Gn)},Qt.prototype.equalsIgnoreCase=function(l){return kn(this,function(u,f){return u===f[0]},[l],"")},Qt.prototype.anyOfIgnoreCase=function(){var l=Me.apply(Ae,arguments);return l.length===0?Sa(this):kn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Me.apply(Ae,arguments);return l.length===0?Sa(this):kn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Gn)},Qt.prototype.anyOf=function(){var l,u,f=this,h=Me.apply(Ae,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,Nn)}return h.length===0?Sa(this):((l=new this.Collection(this,function(){return aa(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,j,w){for(var O=b.key;0<y(O,h[u]);)if(++u===h.length)return j(w),!1;return y(O,h[u])===0||(j(function(){b.continue(h[u])}),!1)}),l)},Qt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var l=Me.apply(Ae,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,Nn)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(l,$){var f=this,h=this._cmp,y=this._ascending,b=this._descending,j=this._min,w=this._max;if(l.length===0)return Sa(this);if(!l.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&y(K[0],K[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ve.InvalidArgument);var O=!$||$.includeLowers!==!1,L=$&&$.includeUppers===!0,D,C=y;function z(K,te){return C(K[0],te[0])}try{(D=l.reduce(function(K,te){for(var fe=0,_e=K.length;fe<_e;++fe){var Ee=K[fe];if(h(te[0],Ee[1])<0&&0<h(te[1],Ee[0])){Ee[0]=j(Ee[0],te[0]),Ee[1]=w(Ee[1],te[1]);break}}return fe===_e&&K.push(te),K},[])).sort(z)}catch{return Mn(this,Nn)}var B=0,T=L?function(K){return 0<y(K,D[B][1])}:function(K){return 0<=y(K,D[B][1])},M=O?function(K){return 0<b(K,D[B][0])}:function(K){return 0<=b(K,D[B][0])},Q=T,$=new this.Collection(this,function(){return aa(D[0][0],D[D.length-1][1],!O,!L)});return $._ondirectionchange=function(K){C=K==="next"?(Q=T,y):(Q=M,b),D.sort(z)},$._addAlgorithm(function(K,te,fe){for(var _e,Ee=K.key;Q(Ee);)if(++B===D.length)return te(fe),!1;return!T(_e=Ee)&&!M(_e)||(f._cmp(Ee,D[B][1])===0||f._cmp(Ee,D[B][0])===0||te(function(){C===y?K.continue(D[B][0]):K.continue(D[B][1])}),!1)}),$},Qt.prototype.startsWithAnyOf=function(){var l=Me.apply(Ae,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?Sa(this):this.inAnyRange(l.map(function(u){return[u,u+Gn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Fa=Qt;function Qt(){}function Vn(l){return Ht(function(u){return Za(u),l(u.target.error),!1})}function Za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Nl="storagemutated",$a="x-storagemutated-1",yn=hs(null,Nl),Zi=(_n.prototype._lock=function(){return ae(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},_n.prototype._unlock=function(){if(ae(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Xn(l[1],l[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},_n.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(ae(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new ve.DatabaseClosed(h);case"MissingAPIError":throw new ve.MissingAPI(h.message,h);default:throw new ve.OpenFailed(h)}if(!this.active)throw new ve.TransactionInactive;ae(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ht(function(y){Za(y),u._reject(l.error)}),l.onabort=Ht(function(y){Za(y),u.active&&u._reject(new ve.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Ht(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},_n.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Mt(new ve.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Te(function(b,j){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,j)},Oe])}):f?Kt(function(){var b=new Te(function(j,w){y._lock();var O=u(j,w,y);O&&O.then&&O.then(j,w)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Te(function(b,j){var w=u(b,j,y);w&&w.then&&w.then(b,j)}))._lib=!0,h):Mt(new ve.TransactionInactive)},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(l){var u,f=this._root(),h=Te.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new Te(function(b,j){h.then(function(w){return f._waitingQueue.push(Ht(b.bind(null,w)))},function(w){return f._waitingQueue.push(Ht(j.bind(null,w)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ve.Abort))},_n.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(A(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new ve.NotFound("Table "+l+" not part of transaction")},_n);function _n(){}function la(l,u,f,h,y,b,j,w){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!j?"&":"")+(h?"*":"")+(y?"++":"")+Gs(u),type:w}}function Gs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function _l(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,j){return b=h(b,j),b&&(y[b[0]]=b[1]),y},{}))};var h}var El=function(l){try{return l.only([[]]),El=function(){return[[]]},[[]]}catch{return El=function(){return Gn},Gn}};function Cl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return xe(f,u)}:function(f){return xe(f,l)};var u}function ys(l){return[].slice.call(l)}var tu=0;function rn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ja(l,u,O){function h(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=T.lower,z=T.upper,B=T.lowerOpen,T=T.upperOpen;return C===void 0?z===void 0?null:u.upperBound(z,!!T):z===void 0?u.lowerBound(C,!!B):u.bound(C,z,!!B,!!T)}function y(D){var C,z=D.name;return{name:z,schema:D,mutate:function(B){var T=B.trans,M=B.type,Q=B.keys,$=B.values,K=B.range;return new Promise(function(te,fe){te=Ht(te);var _e=T.objectStore(z),Ee=_e.keyPath==null,he=M==="put"||M==="add";if(!he&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var qe,ze=(Q||$||{length:1}).length;if(Q&&$&&Q.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(ze===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function me(At){++ot,Za(At)}var Ue=[],et=[],ot=0;if(M==="deleteRange"){if(K.type===4)return te({numFailures:ot,failures:et,results:[],lastResult:void 0});K.type===3?Ue.push(qe=_e.clear()):Ue.push(qe=_e.delete(h(K)))}else{var Ee=he?Ee?[$,Q]:[$,null]:[Q,null],Xe=Ee[0],tt=Ee[1];if(he)for(var zt=0;zt<ze;++zt)Ue.push(qe=tt&&tt[zt]!==void 0?_e[M](Xe[zt],tt[zt]):_e[M](Xe[zt])),qe.onerror=me;else for(zt=0;zt<ze;++zt)Ue.push(qe=_e[M](Xe[zt])),qe.onerror=me}function Cn(At){At=At.target.result,Ue.forEach(function(Ra,zl){return Ra.error!=null&&(et[zl]=Ra.error)}),te({numFailures:ot,failures:et,results:M==="delete"?Q:Ue.map(function(Ra){return Ra.result}),lastResult:At})}qe.onerror=function(At){me(At),Cn(At)},qe.onsuccess=Cn})},getMany:function(B){var T=B.trans,M=B.keys;return new Promise(function(Q,$){Q=Ht(Q);for(var K,te=T.objectStore(z),fe=M.length,_e=new Array(fe),Ee=0,he=0,qe=function(Ue){Ue=Ue.target,_e[Ue._pos]=Ue.result,++he===Ee&&Q(_e)},ze=Vn($),me=0;me<fe;++me)M[me]!=null&&((K=te.get(M[me]))._pos=me,K.onsuccess=qe,K.onerror=ze,++Ee);Ee===0&&Q(_e)})},get:function(B){var T=B.trans,M=B.key;return new Promise(function(Q,$){Q=Ht(Q);var K=T.objectStore(z).get(M);K.onsuccess=function(te){return Q(te.target.result)},K.onerror=Vn($)})},query:(C=w,function(B){return new Promise(function(T,M){T=Ht(T);var Q,$,K,he=B.trans,te=B.values,fe=B.limit,Ee=B.query,_e=fe===1/0?void 0:fe,qe=Ee.index,Ee=Ee.range,he=he.objectStore(z),he=qe.isPrimaryKey?he:he.index(qe.name),qe=h(Ee);if(fe===0)return T({result:[]});C?((Ee=te?he.getAll(qe,_e):he.getAllKeys(qe,_e)).onsuccess=function(ze){return T({result:ze.target.result})},Ee.onerror=Vn(M)):(Q=0,$=!te&&"openKeyCursor"in he?he.openKeyCursor(qe):he.openCursor(qe),K=[],$.onsuccess=function(ze){var me=$.result;return!me||(K.push(te?me.value:me.primaryKey),++Q===fe)?T({result:K}):void me.continue()},$.onerror=Vn(M))})}),openCursor:function(B){var T=B.trans,M=B.values,Q=B.query,$=B.reverse,K=B.unique;return new Promise(function(te,fe){te=Ht(te);var he=Q.index,_e=Q.range,Ee=T.objectStore(z),Ee=he.isPrimaryKey?Ee:Ee.index(he.name),he=$?K?"prevunique":"prev":K?"nextunique":"next",qe=!M&&"openKeyCursor"in Ee?Ee.openKeyCursor(h(_e),he):Ee.openCursor(h(_e),he);qe.onerror=Vn(fe),qe.onsuccess=Ht(function(ze){var me,Ue,et,ot,Xe=qe.result;Xe?(Xe.___id=++tu,Xe.done=!1,me=Xe.continue.bind(Xe),Ue=(Ue=Xe.continuePrimaryKey)&&Ue.bind(Xe),et=Xe.advance.bind(Xe),ot=function(){throw new Error("Cursor not stopped")},Xe.trans=T,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=Ht(fe),Xe.next=function(){var tt=this,zt=1;return this.start(function(){return zt--?tt.continue():tt.stop()}).then(function(){return tt})},Xe.start=function(tt){function zt(){if(qe.result)try{tt()}catch(At){Xe.fail(At)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var Cn=new Promise(function(At,Ra){At=Ht(At),qe.onerror=Vn(Ra),Xe.fail=Ra,Xe.stop=function(zl){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=ot,At(zl)}});return qe.onsuccess=Ht(function(At){qe.onsuccess=zt,zt()}),Xe.continue=me,Xe.continuePrimaryKey=Ue,Xe.advance=et,zt(),Cn},te(Xe)):te(null)},fe)})},count:function(B){var T=B.query,M=B.trans,Q=T.index,$=T.range;return new Promise(function(K,te){var fe=M.objectStore(z),fe=Q.isPrimaryKey?fe:fe.index(Q.name),_e=h($),_e=_e?fe.count(_e):fe.count();_e.onsuccess=Ht(function(Ee){return K(Ee.target.result)}),_e.onerror=Vn(te)})}}}b=O,j=ys((O=l).objectStoreNames);var b,O={schema:{name:O.name,tables:j.map(function(D){return b.objectStore(D)}).map(function(D){var C=D.keyPath,z=D.autoIncrement,T=N(C),B={},T={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:T,keyPath:C,autoIncrement:z,unique:!0,extractKey:Cl(C)},indexes:ys(D.indexNames).map(function(M){return D.index(M)}).map(function(K){var te=K.name,Q=K.unique,$=K.multiEntry,K=K.keyPath,te={name:te,compound:N(K),keyPath:K,unique:Q,multiEntry:$,extractKey:Cl(K)};return B[rn(K)]=te}),getIndexByKeyPath:function(M){return B[rn(M)]}};return B[":id"]=T.primaryKey,C!=null&&(B[rn(C)]=T.primaryKey),T})},hasGetAll:0<j.length&&"getAll"in b.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},j=O.schema,w=O.hasGetAll,O=j.tables.map(y),L={};return O.forEach(function(D){return L[D.name]=D}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(D){if(L[D])return L[D];throw new Error("Table '".concat(D,"' not found"))},MIN_KEY:-1/0,MAX_KEY:El(u),schema:j}}function Vs(l,u,f,h){return f=f.IDBKeyRange,u=Ja(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Ma(l,u){var f=u.db,f=Vs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Fs(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(j){var w=(function O(L,D){return P(L,D)||(L=E(L))&&O(L,D)})(j,y);(!w||"value"in w&&w.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?Z(j,y,{get:function(){return this.table(y)},set:function(O){ge(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):j[y]=new l.Table(y,b))})})}function gs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function $i(l,u){return l._cfg.version-u._cfg.version}function bs(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=_l("$meta",au("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),j=(b.create(f),b._completion.catch(h),b._reject.bind(b)),w=Oe.transless||Oe;Kt(function(){if(Oe.trans=b,Oe.transless=w,u!==0)return Ma(l,f),L=u,((O=b).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(D){return D??L}):Te.resolve(L)).then(function(Q){var C=l,z=Q,B=b,T=f,M=[],Q=C._versions,$=C._dbSchema=Al(0,C.idbdb,T);return(Q=Q.filter(function(K){return K._cfg.version>=z})).length===0?Te.resolve():(Q.forEach(function(K){M.push(function(){var te,fe,_e,Ee=$,he=K._cfg.dbschema,qe=(Ps(C,Ee,T),Ps(C,he,T),$=C._dbSchema=he,$s(Ee,he)),ze=(qe.add.forEach(function(me){Ji(T,me[0],me[1].primKey,me[1].indexes)}),qe.change.forEach(function(me){if(me.recreate)throw new ve.Upgrade("Not yet support for changing primary key");var Ue=T.objectStore(me.name);me.add.forEach(function(et){return Js(Ue,et)}),me.change.forEach(function(et){Ue.deleteIndex(et.name),Js(Ue,et)}),me.del.forEach(function(et){return Ue.deleteIndex(et)})}),K._cfg.contentUpgrade);if(ze&&K._cfg.version>z)return Ma(C,T),B._memoizedTables={},te=Ze(he),qe.del.forEach(function(me){te[me]=Ee[me]}),gs(C,[C.Transaction.prototype]),Fs(C,[C.Transaction.prototype],S(te),te),B.schema=te,(fe=X(ze))&&It(),he=Te.follow(function(){var me;(_e=ze(B))&&fe&&(me=Tn.bind(null,null),_e.then(me,me))}),_e&&typeof _e.then=="function"?Te.resolve(_e):he.then(function(){return _e})}),M.push(function(te){var fe,_e,Ee=K._cfg.dbschema;fe=Ee,_e=te,[].slice.call(_e.db.objectStoreNames).forEach(function(he){return fe[he]==null&&_e.db.deleteObjectStore(he)}),gs(C,[C.Transaction.prototype]),Fs(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),B.schema=C._dbSchema}),M.push(function(te){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===K._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(fe){return fe!=="$meta"})):te.objectStore("$meta").put(K._cfg.version,"version"))})}),(function K(){return M.length?Te.resolve(M.shift()(B.idbtrans)).then(K):Te.resolve()})().then(function(){nu($,T)}))}).catch(j);var O,L;S(y).forEach(function(D){Ji(f,D,y[D].primKey,y[D].indexes)}),Ma(l,f),Te.follow(function(){return l.on.populate.fire(b)}).catch(j)})}function Zs(l,u){nu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Al(0,l.idbdb,u);Ps(l,l._dbSchema,u);for(var h=0,y=$s(f,l._dbSchema).change;h<y.length;h++){var b=(j=>{if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=u.objectStore(j.name);j.add.forEach(function(O){Re&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(O.src)),Js(w,O)})})(y[h]);if(typeof b=="object")return b.value}}function $s(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var j={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)j.recreate=!0,h.change.push(j);else{var w=y.idxByName,O=b.idxByName,L=void 0;for(L in w)O[L]||j.del.push(L);for(L in O){var D=w[L],C=O[L];D?D.src!==C.src&&j.change.push(C):j.add.push(C)}(0<j.del.length||0<j.add.length||0<j.change.length)&&h.change.push(j)}}else h.add.push([f,b])}return h}function Ji(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Js(y,b)})}function nu(l,u){S(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(Re&&console.debug("Dexie: Creating missing table",f),Ji(u,f,l[f].primKey,l[f].indexes))})}function Js(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Al(l,u,f){var h={};return de(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),j=la(Gs(L=b.keyPath),L||"",!0,!1,!!b.autoIncrement,L&&typeof L!="string",!0),w=[],O=0;O<b.indexNames.length;++O){var D=b.index(b.indexNames[O]),L=D.keyPath,D=la(D.name,L,!!D.unique,!!D.multiEntry,!1,L&&typeof L!="string",!1);w.push(D)}h[y]=_l(y,j,w)}),h}function Ps(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],j=f.objectStore(b);l._hasGetAll="getAll"in j;for(var w=0;w<j.indexNames.length;++w){var O,L=j.indexNames[w],D=j.index(L).keyPath,D=typeof D=="string"?D:"["+de(D).join("+")+"]";u[b]&&(O=u[b].idxByName[D])&&(O.name=L,delete u[b].idxByName[D],u[b].idxByName[L]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function au(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return la(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),N(b),f===0,h)})}Ol.prototype._createTableSchema=_l,Ol.prototype._parseIndexSyntax=au,Ol.prototype._parseStoresSpec=function(l,u){var f=this;S(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new ve.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new ve.Schema("Primary key cannot be multiEntry*");y.forEach(function(j){if(j.auto)throw new ve.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new ve.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},Ol.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,gs(u,[u._allTables,u,u.Transaction.prototype]),Fs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],S(y),y),u._storeNames=S(y),this},Ol.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ee(this._cfg.contentUpgrade||Fe,l),this};var Bo=Ol;function Ol(){}function Pi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new sa(cs,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ws(l){return l&&typeof l.databases=="function"}function Wi(l){return Kt(function(){return Oe.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var gn=function(l,u){var f;if(!this)return f=new gn,l&&"d"in l&&q(f,l),f;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function xs(l,u,f){var h=ut(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return q(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(ut(f,l.from)<0)return h?xs(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},su(l);if(0<ut(u,l.to))return y?xs(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},su(l);ut(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<ut(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Pa(l,h),y&&u&&Pa(l,y)}}function Pa(l,u){Ii(u)||(function f(h,y){var b=y.from,j=y.l,w=y.r;xs(h,b,y.to),j&&f(h,j),w&&f(h,w)})(l,u)}function lu(l,u){var f=Is(u),h=f.next();if(!h.done)for(var y=h.value,b=Is(l),j=b.next(y.from),w=j.value;!h.done&&!j.done;){if(ut(w.from,y.to)<=0&&0<=ut(w.to,y.from))return!0;ut(y.from,w.from)<0?y=(h=f.next(w.from)).value:w=(j=b.next(y.from)).value}return!1}function Is(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&ut(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||ut(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function su(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=er(f)),l.d=er(l)}function er(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function ei(l,u){return S(u).forEach(function(f){l[f]?Pa(l[f],u[f]):l[f]=(function h(y){var b,j,w={};for(b in y)A(y,b)&&(j=y[b],w[b]=!j||typeof j!="object"||Ke.has(j.constructor)?j:h(j));return w})(u[f])}),l}function tr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&lu(u[f],l[f])})}V(gn.prototype,((Et={add:function(l){return Pa(this,l),this},addKey:function(l){return xs(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return xs(u,f,f)}),this},hasKey:function(l){var u=Is(this).next(l).value;return u&&ut(u.from,l)<=0&&0<=ut(u.to,l)}})[Y]=function(){return Is(this)},Et));var Wa={},nr={},ar=!1;function ti(l){ei(nr,l),ar||(ar=!0,setTimeout(function(){ar=!1,lr(nr,!(nr={}))},0))}function lr(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Wa);h<y.length;h++)iu(w=y[h],l,f,u);else for(var b in l){var j,w,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(j=b[1],b=b[2],w=Wa["idb://".concat(j,"/").concat(b)])&&iu(w,l,f,u)}f.forEach(function(O){return O()})}function iu(l,u,f,h){for(var y=[],b=0,j=Object.entries(l.queries.query);b<j.length;b++){for(var w=j[b],O=w[0],L=[],D=0,C=w[1];D<C.length;D++){var z=C[D];tr(u,z.obsSet)?z.subscribers.forEach(function(Q){return f.add(Q)}):h&&L.push(z)}h&&y.push([O,L])}if(h)for(var B=0,T=y;B<T.length;B++){var M=T[B],O=M[0],L=M[1];l.queries.query[O]=L}}function qo(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Mt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function j(){if(u.openCanceller!==h)throw new ve.DatabaseClosed("db.open() was cancelled")}function w(){return new Te(function(z,B){if(j(),!f)throw new ve.MissingAPI;var T=l.name,M=u.autoSchema||!y?f.open(T):f.open(T,y);if(!M)throw new ve.MissingAPI;M.onerror=Vn(B),M.onblocked=Ht(l._fireOnBlocked),M.onupgradeneeded=Ht(function(Q){var $;D=M.transaction,u.autoSchema&&!l._options.allowEmptyDB?(M.onerror=Za,D.abort(),M.result.close(),($=f.deleteDatabase(T)).onsuccess=$.onerror=Ht(function(){B(new ve.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(D.onerror=Vn(B),$=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,C=$<1,l.idbdb=M.result,b&&Zs(l,D),bs(l,$/10,D,B))},B),M.onsuccess=Ht(function(){D=null;var Q,$,K,te,fe,_e,Ee=l.idbdb=M.result,he=de(Ee.objectStoreNames);if(0<he.length)try{var qe=Ee.transaction((fe=he).length===1?fe[0]:fe,"readonly");if(u.autoSchema)_e=Ee,te=qe,(K=l).verno=_e.version/10,te=K._dbSchema=Al(0,_e,te),K._storeNames=de(_e.objectStoreNames,0),Fs(K,[K._allTables],S(te),te);else if(Ps(l,l._dbSchema,qe),$=qe,(($=$s(Al(0,(Q=l).idbdb,$),Q._dbSchema)).add.length||$.change.some(function(ze){return ze.add.length||ze.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),y=Ee.version+1,b=!0,z(w());Ma(l,qe)}catch{}Xa.push(l),Ee.onversionchange=Ht(function(ze){u.vcFired=!0,l.on("versionchange").fire(ze)}),Ee.onclose=Ht(function(){l.close({disableAutoOpen:!1})}),C&&(he=l._deps,fe=T,Ws(_e=he.indexedDB)||fe===cs||Pi(_e,he.IDBKeyRange).put({name:fe}).catch(Fe)),z()},B)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<y)return y=0,w()}return Te.reject(z)})}var O,L=u.dbReadyResolve,D=null,C=!1;return Te.race([h,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function B(){return indexedDB.databases().finally(z)}O=setInterval(B,100),B()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(w)]).then(function(){return j(),u.onReadyBeingFired=[],Te.resolve(Wi(function(){return l.on.ready.fire(l.vip)})).then(function z(){var B;if(0<u.onReadyBeingFired.length)return B=u.onReadyBeingFired.reduce(ee,Fe),u.onReadyBeingFired=[],Te.resolve(Wi(function(){return B(l.vip)})).then(z)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(z){u.dbOpenError=z;try{D&&D.abort()}catch{}return h===u.openCanceller&&l._close(),Mt(z)}).finally(function(){u.openComplete=!0,L()}).then(function(){var z;return C&&(z={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(T){T.name&&(z["idb://".concat(l.name,"/").concat(B.name,"/").concat(T.name)]=new gn(-1/0,[[[]]]))}),z["idb://".concat(l.name,"/").concat(B.name,"/")]=z["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(Nl).fire(z),lr(z,!0)),l})}function vs(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(w){var w=b(w),O=w.value;return w.done?O:O&&typeof O.then=="function"?O.then(f,h):N(O)?Promise.all(O).then(f,h):f(O)}}return y(u)()}function za(l,u,f){for(var h=N(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Uo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function j(z,B,T){var K=rn(z),M=y[K]=y[K]||[],Q=z==null?0:typeof z=="string"?1:z.length,$=0<B,K=d(d({},T),{name:$?"".concat(K,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:$,keyTail:B,keyLength:Q,extractKey:Cl(z),unique:!$&&T.unique});return M.push(K),K.isPrimaryKey||b.push(K),1<Q&&j(Q===2?z[0]:z.slice(0,Q-1),B+1,T),M.sort(function(te,fe){return te.keyTail-fe.keyTail}),K}var w=j(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[w];for(var O=0,L=h.indexes;O<L.length;O++){var D=L[O];j(D.keyPath,0,D)}function C(z){var B,T=z.query.index;return T.isVirtual?d(d({},z),{query:{index:T.lowLevelIndex,range:(B=z.query.range,T=T.keyTail,{type:B.type===1?2:B.type,lower:za(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,T),lowerOpen:!0,upper:za(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,T),upperOpen:!0})}}):z}return d(d({},f),{schema:d(d({},h),{primaryKey:w,indexes:b,getIndexByKeyPath:function(z){return(z=y[rn(z)])&&z[0]}}),count:function(z){return f.count(C(z))},query:function(z){return f.query(C(z))},openCursor:function(z){var B=z.query.index,T=B.keyTail,M=B.keyLength;return B.isVirtual?f.openCursor(C(z)).then(function($){return $&&Q($)}):f.openCursor(z);function Q($){return Object.create($,{continue:{value:function(K){K!=null?$.continue(za(K,z.reverse?l.MAX_KEY:l.MIN_KEY,T)):z.unique?$.continue($.key.slice(0,M).concat(z.reverse?l.MIN_KEY:l.MAX_KEY,T)):$.continue()}},continuePrimaryKey:{value:function(K,te){$.continuePrimaryKey(za(K,l.MAX_KEY,T),te)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var K=$.key;return M===1?K[0]:K.slice(0,M)}},value:{get:function(){return $.value}}})}}})}})}};function ni(l,u,f,h){return f=f||{},h=h||"",S(l).forEach(function(y){var b,j,w;A(u,y)?(b=l[y],j=u[y],typeof b=="object"&&typeof j=="object"&&b&&j?(w=He(b))!==He(j)?f[h+y]=u[y]:w==="Object"?ni(b,j,f,h+y+"."):b!==j&&(f[h+y]=u[y]):b!==j&&(f[h+y]=u[y])):f[h+y]=void 0}),S(u).forEach(function(y){A(l,y)||(f[h+y]=u[y])}),f}function ai(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Oe.trans,j=b.table(u).hook,w=j.deleting,O=j.creating,L=j.updating;switch(y.type){case"add":if(O.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"put":if(O.fire===Fe&&L.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"delete":if(w.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"deleteRange":if(w.fire===Fe)break;return b._promise("readwrite",function(){return(function C(z,B,T){return f.query({trans:z,values:!1,query:{index:h,range:B},limit:T}).then(function(M){var Q=M.result;return D({type:"delete",keys:Q,trans:z}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):Q.length<T?{failures:[],numFailures:0,lastResult:void 0}:C(z,d(d({},B),{lower:Q[Q.length-1],lowerOpen:!0}),T)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function D(C){var z,B,T,M=Oe.trans,Q=C.keys||ai(h,C);if(Q)return(C=C.type==="add"||C.type==="put"?d(d({},C),{keys:Q}):d({},C)).type!=="delete"&&(C.values=g([],C.values)),C.keys&&(C.keys=g([],C.keys)),z=f,T=Q,((B=C).type==="add"?Promise.resolve([]):z.getMany({trans:B.trans,keys:T,cache:"immutable"})).then(function($){var K=Q.map(function(te,fe){var _e,Ee,he,qe=$[fe],ze={onerror:null,onsuccess:null};return C.type==="delete"?w.fire.call(ze,te,qe,M):C.type==="add"||qe===void 0?(_e=O.fire.call(ze,te,C.values[fe],M),te==null&&_e!=null&&(C.keys[fe]=te=_e,h.outbound||je(C.values[fe],h.keyPath,te))):(_e=ni(qe,C.values[fe]),(Ee=L.fire.call(ze,_e,te,qe,M))&&(he=C.values[fe],Object.keys(Ee).forEach(function(me){A(he,me)?he[me]=Ee[me]:je(he,me,Ee[me])}))),ze});return f.mutate(C).then(function(te){for(var fe=te.failures,_e=te.results,Ee=te.numFailures,te=te.lastResult,he=0;he<Q.length;++he){var qe=(_e||Q)[he],ze=K[he];qe==null?ze.onerror&&ze.onerror(fe[he]):ze.onsuccess&&ze.onsuccess(C.type==="put"&&$[he]?C.values[he]:qe)}return{failures:fe,results:_e,numFailures:Ee,lastResult:te}}).catch(function(te){return K.forEach(function(fe){return fe.onerror&&fe.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function sr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)ut(u.keys[y],l[b])===0&&(h.push(f?we(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var uu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=sr(h.keys,h.trans._cache,h.cache==="clone"))?Te.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?we(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Ia(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function ou(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ho={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Oe.subscr&&y!=="readonly")throw new ve.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return l.transaction(h,y,b)},table:function(h){function y(Q){var M,Q=Q.query;return[M=Q.index,new gn((M=(Q=Q.range).lower)!=null?M:l.MIN_KEY,(M=Q.upper)!=null?M:l.MAX_KEY)]}var b=l.table(h),j=b.schema,w=j.primaryKey,O=j.indexes,L=w.extractKey,D=w.outbound,C=w.autoIncrement&&O.filter(function(T){return T.compound&&T.keyPath.includes(w.keyPath)}),z=d(d({},b),{mutate:function(T){function M(Ue){return Ue="idb://".concat(u,"/").concat(h,"/").concat(Ue),fe[Ue]||(fe[Ue]=new gn)}var Q,$,K,te=T.trans,fe=T.mutatedParts||(T.mutatedParts={}),_e=M(""),Ee=M(":dels"),he=T.type,ze=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[ai(w,T).filter(function(Ue){return Ue}),T.values]:[],qe=ze[0],ze=ze[1],me=T.trans._cache;return N(qe)?(_e.addKeys(qe),(he=he==="delete"||qe.length===ze.length?sr(qe,me):null)||Ee.addKeys(qe),(he||ze)&&(Q=M,$=he,K=ze,j.indexes.forEach(function(Ue){var et=Q(Ue.name||"");function ot(tt){return tt!=null?Ue.extractKey(tt):null}function Xe(tt){Ue.multiEntry&&N(tt)?tt.forEach(function(zt){return et.addKey(zt)}):et.addKey(tt)}($||K).forEach(function(tt,At){var Cn=$&&ot($[At]),At=K&&ot(K[At]);ut(Cn,At)!==0&&(Cn!=null&&Xe(Cn),At!=null)&&Xe(At)})}))):qe?(ze={from:(me=qe.lower)!=null?me:l.MIN_KEY,to:(he=qe.upper)!=null?he:l.MAX_KEY},Ee.add(ze),_e.add(ze)):(_e.add(f),Ee.add(f),j.indexes.forEach(function(Ue){return M(Ue.name).add(f)})),b.mutate(T).then(function(Ue){return!qe||T.type!=="add"&&T.type!=="put"||(_e.addKeys(Ue.results),C&&C.forEach(function(et){for(var ot=T.values.map(function(Cn){return et.extractKey(Cn)}),Xe=et.keyPath.findIndex(function(Cn){return Cn===w.keyPath}),tt=0,zt=Ue.results.length;tt<zt;++tt)ot[tt][Xe]=Ue.results[tt];M(et.name).addKeys(ot)})),te.mutatedParts=ei(te.mutatedParts||{},fe),Ue})}}),B={get:function(T){return[w,new gn(T.key)]},getMany:function(T){return[w,new gn().addKeys(T.keys)]},count:y,query:y,openCursor:y};return S(B).forEach(function(T){z[T]=function(M){var Q=Oe.subscr,$=!!Q,K=Ia(Oe,b)&&ou(T,M)?M.obsSet={}:Q;if($){var te,Q=function(ze){return ze="idb://".concat(u,"/").concat(h,"/").concat(ze),K[ze]||(K[ze]=new gn)},fe=Q(""),_e=Q(":dels"),$=B[T](M),Ee=$[0],$=$[1];if((T==="query"&&Ee.isPrimaryKey&&!M.values?_e:Q(Ee.name||"")).add($),!Ee.isPrimaryKey){if(T!=="count")return te=T==="query"&&D&&M.values&&b.query(d(d({},M),{values:!1})),b[T].apply(this,arguments).then(function(ze){if(T==="query"){if(D&&M.values)return te.then(function(ot){return ot=ot.result,fe.addKeys(ot),ze});var me=M.values?ze.result.map(L):ze.result;(M.values?fe:_e).addKeys(me)}else{var Ue,et;if(T==="openCursor")return et=M.values,(Ue=ze)&&Object.create(Ue,{key:{get:function(){return _e.addKey(Ue.primaryKey),Ue.key}},primaryKey:{get:function(){var ot=Ue.primaryKey;return _e.addKey(ot),ot}},value:{get:function(){return et&&fe.addKey(Ue.primaryKey),Ue.value}}})}return ze});_e.add(f)}}return b[T].apply(this,arguments)}}),z}})}};function cu(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function li(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<ut(f,h.lower):0<=ut(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?ut(f,h.upper)<0:ut(f,h.upper)<=0));var f,h}function ir(l,u,f,h,y,b){var j,w,O,L,D,C;return!f||f.length===0||(j=u.query.index,w=j.multiEntry,O=u.query.range,L=h.schema.primaryKey.extractKey,D=j.extractKey,C=(j.lowLevelIndex||j).extractKey,(h=f.reduce(function(z,B){var T=z,M=[];if(B.type==="add"||B.type==="put")for(var Q=new gn,$=B.values.length-1;0<=$;--$){var K,te=B.values[$],fe=L(te);!Q.hasKey(fe)&&(K=D(te),w&&N(K)?K.some(function(ze){return li(ze,O)}):li(K,O))&&(Q.addKey(fe),M.push(te))}switch(B.type){case"add":var _e=new gn().addKeys(u.values?z.map(function(me){return L(me)}):z),T=z.concat(u.values?M.filter(function(me){return me=L(me),!_e.hasKey(me)&&(_e.addKey(me),!0)}):M.map(function(me){return L(me)}).filter(function(me){return!_e.hasKey(me)&&(_e.addKey(me),!0)}));break;case"put":var Ee=new gn().addKeys(B.values.map(function(me){return L(me)}));T=z.filter(function(me){return!Ee.hasKey(u.values?L(me):me)}).concat(u.values?M:M.map(function(me){return L(me)}));break;case"delete":var he=new gn().addKeys(B.keys);T=z.filter(function(me){return!he.hasKey(u.values?L(me):me)});break;case"deleteRange":var qe=B.range;T=z.filter(function(me){return!li(L(me),qe)})}return T},l))===l)?l:(h.sort(function(z,B){return ut(C(z),C(B))||ut(L(z),L(B))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Dl(l,u){return ut(l.lower,u.lower)===0&&ut(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function Ss(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=ut(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=ut(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Lo(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&be(b,y)},3e3))})}var si={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,j,w=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,w.addEventListener("abort",(j=function(O){return function(){if(b.abort(),h==="readwrite"){for(var L=new Set,D=0,C=f;D<C.length;D++){var z=C[D],B=Wa["idb://".concat(u,"/").concat(z)];if(B){var T=l.table(z),M=B.optimisticOps.filter(function(Ue){return Ue.trans===w});if(w._explicit&&O&&w.mutatedParts)for(var Q=0,$=Object.values(B.queries.query);Q<$.length;Q++)for(var K=0,te=(Ee=$[Q]).slice();K<te.length;K++)tr((he=te[K]).obsSet,w.mutatedParts)&&(be(Ee,he),he.subscribers.forEach(function(Ue){return L.add(Ue)}));else if(0<M.length){B.optimisticOps=B.optimisticOps.filter(function(Ue){return Ue.trans!==w});for(var fe=0,_e=Object.values(B.queries.query);fe<_e.length;fe++)for(var Ee,he,qe,ze=0,me=(Ee=_e[fe]).slice();ze<me.length;ze++)(he=me[ze]).res!=null&&w.mutatedParts&&(O&&!he.dirty?(qe=Object.isFrozen(he.res),qe=ir(he.res,he.req,M,T,he,qe),he.dirty?(be(Ee,he),he.subscribers.forEach(function(Ue){return L.add(Ue)})):qe!==he.res&&(he.res=qe,he.promise=Te.resolve({result:qe}))):(he.dirty&&be(Ee,he),he.subscribers.forEach(function(Ue){return L.add(Ue)})))}}}L.forEach(function(Ue){return Ue()})}}})(!1),{signal:y}),w.addEventListener("error",j(!1),{signal:y}),w.addEventListener("complete",j(!0),{signal:y})),w},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var j,w=Oe.trans;return!y.outbound&&w.db._options.cache!=="disabled"&&!w.explicit&&w.idbtrans.mode==="readwrite"&&(j=Wa["idb://".concat(u,"/").concat(f)])?(w=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||ai(y,b).some(function(O){return O==null}))?(j.optimisticOps.push(b),b.mutatedParts&&ti(b.mutatedParts),w.then(function(O){0<O.numFailures&&(be(j.optimisticOps,b),(O=cu(0,b,O))&&j.optimisticOps.push(O),b.mutatedParts)&&ti(b.mutatedParts)}),w.catch(function(){be(j.optimisticOps,b),b.mutatedParts&&ti(b.mutatedParts)})):w.then(function(O){var L=cu(0,d(d({},b),{values:b.values.map(function(D,C){var z;return O.failures[C]?D:(je(z=(z=y.keyPath)!=null&&z.includes(".")?we(D):d({},D),y.keyPath,O.results[C]),z)})}),O);j.optimisticOps.push(L),queueMicrotask(function(){return b.mutatedParts&&ti(b.mutatedParts)})}),w):h.mutate(b)},query:function(b){var j,w,O,L,D,C,z;return Ia(Oe,h)&&ou("query",b)?(j=((O=Oe.trans)==null?void 0:O.db._options.cache)==="immutable",w=(O=Oe).requery,O=O.signal,C=((B,T,M,Q)=>{var $=Wa["idb://".concat(B,"/").concat(T)];if(!$)return[];if(!(B=$.queries[M]))return[null,!1,$,null];var K=B[(Q.query?Q.query.index.name:null)||""];if(!K)return[null,!1,$,null];switch(M){case"query":var te=K.find(function(fe){return fe.req.limit===Q.limit&&fe.req.values===Q.values&&Dl(fe.req.query.range,Q.query.range)});return te?[te,!0,$,K]:[K.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=Q.limit&&(!Q.values||fe.req.values)&&Ss(fe.req.query.range,Q.query.range)}),!1,$,K];case"count":return te=K.find(function(fe){return Dl(fe.req.query.range,Q.query.range)}),[te,!!te,$,K]}})(u,f,"query",b),z=C[0],L=C[2],D=C[3],z&&C[1]?z.obsSet=b.obsSet:(C=h.query(b).then(function(B){var T=B.result;if(z&&(z.res=T),j){for(var M=0,Q=T.length;M<Q;++M)Object.freeze(T[M]);Object.freeze(T)}else B.result=we(T);return B}).catch(function(B){return D&&z&&be(D,z),Promise.reject(B)}),z={obsSet:b.obsSet,promise:C,subscribers:new Set,type:"query",req:b,dirty:!1},D?D.push(z):(D=[z],(L=L||(Wa["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=D)),Lo(z,D,w,O),z.promise.then(function(B){return{result:ir(B.result,b,L?.optimisticOps,h,z,j)}})):h.query(b)}})}})}};function js(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Yt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new ve.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new ve.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort($i),f.stores({}),this._state.autoSchema=!1),f},Yt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?l():new Te(function(f,h){if(u._state.openComplete)return h(new ve.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new ve.DatabaseClosed);u.open().catch(Fe)}u._state.dbReadyPromise.then(f,h)}).then(l)},Yt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(j,w){return j.level-w.level}),this},Yt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Yt.prototype.open=function(){var l=this;return Xn(Ut,function(){return qo(l)})},Yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Xa.indexOf(this);if(0<=u&&Xa.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Te(function(f){l.dbReadyResolve=f}),l.openCanceller=new Te(function(f,h){l.cancelOpen=h}))},Yt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new ve.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new ve.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Yt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Te(function(y,b){function j(){u.close(l);var w=u._deps.indexedDB.deleteDatabase(u.name);w.onsuccess=Ht(function(){var O,L,D;O=u._deps,L=u.name,Ws(D=O.indexedDB)||L===cs||Pi(D,O.IDBKeyRange).delete(L).catch(Fe),y()}),w.onerror=Vn(b),w.onblocked=u._fireOnBlocked}if(f)throw new ve.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(j):j()})},Yt.prototype.backendDB=function(){return this.idbdb},Yt.prototype.isOpen=function(){return this.idbdb!==null},Yt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Yt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Yt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new ve.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,rt(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Yt.prototype._transaction=function(l,u,f){var h,y,b=this,j=Oe.trans,w=(j&&j.db===this&&l.indexOf("!")===-1||(j=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(L){if(L=L instanceof b.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),l=="r"||l===xa)h=xa;else{if(l!="rw"&&l!=Da)throw new ve.InvalidArgument("Invalid transaction mode: "+l);h=Da}if(j){if(j.mode===xa&&h===Da){if(!w)throw new ve.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&y.forEach(function(L){if(j&&j.storeNames.indexOf(L)===-1){if(!w)throw new ve.SubTransaction("Table "+L+" not included in parent transaction.");j=null}}),w&&j&&!j.active&&(j=null)}}catch(L){return j?j._promise(null,function(D,C){C(L)}):Mt(L)}var O=(function L(D,C,z,B,T){return Te.resolve().then(function(){var K=Oe.transless||Oe,M=D._createTransaction(C,z,D._dbSchema,B),K=(M.explicit=!0,{trans:M,transless:K});if(B)M.idbtrans=B.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(te){return te.name===Ft.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return L(D,C,z,null,T)})):Mt(te)}var Q,$=X(T),K=($&&It(),Te.follow(function(){var te;(Q=T.call(M,M))&&($?(te=Tn.bind(null,null),Q.then(te,te)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=vs(Q)))},K));return(Q&&typeof Q.then=="function"?Te.resolve(Q).then(function(te){return M.active?te:Mt(new ve.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return Q})).then(function(te){return B&&M._resolve(),M._completion.then(function(){return te})}).catch(function(te){return M._reject(te),Mt(te)})})}).bind(null,this,h,y,j,f);return j?j._promise(h,O,"lock"):Oe.trans?Xn(Oe.transless,function(){return b._whenReady(O)}):this._whenReady(O)},Yt.prototype.table=function(l){if(A(this._allTables,l))return this._allTables[l];throw new ve.InvalidTable("Table ".concat(l," does not exist"))};var sa=Yt;function Yt(l,u){var f,h,y,b,j,w=this,O=(this._middlewares={},this.verno=0,Yt.dependencies),O=(this._options=u=d({addons:Yt.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),L=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),D=(L.dbReadyPromise=new Te(function(C){L.dbReadyResolve=C}),L.openCanceller=new Te(function(C,z){L.cancelOpen=z}),this._state=L,this.name=l,this.on=hs(this,"populate","blocked","versionchange","close",{ready:[ee,Fe]}),this.once=function(C,z){var B=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];w.on(C).unsubscribe(B),z.apply(w,T)};return w.on(C,B)},this.on.ready.subscribe=Ce(this.on.ready.subscribe,function(C){return function(z,B){Yt.vip(function(){var T,M=w._state;M.openComplete?(M.dbOpenError||Te.resolve().then(z),B&&C(z)):M.onReadyBeingFired?(M.onReadyBeingFired.push(z),B&&C(z)):(C(z),T=w,B||C(function Q(){T.on.ready.unsubscribe(z),T.on.ready.unsubscribe(Q)}))})}}),this.Collection=(f=this,pn(ko.prototype,function(Q,M){this.db=f;var B=Yi,T=null;if(M)try{B=M()}catch(K){T=K}var M=Q._ctx,Q=M.table,$=Q.hook.reading.fire;this._ctx={table:Q,index:M.index,isPrimKey:!M.index||Q.schema.primKey.keyPath&&M.index===Q.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:M.or,valueMapper:$!==ht?$:null}})),this.Table=(h=this,pn(Xi.prototype,function(C,z,B){this.db=h,this._tx=B,this.name=C,this.schema=z,this.hook=h._allTables[C]?h._allTables[C].hook:hs(null,{creating:[Yn,Fe],reading:[Zt,ht],updating:[pe,Fe],deleting:[ea,Fe]})})),this.Transaction=(y=this,pn(Zi.prototype,function(C,z,B,T,M){var Q=this;C!=="readonly"&&z.forEach(function($){$=($=B[$])==null?void 0:$.yProps,$&&(z=z.concat($.map(function(K){return K.updatesTable})))}),this.db=y,this.mode=C,this.storeNames=z,this.schema=B,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=hs(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function($,K){Q._resolve=$,Q._reject=K}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function($){var K=Q.active;return Q.active=!1,Q.on.error.fire($),Q.parent?Q.parent._reject($):K&&Q.idbtrans&&Q.idbtrans.abort(),Mt($)})})),this.Version=(b=this,pn(Bo.prototype,function(C){this.db=b,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,pn(Fa.prototype,function(C,z,B){if(this.db=j,this._ctx={table:C,index:z===":id"?null:z,or:B},this._cmp=this._ascending=ut,this._descending=function(T,M){return ut(M,T)},this._max=function(T,M){return 0<ut(T,M)?T:M},this._min=function(T,M){return ut(T,M)<0?T:M},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new ve.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=El(u.IDBKeyRange),this._createTransaction=function(C,z,B,T){return new w.Transaction(C,z,B,w._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(C){w.on("blocked").fire(C),Xa.filter(function(z){return z.name===w.name&&z!==w&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(C)})},this.use(uu),this.use(si),this.use(Ho),this.use(Uo),this.use(ru),new Proxy(this,{get:function(C,z,B){var T;return z==="_vip"||(z==="table"?function(M){return js(w.table(M),D)}:(T=Reflect.get(C,z,B))instanceof Xi?js(T,D):z==="tables"?T.map(function(M){return js(M,D)}):z==="_createTransaction"?function(){return js(T.apply(this,arguments),D)}:T)}}));this.vip=D,O.forEach(function(C){return C(w)})}var Tl,el=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",fu=(ii.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ii.prototype[el]=function(){return this},ii);function ii(l){this._subscribe=l}try{Tl={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{Tl={indexedDB:null,IDBKeyRange:null}}function du(l){var u,f=!1,h=new fu(function(y){var b=X(l),j,w=!1,O={},L={},D={get closed(){return w},unsubscribe:function(){w||(w=!0,j&&j.abort(),C&&yn.storagemutated.unsubscribe(B))}},C=(y.start&&y.start(D),!1),z=function(){return Oa(T)},B=function(M){ei(O,M),tr(L,O)&&z()},T=function(){var M,Q,$;!w&&Tl.indexedDB&&(O={},M={},j&&j.abort(),j=new AbortController,$=(K=>{var te=Ea();try{b&&It();var fe=Kt(l,K);return fe=b?fe.finally(Tn):fe}finally{te&&ta()}})(Q={subscr:M,signal:j.signal,requery:z,querier:l,trans:null}),Promise.resolve($).then(function(K){f=!0,u=K,w||Q.signal.aborted||(O={},(te=>{for(var fe in te)if(A(te,fe))return;return 1})(L=M)||C||(yn(Nl,B),C=!0),Oa(function(){return!w&&y.next&&y.next(K)}))},function(K){f=!1,["DatabaseClosedError","AbortError"].includes(K?.name)||w||Oa(function(){w||y.error&&y.error(K)})}))};return setTimeout(z,0),D});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var tl=sa;function rr(l){var u=ka;try{ka=!0,yn.storagemutated.fire(l),lr(l,!0)}finally{ka=u}}V(tl,d(d({},oe),{delete:function(l){return new tl(l,{addons:[]}).delete()},exists:function(l){return new tl(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=tl.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Ws(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==cs})}):Pi(f,u).toCollection().primaryKeys()).then(l)}catch{return Mt(new ve.MissingAPI)}var u,f},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Oe.trans?Xn(Oe.transless,l):l()},vip:Wi,async:function(l){return function(){try{var u=vs(l.apply(this,arguments));return u&&typeof u.then=="function"?u:Te.resolve(u)}catch(f){return Mt(f)}}},spawn:function(l,u,f){try{var h=vs(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:Te.resolve(h)}catch(y){return Mt(y)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(l,u){return l=Te.resolve(typeof l=="function"?tl.ignoreTransaction(l):l).timeout(u||6e4),Oe.trans?Oe.trans.waitFor(l):l},Promise:Te,debug:{get:function(){return Re},set:function(l){ye(l)}},derive:ie,extend:q,props:V,override:Ce,Events:hs,on:yn,liveQuery:du,extendObservabilitySet:ei,getByKeyPath:xe,setByKeyPath:je,delByKeyPath:function(l,u){typeof u=="string"?je(l,u,void 0):"length"in u&&[].map.call(u,function(f){je(l,f,void 0)})},shallowClone:Ze,deepClone:we,getObjectDiff:ni,cmp:ut,asap:Se,minKey:-1/0,addons:[],connections:Xa,errnames:Ft,dependencies:Tl,cache:Wa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),tl.maxKey=El(tl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(Nl,function(l){ka||(l=new CustomEvent($a,{detail:l}),ka=!0,dispatchEvent(l),ka=!1)}),addEventListener($a,function(l){l=l.detail,ka||rr(l)}));var Ml,ka=!1,En=function(){};return typeof BroadcastChannel<"u"&&((En=function(){(Ml=new BroadcastChannel($a)).onmessage=function(l){return l.data&&rr(l.data)}})(),typeof Ml.unref=="function"&&Ml.unref(),yn(Nl,function(l){ka||Ml.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!sa.disableBfCache&&l.persisted){Re&&console.debug("Dexie: handling persisted pagehide"),Ml?.close();for(var u=0,f=Xa;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!sa.disableBfCache&&l.persisted&&(Re&&console.debug("Dexie: handling persisted pageshow"),En(),rr({all:new gn(-1/0,[[]])}))})),Te.rejectionMapper=function(l,u){return!l||l instanceof Be||l instanceof TypeError||l instanceof SyntaxError||!l.name||!dt[l.name]?l:(u=new dt[l.name](u||l.message,l),"stack"in l&&Z(u,"stack",{get:function(){return this.inner.stack}}),u)},ye(Re),d(sa,Object.freeze({__proto__:null,Dexie:sa,Entity:Ir,PropModification:wl,RangeSet:gn,add:function(l){return new wl({add:l})},cmp:ut,default:sa,liveQuery:du,mergeRanges:Pa,rangesOverlap:lu,remove:function(l){return new wl({remove:l})},replacePrefix:function(l,u){return new wl({replacePrefix:[l,u]})}}),{default:sa}),sa})})(xo)),xo.exports}var Sx=vx();const Lf=M0(Sx),Op=Symbol.for("Dexie"),No=globalThis[Op]||(globalThis[Op]=Lf);if(Lf.semVer!==No.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Lf.semVer} and ${No.semVer}`);const{liveQuery:bv,mergeRanges:xv,rangesOverlap:vv,RangeSet:Sv,cmp:jv,Entity:wv,PropModification:Nv,replacePrefix:_v,add:Ev,remove:Cv,DexieYProvider:Av}=No,Wf=new No("WiseMarkDB");Wf.version(1).stores({pdfs:"hash, filename, size, blob"});async function Kf(r){const c=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function If(r,c,m,d){await Wf.pdfs.put({hash:r,filename:c,size:m,blob:d})}async function jx(r){const c=await Wf.pdfs.get(r);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function wx(r){if(!r?.pdf_hash)return null;try{const{data:c}=await an.getPdf(r.id),m=(c instanceof ArrayBuffer,c),d=r.file_size??m?.byteLength??0;return await If(r.pdf_hash,r.filename||"",d,m),{data:m,filename:r.filename||"",size:d}}catch{const c=await jx(r.pdf_hash);return c||null}}const ma=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Dp(r){if(!r)return null;const c=new Date(r);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function Nx(r){if(!r)return null;const c=new Date(r);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:v<24?`${v}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function _x({doc:r,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:v,onOpen:S,onRename:N,onDelete:q}){const E=c[r.highlight_preset]??c._default,k=E?.colors?.[0]?.hex??"#94a3b8",A=r.color&&ma.includes(r.color)?r.color:m,V=r.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(r.id),onMouseLeave:v,onClick:()=>S(r.id),role:"button",tabIndex:0,onKeyDown:ge=>ge.key==="Enter"&&S(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${A}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[E&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:k,background:`${k}14`},children:E.name}),Dp(r.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Dp(r.created_at)})]}),r.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",Nx(r.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:V>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[V," note",V!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:ge=>{ge.stopPropagation(),N(r)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:ge=>{ge.stopPropagation(),q(r)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(Hs,{className:"w-3.5 h-3.5"})})]}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Ex(){const{projectId:r}=Xf(),c=ls(),m=Ui(),[d,g]=U.useState(!1),[v,S]=U.useState(""),[N,q]=U.useState(null),[E,k]=U.useState(""),[A,V]=U.useState(!1),[ge,Z]=U.useState(""),[ie,P]=U.useState(null),[De,de]=U.useState(""),[Ce,ae]=U.useState(null),[Se,xe]=U.useState(ma[0]),je=U.useRef(null),Ze=U.useRef(null),$e=U.useRef(null),[rt,Ke]=U.useState(0),[le,we]=U.useState(null),[ce,He]=U.useState("recent"),[Y,ue]=U.useState(!1),[be,Ae]=U.useState(null),[Me,X]=U.useState(!1),{data:oe,isLoading:Ne}=Ln({queryKey:["project",r],queryFn:async()=>(await Qr.get(r)).data,enabled:!!r}),{data:Be,isLoading:Pe}=Ln({queryKey:["documents",r],queryFn:async()=>(await an.list({project:r})).data,enabled:!!r}),lt=Array.isArray(Be)?Be:Be?.results??[],{data:vt=[]}=Ln({queryKey:["lenses"],queryFn:async()=>(await pa.list()).data}),Ft=U.useMemo(()=>{const ke={};vt.forEach(wt=>{ke[wt.id]=wt});const Ye=vt.find(wt=>wt.is_system)??vt[0];return Ye&&(ke._default=Ye),ke},[vt]),dn=U.useMemo(()=>{const ke=[...lt];return ce==="recent"?ke.sort((Ye,wt)=>{const qt=Ye.last_opened_at||Ye.updated_at||Ye.created_at||"";return(wt.last_opened_at||wt.updated_at||wt.created_at||"").localeCompare(qt)}):ce==="uploaded"?ke.sort((Ye,wt)=>(wt.created_at||"").localeCompare(Ye.created_at||"")):ce==="name"?ke.sort((Ye,wt)=>(Ye.filename||"").localeCompare(wt.filename||"")):ce==="annotations"&&ke.sort((Ye,wt)=>(wt.annotation_count??0)-(Ye.annotation_count??0)),ke},[lt,ce]),ve=lt.reduce((ke,Ye)=>ke+(Ye.annotation_count??0),0),dt=An({mutationFn:({id:ke,name:Ye})=>Qr.update(ke,{name:Ye}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",r]}),m.invalidateQueries({queryKey:["projects"]}),V(!1)}}),Fe=An({mutationFn:({id:ke,filename:Ye})=>an.update(ke,{filename:Ye}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),q(null),k("")}}),ht=An({mutationFn:ke=>an.delete(ke),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),Ae(null)}}),Zt=An({mutationFn:ke=>Qr.delete(ke),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),Ot=async ke=>{const Ye=ke.target.files?.[0];if(!Ye||!Ye.type.includes("pdf"))return;S(""),P(Ye);const wt=Ye.name.replace(/\.pdf$/i,"")||Ye.name;de(wt),xe(ma[lt.length%ma.length]),ae(null),je.current=null;try{const qt=await Ye.arrayBuffer(),Ct=await Kf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Ye.size};ae(Ut),je.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),P(null),de("")}},Yn=async ke=>{ke.preventDefault(),ue(!1);const Ye=ke.dataTransfer?.files?.[0];if(!Ye||!Ye.type.includes("pdf"))return;S(""),P(Ye);const wt=Ye.name.replace(/\.pdf$/i,"")||Ye.name;de(wt),xe(ma[lt.length%ma.length]),ae(null),je.current=null;try{const qt=await Ye.arrayBuffer(),Ct=await Kf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Ye.size};ae(Ut),je.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),P(null),de("")}},ea=()=>{P(null),de(""),ae(null),xe(ma[0]),S(""),je.current=null,Ke(ke=>ke+1)},pe=()=>$e.current?.click(),nt=async ke=>{ke.preventDefault();const Ye=r,qt=Ze.current?.value?.trim()||De?.trim()||je.current?.suggestedName?.trim()||"",Ct=je.current||Ce;if(!Ye){S("Project not found.");return}if(!qt){S("Please enter a name for the PDF.");return}if(!Ct||!Ct.hash||!Ct.arrayBuffer){S("File data missing. Please close and select the file again.");return}const Ut=qt.toLowerCase().endsWith(".pdf")?qt:`${qt}.pdf`;S(""),g(!0);try{const Oe=new FormData;Oe.append("project",String(Ye)),Oe.append("filename",Ut),Oe.append("color",Se),Oe.append("file",new Blob([Ct.arrayBuffer]),Ut),await an.createWithFile(Oe),await If(Ct.hash,Ut,Ct.size,Ct.arrayBuffer),m.invalidateQueries({queryKey:["documents",Ye]}),P(null),de(""),ae(null),je.current=null,Ke(ga=>ga+1)}catch(Oe){const ga=Oe.response?.data?.detail||typeof Oe.response?.data=="object"&&Object.values(Oe.response?.data||{}).flat().join(" ")||Oe.message||"Upload failed";S(String(ga))}finally{g(!1)}},ee=ke=>{q(ke.id),k(ke.filename||"")},Re=()=>{if(N==null||!E.trim()){q(null);return}Fe.mutate({id:N,filename:E.trim()})},ye=()=>{q(null),k("")},Je=()=>{Z(oe?.name??""),V(!0)},st=()=>{const ke=ge.trim();if(!ke||ke===oe?.name){V(!1);return}dt.mutate({id:r,name:ke})},bt=()=>{V(!1),Z("")},Et=xl(ke=>ke.logout),{data:mn}=Ln({queryKey:["me"],queryFn:async()=>(await Bi.me()).data}),sn=(mn?.email?.[0]||mn?.username?.[0]||"?").toUpperCase(),Dn=oe?.color&&ma.includes(oe.color)?oe.color:oe?ma[oe.id%ma.length]:ma[0];return Ne||!oe?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>c("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{Et(),c("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:sn})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:A?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:ge,onChange:ke=>Z(ke.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:ke=>{ke.key==="Enter"&&st(),ke.key==="Escape"&&bt()}}),o.jsx("button",{type:"button",onClick:st,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:bt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:oe.name})}),!A&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:Je,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>X(!0),disabled:Zt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(Hs,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[lt.length," document",lt.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[ve," annotation",ve!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:ce,onChange:ke=>He(ke.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:pe,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(wo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:$e,type:"file",accept:".pdf",onChange:Ot,className:"hidden","aria-hidden":"true",tabIndex:-1},rt),v&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:v}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Pe?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):lt.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(qi,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(ke=>N===ke.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:E,onChange:Ye=>k(Ye.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Ye=>{Ye.key==="Enter"&&Re(),Ye.key==="Escape"&&ye()}}),o.jsx("button",{type:"button",onClick:Re,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:ye,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-4 h-4"})})]},ke.id):o.jsx(_x,{doc:ke,lensMap:Ft,projectColor:Dn,hovered:le===ke.id,onHover:we,onLeave:()=>we(null),onOpen:Ye=>c(`/document/${Ye}`),onRename:ee,onDelete:Ye=>Ae(Ye)},ke.id))}),lt.length>0&&o.jsxs("div",{onDragOver:ke=>{ke.preventDefault(),ue(!0)},onDragLeave:()=>ue(!1),onDrop:Yn,onClick:pe,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${Y?"#2563eb":"#e2e8f0"}`,background:Y?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:Y?"#dbeafe":"#f1f5f9"},children:o.jsx(wo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:Y?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),ie&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ea,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:ke=>ke.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),Ce?o.jsxs("div",{className:"space-y-4",children:[v&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:v}),o.jsx("input",{ref:Ze,type:"text",value:De,onChange:ke=>de(ke.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:ma.map(ke=>o.jsx("button",{type:"button",onClick:()=>xe(ke),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:ke,borderColor:Se===ke?"#1e293b":"transparent",outline:Se===ke?"2px solid #fff":"none",outlineOffset:-4}},ke))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ea,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:nt,disabled:d||!De.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),be&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ht.isPending&&Ae(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ke=>ke.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:be.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Ae(null),disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>ht.mutate(be.id),disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:ht.isPending?"Deleting":"Delete"})]})]})}),Me&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Zt.isPending&&X(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ke=>ke.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:oe.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>X(!1),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Zt.mutate(r),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Zt.isPending?"Deleting":"Delete project"})]})]})})]})}const bl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},_o=Object.keys(bl);function Ka(r,c=1){if(!r||!r.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(r.slice(1),16),d=m>>16&255,g=m>>8&255,v=m&255;return`rgba(${d},${g},${v},${c})`}function ns(r,c={},m){if(c&&typeof c[r]=="string"&&c[r].trim())return c[r].trim();if(m?.length){const d=m.find(g=>g.key===r);if(d?.display_name)return d.display_name}return bl[r]&&bl[r].name||r}B0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const Cx=()=>typeof window<"u"&&window.devicePixelRatio||1;function Ax(r,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,v=g,S=typeof r.width=="number"&&r.width>0?r.width*d:(r.str?.length||1)*v*.5,N=c[4],q=c[5]-g*.85;return{x:N,y:q,w:S,h:v}}function Ox(r,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),v=[];let S=0,N=-999;const q=4;let E=0;return r.items.forEach(k=>{if(!k.str||k.str.trim()==="")return;const A=U0.transform(c.transform,k.transform),V=Ax(k,A);Math.abs(V.y-N)>q&&(S+=1,N=V.y);const ge=V.h,Z=typeof k.width=="number"&&k.width>0?k.width*m:V.w,ie=k.str.split(/(\s+)/);if(!g||ie.length===0){v.push({id:E++,text:k.str,x:V.x,y:V.y,w:V.w,h:V.h,fontSize:V.h,lineIndex:S});return}g.font=`${ge}px sans-serif`;const P=ie.map(ae=>({text:ae,measured:g.measureText(ae).width,isSpace:/^\s+$/.test(ae)||ae===""})),De=P.reduce((ae,Se)=>ae+Se.measured,0),de=De>0?Z/De:1;let Ce=0;P.forEach(ae=>{const Se=ae.measured*de;if(ae.text===""||ae.isSpace){Ce+=Se;return}v.push({id:E,text:ae.text,x:V.x+Ce,y:V.y,w:Se,h:ge,fontSize:ge,lineIndex:S}),E+=1,Ce+=Se})}),v}function oy(r){const c={};return r.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function Tp(r,c,m){let v=null,S=1/0;for(const N of r){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(c>=N.x-4&&c<=N.x+N.w+4)return N;const k=c<N.x?N.x-c:c-(N.x+N.w);k<S&&k<40&&(S=k,v=N)}return v}function Dx(r){if(!r.length)return"";const c=[];for(let v=1;v<r.length;v++){const S=r[v],N=r[v-1];(S.lineIndex??0)!==(N.lineIndex??0)&&S.y>N.y&&c.push(S.y-N.y)}const m=c.length?[...c].sort((v,S)=>v-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let v=0;v<r.length;v++){const S=r[v];if(v>0){const N=r[v-1],q=(S.lineIndex??0)===(N.lineIndex??0),E=S.y-N.y,k=Math.max(8,(N.h+S.h)/2),A=d!=null?d*1.4:k*1.5,V=!q&&E>=A;q?S.x-(N.x+N.w)>1&&(g+=" "):V?g+=`

`:g+=`
`}g+=S.text}return g.trim()}function Tx(r,c){return r.length?oy(r).map(d=>{const g=Math.min(...d.map(A=>A.x)),v=Math.max(...d.map(A=>A.x+A.w)),S=d.map(A=>A.y),N=S.sort((A,V)=>A-V)[Math.floor(S.length/2)],q=Math.max(...d.map(A=>A.h)),E=2;return{x:(g-1)/c,y:(N-E)/c,width:(v-g+2)/c,height:(q+E+3)/c}}):[]}function Mx({pdfData:r,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:v=null,lensColors:S=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:E,onHighlightHoverEnd:k,onHighlightEdit:A,onHighlightDelete:V}){const[ge,Z]=U.useState(null),[ie,P]=U.useState(0),[De,de]=U.useState(!0);return U.useEffect(()=>{if(!r)return;let Ce=!1;return(async()=>{de(!0);try{const Se=r.slice(0),xe=await q0({data:Se}).promise;Ce||(Z(xe),P(xe.numPages),q?.(xe.numPages))}catch(Se){console.error("Failed to load PDF",Se)}Ce||de(!1)})(),()=>{Ce=!0}},[r,q]),De?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ya,{className:"w-6 h-6 text-slate-400 animate-spin"})}):ge?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:ie},(Ce,ae)=>o.jsx(zx,{pdf:ge,pageNumber:ae+1,scale:c,pageHighlights:m.filter(Se=>Se.page_number===ae+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:v,lensColors:S,onSelectionComplete:N,onHighlightHover:E,onHighlightHoverEnd:k,onHighlightEdit:A,onHighlightDelete:V},ae))}):null}function zx({pdf:r,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:v,selectionForPicker:S,lensColors:N=[],onSelectionComplete:q,onHighlightHover:E,onHighlightHoverEnd:k,onHighlightEdit:A,onHighlightDelete:V}){const ge=U.useRef(null),Z=U.useRef(null),ie=U.useRef(null),P=U.useRef(null),[De,de]=U.useState({width:0,height:0}),[Ce,ae]=U.useState([]),[Se,xe]=U.useState(null),[je,Ze]=U.useState(null),[$e,rt]=U.useState(!1),Ke=U.useRef(null),le=U.useRef(null),we=U.useCallback(()=>{le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{k?.(),le.current=null},1e3)},[k]),ce=U.useCallback(X=>{le.current&&(clearTimeout(le.current),le.current=null),E?.(X)},[E]);U.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]),U.useEffect(()=>{let X=!1;return(async()=>{const Ne=await r.getPage(c),Be=Cx(),Pe=Ne.getViewport({scale:m}),lt=Ne.getViewport({scale:m*Be}),vt=Z.current;if(!vt||X)return;const Ft=vt.getContext("2d",{alpha:!1});Ft.imageSmoothingEnabled=!0,Ft.imageSmoothingQuality="high",vt.width=lt.width,vt.height=lt.height,vt.style.width=`${Pe.width}px`,vt.style.height=`${Pe.height}px`,de({width:Pe.width,height:Pe.height}),await Ne.render({canvasContext:Ft,viewport:lt}).promise;const dn=await Ne.getTextContent();if(X)return;const ve=Ox(dn,Pe,m);ae(ve);const dt=ie.current;!dt||X||(dt.innerHTML="",dt.style.width=`${Pe.width}px`,dt.style.height=`${Pe.height}px`,ve.forEach(Fe=>{const ht=document.createElement("span");ht.textContent=Fe.text,ht.style.position="absolute",ht.style.left=`${Fe.x}px`,ht.style.top=`${Fe.y}px`,ht.style.width=`${Fe.w}px`,ht.style.height=`${Fe.h}px`,ht.style.fontSize=`${Fe.fontSize}px`,ht.style.fontFamily="sans-serif",ht.style.color="transparent",ht.style.whiteSpace="pre",ht.style.pointerEvents="none",ht.style.lineHeight="1",dt.appendChild(ht)}))})(),()=>{X=!0}},[r,c,m]);const He=U.useMemo(()=>{if(S&&S.pageNumber===c){const Ne=Math.min(S.spanStart,S.spanEnd),Be=Math.max(S.spanStart,S.spanEnd);return Ce.filter(Pe=>Pe.id>=Ne&&Pe.id<=Be)}if(Se==null||je==null)return[];const X=Math.min(Se,je),oe=Math.max(Se,je);return Ce.filter(Ne=>Ne.id>=X&&Ne.id<=oe)},[Ce,S,c,Se,je]);U.useEffect(()=>{S===null&&Ke.current?.pageNumber===c&&(xe(null),Ze(null)),Ke.current=S},[S,c]);const Y=U.useCallback((X,oe)=>{const Ne=ge.current?.getBoundingClientRect();return Ne?{x:X-Ne.left,y:oe-Ne.top}:{x:0,y:0}},[]),ue=U.useCallback(X=>{if(X.button!==0||!Ce.length)return;const{x:oe,y:Ne}=Y(X.clientX,X.clientY),Be=Tp(Ce,oe,Ne);Be?(xe(Be.id),Ze(Be.id),rt(!0)):(xe(null),Ze(null))},[Ce,Y]),be=U.useCallback(X=>{if(!$e)return;const{x:oe,y:Ne}=Y(X.clientX,X.clientY),Be=Tp(Ce,oe,Ne);Be&&Ze(Be.id)},[$e,Ce,Y]),Ae=U.useCallback(X=>{if(X.button!==0||!$e)return;if(rt(!1),He.length<2){xe(null),Ze(null);return}if(!q)return;const oe=ge.current?.getBoundingClientRect();if(!oe)return;const Ne={rects:Tx(He,m)},Be=Dx(He),Pe=He[He.length-1],lt={x:oe.left+(Pe.x+Pe.w/2),y:oe.top+(Pe.y-8)};q({pageNumber:c,position_data:Ne,highlighted_text:Be,spanStart:Math.min(Se,je),spanEnd:Math.max(Se,je),pickerPosition:lt})},[$e,He,Se,je,m,c,q]);U.useEffect(()=>{const X=P.current||ge.current;if(X)return X.addEventListener("mousedown",ue),X.addEventListener("mousemove",be),X.addEventListener("mouseup",Ae),X.addEventListener("mouseleave",Ae),()=>{X.removeEventListener("mousedown",ue),X.removeEventListener("mousemove",be),X.removeEventListener("mouseup",Ae),X.removeEventListener("mouseleave",Ae)}},[ue,be,Ae]);const Me=U.useMemo(()=>oy(He),[He]);return o.jsxs("div",{ref:ge,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:De.width||0,height:De.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:Z,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:P,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(X=>{const oe=X.position_data?.rects||[],Ne=(N??[]).find(dt=>dt.key===X.color),Be=bl[X.color]||bl.yellow,Pe=Ne?.hex??Be?.hex??Be?.solid,lt=g!=null&&String(X.id)===String(g),vt=v!=null&&String(X.id)===String(v),Ft=lt||vt?Ka(Pe,.38):Ka(Pe,.18),dn=A||V;let ve=null;if(oe.length>0){const dt=Math.min(...oe.map(Ot=>Ot.x))*m,Fe=Math.min(...oe.map(Ot=>Ot.y))*m,ht=Math.max(...oe.map(Ot=>(Ot.x||0)+(Ot.width||0)))*m,Zt=Math.max(...oe.map(Ot=>(Ot.y||0)+(Ot.height||4)))*m;ve={left:dt,top:Fe,width:ht-dt,height:Zt-Fe}}return ve?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:ve.left,top:ve.top,width:ve.width,height:ve.height,pointerEvents:"auto"},onMouseEnter:()=>ce(X.id),onMouseLeave:we,children:[oe.map((dt,Fe)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(dt.x||0)*m-ve.left,top:(dt.y||0)*m-ve.top,width:Math.max(0,(dt.width||0)*m),height:Math.max(4,(dt.height||0)*m),backgroundColor:Ft,pointerEvents:"none"}},Fe)),dn&&lt&&ve&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>ce(X.id),onMouseLeave:we,children:[A&&o.jsx("button",{type:"button",onClick:dt=>{dt.stopPropagation(),A(X.id,dt)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(To,{className:"w-3.5 h-3.5",strokeWidth:2})}),V&&o.jsx("button",{type:"button",onClick:dt=>{dt.stopPropagation(),V(X.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Hs,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},X.id):null}),Me.map((X,oe)=>{const Ne=Math.min(...X.map(ve=>ve.x)),Be=Math.max(...X.map(ve=>ve.x+ve.w)),Pe=X.map(ve=>ve.y).sort((ve,dt)=>ve-dt),lt=Pe[Math.floor(Pe.length/2)],vt=Math.max(...X.map(ve=>ve.h)),Ft=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${Ne-1}px`,top:`${lt-Ft}px`,width:`${Be-Ne+2}px`,height:`${vt+Ft+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},oe)})]}),o.jsx("div",{ref:ie,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function kx({highlights:r,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:v,onHighlightClick:S,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:E,documentId:k,onHighlightNoteUpdate:A,onHighlightDelete:V,openEditForHighlightId:ge,onClearOpenEditForHighlightId:Z}){const ie=m?.length>0?m.map(ce=>ce.key):d?.length>0?d:_o,[P,De]=U.useState("all"),[de,Ce]=U.useState(!1),[ae,Se]=U.useState(""),[xe,je]=U.useState(null),[Ze,$e]=U.useState("");U.useEffect(()=>{if(ge==null||!r?.length)return;const ce=r.find(He=>String(He.id)===String(ge));ce&&(je(ce.id),$e(ce.note?.content??"")),Z?.()},[ge,r,Z]);const rt=U.useMemo(()=>{let ce=r||[];if(P!=="all"&&(ce=ce.filter(He=>He.color===P)),ae.trim()){const He=ae.trim().toLowerCase();ce=ce.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(He)||Y.note?.content&&Y.note.content.toLowerCase().includes(He))}return ce},[r,P,ae]),Ke=ce=>{je(ce.id),$e(ce.note?.content??"")},le=async()=>{if(xe==null||!k||!A){je(null);return}await A(xe,Ze.trim()||""),je(null)},we=()=>{je(null),$e("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${In.default} ${Na.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${In.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Ve.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Ve.muted} mb-4`,children:[rt.length," highlight",rt.length!==1?"s":"",r?.length!==rt.length&&` of ${r?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{De("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${P==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Ve.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ce(ce=>!ce),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Ve.secondary} hover:text-slate-800 transition-colors`,children:[de?o.jsx(Xr,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(bo,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!de&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:ie.map(ce=>{const He=(r||[]).filter(X=>X.color===ce).length,Y=bl[ce],be=m?.find(X=>X.key===ce)?.hex??Y?.hex??Y?.solid??"#94a3b8",Ae=ns(ce,c,m),Me=P===ce;return o.jsxs("button",{type:"button",onClick:()=>{De(Me?"all":ce),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${Me?"border-transparent":`border-slate-200 ${Ve.secondary} hover:bg-slate-50`}`,style:Me?{backgroundColor:`${be}25`,color:be}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:be,opacity:1}}),o.jsx("span",{children:Ae}),o.jsxs("span",{className:Me?"opacity-80":Ve.muted,children:["(",He,")"]})]},ce)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:ae,onChange:ce=>Se(ce.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${In.default} rounded-lg bg-slate-50 outline-none ${Ve.body} placeholder:${Ve.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:r?.length?rt.length?o.jsx("ul",{className:"space-y-1.5",children:rt.map(ce=>{const He=bl[ce.color]||bl.yellow,ue=m?.find(Me=>Me.key===ce.color)?.hex??He?.hex??He?.solid??"#94a3b8",be=ce.note?.content,Ae=g!=null&&String(ce.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ae?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(ce.id),v?.(ce.page_number)},onKeyDown:Me=>{Me.target.tagName==="TEXTAREA"||Me.target.tagName==="INPUT"||Me.target.isContentEditable||(Me.key==="Enter"||Me.key===" ")&&(Me.preventDefault(),S?.(ce.id),v?.(ce.page_number))},onMouseEnter:()=>N?.(ce.id),onMouseLeave:q,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:ue,opacity:Ae?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Ve.body} whitespace-pre-wrap`,children:ce.highlighted_text||"(No text captured)"})})]}),xe===ce.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Ze,onChange:Me=>$e(Me.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${In.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ve.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:le,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:we,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[be&&o.jsx("p",{className:`text-[11.5px] ${Ve.muted} mt-2 pl-3.5 leading-snug italic`,children:be}),k&&A&&o.jsx("button",{type:"button",onClick:()=>Ke(ce),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:be?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:ue,backgroundColor:`${ue}12`},children:ns(ce.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",ce.page_number]}),k&&V&&o.jsx("button",{type:"button",onClick:Me=>{Me.stopPropagation(),V(ce.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Hs,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},ce.id)})}):o.jsx("div",{className:`py-6 text-center ${Ve.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Ve.muted} text-sm`,children:[o.jsx(qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Qf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Rx(r,c){return r?.length?[...r].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Qf.find(d=>d.colorKey===m)).filter(Boolean):Qf}function Bx({position:r,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:v=[]}){const S=U.useRef(null),N=U.useRef(null),[q,E]=U.useState(null),[k,A]=U.useState(""),[V,ge]=U.useState(!1),[Z,ie]=U.useState(!1),P=U.useMemo(()=>Rx(v,g),[v,g]),De=P.length>0?P:Qf,de=U.useCallback(xe=>ns(xe,d,v),[d,v]);U.useEffect(()=>{V&&N.current&&N.current.focus()},[V]);const Ce=U.useCallback(xe=>{E(xe.colorKey),V||(c(xe.colorKey,""),m())},[V,c,m]),ae=U.useCallback(()=>{q&&(c(q,k.trim()||void 0),m())},[q,k,c,m]);if(U.useEffect(()=>{const xe=je=>{if(je.key==="Escape"){m();return}if(!V){const Ze=parseInt(je.key,10);if(Ze>=1&&Ze<=De.length){const $e=De[Ze-1];$e&&Ce($e)}}V&&je.key==="Enter"&&(je.metaKey||je.ctrlKey)&&(je.preventDefault(),ae())};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[V,q,k,m,Ce,ae,De]),U.useEffect(()=>{const xe=je=>{S.current&&!S.current.contains(je.target)&&m()};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[m]),U.useEffect(()=>{A(""),E(null),ge(!1),ie(!1)},[r]),!r)return null;const Se=q?De.find(xe=>xe.colorKey===q):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:r.x,top:r.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:Z?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:Se?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:V?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[De.map((xe,je)=>o.jsx("button",{type:"button",onClick:()=>Ce(xe),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===xe.colorKey?`${xe.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:xe.color,boxShadow:q===xe.colorKey?`0 0 0 2px ${xe.color}80`:"none",transform:q===xe.colorKey?"scale(1.15)":"scale(1)"}})},xe.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>ge(!V),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${V?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:V?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:V?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:V?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:V?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),V&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!Se&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),Se&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:Se.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:de(Se.colorKey)})]}),o.jsx("textarea",{ref:N,value:k,onChange:xe=>A(xe.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:ae,disabled:!Se,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const qx=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Mp=5;function Ux({lens:r,documentId:c,onClose:m}){const d=Ui(),g=r?.colors??[],v=!r||r.is_system,[S,N]=U.useState(null),[q,E]=U.useState(""),k=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},A=An({mutationFn:de=>pa.addColor(r.id,de),onSuccess:()=>{k(),N(null),E("")}}),V=An({mutationFn:de=>pa.removeColor(r.id,de),onSuccess:k}),ge=An({mutationFn:({colorId:de,data:Ce})=>pa.updateColor(r.id,de,Ce),onSuccess:k}),Z=new Set(g.map(de=>de.hex.toLowerCase())),ie=qx.filter(de=>!Z.has(de.toLowerCase())),P=()=>{!S||!q.trim()||A.mutate({key:`custom_${Date.now()}`,display_name:q.trim(),hex:S})},De=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Na.surface} rounded-xl shadow-xl border ${In.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:de=>de.stopPropagation(),onMouseDown:de=>de.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Ve.heading}`,children:"Edit lens"}),r&&o.jsx("p",{className:`text-xs ${Ve.muted} mt-0.5`,children:r.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:v?o.jsx("p",{className:`text-sm ${Ve.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Ve.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Mp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(de=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:de.hex}}),o.jsx("input",{type:"text",defaultValue:de.display_name,placeholder:"Label",onBlur:Ce=>{const ae=Ce.target.value.trim();ae&&ae!==de.display_name&&ge.mutate({colorId:de.id,data:{display_name:ae}})},className:`flex-1 min-w-0 rounded-lg border ${In.default} px-2.5 py-1.5 text-sm ${Ve.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>V.mutate(de.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:V.isPending,children:o.jsx(as,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},de.id))}),o.jsx("p",{className:`text-xs ${Ve.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Mp&&ie.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:q,onChange:de=>E(de.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:de=>{de.key==="Enter"&&P()},className:`flex-1 min-w-0 rounded-lg border ${In.default} px-2.5 py-1.5 text-sm ${Ve.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{N(null),E("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:P,disabled:!q.trim()||A.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:A.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Ve.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(de=>o.jsx("button",{type:"button",onClick:()=>{N(de),E("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:de}},de))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?De:z0.createPortal(De,document.body)}function Hx({position:r,initialValue:c="",onSave:m,onClose:d}){const[g,v]=U.useState(c),S=U.useRef(null),N=U.useRef(null);return U.useEffect(()=>{v(c)},[c,r]),U.useEffect(()=>{N.current?.focus()},[r]),U.useEffect(()=>{const q=E=>{E.key==="Escape"&&d(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,d]),U.useEffect(()=>{const q=E=>{S.current&&!S.current.contains(E.target)&&d()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[d]),r?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:r.x,top:r.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:N,value:g,onChange:q=>v(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Lx(){const{id:r}=Xf(),c=ls(),m=Ui(),[d,g]=U.useState(null),[v,S]=U.useState(!1),[N,q]=U.useState(!0),[E,k]=U.useState(1.3),[A,V]=U.useState(!0),[ge,Z]=U.useState(null),[ie,P]=U.useState(null),[De,de]=U.useState(null),[Ce,ae]=U.useState(null),[Se,xe]=U.useState(null),[je,Ze]=U.useState(0),[$e,rt]=U.useState(1),[Ke,le]=U.useState(!1),[we,ce]=U.useState(null),[He,Y]=U.useState(null),[ue,be]=U.useState(null),{data:Ae,isLoading:Me,isError:X}=Ln({queryKey:["document",r],queryFn:async()=>{const{data:pe}=await an.get(r);return pe},enabled:!!r});U.useEffect(()=>{if(!Ae||!r)return;let pe=!1;return(async()=>{q(!0);try{const ee=await wx(Ae);pe||(ee?g(ee.data):S(!0))}finally{pe||q(!1)}})(),()=>{pe=!0}},[Ae,r]);const{data:oe=[]}=Ln({queryKey:["highlights",r],queryFn:async()=>{const{data:pe}=await an.highlights(r);return pe},enabled:!!r}),{data:Ne=[]}=Ln({queryKey:["lenses"],queryFn:async()=>{const{data:pe}=await pa.list();return pe}}),Be=U.useMemo(()=>Ne.length?Ae?.highlight_preset!=null?Ne.find(pe=>pe.id===Ae.highlight_preset)??null:Ne.find(pe=>pe.is_system)??Ne[0]??null:null,[Ne,Ae?.highlight_preset]),Pe=U.useMemo(()=>Be?.colors??Ae?.highlight_preset_detail?.colors??[],[Be?.colors,Ae?.highlight_preset_detail?.colors]),lt=U.useMemo(()=>{if(Pe?.length)return Pe.map(nt=>nt.key);const pe=Object.keys(Ae?.color_labels||{});return pe.length>0?pe:[..._o]},[Pe,Ae?.color_labels]),vt=An({mutationFn:({documentId:pe,payload:nt})=>an.update(pe,nt),onSuccess:(pe,{documentId:nt})=>{m.invalidateQueries({queryKey:["document",nt]})}}),Ft=U.useCallback(async pe=>{if(!r)return;const nt=`_opt_${Date.now()}`,ee={id:nt,page_number:pe.page_number,position_data:pe.position_data,highlighted_text:pe.highlighted_text,color:pe.color,note:pe.comment?{id:nt,content:pe.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",r],(Re=[])=>[...Re,ee]),de(null),ae(null),xe(null);try{await an.createHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]})}catch(Re){console.error("Failed to save highlight",Re),m.setQueryData(["highlights",r],(ye=[])=>ye.filter(Je=>Je.id!==nt))}},[r,m]),dn=U.useCallback(pe=>{de({page_number:pe.pageNumber,position_data:pe.position_data,highlighted_text:pe.highlighted_text}),ae(pe.pickerPosition),xe({pageNumber:pe.pageNumber,spanStart:pe.spanStart,spanEnd:pe.spanEnd})},[]),ve=U.useCallback((pe,nt)=>{De&&Ft({...De,color:pe,comment:nt})},[De,Ft]),dt=U.useCallback(()=>{de(null),ae(null),xe(null)},[]),Fe=U.useCallback(pe=>{rt(pe),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${pe}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),ht=U.useCallback(pe=>{P(nt=>nt!=null&&String(nt)===String(pe)?null:pe)},[]),Zt=U.useCallback(pe=>Ze(pe??0),[]),Ot=U.useCallback(()=>{if($e<=1)return;const pe=$e-1;rt(pe),Fe(pe)},[$e,Fe]),Yn=U.useCallback(()=>{if($e>=je)return;const pe=$e+1;rt(pe),Fe(pe)},[$e,je,Fe]),ea=async pe=>{const nt=pe.target.files?.[0];if(!nt||!Ae||!r)return;const ee=await nt.arrayBuffer(),Re=await Kf(ee);if(Re!==Ae.pdf_hash){alert("This file does not match the original document.");return}try{const ye=new FormData;ye.append("file",new Blob([ee],{type:"application/pdf"}),nt.name||Ae.filename||"document.pdf"),await an.uploadPdf(r,ye)}catch(ye){const Je=ye.response?.data?.detail??ye.message??"Upload failed";alert(typeof Je=="string"?Je:JSON.stringify(Je));return}await If(Re,Ae.filename||nt.name,nt.size,ee),g(ee),S(!1)};return r?Me||N?o.jsx("div",{className:`${qs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ve.muted} animate-spin`})}):X||!Ae&&!Me?o.jsxs("div",{className:`${qs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ve.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Ae?.project?`/project/${Ae.project}`:"/"),className:Yr,children:"Back to project"})]}):v?o.jsxs("div",{className:`${qs} flex flex-col items-center justify-center`,children:[o.jsx(wo,{className:`w-12 h-12 ${Ve.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Ve.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:Ae?.filename}),"."]}),o.jsxs("label",{className:`${Yr} inline-flex items-center gap-2`,children:[o.jsx(wo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ea,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(Ae?.project?`/project/${Ae.project}`:"/"),className:`mt-4 text-sm ${Ve.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${Na.page} overflow-hidden`,children:[o.jsxs("header",{className:`${sy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Ae?.project?`/project/${Ae.project}`:"/"),className:ki,title:"Back to project",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Ve.heading} truncate max-w-xs`,children:Ae?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Ne.length>0&&o.jsx("select",{value:Ae?.highlight_preset!=null?String(Ae.highlight_preset):Ne.find(pe=>pe.is_system)?.id??"",onChange:pe=>{const nt=pe.target.value,ee=nt===""?null:Number(nt);r&&(oe.length>0?be(ee):vt.mutate({documentId:r,payload:{highlight_preset:ee}}))},className:`text-xs rounded-lg border ${In.default} ${Na.surface} py-1.5 pl-2 pr-7 ${Ve.body} cursor-pointer max-w-44`,title:"Highlight lens",children:Ne.map(pe=>o.jsx("option",{value:pe.id,children:pe.name},pe.id))}),o.jsx("button",{type:"button",onClick:()=>le(!0),className:ki,title:"Edit lens",children:o.jsx(rx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${r}/summary`),className:ki,title:"Summary",children:o.jsx(Fb,{className:"w-4 h-4"})}),o.jsx("div",{className:wp}),o.jsxs("div",{className:`flex items-center gap-1 ${Na.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>k(pe=>Math.max(.5,pe-.1)),className:`p-1.5 ${Ve.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(mx,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Ve.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>k(pe=>Math.min(3,pe+.1)),className:`p-1.5 ${Ve.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(dx,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:wp}),o.jsx("button",{type:"button",onClick:()=>V(pe=>!pe),className:ki,title:A?"Close annotations":"Open annotations",children:A?o.jsx(ex,{className:"w-4 h-4"}):o.jsx(nx,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(Mx,{pdfData:d,scale:E,highlights:oe,hoveredHighlightId:ge,activeHighlightId:ie,selectionForPicker:Se,lensColors:Pe,onSelectionComplete:dn,onNumPages:Zt,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onHighlightEdit:(pe,nt)=>{const ee=nt?.target?.getBoundingClientRect?.();ee?Y({highlightId:pe,x:ee.left+ee.width/2,y:ee.bottom}):(ce(pe),V(!0))},onHighlightDelete:async pe=>{if(!r)return;const nt=m.getQueryData(["highlights",r]);m.setQueryData(["highlights",r],(ee=[])=>ee.filter(Re=>String(Re.id)!==String(pe))),String(ie)===String(pe)&&P(null),String(ge)===String(pe)&&Z(null);try{await an.deleteHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]})}catch(ee){console.error("Failed to delete highlight",ee),m.setQueryData(["highlights",r],nt)}}}),Ce&&o.jsx(Bx,{position:Ce,onSelect:ve,onClose:dt,colorLabels:Ae?.color_labels,documentColorKeys:lt,lensColors:Pe}),He&&o.jsx(Hx,{position:{x:He.x,y:He.y},initialValue:(oe||[]).find(pe=>String(pe.id)===String(He.highlightId))?.note?.content??"",onSave:async pe=>{r&&(await an.updateHighlight(r,He.highlightId,{note:pe}),m.invalidateQueries({queryKey:["highlights",r]}),Y(null))},onClose:()=>Y(null)}),Ke&&o.jsx(Ux,{lens:Be,documentId:r,onClose:()=>le(!1)}),ue!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>be(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:pe=>pe.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:oe.length})," highlight",oe.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>be(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const pe=ue;be(null);for(const nt of oe)await an.deleteHighlight(r,nt.id);m.invalidateQueries({queryKey:["highlights",r]}),P(null),Z(null),vt.mutate({documentId:r,payload:{highlight_preset:pe}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),A&&o.jsx(kx,{highlights:oe,colorLabels:Ae?.color_labels,lensColors:Pe,documentColorKeys:lt,activeHighlightId:ie,onScrollToPage:Fe,onHighlightClick:ht,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onClearActive:()=>P(null),documentId:r,openEditForHighlightId:we,onClearOpenEditForHighlightId:()=>ce(null),onHighlightNoteUpdate:async(pe,nt)=>{r&&(await an.updateHighlight(r,pe,{note:nt}),m.invalidateQueries({queryKey:["highlights",r]}))},onHighlightDelete:async pe=>{r&&(await an.deleteHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]}),String(ie)===String(pe)&&P(null),String(ge)===String(pe)&&Z(null))}})]}),je>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${A?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:Ot,disabled:$e<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",$e," of ",je]}),o.jsx("button",{type:"button",onClick:Yn,disabled:$e>=je,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const Kx="modulepreload",Qx=function(r){return"/static/frontend/"+r},zp={},mo=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let q=function(E){return Promise.all(E.map(k=>Promise.resolve(k).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),N=S?.nonce||S?.getAttribute("nonce");g=q(m.map(E=>{if(E=Qx(E),E in zp)return;zp[E]=!0;const k=E.endsWith(".css"),A=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${A}`))return;const V=document.createElement("link");if(V.rel=k?"stylesheet":Kx,k||(V.as="script"),V.crossOrigin="",V.href=E,N&&V.setAttribute("nonce",N),document.head.appendChild(V),k)return new Promise((ge,Z)=>{V.addEventListener("load",ge),V.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${E}`)))})}))}function v(S){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=S,window.dispatchEvent(N),!N.defaultPrevented)throw S}return g.then(S=>{for(const N of S||[])N.status==="rejected"&&v(N.reason);return c().catch(v)})};function Yf(r,c){return c?.find(m=>m.key===r)?.hex??bl[r]?.hex??"#94a3b8"}function Mf({highlight:r,selected:c,onToggleSelect:m,lensColors:d,colorLabels:g,editingNoteId:v,editingNoteValue:S,onStartEdit:N,onSaveNote:q,onCancelEdit:E,onEditValueChange:k,onCopy:A,onDelete:V}){const ge=r.color,Z=Yf(ge,d),ie=ns(ge,g,d),P=v===r.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${c?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:()=>m(r.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Ve.body} whitespace-pre-wrap`,children:r.highlighted_text||"(No text captured)"}),P?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:De=>k(De.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${In.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ve.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>q(r.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(jo,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:E,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[r.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Ve.muted} mt-2 leading-snug italic`,children:r.note.content}),o.jsxs("button",{type:"button",onClick:()=>N(r),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(To,{className:"w-3 h-3"}),r.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:Z,backgroundColor:Ka(Z,.08)},children:ie}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",r.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>A(r),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(Jf,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>V(r.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(Hs,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Yx(){const{id:r}=Xf(),c=ls(),m=Ui(),[d,g]=U.useState("sequence"),[v,S]=U.useState(""),[N,q]=U.useState(new Set),[E,k]=U.useState(new Set),[A,V]=U.useState(()=>new Set),[ge,Z]=U.useState(!1),[ie,P]=U.useState(!1),[De,de]=U.useState(null),[Ce,ae]=U.useState(!1),[Se,xe]=U.useState(!1),[je,Ze]=U.useState(null),[$e,rt]=U.useState(""),{data:Ke,isLoading:le,isError:we}=Ln({queryKey:["document",r],queryFn:async()=>{const{data:ee}=await an.get(r);return ee},enabled:!!r}),{data:ce=[]}=Ln({queryKey:["highlights",r],queryFn:async()=>{const{data:ee}=await an.highlights(r);return ee},enabled:!!r}),{data:He=[]}=Ln({queryKey:["lenses"],queryFn:async()=>{const{data:ee}=await pa.list();return ee}}),Y=U.useMemo(()=>He.length?Ke?.highlight_preset!=null?He.find(ee=>ee.id===Ke.highlight_preset)??null:He.find(ee=>ee.is_system)??He[0]??null:null,[He,Ke?.highlight_preset]),ue=U.useMemo(()=>Y?.colors??Ke?.highlight_preset_detail?.colors??[],[Y?.colors,Ke?.highlight_preset_detail?.colors]),be=U.useMemo(()=>{if(ue?.length)return ue.map(Re=>Re.key);const ee=Object.keys(Ke?.color_labels||{});return ee.length>0?ee:[..._o]},[ue,Ke?.color_labels]);An({mutationFn:({documentId:ee,highlightId:Re})=>an.deleteHighlight(ee,Re),onSuccess:(ee,{documentId:Re})=>{m.invalidateQueries({queryKey:["highlights",Re]})}});const Ae=An({mutationFn:({documentId:ee,highlightId:Re,note:ye})=>an.updateHighlight(ee,Re,{note:ye}),onSuccess:(ee,{documentId:Re})=>{m.invalidateQueries({queryKey:["highlights",Re]})}}),Me=U.useMemo(()=>{let ee=ce||[];const Re=v.trim().toLowerCase();return Re&&(ee=ee.filter(ye=>ye.highlighted_text&&ye.highlighted_text.toLowerCase().includes(Re)||ye.note?.content&&ye.note.content.toLowerCase().includes(Re))),N.size>0&&(ee=ee.filter(ye=>N.has(ye.color))),ee},[ce,v,N]),X=U.useMemo(()=>Me,[Me]),oe=U.useMemo(()=>{const ee={};for(const Re of Me){const ye=Re.color??"uncategorized";ee[ye]||(ee[ye]=[]),ee[ye].push(Re)}return ee},[Me]),Ne=U.useMemo(()=>{const ee={};for(const ye of Me){const Je=`page-${ye.page_number??0}`;ee[Je]||(ee[Je]=[]),ee[Je].push(ye)}return Object.keys(ee).sort((ye,Je)=>parseInt(ye.replace("page-",""),10)-parseInt(Je.replace("page-",""),10)).map(ye=>({key:ye,page:parseInt(ye.replace("page-",""),10),items:ee[ye]}))},[Me]),Be=U.useCallback(ee=>{q(Re=>{const ye=new Set(Re);return ye.has(ee)?ye.delete(ee):ye.add(ee),ye})},[]),Pe=U.useCallback(ee=>{k(Re=>{const ye=new Set(Re);return ye.has(ee)?ye.delete(ee):ye.add(ee),ye})},[]),lt=U.useCallback(ee=>{V(Re=>{const ye=new Set(Re),Je=String(ee);return ye.has(Je)?ye.delete(Je):ye.add(Je),ye})},[]),vt=U.useCallback(async()=>{const Re=ce.filter(ye=>A.has(String(ye.id))).map(ye=>`${ye.highlighted_text||""}${ye.note?.content?`
  Note: ${ye.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(Re),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(ye){console.error("Failed to copy",ye)}},[ce,A]),Ft=U.useCallback(async()=>{r&&ae(!0)},[r]),dn=U.useCallback(async()=>{if(r){xe(!0);try{for(const ee of A)await an.deleteHighlight(r,ee);m.invalidateQueries({queryKey:["highlights",r]}),V(new Set),ae(!1)}catch(ee){console.error("Failed to delete highlights",ee)}finally{xe(!1)}}},[r,A,m]),ve=U.useCallback(()=>{const ee={filename:Ke?.filename,exportedAt:new Date().toISOString(),highlights:Me.map(st=>({id:st.id,page_number:st.page_number,color:st.color,highlighted_text:st.highlighted_text,note:st.note?.content,created_at:st.created_at,updated_at:st.updated_at}))},Re=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),ye=URL.createObjectURL(Re),Je=window.document.createElement("a");Je.href=ye,Je.download=`${(Ke?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,Je.click(),URL.revokeObjectURL(ye),P(!1)},[Ke?.filename,Me]),dt=U.useCallback(async()=>{try{const{Document:ee,Packer:Re,Paragraph:ye,TextRun:Je}=await mo(async()=>{const{Document:sn,Packer:Dn,Paragraph:ke,TextRun:Ye}=await import("./index-CMhXIFeh.js");return{Document:sn,Packer:Dn,Paragraph:ke,TextRun:Ye}},[]),{saveAs:st}=await mo(async()=>{const{saveAs:sn}=await import("./FileSaver.min-rgW_m_5v.js").then(Dn=>Dn.F);return{saveAs:sn}},__vite__mapDeps([0,1])),bt=[new ye({children:[new Je({text:Ke?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const sn of Me){const Dn=ns(sn.color,Ke?.color_labels,ue);bt.push(new ye({children:[new Je({text:`[${Dn}] p.${sn.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new ye({children:[new Je({text:sn.highlighted_text||"",size:22})],spacing:{after:60}})),sn.note?.content&&bt.push(new ye({children:[new Je({text:`Note: ${sn.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ee({sections:[{children:bt}]}),mn=await Re.toBlob(Et);st(mn,`${(Ke?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),P(!1)}catch(ee){console.error("Export docx failed",ee)}},[Ke?.filename,Ke?.color_labels,Me,ue]),Fe=U.useCallback(async()=>{try{const{jsPDF:ee}=await mo(async()=>{const{jsPDF:bt}=await import("./jspdf.es.min-CaNXG5Jt.js").then(Et=>Et.j);return{jsPDF:bt}},[]),{saveAs:Re}=await mo(async()=>{const{saveAs:bt}=await import("./FileSaver.min-rgW_m_5v.js").then(Et=>Et.F);return{saveAs:bt}},__vite__mapDeps([0,1])),ye=new ee;let Je=20;ye.setFontSize(16),ye.text(Ke?.filename??"Document Summary",20,Je),Je+=12;for(const bt of Me){const Et=ns(bt.color,Ke?.color_labels,ue);Je>270&&(ye.addPage(),Je=20),ye.setFontSize(10),ye.setFont(void 0,"bold"),ye.text(`[${Et}] p.${bt.page_number}`,20,Je),Je+=6,ye.setFont(void 0,"normal");const mn=ye.splitTextToSize(bt.highlighted_text||"",170);ye.text(mn,20,Je),Je+=mn.length*5+4,bt.note?.content&&(ye.setFont(void 0,"italic"),ye.text(`Note: ${bt.note.content}`,20,Je),Je+=6,ye.setFont(void 0,"normal")),Je+=8}const st=ye.output("blob");Re(st,`${(Ke?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),P(!1)}catch(ee){console.error("Export pdf failed",ee)}},[Ke?.filename,Ke?.color_labels,Me,ue]),ht=ee=>{Ze(ee.id),rt(ee.note?.content??"")},Zt=ee=>{r&&(Ae.mutate({documentId:r,highlightId:ee,note:$e.trim()||""}),Ze(null),rt(""))},Ot=()=>{Ze(null),rt("")},Yn=ee=>{const Re=`${ee.highlighted_text||""}${ee.note?.content?`
  Note: ${ee.note.content}`:""}`;navigator.clipboard?.writeText(Re).catch(console.error)},ea=ee=>{de(ee)},pe=U.useCallback(async()=>{!r||!De||(await an.deleteHighlight(r,De),m.invalidateQueries({queryKey:["highlights",r]}),V(ee=>{const Re=new Set(ee);return Re.delete(String(De)),Re}),de(null))},[r,De,m]);if(!r)return c("/",{replace:!0}),null;if(le)return o.jsx("div",{className:`${qs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ve.muted} animate-spin`})});if(we||!Ke&&!le)return o.jsxs("div",{className:`${qs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ve.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Ke?.project?`/project/${Ke.project}`:"/"),className:Yr,children:"Back to project"})]});const nt=ue?.length>0?ue.map(ee=>ee.key):be?.length>0?be:_o;return o.jsxs("div",{className:`min-h-screen ${Na.page}`,children:[o.jsx("header",{className:`${sy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Ke?.project?`/project/${Ke.project}`:`/document/${r}`),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Ve.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Ve.muted} truncate max-w-xs`,children:Ke?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ee,label:Re})=>o.jsx("button",{type:"button",onClick:()=>g(ee),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ee?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Ve.secondary} hover:text-slate-700`}`,children:Re},ee))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:v,onChange:ee=>S(ee.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${In.default} rounded-lg ${Na.surface} outline-none ${Ve.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>P(ee=>!ee),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${In.default} ${Na.surface} hover:bg-slate-50 ${Ve.body}`,children:["Export",o.jsx(bo,{className:"w-4 h-4"})]}),ie&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>P(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${In.default} ${Na.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:dt,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qi,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Fe,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Gb,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:ve,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),A.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Ve.secondary}`,children:[A.size," selected"]}),o.jsxs("button",{type:"button",onClick:vt,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(Jf,{className:"w-3.5 h-3.5"}),ge?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Ft,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(Hs,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>V(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:nt.map(ee=>{const Re=(ce||[]).filter(bt=>bt.color===ee).length;if(!Re)return null;const ye=Yf(ee,ue),Je=ns(ee,Ke?.color_labels,ue),st=N.size===0||N.has(ee);return o.jsxs("button",{type:"button",onClick:()=>Be(ee),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:st?ye:"#E2E8F0",background:st?Ka(ye,.08):"#fff",opacity:st?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ye}}),o.jsx("span",{children:Je}),o.jsxs("span",{className:"opacity-80",children:["(",Re,")"]})]},ee)})}),o.jsx("div",{className:"space-y-4",children:Me.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:X.map(ee=>o.jsx("li",{children:o.jsx(Mf,{highlight:ee,selected:A.has(String(ee.id)),onToggleSelect:lt,lensColors:ue,colorLabels:Ke?.color_labels,editingNoteId:je,editingNoteValue:$e,onStartEdit:ht,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ea})},ee.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(oe).map(([ee,Re])=>{const ye=Yf(ee,ue),Je=ns(ee,Ke?.color_labels,ue),st=`topic-${ee}`,bt=E.has(st);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:Ka(ye,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>Pe(st),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:Ka(ye,.1)},children:[bt?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:ye},children:Je}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",Re.length,")"]})]}),!bt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:Re.map(Et=>o.jsx("li",{children:o.jsx(Mf,{highlight:Et,selected:A.has(String(Et.id)),onToggleSelect:lt,lensColors:ue,colorLabels:Ke?.color_labels,editingNoteId:je,editingNoteValue:$e,onStartEdit:ht,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ea})},Et.id))})]},ee)})}):o.jsx("div",{className:"space-y-4",children:Ne.map(({key:ee,page:Re,items:ye})=>{const Je=`page-${Re}`,st=E.has(Je);return o.jsxs("div",{className:`border ${In.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>Pe(Je),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[st?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),"Page ",Re,o.jsxs("span",{className:`text-xs ${Ve.muted}`,children:["(",ye.length,")"]})]}),!st&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ye.map(bt=>o.jsx("li",{children:o.jsx(Mf,{highlight:bt,selected:A.has(String(bt.id)),onToggleSelect:lt,lensColors:ue,colorLabels:Ke?.color_labels,editingNoteId:je,editingNoteValue:$e,onStartEdit:ht,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ea})},bt.id))})]},ee)})}):o.jsxs("div",{className:`py-12 text-center ${Ve.muted} text-sm`,children:[o.jsx(qi,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),De&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>de(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ee=>ee.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>de(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:pe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),Ce&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!Se&&ae(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ee=>ee.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",A.size," highlight",A.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ae(!1),disabled:Se,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:Se,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[Se&&o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function Xx({onClose:r,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:r,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ya,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Gx(){const r=ls(),c=xl(k=>k.logout),[m,d]=U.useState(!1),[g,v]=U.useState(!1),[S,N]=U.useState(""),q=()=>{c(),r("/login",{replace:!0})},E=async()=>{N(""),v(!0);try{await Bi.deleteAccount(),c(),r("/",{replace:!0})}catch(k){N(k.response?.data?.detail||k.message||"Something went wrong."),v(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(uy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx(Xx,{onClose:()=>!g&&d(!1),onConfirm:E,isDeleting:g})]})}function kp(r,c){if(!c||c.length<2)return r;const m=new RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(m).map((g,v)=>m.test(g)?o.jsx("mark",{className:"bg-yellow-200 rounded-sm px-px",children:g},v):g)}function zf({ann:r,query:c,hovered:m,onHover:d,onLeave:g,showDoc:v,onNavigate:S}){const[N,q]=U.useState(!1),E=r.color_hex||"#94a3b8",k=A=>{A.stopPropagation();const V=`"${r.highlighted_text}"${r.note?.content?`
  Note: ${r.note.content}`:""}`;navigator.clipboard?.writeText(V),q(!0),setTimeout(()=>q(!1),1500)};return o.jsx("div",{onMouseEnter:()=>d(r.id),onMouseLeave:g,onClick:()=>S(r.document_id),className:"bg-white rounded-[10px] border transition-all cursor-pointer",style:{borderColor:m?"#D1D9E2":"#EDF0F4",borderLeftWidth:3,borderLeftColor:E,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none"},children:o.jsxs("div",{className:"px-4 py-3.5",children:[o.jsxs("p",{className:"text-[13.5px] leading-[1.6] text-slate-900 whitespace-pre-wrap",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",kp(r.highlighted_text,c),""]}),r.note?.content&&o.jsx("p",{className:"mt-1.5 text-[12.5px] leading-[1.5] italic",style:{color:E},children:kp(r.note.content,c)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100 flex-wrap",children:[o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:E,background:Ka(E,.08)},children:r.color_display_name}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",r.page_number]}),v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-500 font-medium truncate max-w-[220px] flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 shrink-0"}),r.document_name?.replace(/\.pdf$/i,"")]})]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Hf,{className:"w-2.5 h-2.5 shrink-0"}),r.project_name]}),o.jsx("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:m?1:0},children:o.jsxs("button",{onClick:k,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:N?"#16A34A":"#64748B"},children:[N?o.jsx(jo,{className:"w-3 h-3"}):o.jsx(Jf,{className:"w-3 h-3"}),N?"Copied":"Copy"]})})]})]})})}function Vx({results:r,colorMap:c}){const m={},d={},g={};r.forEach(N=>{m[N.color]=(m[N.color]||0)+1,d[N.document_id]=(d[N.document_id]||0)+1,g[N.project_id]=(g[N.project_id]||0)+1});const v=Object.entries(d).sort(([,N],[,q])=>q-N).slice(0,4),S=v.length?v[0][1]:1;return o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[10px] p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2.5 text-xs font-semibold text-slate-600",children:[o.jsx(Hb,{className:"w-3.5 h-3.5"})," Search insights"]}),o.jsx("div",{className:"flex gap-1 flex-wrap mb-2.5",children:Object.entries(m).sort(([,N],[,q])=>q-N).map(([N,q])=>{const E=c[N],k=E?.hex||"#94a3b8";return o.jsxs("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded flex items-center gap-1",style:{color:k,background:Ka(k,.08)},children:[o.jsx("strong",{children:q})," ",E?.name||N]},N)})}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:[o.jsxs("span",{className:"font-semibold",children:["Across ",Object.keys(d).length," documents"]}),o.jsxs("span",{className:"text-slate-400",children:[" in ",Object.keys(g).length," projects"]}),o.jsx("div",{className:"mt-1.5 flex flex-col gap-1",children:v.map(([N,q])=>{const E=r.find(k=>k.document_id===Number(N));return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-1 rounded bg-slate-300",style:{width:Math.max(12,q/S*80)}}),o.jsxs("span",{className:"text-[11px] text-slate-500 truncate max-w-[260px]",children:[E?.document_name?.replace(/\.pdf$/i,"")," (",q,")"]})]},N)})})]})]})}function Fx(){const r=ls(),c=U.useRef(null),[m,d]=U.useState(""),[g,v]=U.useState(""),[S,N]=U.useState([]),[q,E]=U.useState([]),[k,A]=U.useState("flat"),[V,ge]=U.useState("relevance"),[Z,ie]=U.useState(null),{data:P,isLoading:De}=Ln({queryKey:["library"],queryFn:async()=>{const{data:le}=await Eb.get();return le}}),de=P?.highlights||[],Ce=P?.projects||[];U.useEffect(()=>{c.current?.focus()},[]);const ae=U.useMemo(()=>{const le={};return de.forEach(we=>{le[we.color]||(le[we.color]={name:we.color_display_name,hex:we.color_hex})}),le},[de]),Se=U.useCallback(le=>{d(le),v(le)},[]),xe=U.useCallback(le=>{N(we=>we.includes(le)?we.filter(ce=>ce!==le):[...we,le])},[]),je=U.useCallback(le=>{E(we=>we.includes(le)?we.filter(ce=>ce!==le):[...we,le])},[]),Ze=U.useMemo(()=>{let le=de;if(g){const we=g.toLowerCase();le=le.filter(ce=>ce.highlighted_text?.toLowerCase().includes(we)||ce.note?.content?.toLowerCase().includes(we)||ce.color_display_name?.toLowerCase().includes(we))}return S.length>0&&(le=le.filter(we=>S.includes(we.color))),q.length>0&&(le=le.filter(we=>q.includes(we.project_id))),V==="date"&&(le=[...le].sort((we,ce)=>ce.created_at.localeCompare(we.created_at))),V==="category"&&(le=[...le].sort((we,ce)=>we.color.localeCompare(ce.color))),le},[de,g,S,q,V]),$e=U.useMemo(()=>{if(k==="document"){const le={};return Ze.forEach(we=>{le[we.document_id]||(le[we.document_id]=[]),le[we.document_id].push(we)}),le}if(k==="category"){const le={};return Ze.forEach(we=>{le[we.color]||(le[we.color]=[]),le[we.color].push(we)}),le}return null},[k,Ze]),rt=S.length>0||q.length>0,Ke=U.useMemo(()=>new Set(de.map(we=>we.document_id)).size,[de]);return De?o.jsx("div",{className:"min-h-screen bg-[#F8FAFB] flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 text-slate-400 animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-[17px] font-semibold text-slate-900 tracking-tight",children:"Library"}),o.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:[de.length," annotations across ",Ke," documents"]})]})}),o.jsxs("div",{className:"flex items-center gap-2.5 bg-slate-50 border-[1.5px] border-slate-200 rounded-[10px] px-3.5 py-2.5 mb-3.5 focus-within:border-slate-400 transition-colors",children:[o.jsx(Gr,{className:"w-[18px] h-[18px] text-slate-400 shrink-0"}),o.jsx("input",{ref:c,value:m,onChange:le=>d(le.target.value),onKeyDown:le=>{le.key==="Enter"&&v(m)},placeholder:"Search across all your annotations...",className:"border-0 bg-transparent outline-none text-[15px] text-slate-900 w-full placeholder:text-slate-400"}),m&&o.jsx("button",{onClick:()=>{d(""),v("")},className:"bg-slate-200 rounded p-0.5 text-slate-500 hover:bg-slate-300 shrink-0",children:o.jsx(as,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>v(m),className:"bg-slate-800 text-white rounded-lg px-4 py-1.5 text-[13px] font-medium hover:bg-slate-700 shrink-0",children:"Search"})]}),!g&&o.jsxs("div",{className:"flex items-center gap-1.5 mb-3 flex-wrap",children:[o.jsx("span",{className:"text-[11px] text-slate-400 font-medium mr-1",children:"Try:"}),["margin compression","management quality","customer concentration","capital allocation","regulatory risk"].map(le=>o.jsx("button",{onClick:()=>Se(le),className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-full px-3 py-1 hover:border-slate-400 hover:text-slate-900 transition-colors",children:le},le))]}),o.jsxs("div",{className:"flex items-center gap-2 pb-3 flex-wrap",children:[Object.entries(ae).map(([le,we])=>{const ce=S.includes(le),He=we.hex;return o.jsxs("button",{onClick:()=>xe(le),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:ce?Ka(He,.5):"#E8ECF0",background:ce?Ka(He,.08):"#FAFBFC",opacity:ce?1:S.length>0?.4:.7},children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{background:He}}),o.jsx("span",{className:"text-xs font-medium",style:{color:ce?"#374151":"#94A3B8"},children:we.name})]},le)}),Object.keys(ae).length>0&&Ce.length>0&&o.jsx("div",{className:"w-px h-[18px] bg-slate-200 mx-1"}),Ce.map(le=>{const we=q.includes(le.id);return o.jsxs("button",{onClick:()=>je(le.id),className:"flex items-center gap-1 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:we?"#475569":"#E8ECF0",background:we?"#F1F5F9":"#FAFBFC",opacity:we?1:q.length>0?.4:.7},children:[o.jsx(Hf,{className:"w-2.5 h-2.5"}),o.jsx("span",{className:"text-xs font-medium",style:{color:we?"#1E293B":"#94A3B8"},children:le.name})]},le.id)}),rt&&o.jsx("button",{onClick:()=>{N([]),E([])},className:"text-xs text-slate-400 border border-dashed border-slate-300 rounded-full px-2.5 py-1 hover:text-slate-600",children:"Clear all"})]})]})}),o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 py-5 pb-20",children:[g&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[13px] text-slate-500",children:[o.jsx("strong",{className:"text-slate-900",children:Ze.length})," result",Ze.length!==1&&"s",g&&o.jsxs(o.Fragment,{children:[" for ",o.jsx("strong",{className:"text-slate-900",children:g}),""]}),rt&&o.jsx("span",{className:"text-slate-400",children:" (filtered)"})]}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("select",{value:k,onChange:le=>A(le.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"flat",children:"No grouping"}),o.jsx("option",{value:"document",children:"Group by document"}),o.jsx("option",{value:"category",children:"Group by category"})]}),o.jsxs("select",{value:V,onChange:le=>ge(le.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"relevance",children:"Most relevant"}),o.jsx("option",{value:"date",children:"Most recent"}),o.jsx("option",{value:"category",children:"By category"})]})]})]}),g&&Ze.length>3&&o.jsx(Vx,{results:Ze,colorMap:ae}),!g&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Gr,{className:"w-10 h-10 mx-auto mb-3 text-slate-200"}),o.jsx("p",{className:"text-[15px] text-slate-600 font-medium mb-1.5",children:"Search across all your annotations"}),o.jsx("p",{className:"text-[13px] text-slate-400 max-w-[380px] mx-auto",children:"Find patterns across deals, surface past insights, and build on your own analysis."})]}),g&&Ze.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400 text-sm",children:"No annotations match your search. Try different keywords or clear your filters."}),g&&k==="flat"&&Ze.length>0&&o.jsx("div",{className:"flex flex-col gap-2",children:Ze.map(le=>o.jsx(zf,{ann:le,query:g,hovered:Z===le.id,onHover:ie,onLeave:()=>ie(null),showDoc:!0,onNavigate:we=>r(`/document/${we}`)},le.id))}),g&&k==="document"&&$e&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries($e).map(([le,we])=>{const ce=we[0];return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qi,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:ce?.document_name?.replace(/\.pdf$/i,"")}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:we.length}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Hf,{className:"w-2.5 h-2.5"})," ",ce?.project_name]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:we.map(He=>o.jsx(zf,{ann:He,query:g,hovered:Z===He.id,onHover:ie,onLeave:()=>ie(null),showDoc:!1,onNavigate:Y=>r(`/document/${Y}`)},He.id))})]},le)})}),g&&k==="category"&&$e&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(ae).map(([le,we])=>{const ce=$e[le];return!ce||ce.length===0?null:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:we.hex}}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:we.name}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:ce.length})]}),o.jsx("div",{className:"flex flex-col gap-2",children:ce.map(He=>o.jsx(zf,{ann:He,query:g,hovered:Z===He.id,onHover:ie,onLeave:()=>ie(null),showDoc:!0,onNavigate:Y=>r(`/document/${Y}`)},He.id))})]},le)})})]})]})}const Zx=new C0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function zi({children:r}){return xl(m=>m.token)?r:o.jsx(vo,{to:"/login",replace:!0})}function Rp({children:r}){return xl(m=>m.token)?o.jsx(vo,{to:"/app",replace:!0}):r}function $x(){return o.jsx(A0,{client:Zx,children:o.jsx(k0,{children:o.jsxs(R0,{children:[o.jsx(La,{path:"/login",element:o.jsx(Rp,{children:o.jsx(Ab,{})})}),o.jsx(La,{path:"/register",element:o.jsx(Rp,{children:o.jsx(Ob,{})})}),o.jsx(La,{path:"/",element:o.jsx(vo,{to:"/app",replace:!0})}),o.jsx(La,{path:"/app",element:o.jsx(zi,{children:o.jsx(bx,{})})}),o.jsx(La,{path:"/app/library",element:o.jsx(zi,{children:o.jsx(Fx,{})})}),o.jsx(La,{path:"/app/settings",element:o.jsx(zi,{children:o.jsx(Gx,{})})}),o.jsx(La,{path:"/project/:projectId",element:o.jsx(zi,{children:o.jsx(Ex,{})})}),o.jsx(La,{path:"/document/:id",element:o.jsx(zi,{children:o.jsx(Lx,{})})}),o.jsx(La,{path:"/document/:id/summary",element:o.jsx(zi,{children:o.jsx(Yx,{})})}),o.jsx(La,{path:"*",element:o.jsx(vo,{to:"/app",replace:!0})})]})})})}Y0.createRoot(document.getElementById("root")).render(o.jsx(U.StrictMode,{children:o.jsx($x,{})}));export{mo as _};
