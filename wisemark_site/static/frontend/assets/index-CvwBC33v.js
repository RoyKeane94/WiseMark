const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as o,u as Rr,a as Wn,b as An,Q as N0,c as _0}from"./query-CQ1uvarX.js";import{a as E0,b as C0,R as uo,u as qi,r as K,L as Tp,c as A0,g as O0,d as Kf,e as D0,B as T0,f as M0,h as pl,N as go}from"./react-OW7IPSYu.js";import{G as z0,g as k0,U as R0}from"./pdf-omjxc98r.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))d(b);new MutationObserver(b=>{for(const x of b)if(x.type==="childList")for(const S of x.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(b){const x={};return b.integrity&&(x.integrity=b.integrity),b.referrerPolicy&&(x.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?x.credentials="include":b.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(b){if(b.ep)return;b.ep=!0;const x=m(b);fetch(b.href,x)}})();var Nf={exports:{}},qs={},_f={exports:{}},Ef={};var Pm;function B0(){return Pm||(Pm=1,(function(u){function f(Y,se){var pe=Y.length;Y.push(se);e:for(;0<pe;){var Ne=pe-1>>>1,De=Y[Ne];if(0<b(De,se))Y[Ne]=se,Y[pe]=De,pe=Ne;else break e}}function m(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var se=Y[0],pe=Y.pop();if(pe!==se){Y[0]=pe;e:for(var Ne=0,De=Y.length,X=De>>>1;Ne<X;){var ue=2*(Ne+1)-1,Se=Y[ue],ke=ue+1,Ze=Y[ke];if(0>b(Se,pe))ke<De&&0>b(Ze,Se)?(Y[Ne]=Ze,Y[ke]=pe,Ne=ke):(Y[Ne]=Se,Y[ue]=pe,Ne=ue);else if(ke<De&&0>b(Ze,pe))Y[Ne]=Ze,Y[ke]=pe,Ne=ke;else break e}}return se}function b(Y,se){var pe=Y.sortIndex-se.sortIndex;return pe!==0?pe:Y.id-se.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;u.unstable_now=function(){return x.now()}}else{var S=Date,N=S.now();u.unstable_now=function(){return S.now()-N}}var U=[],R=[],B=1,T=null,$=3,ye=!1,F=!1,re=!1,P=!1,Ae=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var se=m(R);se!==null;){if(se.callback===null)d(R);else if(se.startTime<=Y)d(R),se.sortIndex=se.expirationTime,f(U,se);else break;se=m(R)}}function ve(Y){if(re=!1,ae(Y),!F)if(m(U)!==null)F=!0,be||(be=!0,Je());else{var se=m(R);se!==null&&Xe(ve,se.startTime-Y)}}var be=!1,xe=-1,tt=5,$e=-1;function ut(){return P?!0:!(u.unstable_now()-$e<tt)}function He(){if(P=!1,be){var Y=u.unstable_now();$e=Y;var se=!0;try{e:{F=!1,re&&(re=!1,me(xe),xe=-1),ye=!0;var pe=$;try{t:{for(ae(Y),T=m(U);T!==null&&!(T.expirationTime>Y&&ut());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,$=T.priorityLevel;var De=Ne(T.expirationTime<=Y);if(Y=u.unstable_now(),typeof De=="function"){T.callback=De,ae(Y),se=!0;break t}T===m(U)&&d(U),ae(Y)}else d(U);T=m(U)}if(T!==null)se=!0;else{var X=m(R);X!==null&&Xe(ve,X.startTime-Y),se=!1}}break e}finally{T=null,$=pe,ye=!1}se=void 0}}finally{se?Je():be=!1}}}var Je;if(typeof Ce=="function")Je=function(){Ce(He)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Ee=bt.port2;bt.port1.onmessage=He,Je=function(){Ee.postMessage(null)}}else Je=function(){Ae(He,0)};function Xe(Y,se){xe=Ae(function(){Y(u.unstable_now())},se)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Y){Y.callback=null},u.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tt=0<Y?Math.floor(1e3/Y):5},u.unstable_getCurrentPriorityLevel=function(){return $},u.unstable_next=function(Y){switch($){case 1:case 2:case 3:var se=3;break;default:se=$}var pe=$;$=se;try{return Y()}finally{$=pe}},u.unstable_requestPaint=function(){P=!0},u.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=$;$=Y;try{return se()}finally{$=pe}},u.unstable_scheduleCallback=function(Y,se,pe){var Ne=u.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ne+pe:Ne):pe=Ne,Y){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=pe+De,Y={id:B++,callback:se,priorityLevel:Y,startTime:pe,expirationTime:De,sortIndex:-1},pe>Ne?(Y.sortIndex=pe,f(R,Y),m(U)===null&&Y===m(R)&&(re?(me(xe),xe=-1):re=!0,Xe(ve,pe-Ne))):(Y.sortIndex=De,f(U,Y),F||ye||(F=!0,be||(be=!0,Je()))),Y},u.unstable_shouldYield=ut,u.unstable_wrapCallback=function(Y){var se=$;return function(){var pe=$;$=se;try{return Y.apply(this,arguments)}finally{$=pe}}}})(Ef)),Ef}var Wm;function q0(){return Wm||(Wm=1,_f.exports=B0()),_f.exports}var Im;function U0(){if(Im)return qs;Im=1;var u=q0(),f=E0(),m=C0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(x(e)!==e)throw Error(d(188))}function R(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return U(i),e;if(r===a)return U(i),t;r=r.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,v=i.child;v;){if(v===n){p=!0,n=i,a=r;break}if(v===a){p=!0,a=i,n=r;break}v=v.sibling}if(!p){for(v=r.child;v;){if(v===n){p=!0,n=r,a=i;break}if(v===a){p=!0,a=r,n=i;break}v=v.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function B(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=B(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,$=Symbol.for("react.element"),ye=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Je(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case Ae:return"Profiler";case P:return"StrictMode";case ve:return"Suspense";case be:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case Ce:return e.displayName||"Context";case me:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case tt:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var Xe=Array.isArray,Y=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ne=[],De=-1;function X(e){return{current:e}}function ue(e){0>De||(e.current=Ne[De],Ne[De]=null,De--)}function Se(e,t){De++,Ne[De]=e.current,e.current=t}var ke=X(null),Ze=X(null),at=X(null),vt=X(null);function Vt(e,t){switch(Se(at,t),Se(Ze,e),Se(ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xm(t),e=Sm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(ke),Se(ke,e)}function dn(){ue(ke),ue(Ze),ue(at)}function ge(e){e.memoizedState!==null&&Se(vt,e);var t=ke.current,n=Sm(t,e.type);t!==n&&(Se(Ze,e),Se(ke,n))}function ft(e){Ze.current===e&&(ue(ke),ue(Ze)),vt.current===e&&(ue(vt),zs._currentValue=pe)}var Ge,dt;function Zt(e){if(Ge===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",dt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+dt}var Ot=!1;function Qn(e,t){if(!e||Ot)return"";Ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(I){var J=I}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(I){J=I}e.call(ie.prototype)}}else{try{throw Error()}catch(I){J=I}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(I){if(I&&J&&typeof I.stack=="string")return[I.stack,J.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],v=r[1];if(p&&v){var _=p.split(`
`),V=v.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===V.length)for(a=_.length-1,i=V.length-1;1<=a&&0<=i&&_[a]!==V[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==V[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==V[i]){var ne=`
`+_[a].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=a&&0<=i);break}}}finally{Ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zt(n):""}function ea(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Qn(e.type,!1);case 11:return Qn(e.type.render,!1);case 1:return Qn(e.type,!0);case 31:return Zt("Activity");default:return""}}function de(e){try{var t="",n=null;do t+=ea(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var et=Object.prototype.hasOwnProperty,ee=u.unstable_scheduleCallback,ze=u.unstable_cancelCallback,he=u.unstable_shouldYield,Ve=u.unstable_requestPaint,lt=u.unstable_now,gt=u.unstable_getCurrentPriorityLevel,Et=u.unstable_ImmediatePriority,mn=u.unstable_UserBlockingPriority,rn=u.unstable_NormalPriority,Dn=u.unstable_LowPriority,Me=u.unstable_IdlePriority,Le=u.log,jt=u.unstable_setDisableYieldValue,qt=null,Ct=null;function Ut(e){if(typeof Le=="function"&&jt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(qt,e)}catch{}}var _e=Math.clz32?Math.clz32:Hi,ya=Math.log,La=Math.LN2;function Hi(e){return e>>>=0,e===0?32:31-(ya(e)/La|0)|0}var Oe=256,vl=262144,ni=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~r,a!==0?i=ga(a):(p&=v,p!==0?i=ga(p):n||(n=v&~e,n!==0&&(i=ga(n))))):(v=a&~r,v!==0?i=ga(v):p!==0?i=ga(p):n||(n=a&~e,n!==0&&(i=ga(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Ka(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Do(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ta(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qr(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,V=e.hiddenUpdates;for(n=p&~n;0<n;){var ne=31-_e(n),ie=1<<ne;v[ne]=0,_[ne]=-1;var J=V[ne];if(J!==null)for(V[ne]=null,ne=0;ne<J.length;ne++){var I=J[ne];I!==null&&(I.lane&=-536870913)}n&=~ie}a!==0&&li(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function li(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-_e(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-_e(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Wt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ur(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ii(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function ri(e,t){var n=se.p;try{return se.p=e,t()}finally{se.p=n}}var Ca=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ca,It="__reactProps$"+Ca,Tn="__reactContainer$"+Ca,Sl="__reactEvents$"+Ca,To="__reactListeners$"+Ca,Aa="__reactHandles$"+Ca,Hr="__reactResources$"+Ca,Yn="__reactMarker$"+Ca;function Li(e){delete e[Kt],delete e[It],delete e[Sl],delete e[To],delete e[Aa]}function Oa(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Am(e);e!==null;){if(n=e[Kt])return n;e=Am(e)}return t}e=n,n=e.parentNode}return null}function Mt(e){if(e=e[Kt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Nn(e){var t=e[Hr];return t||(t=e[Hr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function en(e){e[Yn]=!0}var Qa=new Set,si={};function ba(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(si[e]=t,e=0;e<t.length;e++)Qa.add(t[e])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},ui={};function $s(e){return et.call(ui,e)?!0:et.call(Lr,e)?!1:Ya.test(e)?ui[e]=!0:(Lr[e]=!0,!1)}function rt(e,t,n){if($s(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function oi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function na(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ps(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){if(!e._valueTracker){var t=wl(e)?"checked":"value";e._valueTracker=Ps(e,t,""+e[t])}}function Kr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ci=/[\n"\\]/g;function pn(e){return e.replace(ci,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ta(e,t,n,a,i,r,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?fi(e,p,vn(t)):n!=null?fi(e,p,vn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+vn(v):e.removeAttribute("name")}function Qi(e,t,n,a,i,r,p,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Ki(e);return}n=n!=null?""+vn(n):"",t=t!=null?""+vn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ki(e)}function fi(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qr(e,t,n){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vn(n):""}function di(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Xe(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=vn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Ki(e)}function Xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Mo.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&pt(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&pt(e,r,t[r])}function Xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var aa=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Qt=null;function Gn(e){var t=Mt(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ta(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[It]||null;if(!i)throw Error(d(90));Ta(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Kr(a)}break e;case"textarea":Qr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Va=!1;function jl(e,t,n){if(Va)return e(t,n);Va=!0;try{var a=e(t);return a}finally{if(Va=!1,(Ga!==null||Qt!==null)&&(Lu(),Ga&&(t=Ga,e=Qt,Qt=Ga=null,Gn(t),e)))for(t=0;t<e.length;t++)Gn(e[t])}}function Za(e,t){var n=e.stateNode;if(n===null)return null;var a=n[It]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(yn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Gr=!1}var la=null,Xi=null,Nl=null;function _l(){if(Nl)return Nl;var e,t=Xi,n=t.length,a,i="value"in la?la.value:la.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return Nl=i.slice(e,1<a?1-a:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hi(){return!0}function Ws(){return!1}function sn(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?hi:Ws,this.isPropagationStopped=Ws,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=sn(Fa),Ma=T({},Fa,{view:0,detail:0}),Vi=sn(Ma),mi,Vr,pi,Zi=T({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(mi=e.screenX-pi.screenX,Vr=e.screenY-pi.screenY):Vr=mi=0,pi=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),Fi=sn(Zi),Zr=T({},Zi,{dataTransfer:0}),Is=sn(Zr),Ji=T({},Ma,{relatedTarget:0}),Cl=sn(Ji),$i=T({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=sn($i),ko=T({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Al=sn(ko),Fr=T({},Fa,{data:0}),Pi=sn(Fr),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Ja(){return yi}var tu=T({},Ma,{key:function(e){if(e.key){var t=Jr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wi=sn(tu),nu=T({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=sn(nu),Ii=T({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Wr=sn(Ii),$a=T({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ir=sn($a),es=T({},Zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),er=sn(es),ts=T({},Fa,{newState:0,oldState:0}),au=sn(ts),Ro=[9,13,27,32],gi=yn&&"CompositionEvent"in window,za=null;yn&&"documentMode"in document&&(za=document.documentMode);var Bo=yn&&"TextEvent"in window&&!za,tr=yn&&(!gi||za&&8<za&&11>=za),nr=" ",lu=!1;function ns(e,t){switch(e){case"keyup":return Ro.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function ru(e,t){switch(e){case"compositionend":return iu(t);case"keypress":return t.which!==32?null:(lu=!0,nr);case"textInput":return e=t.data,e===nr&&lu?null:e;default:return null}}function qo(e,t){if(Pa)return e==="compositionend"||!gi&&ns(e,t)?(e=_l(),Nl=Xi=la=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tr&&t.locale!=="ko"?null:t.data;default:return null}}var su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!su[e.type]:t==="textarea"}function as(e,t,n,a){Ga?Qt?Qt.push(a):Qt=[a]:Ga=a,t=Zu(t,"onChange"),0<t.length&&(n=new Gi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ol=null,bi=null;function Uo(e){mm(e,0)}function lr(e){var t=Xn(e);if(Kr(t))return e}function vi(e,t){if(e==="change")return t}var ia=!1;if(yn){var Yt;if(yn){var Dl="oninput"in document;if(!Dl){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Dl=typeof Wa.oninput=="function"}Yt=Dl}else Yt=!1;ia=Yt&&(!document.documentMode||9<document.documentMode)}function uu(){Ol&&(Ol.detachEvent("onpropertychange",ir),bi=Ol=null)}function ir(e){if(e.propertyName==="value"&&lr(bi)){var t=[];as(t,bi,e,Yi(e)),jl(Uo,t)}}function ou(e,t,n){e==="focusin"?(uu(),Ol=t,bi=n,Ol.attachEvent("onpropertychange",ir)):e==="focusout"&&uu()}function Ia(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lr(bi)}function ls(e,t){if(e==="click")return lr(t)}function Tl(e,t){if(e==="input"||e==="change")return lr(t)}function ka(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:ka;function l(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!et.call(t,i)||!En(e[i],t[i]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,t){var n=s(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function g(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=yn&&"documentMode"in document&&11>=document.documentMode,j=null,C=null,H=null,A=!1;function E(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A||j==null||j!==Nt(a)||(a=j,"selectionStart"in a&&g(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),H&&l(H,a)||(H=a,a=Zu(C,"onSelect"),0<a.length&&(t=new Gi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function M(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var k={animationend:M("Animation","AnimationEnd"),animationiteration:M("Animation","AnimationIteration"),animationstart:M("Animation","AnimationStart"),transitionrun:M("Transition","TransitionRun"),transitionstart:M("Transition","TransitionStart"),transitioncancel:M("Transition","TransitionCancel"),transitionend:M("Transition","TransitionEnd")},O={},D={};yn&&(D=document.createElement("div").style,"AnimationEvent"in window||(delete k.animationend.animation,delete k.animationiteration.animation,delete k.animationstart.animation),"TransitionEvent"in window||delete k.transitionend.transition);function Q(e){if(O[e])return O[e];if(!k[e])return e;var t=k[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in D)return O[e]=t[n];return e}var Z=Q("animationend"),L=Q("animationiteration"),te=Q("animationstart"),oe=Q("transitionrun"),we=Q("transitionstart"),je=Q("transitioncancel"),ce=Q("transitionend"),Re=new Map,Te="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Te.push("scrollEnd");function fe(e,t){Re.set(e,t),ba(t,[e])}var Be=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],st=0,Ke=0;function Ie(){for(var e=st,t=Ke=st=0;t<e;){var n=We[t];We[t++]=null;var a=We[t];We[t++]=null;var i=We[t];We[t++]=null;var r=We[t];if(We[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&Ra(n,i,r)}}function zt(e,t,n,a){We[st++]=e,We[st++]=t,We[st++]=n,We[st++]=a,Ke|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cn(e,t,n,a){return zt(e,t,n,a),Ml(e)}function At(e,t){return zt(e,null,null,t),Ml(e)}function Ra(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-_e(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Ml(e){if(50<Es)throw Es=0,Zc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rr={};function sy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,n,a){return new sy(e,t,n,a)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function el(e,t){var n=e.alternate;return n===null?(n=Vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $f(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cu(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")Ho(e)&&(p=1);else if(typeof e=="string")p=d0(e,n,ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=Vn(31,n,t,i),e.elementType=$e,e.lanes=r,e;case re:return xi(n.children,i,r,t);case P:p=8,i|=24;break;case Ae:return e=Vn(12,n,t,i|2),e.elementType=Ae,e.lanes=r,e;case ve:return e=Vn(13,n,t,i),e.elementType=ve,e.lanes=r,e;case be:return e=Vn(19,n,t,i),e.elementType=be,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:p=10;break e;case me:p=9;break e;case ae:p=11;break e;case xe:p=14;break e;case tt:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Vn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function xi(e,t,n,a){return e=Vn(7,e,a,t),e.lanes=n,e}function Lo(e,t,n){return e=Vn(6,e,null,t),e.lanes=n,e}function Pf(e){var t=Vn(18,null,null,0);return t.stateNode=e,t}function Ko(e,t,n){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:de(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:de(t)}}var sr=[],ur=0,fu=null,is=0,sa=[],ua=0,zl=null,Ba=1,qa="";function tl(e,t){sr[ur++]=is,sr[ur++]=fu,fu=e,is=t}function If(e,t,n){sa[ua++]=Ba,sa[ua++]=qa,sa[ua++]=zl,zl=e;var a=Ba;e=qa;var i=32-_e(a)-1;a&=~(1<<i),n+=1;var r=32-_e(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Ba=1<<32-_e(t)+i|n<<i|a,qa=r+e}else Ba=1<<r|n<<i|a,qa=e}function Qo(e){e.return!==null&&(tl(e,1),If(e,1,0))}function Yo(e){for(;e===fu;)fu=sr[--ur],sr[ur]=null,is=sr[--ur],sr[ur]=null;for(;e===zl;)zl=sa[--ua],sa[ua]=null,qa=sa[--ua],sa[ua]=null,Ba=sa[--ua],sa[ua]=null}function ed(e,t){sa[ua++]=Ba,sa[ua++]=qa,sa[ua++]=zl,Ba=t.id,qa=t.overflow,zl=e}var xn=null,Xt=null,yt=!1,kl=null,oa=!1,Xo=Error(d(519));function Rl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(ra(t,e)),Xo}function td(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Kt]=e,t[It]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<As.length;n++)ct(As[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Qi(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),di(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||bm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=kn),t=!0):t=!1,t||Rl(e,!0)}function nd(e){for(xn=e.return;xn;)switch(xn.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:xn=xn.return}}function or(e){if(e!==xn)return!1;if(!yt)return nd(e),yt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||of(e.type,e.memoizedProps)),n=!n),n&&Xt&&Rl(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xt=Cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Xt=Cm(e)}else t===27?(t=Xt,Jl(e.type)?(e=mf,mf=null,Xt=e):Xt=t):Xt=xn?fa(e.stateNode.nextSibling):null;return!0}function Si(){Xt=xn=null,yt=!1}function Go(){var e=kl;return e!==null&&(Un===null?Un=e:Un.push.apply(Un,e),kl=null),e}function rs(e){kl===null?kl=[e]:kl.push(e)}var Vo=X(null),wi=null,nl=null;function Bl(e,t,n){Se(Vo,t._currentValue),t._currentValue=n}function al(e){e._currentValue=Vo.current,ue(Vo)}function Zo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=i;for(var _=0;_<t.length;_++)if(v.context===t[_]){r.lanes|=n,v=r.alternate,v!==null&&(v.lanes|=n),Zo(r.return,n,e),a||(p=null);break e}r=v.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Zo(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function cr(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var v=i.type;En(i.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(i===vt.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(zs):e=[zs])}i=i.return}e!==null&&Fo(t,e,n,a),t.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){wi=e,nl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return ad(wi,e)}function hu(e,t){return wi===null&&ji(e),ad(e,t)}function ad(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},nl===null){if(e===null)throw Error(d(308));nl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else nl=nl.next=t;return n}var uy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},oy=u.unstable_scheduleCallback,cy=u.unstable_NormalPriority,un={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new uy,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&oy(cy,function(){e.controller.abort()})}var us=null,$o=0,fr=0,dr=null;function fy(e,t){if(us===null){var n=us=[];$o=0,fr=Ic(),dr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return $o++,t.then(ld,ld),t}function ld(){if(--$o===0&&us!==null){dr!==null&&(dr.status="fulfilled");var e=us;us=null,fr=0,dr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var id=Y.S;Y.S=function(e,t){Qh=lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fy(e,t),id!==null&&id(e,t)};var Ni=X(null);function Po(){var e=Ni.current;return e!==null?e:Lt.pooledCache}function mu(e,t){t===null?Se(Ni,Ni.current):Se(Ni,t.pool)}function rd(){var e=Po();return e===null?null:{parent:un._currentValue,pool:e}}var hr=Error(d(460)),Wo=Error(d(474)),pu=Error(d(542)),yu={then:function(){}};function sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ud(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(kn,kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e;default:if(typeof t.status=="string")t.then(kn,kn);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e}throw Ei=t,hr}}function _i(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ei=n,hr):n}}var Ei=null;function od(){if(Ei===null)throw Error(d(459));var e=Ei;return Ei=null,e}function cd(e){if(e===hr||e===pu)throw Error(d(483))}var mr=null,os=0;function gu(e){var t=os;return os+=1,mr===null&&(mr=[]),ud(mr,e,t)}function cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bu(e,t){throw t.$$typeof===$?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fd(e){function t(q,z){if(e){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function n(q,z){if(!e)return null;for(;z!==null;)t(q,z),z=z.sibling;return null}function a(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function i(q,z){return q=el(q,z),q.index=0,q.sibling=null,q}function r(q,z,G){return q.index=G,e?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=67108866,z):G):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function p(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function v(q,z,G,le){return z===null||z.tag!==6?(z=Lo(G,q.mode,le),z.return=q,z):(z=i(z,G),z.return=q,z)}function _(q,z,G,le){var Qe=G.type;return Qe===re?ne(q,z,G.props.children,le,G.key):z!==null&&(z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===tt&&_i(Qe)===z.type)?(z=i(z,G.props),cs(z,G),z.return=q,z):(z=cu(G.type,G.key,G.props,null,q.mode,le),cs(z,G),z.return=q,z)}function V(q,z,G,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Ko(G,q.mode,le),z.return=q,z):(z=i(z,G.children||[]),z.return=q,z)}function ne(q,z,G,le,Qe){return z===null||z.tag!==7?(z=xi(G,q.mode,le,Qe),z.return=q,z):(z=i(z,G),z.return=q,z)}function ie(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Lo(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ye:return G=cu(z.type,z.key,z.props,null,q.mode,G),cs(G,z),G.return=q,G;case F:return z=Ko(z,q.mode,G),z.return=q,z;case tt:return z=_i(z),ie(q,z,G)}if(Xe(z)||Je(z))return z=xi(z,q.mode,G,null),z.return=q,z;if(typeof z.then=="function")return ie(q,gu(z),G);if(z.$$typeof===Ce)return ie(q,hu(q,z),G);bu(q,z)}return null}function J(q,z,G,le){var Qe=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Qe!==null?null:v(q,z,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ye:return G.key===Qe?_(q,z,G,le):null;case F:return G.key===Qe?V(q,z,G,le):null;case tt:return G=_i(G),J(q,z,G,le)}if(Xe(G)||Je(G))return Qe!==null?null:ne(q,z,G,le,null);if(typeof G.then=="function")return J(q,z,gu(G),le);if(G.$$typeof===Ce)return J(q,z,hu(q,G),le);bu(q,G)}return null}function I(q,z,G,le,Qe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return q=q.get(G)||null,v(z,q,""+le,Qe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ye:return q=q.get(le.key===null?G:le.key)||null,_(z,q,le,Qe);case F:return q=q.get(le.key===null?G:le.key)||null,V(z,q,le,Qe);case tt:return le=_i(le),I(q,z,G,le,Qe)}if(Xe(le)||Je(le))return q=q.get(G)||null,ne(z,q,le,Qe,null);if(typeof le.then=="function")return I(q,z,G,gu(le),Qe);if(le.$$typeof===Ce)return I(q,z,G,hu(z,le),Qe);bu(z,le)}return null}function qe(q,z,G,le){for(var Qe=null,xt=null,Ue=z,it=z=0,mt=null;Ue!==null&&it<G.length;it++){Ue.index>it?(mt=Ue,Ue=null):mt=Ue.sibling;var St=J(q,Ue,G[it],le);if(St===null){Ue===null&&(Ue=mt);break}e&&Ue&&St.alternate===null&&t(q,Ue),z=r(St,z,it),xt===null?Qe=St:xt.sibling=St,xt=St,Ue=mt}if(it===G.length)return n(q,Ue),yt&&tl(q,it),Qe;if(Ue===null){for(;it<G.length;it++)Ue=ie(q,G[it],le),Ue!==null&&(z=r(Ue,z,it),xt===null?Qe=Ue:xt.sibling=Ue,xt=Ue);return yt&&tl(q,it),Qe}for(Ue=a(Ue);it<G.length;it++)mt=I(Ue,q,it,G[it],le),mt!==null&&(e&&mt.alternate!==null&&Ue.delete(mt.key===null?it:mt.key),z=r(mt,z,it),xt===null?Qe=mt:xt.sibling=mt,xt=mt);return e&&Ue.forEach(function(ei){return t(q,ei)}),yt&&tl(q,it),Qe}function Fe(q,z,G,le){if(G==null)throw Error(d(151));for(var Qe=null,xt=null,Ue=z,it=z=0,mt=null,St=G.next();Ue!==null&&!St.done;it++,St=G.next()){Ue.index>it?(mt=Ue,Ue=null):mt=Ue.sibling;var ei=J(q,Ue,St.value,le);if(ei===null){Ue===null&&(Ue=mt);break}e&&Ue&&ei.alternate===null&&t(q,Ue),z=r(ei,z,it),xt===null?Qe=ei:xt.sibling=ei,xt=ei,Ue=mt}if(St.done)return n(q,Ue),yt&&tl(q,it),Qe;if(Ue===null){for(;!St.done;it++,St=G.next())St=ie(q,St.value,le),St!==null&&(z=r(St,z,it),xt===null?Qe=St:xt.sibling=St,xt=St);return yt&&tl(q,it),Qe}for(Ue=a(Ue);!St.done;it++,St=G.next())St=I(Ue,q,it,St.value,le),St!==null&&(e&&St.alternate!==null&&Ue.delete(St.key===null?it:St.key),z=r(St,z,it),xt===null?Qe=St:xt.sibling=St,xt=St);return e&&Ue.forEach(function(j0){return t(q,j0)}),yt&&tl(q,it),Qe}function Bt(q,z,G,le){if(typeof G=="object"&&G!==null&&G.type===re&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case ye:e:{for(var Qe=G.key;z!==null;){if(z.key===Qe){if(Qe=G.type,Qe===re){if(z.tag===7){n(q,z.sibling),le=i(z,G.props.children),le.return=q,q=le;break e}}else if(z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===tt&&_i(Qe)===z.type){n(q,z.sibling),le=i(z,G.props),cs(le,G),le.return=q,q=le;break e}n(q,z);break}else t(q,z);z=z.sibling}G.type===re?(le=xi(G.props.children,q.mode,le,G.key),le.return=q,q=le):(le=cu(G.type,G.key,G.props,null,q.mode,le),cs(le,G),le.return=q,q=le)}return p(q);case F:e:{for(Qe=G.key;z!==null;){if(z.key===Qe)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){n(q,z.sibling),le=i(z,G.children||[]),le.return=q,q=le;break e}else{n(q,z);break}else t(q,z);z=z.sibling}le=Ko(G,q.mode,le),le.return=q,q=le}return p(q);case tt:return G=_i(G),Bt(q,z,G,le)}if(Xe(G))return qe(q,z,G,le);if(Je(G)){if(Qe=Je(G),typeof Qe!="function")throw Error(d(150));return G=Qe.call(G),Fe(q,z,G,le)}if(typeof G.then=="function")return Bt(q,z,gu(G),le);if(G.$$typeof===Ce)return Bt(q,z,hu(q,G),le);bu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(n(q,z.sibling),le=i(z,G),le.return=q,q=le):(n(q,z),le=Lo(G,q.mode,le),le.return=q,q=le),p(q)):n(q,z)}return function(q,z,G,le){try{os=0;var Qe=Bt(q,z,G,le);return mr=null,Qe}catch(Ue){if(Ue===hr||Ue===pu)throw Ue;var xt=Vn(29,Ue,null,q.mode);return xt.lanes=le,xt.return=q,xt}}}var Ci=fd(!0),dd=fd(!1),ql=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ul(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Ml(e),Ra(e,null,n),t}return zt(e,a,t,n),Ml(e)}function fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}function tc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nc=!1;function ds(){if(nc){var e=dr;if(e!==null)throw e}}function hs(e,t,n,a){nc=!1;var i=e.updateQueue;ql=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var _=v,V=_.next;_.next=null,p===null?r=V:p.next=V,p=_;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,v=ne.lastBaseUpdate,v!==p&&(v===null?ne.firstBaseUpdate=V:v.next=V,ne.lastBaseUpdate=_))}if(r!==null){var ie=i.baseState;p=0,ne=V=_=null,v=r;do{var J=v.lane&-536870913,I=J!==v.lane;if(I?(ht&J)===J:(a&J)===J){J!==0&&J===fr&&(nc=!0),ne!==null&&(ne=ne.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var qe=e,Fe=v;J=t;var Bt=n;switch(Fe.tag){case 1:if(qe=Fe.payload,typeof qe=="function"){ie=qe.call(Bt,ie,J);break e}ie=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Fe.payload,J=typeof qe=="function"?qe.call(Bt,ie,J):qe,J==null)break e;ie=T({},ie,J);break e;case 2:ql=!0}}J=v.callback,J!==null&&(e.flags|=64,I&&(e.flags|=8192),I=i.callbacks,I===null?i.callbacks=[J]:I.push(J))}else I={lane:J,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ne===null?(V=ne=I,_=ie):ne=ne.next=I,p|=J;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;I=v,v=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);ne===null&&(_=ie),i.baseState=_,i.firstBaseUpdate=V,i.lastBaseUpdate=ne,r===null&&(i.shared.lanes=0),Xl|=p,e.lanes=p,e.memoizedState=ie}}function hd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hd(n[e],t)}var pr=X(null),vu=X(0);function pd(e,t){e=dl,Se(vu,e),Se(pr,t),dl=e|t.baseLanes}function ac(){Se(vu,dl),Se(pr,pr.current)}function lc(){dl=vu.current,ue(pr),ue(vu)}var Zn=X(null),ca=null;function Ll(e){var t=e.alternate;Se(tn,tn.current&1),Se(Zn,e),ca===null&&(t===null||pr.current!==null||t.memoizedState!==null)&&(ca=e)}function ic(e){Se(tn,tn.current),Se(Zn,e),ca===null&&(ca=e)}function yd(e){e.tag===22?(Se(tn,tn.current),Se(Zn,e),ca===null&&(ca=e)):Kl()}function Kl(){Se(tn,tn.current),Se(Zn,Zn.current)}function Fn(e){ue(Zn),ca===e&&(ca=null),ue(tn)}var tn=X(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||df(n)||hf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=0,nt=null,kt=null,on=null,Su=!1,yr=!1,Ai=!1,wu=0,ms=0,gr=null,hy=0;function $t(){throw Error(d(321))}function rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function sc(e,t,n,a,i,r){return ll=r,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Id:wc,Ai=!1,r=n(a,i),Ai=!1,yr&&(r=bd(t,n,a,i)),gd(e),r}function gd(e){Y.H=gs;var t=kt!==null&&kt.next!==null;if(ll=0,on=kt=nt=null,Su=!1,ms=0,gr=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&du(e)&&(cn=!0))}function bd(e,t,n,a){nt=e;var i=0;do{if(yr&&(gr=null),ms=0,yr=!1,25<=i)throw Error(d(301));if(i+=1,on=kt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Y.H=eh,r=t(n,a)}while(yr);return r}function my(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ps(t):t,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(nt.flags|=1024),t}function uc(){var e=wu!==0;return wu=0,e}function oc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function cc(e){if(Su){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Su=!1}ll=0,on=kt=nt=null,yr=!1,ms=wu=0,gr=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=e:on=on.next=e,on}function nn(){if(kt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=on===null?nt.memoizedState:on.next;if(t!==null)on=t,kt=e;else{if(e===null)throw nt.alternate===null?Error(d(467)):Error(d(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?nt.memoizedState=on=e:on=on.next=e}return on}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(e){var t=ms;return ms+=1,gr===null&&(gr=[]),e=ud(gr,e,t),t=nt,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Id:wc),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ps(e);if(e.$$typeof===Ce)return Sn(e)}throw Error(d(438,String(e)))}function fc(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ju(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ut;return t.index++,n}function il(e,t){return typeof t=="function"?t(e):t}function _u(e){var t=nn();return dc(t,kt,e)}function dc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var v=p=null,_=null,V=t,ne=!1;do{var ie=V.lane&-536870913;if(ie!==V.lane?(ht&ie)===ie:(ll&ie)===ie){var J=V.revertLane;if(J===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ie===fr&&(ne=!0);else if((ll&J)===J){V=V.next,J===fr&&(ne=!0);continue}else ie={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(v=_=ie,p=r):_=_.next=ie,nt.lanes|=J,Xl|=J;ie=V.action,Ai&&n(r,ie),r=V.hasEagerState?V.eagerState:n(r,ie)}else J={lane:ie,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(v=_=J,p=r):_=_.next=J,nt.lanes|=ie,Xl|=ie;V=V.next}while(V!==null&&V!==t);if(_===null?p=r:_.next=v,!En(r,e.memoizedState)&&(cn=!0,ne&&(n=dr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hc(e){var t=nn(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);En(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function vd(e,t,n){var a=nt,i=nn(),r=yt;if(r){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!En((kt||i).memoizedState,n);if(p&&(i.memoizedState=n,cn=!0),i=i.queue,yc(wd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,br(9,{destroy:void 0},Sd.bind(null,a,i,n,t),null),Lt===null)throw Error(d(349));r||(ll&127)!==0||xd(a,t,n)}return n}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=ju(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sd(e,t,n,a){t.value=n,t.getSnapshot=a,jd(t)&&Nd(e)}function wd(e,t,n){return n(function(){jd(t)&&Nd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function Nd(e){var t=At(e,2);t!==null&&Hn(t,e,2)}function mc(e){var t=zn();if(typeof e=="function"){var n=e;if(e=n(),Ai){Ut(!0);try{n()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t}function _d(e,t,n,a){return e.baseState=n,dc(e,kt,typeof a=="function"?a:il)}function py(e,t,n,a,i){if(Au(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};Y.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,Ed(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Ed(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=Y.T,p={};Y.T=p;try{var v=n(i,a),_=Y.S;_!==null&&_(p,v),Cd(e,t,v)}catch(V){pc(e,t,V)}finally{r!==null&&p.types!==null&&(r.types=p.types),Y.T=r}}else try{r=n(i,a),Cd(e,t,r)}catch(V){pc(e,t,V)}}function Cd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Ad(e,t,a)},function(a){return pc(e,t,a)}):Ad(e,t,n)}function Ad(e,t,n){t.status="fulfilled",t.value=n,Od(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ed(e,n)))}function pc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Od(t),t=t.next;while(t!==a)}e.action=null}function Od(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dd(e,t){return t}function Td(e,t){if(yt){var n=Lt.formState;if(n!==null){e:{var a=nt;if(yt){if(Xt){t:{for(var i=Xt,r=oa;i.nodeType!==8;){if(!r){i=null;break t}if(i=fa(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Xt=fa(i.nextSibling),a=i.data==="F!";break e}}Rl(a)}a=!1}a&&(t=n[0])}}return n=zn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:t},n.queue=a,n=$d.bind(null,nt,a),a.dispatch=n,a=mc(!1),r=Sc.bind(null,nt,!1,a.queue),a=zn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=py.bind(null,nt,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Md(e){var t=nn();return zd(t,kt,e)}function zd(e,t,n){if(t=dc(e,t,Dd)[0],e=_u(il)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ps(t)}catch(p){throw p===hr?pu:p}else a=t;t=nn();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,br(9,{destroy:void 0},yy.bind(null,i,n),null)),[a,r,e]}function yy(e,t){e.action=t}function kd(e){var t=nn(),n=kt;if(n!==null)return zd(t,n,e);nn(),t=t.memoizedState,n=nn();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function br(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=ju(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return nn().memoizedState}function Eu(e,t,n,a){var i=zn();nt.flags|=e,i.memoizedState=br(1|t,{destroy:void 0},n,a===void 0?null:a)}function Cu(e,t,n,a){var i=nn();a=a===void 0?null:a;var r=i.memoizedState.inst;kt!==null&&a!==null&&rc(a,kt.memoizedState.deps)?i.memoizedState=br(t,r,n,a):(nt.flags|=e,i.memoizedState=br(1|t,r,n,a))}function Bd(e,t){Eu(8390656,8,e,t)}function yc(e,t){Cu(2048,8,e,t)}function gy(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=ju(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qd(e){var t=nn().memoizedState;return gy({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Ud(e,t){return Cu(4,2,e,t)}function Hd(e,t){return Cu(4,4,e,t)}function Ld(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kd(e,t,n){n=n!=null?n.concat([e]):null,Cu(4,4,Ld.bind(null,t,e),n)}function gc(){}function Qd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&rc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&rc(t,a[1]))return a[0];if(a=e(),Ai){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a}function bc(e,t,n){return n===void 0||(ll&1073741824)!==0&&(ht&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Xh(),nt.lanes|=e,Xl|=e,n)}function Xd(e,t,n,a){return En(n,t)?n:pr.current!==null?(e=bc(e,n,a),En(e,t)||(cn=!0),e):(ll&42)===0||(ll&1073741824)!==0&&(ht&261930)===0?(cn=!0,e.memoizedState=n):(e=Xh(),nt.lanes|=e,Xl|=e,t)}function Gd(e,t,n,a,i){var r=se.p;se.p=r!==0&&8>r?r:8;var p=Y.T,v={};Y.T=v,Sc(e,!1,t,n);try{var _=i(),V=Y.S;if(V!==null&&V(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ne=dy(_,a);ys(e,t,ne,Pn(e))}else ys(e,t,a,Pn(e))}catch(ie){ys(e,t,{then:function(){},status:"rejected",reason:ie},Pn())}finally{se.p=r,p!==null&&v.types!==null&&(p.types=v.types),Y.T=p}}function by(){}function vc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Vd(e).queue;Gd(e,i,t,pe,n===null?by:function(){return Zd(e),n(a)})}function Vd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:pe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Vd(e);t.next===null&&(t=e.alternate.memoizedState),ys(e,t.next.queue,{},Pn())}function xc(){return Sn(zs)}function Fd(){return nn().memoizedState}function Jd(){return nn().memoizedState}function vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Pn();e=Ul(n);var a=Hl(t,e,n);a!==null&&(Hn(a,t,n),fs(a,t,n)),t={cache:Jo()},e.payload=t;return}t=t.return}}function xy(e,t,n){var a=Pn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Au(e)?Pd(t,n):(n=Cn(e,t,n,a),n!==null&&(Hn(n,e,a),Wd(n,t,a)))}function $d(e,t,n){var a=Pn();ys(e,t,n,a)}function ys(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Au(e))Pd(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,v=r(p,n);if(i.hasEagerState=!0,i.eagerState=v,En(v,p))return zt(e,t,i,0),Lt===null&&Ie(),!1}catch{}if(n=Cn(e,t,i,a),n!==null)return Hn(n,e,a),Wd(n,t,a),!0}return!1}function Sc(e,t,n,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Au(e)){if(t)throw Error(d(479))}else t=Cn(e,n,a,2),t!==null&&Hn(t,e,2)}function Au(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Pd(e,t){yr=Su=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}var gs={readContext:Sn,use:Nu,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};gs.useEffectEvent=$t;var Id={readContext:Sn,use:Nu,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Bd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Eu(4194308,4,Ld.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){Eu(4,2,e,t)},useMemo:function(e,t){var n=zn();t=t===void 0?null:t;var a=e();if(Ai){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zn();if(n!==void 0){var i=n(t);if(Ai){Ut(!0);try{n(t)}finally{Ut(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xy.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=mc(e);var t=e.queue,n=$d.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:gc,useDeferredValue:function(e,t){var n=zn();return bc(n,e,t)},useTransition:function(){var e=mc(!1);return e=Gd.bind(null,nt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=nt,i=zn();if(yt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Lt===null)throw Error(d(349));(ht&127)!==0||xd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Bd(wd.bind(null,a,r,e),[e]),a.flags|=2048,br(9,{destroy:void 0},Sd.bind(null,a,r,n,t),null),n},useId:function(){var e=zn(),t=Lt.identifierPrefix;if(yt){var n=qa,a=Ba;n=(a&~(1<<32-_e(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=wu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=hy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xc,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Sc.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return zn().memoizedState=vy.bind(null,nt)},useEffectEvent:function(e){var t=zn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},wc={readContext:Sn,use:Nu,useCallback:Qd,useContext:Sn,useEffect:yc,useImperativeHandle:Kd,useInsertionEffect:Ud,useLayoutEffect:Hd,useMemo:Yd,useReducer:_u,useRef:Rd,useState:function(){return _u(il)},useDebugValue:gc,useDeferredValue:function(e,t){var n=nn();return Xd(n,kt.memoizedState,e,t)},useTransition:function(){var e=_u(il)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:vd,useId:Fd,useHostTransitionStatus:xc,useFormState:Md,useActionState:Md,useOptimistic:function(e,t){var n=nn();return _d(n,kt,e,t)},useMemoCache:fc,useCacheRefresh:Jd};wc.useEffectEvent=qd;var eh={readContext:Sn,use:Nu,useCallback:Qd,useContext:Sn,useEffect:yc,useImperativeHandle:Kd,useInsertionEffect:Ud,useLayoutEffect:Hd,useMemo:Yd,useReducer:hc,useRef:Rd,useState:function(){return hc(il)},useDebugValue:gc,useDeferredValue:function(e,t){var n=nn();return kt===null?bc(n,e,t):Xd(n,kt.memoizedState,e,t)},useTransition:function(){var e=hc(il)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:vd,useId:Fd,useHostTransitionStatus:xc,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var n=nn();return kt!==null?_d(n,kt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fc,useCacheRefresh:Jd};eh.useEffectEvent=qd;function jc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Pn(),i=Ul(a);i.payload=t,n!=null&&(i.callback=n),t=Hl(e,i,a),t!==null&&(Hn(t,e,a),fs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Pn(),i=Ul(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Hl(e,i,a),t!==null&&(Hn(t,e,a),fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pn(),a=Ul(n);a.tag=2,t!=null&&(a.callback=t),t=Hl(e,a,n),t!==null&&(Hn(t,e,n),fs(t,e,n))}};function th(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function nh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function Oi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function ah(e){Be(e)}function lh(e){console.error(e)}function ih(e){Be(e)}function Ou(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function rh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function _c(e,t,n){return n=Ul(n),n.tag=3,n.payload={element:null},n.callback=function(){Ou(e,t)},n}function sh(e){return e=Ul(e),e.tag=3,e}function uh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){rh(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){rh(t,n,a),typeof i!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Sy(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&cr(t,n,i,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return ca===null?Ku():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===yu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),$c(e,a,i)),!1;case 22:return n.flags|=65536,a===yu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),$c(e,a,i)),!1}throw Error(d(435,n.tag))}return $c(e,a,i),Ku(),!1}if(yt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Xo&&(e=Error(d(422),{cause:a}),rs(ra(e,n)))):(a!==Xo&&(t=Error(d(423),{cause:a}),rs(ra(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=ra(a,n),i=_c(e.stateNode,a,i),tc(e,i),Pt!==4&&(Pt=2)),!1;var r=Error(d(520),{cause:a});if(r=ra(r,n),_s===null?_s=[r]:_s.push(r),Pt!==4&&(Pt=2),t===null)return!0;a=ra(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=_c(n.stateNode,a,e),tc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Gl===null||!Gl.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=sh(i),uh(i,e,n,a),tc(n,i),!1}n=n.return}while(n!==null);return!1}var Ec=Error(d(461)),cn=!1;function wn(e,t,n,a){t.child=e===null?dd(t,null,n,a):Ci(t,e.child,n,a)}function oh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var v in a)v!=="ref"&&(p[v]=a[v])}else p=a;return ji(t),a=sc(e,t,n,p,r,i),v=uc(),e!==null&&!cn?(oc(e,t,i),rl(e,t,i)):(yt&&v&&Qo(t),t.flags|=1,wn(e,t,a,i),t.child)}function ch(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!Ho(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,fh(e,t,r,a,i)):(e=cu(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!kc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return rl(e,t,i)}return t.flags|=1,e=el(r,a),e.ref=t.ref,e.return=t,t.child=e}function fh(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=r,kc(e,i))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,rl(e,t,i)}return Cc(e,t,n,a,i)}function dh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return hh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mu(t,r!==null?r.cachePool:null),r!==null?pd(t,r):ac(),yd(t);else return a=t.lanes=536870912,hh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(mu(t,r.cachePool),pd(t,r),Kl(),t.memoizedState=null):(e!==null&&mu(t,null),ac(),Kl());return wn(e,t,i,n),t.child}function bs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hh(e,t,n,a,i){var r=Po();return r=r===null?null:{parent:un._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&mu(t,null),ac(),yd(t),e!==null&&cr(e,t,a,!0),t.childLanes=i,null}function Du(e,t){return t=Mu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mh(e,t,n){return Ci(t,e.child,null,n),e=Du(t,t.pendingProps),e.flags|=2,Fn(t),t.memoizedState=null,e}function wy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(yt){if(a.mode==="hidden")return e=Du(t,a),t.lanes=536870912,bs(null,e);if(ic(t),(e=Xt)?(e=Em(e,oa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=Pf(e),n.return=t,t.child=n,xn=t,Xt=null)):e=null,e===null)throw Rl(t);return t.lanes=536870912,null}return Du(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(ic(t),i)if(t.flags&256)t.flags&=-257,t=mh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||cr(e,t,n,!1),i=(n&e.childLanes)!==0,cn||i){if(a=Lt,a!==null&&(p=Wt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,At(e,p),Hn(a,e,p),Ec;Ku(),t=mh(e,t,n)}else e=r.treeContext,Xt=fa(p.nextSibling),xn=t,yt=!0,kl=null,oa=!1,e!==null&&ed(t,e),t=Du(t,a),t.flags|=4096;return t}return e=el(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cc(e,t,n,a,i){return ji(t),n=sc(e,t,n,a,void 0,i),a=uc(),e!==null&&!cn?(oc(e,t,i),rl(e,t,i)):(yt&&a&&Qo(t),t.flags|=1,wn(e,t,n,i),t.child)}function ph(e,t,n,a,i,r){return ji(t),t.updateQueue=null,n=bd(t,a,n,i),gd(e),a=uc(),e!==null&&!cn?(oc(e,t,r),rl(e,t,r)):(yt&&a&&Qo(t),t.flags|=1,wn(e,t,n,r),t.child)}function yh(e,t,n,a,i){if(ji(t),t.stateNode===null){var r=rr,p=n.contextType;typeof p=="object"&&p!==null&&(r=Sn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Nc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Io(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?Sn(p):rr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(jc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&Nc.enqueueReplaceState(r,r.state,null),hs(t,a,r,i),ds(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,_=Oi(n,v);r.props=_;var V=r.context,ne=n.contextType;p=rr,typeof ne=="object"&&ne!==null&&(p=Sn(ne));var ie=n.getDerivedStateFromProps;ne=typeof ie=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,ne||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||V!==p)&&nh(t,r,a,p),ql=!1;var J=t.memoizedState;r.state=J,hs(t,a,r,i),ds(),V=t.memoizedState,v||J!==V||ql?(typeof ie=="function"&&(jc(t,n,ie,a),V=t.memoizedState),(_=ql||th(t,n,_,a,J,V,p))?(ne||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=V),r.props=a,r.state=V,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,ec(e,t),p=t.memoizedProps,ne=Oi(n,p),r.props=ne,ie=t.pendingProps,J=r.context,V=n.contextType,_=rr,typeof V=="object"&&V!==null&&(_=Sn(V)),v=n.getDerivedStateFromProps,(V=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==ie||J!==_)&&nh(t,r,a,_),ql=!1,J=t.memoizedState,r.state=J,hs(t,a,r,i),ds();var I=t.memoizedState;p!==ie||J!==I||ql||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof v=="function"&&(jc(t,n,v,a),I=t.memoizedState),(ne=ql||th(t,n,ne,a,J,I,_)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(V||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,I,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,I,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=I),r.props=a,r.state=I,r.context=_,a=ne):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Tu(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,n,i)):wn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=rl(e,t,i),e}function gh(e,t,n,a){return Si(),t.flags|=256,wn(e,t,n,a),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(e){return{baseLanes:e,cachePool:rd()}}function Dc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$n),e}function bh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(yt){if(i?Ll(t):Kl(),(e=Xt)?(e=Em(e,oa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=Pf(e),n.return=t,t.child=n,xn=t,Xt=null)):e=null,e===null)throw Rl(t);return hf(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,i?(Kl(),i=t.mode,v=Mu({mode:"hidden",children:v},i),a=xi(a,i,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=Oc(n),a.childLanes=Dc(e,p,n),t.memoizedState=Ac,bs(null,a)):(Ll(t),Tc(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(r)t.flags&256?(Ll(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState!==null?(Kl(),t.child=e.child,t.flags|=128,t=null):(Kl(),v=a.fallback,i=t.mode,a=Mu({mode:"visible",children:a.children},i),v=xi(v,i,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Ci(t,e.child,null,n),a=t.child,a.memoizedState=Oc(n),a.childLanes=Dc(e,p,n),t.memoizedState=Ac,t=bs(null,a));else if(Ll(t),hf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var V=p.dgst;p=V,a=Error(d(419)),a.stack="",a.digest=p,rs({value:a,source:null,stack:null}),t=Mc(e,t,n)}else if(cn||cr(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=Lt,p!==null&&(a=Wt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,At(e,a),Hn(p,e,a),Ec;df(v)||Ku(),t=Mc(e,t,n)}else df(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Xt=fa(v.nextSibling),xn=t,yt=!0,kl=null,oa=!1,e!==null&&ed(t,e),t=Tc(t,a.children),t.flags|=4096);return t}return i?(Kl(),v=a.fallback,i=t.mode,_=e.child,V=_.sibling,a=el(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,V!==null?v=el(V,v):(v=xi(v,i,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,bs(null,a),a=t.child,v=e.child.memoizedState,v===null?v=Oc(n):(i=v.cachePool,i!==null?(_=un._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=rd(),v={baseLanes:v.baseLanes|n,cachePool:i}),a.memoizedState=v,a.childLanes=Dc(e,p,n),t.memoizedState=Ac,bs(e.child,a)):(Ll(t),n=e.child,e=n.sibling,n=el(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Tc(e,t){return t=Mu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mu(e,t){return e=Vn(22,e,null,t),e.lanes=0,e}function Mc(e,t,n){return Ci(t,e.child,null,n),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zo(e.return,t,n)}function zc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function xh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=tn.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,Se(tn,p),wn(e,t,a,n),a=yt?is:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vh(e,n,t);else if(e.tag===19)vh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zc(t,!0,n,null,r,a);break;case"together":zc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(cr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=el(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=el(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function jy(e,t,n){switch(t.tag){case 3:Vt(t,t.stateNode.containerInfo),Bl(t,un,e.memoizedState.cache),Si();break;case 27:case 5:ge(t);break;case 4:Vt(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ic(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ll(t),t.flags|=128,null):(n&t.child.childLanes)!==0?bh(e,t,n):(Ll(t),e=rl(e,t,n),e!==null?e.sibling:null);Ll(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(cr(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return xh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(tn,tn.current),a)break;return null;case 22:return t.lanes=0,dh(e,t,n,t.pendingProps);case 24:Bl(t,un,e.memoizedState.cache)}return rl(e,t,n)}function Sh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!kc(e,n)&&(t.flags&128)===0)return cn=!1,jy(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,yt&&(t.flags&1048576)!==0&&If(t,is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=_i(t.elementType),t.type=e,typeof e=="function")Ho(e)?(a=Oi(e,a),t.tag=1,t=yh(null,t,e,a,n)):(t.tag=0,t=Cc(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ae){t.tag=11,t=oh(null,t,e,a,n);break e}else if(i===xe){t.tag=14,t=ch(null,t,e,a,n);break e}}throw t=Ee(e)||e,Error(d(306,t,""))}}return t;case 0:return Cc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Oi(a,t.pendingProps),yh(e,t,a,i,n);case 3:e:{if(Vt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,ec(e,t),hs(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Bl(t,un,a),a!==r.cache&&Fo(t,[un],n,!0),ds(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=gh(e,t,a,n);break e}else if(a!==i){i=ra(Error(d(424)),t),rs(i),t=gh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xt=fa(e.firstChild),xn=t,yt=!0,kl=null,oa=!0,n=dd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),a===i){t=rl(e,t,n);break e}wn(e,t,a,n)}t=t.child}return t;case 26:return Tu(e,t),e===null?(n=Mm(t.type,null,t.pendingProps,null))?t.memoizedState=n:yt||(n=t.type,e=t.pendingProps,a=Fu(at.current).createElement(n),a[Kt]=t,a[It]=e,jn(a,n,e),en(a),t.stateNode=a):t.memoizedState=Mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&yt&&(a=t.stateNode=Om(t.type,t.pendingProps,at.current),xn=t,oa=!0,i=Xt,Jl(t.type)?(mf=i,Xt=fa(a.firstChild)):Xt=i),wn(e,t,t.pendingProps.children,n),Tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&yt&&((i=a=Xt)&&(a=Iy(a,t.type,t.pendingProps,oa),a!==null?(t.stateNode=a,xn=t,Xt=fa(a.firstChild),oa=!1,i=!0):i=!1),i||Rl(t)),ge(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,of(i,r)?a=null:p!==null&&of(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=sc(e,t,my,null,null,n),zs._currentValue=i),Tu(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&yt&&((e=n=Xt)&&(n=e0(n,t.pendingProps,oa),n!==null?(t.stateNode=n,xn=t,Xt=null,e=!0):e=!1),e||Rl(t)),null;case 13:return bh(e,t,n);case 4:return Vt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ci(t,null,a,n):wn(e,t,a,n),t.child;case 11:return oh(e,t,t.type,t.pendingProps,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Bl(t,t.type,a.value),wn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ji(t),i=Sn(i),a=a(i),t.flags|=1,wn(e,t,a,n),t.child;case 14:return ch(e,t,t.type,t.pendingProps,n);case 15:return fh(e,t,t.type,t.pendingProps,n);case 19:return xh(e,t,n);case 31:return wy(e,t,n);case 22:return dh(e,t,n,t.pendingProps);case 24:return ji(t),a=Sn(un),e===null?(i=Po(),i===null&&(i=Lt,r=Jo(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Io(t),Bl(t,un,i)):((e.lanes&n)!==0&&(ec(e,t),hs(t,null,null,n),ds()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Bl(t,un,a)):(a=r.cache,Bl(t,un,a),a!==i.cache&&Fo(t,[un],n,!0))),wn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function sl(e){e.flags|=4}function Rc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fh())e.flags|=8192;else throw Ei=yu,Wo}else e.flags&=-16777217}function wh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qm(t))if(Fh())e.flags|=8192;else throw Ei=yu,Wo}function zu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Js():536870912,e.lanes|=t,wr|=t)}function vs(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ny(e,t,n){var a=t.pendingProps;switch(Yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return Gt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),al(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(or(t)?sl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Go())),Gt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(sl(t),r!==null?(Gt(t),wh(t,r)):(Gt(t),Rc(t,i,null,a,n))):r?r!==e.memoizedState?(sl(t),Gt(t),wh(t,r)):(Gt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&sl(t),Gt(t),Rc(t,i,e,a,n)),null;case 27:if(ft(t),n=at.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Gt(t),null}e=ke.current,or(t)?td(t):(e=Om(i,a,n),t.stateNode=e,sl(t))}return Gt(t),null;case 5:if(ft(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Gt(t),null}if(r=ke.current,or(t))td(t);else{var p=Fu(at.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[Kt]=t,r[It]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(jn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sl(t)}}return Gt(t),Rc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&sl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=at.current,or(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=xn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||bm(e.nodeValue,n)),e||Rl(t,!0)}else e=Fu(e).createTextNode(a),e[Kt]=t,t.stateNode=e}return Gt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=or(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Kt]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gt(t),e=!1}else n=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Fn(t),t):(Fn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Gt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=or(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Kt]=t}else Si(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else i=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Fn(t),t):(Fn(t),null)}return Fn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),zu(t,t.updateQueue),Gt(t),null);case 4:return dn(),e===null&&af(t.stateNode.containerInfo),Gt(t),null;case 10:return al(t.type),Gt(t),null;case 19:if(ue(tn),a=t.memoizedState,a===null)return Gt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)vs(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=xu(e),r!==null){for(t.flags|=128,vs(a,!1),e=r.updateQueue,t.updateQueue=e,zu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$f(n,e),n=n.sibling;return Se(tn,tn.current&1|2),yt&&tl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&lt()>Uu&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304)}else{if(!i)if(e=xu(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,zu(t,e),vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!yt)return Gt(t),null}else 2*lt()-a.renderingStartTime>Uu&&n!==536870912&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lt(),e.sibling=null,n=tn.current,Se(tn,i?n&1|2:n&1),yt&&tl(t,a.treeForkCount),e):(Gt(t),null);case 22:case 23:return Fn(t),lc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),n=t.updateQueue,n!==null&&zu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ue(Ni),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),al(un),Gt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function _y(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return al(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ft(t),null;case 31:if(t.memoizedState!==null){if(Fn(t),t.alternate===null)throw Error(d(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(tn),null;case 4:return dn(),null;case 10:return al(t.type),null;case 22:case 23:return Fn(t),lc(),e!==null&&ue(Ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return al(un),null;case 25:return null;default:return null}}function jh(e,t){switch(Yo(t),t.tag){case 3:al(un),dn();break;case 26:case 27:case 5:ft(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&Fn(t);break;case 13:Fn(t);break;case 19:ue(tn);break;case 10:al(t.type);break;case 22:case 23:Fn(t),lc(),e!==null&&ue(Ni);break;case 24:al(un)}}function xs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(v){Tt(t,t.return,v)}}function Ql(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,i=t;var _=n,V=v;try{V()}catch(ne){Tt(i,_,ne)}}}a=a.next}while(a!==r)}}catch(ne){Tt(t,t.return,ne)}}function Nh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{md(t,n)}catch(a){Tt(e,e.return,a)}}}function _h(e,t,n){n.props=Oi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Tt(e,t,a)}}function Ss(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Tt(e,t,i)}}function Ua(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Tt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Tt(e,t,i)}else n.current=null}function Eh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Tt(e,e.return,i)}}function Bc(e,t,n){try{var a=e.stateNode;Zy(a,e.type,n,t),a[It]=t}catch(i){Tt(e,e.return,i)}}function Ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kn));else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function ku(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function Ah(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);jn(t,a,n),t[Kt]=e,t[It]=n}catch(r){Tt(e,e.return,r)}}var ul=!1,fn=!1,Hc=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Ey(e,t){if(e=e.containerInfo,sf=to,e=y(e),g(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,V=0,ne=0,ie=e,J=null;t:for(;;){for(var I;ie!==n||i!==0&&ie.nodeType!==3||(v=p+i),ie!==r||a!==0&&ie.nodeType!==3||(_=p+a),ie.nodeType===3&&(p+=ie.nodeValue.length),(I=ie.firstChild)!==null;)J=ie,ie=I;for(;;){if(ie===e)break t;if(J===n&&++V===i&&(v=p),J===r&&++ne===a&&(_=p),(I=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=I}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(uf={focusedElem:e,selectionRange:n},to=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var qe=Oi(n.type,i);e=a.getSnapshotBeforeUpdate(qe,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){Tt(n,n.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ff(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function Dh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:cl(e,n),a&4&&xs(5,n);break;case 1:if(cl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Tt(n,n.return,p)}else{var i=Oi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Tt(n,n.return,p)}}a&64&&Nh(n),a&512&&Ss(n,n.return);break;case 3:if(cl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{md(e,t)}catch(p){Tt(n,n.return,p)}}break;case 27:t===null&&a&4&&Ah(n);case 26:case 5:cl(e,n),t===null&&a&4&&Eh(n),a&512&&Ss(n,n.return);break;case 12:cl(e,n);break;case 31:cl(e,n),a&4&&zh(e,n);break;case 13:cl(e,n),a&4&&kh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ry.bind(null,n),t0(e,n))));break;case 22:if(a=n.memoizedState!==null||ul,!a){t=t!==null&&t.memoizedState!==null||fn,i=ul;var r=fn;ul=a,(fn=t)&&!r?fl(e,n,(n.subtreeFlags&8772)!==0):cl(e,n),ul=i,fn=r}break;case 30:break;default:cl(e,n)}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Li(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Rn=!1;function ol(e,t,n){for(n=n.child;n!==null;)Mh(e,t,n),n=n.sibling}function Mh(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(qt,n)}catch{}switch(n.tag){case 26:fn||Ua(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ua(n,t);var a=Ft,i=Rn;Jl(n.type)&&(Ft=n.stateNode,Rn=!1),ol(e,t,n),Ds(n.stateNode),Ft=a,Rn=i;break;case 5:fn||Ua(n,t);case 6:if(a=Ft,i=Rn,Ft=null,ol(e,t,n),Ft=a,Rn=i,Ft!==null)if(Rn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(n.stateNode)}catch(r){Tt(n,t,r)}else try{Ft.removeChild(n.stateNode)}catch(r){Tt(n,t,r)}break;case 18:Ft!==null&&(Rn?(e=Ft,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Dr(e)):Nm(Ft,n.stateNode));break;case 4:a=Ft,i=Rn,Ft=n.stateNode.containerInfo,Rn=!0,ol(e,t,n),Ft=a,Rn=i;break;case 0:case 11:case 14:case 15:Ql(2,n,t),fn||Ql(4,n,t),ol(e,t,n);break;case 1:fn||(Ua(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&_h(n,t,a)),ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,ol(e,t,n),fn=a;break;default:ol(e,t,n)}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dr(e)}catch(n){Tt(t,t.return,n)}}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(n){Tt(t,t.return,n)}}function Cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Oh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Oh),t;default:throw Error(d(435,e.tag))}}function Ru(e,t){var n=Cy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=By.bind(null,e,a);a.then(i,i)}})}function Bn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Jl(v.type)){Ft=v.stateNode,Rn=!1;break e}break;case 5:Ft=v.stateNode,Rn=!1;break e;case 3:case 4:Ft=v.stateNode.containerInfo,Rn=!0;break e}v=v.return}if(Ft===null)throw Error(d(160));Mh(r,p,i),Ft=null,Rn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var Sa=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(t,e),qn(e),a&4&&(Ql(3,e,e.return),xs(3,e),Ql(5,e,e.return));break;case 1:Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),a&64&&ul&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Sa;if(Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Yn]||r[Kt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),jn(r,a,n),r[Kt]=e,en(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(r=p[v],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}r=i.createElement(a),jn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(v=0;v<p.length;v++)if(r=p[v],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}r=i.createElement(a),jn(r,a,n),i.head.appendChild(r);break;default:throw Error(d(468,a))}r[Kt]=e,en(r),a=r}e.stateNode=a}else Bm(i,e.type,e.stateNode);else e.stateNode=km(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Bm(i,e.type,e.stateNode):km(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Bc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),n!==null&&a&4&&Bc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bn(t,e),qn(e),a&512&&(fn||n===null||Ua(n,n.return)),e.flags&32){i=e.stateNode;try{Xa(i,"")}catch(qe){Tt(e,e.return,qe)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Bc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Hc=!0);break;case 6:if(Bn(t,e),qn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(qe){Tt(e,e.return,qe)}}break;case 3:if(Pu=null,i=Sa,Sa=Ju(t.containerInfo),Bn(t,e),Sa=i,qn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(qe){Tt(e,e.return,qe)}Hc&&(Hc=!1,Bh(e));break;case 4:a=Sa,Sa=Ju(e.stateNode.containerInfo),Bn(t,e),qn(e),Sa=a;break;case 12:Bn(t,e),qn(e);break;case 31:Bn(t,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 13:Bn(t,e),qn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(qu=lt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,V=ul,ne=fn;if(ul=V||i,fn=ne||_,Bn(t,e),fn=ne,ul=V,qn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||ul||fn||Di(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var ie=_.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;v.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(qe){Tt(_,_.return,qe)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(qe){Tt(_,_.return,qe)}}}else if(t.tag===18){if(n===null){_=t;try{var I=_.stateNode;i?_m(I,!0):_m(_.stateNode,!1)}catch(qe){Tt(_,_.return,qe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ru(e,n))));break;case 19:Bn(t,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 30:break;case 21:break;default:Bn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Ch(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,r=qc(e);ku(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(Xa(p,""),n.flags&=-33);var v=qc(e);ku(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,V=qc(e);Uc(e,V,_);break;default:throw Error(d(161))}}catch(ne){Tt(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dh(e,t.alternate,t),t=t.sibling}function Di(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ql(4,t,t.return),Di(t);break;case 1:Ua(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&_h(t,t.return,n),Di(t);break;case 27:Ds(t.stateNode);case 26:case 5:Ua(t,t.return),Di(t);break;case 22:t.memoizedState===null&&Di(t);break;case 30:Di(t);break;default:Di(t)}e=e.sibling}}function fl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:fl(i,r,n),xs(4,r);break;case 1:if(fl(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(V){Tt(a,a.return,V)}if(a=r,i=a.updateQueue,i!==null){var v=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)hd(_[i],v)}catch(V){Tt(a,a.return,V)}}n&&p&64&&Nh(r),Ss(r,r.return);break;case 27:Ah(r);case 26:case 5:fl(i,r,n),n&&a===null&&p&4&&Eh(r),Ss(r,r.return);break;case 12:fl(i,r,n);break;case 31:fl(i,r,n),n&&p&4&&zh(i,r);break;case 13:fl(i,r,n),n&&p&4&&kh(i,r);break;case 22:r.memoizedState===null&&fl(i,r,n),Ss(r,r.return);break;case 30:break;default:fl(i,r,n)}t=t.sibling}}function Lc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ss(n))}function Kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e))}function wa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qh(e,t,n,a),t=t.sibling}function qh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,n,a),i&2048&&xs(9,t);break;case 1:wa(e,t,n,a);break;case 3:wa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e)));break;case 12:if(i&2048){wa(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,v=r.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Tt(t,t.return,_)}}else wa(e,t,n,a);break;case 31:wa(e,t,n,a);break;case 13:wa(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?wa(e,t,n,a):ws(e,t):r._visibility&2?wa(e,t,n,a):(r._visibility|=2,vr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Lc(p,t);break;case 24:wa(e,t,n,a),i&2048&&Kc(t.alternate,t);break;default:wa(e,t,n,a)}}function vr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,v=n,_=a,V=p.flags;switch(p.tag){case 0:case 11:case 15:vr(r,p,v,_,i),xs(8,p);break;case 23:break;case 22:var ne=p.stateNode;p.memoizedState!==null?ne._visibility&2?vr(r,p,v,_,i):ws(r,p):(ne._visibility|=2,vr(r,p,v,_,i)),i&&V&2048&&Lc(p.alternate,p);break;case 24:vr(r,p,v,_,i),i&&V&2048&&Kc(p.alternate,p);break;default:vr(r,p,v,_,i)}t=t.sibling}}function ws(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ws(n,a),i&2048&&Lc(a.alternate,a);break;case 24:ws(n,a),i&2048&&Kc(a.alternate,a);break;default:ws(n,a)}t=t.sibling}}var js=8192;function xr(e,t,n){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Uh(e,t,n),e=e.sibling}function Uh(e,t,n){switch(e.tag){case 26:xr(e,t,n),e.flags&js&&e.memoizedState!==null&&h0(n,Sa,e.memoizedState,e.memoizedProps);break;case 5:xr(e,t,n);break;case 3:case 4:var a=Sa;Sa=Ju(e.stateNode.containerInfo),xr(e,t,n),Sa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=js,js=16777216,xr(e,t,n),js=a):xr(e,t,n));break;default:xr(e,t,n)}}function Hh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Kh(a,e)}Hh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lh(e),e=e.sibling}function Lh(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&Ql(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bu(e)):Ns(e);break;default:Ns(e)}}function Bu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Kh(a,e)}Hh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ql(8,t,t.return),Bu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bu(t));break;default:Bu(t)}e=e.sibling}}function Kh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Ql(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ss(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var i=a.sibling,r=a.return;if(Th(a),a===n){bn=null;break e}if(i!==null){i.return=r,bn=i;break e}bn=r}}}var Ay={getCacheForType:function(e){var t=Sn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Sn(un).controller.signal}},Oy=typeof WeakMap=="function"?WeakMap:Map,_t=0,Lt=null,ot=null,ht=0,Dt=0,Jn=null,Yl=!1,Sr=!1,Qc=!1,dl=0,Pt=0,Xl=0,Ti=0,Yc=0,$n=0,wr=0,_s=null,Un=null,Xc=!1,qu=0,Qh=0,Uu=1/0,Hu=null,Gl=null,hn=0,Vl=null,jr=null,hl=0,Gc=0,Vc=null,Yh=null,Es=0,Zc=null;function Pn(){return(_t&2)!==0&&ht!==0?ht&-ht:Y.T!==null?Ic():ii()}function Xh(){if($n===0)if((ht&536870912)===0||yt){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),$n=e}else $n=536870912;return e=Zn.current,e!==null&&(e.flags|=32),$n}function Hn(e,t,n){(e===Lt&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)&&(Nr(e,0),Zl(e,ht,$n,!1)),ta(e,n),((_t&2)===0||e!==Lt)&&(e===Lt&&((_t&2)===0&&(Ti|=n),Pt===4&&Zl(e,ht,$n,!1)),Ha(e))}function Gh(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ka(e,t),i=a?My(e,t):Jc(e,t,!0),r=a;do{if(i===0){Sr&&!a&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Dy(n)){i=Jc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;i=_s;var _=v.current.memoizedState.isDehydrated;if(_&&(Nr(v,p).flags|=256),p=Jc(v,p,!1),p!==2){if(Qc&&!_){v.errorRecoveryDisabledLanes|=r,Ti|=r,i=4;break e}r=Un,Un=i,r!==null&&(Un===null?Un=r:Un.push.apply(Un,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){Nr(e,0),Zl(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Zl(a,t,$n,!Yl);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=qu+300-lt(),10<i)){if(Zl(a,t,$n,!Yl),ai(a,0,!0)!==0)break e;hl=t,a.timeoutHandle=wm(Vh.bind(null,a,n,Un,Hu,Xc,t,$n,Ti,wr,Yl,r,"Throttled",-0,0),i);break e}Vh(a,n,Un,Hu,Xc,t,$n,Ti,wr,Yl,r,null,-0,0)}}break}while(!0);Ha(e)}function Vh(e,t,n,a,i,r,p,v,_,V,ne,ie,J,I){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Uh(t,r,ie);var qe=(r&62914560)===r?qu-lt():(r&4194048)===r?Qh-lt():0;if(qe=m0(ie,qe),qe!==null){hl=r,e.cancelPendingCommit=qe(em.bind(null,e,t,r,n,a,i,p,v,_,ne,ie,null,J,I)),Zl(e,r,p,!V);return}}em(e,t,r,n,a,i,p,v,_)}function Dy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!En(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,a){t&=~Yc,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-_e(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&li(e,n,t)}function Lu(){return(_t&6)===0?(Cs(0),!1):!0}function Fc(){if(ot!==null){if(Dt===0)var e=ot.return;else e=ot,nl=wi=null,cc(e),mr=null,os=0,e=ot;for(;e!==null;)jh(e.alternate,e),e=e.return;ot=null}}function Nr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$y(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hl=0,Fc(),Lt=e,ot=n=el(e.current,null),ht=t,Dt=0,Jn=null,Yl=!1,Sr=Ka(e,t),Qc=!1,wr=$n=Yc=Ti=Xl=Pt=0,Un=_s=null,Xc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-_e(a),r=1<<i;t|=e[i],a&=~r}return dl=t,Ie(),n}function Zh(e,t){nt=null,Y.H=gs,t===hr||t===pu?(t=od(),Dt=3):t===Wo?(t=od(),Dt=4):Dt=t===Ec?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ot===null&&(Pt=1,Ou(e,ra(t,e.current)))}function Fh(){var e=Zn.current;return e===null?!0:(ht&4194048)===ht?ca===null:(ht&62914560)===ht||(ht&536870912)!==0?e===ca:!1}function Jh(){var e=Y.H;return Y.H=gs,e===null?gs:e}function $h(){var e=Y.A;return Y.A=Ay,e}function Ku(){Pt=4,Yl||(ht&4194048)!==ht&&Zn.current!==null||(Sr=!0),(Xl&134217727)===0&&(Ti&134217727)===0||Lt===null||Zl(Lt,ht,$n,!1)}function Jc(e,t,n){var a=_t;_t|=2;var i=Jh(),r=$h();(Lt!==e||ht!==t)&&(Hu=null,Nr(e,t)),t=!1;var p=Pt;e:do try{if(Dt!==0&&ot!==null){var v=ot,_=Jn;switch(Dt){case 8:Fc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var V=Dt;if(Dt=0,Jn=null,_r(e,v,_,V),n&&Sr){p=0;break e}break;default:V=Dt,Dt=0,Jn=null,_r(e,v,_,V)}}Ty(),p=Pt;break}catch(ne){Zh(e,ne)}while(!0);return t&&e.shellSuspendCounter++,nl=wi=null,_t=a,Y.H=i,Y.A=r,ot===null&&(Lt=null,ht=0,Ie()),p}function Ty(){for(;ot!==null;)Ph(ot)}function My(e,t){var n=_t;_t|=2;var a=Jh(),i=$h();Lt!==e||ht!==t?(Hu=null,Uu=lt()+500,Nr(e,t)):Sr=Ka(e,t);e:do try{if(Dt!==0&&ot!==null){t=ot;var r=Jn;t:switch(Dt){case 1:Dt=0,Jn=null,_r(e,t,r,1);break;case 2:case 9:if(sd(r)){Dt=0,Jn=null,Wh(t);break}t=function(){Dt!==2&&Dt!==9||Lt!==e||(Dt=7),Ha(e)},r.then(t,t);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:sd(r)?(Dt=0,Jn=null,Wh(t)):(Dt=0,Jn=null,_r(e,t,r,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var v=ot;if(p?qm(p):v.stateNode.complete){Dt=0,Jn=null;var _=v.sibling;if(_!==null)ot=_;else{var V=v.return;V!==null?(ot=V,Qu(V)):ot=null}break t}}Dt=0,Jn=null,_r(e,t,r,5);break;case 6:Dt=0,Jn=null,_r(e,t,r,6);break;case 8:Fc(),Pt=6;break e;default:throw Error(d(462))}}zy();break}catch(ne){Zh(e,ne)}while(!0);return nl=wi=null,Y.H=a,Y.A=i,_t=n,ot!==null?0:(Lt=null,ht=0,Ie(),Pt)}function zy(){for(;ot!==null&&!he();)Ph(ot)}function Ph(e){var t=Sh(e.alternate,e,dl);e.memoizedProps=e.pendingProps,t===null?Qu(e):ot=t}function Wh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ph(n,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=ph(n,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:cc(t);default:jh(n,t),t=ot=$f(t,dl),t=Sh(n,t,dl)}e.memoizedProps=e.pendingProps,t===null?Qu(e):ot=t}function _r(e,t,n,a){nl=wi=null,cc(t),mr=null,os=0;var i=t.return;try{if(Sy(e,i,t,n,ht)){Pt=1,Ou(e,ra(n,e.current)),ot=null;return}}catch(r){if(i!==null)throw ot=i,r;Pt=1,Ou(e,ra(n,e.current)),ot=null;return}t.flags&32768?(yt||a===1?e=!0:Sr||(ht&536870912)!==0?e=!1:(Yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ih(t,e)):Qu(t)}function Qu(e){var t=e;do{if((t.flags&32768)!==0){Ih(t,Yl);return}e=t.return;var n=Ny(t.alternate,t,dl);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Pt===0&&(Pt=5)}function Ih(e,t){do{var n=_y(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);Pt=6,ot=null}function em(e,t,n,a,i,r,p,v,_){e.cancelPendingCommit=null;do Yu();while(hn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Ke,qr(e,n,r,p,v,_),e===Lt&&(ot=Lt=null,ht=0),jr=t,Vl=e,hl=n,Gc=r,Vc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,qy(rn,function(){return im(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,i=se.p,se.p=2,p=_t,_t|=4;try{Ey(e,t,n)}finally{_t=p,se.p=i,Y.T=a}}hn=1,tm(),nm(),am()}}function tm(){if(hn===1){hn=0;var e=Vl,t=jr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=se.p;se.p=2;var i=_t;_t|=4;try{Rh(t,e);var r=uf,p=y(e.containerInfo),v=r.focusedElem,_=r.selectionRange;if(p!==v&&v&&v.ownerDocument&&h(v.ownerDocument.documentElement,v)){if(_!==null&&g(v)){var V=_.start,ne=_.end;if(ne===void 0&&(ne=V),"selectionStart"in v)v.selectionStart=V,v.selectionEnd=Math.min(ne,v.value.length);else{var ie=v.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var I=J.getSelection(),qe=v.textContent.length,Fe=Math.min(_.start,qe),Bt=_.end===void 0?Fe:Math.min(_.end,qe);!I.extend&&Fe>Bt&&(p=Bt,Bt=Fe,Fe=p);var q=c(v,Fe),z=c(v,Bt);if(q&&z&&(I.rangeCount!==1||I.anchorNode!==q.node||I.anchorOffset!==q.offset||I.focusNode!==z.node||I.focusOffset!==z.offset)){var G=ie.createRange();G.setStart(q.node,q.offset),I.removeAllRanges(),Fe>Bt?(I.addRange(G),I.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),I.addRange(G))}}}}for(ie=[],I=v;I=I.parentNode;)I.nodeType===1&&ie.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ie.length;v++){var le=ie[v];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}to=!!sf,uf=sf=null}finally{_t=i,se.p=a,Y.T=n}}e.current=t,hn=2}}function nm(){if(hn===2){hn=0;var e=Vl,t=jr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=se.p;se.p=2;var i=_t;_t|=4;try{Dh(e,t.alternate,t)}finally{_t=i,se.p=a,Y.T=n}}hn=3}}function am(){if(hn===4||hn===3){hn=0,Ve();var e=Vl,t=jr,n=hl,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,jr=Vl=null,lm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Gl=null),xl(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,i=se.p,se.p=2,Y.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var v=a[p];r(v.value,{componentStack:v.stack})}}finally{Y.T=t,se.p=i}}(hl&3)!==0&&Yu(),Ha(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Zc?Es++:(Es=0,Zc=e):Es=0,Cs(0)}}function lm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ss(t)))}function Yu(){return tm(),nm(),am(),im()}function im(){if(hn!==5)return!1;var e=Vl,t=Gc;Gc=0;var n=xl(hl),a=Y.T,i=se.p;try{se.p=32>n?32:n,Y.T=null,n=Vc,Vc=null;var r=Vl,p=hl;if(hn=0,jr=Vl=null,hl=0,(_t&6)!==0)throw Error(d(331));var v=_t;if(_t|=4,Lh(r.current),qh(r,r.current,p,n),_t=v,Cs(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(qt,r)}catch{}return!0}finally{se.p=i,Y.T=a,lm(e,t)}}function rm(e,t,n){t=ra(n,t),t=_c(e.stateNode,t,2),e=Hl(e,t,2),e!==null&&(ta(e,2),Ha(e))}function Tt(e,t,n){if(e.tag===3)rm(e,e,n);else for(;t!==null;){if(t.tag===3){rm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gl===null||!Gl.has(a))){e=ra(n,e),n=sh(2),a=Hl(t,n,2),a!==null&&(uh(n,a,t,e),ta(a,2),Ha(a));break}}t=t.return}}function $c(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Oy;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Qc=!0,i.add(n),e=ky.bind(null,e,t,n),t.then(e,e))}function ky(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(ht&n)===n&&(Pt===4||Pt===3&&(ht&62914560)===ht&&300>lt()-qu?(_t&2)===0&&Nr(e,0):Yc|=n,wr===ht&&(wr=0)),Ha(e)}function sm(e,t){t===0&&(t=Js()),e=At(e,t),e!==null&&(ta(e,t),Ha(e))}function Ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sm(e,n)}function By(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),sm(e,n)}function qy(e,t){return ee(e,t)}var Xu=null,Er=null,Pc=!1,Gu=!1,Wc=!1,Fl=0;function Ha(e){e!==Er&&e.next===null&&(Er===null?Xu=Er=e:Er=Er.next=e),Gu=!0,Pc||(Pc=!0,Hy())}function Cs(e,t){if(!Wc&&Gu){Wc=!0;do for(var n=!1,a=Xu;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,v=a.pingedLanes;r=(1<<31-_e(42|e)+1)-1,r&=i&~(p&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,fm(a,r))}else r=ht,r=ai(a,a===Lt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Ka(a,r)||(n=!0,fm(a,r));a=a.next}while(n);Wc=!1}}function Uy(){um()}function um(){Gu=Pc=!1;var e=0;Fl!==0&&Jy()&&(e=Fl);for(var t=lt(),n=null,a=Xu;a!==null;){var i=a.next,r=om(a,t);r===0?(a.next=null,n===null?Xu=i:n.next=i,i===null&&(Er=n)):(n=a,(e!==0||(r&3)!==0)&&(Gu=!0)),a=i}hn!==0&&hn!==5||Cs(e),Fl!==0&&(Fl=0)}function om(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-_e(r),v=1<<p,_=i[p];_===-1?((v&n)===0||(v&a)!==0)&&(i[p]=Do(v,t)):_<=t&&(e.expiredLanes|=v),r&=~v}if(t=Lt,n=ht,n=ai(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ze(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ka(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ze(a),xl(n)){case 2:case 8:n=mn;break;case 32:n=rn;break;case 268435456:n=Me;break;default:n=rn}return a=cm.bind(null,e),n=ee(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ze(a),e.callbackPriority=2,e.callbackNode=null,2}function cm(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var a=ht;return a=ai(e,e===Lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Gh(e,a,t),om(e,lt()),e.callbackNode!=null&&e.callbackNode===n?cm.bind(null,e):null)}function fm(e,t){if(Yu())return null;Gh(e,t,!0)}function Hy(){Py(function(){(_t&6)!==0?ee(Et,Uy):um()})}function Ic(){if(Fl===0){var e=fr;e===0&&(e=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Fl=e}return Fl}function dm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function hm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ly(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=dm((i[It]||null).action),p=a.submitter;p&&(t=(t=p[It]||null)?dm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var v=new Gi("action","action",null,a,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fl!==0){var _=p?hm(i,p):new FormData(i);vc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(v.preventDefault(),_=p?hm(i,p):new FormData(i),vc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var ef=0;ef<Te.length;ef++){var tf=Te[ef],Ky=tf.toLowerCase(),Qy=tf[0].toUpperCase()+tf.slice(1);fe(Ky,"on"+Qy)}fe(Z,"onAnimationEnd"),fe(L,"onAnimationIteration"),fe(te,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(oe,"onTransitionRun"),fe(we,"onTransitionStart"),fe(je,"onTransitionCancel"),fe(ce,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],_=v.instance,V=v.currentTarget;if(v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=V;try{r(i)}catch(ne){Be(ne)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(v=a[p],_=v.instance,V=v.currentTarget,v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=V;try{r(i)}catch(ne){Be(ne)}i.currentTarget=null,r=_}}}}function ct(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var a=e+"__bubble";n.has(a)||(pm(t,e,2,!1),n.add(a))}function nf(e,t,n){var a=0;t&&(a|=4),pm(n,e,a,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function af(e){if(!e[Vu]){e[Vu]=!0,Qa.forEach(function(n){n!=="selectionchange"&&(Yy.has(n)||nf(n,!1,e),nf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vu]||(t[Vu]=!0,nf("selectionchange",!1,t))}}function pm(e,t,n,a){switch(Xm(t)){case 2:var i=g0;break;case 8:i=b0;break;default:i=vf}n=i.bind(null,t,n,e),i=void 0,!Gr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lf(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;v!==null;){if(p=Oa(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}v=v.parentNode}}a=a.return}jl(function(){var V=r,ne=Yi(n),ie=[];e:{var J=Re.get(e);if(J!==void 0){var I=Gi,qe=e;switch(e){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":I=Wi;break;case"focusin":qe="focus",I=Cl;break;case"focusout":qe="blur",I=Cl;break;case"beforeblur":case"afterblur":I=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Is;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Wr;break;case Z:case L:case te:I=eu;break;case ce:I=Ir;break;case"scroll":case"scrollend":I=Vi;break;case"wheel":I=er;break;case"copy":case"cut":case"paste":I=Al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Pr;break;case"toggle":case"beforetoggle":I=au}var Fe=(t&4)!==0,Bt=!Fe&&(e==="scroll"||e==="scrollend"),q=Fe?J!==null?J+"Capture":null:J;Fe=[];for(var z=V,G;z!==null;){var le=z;if(G=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||G===null||q===null||(le=Za(z,q),le!=null&&Fe.push(Os(z,le,G))),Bt)break;z=z.return}0<Fe.length&&(J=new I(J,qe,null,n,ne),ie.push({event:J,listeners:Fe}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",J&&n!==aa&&(qe=n.relatedTarget||n.fromElement)&&(Oa(qe)||qe[Tn]))break e;if((I||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,I?(qe=n.relatedTarget||n.toElement,I=V,qe=qe?Oa(qe):null,qe!==null&&(Bt=x(qe),Fe=qe.tag,qe!==Bt||Fe!==5&&Fe!==27&&Fe!==6)&&(qe=null)):(I=null,qe=V),I!==qe)){if(Fe=Fi,le="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Pr,le="onPointerLeave",q="onPointerEnter",z="pointer"),Bt=I==null?J:Xn(I),G=qe==null?J:Xn(qe),J=new Fe(le,z+"leave",I,n,ne),J.target=Bt,J.relatedTarget=G,le=null,Oa(ne)===V&&(Fe=new Fe(q,z+"enter",qe,n,ne),Fe.target=G,Fe.relatedTarget=Bt,le=Fe),Bt=le,I&&qe)t:{for(Fe=Xy,q=I,z=qe,G=0,le=q;le;le=Fe(le))G++;le=0;for(var Qe=z;Qe;Qe=Fe(Qe))le++;for(;0<G-le;)q=Fe(q),G--;for(;0<le-G;)z=Fe(z),le--;for(;G--;){if(q===z||z!==null&&q===z.alternate){Fe=q;break t}q=Fe(q),z=Fe(z)}Fe=null}else Fe=null;I!==null&&ym(ie,J,I,Fe,!1),qe!==null&&Bt!==null&&ym(ie,Bt,qe,Fe,!0)}}e:{if(J=V?Xn(V):window,I=J.nodeName&&J.nodeName.toLowerCase(),I==="select"||I==="input"&&J.type==="file")var xt=vi;else if(ar(J))if(ia)xt=Tl;else{xt=Ia;var Ue=ou}else I=J.nodeName,!I||I.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?V&&Xr(V.elementType)&&(xt=vi):xt=ls;if(xt&&(xt=xt(e,V))){as(ie,xt,n,ne);break e}Ue&&Ue(e,J,V),e==="focusout"&&V&&J.type==="number"&&V.memoizedProps.value!=null&&fi(J,"number",J.value)}switch(Ue=V?Xn(V):window,e){case"focusin":(ar(Ue)||Ue.contentEditable==="true")&&(j=Ue,C=V,H=null);break;case"focusout":H=C=j=null;break;case"mousedown":A=!0;break;case"contextmenu":case"mouseup":case"dragend":A=!1,E(ie,n,ne);break;case"selectionchange":if(w)break;case"keydown":case"keyup":E(ie,n,ne)}var it;if(gi)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Pa?ns(e,n)&&(mt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(mt="onCompositionStart");mt&&(tr&&n.locale!=="ko"&&(Pa||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Pa&&(it=_l()):(la=ne,Xi="value"in la?la.value:la.textContent,Pa=!0)),Ue=Zu(V,mt),0<Ue.length&&(mt=new Pi(mt,e,null,n,ne),ie.push({event:mt,listeners:Ue}),it?mt.data=it:(it=iu(n),it!==null&&(mt.data=it)))),(it=Bo?ru(e,n):qo(e,n))&&(mt=Zu(V,"onBeforeInput"),0<mt.length&&(Ue=new Pi("onBeforeInput","beforeinput",null,n,ne),ie.push({event:Ue,listeners:mt}),Ue.data=it)),Ly(ie,e,V,n,ne)}mm(ie,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zu(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Za(e,n),i!=null&&a.unshift(Os(e,i,r)),i=Za(e,t),i!=null&&a.push(Os(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Xy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ym(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var v=n,_=v.alternate,V=v.stateNode;if(v=v.tag,_!==null&&_===a)break;v!==5&&v!==26&&v!==27||V===null||(_=V,i?(V=Za(n,r),V!=null&&p.unshift(Os(n,V,_))):i||(V=Za(n,r),V!=null&&p.push(Os(n,V,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Gy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function gm(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Vy,"")}function bm(e,t){return t=gm(t),gm(e)===t}function Rt(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Xa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Xa(e,""+a);break;case"className":oi(e,"class",a);break;case"tabIndex":oi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(e,n,a);break;case"style":Yr(e,a,r);break;case"data":if(t!=="object"){oi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=xa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Rt(e,t,"name",i.name,i,null),Rt(e,t,"formEncType",i.formEncType,i,null),Rt(e,t,"formMethod",i.formMethod,i,null),Rt(e,t,"formTarget",i.formTarget,i,null)):(Rt(e,t,"encType",i.encType,i,null),Rt(e,t,"method",i.method,i,null),Rt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=xa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=kn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=xa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),rt(e,"popover",a);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zo.get(n)||n,rt(e,n,a))}}function rf(e,t,n,a,i,r){switch(n){case"style":Yr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Xa(e,a):(typeof a=="number"||typeof a=="bigint")&&Xa(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[It]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):rt(e,n,a)}}}function jn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,r,p,n,null)}}i&&Rt(e,t,"srcSet",n.srcSet,n,null),a&&Rt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var v=r=p=i=null,_=null,V=null;for(a in n)if(n.hasOwnProperty(a)){var ne=n[a];if(ne!=null)switch(a){case"name":i=ne;break;case"type":p=ne;break;case"checked":_=ne;break;case"defaultChecked":V=ne;break;case"value":r=ne;break;case"defaultValue":v=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,t));break;default:Rt(e,t,a,ne,n,null)}}Qi(e,r,v,_,V,p,i,!1);return;case"select":ct("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(v=n[i],v!=null))switch(i){case"value":r=v;break;case"defaultValue":p=v;break;case"multiple":a=v;default:Rt(e,t,i,v,n,null)}t=r,n=p,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":ct("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":a=v;break;case"defaultValue":i=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(d(91));break;default:Rt(e,t,p,v,n,null)}di(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Rt(e,t,_,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<As.length;a++)ct(As[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(a=n[V],a!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,V,a,n,null)}return;default:if(Xr(t)){for(ne in n)n.hasOwnProperty(ne)&&(a=n[ne],a!==void 0&&rf(e,t,ne,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&Rt(e,t,v,a,n,null))}function Zy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,v=null,_=null,V=null,ne=null;for(I in n){var ie=n[I];if(n.hasOwnProperty(I)&&ie!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=ie;default:a.hasOwnProperty(I)||Rt(e,t,I,null,a,ie)}}for(var J in a){var I=a[J];if(ie=n[J],a.hasOwnProperty(J)&&(I!=null||ie!=null))switch(J){case"type":r=I;break;case"name":i=I;break;case"checked":V=I;break;case"defaultChecked":ne=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(d(137,t));break;default:I!==ie&&Rt(e,t,J,I,a,ie)}}Ta(e,p,v,_,V,ne,r,i);return;case"select":I=p=v=J=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":I=_;default:a.hasOwnProperty(r)||Rt(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":J=r;break;case"defaultValue":v=r;break;case"multiple":p=r;default:r!==_&&Rt(e,t,i,r,a,_)}t=v,n=p,a=I,J!=null?va(e,!!n,J,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":I=J=null;for(v in n)if(i=n[v],n.hasOwnProperty(v)&&i!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Rt(e,t,v,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":J=i;break;case"defaultValue":I=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&Rt(e,t,p,i,a,r)}Qr(e,J,I);return;case"option":for(var qe in n)J=n[qe],n.hasOwnProperty(qe)&&J!=null&&!a.hasOwnProperty(qe)&&(qe==="selected"?e.selected=!1:Rt(e,t,qe,null,a,J));for(_ in a)J=a[_],I=n[_],a.hasOwnProperty(_)&&J!==I&&(J!=null||I!=null)&&(_==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Rt(e,t,_,J,a,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in n)J=n[Fe],n.hasOwnProperty(Fe)&&J!=null&&!a.hasOwnProperty(Fe)&&Rt(e,t,Fe,null,a,J);for(V in a)if(J=a[V],I=n[V],a.hasOwnProperty(V)&&J!==I&&(J!=null||I!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(d(137,t));break;default:Rt(e,t,V,J,a,I)}return;default:if(Xr(t)){for(var Bt in n)J=n[Bt],n.hasOwnProperty(Bt)&&J!==void 0&&!a.hasOwnProperty(Bt)&&rf(e,t,Bt,void 0,a,J);for(ne in a)J=a[ne],I=n[ne],!a.hasOwnProperty(ne)||J===I||J===void 0&&I===void 0||rf(e,t,ne,J,a,I);return}}for(var q in n)J=n[q],n.hasOwnProperty(q)&&J!=null&&!a.hasOwnProperty(q)&&Rt(e,t,q,null,a,J);for(ie in a)J=a[ie],I=n[ie],!a.hasOwnProperty(ie)||J===I||J==null&&I==null||Rt(e,t,ie,J,a,I)}function vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,v=i.duration;if(r&&v&&vm(p)){for(p=0,v=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],V=_.startTime;if(V>v)break;var ne=_.transferSize,ie=_.initiatorType;ne&&vm(ie)&&(_=_.responseEnd,p+=ne*(_<v?1:(v-V)/(_-V)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sf=null,uf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function xm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function of(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cf=null;function Jy(){var e=window.event;return e&&e.type==="popstate"?e===cf?!1:(cf=e,!0):(cf=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Py=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(Wy)}:wm;function Wy(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function Nm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Dr(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ds(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ds(n);for(var r=n.firstChild;r;){var p=r.nextSibling,v=r.nodeName;r[Yn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Ds(e.ownerDocument.body);n=i}while(n);Dr(t)}function _m(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function ff(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ff(n),Li(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Iy(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Yn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=fa(e.nextSibling),e===null)break}return null}function e0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fa(e.nextSibling),e===null))return null;return e}function Em(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fa(e.nextSibling),e===null))return null;return e}function df(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var mf=null;function Cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return fa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Om(e,t,n){switch(t=Fu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Li(e)}var da=new Map,Dm=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ml=se.d;se.d={f:n0,r:a0,D:l0,C:i0,L:r0,m:s0,X:o0,S:u0,M:c0};function n0(){var e=ml.f(),t=Lu();return e||t}function a0(e){var t=Mt(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):ml.r(e)}var Cr=typeof document>"u"?null:document;function Tm(e,t,n){var a=Cr;if(a&&typeof t=="string"&&t){var i=pn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Dm.has(i)||(Dm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),jn(t,"link",e),en(t),a.head.appendChild(t)))}}function l0(e){ml.D(e),Tm("dns-prefetch",e,null)}function i0(e,t){ml.C(e,t),Tm("preconnect",e,t)}function r0(e,t,n){ml.L(e,t,n);var a=Cr;if(a&&e&&t){var i='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+pn(n.imageSizes)+'"]')):i+='[href="'+pn(e)+'"]';var r=i;switch(t){case"style":r=Ar(e);break;case"script":r=Or(e)}da.has(r)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),da.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ts(r))||t==="script"&&a.querySelector(Ms(r))||(t=a.createElement("link"),jn(t,"link",e),en(t),a.head.appendChild(t)))}}function s0(e,t){ml.m(e,t);var n=Cr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Or(e)}if(!da.has(r)&&(e=T({rel:"modulepreload",href:e},t),da.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ms(r)))return}a=n.createElement("link"),jn(a,"link",e),en(a),n.head.appendChild(a)}}}function u0(e,t,n){ml.S(e,t,n);var a=Cr;if(a&&e){var i=Nn(a).hoistableStyles,r=Ar(e);t=t||"default";var p=i.get(r);if(!p){var v={loading:0,preload:null};if(p=a.querySelector(Ts(r)))v.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=da.get(r))&&pf(e,n);var _=p=a.createElement("link");en(_),jn(_,"link",e),_._p=new Promise(function(V,ne){_.onload=V,_.onerror=ne}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,$u(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:v},i.set(r,p)}}}function o0(e,t){ml.X(e,t);var n=Cr;if(n&&e){var a=Nn(n).hoistableScripts,i=Or(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=T({src:e,async:!0},t),(t=da.get(i))&&yf(e,t),r=n.createElement("script"),en(r),jn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function c0(e,t){ml.M(e,t);var n=Cr;if(n&&e){var a=Nn(n).hoistableScripts,i=Or(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=T({src:e,async:!0,type:"module"},t),(t=da.get(i))&&yf(e,t),r=n.createElement("script"),en(r),jn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Mm(e,t,n,a){var i=(i=at.current)?Ju(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ar(n.href),n=Nn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ar(n.href);var r=Nn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ts(e)))&&!r._p&&(p.instance=r,p.state.loading=5),da.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},da.set(e,n),r||f0(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Or(n),n=Nn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Ar(e){return'href="'+pn(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function zm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function f0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),jn(t,"link",n),en(t),e.head.appendChild(t))}function Or(e){return'[src="'+pn(e)+'"]'}function Ms(e){return"script[async]"+e}function km(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,en(a),a;var i=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),en(a),jn(a,"style",i),$u(a,n.precedence,e),t.instance=a;case"stylesheet":i=Ar(n.href);var r=e.querySelector(Ts(i));if(r)return t.state.loading|=4,t.instance=r,en(r),r;a=zm(n),(i=da.get(i))&&pf(a,i),r=(e.ownerDocument||e).createElement("link"),en(r);var p=r;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),jn(r,"link",a),t.state.loading|=4,$u(r,n.precedence,e),t.instance=r;case"script":return r=Or(n.src),(i=e.querySelector(Ms(r)))?(t.instance=i,en(i),i):(a=n,(i=da.get(r))&&(a=T({},n),yf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),en(i),jn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,$u(a,n.precedence,e));return t.instance}function $u(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var v=a[p];if(v.dataset.precedence===t)r=v;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pu=null;function Rm(e,t,n){if(Pu===null){var a=new Map,i=Pu=new Map;i.set(n,a)}else i=Pu,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Yn]||r[Kt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var v=a.get(p);v?v.push(r):a.set(p,[r])}}return a}function Bm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function d0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Ar(a.href),r=t.querySelector(Ts(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,en(r);return}r=t.ownerDocument||t,a=zm(a),(i=da.get(i))&&pf(a,i),r=r.createElement("link"),en(r);var p=r;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),jn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Wu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gf=0;function m0(e,t){return e.stylesheets&&e.count===0&&eo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&gf===0&&(gf=62500*Fy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>gf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Iu=null;function eo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Iu=new Map,t.forEach(p0,e),Iu=null,Wu.call(e))}function p0(e,t){if(!(t.state.loading&4)){var n=Iu.get(e);if(n)var a=n.get(null);else{n=new Map,Iu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=Wu.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var zs={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function y0(e,t,n,a,i,r,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Um(e,t,n,a,i,r,p,v,_,V,ne,ie){return e=new y0(e,t,n,p,_,V,ne,ie,v),t=1,r===!0&&(t|=24),r=Vn(3,null,null,t),e.current=r,r.stateNode=e,t=Jo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Io(r),e}function Hm(e){return e?(e=rr,e):rr}function Lm(e,t,n,a,i,r){i=Hm(i),a.context===null?a.context=i:a.pendingContext=i,a=Ul(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Hl(e,a,t),n!==null&&(Hn(n,e,t),fs(n,e,t))}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bf(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Qm(e){if(e.tag===13||e.tag===31){var t=At(e,67108864);t!==null&&Hn(t,e,67108864),bf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Pn();t=Ur(t);var n=At(e,t);n!==null&&Hn(n,e,t),bf(e,t)}}var to=!0;function g0(e,t,n,a){var i=Y.T;Y.T=null;var r=se.p;try{se.p=2,vf(e,t,n,a)}finally{se.p=r,Y.T=i}}function b0(e,t,n,a){var i=Y.T;Y.T=null;var r=se.p;try{se.p=8,vf(e,t,n,a)}finally{se.p=r,Y.T=i}}function vf(e,t,n,a){if(to){var i=xf(a);if(i===null)lf(e,t,a,no,n),Gm(e,a);else if(x0(i,e,t,n,a))a.stopPropagation();else if(Gm(e,a),t&4&&-1<v0.indexOf(e)){for(;i!==null;){var r=Mt(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=ga(r.pendingLanes);if(p!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-_e(p);v.entanglements[1]|=_,p&=~_}Ha(r),(_t&6)===0&&(Uu=lt()+500,Cs(0))}}break;case 31:case 13:v=At(r,2),v!==null&&Hn(v,r,2),Lu(),bf(r,2)}if(r=xf(a),r===null&&lf(e,t,a,no,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else lf(e,t,a,null,n)}}function xf(e){return e=Yi(e),Sf(e)}var no=null;function Sf(e){if(no=null,e=Oa(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return no=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case Et:return 2;case mn:return 8;case rn:case Dn:return 32;case Me:return 268435456;default:return 32}default:return 32}}var wf=!1,$l=null,Pl=null,Wl=null,ks=new Map,Rs=new Map,Il=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(e,t){switch(e){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function Bs(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Mt(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function x0(e,t,n,a,i){switch(t){case"focusin":return $l=Bs($l,e,t,n,a,i),!0;case"dragenter":return Pl=Bs(Pl,e,t,n,a,i),!0;case"mouseover":return Wl=Bs(Wl,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return ks.set(r,Bs(ks.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Rs.set(r,Bs(Rs.get(r)||null,e,t,n,a,i)),!0}return!1}function Vm(e){var t=Oa(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,ri(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ri(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);aa=a,n.target.dispatchEvent(a),aa=null}else return t=Mt(n),t!==null&&Qm(t),e.blockedOn=n,!1;t.shift()}return!0}function Zm(e,t,n){ao(e)&&n.delete(t)}function S0(){wf=!1,$l!==null&&ao($l)&&($l=null),Pl!==null&&ao(Pl)&&(Pl=null),Wl!==null&&ao(Wl)&&(Wl=null),ks.forEach(Zm),Rs.forEach(Zm)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,wf||(wf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,S0)))}var io=null;function Fm(e){io!==e&&(io=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){io===e&&(io=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Sf(a||n)===null)continue;break}var r=Mt(n);r!==null&&(e.splice(t,3),t-=3,vc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Dr(e){function t(_){return lo(_,e)}$l!==null&&lo($l,e),Pl!==null&&lo(Pl,e),Wl!==null&&lo(Wl,e),ks.forEach(t),Rs.forEach(t);for(var n=0;n<Il.length;n++){var a=Il[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Vm(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[It]||null;if(typeof r=="function")p||Fm(n);else if(p){var v=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[It]||null)v=p.formAction;else if(Sf(i)!==null)continue}else v=p.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),Fm(n)}}}function Jm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function jf(e){this._internalRoot=e}ro.prototype.render=jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Pn();Lm(n,a,e,t,null,null)},ro.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lm(e.current,2,null,e,null,null),Lu(),t[Tn]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=ii();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Vm(e)}};var $m=f.version;if($m!=="19.2.4")throw Error(d(527,$m,"19.2.4"));se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=R(t),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var w0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{qt=so.inject(w0),Ct=so}catch{}}return qs.createRoot=function(e,t){if(!b(e))throw Error(d(299));var n=!1,a="",i=ah,r=lh,p=ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Um(e,1,!1,null,null,n,a,null,i,r,p,Jm),e[Tn]=t.current,af(e),new jf(t)},qs.hydrateRoot=function(e,t,n){if(!b(e))throw Error(d(299));var a=!1,i="",r=ah,p=lh,v=ih,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Um(e,1,!0,t,n??null,a,i,_,r,p,v,Jm),t.context=Hm(null),n=t.current,a=Pn(),a=Ur(a),i=Ul(a),i.callback=null,Hl(n,i,a),n=a,t.current.lanes=n,ta(t,n),Ha(t),e[Tn]=t.current,af(e),new ro(t)},qs.version="19.2.4",qs}var ep;function H0(){if(ep)return Nf.exports;ep=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),Nf.exports=U0(),Nf.exports}var L0=H0();const tp=u=>{let f;const m=new Set,d=(R,B)=>{const T=typeof R=="function"?R(f):R;if(!Object.is(T,f)){const $=f;f=B??(typeof T!="object"||T===null)?T:Object.assign({},f,T),m.forEach(ye=>ye(f,$))}},b=()=>f,N={setState:d,getState:b,getInitialState:()=>U,subscribe:R=>(m.add(R),()=>m.delete(R))},U=f=u(d,b,N);return N},K0=(u=>u?tp(u):tp),Q0=u=>u;function Y0(u,f=Q0){const m=uo.useSyncExternalStore(u.subscribe,uo.useCallback(()=>f(u.getState()),[u,f]),uo.useCallback(()=>f(u.getInitialState()),[u,f]));return uo.useDebugValue(m),m}const np=u=>{const f=K0(u),m=d=>Y0(f,d);return Object.assign(m,f),m},X0=(u=>u?np(u):np);function G0(u,f){let m;try{m=u()}catch{return}return{getItem:b=>{var x;const S=U=>U===null?null:JSON.parse(U,void 0),N=(x=m.getItem(b))!=null?x:null;return N instanceof Promise?N.then(S):S(N)},setItem:(b,x)=>m.setItem(b,JSON.stringify(x,void 0)),removeItem:b=>m.removeItem(b)}}const Tf=u=>f=>{try{const m=u(f);return m instanceof Promise?m:{then(d){return Tf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Tf(d)(m)}}}},V0=(u,f)=>(m,d,b)=>{let x={storage:G0(()=>window.localStorage),partialize:P=>P,version:0,merge:(P,Ae)=>({...Ae,...P}),...f},S=!1,N=0;const U=new Set,R=new Set;let B=x.storage;if(!B)return u((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${x.name}', the given storage is currently unavailable.`),m(...P)},d,b);const T=()=>{const P=x.partialize({...d()});return B.setItem(x.name,{state:P,version:x.version})},$=b.setState;b.setState=(P,Ae)=>($(P,Ae),T());const ye=u((...P)=>(m(...P),T()),d,b);b.getInitialState=()=>ye;let F;const re=()=>{var P,Ae;if(!B)return;const me=++N;S=!1,U.forEach(ae=>{var ve;return ae((ve=d())!=null?ve:ye)});const Ce=((Ae=x.onRehydrateStorage)==null?void 0:Ae.call(x,(P=d())!=null?P:ye))||void 0;return Tf(B.getItem.bind(B))(x.name).then(ae=>{if(ae)if(typeof ae.version=="number"&&ae.version!==x.version){if(x.migrate){const ve=x.migrate(ae.state,ae.version);return ve instanceof Promise?ve.then(be=>[!0,be]):[!0,ve]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ae.state];return[!1,void 0]}).then(ae=>{var ve;if(me!==N)return;const[be,xe]=ae;if(F=x.merge(xe,(ve=d())!=null?ve:ye),m(F,!0),be)return T()}).then(()=>{me===N&&(Ce?.(F,void 0),F=d(),S=!0,R.forEach(ae=>ae(F)))}).catch(ae=>{me===N&&Ce?.(void 0,ae)})};return b.persist={setOptions:P=>{x={...x,...P},P.storage&&(B=P.storage)},clearStorage:()=>{B?.removeItem(x.name)},getOptions:()=>x,rehydrate:()=>re(),hasHydrated:()=>S,onHydrate:P=>(U.add(P),()=>{U.delete(P)}),onFinishHydration:P=>(R.add(P),()=>{R.delete(P)})},x.skipHydration||re(),F||ye},Z0=V0,bl=X0(Z0(u=>({token:null,setToken:f=>u({token:f}),logout:()=>u({token:null})}),{name:"wisemark-auth",partialize:u=>({token:u.token})}));function Mp(u,f){return function(){return u.apply(f,arguments)}}const{toString:F0}=Object.prototype,{getPrototypeOf:Qf}=Object,{iterator:jo,toStringTag:zp}=Symbol,No=(u=>f=>{const m=F0.call(f);return u[m]||(u[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),_a=u=>(u=u.toLowerCase(),f=>No(f)===u),_o=u=>f=>typeof f===u,{isArray:Br}=Array,zr=_o("undefined");function Xs(u){return u!==null&&!zr(u)&&u.constructor!==null&&!zr(u.constructor)&&Ln(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const kp=_a("ArrayBuffer");function J0(u){let f;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?f=ArrayBuffer.isView(u):f=u&&u.buffer&&kp(u.buffer),f}const $0=_o("string"),Ln=_o("function"),Rp=_o("number"),Gs=u=>u!==null&&typeof u=="object",P0=u=>u===!0||u===!1,fo=u=>{if(No(u)!=="object")return!1;const f=Qf(u);return(f===null||f===Object.prototype||Object.getPrototypeOf(f)===null)&&!(zp in u)&&!(jo in u)},W0=u=>{if(!Gs(u)||Xs(u))return!1;try{return Object.keys(u).length===0&&Object.getPrototypeOf(u)===Object.prototype}catch{return!1}},I0=_a("Date"),eg=_a("File"),tg=_a("Blob"),ng=_a("FileList"),ag=u=>Gs(u)&&Ln(u.pipe),lg=u=>{let f;return u&&(typeof FormData=="function"&&u instanceof FormData||Ln(u.append)&&((f=No(u))==="formdata"||f==="object"&&Ln(u.toString)&&u.toString()==="[object FormData]"))},ig=_a("URLSearchParams"),[rg,sg,ug,og]=["ReadableStream","Request","Response","Headers"].map(_a),cg=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vs(u,f,{allOwnKeys:m=!1}={}){if(u===null||typeof u>"u")return;let d,b;if(typeof u!="object"&&(u=[u]),Br(u))for(d=0,b=u.length;d<b;d++)f.call(null,u[d],d,u);else{if(Xs(u))return;const x=m?Object.getOwnPropertyNames(u):Object.keys(u),S=x.length;let N;for(d=0;d<S;d++)N=x[d],f.call(null,u[N],N,u)}}function Bp(u,f){if(Xs(u))return null;f=f.toLowerCase();const m=Object.keys(u);let d=m.length,b;for(;d-- >0;)if(b=m[d],f===b.toLowerCase())return b;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qp=u=>!zr(u)&&u!==Mi;function Mf(){const{caseless:u,skipUndefined:f}=qp(this)&&this||{},m={},d=(b,x)=>{if(x==="__proto__"||x==="constructor"||x==="prototype")return;const S=u&&Bp(m,x)||x;fo(m[S])&&fo(b)?m[S]=Mf(m[S],b):fo(b)?m[S]=Mf({},b):Br(b)?m[S]=b.slice():(!f||!zr(b))&&(m[S]=b)};for(let b=0,x=arguments.length;b<x;b++)arguments[b]&&Vs(arguments[b],d);return m}const fg=(u,f,m,{allOwnKeys:d}={})=>(Vs(f,(b,x)=>{m&&Ln(b)?Object.defineProperty(u,x,{value:Mp(b,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(u,x,{value:b,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),u),dg=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),hg=(u,f,m,d)=>{u.prototype=Object.create(f.prototype,d),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(u,"super",{value:f.prototype}),m&&Object.assign(u.prototype,m)},mg=(u,f,m,d)=>{let b,x,S;const N={};if(f=f||{},u==null)return f;do{for(b=Object.getOwnPropertyNames(u),x=b.length;x-- >0;)S=b[x],(!d||d(S,u,f))&&!N[S]&&(f[S]=u[S],N[S]=!0);u=m!==!1&&Qf(u)}while(u&&(!m||m(u,f))&&u!==Object.prototype);return f},pg=(u,f,m)=>{u=String(u),(m===void 0||m>u.length)&&(m=u.length),m-=f.length;const d=u.indexOf(f,m);return d!==-1&&d===m},yg=u=>{if(!u)return null;if(Br(u))return u;let f=u.length;if(!Rp(f))return null;const m=new Array(f);for(;f-- >0;)m[f]=u[f];return m},gg=(u=>f=>u&&f instanceof u)(typeof Uint8Array<"u"&&Qf(Uint8Array)),bg=(u,f)=>{const d=(u&&u[jo]).call(u);let b;for(;(b=d.next())&&!b.done;){const x=b.value;f.call(u,x[0],x[1])}},vg=(u,f)=>{let m;const d=[];for(;(m=u.exec(f))!==null;)d.push(m);return d},xg=_a("HTMLFormElement"),Sg=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,b){return d.toUpperCase()+b}),ap=(({hasOwnProperty:u})=>(f,m)=>u.call(f,m))(Object.prototype),wg=_a("RegExp"),Up=(u,f)=>{const m=Object.getOwnPropertyDescriptors(u),d={};Vs(m,(b,x)=>{let S;(S=f(b,x,u))!==!1&&(d[x]=S||b)}),Object.defineProperties(u,d)},jg=u=>{Up(u,(f,m)=>{if(Ln(u)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=u[m];if(Ln(d)){if(f.enumerable=!1,"writable"in f){f.writable=!1;return}f.set||(f.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Ng=(u,f)=>{const m={},d=b=>{b.forEach(x=>{m[x]=!0})};return Br(u)?d(u):d(String(u).split(f)),m},_g=()=>{},Eg=(u,f)=>u!=null&&Number.isFinite(u=+u)?u:f;function Cg(u){return!!(u&&Ln(u.append)&&u[zp]==="FormData"&&u[jo])}const Ag=u=>{const f=new Array(10),m=(d,b)=>{if(Gs(d)){if(f.indexOf(d)>=0)return;if(Xs(d))return d;if(!("toJSON"in d)){f[b]=d;const x=Br(d)?[]:{};return Vs(d,(S,N)=>{const U=m(S,b+1);!zr(U)&&(x[N]=U)}),f[b]=void 0,x}}return d};return m(u,0)},Og=_a("AsyncFunction"),Dg=u=>u&&(Gs(u)||Ln(u))&&Ln(u.then)&&Ln(u.catch),Hp=((u,f)=>u?setImmediate:f?((m,d)=>(Mi.addEventListener("message",({source:b,data:x})=>{b===Mi&&x===m&&d.length&&d.shift()()},!1),b=>{d.push(b),Mi.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Ln(Mi.postMessage)),Tg=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof process<"u"&&process.nextTick||Hp,Mg=u=>u!=null&&Ln(u[jo]),W={isArray:Br,isArrayBuffer:kp,isBuffer:Xs,isFormData:lg,isArrayBufferView:J0,isString:$0,isNumber:Rp,isBoolean:P0,isObject:Gs,isPlainObject:fo,isEmptyObject:W0,isReadableStream:rg,isRequest:sg,isResponse:ug,isHeaders:og,isUndefined:zr,isDate:I0,isFile:eg,isBlob:tg,isRegExp:wg,isFunction:Ln,isStream:ag,isURLSearchParams:ig,isTypedArray:gg,isFileList:ng,forEach:Vs,merge:Mf,extend:fg,trim:cg,stripBOM:dg,inherits:hg,toFlatObject:mg,kindOf:No,kindOfTest:_a,endsWith:pg,toArray:yg,forEachEntry:bg,matchAll:vg,isHTMLForm:xg,hasOwnProperty:ap,hasOwnProp:ap,reduceDescriptors:Up,freezeMethods:jg,toObjectSet:Ng,toCamelCase:Sg,noop:_g,toFiniteNumber:Eg,findKey:Bp,global:Mi,isContextDefined:qp,isSpecCompliantForm:Cg,toJSONObject:Ag,isAsyncFn:Og,isThenable:Dg,setImmediate:Hp,asap:Tg,isIterable:Mg};let Pe=class Lp extends Error{static from(f,m,d,b,x,S){const N=new Lp(f.message,m||f.code,d,b,x);return N.cause=f,N.name=f.name,S&&Object.assign(N,S),N}constructor(f,m,d,b,x){super(f),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),b&&(this.request=b),x&&(this.response=x,this.status=x.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}};Pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Pe.ERR_BAD_OPTION="ERR_BAD_OPTION";Pe.ECONNABORTED="ECONNABORTED";Pe.ETIMEDOUT="ETIMEDOUT";Pe.ERR_NETWORK="ERR_NETWORK";Pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Pe.ERR_DEPRECATED="ERR_DEPRECATED";Pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Pe.ERR_CANCELED="ERR_CANCELED";Pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Pe.ERR_INVALID_URL="ERR_INVALID_URL";const zg=null;function zf(u){return W.isPlainObject(u)||W.isArray(u)}function Kp(u){return W.endsWith(u,"[]")?u.slice(0,-2):u}function lp(u,f,m){return u?u.concat(f).map(function(b,x){return b=Kp(b),!m&&x?"["+b+"]":b}).join(m?".":""):f}function kg(u){return W.isArray(u)&&!u.some(zf)}const Rg=W.toFlatObject(W,{},null,function(f){return/^is[A-Z]/.test(f)});function Eo(u,f,m){if(!W.isObject(u))throw new TypeError("target must be an object");f=f||new FormData,m=W.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(re,P){return!W.isUndefined(P[re])});const d=m.metaTokens,b=m.visitor||B,x=m.dots,S=m.indexes,U=(m.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(f);if(!W.isFunction(b))throw new TypeError("visitor must be a function");function R(F){if(F===null)return"";if(W.isDate(F))return F.toISOString();if(W.isBoolean(F))return F.toString();if(!U&&W.isBlob(F))throw new Pe("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(F)||W.isTypedArray(F)?U&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function B(F,re,P){let Ae=F;if(F&&!P&&typeof F=="object"){if(W.endsWith(re,"{}"))re=d?re:re.slice(0,-2),F=JSON.stringify(F);else if(W.isArray(F)&&kg(F)||(W.isFileList(F)||W.endsWith(re,"[]"))&&(Ae=W.toArray(F)))return re=Kp(re),Ae.forEach(function(Ce,ae){!(W.isUndefined(Ce)||Ce===null)&&f.append(S===!0?lp([re],ae,x):S===null?re:re+"[]",R(Ce))}),!1}return zf(F)?!0:(f.append(lp(P,re,x),R(F)),!1)}const T=[],$=Object.assign(Rg,{defaultVisitor:B,convertValue:R,isVisitable:zf});function ye(F,re){if(!W.isUndefined(F)){if(T.indexOf(F)!==-1)throw Error("Circular reference detected in "+re.join("."));T.push(F),W.forEach(F,function(Ae,me){(!(W.isUndefined(Ae)||Ae===null)&&b.call(f,Ae,W.isString(me)?me.trim():me,re,$))===!0&&ye(Ae,re?re.concat(me):[me])}),T.pop()}}if(!W.isObject(u))throw new TypeError("data must be an object");return ye(u),f}function ip(u){const f={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(d){return f[d]})}function Yf(u,f){this._pairs=[],u&&Eo(u,this,f)}const Qp=Yf.prototype;Qp.append=function(f,m){this._pairs.push([f,m])};Qp.toString=function(f){const m=f?function(d){return f.call(this,d,ip)}:ip;return this._pairs.map(function(b){return m(b[0])+"="+m(b[1])},"").join("&")};function Bg(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yp(u,f,m){if(!f)return u;const d=m&&m.encode||Bg,b=W.isFunction(m)?{serialize:m}:m,x=b&&b.serialize;let S;if(x?S=x(f,b):S=W.isURLSearchParams(f)?f.toString():new Yf(f,b).toString(d),S){const N=u.indexOf("#");N!==-1&&(u=u.slice(0,N)),u+=(u.indexOf("?")===-1?"?":"&")+S}return u}class rp{constructor(){this.handlers=[]}use(f,m,d){return this.handlers.push({fulfilled:f,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(f){this.handlers[f]&&(this.handlers[f]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(f){W.forEach(this.handlers,function(d){d!==null&&f(d)})}}const Xf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},qg=typeof URLSearchParams<"u"?URLSearchParams:Yf,Ug=typeof FormData<"u"?FormData:null,Hg=typeof Blob<"u"?Blob:null,Lg={isBrowser:!0,classes:{URLSearchParams:qg,FormData:Ug,Blob:Hg},protocols:["http","https","file","blob","url","data"]},Gf=typeof window<"u"&&typeof document<"u",kf=typeof navigator=="object"&&navigator||void 0,Kg=Gf&&(!kf||["ReactNative","NativeScript","NS"].indexOf(kf.product)<0),Qg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yg=Gf&&window.location.href||"http://localhost",Xg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gf,hasStandardBrowserEnv:Kg,hasStandardBrowserWebWorkerEnv:Qg,navigator:kf,origin:Yg},Symbol.toStringTag,{value:"Module"})),On={...Xg,...Lg};function Gg(u,f){return Eo(u,new On.classes.URLSearchParams,{visitor:function(m,d,b,x){return On.isNode&&W.isBuffer(m)?(this.append(d,m.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)},...f})}function Vg(u){return W.matchAll(/\w+|\[(\w*)]/g,u).map(f=>f[0]==="[]"?"":f[1]||f[0])}function Zg(u){const f={},m=Object.keys(u);let d;const b=m.length;let x;for(d=0;d<b;d++)x=m[d],f[x]=u[x];return f}function Xp(u){function f(m,d,b,x){let S=m[x++];if(S==="__proto__")return!0;const N=Number.isFinite(+S),U=x>=m.length;return S=!S&&W.isArray(b)?b.length:S,U?(W.hasOwnProp(b,S)?b[S]=[b[S],d]:b[S]=d,!N):((!b[S]||!W.isObject(b[S]))&&(b[S]=[]),f(m,d,b[S],x)&&W.isArray(b[S])&&(b[S]=Zg(b[S])),!N)}if(W.isFormData(u)&&W.isFunction(u.entries)){const m={};return W.forEachEntry(u,(d,b)=>{f(Vg(d),b,m,0)}),m}return null}function Fg(u,f,m){if(W.isString(u))try{return(f||JSON.parse)(u),W.trim(u)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(u)}const Zs={transitional:Xf,adapter:["xhr","http","fetch"],transformRequest:[function(f,m){const d=m.getContentType()||"",b=d.indexOf("application/json")>-1,x=W.isObject(f);if(x&&W.isHTMLForm(f)&&(f=new FormData(f)),W.isFormData(f))return b?JSON.stringify(Xp(f)):f;if(W.isArrayBuffer(f)||W.isBuffer(f)||W.isStream(f)||W.isFile(f)||W.isBlob(f)||W.isReadableStream(f))return f;if(W.isArrayBufferView(f))return f.buffer;if(W.isURLSearchParams(f))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),f.toString();let N;if(x){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Gg(f,this.formSerializer).toString();if((N=W.isFileList(f))||d.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return Eo(N?{"files[]":f}:f,U&&new U,this.formSerializer)}}return x||b?(m.setContentType("application/json",!1),Fg(f)):f}],transformResponse:[function(f){const m=this.transitional||Zs.transitional,d=m&&m.forcedJSONParsing,b=this.responseType==="json";if(W.isResponse(f)||W.isReadableStream(f))return f;if(f&&W.isString(f)&&(d&&!this.responseType||b)){const S=!(m&&m.silentJSONParsing)&&b;try{return JSON.parse(f,this.parseReviver)}catch(N){if(S)throw N.name==="SyntaxError"?Pe.from(N,Pe.ERR_BAD_RESPONSE,this,null,this.response):N}}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],u=>{Zs.headers[u]={}});const Jg=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$g=u=>{const f={};let m,d,b;return u&&u.split(`
`).forEach(function(S){b=S.indexOf(":"),m=S.substring(0,b).trim().toLowerCase(),d=S.substring(b+1).trim(),!(!m||f[m]&&Jg[m])&&(m==="set-cookie"?f[m]?f[m].push(d):f[m]=[d]:f[m]=f[m]?f[m]+", "+d:d)}),f},sp=Symbol("internals");function Us(u){return u&&String(u).trim().toLowerCase()}function ho(u){return u===!1||u==null?u:W.isArray(u)?u.map(ho):String(u)}function Pg(u){const f=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(u);)f[d[1]]=d[2];return f}const Wg=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function Cf(u,f,m,d,b){if(W.isFunction(d))return d.call(this,f,m);if(b&&(f=m),!!W.isString(f)){if(W.isString(d))return f.indexOf(d)!==-1;if(W.isRegExp(d))return d.test(f)}}function Ig(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(f,m,d)=>m.toUpperCase()+d)}function eb(u,f){const m=W.toCamelCase(" "+f);["get","set","has"].forEach(d=>{Object.defineProperty(u,d+m,{value:function(b,x,S){return this[d].call(this,f,b,x,S)},configurable:!0})})}let Kn=class{constructor(f){f&&this.set(f)}set(f,m,d){const b=this;function x(N,U,R){const B=Us(U);if(!B)throw new Error("header name must be a non-empty string");const T=W.findKey(b,B);(!T||b[T]===void 0||R===!0||R===void 0&&b[T]!==!1)&&(b[T||U]=ho(N))}const S=(N,U)=>W.forEach(N,(R,B)=>x(R,B,U));if(W.isPlainObject(f)||f instanceof this.constructor)S(f,m);else if(W.isString(f)&&(f=f.trim())&&!Wg(f))S($g(f),m);else if(W.isObject(f)&&W.isIterable(f)){let N={},U,R;for(const B of f){if(!W.isArray(B))throw TypeError("Object iterator must return a key-value pair");N[R=B[0]]=(U=N[R])?W.isArray(U)?[...U,B[1]]:[U,B[1]]:B[1]}S(N,m)}else f!=null&&x(m,f,d);return this}get(f,m){if(f=Us(f),f){const d=W.findKey(this,f);if(d){const b=this[d];if(!m)return b;if(m===!0)return Pg(b);if(W.isFunction(m))return m.call(this,b,d);if(W.isRegExp(m))return m.exec(b);throw new TypeError("parser must be boolean|regexp|function")}}}has(f,m){if(f=Us(f),f){const d=W.findKey(this,f);return!!(d&&this[d]!==void 0&&(!m||Cf(this,this[d],d,m)))}return!1}delete(f,m){const d=this;let b=!1;function x(S){if(S=Us(S),S){const N=W.findKey(d,S);N&&(!m||Cf(d,d[N],N,m))&&(delete d[N],b=!0)}}return W.isArray(f)?f.forEach(x):x(f),b}clear(f){const m=Object.keys(this);let d=m.length,b=!1;for(;d--;){const x=m[d];(!f||Cf(this,this[x],x,f,!0))&&(delete this[x],b=!0)}return b}normalize(f){const m=this,d={};return W.forEach(this,(b,x)=>{const S=W.findKey(d,x);if(S){m[S]=ho(b),delete m[x];return}const N=f?Ig(x):String(x).trim();N!==x&&delete m[x],m[N]=ho(b),d[N]=!0}),this}concat(...f){return this.constructor.concat(this,...f)}toJSON(f){const m=Object.create(null);return W.forEach(this,(d,b)=>{d!=null&&d!==!1&&(m[b]=f&&W.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([f,m])=>f+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(f){return f instanceof this?f:new this(f)}static concat(f,...m){const d=new this(f);return m.forEach(b=>d.set(b)),d}static accessor(f){const d=(this[sp]=this[sp]={accessors:{}}).accessors,b=this.prototype;function x(S){const N=Us(S);d[N]||(eb(b,S),d[N]=!0)}return W.isArray(f)?f.forEach(x):x(f),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Kn.prototype,({value:u},f)=>{let m=f[0].toUpperCase()+f.slice(1);return{get:()=>u,set(d){this[m]=d}}});W.freezeMethods(Kn);function Af(u,f){const m=this||Zs,d=f||m,b=Kn.from(d.headers);let x=d.data;return W.forEach(u,function(N){x=N.call(m,x,b.normalize(),f?f.status:void 0)}),b.normalize(),x}function Gp(u){return!!(u&&u.__CANCEL__)}let Fs=class extends Pe{constructor(f,m,d){super(f??"canceled",Pe.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Vp(u,f,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?u(m):f(new Pe("Request failed with status code "+m.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function tb(u){const f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return f&&f[1]||""}function nb(u,f){u=u||10;const m=new Array(u),d=new Array(u);let b=0,x=0,S;return f=f!==void 0?f:1e3,function(U){const R=Date.now(),B=d[x];S||(S=R),m[b]=U,d[b]=R;let T=x,$=0;for(;T!==b;)$+=m[T++],T=T%u;if(b=(b+1)%u,b===x&&(x=(x+1)%u),R-S<f)return;const ye=B&&R-B;return ye?Math.round($*1e3/ye):void 0}}function ab(u,f){let m=0,d=1e3/f,b,x;const S=(R,B=Date.now())=>{m=B,b=null,x&&(clearTimeout(x),x=null),u(...R)};return[(...R)=>{const B=Date.now(),T=B-m;T>=d?S(R,B):(b=R,x||(x=setTimeout(()=>{x=null,S(b)},d-T)))},()=>b&&S(b)]}const bo=(u,f,m=3)=>{let d=0;const b=nb(50,250);return ab(x=>{const S=x.loaded,N=x.lengthComputable?x.total:void 0,U=S-d,R=b(U),B=S<=N;d=S;const T={loaded:S,total:N,progress:N?S/N:void 0,bytes:U,rate:R||void 0,estimated:R&&N&&B?(N-S)/R:void 0,event:x,lengthComputable:N!=null,[f?"download":"upload"]:!0};u(T)},m)},up=(u,f)=>{const m=u!=null;return[d=>f[0]({lengthComputable:m,total:u,loaded:d}),f[1]]},op=u=>(...f)=>W.asap(()=>u(...f)),lb=On.hasStandardBrowserEnv?((u,f)=>m=>(m=new URL(m,On.origin),u.protocol===m.protocol&&u.host===m.host&&(f||u.port===m.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,ib=On.hasStandardBrowserEnv?{write(u,f,m,d,b,x,S){if(typeof document>"u")return;const N=[`${u}=${encodeURIComponent(f)}`];W.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),W.isString(d)&&N.push(`path=${d}`),W.isString(b)&&N.push(`domain=${b}`),x===!0&&N.push("secure"),W.isString(S)&&N.push(`SameSite=${S}`),document.cookie=N.join("; ")},read(u){if(typeof document>"u")return null;const f=document.cookie.match(new RegExp("(?:^|; )"+u+"=([^;]*)"));return f?decodeURIComponent(f[1]):null},remove(u){this.write(u,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rb(u){return typeof u!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function sb(u,f){return f?u.replace(/\/?\/$/,"")+"/"+f.replace(/^\/+/,""):u}function Zp(u,f,m){let d=!rb(f);return u&&(d||m==!1)?sb(u,f):f}const cp=u=>u instanceof Kn?{...u}:u;function Ri(u,f){f=f||{};const m={};function d(R,B,T,$){return W.isPlainObject(R)&&W.isPlainObject(B)?W.merge.call({caseless:$},R,B):W.isPlainObject(B)?W.merge({},B):W.isArray(B)?B.slice():B}function b(R,B,T,$){if(W.isUndefined(B)){if(!W.isUndefined(R))return d(void 0,R,T,$)}else return d(R,B,T,$)}function x(R,B){if(!W.isUndefined(B))return d(void 0,B)}function S(R,B){if(W.isUndefined(B)){if(!W.isUndefined(R))return d(void 0,R)}else return d(void 0,B)}function N(R,B,T){if(T in f)return d(R,B);if(T in u)return d(void 0,R)}const U={url:x,method:x,data:x,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:N,headers:(R,B,T)=>b(cp(R),cp(B),T,!0)};return W.forEach(Object.keys({...u,...f}),function(B){if(B==="__proto__"||B==="constructor"||B==="prototype")return;const T=W.hasOwnProp(U,B)?U[B]:b,$=T(u[B],f[B],B);W.isUndefined($)&&T!==N||(m[B]=$)}),m}const Fp=u=>{const f=Ri({},u);let{data:m,withXSRFToken:d,xsrfHeaderName:b,xsrfCookieName:x,headers:S,auth:N}=f;if(f.headers=S=Kn.from(S),f.url=Yp(Zp(f.baseURL,f.url,f.allowAbsoluteUrls),u.params,u.paramsSerializer),N&&S.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),W.isFormData(m)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(W.isFunction(m.getHeaders)){const U=m.getHeaders(),R=["content-type","content-length"];Object.entries(U).forEach(([B,T])=>{R.includes(B.toLowerCase())&&S.set(B,T)})}}if(On.hasStandardBrowserEnv&&(d&&W.isFunction(d)&&(d=d(f)),d||d!==!1&&lb(f.url))){const U=b&&x&&ib.read(x);U&&S.set(b,U)}return f},ub=typeof XMLHttpRequest<"u",ob=ub&&function(u){return new Promise(function(m,d){const b=Fp(u);let x=b.data;const S=Kn.from(b.headers).normalize();let{responseType:N,onUploadProgress:U,onDownloadProgress:R}=b,B,T,$,ye,F;function re(){ye&&ye(),F&&F(),b.cancelToken&&b.cancelToken.unsubscribe(B),b.signal&&b.signal.removeEventListener("abort",B)}let P=new XMLHttpRequest;P.open(b.method.toUpperCase(),b.url,!0),P.timeout=b.timeout;function Ae(){if(!P)return;const Ce=Kn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ve={data:!N||N==="text"||N==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:Ce,config:u,request:P};Vp(function(xe){m(xe),re()},function(xe){d(xe),re()},ve),P=null}"onloadend"in P?P.onloadend=Ae:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(Ae)},P.onabort=function(){P&&(d(new Pe("Request aborted",Pe.ECONNABORTED,u,P)),P=null)},P.onerror=function(ae){const ve=ae&&ae.message?ae.message:"Network Error",be=new Pe(ve,Pe.ERR_NETWORK,u,P);be.event=ae||null,d(be),P=null},P.ontimeout=function(){let ae=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded";const ve=b.transitional||Xf;b.timeoutErrorMessage&&(ae=b.timeoutErrorMessage),d(new Pe(ae,ve.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,u,P)),P=null},x===void 0&&S.setContentType(null),"setRequestHeader"in P&&W.forEach(S.toJSON(),function(ae,ve){P.setRequestHeader(ve,ae)}),W.isUndefined(b.withCredentials)||(P.withCredentials=!!b.withCredentials),N&&N!=="json"&&(P.responseType=b.responseType),R&&([$,F]=bo(R,!0),P.addEventListener("progress",$)),U&&P.upload&&([T,ye]=bo(U),P.upload.addEventListener("progress",T),P.upload.addEventListener("loadend",ye)),(b.cancelToken||b.signal)&&(B=Ce=>{P&&(d(!Ce||Ce.type?new Fs(null,u,P):Ce),P.abort(),P=null)},b.cancelToken&&b.cancelToken.subscribe(B),b.signal&&(b.signal.aborted?B():b.signal.addEventListener("abort",B)));const me=tb(b.url);if(me&&On.protocols.indexOf(me)===-1){d(new Pe("Unsupported protocol "+me+":",Pe.ERR_BAD_REQUEST,u));return}P.send(x||null)})},cb=(u,f)=>{const{length:m}=u=u?u.filter(Boolean):[];if(f||m){let d=new AbortController,b;const x=function(R){if(!b){b=!0,N();const B=R instanceof Error?R:this.reason;d.abort(B instanceof Pe?B:new Fs(B instanceof Error?B.message:B))}};let S=f&&setTimeout(()=>{S=null,x(new Pe(`timeout of ${f}ms exceeded`,Pe.ETIMEDOUT))},f);const N=()=>{u&&(S&&clearTimeout(S),S=null,u.forEach(R=>{R.unsubscribe?R.unsubscribe(x):R.removeEventListener("abort",x)}),u=null)};u.forEach(R=>R.addEventListener("abort",x));const{signal:U}=d;return U.unsubscribe=()=>W.asap(N),U}},fb=function*(u,f){let m=u.byteLength;if(m<f){yield u;return}let d=0,b;for(;d<m;)b=d+f,yield u.slice(d,b),d=b},db=async function*(u,f){for await(const m of hb(u))yield*fb(m,f)},hb=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const f=u.getReader();try{for(;;){const{done:m,value:d}=await f.read();if(m)break;yield d}}finally{await f.cancel()}},fp=(u,f,m,d)=>{const b=db(u,f);let x=0,S,N=U=>{S||(S=!0,d&&d(U))};return new ReadableStream({async pull(U){try{const{done:R,value:B}=await b.next();if(R){N(),U.close();return}let T=B.byteLength;if(m){let $=x+=T;m($)}U.enqueue(new Uint8Array(B))}catch(R){throw N(R),R}},cancel(U){return N(U),b.return()}},{highWaterMark:2})},dp=64*1024,{isFunction:oo}=W,mb=(({Request:u,Response:f})=>({Request:u,Response:f}))(W.global),{ReadableStream:hp,TextEncoder:mp}=W.global,pp=(u,...f)=>{try{return!!u(...f)}catch{return!1}},pb=u=>{u=W.merge.call({skipUndefined:!0},mb,u);const{fetch:f,Request:m,Response:d}=u,b=f?oo(f):typeof fetch=="function",x=oo(m),S=oo(d);if(!b)return!1;const N=b&&oo(hp),U=b&&(typeof mp=="function"?(F=>re=>F.encode(re))(new mp):async F=>new Uint8Array(await new m(F).arrayBuffer())),R=x&&N&&pp(()=>{let F=!1;const re=new m(On.origin,{body:new hp,method:"POST",get duplex(){return F=!0,"half"}}).headers.has("Content-Type");return F&&!re}),B=S&&N&&pp(()=>W.isReadableStream(new d("").body)),T={stream:B&&(F=>F.body)};b&&["text","arrayBuffer","blob","formData","stream"].forEach(F=>{!T[F]&&(T[F]=(re,P)=>{let Ae=re&&re[F];if(Ae)return Ae.call(re);throw new Pe(`Response type '${F}' is not supported`,Pe.ERR_NOT_SUPPORT,P)})});const $=async F=>{if(F==null)return 0;if(W.isBlob(F))return F.size;if(W.isSpecCompliantForm(F))return(await new m(On.origin,{method:"POST",body:F}).arrayBuffer()).byteLength;if(W.isArrayBufferView(F)||W.isArrayBuffer(F))return F.byteLength;if(W.isURLSearchParams(F)&&(F=F+""),W.isString(F))return(await U(F)).byteLength},ye=async(F,re)=>{const P=W.toFiniteNumber(F.getContentLength());return P??$(re)};return async F=>{let{url:re,method:P,data:Ae,signal:me,cancelToken:Ce,timeout:ae,onDownloadProgress:ve,onUploadProgress:be,responseType:xe,headers:tt,withCredentials:$e="same-origin",fetchOptions:ut}=Fp(F),He=f||fetch;xe=xe?(xe+"").toLowerCase():"text";let Je=cb([me,Ce&&Ce.toAbortSignal()],ae),bt=null;const Ee=Je&&Je.unsubscribe&&(()=>{Je.unsubscribe()});let Xe;try{if(be&&R&&P!=="get"&&P!=="head"&&(Xe=await ye(tt,Ae))!==0){let X=new m(re,{method:"POST",body:Ae,duplex:"half"}),ue;if(W.isFormData(Ae)&&(ue=X.headers.get("content-type"))&&tt.setContentType(ue),X.body){const[Se,ke]=up(Xe,bo(op(be)));Ae=fp(X.body,dp,Se,ke)}}W.isString($e)||($e=$e?"include":"omit");const Y=x&&"credentials"in m.prototype,se={...ut,signal:Je,method:P.toUpperCase(),headers:tt.normalize().toJSON(),body:Ae,duplex:"half",credentials:Y?$e:void 0};bt=x&&new m(re,se);let pe=await(x?He(bt,ut):He(re,se));const Ne=B&&(xe==="stream"||xe==="response");if(B&&(ve||Ne&&Ee)){const X={};["status","statusText","headers"].forEach(Ze=>{X[Ze]=pe[Ze]});const ue=W.toFiniteNumber(pe.headers.get("content-length")),[Se,ke]=ve&&up(ue,bo(op(ve),!0))||[];pe=new d(fp(pe.body,dp,Se,()=>{ke&&ke(),Ee&&Ee()}),X)}xe=xe||"text";let De=await T[W.findKey(T,xe)||"text"](pe,F);return!Ne&&Ee&&Ee(),await new Promise((X,ue)=>{Vp(X,ue,{data:De,headers:Kn.from(pe.headers),status:pe.status,statusText:pe.statusText,config:F,request:bt})})}catch(Y){throw Ee&&Ee(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,F,bt,Y&&Y.response),{cause:Y.cause||Y}):Pe.from(Y,Y&&Y.code,F,bt,Y&&Y.response)}}},yb=new Map,Jp=u=>{let f=u&&u.env||{};const{fetch:m,Request:d,Response:b}=f,x=[d,b,m];let S=x.length,N=S,U,R,B=yb;for(;N--;)U=x[N],R=B.get(U),R===void 0&&B.set(U,R=N?new Map:pb(f)),B=R;return R};Jp();const Vf={http:zg,xhr:ob,fetch:{get:Jp}};W.forEach(Vf,(u,f)=>{if(u){try{Object.defineProperty(u,"name",{value:f})}catch{}Object.defineProperty(u,"adapterName",{value:f})}});const yp=u=>`- ${u}`,gb=u=>W.isFunction(u)||u===null||u===!1;function bb(u,f){u=W.isArray(u)?u:[u];const{length:m}=u;let d,b;const x={};for(let S=0;S<m;S++){d=u[S];let N;if(b=d,!gb(d)&&(b=Vf[(N=String(d)).toLowerCase()],b===void 0))throw new Pe(`Unknown adapter '${N}'`);if(b&&(W.isFunction(b)||(b=b.get(f))))break;x[N||"#"+S]=b}if(!b){const S=Object.entries(x).map(([U,R])=>`adapter ${U} `+(R===!1?"is not supported by the environment":"is not available in the build"));let N=m?S.length>1?`since :
`+S.map(yp).join(`
`):" "+yp(S[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return b}const $p={getAdapter:bb,adapters:Vf};function Of(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Fs(null,u)}function gp(u){return Of(u),u.headers=Kn.from(u.headers),u.data=Af.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),$p.getAdapter(u.adapter||Zs.adapter,u)(u).then(function(d){return Of(u),d.data=Af.call(u,u.transformResponse,d),d.headers=Kn.from(d.headers),d},function(d){return Gp(d)||(Of(u),d&&d.response&&(d.response.data=Af.call(u,u.transformResponse,d.response),d.response.headers=Kn.from(d.response.headers))),Promise.reject(d)})}const Pp="1.13.5",Co={};["object","boolean","number","function","string","symbol"].forEach((u,f)=>{Co[u]=function(d){return typeof d===u||"a"+(f<1?"n ":" ")+u}});const bp={};Co.transitional=function(f,m,d){function b(x,S){return"[Axios v"+Pp+"] Transitional option '"+x+"'"+S+(d?". "+d:"")}return(x,S,N)=>{if(f===!1)throw new Pe(b(S," has been removed"+(m?" in "+m:"")),Pe.ERR_DEPRECATED);return m&&!bp[S]&&(bp[S]=!0,console.warn(b(S," has been deprecated since v"+m+" and will be removed in the near future"))),f?f(x,S,N):!0}};Co.spelling=function(f){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${f}`),!0)};function vb(u,f,m){if(typeof u!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const d=Object.keys(u);let b=d.length;for(;b-- >0;){const x=d[b],S=f[x];if(S){const N=u[x],U=N===void 0||S(N,x,u);if(U!==!0)throw new Pe("option "+x+" must be "+U,Pe.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Pe("Unknown option "+x,Pe.ERR_BAD_OPTION)}}const mo={assertOptions:vb,validators:Co},ha=mo.validators;let zi=class{constructor(f){this.defaults=f||{},this.interceptors={request:new rp,response:new rp}}async request(f,m){try{return await this._request(f,m)}catch(d){if(d instanceof Error){let b={};Error.captureStackTrace?Error.captureStackTrace(b):b=new Error;const x=b.stack?b.stack.replace(/^.+\n/,""):"";try{d.stack?x&&!String(d.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+x):d.stack=x}catch{}}throw d}}_request(f,m){typeof f=="string"?(m=m||{},m.url=f):m=f||{},m=Ri(this.defaults,m);const{transitional:d,paramsSerializer:b,headers:x}=m;d!==void 0&&mo.assertOptions(d,{silentJSONParsing:ha.transitional(ha.boolean),forcedJSONParsing:ha.transitional(ha.boolean),clarifyTimeoutError:ha.transitional(ha.boolean),legacyInterceptorReqResOrdering:ha.transitional(ha.boolean)},!1),b!=null&&(W.isFunction(b)?m.paramsSerializer={serialize:b}:mo.assertOptions(b,{encode:ha.function,serialize:ha.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),mo.assertOptions(m,{baseUrl:ha.spelling("baseURL"),withXsrfToken:ha.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=x&&W.merge(x.common,x[m.method]);x&&W.forEach(["delete","get","head","post","put","patch","common"],F=>{delete x[F]}),m.headers=Kn.concat(S,x);const N=[];let U=!0;this.interceptors.request.forEach(function(re){if(typeof re.runWhen=="function"&&re.runWhen(m)===!1)return;U=U&&re.synchronous;const P=m.transitional||Xf;P&&P.legacyInterceptorReqResOrdering?N.unshift(re.fulfilled,re.rejected):N.push(re.fulfilled,re.rejected)});const R=[];this.interceptors.response.forEach(function(re){R.push(re.fulfilled,re.rejected)});let B,T=0,$;if(!U){const F=[gp.bind(this),void 0];for(F.unshift(...N),F.push(...R),$=F.length,B=Promise.resolve(m);T<$;)B=B.then(F[T++],F[T++]);return B}$=N.length;let ye=m;for(;T<$;){const F=N[T++],re=N[T++];try{ye=F(ye)}catch(P){re.call(this,P);break}}try{B=gp.call(this,ye)}catch(F){return Promise.reject(F)}for(T=0,$=R.length;T<$;)B=B.then(R[T++],R[T++]);return B}getUri(f){f=Ri(this.defaults,f);const m=Zp(f.baseURL,f.url,f.allowAbsoluteUrls);return Yp(m,f.params,f.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(f){zi.prototype[f]=function(m,d){return this.request(Ri(d||{},{method:f,url:m,data:(d||{}).data}))}});W.forEach(["post","put","patch"],function(f){function m(d){return function(x,S,N){return this.request(Ri(N||{},{method:f,headers:d?{"Content-Type":"multipart/form-data"}:{},url:x,data:S}))}}zi.prototype[f]=m(),zi.prototype[f+"Form"]=m(!0)});let xb=class Wp{constructor(f){if(typeof f!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(x){m=x});const d=this;this.promise.then(b=>{if(!d._listeners)return;let x=d._listeners.length;for(;x-- >0;)d._listeners[x](b);d._listeners=null}),this.promise.then=b=>{let x;const S=new Promise(N=>{d.subscribe(N),x=N}).then(b);return S.cancel=function(){d.unsubscribe(x)},S},f(function(x,S,N){d.reason||(d.reason=new Fs(x,S,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]}unsubscribe(f){if(!this._listeners)return;const m=this._listeners.indexOf(f);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const f=new AbortController,m=d=>{f.abort(d)};return this.subscribe(m),f.signal.unsubscribe=()=>this.unsubscribe(m),f.signal}static source(){let f;return{token:new Wp(function(b){f=b}),cancel:f}}};function Sb(u){return function(m){return u.apply(null,m)}}function wb(u){return W.isObject(u)&&u.isAxiosError===!0}const Rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Rf).forEach(([u,f])=>{Rf[f]=u});function Ip(u){const f=new zi(u),m=Mp(zi.prototype.request,f);return W.extend(m,zi.prototype,f,{allOwnKeys:!0}),W.extend(m,f,null,{allOwnKeys:!0}),m.create=function(b){return Ip(Ri(u,b))},m}const ln=Ip(Zs);ln.Axios=zi;ln.CanceledError=Fs;ln.CancelToken=xb;ln.isCancel=Gp;ln.VERSION=Pp;ln.toFormData=Eo;ln.AxiosError=Pe;ln.Cancel=ln.CanceledError;ln.all=function(f){return Promise.all(f)};ln.spread=Sb;ln.isAxiosError=wb;ln.mergeConfig=Ri;ln.AxiosHeaders=Kn;ln.formToJSON=u=>Xp(W.isHTMLForm(u)?new FormData(u):u);ln.getAdapter=$p.getAdapter;ln.HttpStatusCode=Rf;ln.default=ln;const{Axios:Zv,AxiosError:Fv,CanceledError:Jv,isCancel:$v,CancelToken:Pv,VERSION:Wv,all:Iv,Cancel:ex,isAxiosError:tx,spread:nx,toFormData:ax,AxiosHeaders:lx,HttpStatusCode:ix,formToJSON:rx,getAdapter:sx,mergeConfig:ux}=ln,wt=ln.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});wt.interceptors.request.use(u=>{const f=bl.getState().token;return f&&(u.headers.Authorization=`Token ${f}`),u.data instanceof FormData&&delete u.headers["Content-Type"],u});wt.interceptors.response.use(u=>u,u=>(u.response?.status===401&&bl.getState().logout(),Promise.reject(u)));const kr={login:(u,f)=>wt.post("/auth/login/",{email:u,password:f}),register:u=>wt.post("/auth/register/",u),logout:()=>wt.post("/auth/logout/"),me:()=>wt.get("/auth/me/"),deleteAccount:()=>wt.post("/auth/me/delete/")},Ks={list:()=>wt.get("/projects/"),get:u=>wt.get(`/projects/${u}/`),create:u=>wt.post("/projects/",u),update:(u,f)=>wt.patch(`/projects/${u}/`,f),delete:u=>wt.delete(`/projects/${u}/`)},pa={list:()=>wt.get("/lenses/"),get:u=>wt.get(`/lenses/${u}/`),create:u=>wt.post("/lenses/",u),update:(u,f)=>wt.patch(`/lenses/${u}/`,f),delete:u=>wt.delete(`/lenses/${u}/`),addColor:(u,f)=>wt.post(`/lenses/${u}/colors/`,f),updateColor:(u,f,m)=>wt.patch(`/lenses/${u}/colors/${f}/`,m),removeColor:(u,f)=>wt.delete(`/lenses/${u}/colors/${f}/`)},an={list:u=>wt.get("/documents/",{params:u}),get:u=>wt.get(`/documents/${u}/`),create:u=>wt.post("/documents/",u),createWithFile:u=>wt.post("/documents/",u),getPdf:u=>wt.get(`/documents/${u}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(u,f)=>wt.post(`/documents/${u}/upload_pdf/`,f),update:(u,f)=>wt.patch(`/documents/${u}/`,f),delete:u=>wt.delete(`/documents/${u}/`),highlights:u=>wt.get(`/documents/${u}/highlights/`),createHighlight:(u,f)=>wt.post(`/documents/${u}/highlights/`,f),updateHighlight:(u,f,m)=>wt.patch(`/documents/${u}/highlights/${f}/`,m),deleteHighlight:(u,f)=>wt.delete(`/documents/${u}/highlights/${f}/`)},jb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Ye={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},In={default:"border-slate-200"},ki="min-h-screen p-6",ey="bg-white border-b border-slate-200",Qs="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",Ls="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",vp="w-px h-6 bg-slate-200",Na=jb;function Nb(){const u=qi(),f=bl(T=>T.setToken),[m,d]=K.useState(""),[b,x]=K.useState(""),[S,N]=K.useState(""),[U,R]=K.useState(!1),B=async T=>{T.preventDefault(),N(""),R(!0);try{const{data:$}=await kr.login(m,b);f($.token),u("/",{replace:!0})}catch($){N($.response?.data?.detail||$.response?.data?.email?.[0]||"Login failed")}finally{R(!1)}};return o.jsx("div",{className:`${ki} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ye.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ye.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:T=>d(T.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ye.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:b,onChange:T=>x(T.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Qs,children:U?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ye.muted}`,children:["No account? ",o.jsx(Tp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function _b(){const u=qi(),f=bl(T=>T.setToken),[m,d]=K.useState(""),[b,x]=K.useState(""),[S,N]=K.useState(""),[U,R]=K.useState(!1),B=async T=>{T.preventDefault(),N(""),R(!0);try{await kr.register({email:m,password:b});const{data:$}=await kr.login(m,b);f($.token),u("/",{replace:!0})}catch($){const ye=$.response?.data;N(ye?.email?.[0]||ye?.password?.[0]||"Registration failed")}finally{R(!1)}};return o.jsx("div",{className:`${ki} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ye.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ye.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:T=>d(T.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ye.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:b,onChange:T=>x(T.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Qs,children:U?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ye.muted}`,children:["Already have an account? ",o.jsx(Tp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const ty=(...u)=>u.filter((f,m,d)=>!!f&&f.trim()!==""&&d.indexOf(f)===m).join(" ").trim();const Eb=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Cb=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(f,m,d)=>d?d.toUpperCase():m.toLowerCase());const xp=u=>{const f=Cb(u);return f.charAt(0).toUpperCase()+f.slice(1)};var Ab={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ob=u=>{for(const f in u)if(f.startsWith("aria-")||f==="role"||f==="title")return!0;return!1};const Db=K.forwardRef(({color:u="currentColor",size:f=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:b="",children:x,iconNode:S,...N},U)=>K.createElement("svg",{ref:U,...Ab,width:f,height:f,stroke:u,strokeWidth:d?Number(m)*24/Number(f):m,className:ty("lucide",b),...!x&&!Ob(N)&&{"aria-hidden":"true"},...N},[...S.map(([R,B])=>K.createElement(R,B)),...Array.isArray(x)?x:[x]]));const Jt=(u,f)=>{const m=K.forwardRef(({className:d,...b},x)=>K.createElement(Db,{ref:x,iconNode:f,className:ty(`lucide-${Eb(xp(u))}`,`lucide-${u}`,d),...b}));return m.displayName=xp(u),m};const Tb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ao=Jt("arrow-left",Tb);const Mb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],zb=Jt("braces",Mb);const kb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bf=Jt("check",kb);const Rb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],po=Jt("chevron-down",Rb);const Bb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ys=Jt("chevron-right",Bb);const qb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ny=Jt("copy",qb);const Ub=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Hb=Jt("file-down",Ub);const Lb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Kb=Jt("file-stack",Lb);const Qb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vo=Jt("file-text",Qb);const Yb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ja=Jt("loader-circle",Yb);const Xb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zf=Jt("log-out",Xb);const Gb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ay=Jt("palette",Gb);const Vb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Zb=Jt("panel-right-close",Vb);const Fb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Jb=Jt("panel-right-open",Fb);const $b=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Oo=Jt("pencil",$b);const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sp=Jt("plus",Pb);const Wb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ly=Jt("search",Wb);const Ib=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ev=Jt("settings-2",Ib);const tv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ui=Jt("trash-2",tv);const nv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xo=Jt("upload",nv);const av=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bi=Jt("x",av);const lv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],iv=Jt("zoom-in",lv);const rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sv=Jt("zoom-out",rv),wp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Tr=5,jp=3;function iy(){const u=Rr(),[f,m]=K.useState(0),[d,b]=K.useState(""),[x,S]=K.useState([]),[N,U]=K.useState(null),[R,B]=K.useState(""),[T,$]=K.useState(null),[ye,F]=K.useState(null),[re,P]=K.useState(null),[Ae,me]=K.useState(""),[Ce,ae]=K.useState(null),[ve,be]=K.useState(""),{data:xe=[]}=Wn({queryKey:["lenses"],queryFn:async()=>{const{data:X}=await pa.list();return X}}),tt=xe.filter(X=>!X.is_system),$e=()=>{m(0),b(""),S([]),U(null),B("")},ut=An({mutationFn:X=>pa.create(X),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),$e()}}),He=An({mutationFn:X=>pa.delete(X),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),Je=An({mutationFn:({lensId:X,data:ue})=>pa.addColor(X,ue),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),F(null),P(null),me("")}}),bt=An({mutationFn:({lensId:X,colorId:ue})=>pa.removeColor(X,ue),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),Ee=An({mutationFn:({lensId:X,colorId:ue,displayName:Se})=>pa.updateColor(X,ue,{display_name:Se}),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),ae(null),be("")}}),Xe=()=>{!ye||!re||!Ae.trim()||Je.mutate({lensId:ye,data:{key:`custom_${Date.now()}`,display_name:Ae.trim(),hex:re}})},Y=new Set(x.map(X=>X.hex.toLowerCase())),se=wp.filter(X=>!Y.has(X.toLowerCase())),pe=()=>{!N||!R.trim()||(S(X=>[...X,{key:`color_${Date.now()}_${X.length}`,display_name:R.trim(),hex:N}]),U(null),B(""))},Ne=X=>{S(ue=>ue.filter((Se,ke)=>ke!==X))},De=()=>{!d.trim()||x.length<1||ut.mutate({name:d.trim(),colors:x})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(ay,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Tr," colour categories. You can create up to ",jp," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:xe.map(X=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:X.name}),X.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!X.is_system&&o.jsx("button",{type:"button",onClick:()=>$(X),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(Ui,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(X.colors??[]).map(ue=>{const Se=Ce?.lensId===X.id&&Ce?.colorId===ue.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:ue.hex}}),Se?o.jsx("input",{type:"text",value:ve,onChange:ke=>be(ke.target.value),onBlur:()=>{const ke=ve.trim();ke&&ke!==ue.display_name?Ee.mutate({lensId:X.id,colorId:ue.id,displayName:ke}):(ae(null),be(""))},onKeyDown:ke=>{if(ke.key==="Enter"){const Ze=ve.trim();Ze&&Ee.mutate({lensId:X.id,colorId:ue.id,displayName:Ze})}ke.key==="Escape"&&(ae(null),be(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{X.is_system||(ae({lensId:X.id,colorId:ue.id}),be(ue.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${X.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:ue.display_name}),!X.is_system&&(X.colors?.length??0)>1&&!Se&&o.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),bt.mutate({lensId:X.id,colorId:ue.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(Bi,{className:"w-3 h-3",strokeWidth:2.5})})]},ue.id)}),!X.is_system&&(X.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!X.is_system&&(X.colors?.length??0)<Tr&&o.jsx("button",{type:"button",onClick:()=>{F(X.id),P(null),me("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(Sp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},X.id))}),tt.length<jp&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(Sp,{className:"w-4 h-4"}),"Create lens"]}),f>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ut.isPending&&$e(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[f===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:X=>b(X.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),f===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",x.length,"/",Tr,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Tr," colours and give each a label."]}),x.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:x.map((X,ue)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:X.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:X.display_name}),o.jsx("button",{type:"button",onClick:()=>Ne(ue),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(Bi,{className:"w-3.5 h-3.5"})})]},ue))}),x.length<Tr&&o.jsx(o.Fragment,{children:N?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),o.jsx("input",{type:"text",value:R,onChange:X=>B(X.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&pe()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:pe,disabled:!R.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",x.length+1," of ",Tr]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:se.map(X=>o.jsx("button",{type:"button",onClick:()=>{U(X),B("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:X}},X))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),U(null),B("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:De,disabled:x.length<1||ut.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:ut.isPending?"Creating":"Create lens"})]})]})]})}),ye&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Je.isPending&&F(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),re?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:re}}),o.jsx("input",{type:"text",value:Ae,onChange:X=>me(X.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&Xe()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const X=xe.find(Se=>Se.id===ye),ue=new Set((X?.colors??[]).map(Se=>Se.hex.toLowerCase()));return wp.filter(Se=>!ue.has(Se.toLowerCase()))})().map(X=>o.jsx("button",{type:"button",onClick:()=>P(X),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:X}},X))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{re?(P(null),me("")):F(null)},disabled:Je.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:re?"Back":"Cancel"}),re&&o.jsx("button",{type:"button",onClick:Xe,disabled:!Ae.trim()||Je.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Je.isPending?"Adding":"Add"})]})]})}),T&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!He.isPending&&$(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:X=>X.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:T.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>$(null),disabled:He.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{He.mutate(T.id,{onSuccess:()=>$(null)})},disabled:He.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:He.isPending?"Deleting":"Delete lens"})]})]})})]})}const yl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function uv(u){if(!u)return"";const f=new Date(u);if(Number.isNaN(f.getTime()))return"";const m=new Date,d=m-f,b=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return b<1?"Just now":b<60?`${b} min ago`:x<24?`${x} hour${x===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:f.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:f.getFullYear()!==m.getFullYear()?"numeric":void 0})}function ov({project:u,onOpen:f}){const[m,d]=K.useState(!1),b=u.document_count??0,x=u.annotation_count??0,S=u.color&&yl.includes(u.color)?u.color:yl[u.id%yl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>f(u.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&f(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[b," ",b===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:uv(u.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:x>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[x," note",x!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function cv({onClose:u,onCreate:f,isPending:m,defaultColorIndex:d=0}){const[b,x]=K.useState(""),[S,N]=K.useState(yl[d%yl.length]),U=()=>{const R=b.trim();R&&(f(R,S),x(""),N(yl[d%yl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:R=>R.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:b,onChange:R=>x(R.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:yl.map(R=>o.jsx("button",{type:"button",onClick:()=>N(R),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:R,borderColor:S===R?"#1e293b":"transparent",outline:S===R?"2px solid #fff":"none",outlineOffset:-4}},R))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:U,disabled:!b.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:b.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function fv(){const u=qi(),f=Rr(),m=bl(ae=>ae.logout),[d,b]=K.useState(!1),[x,S]=K.useState(!1),[N,U]=K.useState(""),{data:R}=Wn({queryKey:["me"],queryFn:async()=>{const{data:ae}=await kr.me();return ae}}),{data:B,isLoading:T}=Wn({queryKey:["projects"],queryFn:async()=>{const{data:ae}=await Ks.list();return ae}}),$=Array.isArray(B)?B:B?.results??[],ye=$.filter(ae=>ae.name.toLowerCase().includes(N.toLowerCase())),F=$.reduce((ae,ve)=>ae+(ve.document_count??0),0),re=$.reduce((ae,ve)=>ae+(ve.annotation_count??0),0),P=An({mutationFn:({name:ae,color:ve})=>Ks.create({name:ae.trim(),color:ve}),onSuccess:()=>{f.invalidateQueries({queryKey:["projects"]}),b(!1)}}),Ae=(ae,ve)=>{P.mutate({name:ae,color:ve})},me=()=>{m(),u("/login",{replace:!0})},Ce=(R?.email?.[0]||R?.username?.[0]||"?").toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:me,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Zf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>u("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:Ce})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>S(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ay,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[o.jsxs("span",{children:[$.length," project",$.length!==1?"s":""]}),o.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),o.jsxs("span",{children:[F," document",F!==1?"s":""]}),o.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),o.jsxs("span",{children:[re," annotation",re!==1?"s":""]})]}),$.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:ae=>U(ae.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),T?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ja,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:ye.map(ae=>o.jsx(ov,{project:ae,onOpen:ve=>u(`/project/${ve}`)},ae.id))}),!T&&ye.length===0&&N&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!T&&$.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&o.jsx(cv,{onClose:()=>b(!1),onCreate:Ae,isPending:P.isPending,defaultColorIndex:$.length%yl.length}),x&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>S(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:ae=>ae.stopPropagation(),children:o.jsx(iy,{})})})]})}var yo={exports:{}},dv=yo.exports,Np;function hv(){return Np||(Np=1,(function(u,f){((m,d)=>{u.exports=d()})(dv,function(){var m=function(l,s){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(c,h){c.__proto__=h}:function(c,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(c[y]=h[y])}))(l,s)},d=function(){return(d=Object.assign||function(l){for(var s,c=1,h=arguments.length;c<h;c++)for(var y in s=arguments[c])Object.prototype.hasOwnProperty.call(s,y)&&(l[y]=s[y]);return l}).apply(this,arguments)};function b(l,s,c){for(var h,y=0,g=s.length;y<g;y++)!h&&y in s||((h=h||Array.prototype.slice.call(s,0,y))[y]=s[y]);return l.concat(h||Array.prototype.slice.call(s))}var x=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:A0,S=Object.keys,N=Array.isArray;function U(l,s){return typeof s=="object"&&S(s).forEach(function(c){l[c]=s[c]}),l}typeof Promise>"u"||x.Promise||(x.Promise=Promise);var R=Object.getPrototypeOf,B={}.hasOwnProperty;function T(l,s){return B.call(l,s)}function $(l,s){typeof s=="function"&&(s=s(R(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(s).forEach(function(c){F(l,c,s[c])})}var ye=Object.defineProperty;function F(l,s,c,h){ye(l,s,U(c&&T(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},h))}function re(l){return{from:function(s){return l.prototype=Object.create(s.prototype),F(l.prototype,"constructor",l),{extend:$.bind(null,l.prototype)}}}}var P=Object.getOwnPropertyDescriptor,Ae=[].slice;function me(l,s,c){return Ae.call(l,s,c)}function Ce(l,s){return s(l)}function ae(l){if(!l)throw new Error("Assertion Failed")}function ve(l){x.setImmediate?setImmediate(l):setTimeout(l,0)}function be(l,s){if(typeof s=="string"&&T(l,s))return l[s];if(!s)return l;if(typeof s!="string"){for(var c=[],h=0,y=s.length;h<y;++h){var g=be(l,s[h]);c.push(g)}return c}var w,j=s.indexOf(".");return j===-1||(w=l[s.substr(0,j)])==null?void 0:be(w,s.substr(j+1))}function xe(l,s,c){if(l&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof s!="string"&&"length"in s){ae(typeof c!="string"&&"length"in c);for(var h=0,y=s.length;h<y;++h)xe(l,s[h],c[h])}else{var g,w,j=s.indexOf(".");j!==-1?(g=s.substr(0,j),(j=s.substr(j+1))===""?c===void 0?N(l)&&!isNaN(parseInt(g))?l.splice(g,1):delete l[g]:l[g]=c:xe(w=(w=l[g])&&T(l,g)?w:l[g]={},j,c)):c===void 0?N(l)&&!isNaN(parseInt(s))?l.splice(s,1):delete l[s]:l[s]=c}}function tt(l){var s,c={};for(s in l)T(l,s)&&(c[s]=l[s]);return c}var $e=[].concat;function ut(l){return $e.apply([],l)}var ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ut([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(s){return s+l+"Array"})}))).filter(function(l){return x[l]}),He=new Set(ue.map(function(l){return x[l]})),Je=null;function bt(l){return Je=new WeakMap,l=(function s(c){if(!c||typeof c!="object")return c;var h=Je.get(c);if(h)return h;if(N(c)){h=[],Je.set(c,h);for(var y=0,g=c.length;y<g;++y)h.push(s(c[y]))}else if(He.has(c.constructor))h=c;else{var w,j=R(c);for(w in h=j===Object.prototype?{}:Object.create(j),Je.set(c,h),c)T(c,w)&&(h[w]=s(c[w]))}return h})(l),Je=null,l}var Ee={}.toString;function Xe(l){return Ee.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",se=typeof Y=="symbol"?function(l){var s;return l!=null&&(s=l[Y])&&s.apply(l)}:function(){return null};function pe(l,s){s=l.indexOf(s),0<=s&&l.splice(s,1)}var Ne={};function De(l){var s,c,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===Ne&&typeof l=="string")return[l];if(y=se(l))for(c=[];!(h=y.next()).done;)c.push(h.value);else{if(l==null)return[l];if(typeof(s=l.length)!="number")return[l];for(c=new Array(s);s--;)c[s]=l[s]}}else for(s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return c}var X=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ue),Se={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ke(l,s){this.name=l,this.message=s}function Ze(l,s){return l+". Errors: "+Object.keys(s).map(function(c){return s[c].toString()}).filter(function(c,h,y){return y.indexOf(c)===h}).join(`
`)}function at(l,s,c,h){this.failures=s,this.failedKeys=h,this.successCount=c,this.message=Ze(l,s)}function vt(l,s){this.name="BulkError",this.failures=Object.keys(s).map(function(c){return s[c]}),this.failuresByPos=s,this.message=Ze(l,this.failures)}re(ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),re(at).from(ke),re(vt).from(ke);var Vt=Et.reduce(function(l,s){return l[s]=s+"Error",l},{}),dn=ke,ge=Et.reduce(function(l,s){var c=s+"Error";function h(y,g){this.name=c,y?typeof y=="string"?(this.message="".concat(y).concat(g?`
 `+g:""),this.inner=g||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Se[s]||c,this.inner=null)}return re(h).from(dn),l[s]=h,l},{}),ft=(ge.Syntax=SyntaxError,ge.Type=TypeError,ge.Range=RangeError,ue.reduce(function(l,s){return l[s+"Error"]=ge[s],l},{}));ue=Et.reduce(function(l,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(l[s+"Error"]=ge[s]),l},{});function Ge(){}function dt(l){return l}function Zt(l,s){return l==null||l===dt?s:function(c){return s(l(c))}}function Ot(l,s){return function(){l.apply(this,arguments),s.apply(this,arguments)}}function Qn(l,s){return l===Ge?s:function(){var c=l.apply(this,arguments),h=(c!==void 0&&(arguments[0]=c),this.onsuccess),y=this.onerror,g=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Ot(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Ot(y,this.onerror):y),g!==void 0?g:c}}function ea(l,s){return l===Ge?s:function(){l.apply(this,arguments);var c=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Ot(c,this.onsuccess):c),h&&(this.onerror=this.onerror?Ot(h,this.onerror):h)}}function de(l,s){return l===Ge?s:function(y){var h=l.apply(this,arguments),y=(U(y,h),this.onsuccess),g=this.onerror,w=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Ot(y,this.onsuccess):y),g&&(this.onerror=this.onerror?Ot(g,this.onerror):g),h===void 0?w===void 0?void 0:w:U(h,w)}}function et(l,s){return l===Ge?s:function(){return s.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ee(l,s){return l===Ge?s:function(){var c=l.apply(this,arguments);if(c&&typeof c.then=="function"){for(var h=this,y=arguments.length,g=new Array(y);y--;)g[y]=arguments[y];return c.then(function(){return s.apply(h,g)})}return s.apply(this,arguments)}}ue.ModifyError=at,ue.DexieError=ke,ue.BulkError=vt;var ze=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function he(l){ze=l}var Ve={},lt=100,gt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[gt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),R(gt),Et]:[Et,R(Et),Et]),Et=gt[0],Wa=gt[1],Wa=Wa&&Wa.then,mn=Et&&Et.constructor,rn=!!gt[2],Dn=function(l,s){ya.push([l,s]),Le&&(queueMicrotask(Js),Le=!1)},Me=!0,Le=!0,jt=[],qt=[],Ct=dt,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ge,pgp:!1,env:{},finalize:Ge},_e=Ut,ya=[],La=0,Hi=[];function Oe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=_e;if(typeof l!="function"){if(l!==Ve)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ga(this,this._value)}else this._state=null,this._value=null,++s.ref,(function c(h,y){try{y(function(g){if(h._state===null){if(g===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&Ea();g&&typeof g.then=="function"?c(h,function(j,C){g instanceof Oe?g._then(j,C):g.then(j,C)}):(h._state=!0,h._value=g,ai(h)),w&&ta()}},ga.bind(null,h))}catch(g){ga(h,g)}})(this,l)}var vl={get:function(){var l=_e,s=ri;function c(h,y){var g=this,w=!l.global&&(l!==_e||s!==ri),j=w&&!Tn(),C=new Oe(function(H,A){Ka(g,new ni(Li(h,l,w,j),Li(y,l,w,j),H,A,l))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return c.prototype=Ve,c},set:function(l){F(this,"then",l&&l.prototype===Ve?vl:{get:function(){return l},set:vl.set})}};function ni(l,s,c,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof s=="function"?s:null,this.resolve=c,this.reject=h,this.psd=y}function ga(l,s){var c,h;qt.push(s),l._state===null&&(c=l._lib&&Ea(),s=Ct(s),l._state=!1,l._value=s,h=l,jt.some(function(y){return y._value===h._value})||jt.push(h),ai(l),c)&&ta()}function ai(l){var s=l._listeners;l._listeners=[];for(var c=0,h=s.length;c<h;++c)Ka(l,s[c]);var y=l._PSD;--y.ref||y.finalize(),La===0&&(++La,Dn(function(){--La==0&&qr()},[]))}function Ka(l,s){if(l._state===null)l._listeners.push(s);else{var c=l._state?s.onFulfilled:s.onRejected;if(c===null)return(l._state?s.resolve:s.reject)(l._value);++s.psd.ref,++La,Dn(Do,[c,l,s])}}function Do(l,s,c){try{var h,y=s._value;!s._state&&qt.length&&(qt=[]),h=ze&&s._consoleTask?s._consoleTask.run(function(){return l(y)}):l(y),s._state||qt.indexOf(y)!==-1||(g=>{for(var w=jt.length;w;)if(jt[--w]._value===g._value)return jt.splice(w,1)})(s),c.resolve(h)}catch(g){c.reject(g)}finally{--La==0&&qr(),--c.psd.ref||c.psd.finalize()}}function Js(){Yn(Ut,function(){Ea()&&ta()})}function Ea(){var l=Me;return Le=Me=!1,l}function ta(){var l,s,c;do for(;0<ya.length;)for(l=ya,ya=[],c=l.length,s=0;s<c;++s){var h=l[s];h[0].apply(null,h[1])}while(0<ya.length);Le=Me=!0}function qr(){for(var l=jt,s=(jt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Hi.slice(0)),c=s.length;c;)s[--c]()}function li(l){return new Oe(Ve,!1,l)}function Ht(l,s){var c=_e;return function(){var h=Ea(),y=_e;try{return Aa(c,!0),l.apply(this,arguments)}catch(g){s&&s(g)}finally{Aa(y,!1),h&&ta()}}}$(Oe.prototype,{then:vl,_then:function(l,s){Ka(this,new ni(null,null,l,s,_e))},catch:function(l){var s,c;return arguments.length===1?this.then(null,l):(s=l,c=arguments[1],typeof s=="function"?this.then(null,function(h){return(h instanceof s?c:li)(h)}):this.then(null,function(h){return(h&&h.name===s?c:li)(h)}))},finally:function(l){return this.then(function(s){return Oe.resolve(l()).then(function(){return s})},function(s){return Oe.resolve(l()).then(function(){return li(s)})})},timeout:function(l,s){var c=this;return l<1/0?new Oe(function(h,y){var g=setTimeout(function(){return y(new ge.Timeout(s))},l);c.then(h,y).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&F(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=Hr(),$(Oe,{all:function(){var l=De.apply(null,arguments).map(Sl);return new Oe(function(s,c){l.length===0&&s([]);var h=l.length;l.forEach(function(y,g){return Oe.resolve(y).then(function(w){l[g]=w,--h||s(l)},c)})})},resolve:function(l){return l instanceof Oe?l:l&&typeof l.then=="function"?new Oe(function(s,c){l.then(s,c)}):new Oe(Ve,!0,l)},reject:li,race:function(){var l=De.apply(null,arguments).map(Sl);return new Oe(function(s,c){l.map(function(h){return Oe.resolve(h).then(s,c)})})},PSD:{get:function(){return _e},set:function(l){return _e=l}},totalEchoes:{get:function(){return ri}},newPSD:Kt,usePSD:Yn,scheduler:{get:function(){return Dn},set:function(l){Dn=l}},rejectionMapper:{get:function(){return Ct},set:function(l){Ct=l}},follow:function(l,s){return new Oe(function(c,h){return Kt(function(y,g){var w=_e;w.unhandleds=[],w.onunhandled=g,w.finalize=Ot(function(){var j,C=this;j=function(){C.unhandleds.length===0?y():g(C.unhandleds[0])},Hi.push(function H(){j(),Hi.splice(Hi.indexOf(H),1)}),++La,Dn(function(){--La==0&&qr()},[])},w.finalize),l()},s,c,h)})}}),mn&&(mn.allSettled&&F(Oe,"allSettled",function(){var l=De.apply(null,arguments).map(Sl);return new Oe(function(s){l.length===0&&s([]);var c=l.length,h=new Array(c);l.forEach(function(y,g){return Oe.resolve(y).then(function(w){return h[g]={status:"fulfilled",value:w}},function(w){return h[g]={status:"rejected",reason:w}}).then(function(){return--c||s(h)})})})}),mn.any&&typeof AggregateError<"u"&&F(Oe,"any",function(){var l=De.apply(null,arguments).map(Sl);return new Oe(function(s,c){l.length===0&&c(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(g,w){return Oe.resolve(g).then(function(j){return s(j)},function(j){y[w]=j,--h||c(new AggregateError(y))})})})}),mn.withResolvers)&&(Oe.withResolvers=mn.withResolvers);var Wt={awaits:0,echoes:0,id:0},Ur=0,xl=[],ii=0,ri=0,Ca=0;function Kt(l,w,c,h){var y=_e,g=Object.create(y),w=(g.parent=y,g.ref=0,g.global=!1,g.id=++Ca,Ut.env,g.env=rn?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},w&&U(g,w),++y.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},Yn(g,l,c,h));return g.ref===0&&g.finalize(),w}function It(){return Wt.id||(Wt.id=++Ur),++Wt.awaits,Wt.echoes+=lt,Wt.id}function Tn(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*lt,!0)}function Sl(l){return Wt.echoes&&l&&l.constructor===mn?(It(),l.then(function(s){return Tn(),s},function(s){return Tn(),Mt(s)})):l}function To(){var l=xl[xl.length-1];xl.pop(),Aa(l,!1)}function Aa(l,s){var c,h,y=_e;(s?!Wt.echoes||ii++&&l===_e:!ii||--ii&&l===_e)||queueMicrotask(s?(function(g){++ri,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),xl.push(_e),Aa(g,!0)}).bind(null,l):To),l!==_e&&(_e=l,y===Ut&&(Ut.env=Hr()),rn)&&(c=Ut.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(x,"Promise",h.PromiseProp),c.all=h.all,c.race=h.race,c.resolve=h.resolve,c.reject=h.reject,h.allSettled&&(c.allSettled=h.allSettled),h.any)&&(c.any=h.any)}function Hr(){var l=x.Promise;return rn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(x,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Yn(l,s,c,h,y){var g=_e;try{return Aa(l,!0),s(c,h,y)}finally{Aa(g,!1)}}function Li(l,s,c,h){return typeof l!="function"?l:function(){var y=_e;c&&It(),Aa(s,!0);try{return l.apply(this,arguments)}finally{Aa(y,!1),h&&queueMicrotask(Tn)}}}function Oa(l){Promise===mn&&Wt.echoes===0?ii===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Wa).indexOf("[native code]")===-1&&(It=Tn=Ge);var Mt=Oe.reject,Xn="",Nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Qa=[],si="__dbnames",ba="readonly",Da="readwrite";function Ya(l,s){return l?s?function(){return l.apply(this,arguments)&&s.apply(this,arguments)}:l:s}var Lr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ui(l){return typeof l!="string"||/\./.test(l)?function(s){return s}:function(s){return s[l]===void 0&&l in s&&delete(s=bt(s))[l],s}}function $s(){throw ge.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(l,s){try{var c=oi(l),h=oi(s);if(c!==h)return c==="Array"?1:h==="Array"?-1:c==="binary"?1:h==="binary"?-1:c==="string"?1:h==="string"?-1:c==="Date"?1:h!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return s<l?1:l<s?-1:0;case"binary":for(var y=na(l),g=na(s),w=y.length,j=g.length,C=w<j?w:j,H=0;H<C;++H)if(y[H]!==g[H])return y[H]<g[H]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var A=l,E=s,M=A.length,k=E.length,O=M<k?M:k,D=0;D<O;++D){var Q=rt(A[D],E[D]);if(Q!==0)return Q}return M===k?0:M<k?-1:1}}catch{}return NaN}function oi(l){var s=typeof l;return s=="object"&&(ArrayBuffer.isView(l)||(s=Xe(l))==="ArrayBuffer")?"binary":s}function na(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function vn(l,s,c){var h=l.schema.yProps;return h?(s&&0<c.numFailures&&(s=s.filter(function(y,g){return!c.failures[g]})),Promise.all(h.map(function(y){return y=y.updatesTable,s?l.db.table(y).where("k").anyOf(s).delete():l.db.table(y).clear()})).then(function(){return c})):c}Ps.prototype.execute=function(l){var s=this["@@propmod"];if(s.add!==void 0){var c=s.add;if(N(c))return b(b([],N(l)?l:[],!0),c).sort();if(typeof c=="number")return(Number(l)||0)+c;if(typeof c=="bigint")try{return BigInt(l)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(s.remove!==void 0){var h=s.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return c=(c=s.replacePrefix)==null?void 0:c[0],c&&typeof l=="string"&&l.startsWith(c)?s.replacePrefix[1]+l.substring(c.length):l};var wl=Ps;function Ps(l){this["@@propmod"]=l}function Ki(l,s){for(var c=S(s),h=c.length,y=!1,g=0;g<h;++g){var w=c[g],j=s[w],C=be(l,w);j instanceof wl?(xe(l,w,j.execute(C)),y=!0):C!==j&&(xe(l,w,j),y=!0)}return y}Nt.prototype._trans=function(l,s,c){var h=this._tx||_e.trans,y=this.name,g=ze&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(H,A,E){if(E.schema[y])return s(E.idbtrans,E);throw new ge.NotFound("Table "+y+" not part of transaction")}var j=Ea();try{var C=h&&h.db._novip===this.db._novip?h===_e.trans?h._promise(l,w,c):Kt(function(){return h._promise(l,w,c)},{trans:h,transless:_e.transless||_e}):(function H(A,E,M,k){if(A.idbdb&&(A._state.openComplete||_e.letThrough||A._vip)){var O=A._createTransaction(E,M,A._dbSchema);try{O.create(),A._state.PR1398_maxLoop=3}catch(D){return D.name===Vt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return H(A,E,M,k)})):Mt(D)}return O._promise(E,function(D,Q){return Kt(function(){return _e.trans=O,k(D,Q,O)})}).then(function(D){if(E==="readwrite")try{O.idbtrans.commit()}catch{}return E==="readonly"?D:O._completion.then(function(){return D})})}if(A._state.openComplete)return Mt(new ge.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return Mt(new ge.DatabaseClosed);A.open().catch(Ge)}return A._state.dbReadyPromise.then(function(){return H(A,E,M,k)})})(this.db,l,[this.name],w);return g&&(C._consoleTask=g,C=C.catch(function(H){return console.trace(H),Mt(H)})),C}finally{j&&ta()}},Nt.prototype.get=function(l,s){var c=this;return l&&l.constructor===Object?this.where(l).first(s):l==null?Mt(new ge.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return c.core.get({trans:h,key:l}).then(function(y){return c.hook.reading.fire(y)})}).then(s)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var s=S(l);if(s.length===1)return this.where(s[0]).equals(l[s[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&s.every(function(H){return 0<=j.keyPath.indexOf(H)})){for(var C=0;C<s.length;++C)if(s.indexOf(j.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(j,C){return j.keyPath.length-C.keyPath.length})[0];if(c&&this.db._maxKey!==Xn)return w=c.keyPath.slice(0,s.length),this.where(w).equals(w.map(function(j){return l[j]}));!c&&ze&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function y(j,C){return rt(j,C)===0}var w=s.reduce(function(A,C){var H=A[0],A=A[1],E=h[C],M=l[C];return[H||E,H||!E?Ya(A,E&&E.multi?function(k){return k=be(k,C),N(k)&&k.some(function(O){return y(M,O)})}:function(k){return y(M,be(k,C))}):A]},[null,null]),g=w[0],w=w[1];return g?this.where(g.name).equals(l[g.keyPath]).filter(w):c?this.filter(w):this.where(s).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var s=this.db,c=this.name,h=((this.schema.mappedClass=l).prototype instanceof $s&&(l=(w=>{var j=A,C=w;if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function H(){this.constructor=j}function A(){return w!==null&&w.apply(this,arguments)||this}return m(j,C),j.prototype=C===null?Object.create(C):(H.prototype=C.prototype,new H),Object.defineProperty(A.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),A.prototype.table=function(){return c},A})(l)),new Set),y=l.prototype;y;y=R(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function g(w){if(!w)return w;var j,C=Object.create(l.prototype);for(j in w)if(!h.has(j))try{C[j]=w[j]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=g,this.hook("reading",g),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){U(this,l)})},Nt.prototype.add=function(l,s){var c=this,h=this.schema.primKey,y=h.auto,g=h.keyPath,w=l;return g&&y&&(w=ui(g)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(g)try{xe(l,g,j)}catch{}return j})},Nt.prototype.upsert=function(l,s){var c=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return c.core.get({trans:y,key:l}).then(function(g){var w=g??{};return Ki(w,s),h&&xe(w,h,l),c.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[s]}}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):!!g})})})},Nt.prototype.update=function(l,s){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(s):(l=be(l,this.schema.primKey.keyPath))===void 0?Mt(new ge.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s)},Nt.prototype.put=function(l,s){var c=this,h=this.schema.primKey,y=h.auto,g=h.keyPath,w=l;return g&&y&&(w=ui(g)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(g)try{xe(l,g,j)}catch{}return j})},Nt.prototype.delete=function(l){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"delete",keys:[l]}).then(function(h){return vn(s,[l],h)}).then(function(h){return h.numFailures?Oe.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"deleteRange",range:Lr}).then(function(c){return vn(l,null,c)})}).then(function(s){return s.numFailures?Oe.reject(s.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var s=this;return this._trans("readonly",function(c){return s.core.getMany({keys:l,trans:c}).then(function(h){return h.map(function(y){return s.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,s,c){var h=this,y=Array.isArray(s)?s:void 0,g=(c=c||(y?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new ge.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");var C=l.length,H=j&&H?l.map(ui(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:H,wantResults:g}).then(function(A){var E=A.numFailures,M=A.failures;if(E===0)return g?A.results:A.lastResult;throw new vt("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(C," operations failed"),M)})})},Nt.prototype.bulkPut=function(l,s,c){var h=this,y=Array.isArray(s)?s:void 0,g=(c=c||(y?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new ge.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new ge.InvalidArgument("Arguments objects and keys must have the same length");var C=l.length,H=j&&H?l.map(ui(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:H,wantResults:g}).then(function(A){var E=A.numFailures,M=A.failures;if(E===0)return g?A.results:A.lastResult;throw new vt("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(C," operations failed"),M)})})},Nt.prototype.bulkUpdate=function(l){var s=this,c=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),g=[];return this._trans("readwrite",function(w){return c.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var C=[],H=[],A=(l.forEach(function(E,M){var k=E.key,O=E.changes,D=j[M];if(D){for(var Q=0,Z=Object.keys(O);Q<Z.length;Q++){var L=Z[Q],te=O[L];if(L===s.schema.primKey.keyPath){if(rt(te,k)!==0)throw new ge.Constraint("Cannot update primary key in bulkUpdate()")}else xe(D,L,te)}g.push(M),C.push(k),H.push(D)}}),C.length);return c.mutate({trans:w,type:"put",keys:C,values:H,updates:{keys:h,changeSpecs:y}}).then(function(E){var M=E.numFailures,k=E.failures;if(M===0)return A;for(var O=0,D=Object.keys(k);O<D.length;O++){var Q,Z=D[O],L=g[Number(Z)];L!=null&&(Q=k[Z],delete k[Z],k[L]=Q)}throw new vt("".concat(s.name,".bulkUpdate(): ").concat(M," of ").concat(A," operations failed"),k)})})})},Nt.prototype.bulkDelete=function(l){var s=this,c=l.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return vn(s,l,y)})}).then(function(h){var y=h.numFailures,g=h.failures;if(y===0)return h.lastResult;throw new vt("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(c," operations failed"),g)})};var Kr=Nt;function Nt(){}function ci(l){function s(w,j){if(j){for(var C=arguments.length,H=new Array(C-1);--C;)H[C-1]=arguments[C];return c[w].subscribe.apply(null,H),l}if(typeof w=="string")return c[w]}var c={};s.addEventType=g;for(var h=1,y=arguments.length;h<y;++h)g(arguments[h]);return s;function g(w,j,C){var H,A;if(typeof w!="object")return j=j||et,A={subscribers:[],fire:C=C||Ge,subscribe:function(E){A.subscribers.indexOf(E)===-1&&(A.subscribers.push(E),A.fire=j(A.fire,E))},unsubscribe:function(E){A.subscribers=A.subscribers.filter(function(M){return M!==E}),A.fire=A.subscribers.reduce(j,C)}},c[w]=s[w]=A;S(H=w).forEach(function(E){var M=H[E];if(N(M))g(E,H[E][0],H[E][1]);else{if(M!=="asap")throw new ge.InvalidArgument("Invalid event config");var k=g(E,dt,function(){for(var O=arguments.length,D=new Array(O);O--;)D[O]=arguments[O];k.subscribers.forEach(function(Q){ve(function(){Q.apply(null,D)})})})}})}}function pn(l,s){return re(s).from({prototype:l}),s}function Ta(l,s){return!(l.filter||l.algorithm||l.or)&&(s?l.justLimit:!l.replayFilter)}function Qi(l,s){l.filter=Ya(l.filter,s)}function fi(l,s,c){var h=l.replayFilter;l.replayFilter=h?function(){return Ya(h(),s())}:s,l.justLimit=c&&!h}function va(l,s){if(l.isPrimKey)return s.primaryKey;var c=s.getIndexByKeyPath(l.index);if(c)return c;throw new ge.Schema("KeyPath "+l.index+" on object store "+s.name+" is not indexed")}function Qr(l,s,c){var h=va(l,s.schema);return s.openCursor({trans:c,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function di(l,s,c,h){var y,g,w=l.replayFilter?Ya(l.filter,l.replayFilter()):l.filter;return l.or?(y={},g=function(j,C,H){var A,E;w&&!w(C,H,function(M){return C.stop(M)},function(M){return C.fail(M)})||((E=""+(A=C.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(A)),T(y,E))||(y[E]=!0,s(j,C,H))},Promise.all([l.or._iterate(g,c),Xa(Qr(l,h,c),l.algorithm,g,!l.keysOnly&&l.valueMapper)])):Xa(Qr(l,h,c),Ya(l.algorithm,w),s,!l.keysOnly&&l.valueMapper)}function Xa(l,s,c,h){var y=Ht(h?function(g,w,j){return c(h(g),w,j)}:c);return l.then(function(g){if(g)return g.start(function(){var w=function(){return g.continue()};s&&!s(g,function(j){return w=j},function(j){g.stop(j),w=Ge},function(j){g.fail(j),w=Ge})||y(g.value,g,function(j){return w=j}),w()})})}pt.prototype._read=function(l,s){var c=this._ctx;return c.error?c.table._trans(null,Mt.bind(null,c.error)):c.table._trans("readonly",l).then(s)},pt.prototype._write=function(l){var s=this._ctx;return s.error?s.table._trans(null,Mt.bind(null,s.error)):s.table._trans("readwrite",l,"locked")},pt.prototype._addAlgorithm=function(l){var s=this._ctx;s.algorithm=Ya(s.algorithm,l)},pt.prototype._iterate=function(l,s){return di(this._ctx,l,s,this._ctx.table.core)},pt.prototype.clone=function(l){var s=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return l&&U(c,l),s._ctx=c,s},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(l){var s=this._ctx;return this._read(function(c){return di(s,l,c,s.table.core)})},pt.prototype.count=function(l){var s=this;return this._read(function(c){var h,y=s._ctx,g=y.table.core;return Ta(y,!0)?g.count({trans:c,query:{index:va(y,g.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,di(y,function(){return++h,!1},c,g).then(function(){return h}))}).then(l)},pt.prototype.sortBy=function(l,s){var c=l.split(".").reverse(),h=c[0],y=c.length-1;function g(C,H){return H?g(C[c[H]],H-1):C[h]}var w=this._ctx.dir==="next"?1:-1;function j(C,H){return rt(g(C,y),g(H,y))*w}return this.toArray(function(C){return C.sort(j)}).then(s)},pt.prototype.toArray=function(l){var s=this;return this._read(function(c){var h,y,g,w=s._ctx;return w.dir==="next"&&Ta(w,!0)&&0<w.limit?(h=w.valueMapper,y=va(w,w.table.core.schema),w.table.core.query({trans:c,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(g=[],di(w,function(j){return g.push(j)},c,w.table.core).then(function(){return g}))},l)},pt.prototype.offset=function(l){var s=this._ctx;return l<=0||(s.offset+=l,Ta(s)?fi(s,function(){var c=l;return function(h,y){return c===0||(c===1?--c:y(function(){h.advance(c),c=0}),!1)}}):fi(s,function(){var c=l;return function(){return--c<0}})),this},pt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),fi(this._ctx,function(){var s=l;return function(c,h,y){return--s<=0&&h(y),0<=s}},!0),this},pt.prototype.until=function(l,s){return Qi(this._ctx,function(c,h,y){return!l(c.value)||(h(y),s)}),this},pt.prototype.first=function(l){return this.limit(1).toArray(function(s){return s[0]}).then(l)},pt.prototype.last=function(l){return this.reverse().first(l)},pt.prototype.filter=function(l){var s;return Qi(this._ctx,function(c){return l(c.value)}),(s=this._ctx).isMatch=Ya(s.isMatch,l),this},pt.prototype.and=function(l){return this.filter(l)},pt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,h){l(h.key,h)})},pt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},pt.prototype.eachPrimaryKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,h){l(h.primaryKey,h)})},pt.prototype.keys=function(l){var s=this._ctx,c=(s.keysOnly=!s.isMatch,[]);return this.each(function(h,y){c.push(y.key)}).then(function(){return c}).then(l)},pt.prototype.primaryKeys=function(l){var s=this._ctx;if(s.dir==="next"&&Ta(s,!0)&&0<s.limit)return this._read(function(h){var y=va(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(h){return h.result}).then(l);s.keysOnly=!s.isMatch;var c=[];return this.each(function(h,y){c.push(y.primaryKey)}).then(function(){return c}).then(l)},pt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},pt.prototype.firstKey=function(l){return this.limit(1).keys(function(s){return s[0]}).then(l)},pt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},pt.prototype.distinct=function(){var l,s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];return s&&s.multi&&(l={},Qi(this._ctx,function(h){var h=h.primaryKey.toString(),y=T(l,h);return l[h]=!0,!y})),this},pt.prototype.modify=function(l){var s=this,c=this._ctx;return this._write(function(h){function y(D,Q){var Z=Q.failures;M+=D-Q.numFailures;for(var L=0,te=S(Z);L<te.length;L++){var oe=te[L];E.push(Z[oe])}}var g=typeof l=="function"?l:function(D){return Ki(D,l)},w=c.table.core,A=w.schema.primaryKey,j=A.outbound,C=A.extractKey,H=200,A=s.db._options.modifyChunkSize,E=(A&&(H=typeof A=="object"?A[w.name]||A["*"]||200:A),[]),M=0,k=[],O=l===Yr;return s.clone().primaryKeys().then(function(D){function Q(L){var te=Math.min(H,D.length-L),oe=D.slice(L,L+te);return(O?Promise.resolve([]):w.getMany({trans:h,keys:oe,cache:"immutable"})).then(function(we){var je=[],ce=[],Re=j?[]:null,Te=O?oe:[];if(!O)for(var fe=0;fe<te;++fe){var Be=we[fe],We={value:bt(Be),primKey:D[L+fe]};g.call(We,We.value,We)!==!1&&(We.value==null?Te.push(D[L+fe]):j||rt(C(Be),C(We.value))===0?(ce.push(We.value),j&&Re.push(D[L+fe])):(Te.push(D[L+fe]),je.push(We.value)))}return Promise.resolve(0<je.length&&w.mutate({trans:h,type:"add",values:je}).then(function(st){for(var Ke in st.failures)Te.splice(parseInt(Ke),1);y(je.length,st)})).then(function(){return(0<ce.length||Z&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:Re,values:ce,criteria:Z,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<L}).then(function(st){return y(ce.length,st)})}).then(function(){return(0<Te.length||Z&&O)&&w.mutate({trans:h,type:"delete",keys:Te,criteria:Z,isAdditionalChunk:0<L}).then(function(st){return vn(c.table,Te,st)}).then(function(st){return y(Te.length,st)})}).then(function(){return D.length>L+te&&Q(L+H)})})}var Z=Ta(c)&&c.limit===1/0&&(typeof l!="function"||O)&&{index:c.index,range:c.range};return Q(0).then(function(){if(0<E.length)throw new at("Error modifying one or more objects",E,M,k);return D.length})})})},pt.prototype.delete=function(){var l=this._ctx,s=l.range;return!Ta(l)||l.table.schema.yProps||!l.isPrimKey&&s.type!==3?this.modify(Yr):this._write(function(c){var h=l.table.core.schema.primaryKey,y=s;return l.table.core.count({trans:c,query:{index:h,range:y}}).then(function(g){return l.table.core.mutate({trans:c,type:"deleteRange",range:y}).then(function(C){var j=C.failures,C=C.numFailures;if(C)throw new at("Could not delete some values",Object.keys(j).map(function(H){return j[H]}),g-C);return g-C})})})};var Mo=pt;function pt(){}var Yr=function(l,s){return s.value=null};function Xr(l,s){return l<s?-1:l===s?0:1}function zo(l,s){return s<l?-1:l===s?0:1}function Mn(l,s,c){return l=l instanceof Ga?new l.Collection(l):l,l._ctx.error=new(c||TypeError)(s),l}function xa(l){return new l.Collection(l,function(){return Yi("")}).limit(0)}function kn(k,s,c,h){var y,g,w,j,C,H,A,E=c.length;if(!c.every(function(D){return typeof D=="string"}))return Mn(k,en);function M(D){y=D==="next"?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},g=D==="next"?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},w=D==="next"?Xr:zo;var Q=c.map(function(Z){return{lower:g(Z),upper:y(Z)}}).sort(function(Z,L){return w(Z.lower,L.lower)});j=Q.map(function(Z){return Z.upper}),C=Q.map(function(Z){return Z.lower}),A=(H=D)==="next"?"":h}M("next");var k=new k.Collection(k,function(){return aa(j[0],C[E-1]+h)}),O=(k._ondirectionchange=function(D){M(D)},0);return k._addAlgorithm(function(D,Q,Z){var L=D.key;if(typeof L=="string"){var te=g(L);if(s(te,C,O))return!0;for(var oe=null,we=O;we<E;++we){var je=((ce,Re,Te,fe,Be,We)=>{for(var st=Math.min(ce.length,fe.length),Ke=-1,Ie=0;Ie<st;++Ie){var zt=Re[Ie];if(zt!==fe[Ie])return Be(ce[Ie],Te[Ie])<0?ce.substr(0,Ie)+Te[Ie]+Te.substr(Ie+1):Be(ce[Ie],fe[Ie])<0?ce.substr(0,Ie)+fe[Ie]+Te.substr(Ie+1):0<=Ke?ce.substr(0,Ke)+Re[Ke]+Te.substr(Ke+1):null;Be(ce[Ie],zt)<0&&(Ke=Ie)}return st<fe.length&&We==="next"?ce+Te.substr(ce.length):st<ce.length&&We==="prev"?ce.substr(0,Te.length):Ke<0?null:ce.substr(0,Ke)+fe[Ke]+Te.substr(Ke+1)})(L,te,j[we],C[we],w,H);je===null&&oe===null?O=we+1:(oe===null||0<w(oe,je))&&(oe=je)}Q(oe!==null?function(){D.continue(oe+A)}:Z)}return!1}),k}function aa(l,s,c,h){return{type:2,lower:l,upper:s,lowerOpen:c,upperOpen:h}}function Yi(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(l,s,c,h){c=c!==!1,h=h===!0;try{return 0<this._cmp(l,s)||this._cmp(l,s)===0&&(c||h)&&(!c||!h)?xa(this):new this.Collection(this,function(){return aa(l,s,!c,!h)})}catch{return Mn(this,Nn)}},Qt.prototype.equals=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return Yi(l)})},Qt.prototype.above=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(l,void 0,!0)})},Qt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(l,void 0,!1)})},Qt.prototype.below=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(void 0,l,!1,!0)})},Qt.prototype.belowOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return aa(void 0,l)})},Qt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,en):this.between(l,l+Xn,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):kn(this,function(s,c){return s.indexOf(c[0])===0},[l],Xn)},Qt.prototype.equalsIgnoreCase=function(l){return kn(this,function(s,c){return s===c[0]},[l],"")},Qt.prototype.anyOfIgnoreCase=function(){var l=De.apply(Ne,arguments);return l.length===0?xa(this):kn(this,function(s,c){return c.indexOf(s)!==-1},l,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var l=De.apply(Ne,arguments);return l.length===0?xa(this):kn(this,function(s,c){return c.some(function(h){return s.indexOf(h)===0})},l,Xn)},Qt.prototype.anyOf=function(){var l,s,c=this,h=De.apply(Ne,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,Nn)}return h.length===0?xa(this):((l=new this.Collection(this,function(){return aa(h[0],h[h.length-1])}))._ondirectionchange=function(g){y=g==="next"?c._ascending:c._descending,h.sort(y)},s=0,l._addAlgorithm(function(g,w,j){for(var C=g.key;0<y(C,h[s]);)if(++s===h.length)return w(j),!1;return y(C,h[s])===0||(w(function(){g.continue(h[s])}),!1)}),l)},Qt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var l=De.apply(Ne,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,Nn)}var s=l.reduce(function(c,h){return c?c.concat([[c[c.length-1][1],h]]):[[-1/0,h]]},null);return s.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(l,Z){var c=this,h=this._cmp,y=this._ascending,g=this._descending,w=this._min,j=this._max;if(l.length===0)return xa(this);if(!l.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&y(L[0],L[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ge.InvalidArgument);var C=!Z||Z.includeLowers!==!1,H=Z&&Z.includeUppers===!0,A,E=y;function M(L,te){return E(L[0],te[0])}try{(A=l.reduce(function(L,te){for(var oe=0,we=L.length;oe<we;++oe){var je=L[oe];if(h(te[0],je[1])<0&&0<h(te[1],je[0])){je[0]=w(je[0],te[0]),je[1]=j(je[1],te[1]);break}}return oe===we&&L.push(te),L},[])).sort(M)}catch{return Mn(this,Nn)}var k=0,O=H?function(L){return 0<y(L,A[k][1])}:function(L){return 0<=y(L,A[k][1])},D=C?function(L){return 0<g(L,A[k][0])}:function(L){return 0<=g(L,A[k][0])},Q=O,Z=new this.Collection(this,function(){return aa(A[0][0],A[A.length-1][1],!C,!H)});return Z._ondirectionchange=function(L){E=L==="next"?(Q=O,y):(Q=D,g),A.sort(M)},Z._addAlgorithm(function(L,te,oe){for(var we,je=L.key;Q(je);)if(++k===A.length)return te(oe),!1;return!O(we=je)&&!D(we)||(c._cmp(je,A[k][1])===0||c._cmp(je,A[k][0])===0||te(function(){E===y?L.continue(A[k][0]):L.continue(A[k][1])}),!1)}),Z},Qt.prototype.startsWithAnyOf=function(){var l=De.apply(Ne,arguments);return l.every(function(s){return typeof s=="string"})?l.length===0?xa(this):this.inAnyRange(l.map(function(s){return[s,s+Xn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Ga=Qt;function Qt(){}function Gn(l){return Ht(function(s){return Va(s),l(s.target.error),!1})}function Va(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var jl="storagemutated",Za="x-storagemutated-1",yn=ci(null,jl),Gr=(_n.prototype._lock=function(){return ae(!_e.global),++this._reculock,this._reculock!==1||_e.global||(_e.lockOwnerFor=this),this},_n.prototype._unlock=function(){if(ae(!_e.global),--this._reculock==0)for(_e.global||(_e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Yn(l[1],l[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&_e.lockOwnerFor!==this},_n.prototype.create=function(l){var s=this;if(this.mode){var c=this.db.idbdb,h=this.db._state.dbOpenError;if(ae(!this.idbtrans),!l&&!c)switch(h&&h.name){case"DatabaseClosedError":throw new ge.DatabaseClosed(h);case"MissingAPIError":throw new ge.MissingAPI(h.message,h);default:throw new ge.OpenFailed(h)}if(!this.active)throw new ge.TransactionInactive;ae(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ht(function(y){Va(y),s._reject(l.error)}),l.onabort=Ht(function(y){Va(y),s.active&&s._reject(new ge.Abort(l.error)),s.active=!1,s.on("abort").fire(y)}),l.oncomplete=Ht(function(){s.active=!1,s._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},_n.prototype._promise=function(l,s,c){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Mt(new ge.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Oe(function(g,w){y._blockedFuncs.push([function(){y._promise(l,s,c).then(g,w)},_e])}):c?Kt(function(){var g=new Oe(function(w,j){y._lock();var C=s(w,j,y);C&&C.then&&C.then(w,j)});return g.finally(function(){return y._unlock()}),g._lib=!0,g}):((h=new Oe(function(g,w){var j=s(g,w,y);j&&j.then&&j.then(g,w)}))._lib=!0,h):Mt(new ge.TransactionInactive)},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(l){var s,c=this._root(),h=Oe.resolve(l),y=(c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return h}):(c._waitingFor=h,c._waitingQueue=[],s=c.idbtrans.objectStore(c.storeNames[0]),(function g(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(s.get(-1/0).onsuccess=g)})()),c._waitingFor);return new Oe(function(g,w){h.then(function(j){return c._waitingQueue.push(Ht(g.bind(null,j)))},function(j){return c._waitingQueue.push(Ht(w.bind(null,j)))}).finally(function(){c._waitingFor===y&&(c._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ge.Abort))},_n.prototype.table=function(l){var s=this._memoizedTables||(this._memoizedTables={});if(T(s,l))return s[l];var c=this.schema[l];if(c)return(c=new this.db.Table(l,c,this)).core=this.db.core.table(l),s[l]=c;throw new ge.NotFound("Table "+l+" not part of transaction")},_n);function _n(){}function la(l,s,c,h,y,g,w,j){return{name:l,keyPath:s,unique:c,multi:h,auto:y,compound:g,src:(c&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Xi(s),type:j}}function Xi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Nl(l,s,c){return{name:l,primKey:s,indexes:c,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},c.reduce(function(y,g,w){return g=h(g,w),g&&(y[g[0]]=g[1]),y},{}))};var h}var _l=function(l){try{return l.only([[]]),_l=function(){return[[]]},[[]]}catch{return _l=function(){return Xn},Xn}};function El(l){return l==null?function(){}:typeof l=="string"?(s=l).split(".").length===1?function(c){return c[s]}:function(c){return be(c,s)}:function(c){return be(c,l)};var s}function hi(l){return[].slice.call(l)}var Ws=0;function sn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Fa(l,s,C){function h(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=O.lower,M=O.upper,k=O.lowerOpen,O=O.upperOpen;return E===void 0?M===void 0?null:s.upperBound(M,!!O):M===void 0?s.lowerBound(E,!!k):s.bound(E,M,!!k,!!O)}function y(A){var E,M=A.name;return{name:M,schema:A,mutate:function(k){var O=k.trans,D=k.type,Q=k.keys,Z=k.values,L=k.range;return new Promise(function(te,oe){te=Ht(te);var we=O.objectStore(M),je=we.keyPath==null,ce=D==="put"||D==="add";if(!ce&&D!=="delete"&&D!=="deleteRange")throw new Error("Invalid operation type: "+D);var Re,Te=(Q||Z||{length:1}).length;if(Q&&Z&&Q.length!==Z.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(At){++st,Va(At)}var Be=[],We=[],st=0;if(D==="deleteRange"){if(L.type===4)return te({numFailures:st,failures:We,results:[],lastResult:void 0});L.type===3?Be.push(Re=we.clear()):Be.push(Re=we.delete(h(L)))}else{var je=ce?je?[Z,Q]:[Z,null]:[Q,null],Ke=je[0],Ie=je[1];if(ce)for(var zt=0;zt<Te;++zt)Be.push(Re=Ie&&Ie[zt]!==void 0?we[D](Ke[zt],Ie[zt]):we[D](Ke[zt])),Re.onerror=fe;else for(zt=0;zt<Te;++zt)Be.push(Re=we[D](Ke[zt])),Re.onerror=fe}function Cn(At){At=At.target.result,Be.forEach(function(Ra,Ml){return Ra.error!=null&&(We[Ml]=Ra.error)}),te({numFailures:st,failures:We,results:D==="delete"?Q:Be.map(function(Ra){return Ra.result}),lastResult:At})}Re.onerror=function(At){fe(At),Cn(At)},Re.onsuccess=Cn})},getMany:function(k){var O=k.trans,D=k.keys;return new Promise(function(Q,Z){Q=Ht(Q);for(var L,te=O.objectStore(M),oe=D.length,we=new Array(oe),je=0,ce=0,Re=function(Be){Be=Be.target,we[Be._pos]=Be.result,++ce===je&&Q(we)},Te=Gn(Z),fe=0;fe<oe;++fe)D[fe]!=null&&((L=te.get(D[fe]))._pos=fe,L.onsuccess=Re,L.onerror=Te,++je);je===0&&Q(we)})},get:function(k){var O=k.trans,D=k.key;return new Promise(function(Q,Z){Q=Ht(Q);var L=O.objectStore(M).get(D);L.onsuccess=function(te){return Q(te.target.result)},L.onerror=Gn(Z)})},query:(E=j,function(k){return new Promise(function(O,D){O=Ht(O);var Q,Z,L,ce=k.trans,te=k.values,oe=k.limit,je=k.query,we=oe===1/0?void 0:oe,Re=je.index,je=je.range,ce=ce.objectStore(M),ce=Re.isPrimaryKey?ce:ce.index(Re.name),Re=h(je);if(oe===0)return O({result:[]});E?((je=te?ce.getAll(Re,we):ce.getAllKeys(Re,we)).onsuccess=function(Te){return O({result:Te.target.result})},je.onerror=Gn(D)):(Q=0,Z=!te&&"openKeyCursor"in ce?ce.openKeyCursor(Re):ce.openCursor(Re),L=[],Z.onsuccess=function(Te){var fe=Z.result;return!fe||(L.push(te?fe.value:fe.primaryKey),++Q===oe)?O({result:L}):void fe.continue()},Z.onerror=Gn(D))})}),openCursor:function(k){var O=k.trans,D=k.values,Q=k.query,Z=k.reverse,L=k.unique;return new Promise(function(te,oe){te=Ht(te);var ce=Q.index,we=Q.range,je=O.objectStore(M),je=ce.isPrimaryKey?je:je.index(ce.name),ce=Z?L?"prevunique":"prev":L?"nextunique":"next",Re=!D&&"openKeyCursor"in je?je.openKeyCursor(h(we),ce):je.openCursor(h(we),ce);Re.onerror=Gn(oe),Re.onsuccess=Ht(function(Te){var fe,Be,We,st,Ke=Re.result;Ke?(Ke.___id=++Ws,Ke.done=!1,fe=Ke.continue.bind(Ke),Be=(Be=Ke.continuePrimaryKey)&&Be.bind(Ke),We=Ke.advance.bind(Ke),st=function(){throw new Error("Cursor not stopped")},Ke.trans=O,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Ht(oe),Ke.next=function(){var Ie=this,zt=1;return this.start(function(){return zt--?Ie.continue():Ie.stop()}).then(function(){return Ie})},Ke.start=function(Ie){function zt(){if(Re.result)try{Ie()}catch(At){Ke.fail(At)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var Cn=new Promise(function(At,Ra){At=Ht(At),Re.onerror=Gn(Ra),Ke.fail=Ra,Ke.stop=function(Ml){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=st,At(Ml)}});return Re.onsuccess=Ht(function(At){Re.onsuccess=zt,zt()}),Ke.continue=fe,Ke.continuePrimaryKey=Be,Ke.advance=We,zt(),Cn},te(Ke)):te(null)},oe)})},count:function(k){var O=k.query,D=k.trans,Q=O.index,Z=O.range;return new Promise(function(L,te){var oe=D.objectStore(M),oe=Q.isPrimaryKey?oe:oe.index(Q.name),we=h(Z),we=we?oe.count(we):oe.count();we.onsuccess=Ht(function(je){return L(je.target.result)}),we.onerror=Gn(te)})}}}g=C,w=hi((C=l).objectStoreNames);var g,C={schema:{name:C.name,tables:w.map(function(A){return g.objectStore(A)}).map(function(A){var E=A.keyPath,M=A.autoIncrement,O=N(E),k={},O={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:O,keyPath:E,autoIncrement:M,unique:!0,extractKey:El(E)},indexes:hi(A.indexNames).map(function(D){return A.index(D)}).map(function(L){var te=L.name,Q=L.unique,Z=L.multiEntry,L=L.keyPath,te={name:te,compound:N(L),keyPath:L,unique:Q,multiEntry:Z,extractKey:El(L)};return k[sn(L)]=te}),getIndexByKeyPath:function(D){return k[sn(D)]}};return k[":id"]=O.primaryKey,E!=null&&(k[sn(E)]=O.primaryKey),O})},hasGetAll:0<w.length&&"getAll"in g.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=C.schema,j=C.hasGetAll,C=w.tables.map(y),H={};return C.forEach(function(A){return H[A.name]=A}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(A){if(H[A])return H[A];throw new Error("Table '".concat(A,"' not found"))},MIN_KEY:-1/0,MAX_KEY:_l(s),schema:w}}function Gi(l,s,c,h){return c=c.IDBKeyRange,s=Fa(s,c,h),{dbcore:l.dbcore.reduce(function(y,g){return g=g.create,d(d({},y),g(y))},s)}}function Ma(l,s){var c=s.db,c=Gi(l._middlewares,c,l._deps,s);l.core=c.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(g){return g.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Vi(l,s,c,h){c.forEach(function(y){var g=h[y];s.forEach(function(w){var j=(function C(H,A){return P(H,A)||(H=R(H))&&C(H,A)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?F(w,y,{get:function(){return this.table(y)},set:function(C){ye(this,y,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,g))})})}function mi(l,s){s.forEach(function(c){for(var h in c)c[h]instanceof l.Table&&delete c[h]})}function Vr(l,s){return l._cfg.version-s._cfg.version}function pi(l,s,c,h){var y=l._dbSchema,g=(c.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Nl("$meta",eu("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(g.create(c),g._completion.catch(h),g._reject.bind(g)),j=_e.transless||_e;Kt(function(){if(_e.trans=g,_e.transless=j,s!==0)return Ma(l,c),H=s,((C=g).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(A){return A??H}):Oe.resolve(H)).then(function(Q){var E=l,M=Q,k=g,O=c,D=[],Q=E._versions,Z=E._dbSchema=Cl(0,E.idbdb,O);return(Q=Q.filter(function(L){return L._cfg.version>=M})).length===0?Oe.resolve():(Q.forEach(function(L){D.push(function(){var te,oe,we,je=Z,ce=L._cfg.dbschema,Re=($i(E,je,O),$i(E,ce,O),Z=E._dbSchema=ce,Fi(je,ce)),Te=(Re.add.forEach(function(fe){Zr(O,fe[0],fe[1].primKey,fe[1].indexes)}),Re.change.forEach(function(fe){if(fe.recreate)throw new ge.Upgrade("Not yet support for changing primary key");var Be=O.objectStore(fe.name);fe.add.forEach(function(We){return Ji(Be,We)}),fe.change.forEach(function(We){Be.deleteIndex(We.name),Ji(Be,We)}),fe.del.forEach(function(We){return Be.deleteIndex(We)})}),L._cfg.contentUpgrade);if(Te&&L._cfg.version>M)return Ma(E,O),k._memoizedTables={},te=tt(ce),Re.del.forEach(function(fe){te[fe]=je[fe]}),mi(E,[E.Transaction.prototype]),Vi(E,[E.Transaction.prototype],S(te),te),k.schema=te,(oe=X(Te))&&It(),ce=Oe.follow(function(){var fe;(we=Te(k))&&oe&&(fe=Tn.bind(null,null),we.then(fe,fe))}),we&&typeof we.then=="function"?Oe.resolve(we):ce.then(function(){return we})}),D.push(function(te){var oe,we,je=L._cfg.dbschema;oe=je,we=te,[].slice.call(we.db.objectStoreNames).forEach(function(ce){return oe[ce]==null&&we.db.deleteObjectStore(ce)}),mi(E,[E.Transaction.prototype]),Vi(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),k.schema=E._dbSchema}),D.push(function(te){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===L._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(oe){return oe!=="$meta"})):te.objectStore("$meta").put(L._cfg.version,"version"))})}),(function L(){return D.length?Oe.resolve(D.shift()(k.idbtrans)).then(L):Oe.resolve()})().then(function(){Is(Z,O)}))}).catch(w);var C,H;S(y).forEach(function(A){Zr(c,A,y[A].primKey,y[A].indexes)}),Ma(l,c),Oe.follow(function(){return l.on.populate.fire(g)}).catch(w)})}function Zi(l,s){Is(l._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var c=Cl(0,l.idbdb,s);$i(l,l._dbSchema,s);for(var h=0,y=Fi(c,l._dbSchema).change;h<y.length;h++){var g=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=s.objectStore(w.name);w.add.forEach(function(C){ze&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(C.src)),Ji(j,C)})})(y[h]);if(typeof g=="object")return g.value}}function Fi(l,s){var c,h={del:[],add:[],change:[]};for(c in l)s[c]||h.del.push(c);for(c in s){var y=l[c],g=s[c];if(y){var w={name:c,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||y.primKey.auto!==g.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,C=g.idxByName,H=void 0;for(H in j)C[H]||w.del.push(H);for(H in C){var A=j[H],E=C[H];A?A.src!==E.src&&w.change.push(E):w.add.push(E)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([c,g])}return h}function Zr(l,s,c,h){var y=l.db.createObjectStore(s,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});h.forEach(function(g){return Ji(y,g)})}function Is(l,s){S(l).forEach(function(c){s.db.objectStoreNames.contains(c)||(ze&&console.debug("Dexie: Creating missing table",c),Zr(s,c,l[c].primKey,l[c].indexes))})}function Ji(l,s){l.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function Cl(l,s,c){var h={};return me(s.objectStoreNames,0).forEach(function(y){for(var g=c.objectStore(y),w=la(Xi(H=g.keyPath),H||"",!0,!1,!!g.autoIncrement,H&&typeof H!="string",!0),j=[],C=0;C<g.indexNames.length;++C){var A=g.index(g.indexNames[C]),H=A.keyPath,A=la(A.name,H,!!A.unique,!!A.multiEntry,!1,H&&typeof H!="string",!1);j.push(A)}h[y]=Nl(y,w,j)}),h}function $i(l,s,c){for(var h=c.db.objectStoreNames,y=0;y<h.length;++y){var g=h[y],w=c.objectStore(g);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var C,H=w.indexNames[j],A=w.index(H).keyPath,A=typeof A=="string"?A:"["+me(A).join("+")+"]";s[g]&&(C=s[g].idxByName[A])&&(C.name=H,delete s[g].idxByName[A],s[g].idxByName[H]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&x.WorkerGlobalScope&&x instanceof x.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function eu(l){return l.split(",").map(function(s,c){var y=s.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(s=y[0].trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return la(y,g||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),N(g),c===0,h)})}Al.prototype._createTableSchema=Nl,Al.prototype._parseIndexSyntax=eu,Al.prototype._parseStoresSpec=function(l,s){var c=this;S(l).forEach(function(h){if(l[h]!==null){var y=c._parseIndexSyntax(l[h]),g=y.shift();if(!g)throw new ge.Schema("Invalid schema for table "+h+": "+l[h]);if(g.unique=!0,g.multi)throw new ge.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new ge.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new ge.Schema("Index must have a name and cannot be an empty string")}),g=c._createTableSchema(h,g,y),s[h]=g}})},Al.prototype.stores=function(c){var s=this.db,c=(this._cfg.storesSource=this._cfg.storesSource?U(this._cfg.storesSource,c):c,s._versions),h={},y={};return c.forEach(function(g){U(h,g._cfg.storesSource),y=g._cfg.dbschema={},g._parseStoresSpec(h,y)}),s._dbSchema=y,mi(s,[s._allTables,s,s.Transaction.prototype]),Vi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],S(y),y),s._storeNames=S(y),this},Al.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ee(this._cfg.contentUpgrade||Ge,l),this};var ko=Al;function Al(){}function Fr(l,s){var c=l._dbNamesDB;return c||(c=l._dbNamesDB=new ia(si,{addons:[],indexedDB:l,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Pi(l){return l&&typeof l.databases=="function"}function Jr(l){return Kt(function(){return _e.letThrough=!0,l()})}function $r(l){return!("from"in l)}var gn=function(l,s){var c;if(!this)return c=new gn,l&&"d"in l&&U(c,l),c;U(this,arguments.length?{d:1,from:l,to:1<arguments.length?s:l}:{d:0})};function yi(l,s,c){var h=rt(s,c);if(!isNaN(h)){if(0<h)throw RangeError();if($r(l))return U(l,{from:s,to:c,d:1});var h=l.l,y=l.r;if(rt(c,l.from)<0)return h?yi(h,s,c):l.l={from:s,to:c,d:1,l:null,r:null},nu(l);if(0<rt(s,l.to))return y?yi(y,s,c):l.r={from:s,to:c,d:1,l:null,r:null},nu(l);rt(s,l.from)<0&&(l.from=s,l.l=null,l.d=y?y.d+1:1),0<rt(c,l.to)&&(l.to=c,l.r=null,l.d=l.l?l.l.d+1:1),s=!l.r,h&&!l.l&&Ja(l,h),y&&s&&Ja(l,y)}}function Ja(l,s){$r(s)||(function c(h,y){var g=y.from,w=y.l,j=y.r;yi(h,g,y.to),w&&c(h,w),j&&c(h,j)})(l,s)}function tu(l,s){var c=Wi(s),h=c.next();if(!h.done)for(var y=h.value,g=Wi(l),w=g.next(y.from),j=w.value;!h.done&&!w.done;){if(rt(j.from,y.to)<=0&&0<=rt(j.to,y.from))return!0;rt(y.from,j.from)<0?y=(h=c.next(j.from)).value:j=(w=g.next(y.from)).value}return!1}function Wi(l){var s=$r(l)?null:{s:0,n:l};return{next:function(c){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&rt(c,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||rt(c,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function nu(l){var s,c,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(s=y=="r"?"l":"r",c=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],c[y]=h[s],(l[s]=c).d=Pr(c)),l.d=Pr(l)}function Pr(c){var s=c.r,c=c.l;return(s?c?Math.max(s.d,c.d):s.d:c?c.d:0)+1}function Ii(l,s){return S(s).forEach(function(c){l[c]?Ja(l[c],s[c]):l[c]=(function h(y){var g,w,j={};for(g in y)T(y,g)&&(w=y[g],j[g]=!w||typeof w!="object"||He.has(w.constructor)?w:h(w));return j})(s[c])}),l}function Wr(l,s){return l.all||s.all||Object.keys(l).some(function(c){return s[c]&&tu(s[c],l[c])})}$(gn.prototype,((Et={add:function(l){return Ja(this,l),this},addKey:function(l){return yi(this,l,l),this},addKeys:function(l){var s=this;return l.forEach(function(c){return yi(s,c,c)}),this},hasKey:function(l){var s=Wi(this).next(l).value;return s&&rt(s.from,l)<=0&&0<=rt(s.to,l)}})[Y]=function(){return Wi(this)},Et));var $a={},Ir={},es=!1;function er(l){Ii(Ir,l),es||(es=!0,setTimeout(function(){es=!1,ts(Ir,!(Ir={}))},0))}function ts(l,s){s===void 0&&(s=!1);var c=new Set;if(l.all)for(var h=0,y=Object.values($a);h<y.length;h++)au(j=y[h],l,c,s);else for(var g in l){var w,j,g=/^idb\:\/\/(.*)\/(.*)\//.exec(g);g&&(w=g[1],g=g[2],j=$a["idb://".concat(w,"/").concat(g)])&&au(j,l,c,s)}c.forEach(function(C){return C()})}function au(l,s,c,h){for(var y=[],g=0,w=Object.entries(l.queries.query);g<w.length;g++){for(var j=w[g],C=j[0],H=[],A=0,E=j[1];A<E.length;A++){var M=E[A];Wr(s,M.obsSet)?M.subscribers.forEach(function(Q){return c.add(Q)}):h&&H.push(M)}h&&y.push([C,H])}if(h)for(var k=0,O=y;k<O.length;k++){var D=O[k],C=D[0],H=D[1];l.queries.query[C]=H}}function Ro(l){var s=l._state,c=l._deps.indexedDB;if(s.isBeingOpened||l.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Mt(s.dbOpenError):l});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,y=Math.round(10*l.verno),g=!1;function w(){if(s.openCanceller!==h)throw new ge.DatabaseClosed("db.open() was cancelled")}function j(){return new Oe(function(M,k){if(w(),!c)throw new ge.MissingAPI;var O=l.name,D=s.autoSchema||!y?c.open(O):c.open(O,y);if(!D)throw new ge.MissingAPI;D.onerror=Gn(k),D.onblocked=Ht(l._fireOnBlocked),D.onupgradeneeded=Ht(function(Q){var Z;A=D.transaction,s.autoSchema&&!l._options.allowEmptyDB?(D.onerror=Va,A.abort(),D.result.close(),(Z=c.deleteDatabase(O)).onsuccess=Z.onerror=Ht(function(){k(new ge.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(A.onerror=Gn(k),Z=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,E=Z<1,l.idbdb=D.result,g&&Zi(l,A),pi(l,Z/10,A,k))},k),D.onsuccess=Ht(function(){A=null;var Q,Z,L,te,oe,we,je=l.idbdb=D.result,ce=me(je.objectStoreNames);if(0<ce.length)try{var Re=je.transaction((oe=ce).length===1?oe[0]:oe,"readonly");if(s.autoSchema)we=je,te=Re,(L=l).verno=we.version/10,te=L._dbSchema=Cl(0,we,te),L._storeNames=me(we.objectStoreNames,0),Vi(L,[L._allTables],S(te),te);else if($i(l,l._dbSchema,Re),Z=Re,((Z=Fi(Cl(0,(Q=l).idbdb,Z),Q._dbSchema)).add.length||Z.change.some(function(Te){return Te.add.length||Te.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),je.close(),y=je.version+1,g=!0,M(j());Ma(l,Re)}catch{}Qa.push(l),je.onversionchange=Ht(function(Te){s.vcFired=!0,l.on("versionchange").fire(Te)}),je.onclose=Ht(function(){l.close({disableAutoOpen:!1})}),E&&(ce=l._deps,oe=O,Pi(we=ce.indexedDB)||oe===si||Fr(we,ce.IDBKeyRange).put({name:oe}).catch(Ge)),M()},k)}).catch(function(M){switch(M?.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Oe.reject(M)})}var C,H=s.dbReadyResolve,A=null,E=!1;return Oe.race([h,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function k(){return indexedDB.databases().finally(M)}C=setInterval(k,100),k()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(j)]).then(function(){return w(),s.onReadyBeingFired=[],Oe.resolve(Jr(function(){return l.on.ready.fire(l.vip)})).then(function M(){var k;if(0<s.onReadyBeingFired.length)return k=s.onReadyBeingFired.reduce(ee,Ge),s.onReadyBeingFired=[],Oe.resolve(Jr(function(){return k(l.vip)})).then(M)})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(M){s.dbOpenError=M;try{A&&A.abort()}catch{}return h===s.openCanceller&&l._close(),Mt(M)}).finally(function(){s.openComplete=!0,H()}).then(function(){var M;return E&&(M={},l.tables.forEach(function(k){k.schema.indexes.forEach(function(O){O.name&&(M["idb://".concat(l.name,"/").concat(k.name,"/").concat(O.name)]=new gn(-1/0,[[[]]]))}),M["idb://".concat(l.name,"/").concat(k.name,"/")]=M["idb://".concat(l.name,"/").concat(k.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(jl).fire(M),ts(M,!0)),l})}function gi(l){function s(g){return l.next(g)}var c=y(s),h=y(function(g){return l.throw(g)});function y(g){return function(j){var j=g(j),C=j.value;return j.done?C:C&&typeof C.then=="function"?C.then(c,h):N(C)?Promise.all(C).then(c,h):c(C)}}return y(s)()}function za(l,s,c){for(var h=N(l)?l.slice():[l],y=0;y<c;++y)h.push(s);return h}var Bo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var c=l.table(h),h=c.schema,y={},g=[];function w(M,k,O){var L=sn(M),D=y[L]=y[L]||[],Q=M==null?0:typeof M=="string"?1:M.length,Z=0<k,L=d(d({},O),{name:Z?"".concat(L,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:Z,keyTail:k,keyLength:Q,extractKey:El(M),unique:!Z&&O.unique});return D.push(L),L.isPrimaryKey||g.push(L),1<Q&&w(Q===2?M[0]:M.slice(0,Q-1),k+1,O),D.sort(function(te,oe){return te.keyTail-oe.keyTail}),L}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var C=0,H=h.indexes;C<H.length;C++){var A=H[C];w(A.keyPath,0,A)}function E(M){var k,O=M.query.index;return O.isVirtual?d(d({},M),{query:{index:O.lowLevelIndex,range:(k=M.query.range,O=O.keyTail,{type:k.type===1?2:k.type,lower:za(k.lower,k.lowerOpen?l.MAX_KEY:l.MIN_KEY,O),lowerOpen:!0,upper:za(k.upper,k.upperOpen?l.MIN_KEY:l.MAX_KEY,O),upperOpen:!0})}}):M}return d(d({},c),{schema:d(d({},h),{primaryKey:j,indexes:g,getIndexByKeyPath:function(M){return(M=y[sn(M)])&&M[0]}}),count:function(M){return c.count(E(M))},query:function(M){return c.query(E(M))},openCursor:function(M){var k=M.query.index,O=k.keyTail,D=k.keyLength;return k.isVirtual?c.openCursor(E(M)).then(function(Z){return Z&&Q(Z)}):c.openCursor(M);function Q(Z){return Object.create(Z,{continue:{value:function(L){L!=null?Z.continue(za(L,M.reverse?l.MAX_KEY:l.MIN_KEY,O)):M.unique?Z.continue(Z.key.slice(0,D).concat(M.reverse?l.MIN_KEY:l.MAX_KEY,O)):Z.continue()}},continuePrimaryKey:{value:function(L,te){Z.continuePrimaryKey(za(L,l.MAX_KEY,O),te)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var L=Z.key;return D===1?L[0]:L.slice(0,D)}},value:{get:function(){return Z.value}}})}}})}})}};function tr(l,s,c,h){return c=c||{},h=h||"",S(l).forEach(function(y){var g,w,j;T(s,y)?(g=l[y],w=s[y],typeof g=="object"&&typeof w=="object"&&g&&w?(j=Xe(g))!==Xe(w)?c[h+y]=s[y]:j==="Object"?tr(g,w,c,h+y+"."):g!==w&&(c[h+y]=s[y]):g!==w&&(c[h+y]=s[y])):c[h+y]=void 0}),S(s).forEach(function(y){T(l,y)||(c[h+y]=s[y])}),c}function nr(l,s){return s.type==="delete"?s.keys:s.keys||s.values.map(l.extractKey)}var lu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(s){var c=l.table(s),h=c.schema.primaryKey;return d(d({},c),{mutate:function(y){var g=_e.trans,w=g.table(s).hook,j=w.deleting,C=w.creating,H=w.updating;switch(y.type){case"add":if(C.fire===Ge)break;return g._promise("readwrite",function(){return A(y)},!0);case"put":if(C.fire===Ge&&H.fire===Ge)break;return g._promise("readwrite",function(){return A(y)},!0);case"delete":if(j.fire===Ge)break;return g._promise("readwrite",function(){return A(y)},!0);case"deleteRange":if(j.fire===Ge)break;return g._promise("readwrite",function(){return(function E(M,k,O){return c.query({trans:M,values:!1,query:{index:h,range:k},limit:O}).then(function(D){var Q=D.result;return A({type:"delete",keys:Q,trans:M}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):Q.length<O?{failures:[],numFailures:0,lastResult:void 0}:E(M,d(d({},k),{lower:Q[Q.length-1],lowerOpen:!0}),O)})})})(y.trans,y.range,1e4)},!0)}return c.mutate(y);function A(E){var M,k,O,D=_e.trans,Q=E.keys||nr(h,E);if(Q)return(E=E.type==="add"||E.type==="put"?d(d({},E),{keys:Q}):d({},E)).type!=="delete"&&(E.values=b([],E.values)),E.keys&&(E.keys=b([],E.keys)),M=c,O=Q,((k=E).type==="add"?Promise.resolve([]):M.getMany({trans:k.trans,keys:O,cache:"immutable"})).then(function(Z){var L=Q.map(function(te,oe){var we,je,ce,Re=Z[oe],Te={onerror:null,onsuccess:null};return E.type==="delete"?j.fire.call(Te,te,Re,D):E.type==="add"||Re===void 0?(we=C.fire.call(Te,te,E.values[oe],D),te==null&&we!=null&&(E.keys[oe]=te=we,h.outbound||xe(E.values[oe],h.keyPath,te))):(we=tr(Re,E.values[oe]),(je=H.fire.call(Te,we,te,Re,D))&&(ce=E.values[oe],Object.keys(je).forEach(function(fe){T(ce,fe)?ce[fe]=je[fe]:xe(ce,fe,je[fe])}))),Te});return c.mutate(E).then(function(te){for(var oe=te.failures,we=te.results,je=te.numFailures,te=te.lastResult,ce=0;ce<Q.length;++ce){var Re=(we||Q)[ce],Te=L[ce];Re==null?Te.onerror&&Te.onerror(oe[ce]):Te.onsuccess&&Te.onsuccess(E.type==="put"&&Z[ce]?E.values[ce]:Re)}return{failures:oe,results:we,numFailures:je,lastResult:te}}).catch(function(te){return L.forEach(function(oe){return oe.onerror&&oe.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function ns(l,s,c){try{if(!s||s.keys.length<l.length)return null;for(var h=[],y=0,g=0;y<s.keys.length&&g<l.length;++y)rt(s.keys[y],l[g])===0&&(h.push(c?bt(s.values[y]):s.values[y]),++g);return h.length===l.length?h:null}catch{return null}}var iu={stack:"dbcore",level:-1,create:function(l){return{table:function(s){var c=l.table(s);return d(d({},c),{getMany:function(h){var y;return h.cache?(y=ns(h.keys,h.trans._cache,h.cache==="clone"))?Oe.resolve(y):c.getMany(h).then(function(g){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?bt(g):g},g}):c.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),c.mutate(h)}})}}}};function Pa(l,s){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function ru(l,s){switch(l){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qo={stack:"dbcore",level:0,name:"Observability",create:function(l){var s=l.schema.name,c=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,g){if(_e.subscr&&y!=="readonly")throw new ge.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_e.querier));return l.transaction(h,y,g)},table:function(h){function y(Q){var D,Q=Q.query;return[D=Q.index,new gn((D=(Q=Q.range).lower)!=null?D:l.MIN_KEY,(D=Q.upper)!=null?D:l.MAX_KEY)]}var g=l.table(h),w=g.schema,j=w.primaryKey,C=w.indexes,H=j.extractKey,A=j.outbound,E=j.autoIncrement&&C.filter(function(O){return O.compound&&O.keyPath.includes(j.keyPath)}),M=d(d({},g),{mutate:function(O){function D(Be){return Be="idb://".concat(s,"/").concat(h,"/").concat(Be),oe[Be]||(oe[Be]=new gn)}var Q,Z,L,te=O.trans,oe=O.mutatedParts||(O.mutatedParts={}),we=D(""),je=D(":dels"),ce=O.type,Te=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[nr(j,O).filter(function(Be){return Be}),O.values]:[],Re=Te[0],Te=Te[1],fe=O.trans._cache;return N(Re)?(we.addKeys(Re),(ce=ce==="delete"||Re.length===Te.length?ns(Re,fe):null)||je.addKeys(Re),(ce||Te)&&(Q=D,Z=ce,L=Te,w.indexes.forEach(function(Be){var We=Q(Be.name||"");function st(Ie){return Ie!=null?Be.extractKey(Ie):null}function Ke(Ie){Be.multiEntry&&N(Ie)?Ie.forEach(function(zt){return We.addKey(zt)}):We.addKey(Ie)}(Z||L).forEach(function(Ie,At){var Cn=Z&&st(Z[At]),At=L&&st(L[At]);rt(Cn,At)!==0&&(Cn!=null&&Ke(Cn),At!=null)&&Ke(At)})}))):Re?(Te={from:(fe=Re.lower)!=null?fe:l.MIN_KEY,to:(ce=Re.upper)!=null?ce:l.MAX_KEY},je.add(Te),we.add(Te)):(we.add(c),je.add(c),w.indexes.forEach(function(Be){return D(Be.name).add(c)})),g.mutate(O).then(function(Be){return!Re||O.type!=="add"&&O.type!=="put"||(we.addKeys(Be.results),E&&E.forEach(function(We){for(var st=O.values.map(function(Cn){return We.extractKey(Cn)}),Ke=We.keyPath.findIndex(function(Cn){return Cn===j.keyPath}),Ie=0,zt=Be.results.length;Ie<zt;++Ie)st[Ie][Ke]=Be.results[Ie];D(We.name).addKeys(st)})),te.mutatedParts=Ii(te.mutatedParts||{},oe),Be})}}),k={get:function(O){return[j,new gn(O.key)]},getMany:function(O){return[j,new gn().addKeys(O.keys)]},count:y,query:y,openCursor:y};return S(k).forEach(function(O){M[O]=function(D){var Q=_e.subscr,Z=!!Q,L=Pa(_e,g)&&ru(O,D)?D.obsSet={}:Q;if(Z){var te,Q=function(Te){return Te="idb://".concat(s,"/").concat(h,"/").concat(Te),L[Te]||(L[Te]=new gn)},oe=Q(""),we=Q(":dels"),Z=k[O](D),je=Z[0],Z=Z[1];if((O==="query"&&je.isPrimaryKey&&!D.values?we:Q(je.name||"")).add(Z),!je.isPrimaryKey){if(O!=="count")return te=O==="query"&&A&&D.values&&g.query(d(d({},D),{values:!1})),g[O].apply(this,arguments).then(function(Te){if(O==="query"){if(A&&D.values)return te.then(function(st){return st=st.result,oe.addKeys(st),Te});var fe=D.values?Te.result.map(H):Te.result;(D.values?oe:we).addKeys(fe)}else{var Be,We;if(O==="openCursor")return We=D.values,(Be=Te)&&Object.create(Be,{key:{get:function(){return we.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var st=Be.primaryKey;return we.addKey(st),st}},value:{get:function(){return We&&oe.addKey(Be.primaryKey),Be.value}}})}return Te});we.add(c)}}return g[O].apply(this,arguments)}}),M}})}};function su(l,s,c){var h;return c.numFailures===0?s:s.type==="deleteRange"||(h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1,c.numFailures===h)?null:(h=d({},s),N(h.keys)&&(h.keys=h.keys.filter(function(y,g){return!(g in c.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,g){return!(g in c.failures)})),h)}function ar(l,s){return c=l,((h=s).lower===void 0||(h.lowerOpen?0<rt(c,h.lower):0<=rt(c,h.lower)))&&(c=l,(h=s).upper===void 0||(h.upperOpen?rt(c,h.upper)<0:rt(c,h.upper)<=0));var c,h}function as(l,s,c,h,y,g){var w,j,C,H,A,E;return!c||c.length===0||(w=s.query.index,j=w.multiEntry,C=s.query.range,H=h.schema.primaryKey.extractKey,A=w.extractKey,E=(w.lowLevelIndex||w).extractKey,(h=c.reduce(function(M,k){var O=M,D=[];if(k.type==="add"||k.type==="put")for(var Q=new gn,Z=k.values.length-1;0<=Z;--Z){var L,te=k.values[Z],oe=H(te);!Q.hasKey(oe)&&(L=A(te),j&&N(L)?L.some(function(Te){return ar(Te,C)}):ar(L,C))&&(Q.addKey(oe),D.push(te))}switch(k.type){case"add":var we=new gn().addKeys(s.values?M.map(function(fe){return H(fe)}):M),O=M.concat(s.values?D.filter(function(fe){return fe=H(fe),!we.hasKey(fe)&&(we.addKey(fe),!0)}):D.map(function(fe){return H(fe)}).filter(function(fe){return!we.hasKey(fe)&&(we.addKey(fe),!0)}));break;case"put":var je=new gn().addKeys(k.values.map(function(fe){return H(fe)}));O=M.filter(function(fe){return!je.hasKey(s.values?H(fe):fe)}).concat(s.values?D:D.map(function(fe){return H(fe)}));break;case"delete":var ce=new gn().addKeys(k.keys);O=M.filter(function(fe){return!ce.hasKey(s.values?H(fe):fe)});break;case"deleteRange":var Re=k.range;O=M.filter(function(fe){return!ar(H(fe),Re)})}return O},l))===l)?l:(h.sort(function(M,k){return rt(E(M),E(k))||rt(H(M),H(k))}),s.limit&&s.limit<1/0&&(h.length>s.limit?h.length=s.limit:l.length===s.limit&&h.length<s.limit&&(y.dirty=!0)),g?Object.freeze(h):h)}function Ol(l,s){return rt(l.lower,s.lower)===0&&rt(l.upper,s.upper)===0&&!!l.lowerOpen==!!s.lowerOpen&&!!l.upperOpen==!!s.upperOpen}function bi(l,s){return((c,h,y,g)=>{if(c===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((c=rt(c,h))===0){if(y&&g)return 0;if(y)return 1;if(g)return-1}return c})(l.lower,s.lower,l.lowerOpen,s.lowerOpen)<=0&&0<=((c,h,y,g)=>{if(c===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((c=rt(c,h))===0){if(y&&g)return 0;if(y)return-1;if(g)return 1}return c})(l.upper,s.upper,l.upperOpen,s.upperOpen)}function Uo(l,s,c,h){l.subscribers.add(c),h.addEventListener("abort",function(){var y,g;l.subscribers.delete(c),l.subscribers.size===0&&(y=l,g=s,setTimeout(function(){y.subscribers.size===0&&pe(g,y)},3e3))})}var lr={stack:"dbcore",level:0,name:"Cache",create:function(l){var s=l.schema.name;return d(d({},l),{transaction:function(c,h,y){var g,w,j=l.transaction(c,h,y);return h==="readwrite"&&(y=(g=new AbortController).signal,j.addEventListener("abort",(w=function(C){return function(){if(g.abort(),h==="readwrite"){for(var H=new Set,A=0,E=c;A<E.length;A++){var M=E[A],k=$a["idb://".concat(s,"/").concat(M)];if(k){var O=l.table(M),D=k.optimisticOps.filter(function(Be){return Be.trans===j});if(j._explicit&&C&&j.mutatedParts)for(var Q=0,Z=Object.values(k.queries.query);Q<Z.length;Q++)for(var L=0,te=(je=Z[Q]).slice();L<te.length;L++)Wr((ce=te[L]).obsSet,j.mutatedParts)&&(pe(je,ce),ce.subscribers.forEach(function(Be){return H.add(Be)}));else if(0<D.length){k.optimisticOps=k.optimisticOps.filter(function(Be){return Be.trans!==j});for(var oe=0,we=Object.values(k.queries.query);oe<we.length;oe++)for(var je,ce,Re,Te=0,fe=(je=we[oe]).slice();Te<fe.length;Te++)(ce=fe[Te]).res!=null&&j.mutatedParts&&(C&&!ce.dirty?(Re=Object.isFrozen(ce.res),Re=as(ce.res,ce.req,D,O,ce,Re),ce.dirty?(pe(je,ce),ce.subscribers.forEach(function(Be){return H.add(Be)})):Re!==ce.res&&(ce.res=Re,ce.promise=Oe.resolve({result:Re}))):(ce.dirty&&pe(je,ce),ce.subscribers.forEach(function(Be){return H.add(Be)})))}}}H.forEach(function(Be){return Be()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(c){var h=l.table(c),y=h.schema.primaryKey;return d(d({},h),{mutate:function(g){var w,j=_e.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=$a["idb://".concat(s,"/").concat(c)])?(j=h.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||nr(y,g).some(function(C){return C==null}))?(w.optimisticOps.push(g),g.mutatedParts&&er(g.mutatedParts),j.then(function(C){0<C.numFailures&&(pe(w.optimisticOps,g),(C=su(0,g,C))&&w.optimisticOps.push(C),g.mutatedParts)&&er(g.mutatedParts)}),j.catch(function(){pe(w.optimisticOps,g),g.mutatedParts&&er(g.mutatedParts)})):j.then(function(C){var H=su(0,d(d({},g),{values:g.values.map(function(A,E){var M;return C.failures[E]?A:(xe(M=(M=y.keyPath)!=null&&M.includes(".")?bt(A):d({},A),y.keyPath,C.results[E]),M)})}),C);w.optimisticOps.push(H),queueMicrotask(function(){return g.mutatedParts&&er(g.mutatedParts)})}),j):h.mutate(g)},query:function(g){var w,j,C,H,A,E,M;return Pa(_e,h)&&ru("query",g)?(w=((C=_e.trans)==null?void 0:C.db._options.cache)==="immutable",j=(C=_e).requery,C=C.signal,E=((k,O,D,Q)=>{var Z=$a["idb://".concat(k,"/").concat(O)];if(!Z)return[];if(!(k=Z.queries[D]))return[null,!1,Z,null];var L=k[(Q.query?Q.query.index.name:null)||""];if(!L)return[null,!1,Z,null];switch(D){case"query":var te=L.find(function(oe){return oe.req.limit===Q.limit&&oe.req.values===Q.values&&Ol(oe.req.query.range,Q.query.range)});return te?[te,!0,Z,L]:[L.find(function(oe){return("limit"in oe.req?oe.req.limit:1/0)>=Q.limit&&(!Q.values||oe.req.values)&&bi(oe.req.query.range,Q.query.range)}),!1,Z,L];case"count":return te=L.find(function(oe){return Ol(oe.req.query.range,Q.query.range)}),[te,!!te,Z,L]}})(s,c,"query",g),M=E[0],H=E[2],A=E[3],M&&E[1]?M.obsSet=g.obsSet:(E=h.query(g).then(function(k){var O=k.result;if(M&&(M.res=O),w){for(var D=0,Q=O.length;D<Q;++D)Object.freeze(O[D]);Object.freeze(O)}else k.result=bt(O);return k}).catch(function(k){return A&&M&&pe(A,M),Promise.reject(k)}),M={obsSet:g.obsSet,promise:E,subscribers:new Set,type:"query",req:g,dirty:!1},A?A.push(M):(A=[M],(H=H||($a["idb://".concat(s,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=A)),Uo(M,A,j,C),M.promise.then(function(k){return{result:as(k.result,g,H?.optimisticOps,h,M,w)}})):h.query(g)}})}})}};function vi(l,s){return new Proxy(l,{get:function(c,h,y){return h==="db"?s:Reflect.get(c,h,y)}})}Yt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new ge.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new ge.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var s=this._versions,c=s.filter(function(h){return h._cfg.version===l})[0];return c||(c=new this.Version(l),s.push(c),s.sort(Vr),c.stores({}),this._state.autoSchema=!1),c},Yt.prototype._whenReady=function(l){var s=this;return this.idbdb&&(this._state.openComplete||_e.letThrough||this._vip)?l():new Oe(function(c,h){if(s._state.openComplete)return h(new ge.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new ge.DatabaseClosed);s.open().catch(Ge)}s._state.dbReadyPromise.then(c,h)}).then(l)},Yt.prototype.use=function(y){var s=y.stack,c=y.create,h=y.level,y=y.name,g=(y&&this.unuse({stack:s,name:y}),this._middlewares[s]||(this._middlewares[s]=[]));return g.push({stack:s,create:c,level:h??10,name:y}),g.sort(function(w,j){return w.level-j.level}),this},Yt.prototype.unuse=function(l){var s=l.stack,c=l.name,h=l.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return h?y.create!==h:!!c&&y.name!==c})),this},Yt.prototype.open=function(){var l=this;return Yn(Ut,function(){return Ro(l)})},Yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,s=Qa.indexOf(this);if(0<=s&&Qa.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Oe(function(c){l.dbReadyResolve=c}),l.openCanceller=new Oe(function(c,h){l.cancelOpen=h}))},Yt.prototype.close=function(s){var s=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,c=this._state;s?(c.isBeingOpened&&c.cancelOpen(new ge.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new ge.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},Yt.prototype.delete=function(l){var s=this,c=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Oe(function(y,g){function w(){s.close(l);var j=s._deps.indexedDB.deleteDatabase(s.name);j.onsuccess=Ht(function(){var C,H,A;C=s._deps,H=s.name,Pi(A=C.indexedDB)||H===si||Fr(A,C.IDBKeyRange).delete(H).catch(Ge),y()}),j.onerror=Gn(g),j.onblocked=s._fireOnBlocked}if(c)throw new ge.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},Yt.prototype.backendDB=function(){return this.idbdb},Yt.prototype.isOpen=function(){return this.idbdb!==null},Yt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Yt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(s){return l._allTables[s]})},enumerable:!1,configurable:!0}),Yt.prototype.transaction=function(){var l=(function(s,c,h){var y=arguments.length;if(y<2)throw new ge.InvalidArgument("Too few arguments");for(var g=new Array(y-1);--y;)g[y-1]=arguments[y];return h=g.pop(),[s,ut(g),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Yt.prototype._transaction=function(l,s,c){var h,y,g=this,w=_e.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=s.map(function(H){if(H=H instanceof g.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),l=="r"||l===ba)h=ba;else{if(l!="rw"&&l!=Da)throw new ge.InvalidArgument("Invalid transaction mode: "+l);h=Da}if(w){if(w.mode===ba&&h===Da){if(!j)throw new ge.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(H){if(w&&w.storeNames.indexOf(H)===-1){if(!j)throw new ge.SubTransaction("Table "+H+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(H){return w?w._promise(null,function(A,E){E(H)}):Mt(H)}var C=(function H(A,E,M,k,O){return Oe.resolve().then(function(){var L=_e.transless||_e,D=A._createTransaction(E,M,A._dbSchema,k),L=(D.explicit=!0,{trans:D,transless:L});if(k)D.idbtrans=k.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(te){return te.name===Vt.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return H(A,E,M,null,O)})):Mt(te)}var Q,Z=X(O),L=(Z&&It(),Oe.follow(function(){var te;(Q=O.call(D,D))&&(Z?(te=Tn.bind(null,null),Q.then(te,te)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=gi(Q)))},L));return(Q&&typeof Q.then=="function"?Oe.resolve(Q).then(function(te){return D.active?te:Mt(new ge.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return Q})).then(function(te){return k&&D._resolve(),D._completion.then(function(){return te})}).catch(function(te){return D._reject(te),Mt(te)})})}).bind(null,this,h,y,w,c);return w?w._promise(h,C,"lock"):_e.trans?Yn(_e.transless,function(){return g._whenReady(C)}):this._whenReady(C)},Yt.prototype.table=function(l){if(T(this._allTables,l))return this._allTables[l];throw new ge.InvalidTable("Table ".concat(l," does not exist"))};var ia=Yt;function Yt(l,s){var c,h,y,g,w,j=this,C=(this._middlewares={},this.verno=0,Yt.dependencies),C=(this._options=s=d({addons:Yt.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},s.addons),H=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ge,dbReadyPromise:null,cancelOpen:Ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen}),A=(H.dbReadyPromise=new Oe(function(E){H.dbReadyResolve=E}),H.openCanceller=new Oe(function(E,M){H.cancelOpen=M}),this._state=H,this.name=l,this.on=ci(this,"populate","blocked","versionchange","close",{ready:[ee,Ge]}),this.once=function(E,M){var k=function(){for(var O=[],D=0;D<arguments.length;D++)O[D]=arguments[D];j.on(E).unsubscribe(k),M.apply(j,O)};return j.on(E,k)},this.on.ready.subscribe=Ce(this.on.ready.subscribe,function(E){return function(M,k){Yt.vip(function(){var O,D=j._state;D.openComplete?(D.dbOpenError||Oe.resolve().then(M),k&&E(M)):D.onReadyBeingFired?(D.onReadyBeingFired.push(M),k&&E(M)):(E(M),O=j,k||E(function Q(){O.on.ready.unsubscribe(M),O.on.ready.unsubscribe(Q)}))})}}),this.Collection=(c=this,pn(Mo.prototype,function(Q,D){this.db=c;var k=Lr,O=null;if(D)try{k=D()}catch(L){O=L}var D=Q._ctx,Q=D.table,Z=Q.hook.reading.fire;this._ctx={table:Q,index:D.index,isPrimKey:!D.index||Q.schema.primKey.keyPath&&D.index===Q.schema.primKey.name,range:k,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:D.or,valueMapper:Z!==dt?Z:null}})),this.Table=(h=this,pn(Kr.prototype,function(E,M,k){this.db=h,this._tx=k,this.name=E,this.schema=M,this.hook=h._allTables[E]?h._allTables[E].hook:ci(null,{creating:[Qn,Ge],reading:[Zt,dt],updating:[de,Ge],deleting:[ea,Ge]})})),this.Transaction=(y=this,pn(Gr.prototype,function(E,M,k,O,D){var Q=this;E!=="readonly"&&M.forEach(function(Z){Z=(Z=k[Z])==null?void 0:Z.yProps,Z&&(M=M.concat(Z.map(function(L){return L.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=M,this.schema=k,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=ci(this,"complete","error","abort"),this.parent=D||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(Z,L){Q._resolve=Z,Q._reject=L}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(Z){var L=Q.active;return Q.active=!1,Q.on.error.fire(Z),Q.parent?Q.parent._reject(Z):L&&Q.idbtrans&&Q.idbtrans.abort(),Mt(Z)})})),this.Version=(g=this,pn(ko.prototype,function(E){this.db=g,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,pn(Ga.prototype,function(E,M,k){if(this.db=w,this._ctx={table:E,index:M===":id"?null:M,or:k},this._cmp=this._ascending=rt,this._descending=function(O,D){return rt(D,O)},this._max=function(O,D){return 0<rt(O,D)?O:D},this._min=function(O,D){return rt(O,D)<0?O:D},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new ge.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=_l(s.IDBKeyRange),this._createTransaction=function(E,M,k,O){return new j.Transaction(E,M,k,j._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(E){j.on("blocked").fire(E),Qa.filter(function(M){return M.name===j.name&&M!==j&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(E)})},this.use(iu),this.use(lr),this.use(qo),this.use(Bo),this.use(lu),new Proxy(this,{get:function(E,M,k){var O;return M==="_vip"||(M==="table"?function(D){return vi(j.table(D),A)}:(O=Reflect.get(E,M,k))instanceof Kr?vi(O,A):M==="tables"?O.map(function(D){return vi(D,A)}):M==="_createTransaction"?function(){return vi(O.apply(this,arguments),A)}:O)}}));this.vip=A,C.forEach(function(E){return E(j)})}var Dl,Wa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",uu=(ir.prototype.subscribe=function(l,s,c){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:s,complete:c})},ir.prototype[Wa]=function(){return this},ir);function ir(l){this._subscribe=l}try{Dl={indexedDB:x.indexedDB||x.mozIndexedDB||x.webkitIndexedDB||x.msIndexedDB,IDBKeyRange:x.IDBKeyRange||x.webkitIDBKeyRange}}catch{Dl={indexedDB:null,IDBKeyRange:null}}function ou(l){var s,c=!1,h=new uu(function(y){var g=X(l),w,j=!1,C={},H={},A={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),E&&yn.storagemutated.unsubscribe(k))}},E=(y.start&&y.start(A),!1),M=function(){return Oa(O)},k=function(D){Ii(C,D),Wr(H,C)&&M()},O=function(){var D,Q,Z;!j&&Dl.indexedDB&&(C={},D={},w&&w.abort(),w=new AbortController,Z=(L=>{var te=Ea();try{g&&It();var oe=Kt(l,L);return oe=g?oe.finally(Tn):oe}finally{te&&ta()}})(Q={subscr:D,signal:w.signal,requery:M,querier:l,trans:null}),Promise.resolve(Z).then(function(L){c=!0,s=L,j||Q.signal.aborted||(C={},(te=>{for(var oe in te)if(T(te,oe))return;return 1})(H=D)||E||(yn(jl,k),E=!0),Oa(function(){return!j&&y.next&&y.next(L)}))},function(L){c=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||j||Oa(function(){j||y.error&&y.error(L)})}))};return setTimeout(M,0),A});return h.hasValue=function(){return c},h.getValue=function(){return s},h}var Ia=ia;function ls(l){var s=ka;try{ka=!0,yn.storagemutated.fire(l),ts(l,!0)}finally{ka=s}}$(Ia,d(d({},ue),{delete:function(l){return new Ia(l,{addons:[]}).delete()},exists:function(l){return new Ia(l,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return s=Ia.dependencies,c=s.indexedDB,s=s.IDBKeyRange,(Pi(c)?Promise.resolve(c.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==si})}):Fr(c,s).toCollection().primaryKeys()).then(l)}catch{return Mt(new ge.MissingAPI)}var s,c},defineClass:function(){return function(l){U(this,l)}},ignoreTransaction:function(l){return _e.trans?Yn(_e.transless,l):l()},vip:Jr,async:function(l){return function(){try{var s=gi(l.apply(this,arguments));return s&&typeof s.then=="function"?s:Oe.resolve(s)}catch(c){return Mt(c)}}},spawn:function(l,s,c){try{var h=gi(l.apply(c,s||[]));return h&&typeof h.then=="function"?h:Oe.resolve(h)}catch(y){return Mt(y)}},currentTransaction:{get:function(){return _e.trans||null}},waitFor:function(l,s){return l=Oe.resolve(typeof l=="function"?Ia.ignoreTransaction(l):l).timeout(s||6e4),_e.trans?_e.trans.waitFor(l):l},Promise:Oe,debug:{get:function(){return ze},set:function(l){he(l)}},derive:re,extend:U,props:$,override:Ce,Events:ci,on:yn,liveQuery:ou,extendObservabilitySet:Ii,getByKeyPath:be,setByKeyPath:xe,delByKeyPath:function(l,s){typeof s=="string"?xe(l,s,void 0):"length"in s&&[].map.call(s,function(c){xe(l,c,void 0)})},shallowClone:tt,deepClone:bt,getObjectDiff:tr,cmp:rt,asap:ve,minKey:-1/0,addons:[],connections:Qa,errnames:Vt,dependencies:Dl,cache:$a,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,s,c){return l+s/Math.pow(10,2*c)})})),Ia.maxKey=_l(Ia.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(jl,function(l){ka||(l=new CustomEvent(Za,{detail:l}),ka=!0,dispatchEvent(l),ka=!1)}),addEventListener(Za,function(l){l=l.detail,ka||ls(l)}));var Tl,ka=!1,En=function(){};return typeof BroadcastChannel<"u"&&((En=function(){(Tl=new BroadcastChannel(Za)).onmessage=function(l){return l.data&&ls(l.data)}})(),typeof Tl.unref=="function"&&Tl.unref(),yn(jl,function(l){ka||Tl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ia.disableBfCache&&l.persisted){ze&&console.debug("Dexie: handling persisted pagehide"),Tl?.close();for(var s=0,c=Qa;s<c.length;s++)c[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ia.disableBfCache&&l.persisted&&(ze&&console.debug("Dexie: handling persisted pageshow"),En(),ls({all:new gn(-1/0,[[]])}))})),Oe.rejectionMapper=function(l,s){return!l||l instanceof ke||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ft[l.name]?l:(s=new ft[l.name](s||l.message,l),"stack"in l&&F(s,"stack",{get:function(){return this.inner.stack}}),s)},he(ze),d(ia,Object.freeze({__proto__:null,Dexie:ia,Entity:$s,PropModification:wl,RangeSet:gn,add:function(l){return new wl({add:l})},cmp:rt,default:ia,liveQuery:ou,mergeRanges:Ja,rangesOverlap:tu,remove:function(l){return new wl({remove:l})},replacePrefix:function(l,s){return new wl({replacePrefix:[l,s]})}}),{default:ia}),ia})})(yo)),yo.exports}var mv=hv();const qf=O0(mv),_p=Symbol.for("Dexie"),So=globalThis[_p]||(globalThis[_p]=qf);if(qf.semVer!==So.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${qf.semVer} and ${So.semVer}`);const{liveQuery:ox,mergeRanges:cx,rangesOverlap:fx,RangeSet:dx,cmp:hx,Entity:mx,PropModification:px,replacePrefix:yx,add:gx,remove:bx,DexieYProvider:vx}=So,Ff=new So("WiseMarkDB");Ff.version(1).stores({pdfs:"hash, filename, size, blob"});async function Uf(u){const f=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(f)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Jf(u,f,m,d){await Ff.pdfs.put({hash:u,filename:f,size:m,blob:d})}async function pv(u){const f=await Ff.pdfs.get(u);return f?{data:f.blob,filename:f.filename,size:f.size}:null}async function yv(u){if(!u?.pdf_hash)return null;try{const{data:f}=await an.getPdf(u.id),m=(f instanceof ArrayBuffer,f),d=u.file_size??m?.byteLength??0;return await Jf(u.pdf_hash,u.filename||"",d,m),{data:m,filename:u.filename||"",size:d}}catch{const f=await pv(u.pdf_hash);return f||null}}const ma=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Ep(u){if(!u)return null;const f=new Date(u);return Number.isNaN(f.getTime())?null:f.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function gv(u){if(!u)return null;const f=new Date(u);if(Number.isNaN(f.getTime()))return null;const d=new Date-f,b=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return b<1?"Just now":b<60?`${b}m ago`:x<24?`${x}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:f.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function bv({doc:u,lensMap:f,projectColor:m,hovered:d,onHover:b,onLeave:x,onOpen:S,onRename:N,onDelete:U}){const R=f[u.highlight_preset]??f._default,B=R?.colors?.[0]?.hex??"#94a3b8",T=u.color&&ma.includes(u.color)?u.color:m,$=u.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>b(u.id),onMouseLeave:x,onClick:()=>S(u.id),role:"button",tabIndex:0,onKeyDown:ye=>ye.key==="Enter"&&S(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${T}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[R&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:B,background:`${B}14`},children:R.name}),Ep(u.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Ep(u.created_at)})]}),u.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",gv(u.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:$>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[$," note",$!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),N(u)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(Oo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),U(u)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(Ui,{className:"w-3.5 h-3.5"})})]}),o.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function vv(){const{projectId:u}=Kf(),f=qi(),m=Rr(),[d,b]=K.useState(!1),[x,S]=K.useState(""),[N,U]=K.useState(null),[R,B]=K.useState(""),[T,$]=K.useState(!1),[ye,F]=K.useState(""),[re,P]=K.useState(null),[Ae,me]=K.useState(""),[Ce,ae]=K.useState(null),[ve,be]=K.useState(ma[0]),xe=K.useRef(null),tt=K.useRef(null),$e=K.useRef(null),[ut,He]=K.useState(0),[Je,bt]=K.useState(null),[Ee,Xe]=K.useState("recent"),[Y,se]=K.useState(!1),[pe,Ne]=K.useState(null),[De,X]=K.useState(!1),{data:ue,isLoading:Se}=Wn({queryKey:["project",u],queryFn:async()=>(await Ks.get(u)).data,enabled:!!u}),{data:ke,isLoading:Ze}=Wn({queryKey:["documents",u],queryFn:async()=>(await an.list({project:u})).data,enabled:!!u}),at=Array.isArray(ke)?ke:ke?.results??[],{data:vt=[]}=Wn({queryKey:["lenses"],queryFn:async()=>(await pa.list()).data}),Vt=K.useMemo(()=>{const Me={};vt.forEach(jt=>{Me[jt.id]=jt});const Le=vt.find(jt=>jt.is_system)??vt[0];return Le&&(Me._default=Le),Me},[vt]),dn=K.useMemo(()=>{const Me=[...at];return Ee==="recent"?Me.sort((Le,jt)=>{const qt=Le.last_opened_at||Le.updated_at||Le.created_at||"";return(jt.last_opened_at||jt.updated_at||jt.created_at||"").localeCompare(qt)}):Ee==="uploaded"?Me.sort((Le,jt)=>(jt.created_at||"").localeCompare(Le.created_at||"")):Ee==="name"?Me.sort((Le,jt)=>(Le.filename||"").localeCompare(jt.filename||"")):Ee==="annotations"&&Me.sort((Le,jt)=>(jt.annotation_count??0)-(Le.annotation_count??0)),Me},[at,Ee]),ge=at.reduce((Me,Le)=>Me+(Le.annotation_count??0),0),ft=An({mutationFn:({id:Me,name:Le})=>Ks.update(Me,{name:Le}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",u]}),m.invalidateQueries({queryKey:["projects"]}),$(!1)}}),Ge=An({mutationFn:({id:Me,filename:Le})=>an.update(Me,{filename:Le}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),U(null),B("")}}),dt=An({mutationFn:Me=>an.delete(Me),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),Ne(null)}}),Zt=An({mutationFn:Me=>Ks.delete(Me),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),f("/app",{replace:!0})}}),Ot=async Me=>{const Le=Me.target.files?.[0];if(!Le||!Le.type.includes("pdf"))return;S(""),P(Le);const jt=Le.name.replace(/\.pdf$/i,"")||Le.name;me(jt),be(ma[at.length%ma.length]),ae(null),xe.current=null;try{const qt=await Le.arrayBuffer(),Ct=await Uf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Le.size};ae(Ut),xe.current={...Ut,suggestedName:jt}}catch(qt){S(qt.message||"Could not read file"),P(null),me("")}},Qn=async Me=>{Me.preventDefault(),se(!1);const Le=Me.dataTransfer?.files?.[0];if(!Le||!Le.type.includes("pdf"))return;S(""),P(Le);const jt=Le.name.replace(/\.pdf$/i,"")||Le.name;me(jt),be(ma[at.length%ma.length]),ae(null),xe.current=null;try{const qt=await Le.arrayBuffer(),Ct=await Uf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Le.size};ae(Ut),xe.current={...Ut,suggestedName:jt}}catch(qt){S(qt.message||"Could not read file"),P(null),me("")}},ea=()=>{P(null),me(""),ae(null),be(ma[0]),S(""),xe.current=null,He(Me=>Me+1)},de=()=>$e.current?.click(),et=async Me=>{Me.preventDefault();const Le=u,qt=tt.current?.value?.trim()||Ae?.trim()||xe.current?.suggestedName?.trim()||"",Ct=xe.current||Ce;if(!Le){S("Project not found.");return}if(!qt){S("Please enter a name for the PDF.");return}if(!Ct||!Ct.hash||!Ct.arrayBuffer){S("File data missing. Please close and select the file again.");return}const Ut=qt.toLowerCase().endsWith(".pdf")?qt:`${qt}.pdf`;S(""),b(!0);try{const _e=new FormData;_e.append("project",String(Le)),_e.append("filename",Ut),_e.append("color",ve),_e.append("file",new Blob([Ct.arrayBuffer]),Ut),await an.createWithFile(_e),await Jf(Ct.hash,Ut,Ct.size,Ct.arrayBuffer),m.invalidateQueries({queryKey:["documents",Le]}),P(null),me(""),ae(null),xe.current=null,He(ya=>ya+1)}catch(_e){const ya=_e.response?.data?.detail||typeof _e.response?.data=="object"&&Object.values(_e.response?.data||{}).flat().join(" ")||_e.message||"Upload failed";S(String(ya))}finally{b(!1)}},ee=Me=>{U(Me.id),B(Me.filename||"")},ze=()=>{if(N==null||!R.trim()){U(null);return}Ge.mutate({id:N,filename:R.trim()})},he=()=>{U(null),B("")},Ve=()=>{F(ue?.name??""),$(!0)},lt=()=>{const Me=ye.trim();if(!Me||Me===ue?.name){$(!1);return}ft.mutate({id:u,name:Me})},gt=()=>{$(!1),F("")},Et=bl(Me=>Me.logout),{data:mn}=Wn({queryKey:["me"],queryFn:async()=>(await kr.me()).data}),rn=(mn?.email?.[0]||mn?.username?.[0]||"?").toUpperCase(),Dn=ue?.color&&ma.includes(ue.color)?ue.color:ue?ma[ue.id%ma.length]:ma[0];return Se||!ue?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(ja,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>f("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{Et(),f("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Zf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>f("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:rn})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:T?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:ye,onChange:Me=>F(Me.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:Me=>{Me.key==="Enter"&&lt(),Me.key==="Escape"&&gt()}}),o.jsx("button",{type:"button",onClick:lt,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(Bf,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:gt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(Bi,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:ue.name})}),!T&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:Ve,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(Oo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>X(!0),disabled:Zt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(Ui,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-[12.5px] text-slate-400 mb-6",children:[o.jsxs("span",{children:[at.length," document",at.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{children:[ge," annotation",ge!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:Ee,onChange:Me=>Xe(Me.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:de,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(xo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:$e,type:"file",accept:".pdf",onChange:Ot,className:"hidden","aria-hidden":"true",tabIndex:-1},ut),x&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:x}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(ja,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Ze?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(ja,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):at.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(vo,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(Me=>N===Me.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:R,onChange:Le=>B(Le.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Le=>{Le.key==="Enter"&&ze(),Le.key==="Escape"&&he()}}),o.jsx("button",{type:"button",onClick:ze,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(Bf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:he,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(Bi,{className:"w-4 h-4"})})]},Me.id):o.jsx(bv,{doc:Me,lensMap:Vt,projectColor:Dn,hovered:Je===Me.id,onHover:bt,onLeave:()=>bt(null),onOpen:Le=>f(`/document/${Le}`),onRename:ee,onDelete:Le=>Ne(Le)},Me.id))}),at.length>0&&o.jsxs("div",{onDragOver:Me=>{Me.preventDefault(),se(!0)},onDragLeave:()=>se(!1),onDrop:Qn,onClick:de,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${Y?"#2563eb":"#e2e8f0"}`,background:Y?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:Y?"#dbeafe":"#f1f5f9"},children:o.jsx(xo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:Y?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),re&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ea,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:Me=>Me.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),Ce?o.jsxs("div",{className:"space-y-4",children:[x&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:x}),o.jsx("input",{ref:tt,type:"text",value:Ae,onChange:Me=>me(Me.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:ma.map(Me=>o.jsx("button",{type:"button",onClick:()=>be(Me),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:Me,borderColor:ve===Me?"#1e293b":"transparent",outline:ve===Me?"2px solid #fff":"none",outlineOffset:-4}},Me))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ea,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:et,disabled:d||!Ae.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ja,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(ja,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),pe&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!dt.isPending&&Ne(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Me=>Me.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:pe.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Ne(null),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>dt.mutate(pe.id),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:dt.isPending?"Deleting":"Delete"})]})]})}),De&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Zt.isPending&&X(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Me=>Me.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:ue.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>X(!1),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Zt.mutate(u),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Zt.isPending?"Deleting":"Delete project"})]})]})})]})}const gl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},wo=Object.keys(gl);function Mr(u,f=1){if(!u||!u.startsWith("#"))return`rgba(148,163,184,${f})`;const m=parseInt(u.slice(1),16),d=m>>16&255,b=m>>8&255,x=m&255;return`rgba(${d},${b},${x},${f})`}function ti(u,f={},m){if(f&&typeof f[u]=="string"&&f[u].trim())return f[u].trim();if(m?.length){const d=m.find(b=>b.key===u);if(d?.display_name)return d.display_name}return gl[u]&&gl[u].name||u}z0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const xv=()=>typeof window<"u"&&window.devicePixelRatio||1;function Sv(u,f){const m=Math.sqrt(f[2]*f[2]+f[3]*f[3]),d=Math.sqrt(f[0]*f[0]+f[1]*f[1]),b=m,x=b,S=typeof u.width=="number"&&u.width>0?u.width*d:(u.str?.length||1)*x*.5,N=f[4],U=f[5]-b*.85;return{x:N,y:U,w:S,h:x}}function wv(u,f,m){const b=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),x=[];let S=0,N=-999;const U=4;let R=0;return u.items.forEach(B=>{if(!B.str||B.str.trim()==="")return;const T=R0.transform(f.transform,B.transform),$=Sv(B,T);Math.abs($.y-N)>U&&(S+=1,N=$.y);const ye=$.h,F=typeof B.width=="number"&&B.width>0?B.width*m:$.w,re=B.str.split(/(\s+)/);if(!b||re.length===0){x.push({id:R++,text:B.str,x:$.x,y:$.y,w:$.w,h:$.h,fontSize:$.h,lineIndex:S});return}b.font=`${ye}px sans-serif`;const P=re.map(ae=>({text:ae,measured:b.measureText(ae).width,isSpace:/^\s+$/.test(ae)||ae===""})),Ae=P.reduce((ae,ve)=>ae+ve.measured,0),me=Ae>0?F/Ae:1;let Ce=0;P.forEach(ae=>{const ve=ae.measured*me;if(ae.text===""||ae.isSpace){Ce+=ve;return}x.push({id:R,text:ae.text,x:$.x+Ce,y:$.y,w:ve,h:ye,fontSize:ye,lineIndex:S}),R+=1,Ce+=ve})}),x}function ry(u){const f={};return u.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;f[d]||(f[d]=[]),f[d].push(m)}),Object.values(f)}function Cp(u,f,m){let x=null,S=1/0;for(const N of u){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(f>=N.x-4&&f<=N.x+N.w+4)return N;const B=f<N.x?N.x-f:f-(N.x+N.w);B<S&&B<40&&(S=B,x=N)}return x}function jv(u){if(!u.length)return"";const f=[];for(let x=1;x<u.length;x++){const S=u[x],N=u[x-1];(S.lineIndex??0)!==(N.lineIndex??0)&&S.y>N.y&&f.push(S.y-N.y)}const m=f.length?[...f].sort((x,S)=>x-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let b="";for(let x=0;x<u.length;x++){const S=u[x];if(x>0){const N=u[x-1],U=(S.lineIndex??0)===(N.lineIndex??0),R=S.y-N.y,B=Math.max(8,(N.h+S.h)/2),T=d!=null?d*1.4:B*1.5,$=!U&&R>=T;U?S.x-(N.x+N.w)>1&&(b+=" "):$?b+=`

`:b+=`
`}b+=S.text}return b.trim()}function Nv(u,f){return u.length?ry(u).map(d=>{const b=Math.min(...d.map(T=>T.x)),x=Math.max(...d.map(T=>T.x+T.w)),S=d.map(T=>T.y),N=S.sort((T,$)=>T-$)[Math.floor(S.length/2)],U=Math.max(...d.map(T=>T.h)),R=2;return{x:(b-1)/f,y:(N-R)/f,width:(x-b+2)/f,height:(U+R+3)/f}}):[]}function _v({pdfData:u,scale:f,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:b=null,selectionForPicker:x=null,lensColors:S=[],onSelectionComplete:N,onNumPages:U,onHighlightHover:R,onHighlightHoverEnd:B,onHighlightEdit:T,onHighlightDelete:$}){const[ye,F]=K.useState(null),[re,P]=K.useState(0),[Ae,me]=K.useState(!0);return K.useEffect(()=>{if(!u)return;let Ce=!1;return(async()=>{me(!0);try{const ve=u.slice(0),be=await k0({data:ve}).promise;Ce||(F(be),P(be.numPages),U?.(be.numPages))}catch(ve){console.error("Failed to load PDF",ve)}Ce||me(!1)})(),()=>{Ce=!0}},[u,U]),Ae?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ja,{className:"w-6 h-6 text-slate-400 animate-spin"})}):ye?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:re},(Ce,ae)=>o.jsx(Ev,{pdf:ye,pageNumber:ae+1,scale:f,pageHighlights:m.filter(ve=>ve.page_number===ae+1),hoveredHighlightId:d,activeHighlightId:b,selectionForPicker:x,lensColors:S,onSelectionComplete:N,onHighlightHover:R,onHighlightHoverEnd:B,onHighlightEdit:T,onHighlightDelete:$},ae))}):null}function Ev({pdf:u,pageNumber:f,scale:m,pageHighlights:d,hoveredHighlightId:b,activeHighlightId:x,selectionForPicker:S,lensColors:N=[],onSelectionComplete:U,onHighlightHover:R,onHighlightHoverEnd:B,onHighlightEdit:T,onHighlightDelete:$}){const ye=K.useRef(null),F=K.useRef(null),re=K.useRef(null),P=K.useRef(null),[Ae,me]=K.useState({width:0,height:0}),[Ce,ae]=K.useState([]),[ve,be]=K.useState(null),[xe,tt]=K.useState(null),[$e,ut]=K.useState(!1),He=K.useRef(null),Je=K.useRef(null),bt=K.useCallback(()=>{Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{B?.(),Je.current=null},1e3)},[B]),Ee=K.useCallback(X=>{Je.current&&(clearTimeout(Je.current),Je.current=null),R?.(X)},[R]);K.useEffect(()=>()=>{Je.current&&clearTimeout(Je.current)},[]),K.useEffect(()=>{let X=!1;return(async()=>{const Se=await u.getPage(f),ke=xv(),Ze=Se.getViewport({scale:m}),at=Se.getViewport({scale:m*ke}),vt=F.current;if(!vt||X)return;const Vt=vt.getContext("2d",{alpha:!1});Vt.imageSmoothingEnabled=!0,Vt.imageSmoothingQuality="high",vt.width=at.width,vt.height=at.height,vt.style.width=`${Ze.width}px`,vt.style.height=`${Ze.height}px`,me({width:Ze.width,height:Ze.height}),await Se.render({canvasContext:Vt,viewport:at}).promise;const dn=await Se.getTextContent();if(X)return;const ge=wv(dn,Ze,m);ae(ge);const ft=re.current;!ft||X||(ft.innerHTML="",ft.style.width=`${Ze.width}px`,ft.style.height=`${Ze.height}px`,ge.forEach(Ge=>{const dt=document.createElement("span");dt.textContent=Ge.text,dt.style.position="absolute",dt.style.left=`${Ge.x}px`,dt.style.top=`${Ge.y}px`,dt.style.width=`${Ge.w}px`,dt.style.height=`${Ge.h}px`,dt.style.fontSize=`${Ge.fontSize}px`,dt.style.fontFamily="sans-serif",dt.style.color="transparent",dt.style.whiteSpace="pre",dt.style.pointerEvents="none",dt.style.lineHeight="1",ft.appendChild(dt)}))})(),()=>{X=!0}},[u,f,m]);const Xe=K.useMemo(()=>{if(S&&S.pageNumber===f){const Se=Math.min(S.spanStart,S.spanEnd),ke=Math.max(S.spanStart,S.spanEnd);return Ce.filter(Ze=>Ze.id>=Se&&Ze.id<=ke)}if(ve==null||xe==null)return[];const X=Math.min(ve,xe),ue=Math.max(ve,xe);return Ce.filter(Se=>Se.id>=X&&Se.id<=ue)},[Ce,S,f,ve,xe]);K.useEffect(()=>{S===null&&He.current?.pageNumber===f&&(be(null),tt(null)),He.current=S},[S,f]);const Y=K.useCallback((X,ue)=>{const Se=ye.current?.getBoundingClientRect();return Se?{x:X-Se.left,y:ue-Se.top}:{x:0,y:0}},[]),se=K.useCallback(X=>{if(X.button!==0||!Ce.length)return;const{x:ue,y:Se}=Y(X.clientX,X.clientY),ke=Cp(Ce,ue,Se);ke?(be(ke.id),tt(ke.id),ut(!0)):(be(null),tt(null))},[Ce,Y]),pe=K.useCallback(X=>{if(!$e)return;const{x:ue,y:Se}=Y(X.clientX,X.clientY),ke=Cp(Ce,ue,Se);ke&&tt(ke.id)},[$e,Ce,Y]),Ne=K.useCallback(X=>{if(X.button!==0||!$e)return;if(ut(!1),Xe.length<2){be(null),tt(null);return}if(!U)return;const ue=ye.current?.getBoundingClientRect();if(!ue)return;const Se={rects:Nv(Xe,m)},ke=jv(Xe),Ze=Xe[Xe.length-1],at={x:ue.left+(Ze.x+Ze.w/2),y:ue.top+(Ze.y-8)};U({pageNumber:f,position_data:Se,highlighted_text:ke,spanStart:Math.min(ve,xe),spanEnd:Math.max(ve,xe),pickerPosition:at})},[$e,Xe,ve,xe,m,f,U]);K.useEffect(()=>{const X=P.current||ye.current;if(X)return X.addEventListener("mousedown",se),X.addEventListener("mousemove",pe),X.addEventListener("mouseup",Ne),X.addEventListener("mouseleave",Ne),()=>{X.removeEventListener("mousedown",se),X.removeEventListener("mousemove",pe),X.removeEventListener("mouseup",Ne),X.removeEventListener("mouseleave",Ne)}},[se,pe,Ne]);const De=K.useMemo(()=>ry(Xe),[Xe]);return o.jsxs("div",{ref:ye,"data-page":f,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ae.width||0,height:Ae.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:F,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:P,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(X=>{const ue=X.position_data?.rects||[],Se=(N??[]).find(ft=>ft.key===X.color),ke=gl[X.color]||gl.yellow,Ze=Se?.hex??ke?.hex??ke?.solid,at=b!=null&&String(X.id)===String(b),vt=x!=null&&String(X.id)===String(x),Vt=at||vt?Mr(Ze,.38):Mr(Ze,.18),dn=T||$;let ge=null;if(ue.length>0){const ft=Math.min(...ue.map(Ot=>Ot.x))*m,Ge=Math.min(...ue.map(Ot=>Ot.y))*m,dt=Math.max(...ue.map(Ot=>(Ot.x||0)+(Ot.width||0)))*m,Zt=Math.max(...ue.map(Ot=>(Ot.y||0)+(Ot.height||4)))*m;ge={left:ft,top:Ge,width:dt-ft,height:Zt-Ge}}return ge?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:ge.left,top:ge.top,width:ge.width,height:ge.height,pointerEvents:"auto"},onMouseEnter:()=>Ee(X.id),onMouseLeave:bt,children:[ue.map((ft,Ge)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(ft.x||0)*m-ge.left,top:(ft.y||0)*m-ge.top,width:Math.max(0,(ft.width||0)*m),height:Math.max(4,(ft.height||0)*m),backgroundColor:Vt,pointerEvents:"none"}},Ge)),dn&&at&&ge&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Ee(X.id),onMouseLeave:bt,children:[T&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),T(X.id,ft)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(Oo,{className:"w-3.5 h-3.5",strokeWidth:2})}),$&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),$(X.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Ui,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},X.id):null}),De.map((X,ue)=>{const Se=Math.min(...X.map(ge=>ge.x)),ke=Math.max(...X.map(ge=>ge.x+ge.w)),Ze=X.map(ge=>ge.y).sort((ge,ft)=>ge-ft),at=Ze[Math.floor(Ze.length/2)],vt=Math.max(...X.map(ge=>ge.h)),Vt=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${Se-1}px`,top:`${at-Vt}px`,width:`${ke-Se+2}px`,height:`${vt+Vt+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},ue)})]}),o.jsx("div",{ref:re,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Cv({highlights:u,colorLabels:f,lensColors:m=[],documentColorKeys:d,activeHighlightId:b,onScrollToPage:x,onHighlightClick:S,onHighlightHover:N,onHighlightHoverEnd:U,onClearActive:R,documentId:B,onHighlightNoteUpdate:T,onHighlightDelete:$,openEditForHighlightId:ye,onClearOpenEditForHighlightId:F}){const re=m?.length>0?m.map(Ee=>Ee.key):d?.length>0?d:wo,[P,Ae]=K.useState("all"),[me,Ce]=K.useState(!1),[ae,ve]=K.useState(""),[be,xe]=K.useState(null),[tt,$e]=K.useState("");K.useEffect(()=>{if(ye==null||!u?.length)return;const Ee=u.find(Xe=>String(Xe.id)===String(ye));Ee&&(xe(Ee.id),$e(Ee.note?.content??"")),F?.()},[ye,u,F]);const ut=K.useMemo(()=>{let Ee=u||[];if(P!=="all"&&(Ee=Ee.filter(Xe=>Xe.color===P)),ae.trim()){const Xe=ae.trim().toLowerCase();Ee=Ee.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(Xe)||Y.note?.content&&Y.note.content.toLowerCase().includes(Xe))}return Ee},[u,P,ae]),He=Ee=>{xe(Ee.id),$e(Ee.note?.content??"")},Je=async()=>{if(be==null||!B||!T){xe(null);return}await T(be,tt.trim()||""),xe(null)},bt=()=>{xe(null),$e("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${In.default} ${Na.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${In.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Ye.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Ye.muted} mb-4`,children:[ut.length," highlight",ut.length!==1?"s":"",u?.length!==ut.length&&` of ${u?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{Ae("all"),R?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${P==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Ye.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ce(Ee=>!Ee),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Ye.secondary} hover:text-slate-800 transition-colors`,children:[me?o.jsx(Ys,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(po,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!me&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:re.map(Ee=>{const Xe=(u||[]).filter(X=>X.color===Ee).length,Y=gl[Ee],pe=m?.find(X=>X.key===Ee)?.hex??Y?.hex??Y?.solid??"#94a3b8",Ne=ti(Ee,f,m),De=P===Ee;return o.jsxs("button",{type:"button",onClick:()=>{Ae(De?"all":Ee),R?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${De?"border-transparent":`border-slate-200 ${Ye.secondary} hover:bg-slate-50`}`,style:De?{backgroundColor:`${pe}25`,color:pe}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:pe,opacity:1}}),o.jsx("span",{children:Ne}),o.jsxs("span",{className:De?"opacity-80":Ye.muted,children:["(",Xe,")"]})]},Ee)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(ly,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:ae,onChange:Ee=>ve(Ee.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${In.default} rounded-lg bg-slate-50 outline-none ${Ye.body} placeholder:${Ye.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:u?.length?ut.length?o.jsx("ul",{className:"space-y-1.5",children:ut.map(Ee=>{const Xe=gl[Ee.color]||gl.yellow,se=m?.find(De=>De.key===Ee.color)?.hex??Xe?.hex??Xe?.solid??"#94a3b8",pe=Ee.note?.content,Ne=b!=null&&String(Ee.id)===String(b);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ne?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(Ee.id),x?.(Ee.page_number)},onKeyDown:De=>{De.target.tagName==="TEXTAREA"||De.target.tagName==="INPUT"||De.target.isContentEditable||(De.key==="Enter"||De.key===" ")&&(De.preventDefault(),S?.(Ee.id),x?.(Ee.page_number))},onMouseEnter:()=>N?.(Ee.id),onMouseLeave:U,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:se,opacity:Ne?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Ye.body} whitespace-pre-wrap`,children:Ee.highlighted_text||"(No text captured)"})})]}),be===Ee.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:tt,onChange:De=>$e(De.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${In.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ye.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:Je,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:bt,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[pe&&o.jsx("p",{className:`text-[11.5px] ${Ye.muted} mt-2 pl-3.5 leading-snug italic`,children:pe}),B&&T&&o.jsx("button",{type:"button",onClick:()=>He(Ee),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:pe?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:se,backgroundColor:`${se}12`},children:ti(Ee.color,f,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Ee.page_number]}),B&&$&&o.jsx("button",{type:"button",onClick:De=>{De.stopPropagation(),$(Ee.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Ui,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Ee.id)})}):o.jsx("div",{className:`py-6 text-center ${Ye.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Ye.muted} text-sm`,children:[o.jsx(vo,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Hf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Av(u,f){return u?.length?[...u].sort((d,b)=>(d.sort_order??0)-(b.sort_order??0)).map((d,b)=>({colorKey:d.key,color:d.hex,shortcut:String(b+1)})):f?.length>0?f.map(m=>Hf.find(d=>d.colorKey===m)).filter(Boolean):Hf}function Ov({position:u,onSelect:f,onClose:m,colorLabels:d,documentColorKeys:b,lensColors:x=[]}){const S=K.useRef(null),N=K.useRef(null),[U,R]=K.useState(null),[B,T]=K.useState(""),[$,ye]=K.useState(!1),[F,re]=K.useState(!1),P=K.useMemo(()=>Av(x,b),[x,b]),Ae=P.length>0?P:Hf,me=K.useCallback(be=>ti(be,d,x),[d,x]);K.useEffect(()=>{$&&N.current&&N.current.focus()},[$]);const Ce=K.useCallback(be=>{R(be.colorKey),$||(f(be.colorKey,""),m())},[$,f,m]),ae=K.useCallback(()=>{U&&(f(U,B.trim()||void 0),m())},[U,B,f,m]);if(K.useEffect(()=>{const be=xe=>{if(xe.key==="Escape"){m();return}if(!$){const tt=parseInt(xe.key,10);if(tt>=1&&tt<=Ae.length){const $e=Ae[tt-1];$e&&Ce($e)}}$&&xe.key==="Enter"&&(xe.metaKey||xe.ctrlKey)&&(xe.preventDefault(),ae())};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[$,U,B,m,Ce,ae,Ae]),K.useEffect(()=>{const be=xe=>{S.current&&!S.current.contains(xe.target)&&m()};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[m]),K.useEffect(()=>{T(""),R(null),ye(!1),re(!1)},[u]),!u)return null;const ve=U?Ae.find(be=>be.colorKey===U):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:u.x,top:u.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:F?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:ve?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:$?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ae.map((be,xe)=>o.jsx("button",{type:"button",onClick:()=>Ce(be),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:U===be.colorKey?`${be.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:be.color,boxShadow:U===be.colorKey?`0 0 0 2px ${be.color}80`:"none",transform:U===be.colorKey?"scale(1.15)":"scale(1)"}})},be.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>ye(!$),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${$?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),$&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!ve&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),ve&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:ve.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:me(ve.colorKey)})]}),o.jsx("textarea",{ref:N,value:B,onChange:be=>T(be.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:ae,disabled:!ve,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Dv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Ap=5;function Tv({lens:u,documentId:f,onClose:m}){const d=Rr(),b=u?.colors??[],x=!u||u.is_system,[S,N]=K.useState(null),[U,R]=K.useState(""),B=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",f]})},T=An({mutationFn:me=>pa.addColor(u.id,me),onSuccess:()=>{B(),N(null),R("")}}),$=An({mutationFn:me=>pa.removeColor(u.id,me),onSuccess:B}),ye=An({mutationFn:({colorId:me,data:Ce})=>pa.updateColor(u.id,me,Ce),onSuccess:B}),F=new Set(b.map(me=>me.hex.toLowerCase())),re=Dv.filter(me=>!F.has(me.toLowerCase())),P=()=>{!S||!U.trim()||T.mutate({key:`custom_${Date.now()}`,display_name:U.trim(),hex:S})},Ae=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Na.surface} rounded-xl shadow-xl border ${In.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:me=>me.stopPropagation(),onMouseDown:me=>me.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Ye.heading}`,children:"Edit lens"}),u&&o.jsx("p",{className:`text-xs ${Ye.muted} mt-0.5`,children:u.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:x?o.jsx("p",{className:`text-sm ${Ye.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Ye.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",b.length,"/",Ap,")"]}),o.jsx("div",{className:"space-y-2",children:b.map(me=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:me.hex}}),o.jsx("input",{type:"text",defaultValue:me.display_name,placeholder:"Label",onBlur:Ce=>{const ae=Ce.target.value.trim();ae&&ae!==me.display_name&&ye.mutate({colorId:me.id,data:{display_name:ae}})},className:`flex-1 min-w-0 rounded-lg border ${In.default} px-2.5 py-1.5 text-sm ${Ye.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),b.length>1&&o.jsx("button",{type:"button",onClick:()=>$.mutate(me.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:$.isPending,children:o.jsx(Bi,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},me.id))}),o.jsx("p",{className:`text-xs ${Ye.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),b.length<Ap&&re.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:U,onChange:me=>R(me.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:me=>{me.key==="Enter"&&P()},className:`flex-1 min-w-0 rounded-lg border ${In.default} px-2.5 py-1.5 text-sm ${Ye.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{N(null),R("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:P,disabled:!U.trim()||T.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:T.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Ye.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(me=>o.jsx("button",{type:"button",onClick:()=>{N(me),R("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:me}},me))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?Ae:D0.createPortal(Ae,document.body)}function Mv({position:u,initialValue:f="",onSave:m,onClose:d}){const[b,x]=K.useState(f),S=K.useRef(null),N=K.useRef(null);return K.useEffect(()=>{x(f)},[f,u]),K.useEffect(()=>{N.current?.focus()},[u]),K.useEffect(()=>{const U=R=>{R.key==="Escape"&&d(),R.key==="Enter"&&(R.metaKey||R.ctrlKey)&&(R.preventDefault(),m(b.trim()))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[b,m,d]),K.useEffect(()=>{const U=R=>{S.current&&!S.current.contains(R.target)&&d()};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]),u?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:u.x,top:u.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:N,value:b,onChange:U=>x(U.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(b.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function zv(){const{id:u}=Kf(),f=qi(),m=Rr(),[d,b]=K.useState(null),[x,S]=K.useState(!1),[N,U]=K.useState(!0),[R,B]=K.useState(1.3),[T,$]=K.useState(!0),[ye,F]=K.useState(null),[re,P]=K.useState(null),[Ae,me]=K.useState(null),[Ce,ae]=K.useState(null),[ve,be]=K.useState(null),[xe,tt]=K.useState(0),[$e,ut]=K.useState(1),[He,Je]=K.useState(!1),[bt,Ee]=K.useState(null),[Xe,Y]=K.useState(null),[se,pe]=K.useState(null),{data:Ne,isLoading:De,isError:X}=Wn({queryKey:["document",u],queryFn:async()=>{const{data:de}=await an.get(u);return de},enabled:!!u});K.useEffect(()=>{if(!Ne||!u)return;let de=!1;return(async()=>{U(!0);try{const ee=await yv(Ne);de||(ee?b(ee.data):S(!0))}finally{de||U(!1)}})(),()=>{de=!0}},[Ne,u]);const{data:ue=[]}=Wn({queryKey:["highlights",u],queryFn:async()=>{const{data:de}=await an.highlights(u);return de},enabled:!!u}),{data:Se=[]}=Wn({queryKey:["lenses"],queryFn:async()=>{const{data:de}=await pa.list();return de}}),ke=K.useMemo(()=>Se.length?Ne?.highlight_preset!=null?Se.find(de=>de.id===Ne.highlight_preset)??null:Se.find(de=>de.is_system)??Se[0]??null:null,[Se,Ne?.highlight_preset]),Ze=K.useMemo(()=>ke?.colors??Ne?.highlight_preset_detail?.colors??[],[ke?.colors,Ne?.highlight_preset_detail?.colors]),at=K.useMemo(()=>{if(Ze?.length)return Ze.map(et=>et.key);const de=Object.keys(Ne?.color_labels||{});return de.length>0?de:[...wo]},[Ze,Ne?.color_labels]),vt=An({mutationFn:({documentId:de,payload:et})=>an.update(de,et),onSuccess:(de,{documentId:et})=>{m.invalidateQueries({queryKey:["document",et]})}}),Vt=K.useCallback(async de=>{if(!u)return;const et=`_opt_${Date.now()}`,ee={id:et,page_number:de.page_number,position_data:de.position_data,highlighted_text:de.highlighted_text,color:de.color,note:de.comment?{id:et,content:de.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",u],(ze=[])=>[...ze,ee]),me(null),ae(null),be(null);try{await an.createHighlight(u,de),m.invalidateQueries({queryKey:["highlights",u]})}catch(ze){console.error("Failed to save highlight",ze),m.setQueryData(["highlights",u],(he=[])=>he.filter(Ve=>Ve.id!==et))}},[u,m]),dn=K.useCallback(de=>{me({page_number:de.pageNumber,position_data:de.position_data,highlighted_text:de.highlighted_text}),ae(de.pickerPosition),be({pageNumber:de.pageNumber,spanStart:de.spanStart,spanEnd:de.spanEnd})},[]),ge=K.useCallback((de,et)=>{Ae&&Vt({...Ae,color:de,comment:et})},[Ae,Vt]),ft=K.useCallback(()=>{me(null),ae(null),be(null)},[]),Ge=K.useCallback(de=>{ut(de),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${de}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),dt=K.useCallback(de=>{P(et=>et!=null&&String(et)===String(de)?null:de)},[]),Zt=K.useCallback(de=>tt(de??0),[]),Ot=K.useCallback(()=>{if($e<=1)return;const de=$e-1;ut(de),Ge(de)},[$e,Ge]),Qn=K.useCallback(()=>{if($e>=xe)return;const de=$e+1;ut(de),Ge(de)},[$e,xe,Ge]),ea=async de=>{const et=de.target.files?.[0];if(!et||!Ne||!u)return;const ee=await et.arrayBuffer(),ze=await Uf(ee);if(ze!==Ne.pdf_hash){alert("This file does not match the original document.");return}try{const he=new FormData;he.append("file",new Blob([ee],{type:"application/pdf"}),et.name||Ne.filename||"document.pdf"),await an.uploadPdf(u,he)}catch(he){const Ve=he.response?.data?.detail??he.message??"Upload failed";alert(typeof Ve=="string"?Ve:JSON.stringify(Ve));return}await Jf(ze,Ne.filename||et.name,et.size,ee),b(ee),S(!1)};return u?De||N?o.jsx("div",{className:`${ki} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ja,{className:`w-8 h-8 ${Ye.muted} animate-spin`})}):X||!Ne&&!De?o.jsxs("div",{className:`${ki} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ye.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ye.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>f(Ne?.project?`/project/${Ne.project}`:"/"),className:Qs,children:"Back to project"})]}):x?o.jsxs("div",{className:`${ki} flex flex-col items-center justify-center`,children:[o.jsx(xo,{className:`w-12 h-12 ${Ye.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Ye.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Ye.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:Ne?.filename}),"."]}),o.jsxs("label",{className:`${Qs} inline-flex items-center gap-2`,children:[o.jsx(xo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ea,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>f(Ne?.project?`/project/${Ne.project}`:"/"),className:`mt-4 text-sm ${Ye.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${Na.page} overflow-hidden`,children:[o.jsxs("header",{className:`${ey} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>f(Ne?.project?`/project/${Ne.project}`:"/"),className:Ls,title:"Back to project",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Ye.heading} truncate max-w-xs`,children:Ne?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Se.length>0&&o.jsx("select",{value:Ne?.highlight_preset!=null?String(Ne.highlight_preset):Se.find(de=>de.is_system)?.id??"",onChange:de=>{const et=de.target.value,ee=et===""?null:Number(et);u&&(ue.length>0?pe(ee):vt.mutate({documentId:u,payload:{highlight_preset:ee}}))},className:`text-xs rounded-lg border ${In.default} ${Na.surface} py-1.5 pl-2 pr-7 ${Ye.body} cursor-pointer max-w-44`,title:"Highlight lens",children:Se.map(de=>o.jsx("option",{value:de.id,children:de.name},de.id))}),o.jsx("button",{type:"button",onClick:()=>Je(!0),className:Ls,title:"Edit lens",children:o.jsx(ev,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>f(`/document/${u}/summary`),className:Ls,title:"Summary",children:o.jsx(Kb,{className:"w-4 h-4"})}),o.jsx("div",{className:vp}),o.jsxs("div",{className:`flex items-center gap-1 ${Na.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>B(de=>Math.max(.5,de-.1)),className:`p-1.5 ${Ye.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(sv,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Ye.secondary} w-12 text-center`,children:[Math.round(R*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>B(de=>Math.min(3,de+.1)),className:`p-1.5 ${Ye.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(iv,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:vp}),o.jsx("button",{type:"button",onClick:()=>$(de=>!de),className:Ls,title:T?"Close annotations":"Open annotations",children:T?o.jsx(Zb,{className:"w-4 h-4"}):o.jsx(Jb,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(_v,{pdfData:d,scale:R,highlights:ue,hoveredHighlightId:ye,activeHighlightId:re,selectionForPicker:ve,lensColors:Ze,onSelectionComplete:dn,onNumPages:Zt,onHighlightHover:F,onHighlightHoverEnd:()=>F(null),onHighlightEdit:(de,et)=>{const ee=et?.target?.getBoundingClientRect?.();ee?Y({highlightId:de,x:ee.left+ee.width/2,y:ee.bottom}):(Ee(de),$(!0))},onHighlightDelete:async de=>{if(!u)return;const et=m.getQueryData(["highlights",u]);m.setQueryData(["highlights",u],(ee=[])=>ee.filter(ze=>String(ze.id)!==String(de))),String(re)===String(de)&&P(null),String(ye)===String(de)&&F(null);try{await an.deleteHighlight(u,de),m.invalidateQueries({queryKey:["highlights",u]})}catch(ee){console.error("Failed to delete highlight",ee),m.setQueryData(["highlights",u],et)}}}),Ce&&o.jsx(Ov,{position:Ce,onSelect:ge,onClose:ft,colorLabels:Ne?.color_labels,documentColorKeys:at,lensColors:Ze}),Xe&&o.jsx(Mv,{position:{x:Xe.x,y:Xe.y},initialValue:(ue||[]).find(de=>String(de.id)===String(Xe.highlightId))?.note?.content??"",onSave:async de=>{u&&(await an.updateHighlight(u,Xe.highlightId,{note:de}),m.invalidateQueries({queryKey:["highlights",u]}),Y(null))},onClose:()=>Y(null)}),He&&o.jsx(Tv,{lens:ke,documentId:u,onClose:()=>Je(!1)}),se!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>pe(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:de=>de.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:ue.length})," highlight",ue.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>pe(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const de=se;pe(null);for(const et of ue)await an.deleteHighlight(u,et.id);m.invalidateQueries({queryKey:["highlights",u]}),P(null),F(null),vt.mutate({documentId:u,payload:{highlight_preset:de}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),T&&o.jsx(Cv,{highlights:ue,colorLabels:Ne?.color_labels,lensColors:Ze,documentColorKeys:at,activeHighlightId:re,onScrollToPage:Ge,onHighlightClick:dt,onHighlightHover:F,onHighlightHoverEnd:()=>F(null),onClearActive:()=>P(null),documentId:u,openEditForHighlightId:bt,onClearOpenEditForHighlightId:()=>Ee(null),onHighlightNoteUpdate:async(de,et)=>{u&&(await an.updateHighlight(u,de,{note:et}),m.invalidateQueries({queryKey:["highlights",u]}))},onHighlightDelete:async de=>{u&&(await an.deleteHighlight(u,de),m.invalidateQueries({queryKey:["highlights",u]}),String(re)===String(de)&&P(null),String(ye)===String(de)&&F(null))}})]}),xe>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${T?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:Ot,disabled:$e<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",$e," of ",xe]}),o.jsx("button",{type:"button",onClick:Qn,disabled:$e>=xe,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(f("/",{replace:!0}),null)}const kv="modulepreload",Rv=function(u){return"/static/frontend/"+u},Op={},co=function(f,m,d){let b=Promise.resolve();if(m&&m.length>0){let U=function(R){return Promise.all(R.map(B=>Promise.resolve(B).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),N=S?.nonce||S?.getAttribute("nonce");b=U(m.map(R=>{if(R=Rv(R),R in Op)return;Op[R]=!0;const B=R.endsWith(".css"),T=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${R}"]${T}`))return;const $=document.createElement("link");if($.rel=B?"stylesheet":kv,B||($.as="script"),$.crossOrigin="",$.href=R,N&&$.setAttribute("nonce",N),document.head.appendChild($),B)return new Promise((ye,F)=>{$.addEventListener("load",ye),$.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${R}`)))})}))}function x(S){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=S,window.dispatchEvent(N),!N.defaultPrevented)throw S}return b.then(S=>{for(const N of S||[])N.status==="rejected"&&x(N.reason);return f().catch(x)})};function Lf(u,f){return f?.find(m=>m.key===u)?.hex??gl[u]?.hex??"#94a3b8"}function Df({highlight:u,selected:f,onToggleSelect:m,lensColors:d,colorLabels:b,editingNoteId:x,editingNoteValue:S,onStartEdit:N,onSaveNote:U,onCancelEdit:R,onEditValueChange:B,onCopy:T,onDelete:$}){const ye=u.color,F=Lf(ye,d),re=ti(ye,b,d),P=x===u.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${f?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:f,onChange:()=>m(u.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Ye.body} whitespace-pre-wrap`,children:u.highlighted_text||"(No text captured)"}),P?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:Ae=>B(Ae.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${In.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ye.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>U(u.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(Bf,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:R,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(Bi,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[u.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Ye.muted} mt-2 leading-snug italic`,children:u.note.content}),o.jsxs("button",{type:"button",onClick:()=>N(u),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(Oo,{className:"w-3 h-3"}),u.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:F,backgroundColor:Mr(F,.08)},children:re}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",u.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>T(u),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(ny,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>$(u.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(Ui,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Bv(){const{id:u}=Kf(),f=qi(),m=Rr(),[d,b]=K.useState("sequence"),[x,S]=K.useState(""),[N,U]=K.useState(new Set),[R,B]=K.useState(new Set),[T,$]=K.useState(()=>new Set),[ye,F]=K.useState(!1),[re,P]=K.useState(!1),[Ae,me]=K.useState(null),[Ce,ae]=K.useState(!1),[ve,be]=K.useState(!1),[xe,tt]=K.useState(null),[$e,ut]=K.useState(""),{data:He,isLoading:Je,isError:bt}=Wn({queryKey:["document",u],queryFn:async()=>{const{data:ee}=await an.get(u);return ee},enabled:!!u}),{data:Ee=[]}=Wn({queryKey:["highlights",u],queryFn:async()=>{const{data:ee}=await an.highlights(u);return ee},enabled:!!u}),{data:Xe=[]}=Wn({queryKey:["lenses"],queryFn:async()=>{const{data:ee}=await pa.list();return ee}}),Y=K.useMemo(()=>Xe.length?He?.highlight_preset!=null?Xe.find(ee=>ee.id===He.highlight_preset)??null:Xe.find(ee=>ee.is_system)??Xe[0]??null:null,[Xe,He?.highlight_preset]),se=K.useMemo(()=>Y?.colors??He?.highlight_preset_detail?.colors??[],[Y?.colors,He?.highlight_preset_detail?.colors]),pe=K.useMemo(()=>{if(se?.length)return se.map(ze=>ze.key);const ee=Object.keys(He?.color_labels||{});return ee.length>0?ee:[...wo]},[se,He?.color_labels]);An({mutationFn:({documentId:ee,highlightId:ze})=>an.deleteHighlight(ee,ze),onSuccess:(ee,{documentId:ze})=>{m.invalidateQueries({queryKey:["highlights",ze]})}});const Ne=An({mutationFn:({documentId:ee,highlightId:ze,note:he})=>an.updateHighlight(ee,ze,{note:he}),onSuccess:(ee,{documentId:ze})=>{m.invalidateQueries({queryKey:["highlights",ze]})}}),De=K.useMemo(()=>{let ee=Ee||[];const ze=x.trim().toLowerCase();return ze&&(ee=ee.filter(he=>he.highlighted_text&&he.highlighted_text.toLowerCase().includes(ze)||he.note?.content&&he.note.content.toLowerCase().includes(ze))),N.size>0&&(ee=ee.filter(he=>N.has(he.color))),ee},[Ee,x,N]),X=K.useMemo(()=>De,[De]),ue=K.useMemo(()=>{const ee={};for(const ze of De){const he=ze.color??"uncategorized";ee[he]||(ee[he]=[]),ee[he].push(ze)}return ee},[De]),Se=K.useMemo(()=>{const ee={};for(const he of De){const Ve=`page-${he.page_number??0}`;ee[Ve]||(ee[Ve]=[]),ee[Ve].push(he)}return Object.keys(ee).sort((he,Ve)=>parseInt(he.replace("page-",""),10)-parseInt(Ve.replace("page-",""),10)).map(he=>({key:he,page:parseInt(he.replace("page-",""),10),items:ee[he]}))},[De]),ke=K.useCallback(ee=>{U(ze=>{const he=new Set(ze);return he.has(ee)?he.delete(ee):he.add(ee),he})},[]),Ze=K.useCallback(ee=>{B(ze=>{const he=new Set(ze);return he.has(ee)?he.delete(ee):he.add(ee),he})},[]),at=K.useCallback(ee=>{$(ze=>{const he=new Set(ze),Ve=String(ee);return he.has(Ve)?he.delete(Ve):he.add(Ve),he})},[]),vt=K.useCallback(async()=>{const ze=Ee.filter(he=>T.has(String(he.id))).map(he=>`${he.highlighted_text||""}${he.note?.content?`
  Note: ${he.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(ze),F(!0),setTimeout(()=>F(!1),2e3)}catch(he){console.error("Failed to copy",he)}},[Ee,T]),Vt=K.useCallback(async()=>{u&&ae(!0)},[u]),dn=K.useCallback(async()=>{if(u){be(!0);try{for(const ee of T)await an.deleteHighlight(u,ee);m.invalidateQueries({queryKey:["highlights",u]}),$(new Set),ae(!1)}catch(ee){console.error("Failed to delete highlights",ee)}finally{be(!1)}}},[u,T,m]),ge=K.useCallback(()=>{const ee={filename:He?.filename,exportedAt:new Date().toISOString(),highlights:De.map(lt=>({id:lt.id,page_number:lt.page_number,color:lt.color,highlighted_text:lt.highlighted_text,note:lt.note?.content,created_at:lt.created_at,updated_at:lt.updated_at}))},ze=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),he=URL.createObjectURL(ze),Ve=window.document.createElement("a");Ve.href=he,Ve.download=`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,Ve.click(),URL.revokeObjectURL(he),P(!1)},[He?.filename,De]),ft=K.useCallback(async()=>{try{const{Document:ee,Packer:ze,Paragraph:he,TextRun:Ve}=await co(async()=>{const{Document:rn,Packer:Dn,Paragraph:Me,TextRun:Le}=await import("./index-CMhXIFeh.js");return{Document:rn,Packer:Dn,Paragraph:Me,TextRun:Le}},[]),{saveAs:lt}=await co(async()=>{const{saveAs:rn}=await import("./FileSaver.min-rgW_m_5v.js").then(Dn=>Dn.F);return{saveAs:rn}},__vite__mapDeps([0,1])),gt=[new he({children:[new Ve({text:He?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const rn of De){const Dn=ti(rn.color,He?.color_labels,se);gt.push(new he({children:[new Ve({text:`[${Dn}] p.${rn.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new he({children:[new Ve({text:rn.highlighted_text||"",size:22})],spacing:{after:60}})),rn.note?.content&&gt.push(new he({children:[new Ve({text:`Note: ${rn.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ee({sections:[{children:gt}]}),mn=await ze.toBlob(Et);lt(mn,`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),P(!1)}catch(ee){console.error("Export docx failed",ee)}},[He?.filename,He?.color_labels,De,se]),Ge=K.useCallback(async()=>{try{const{jsPDF:ee}=await co(async()=>{const{jsPDF:gt}=await import("./jspdf.es.min-Cok0u1VG.js").then(Et=>Et.j);return{jsPDF:gt}},[]),{saveAs:ze}=await co(async()=>{const{saveAs:gt}=await import("./FileSaver.min-rgW_m_5v.js").then(Et=>Et.F);return{saveAs:gt}},__vite__mapDeps([0,1])),he=new ee;let Ve=20;he.setFontSize(16),he.text(He?.filename??"Document Summary",20,Ve),Ve+=12;for(const gt of De){const Et=ti(gt.color,He?.color_labels,se);Ve>270&&(he.addPage(),Ve=20),he.setFontSize(10),he.setFont(void 0,"bold"),he.text(`[${Et}] p.${gt.page_number}`,20,Ve),Ve+=6,he.setFont(void 0,"normal");const mn=he.splitTextToSize(gt.highlighted_text||"",170);he.text(mn,20,Ve),Ve+=mn.length*5+4,gt.note?.content&&(he.setFont(void 0,"italic"),he.text(`Note: ${gt.note.content}`,20,Ve),Ve+=6,he.setFont(void 0,"normal")),Ve+=8}const lt=he.output("blob");ze(lt,`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),P(!1)}catch(ee){console.error("Export pdf failed",ee)}},[He?.filename,He?.color_labels,De,se]),dt=ee=>{tt(ee.id),ut(ee.note?.content??"")},Zt=ee=>{u&&(Ne.mutate({documentId:u,highlightId:ee,note:$e.trim()||""}),tt(null),ut(""))},Ot=()=>{tt(null),ut("")},Qn=ee=>{const ze=`${ee.highlighted_text||""}${ee.note?.content?`
  Note: ${ee.note.content}`:""}`;navigator.clipboard?.writeText(ze).catch(console.error)},ea=ee=>{me(ee)},de=K.useCallback(async()=>{!u||!Ae||(await an.deleteHighlight(u,Ae),m.invalidateQueries({queryKey:["highlights",u]}),$(ee=>{const ze=new Set(ee);return ze.delete(String(Ae)),ze}),me(null))},[u,Ae,m]);if(!u)return f("/",{replace:!0}),null;if(Je)return o.jsx("div",{className:`${ki} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ja,{className:`w-8 h-8 ${Ye.muted} animate-spin`})});if(bt||!He&&!Je)return o.jsxs("div",{className:`${ki} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ye.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ye.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>f(He?.project?`/project/${He.project}`:"/"),className:Qs,children:"Back to project"})]});const et=se?.length>0?se.map(ee=>ee.key):pe?.length>0?pe:wo;return o.jsxs("div",{className:`min-h-screen ${Na.page}`,children:[o.jsx("header",{className:`${ey} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>f(He?.project?`/project/${He.project}`:`/document/${u}`),className:Ls,title:"Back",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Ye.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Ye.muted} truncate max-w-xs`,children:He?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ee,label:ze})=>o.jsx("button",{type:"button",onClick:()=>b(ee),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ee?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Ye.secondary} hover:text-slate-700`}`,children:ze},ee))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(ly,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:x,onChange:ee=>S(ee.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${In.default} rounded-lg ${Na.surface} outline-none ${Ye.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>P(ee=>!ee),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${In.default} ${Na.surface} hover:bg-slate-50 ${Ye.body}`,children:["Export",o.jsx(po,{className:"w-4 h-4"})]}),re&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>P(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${In.default} ${Na.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:ft,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(vo,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Ge,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Hb,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:ge,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(zb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),T.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Ye.secondary}`,children:[T.size," selected"]}),o.jsxs("button",{type:"button",onClick:vt,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(ny,{className:"w-3.5 h-3.5"}),ye?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Vt,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(Ui,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>$(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(Bi,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:et.map(ee=>{const ze=(Ee||[]).filter(gt=>gt.color===ee).length;if(!ze)return null;const he=Lf(ee,se),Ve=ti(ee,He?.color_labels,se),lt=N.size===0||N.has(ee);return o.jsxs("button",{type:"button",onClick:()=>ke(ee),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:lt?he:"#E2E8F0",background:lt?Mr(he,.08):"#fff",opacity:lt?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:he}}),o.jsx("span",{children:Ve}),o.jsxs("span",{className:"opacity-80",children:["(",ze,")"]})]},ee)})}),o.jsx("div",{className:"space-y-4",children:De.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:X.map(ee=>o.jsx("li",{children:o.jsx(Df,{highlight:ee,selected:T.has(String(ee.id)),onToggleSelect:at,lensColors:se,colorLabels:He?.color_labels,editingNoteId:xe,editingNoteValue:$e,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:ut,onCopy:Qn,onDelete:ea})},ee.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(ue).map(([ee,ze])=>{const he=Lf(ee,se),Ve=ti(ee,He?.color_labels,se),lt=`topic-${ee}`,gt=R.has(lt);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:Mr(he,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>Ze(lt),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:Mr(he,.1)},children:[gt?o.jsx(Ys,{className:"w-4 h-4 shrink-0"}):o.jsx(po,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:he},children:Ve}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",ze.length,")"]})]}),!gt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ze.map(Et=>o.jsx("li",{children:o.jsx(Df,{highlight:Et,selected:T.has(String(Et.id)),onToggleSelect:at,lensColors:se,colorLabels:He?.color_labels,editingNoteId:xe,editingNoteValue:$e,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:ut,onCopy:Qn,onDelete:ea})},Et.id))})]},ee)})}):o.jsx("div",{className:"space-y-4",children:Se.map(({key:ee,page:ze,items:he})=>{const Ve=`page-${ze}`,lt=R.has(Ve);return o.jsxs("div",{className:`border ${In.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>Ze(Ve),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[lt?o.jsx(Ys,{className:"w-4 h-4 shrink-0"}):o.jsx(po,{className:"w-4 h-4 shrink-0"}),"Page ",ze,o.jsxs("span",{className:`text-xs ${Ye.muted}`,children:["(",he.length,")"]})]}),!lt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:he.map(gt=>o.jsx("li",{children:o.jsx(Df,{highlight:gt,selected:T.has(String(gt.id)),onToggleSelect:at,lensColors:se,colorLabels:He?.color_labels,editingNoteId:xe,editingNoteValue:$e,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:ut,onCopy:Qn,onDelete:ea})},gt.id))})]},ee)})}):o.jsxs("div",{className:`py-12 text-center ${Ye.muted} text-sm`,children:[o.jsx(vo,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),Ae&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>me(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ee=>ee.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>me(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:de,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),Ce&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!ve&&ae(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ee=>ee.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",T.size," highlight",T.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ae(!1),disabled:ve,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:ve,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[ve&&o.jsx(ja,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function qv({onClose:u,onConfirm:f,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:u,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:f,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ja,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Uv(){const u=qi(),f=bl(B=>B.logout),[m,d]=K.useState(!1),[b,x]=K.useState(!1),[S,N]=K.useState(""),U=()=>{f(),u("/login",{replace:!0})},R=async()=>{N(""),x(!0);try{await kr.deleteAccount(),f(),u("/",{replace:!0})}catch(B){N(B.response?.data?.detail||B.message||"Something went wrong."),x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>u("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:o.jsx(Ao,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsx("button",{type:"button",onClick:U,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:o.jsx(Zf,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(iy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx(qv,{onClose:()=>!b&&d(!1),onConfirm:R,isDeleting:b})]})}const Hv=new N0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function Hs({children:u}){return bl(m=>m.token)?u:o.jsx(go,{to:"/login",replace:!0})}function Dp({children:u}){return bl(m=>m.token)?o.jsx(go,{to:"/app",replace:!0}):u}function Lv(){return o.jsx(_0,{client:Hv,children:o.jsx(T0,{children:o.jsxs(M0,{children:[o.jsx(pl,{path:"/login",element:o.jsx(Dp,{children:o.jsx(Nb,{})})}),o.jsx(pl,{path:"/register",element:o.jsx(Dp,{children:o.jsx(_b,{})})}),o.jsx(pl,{path:"/",element:o.jsx(go,{to:"/app",replace:!0})}),o.jsx(pl,{path:"/app",element:o.jsx(Hs,{children:o.jsx(fv,{})})}),o.jsx(pl,{path:"/app/settings",element:o.jsx(Hs,{children:o.jsx(Uv,{})})}),o.jsx(pl,{path:"/project/:projectId",element:o.jsx(Hs,{children:o.jsx(vv,{})})}),o.jsx(pl,{path:"/document/:id",element:o.jsx(Hs,{children:o.jsx(zv,{})})}),o.jsx(pl,{path:"/document/:id/summary",element:o.jsx(Hs,{children:o.jsx(Bv,{})})}),o.jsx(pl,{path:"*",element:o.jsx(go,{to:"/app",replace:!0})})]})})})}L0.createRoot(document.getElementById("root")).render(o.jsx(K.StrictMode,{children:o.jsx(Lv,{})}));export{co as _};
