const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as c,u as Rr,a as Zn,b as Cn,Q as S0,c as w0}from"./query-CQ1uvarX.js";import{a as j0,b as N0,R as so,u as Bi,r as Q,L as Tp,c as _0,g as E0,d as Uf,e as C0,B as A0,f as O0,h as dl,N as po}from"./react-OW7IPSYu.js";import{G as T0,g as D0,U as M0}from"./pdf-omjxc98r.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const v of S.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function m(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function d(g){if(g.ep)return;g.ep=!0;const S=m(g);fetch(g.href,S)}})();var wf={exports:{}},Bs={},jf={exports:{}},Nf={};var $m;function z0(){return $m||($m=1,(function(u){function o(Y,pe){var ye=Y.length;Y.push(pe);e:for(;0<ye;){var Ne=ye-1>>>1,ke=Y[Ne];if(0<g(ke,pe))Y[Ne]=pe,Y[ye]=ke,ye=Ne;else break e}}function m(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var pe=Y[0],ye=Y.pop();if(ye!==pe){Y[0]=ye;e:for(var Ne=0,ke=Y.length,X=ke>>>1;Ne<X;){var se=2*(Ne+1)-1,je=Y[se],Me=se+1,Fe=Y[Me];if(0>g(je,ye))Me<ke&&0>g(Fe,je)?(Y[Ne]=Fe,Y[Me]=ye,Ne=Me):(Y[Ne]=je,Y[se]=ye,Ne=se);else if(Me<ke&&0>g(Fe,ye))Y[Ne]=Fe,Y[Me]=ye,Ne=Me;else break e}}return pe}function g(Y,pe){var ye=Y.sortIndex-pe.sortIndex;return ye!==0?ye:Y.id-pe.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;u.unstable_now=function(){return S.now()}}else{var v=Date,N=v.now();u.unstable_now=function(){return v.now()-N}}var q=[],C=[],M=1,R=null,$=3,he=!1,G=!1,le=!1,F=!1,Ae=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function ee(Y){for(var pe=m(C);pe!==null;){if(pe.callback===null)d(C);else if(pe.startTime<=Y)d(C),pe.sortIndex=pe.expirationTime,o(q,pe);else break;pe=m(C)}}function xe(Y){if(le=!1,ee(Y),!G)if(m(q)!==null)G=!0,me||(me=!0,Le());else{var pe=m(C);pe!==null&&Qe(xe,pe.startTime-Y)}}var me=!1,Se=-1,Pe=5,Ke=-1;function ot(){return F?!0:!(u.unstable_now()-Ke<Pe)}function bt(){if(F=!1,me){var Y=u.unstable_now();Ke=Y;var pe=!0;try{e:{G=!1,le&&(le=!1,ue(Se),Se=-1),he=!0;var ye=$;try{t:{for(ee(Y),R=m(q);R!==null&&!(R.expirationTime>Y&&ot());){var Ne=R.callback;if(typeof Ne=="function"){R.callback=null,$=R.priorityLevel;var ke=Ne(R.expirationTime<=Y);if(Y=u.unstable_now(),typeof ke=="function"){R.callback=ke,ee(Y),pe=!0;break t}R===m(q)&&d(q),ee(Y)}else d(q);R=m(q)}if(R!==null)pe=!0;else{var X=m(C);X!==null&&Qe(xe,X.startTime-Y),pe=!1}}break e}finally{R=null,$=ye,he=!1}pe=void 0}}finally{pe?Le():me=!1}}}var Le;if(typeof ve=="function")Le=function(){ve(bt)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,we=at.port2;at.port1.onmessage=bt,Le=function(){we.postMessage(null)}}else Le=function(){Ae(bt,0)};function Qe(Y,pe){Se=Ae(function(){Y(u.unstable_now())},pe)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Y){Y.callback=null},u.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<Y?Math.floor(1e3/Y):5},u.unstable_getCurrentPriorityLevel=function(){return $},u.unstable_next=function(Y){switch($){case 1:case 2:case 3:var pe=3;break;default:pe=$}var ye=$;$=pe;try{return Y()}finally{$=ye}},u.unstable_requestPaint=function(){F=!0},u.unstable_runWithPriority=function(Y,pe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=$;$=Y;try{return pe()}finally{$=ye}},u.unstable_scheduleCallback=function(Y,pe,ye){var Ne=u.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ne+ye:Ne):ye=Ne,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ye+ke,Y={id:M++,callback:pe,priorityLevel:Y,startTime:ye,expirationTime:ke,sortIndex:-1},ye>Ne?(Y.sortIndex=ye,o(C,Y),m(q)===null&&Y===m(C)&&(le?(ue(Se),Se=-1):le=!0,Qe(xe,ye-Ne))):(Y.sortIndex=ke,o(q,Y),G||he||(G=!0,me||(me=!0,Le()))),Y},u.unstable_shouldYield=ot,u.unstable_wrapCallback=function(Y){var pe=$;return function(){var ye=$;$=pe;try{return Y.apply(this,arguments)}finally{$=ye}}}})(Nf)),Nf}var Pm;function R0(){return Pm||(Pm=1,jf.exports=z0()),jf.exports}var Wm;function k0(){if(Wm)return Bs;Wm=1;var u=R0(),o=j0(),m=N0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(S(e)!==e)throw Error(d(188))}function C(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return q(i),e;if(r===a)return q(i),t;r=r.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,x=i.child;x;){if(x===n){p=!0,n=i,a=r;break}if(x===a){p=!0,a=i,n=r;break}x=x.sibling}if(!p){for(x=r.child;x;){if(x===n){p=!0,n=r,a=i;break}if(x===a){p=!0,a=r,n=i;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function M(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M(e),t!==null)return t;e=e.sibling}return null}var R=Object.assign,$=Symbol.for("react.element"),he=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),bt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=bt&&e[bt]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case Ae:return"Profiler";case F:return"StrictMode";case xe:return"Suspense";case me:return"SuspenseList";case Ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ve:return e.displayName||"Context";case ue:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var Qe=Array.isArray,Y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ne=[],ke=-1;function X(e){return{current:e}}function se(e){0>ke||(e.current=Ne[ke],Ne[ke]=null,ke--)}function je(e,t){ke++,Ne[ke]=e.current,e.current=t}var Me=X(null),Fe=X(null),Ie=X(null),ae=X(null);function be(e,t){switch(je(Ie,t),je(Fe,e),je(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(Me),je(Me,e)}function qe(){se(Me),se(Fe),se(Ie)}function oe(e){e.memoizedState!==null&&je(ae,e);var t=Me.current,n=xm(t,e.type);t!==n&&(je(Fe,e),je(Me,n))}function Ve(e){Fe.current===e&&(se(Me),se(Fe)),ae.current===e&&(se(ae),Ms._currentValue=ye)}var Ue,mt;function Wt(e){if(Ue===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",mt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+mt}var qt=!1;function ka(e,t){if(!e||qt)return"";qt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(I){var P=I}Reflect.construct(e,[],re)}else{try{re.call()}catch(I){P=I}e.call(re.prototype)}}else{try{throw Error()}catch(I){P=I}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(I){if(I&&P&&typeof I.stack=="string")return[I.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],x=r[1];if(p&&x){var _=p.split(`
`),Z=x.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<Z.length&&!Z[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===Z.length)for(a=_.length-1,i=Z.length-1;1<=a&&0<=i&&_[a]!==Z[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==Z[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==Z[i]){var ne=`
`+_[a].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=a&&0<=i);break}}}finally{qt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Wt(n):""}function yl(e,t){switch(e.tag){case 26:case 27:case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return e.child!==t&&t!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ka(e.type,!1);case 11:return ka(e.type.render,!1);case 1:return ka(e.type,!0);case 31:return Wt("Activity");default:return""}}function ge(e){try{var t="",n=null;do t+=yl(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var rt=Object.prototype.hasOwnProperty,kt=u.unstable_scheduleCallback,It=u.unstable_cancelCallback,Bn=u.unstable_shouldYield,qn=u.unstable_requestPaint,rn=u.unstable_now,ba=u.unstable_getCurrentPriorityLevel,un=u.unstable_ImmediatePriority,Un=u.unstable_UserBlockingPriority,va=u.unstable_NormalPriority,Ba=u.unstable_LowPriority,De=u.unstable_IdlePriority,Ge=u.log,vt=u.unstable_setDisableYieldValue,Dt=null,wt=null;function Mt(e){if(typeof Ge=="function"&&vt(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Dt,e)}catch{}}var Ce=Math.clz32?Math.clz32:qi,ca=Math.log,qa=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-(ca(e)/qa|0)|0}var Oe=256,gl=262144,ti=4194304;function fa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~r,a!==0?i=fa(a):(p&=x,p!==0?i=fa(p):n||(n=x&~e,n!==0&&(i=fa(n))))):(x=a&~r,x!==0?i=fa(x):p!==0?i=fa(p):n||(n=a&~e,n!==0&&(i=fa(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Br(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,Z=e.hiddenUpdates;for(n=p&~n;0<n;){var ne=31-Ce(n),re=1<<ne;x[ne]=0,_[ne]=-1;var P=Z[ne];if(P!==null)for(Z[ne]=null,ne=0;ne<P.length;ne++){var I=P[ne];I!==null&&(I.lane&=-536870913)}n&=~re}a!==0&&ai(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function ai(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ce(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function zt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ce(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Vt(e,t){var n=t&-t;return n=(n&42)!==0?1:qr(n),(n&(e.suspendedLanes|t))!==0?0:n}function qr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function li(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ii(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var Sa=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Sa,Ft="__reactProps$"+Sa,Nn="__reactContainer$"+Sa,vl="__reactEvents$"+Sa,Oo="__reactListeners$"+Sa,wa="__reactHandles$"+Sa,Ur="__reactResources$"+Sa,Hn="__reactMarker$"+Sa;function Ui(e){delete e[Bt],delete e[Ft],delete e[vl],delete e[Oo],delete e[wa]}function ja(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cm(e);e!==null;){if(n=e[Bt])return n;e=Cm(e)}return t}e=n,n=e.parentNode}return null}function Et(e){if(e=e[Bt]||e[Nn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ln(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function vn(e){var t=e[Ur];return t||(t=e[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Zt(e){e[Hn]=!0}var Ha=new Set,ri={};function da(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(ri[e]=t,e=0;e<t.length;e++)Ha.add(t[e])}var La=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},si={};function Js(e){return rt.call(si,e)?!0:rt.call(Hr,e)?!1:La.test(e)?si[e]=!0:(Hr[e]=!0,!1)}function lt(e,t,n){if(Js(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ui(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $n(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $s(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){if(!e._valueTracker){var t=xl(e)?"checked":"value";e._valueTracker=$s(e,t,""+e[t])}}function Lr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function xt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oi=/[\n"\\]/g;function on(e){return e.replace(oi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _a(e,t,n,a,i,r,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mn(t)):e.value!==""+mn(t)&&(e.value=""+mn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ci(e,p,mn(t)):n!=null?ci(e,p,mn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+mn(x):e.removeAttribute("name")}function Li(e,t,n,a,i,r,p,x){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Hi(e);return}n=n!=null?""+mn(n):"",t=t!=null?""+mn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hi(e)}function ci(e,t,n){t==="number"&&xt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ha(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kr(e,t,n){if(t!=null&&(t=""+mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mn(n):""}function fi(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Qe(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=mn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Hi(e)}function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||To.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&dt(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&dt(e,r,t[r])}function Qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return _n.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var Pn=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ut=null;function Kn(e){var t=Et(e);if(t&&(e=t.stateNode)){var n=e[Ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(_a(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ft]||null;if(!i)throw Error(d(90));_a(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Lr(a)}break e;case"textarea":Kr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ha(e,!!n.multiple,t,!1)}}}var Qa=!1;function Sl(e,t,n){if(Qa)return e(t,n);Qa=!0;try{var a=e(t);return a}finally{if(Qa=!1,(Ya!==null||Ut!==null)&&(Hu(),Ya&&(t=Ya,e=Ut,Ut=Ya=null,Kn(t),e)))for(t=0;t<e.length;t++)Kn(e[t])}}function Xa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ft]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(cn)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Xr=!1}var Wn=null,Yi=null,wl=null;function jl(){if(wl)return wl;var e,t=Yi,n=t.length,a,i="value"in Wn?Wn.value:Wn.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return wl=i.slice(e,1<a?1-a:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Ps(){return!1}function en(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(r):r[x]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?di:Ps,this.isPropagationStopped=Ps,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=en(Ga),Ea=R({},Ga,{view:0,detail:0}),Xi=en(Ea),hi,Gr,mi,Gi=R({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hi=e.screenX-mi.screenX,Gr=e.screenY-mi.screenY):Gr=hi=0,mi=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:Gr}}),Vi=en(Gi),Vr=R({},Gi,{dataTransfer:0}),Ws=en(Vr),Fi=R({},Ea,{relatedTarget:0}),_l=en(Fi),Zi=R({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=en(Zi),Mo=R({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),El=en(Mo),Fr=R({},Ga,{data:0}),Ji=en(Fr),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fn[e])?!!t[e]:!1}function Va(){return pi}var eu=R({},Ea,{key:function(e){if(e.key){var t=Zr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=en(eu),tu=R({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=en(tu),Pi=R({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Pr=en(Pi),Fa=R({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wr=en(Fa),Ir=R({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wi=en(Ir),es=R({},Ga,{newState:0,oldState:0}),nu=en(es),zo=[9,13,27,32],yi=cn&&"CompositionEvent"in window,Ca=null;cn&&"documentMode"in document&&(Ca=document.documentMode);var Ro=cn&&"TextEvent"in window&&!Ca,Ii=cn&&(!yi||Ca&&8<Ca&&11>=Ca),er=" ",au=!1;function ts(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function iu(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(au=!0,er);case"textInput":return e=t.data,e===er&&au?null:e;default:return null}}function ko(e,t){if(Za)return e==="compositionend"||!yi&&ts(e,t)?(e=jl(),wl=Yi=Wn=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ru[e.type]:t==="textarea"}function ns(e,t,n,a){Ya?Ut?Ut.push(a):Ut=[a]:Ya=a,t=Vu(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Cl=null,gi=null;function Bo(e){hm(e,0)}function nr(e){var t=Ln(e);if(Lr(t))return e}function bi(e,t){if(e==="change")return t}var In=!1;if(cn){var Ht;if(cn){var Al="oninput"in document;if(!Al){var Ja=document.createElement("div");Ja.setAttribute("oninput","return;"),Al=typeof Ja.oninput=="function"}Ht=Al}else Ht=!1;In=Ht&&(!document.documentMode||9<document.documentMode)}function su(){Cl&&(Cl.detachEvent("onpropertychange",ar),gi=Cl=null)}function ar(e){if(e.propertyName==="value"&&nr(gi)){var t=[];ns(t,gi,e,Ki(e)),Sl(Bo,t)}}function uu(e,t,n){e==="focusin"?(su(),Cl=t,gi=n,Cl.attachEvent("onpropertychange",ar)):e==="focusout"&&su()}function $a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(gi)}function as(e,t){if(e==="click")return nr(t)}function Ol(e,t){if(e==="input"||e==="change")return nr(t)}function Aa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Aa;function l(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!rt.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=s(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=cn&&"documentMode"in document&&11>=document.documentMode,j=null,A=null,H=null,O=!1;function E(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O||j==null||j!==xt(a)||(a=j,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),H&&l(H,a)||(H=a,a=Vu(A,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionrun:z("Transition","TransitionRun"),transitionstart:z("Transition","TransitionStart"),transitioncancel:z("Transition","TransitionCancel"),transitionend:z("Transition","TransitionEnd")},T={},D={};cn&&(D=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function K(e){if(T[e])return T[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in D)return T[e]=t[n];return e}var J=K("animationend"),L=K("animationiteration"),te=K("animationstart"),ce=K("transitionrun"),_e=K("transitionstart"),Ee=K("transitioncancel"),fe=K("transitionend"),ze=new Map,Te="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Te.push("scrollEnd");function de(e,t){ze.set(e,t),da(t,[e])}var Re=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$e=[],it=0,Ye=0;function We(){for(var e=it,t=Ye=it=0;t<e;){var n=$e[t];$e[t++]=null;var a=$e[t];$e[t++]=null;var i=$e[t];$e[t++]=null;var r=$e[t];if($e[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&Oa(n,i,r)}}function Ct(e,t,n,a){$e[it++]=e,$e[it++]=t,$e[it++]=n,$e[it++]=a,Ye|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wn(e,t,n,a){return Ct(e,t,n,a),Tl(e)}function jt(e,t){return Ct(e,null,null,t),Tl(e)}function Oa(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Ce(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Tl(e){if(50<_s)throw _s=0,Gc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function ly(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,t,n,a){return new ly(e,t,n,a)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pa(e,t){var n=e.alternate;return n===null?(n=Yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ou(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")qo(e)&&(p=1);else if(typeof e=="string")p=o0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ke:return e=Yn(31,n,t,i),e.elementType=Ke,e.lanes=r,e;case le:return vi(n.children,i,r,t);case F:p=8,i|=24;break;case Ae:return e=Yn(12,n,t,i|2),e.elementType=Ae,e.lanes=r,e;case xe:return e=Yn(13,n,t,i),e.elementType=xe,e.lanes=r,e;case me:return e=Yn(19,n,t,i),e.elementType=me,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:p=10;break e;case ue:p=9;break e;case ee:p=11;break e;case Se:p=14;break e;case Pe:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Yn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function vi(e,t,n,a){return e=Yn(7,e,a,t),e.lanes=n,e}function Uo(e,t,n){return e=Yn(6,e,null,t),e.lanes=n,e}function $f(e){var t=Yn(18,null,null,0);return t.stateNode=e,t}function Ho(e,t,n){return t=Yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pf=new WeakMap;function ea(e,t){if(typeof e=="object"&&e!==null){var n=Pf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ge(t)},Pf.set(e,t),t)}return{value:e,source:t,stack:ge(t)}}var ir=[],rr=0,cu=null,ls=0,ta=[],na=0,Dl=null,Ta=1,Da="";function Wa(e,t){ir[rr++]=ls,ir[rr++]=cu,cu=e,ls=t}function Wf(e,t,n){ta[na++]=Ta,ta[na++]=Da,ta[na++]=Dl,Dl=e;var a=Ta;e=Da;var i=32-Ce(a)-1;a&=~(1<<i),n+=1;var r=32-Ce(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Ta=1<<32-Ce(t)+i|n<<i|a,Da=r+e}else Ta=1<<r|n<<i|a,Da=e}function Lo(e){e.return!==null&&(Wa(e,1),Wf(e,1,0))}function Ko(e){for(;e===cu;)cu=ir[--rr],ir[rr]=null,ls=ir[--rr],ir[rr]=null;for(;e===Dl;)Dl=ta[--na],ta[na]=null,Da=ta[--na],ta[na]=null,Ta=ta[--na],ta[na]=null}function If(e,t){ta[na++]=Ta,ta[na++]=Da,ta[na++]=Dl,Ta=t.id,Da=t.overflow,Dl=e}var pn=null,Lt=null,ht=!1,Ml=null,aa=!1,Yo=Error(d(519));function zl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw is(ea(t,e)),Yo}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Bt]=e,t[Ft]=a,n){case"dialog":ut("cancel",t),ut("close",t);break;case"iframe":case"object":case"embed":ut("load",t);break;case"video":case"audio":for(n=0;n<Cs.length;n++)ut(Cs[n],t);break;case"source":ut("error",t);break;case"img":case"image":case"link":ut("error",t),ut("load",t);break;case"details":ut("toggle",t);break;case"input":ut("invalid",t),Li(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ut("invalid",t);break;case"textarea":ut("invalid",t),fi(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gm(t.textContent,n)?(a.popover!=null&&(ut("beforetoggle",t),ut("toggle",t)),a.onScroll!=null&&ut("scroll",t),a.onScrollEnd!=null&&ut("scrollend",t),a.onClick!=null&&(t.onclick=An),t=!0):t=!1,t||zl(e,!0)}function td(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:pn=pn.return}}function sr(e){if(e!==pn)return!1;if(!ht)return td(e),ht=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sf(e.type,e.memoizedProps)),n=!n),n&&Lt&&zl(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Lt=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Lt=Em(e)}else t===27?(t=Lt,Fl(e.type)?(e=df,df=null,Lt=e):Lt=t):Lt=pn?ia(e.stateNode.nextSibling):null;return!0}function xi(){Lt=pn=null,ht=!1}function Qo(){var e=Ml;return e!==null&&(Mn===null?Mn=e:Mn.push.apply(Mn,e),Ml=null),e}function is(e){Ml===null?Ml=[e]:Ml.push(e)}var Xo=X(null),Si=null,Ia=null;function Rl(e,t,n){je(Xo,t._currentValue),t._currentValue=n}function el(e){e._currentValue=Xo.current,se(Xo)}function Go(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var x=r;r=i;for(var _=0;_<t.length;_++)if(x.context===t[_]){r.lanes|=n,x=r.alternate,x!==null&&(x.lanes|=n),Go(r.return,n,e),a||(p=null);break e}r=x.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Go(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ur(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=i.type;Sn(i.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(i===ae.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}i=i.return}e!==null&&Vo(t,e,n,a),t.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Si=e,Ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return nd(Si,e)}function du(e,t){return Si===null&&wi(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ia===null){if(e===null)throw Error(d(308));Ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ia=Ia.next=t;return n}var iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ry=u.unstable_scheduleCallback,sy=u.unstable_NormalPriority,tn={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new iy,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&ry(sy,function(){e.controller.abort()})}var ss=null,Zo=0,or=0,cr=null;function uy(e,t){if(ss===null){var n=ss=[];Zo=0,or=Pc(),cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Zo++,t.then(ad,ad),t}function ad(){if(--Zo===0&&ss!==null){cr!==null&&(cr.status="fulfilled");var e=ss;ss=null,or=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=Y.S;Y.S=function(e,t){Kh=rn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),ld!==null&&ld(e,t)};var ji=X(null);function Jo(){var e=ji.current;return e!==null?e:Rt.pooledCache}function hu(e,t){t===null?je(ji,ji.current):je(ji,t.pool)}function id(){var e=Jo();return e===null?null:{parent:tn._currentValue,pool:e}}var fr=Error(d(460)),$o=Error(d(474)),mu=Error(d(542)),pu={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(An,An),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(An,An);else{if(e=Rt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw _i=t,fr}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_i=n,fr):n}}var _i=null;function ud(){if(_i===null)throw Error(d(459));var e=_i;return _i=null,e}function od(e){if(e===fr||e===mu)throw Error(d(483))}var dr=null,us=0;function yu(e){var t=us;return us+=1,dr===null&&(dr=[]),sd(dr,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gu(e,t){throw t.$$typeof===$?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cd(e){function t(U,k){if(e){var V=U.deletions;V===null?(U.deletions=[k],U.flags|=16):V.push(k)}}function n(U,k){if(!e)return null;for(;k!==null;)t(U,k),k=k.sibling;return null}function a(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function i(U,k){return U=Pa(U,k),U.index=0,U.sibling=null,U}function r(U,k,V){return U.index=V,e?(V=U.alternate,V!==null?(V=V.index,V<k?(U.flags|=67108866,k):V):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,V,ie){return k===null||k.tag!==6?(k=Uo(V,U.mode,ie),k.return=U,k):(k=i(k,V),k.return=U,k)}function _(U,k,V,ie){var Xe=V.type;return Xe===le?ne(U,k,V.props.children,ie,V.key):k!==null&&(k.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Pe&&Ni(Xe)===k.type)?(k=i(k,V.props),os(k,V),k.return=U,k):(k=ou(V.type,V.key,V.props,null,U.mode,ie),os(k,V),k.return=U,k)}function Z(U,k,V,ie){return k===null||k.tag!==4||k.stateNode.containerInfo!==V.containerInfo||k.stateNode.implementation!==V.implementation?(k=Ho(V,U.mode,ie),k.return=U,k):(k=i(k,V.children||[]),k.return=U,k)}function ne(U,k,V,ie,Xe){return k===null||k.tag!==7?(k=vi(V,U.mode,ie,Xe),k.return=U,k):(k=i(k,V),k.return=U,k)}function re(U,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uo(""+k,U.mode,V),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case he:return V=ou(k.type,k.key,k.props,null,U.mode,V),os(V,k),V.return=U,V;case G:return k=Ho(k,U.mode,V),k.return=U,k;case Pe:return k=Ni(k),re(U,k,V)}if(Qe(k)||Le(k))return k=vi(k,U.mode,V,null),k.return=U,k;if(typeof k.then=="function")return re(U,yu(k),V);if(k.$$typeof===ve)return re(U,du(U,k),V);gu(U,k)}return null}function P(U,k,V,ie){var Xe=k!==null?k.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Xe!==null?null:x(U,k,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case he:return V.key===Xe?_(U,k,V,ie):null;case G:return V.key===Xe?Z(U,k,V,ie):null;case Pe:return V=Ni(V),P(U,k,V,ie)}if(Qe(V)||Le(V))return Xe!==null?null:ne(U,k,V,ie,null);if(typeof V.then=="function")return P(U,k,yu(V),ie);if(V.$$typeof===ve)return P(U,k,du(U,V),ie);gu(U,V)}return null}function I(U,k,V,ie,Xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return U=U.get(V)||null,x(k,U,""+ie,Xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case he:return U=U.get(ie.key===null?V:ie.key)||null,_(k,U,ie,Xe);case G:return U=U.get(ie.key===null?V:ie.key)||null,Z(k,U,ie,Xe);case Pe:return ie=Ni(ie),I(U,k,V,ie,Xe)}if(Qe(ie)||Le(ie))return U=U.get(V)||null,ne(k,U,ie,Xe,null);if(typeof ie.then=="function")return I(U,k,V,yu(ie),Xe);if(ie.$$typeof===ve)return I(U,k,V,du(k,ie),Xe);gu(k,ie)}return null}function Be(U,k,V,ie){for(var Xe=null,pt=null,He=k,tt=k=0,ft=null;He!==null&&tt<V.length;tt++){He.index>tt?(ft=He,He=null):ft=He.sibling;var yt=P(U,He,V[tt],ie);if(yt===null){He===null&&(He=ft);break}e&&He&&yt.alternate===null&&t(U,He),k=r(yt,k,tt),pt===null?Xe=yt:pt.sibling=yt,pt=yt,He=ft}if(tt===V.length)return n(U,He),ht&&Wa(U,tt),Xe;if(He===null){for(;tt<V.length;tt++)He=re(U,V[tt],ie),He!==null&&(k=r(He,k,tt),pt===null?Xe=He:pt.sibling=He,pt=He);return ht&&Wa(U,tt),Xe}for(He=a(He);tt<V.length;tt++)ft=I(He,U,tt,V[tt],ie),ft!==null&&(e&&ft.alternate!==null&&He.delete(ft.key===null?tt:ft.key),k=r(ft,k,tt),pt===null?Xe=ft:pt.sibling=ft,pt=ft);return e&&He.forEach(function(Wl){return t(U,Wl)}),ht&&Wa(U,tt),Xe}function Ze(U,k,V,ie){if(V==null)throw Error(d(151));for(var Xe=null,pt=null,He=k,tt=k=0,ft=null,yt=V.next();He!==null&&!yt.done;tt++,yt=V.next()){He.index>tt?(ft=He,He=null):ft=He.sibling;var Wl=P(U,He,yt.value,ie);if(Wl===null){He===null&&(He=ft);break}e&&He&&Wl.alternate===null&&t(U,He),k=r(Wl,k,tt),pt===null?Xe=Wl:pt.sibling=Wl,pt=Wl,He=ft}if(yt.done)return n(U,He),ht&&Wa(U,tt),Xe;if(He===null){for(;!yt.done;tt++,yt=V.next())yt=re(U,yt.value,ie),yt!==null&&(k=r(yt,k,tt),pt===null?Xe=yt:pt.sibling=yt,pt=yt);return ht&&Wa(U,tt),Xe}for(He=a(He);!yt.done;tt++,yt=V.next())yt=I(He,U,tt,yt.value,ie),yt!==null&&(e&&yt.alternate!==null&&He.delete(yt.key===null?tt:yt.key),k=r(yt,k,tt),pt===null?Xe=yt:pt.sibling=yt,pt=yt);return e&&He.forEach(function(x0){return t(U,x0)}),ht&&Wa(U,tt),Xe}function Tt(U,k,V,ie){if(typeof V=="object"&&V!==null&&V.type===le&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case he:e:{for(var Xe=V.key;k!==null;){if(k.key===Xe){if(Xe=V.type,Xe===le){if(k.tag===7){n(U,k.sibling),ie=i(k,V.props.children),ie.return=U,U=ie;break e}}else if(k.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Pe&&Ni(Xe)===k.type){n(U,k.sibling),ie=i(k,V.props),os(ie,V),ie.return=U,U=ie;break e}n(U,k);break}else t(U,k);k=k.sibling}V.type===le?(ie=vi(V.props.children,U.mode,ie,V.key),ie.return=U,U=ie):(ie=ou(V.type,V.key,V.props,null,U.mode,ie),os(ie,V),ie.return=U,U=ie)}return p(U);case G:e:{for(Xe=V.key;k!==null;){if(k.key===Xe)if(k.tag===4&&k.stateNode.containerInfo===V.containerInfo&&k.stateNode.implementation===V.implementation){n(U,k.sibling),ie=i(k,V.children||[]),ie.return=U,U=ie;break e}else{n(U,k);break}else t(U,k);k=k.sibling}ie=Ho(V,U.mode,ie),ie.return=U,U=ie}return p(U);case Pe:return V=Ni(V),Tt(U,k,V,ie)}if(Qe(V))return Be(U,k,V,ie);if(Le(V)){if(Xe=Le(V),typeof Xe!="function")throw Error(d(150));return V=Xe.call(V),Ze(U,k,V,ie)}if(typeof V.then=="function")return Tt(U,k,yu(V),ie);if(V.$$typeof===ve)return Tt(U,k,du(U,V),ie);gu(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,k!==null&&k.tag===6?(n(U,k.sibling),ie=i(k,V),ie.return=U,U=ie):(n(U,k),ie=Uo(V,U.mode,ie),ie.return=U,U=ie),p(U)):n(U,k)}return function(U,k,V,ie){try{us=0;var Xe=Tt(U,k,V,ie);return dr=null,Xe}catch(He){if(He===fr||He===mu)throw He;var pt=Yn(29,He,null,U.mode);return pt.lanes=ie,pt.return=U,pt}}}var Ei=cd(!0),fd=cd(!1),kl=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ql(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(St&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Tl(e),Oa(e,null,n),t}return Ct(e,a,t,n),Tl(e)}function cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,zt(e,n)}}function Io(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function fs(){if(ec){var e=cr;if(e!==null)throw e}}function ds(e,t,n,a){ec=!1;var i=e.updateQueue;kl=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var _=x,Z=_.next;_.next=null,p===null?r=Z:p.next=Z,p=_;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,x=ne.lastBaseUpdate,x!==p&&(x===null?ne.firstBaseUpdate=Z:x.next=Z,ne.lastBaseUpdate=_))}if(r!==null){var re=i.baseState;p=0,ne=Z=_=null,x=r;do{var P=x.lane&-536870913,I=P!==x.lane;if(I?(ct&P)===P:(a&P)===P){P!==0&&P===or&&(ec=!0),ne!==null&&(ne=ne.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Be=e,Ze=x;P=t;var Tt=n;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){re=Be.call(Tt,re,P);break e}re=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,P=typeof Be=="function"?Be.call(Tt,re,P):Be,P==null)break e;re=R({},re,P);break e;case 2:kl=!0}}P=x.callback,P!==null&&(e.flags|=64,I&&(e.flags|=8192),I=i.callbacks,I===null?i.callbacks=[P]:I.push(P))}else I={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ne===null?(Z=ne=I,_=re):ne=ne.next=I,p|=P;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;I=x,x=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);ne===null&&(_=re),i.baseState=_,i.firstBaseUpdate=Z,i.lastBaseUpdate=ne,r===null&&(i.shared.lanes=0),Yl|=p,e.lanes=p,e.memoizedState=re}}function dd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var hr=X(null),bu=X(0);function md(e,t){e=ol,je(bu,e),je(hr,t),ol=e|t.baseLanes}function tc(){je(bu,ol),je(hr,hr.current)}function nc(){ol=bu.current,se(hr),se(bu)}var Qn=X(null),la=null;function Ul(e){var t=e.alternate;je(Jt,Jt.current&1),je(Qn,e),la===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(la=e)}function ac(e){je(Jt,Jt.current),je(Qn,e),la===null&&(la=e)}function pd(e){e.tag===22?(je(Jt,Jt.current),je(Qn,e),la===null&&(la=e)):Hl()}function Hl(){je(Jt,Jt.current),je(Qn,Qn.current)}function Xn(e){se(Qn),la===e&&(la=null),se(Jt)}var Jt=X(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||ff(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=0,et=null,At=null,nn=null,xu=!1,mr=!1,Ci=!1,Su=0,hs=0,pr=null,cy=0;function Xt(){throw Error(d(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function ic(e,t,n,a,i,r){return tl=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Wd:xc,Ci=!1,r=n(a,i),Ci=!1,mr&&(r=gd(t,n,a,i)),yd(e),r}function yd(e){Y.H=ys;var t=At!==null&&At.next!==null;if(tl=0,nn=At=et=null,xu=!1,hs=0,pr=null,t)throw Error(d(300));e===null||an||(e=e.dependencies,e!==null&&fu(e)&&(an=!0))}function gd(e,t,n,a){et=e;var i=0;do{if(mr&&(pr=null),hs=0,mr=!1,25<=i)throw Error(d(301));if(i+=1,nn=At=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Y.H=Id,r=t(n,a)}while(mr);return r}function fy(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(et.flags|=1024),t}function rc(){var e=Su!==0;return Su=0,e}function sc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function uc(e){if(xu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xu=!1}tl=0,nn=At=et=null,mr=!1,hs=Su=0,pr=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?et.memoizedState=nn=e:nn=nn.next=e,nn}function $t(){if(At===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=nn===null?et.memoizedState:nn.next;if(t!==null)nn=t,At=e;else{if(e===null)throw et.alternate===null?Error(d(467)):Error(d(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},nn===null?et.memoizedState=nn=e:nn=nn.next=e}return nn}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var t=hs;return hs+=1,pr===null&&(pr=[]),e=sd(pr,e,t),t=et,(nn===null?t.memoizedState:nn.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Wd:xc),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===ve)return yn(e)}throw Error(d(438,String(e)))}function oc(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=et.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wu(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ot;return t.index++,n}function nl(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=$t();return cc(t,At,e)}function cc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var x=p=null,_=null,Z=t,ne=!1;do{var re=Z.lane&-536870913;if(re!==Z.lane?(ct&re)===re:(tl&re)===re){var P=Z.revertLane;if(P===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),re===or&&(ne=!0);else if((tl&P)===P){Z=Z.next,P===or&&(ne=!0);continue}else re={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=re,p=r):_=_.next=re,et.lanes|=P,Yl|=P;re=Z.action,Ci&&n(r,re),r=Z.hasEagerState?Z.eagerState:n(r,re)}else P={lane:re,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=P,p=r):_=_.next=P,et.lanes|=re,Yl|=re;Z=Z.next}while(Z!==null&&Z!==t);if(_===null?p=r:_.next=x,!Sn(r,e.memoizedState)&&(an=!0,ne&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fc(e){var t=$t(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);Sn(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function bd(e,t,n){var a=et,i=$t(),r=ht;if(r){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Sn((At||i).memoizedState,n);if(p&&(i.memoizedState=n,an=!0),i=i.queue,mc(Sd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||nn!==null&&nn.memoizedState.tag&1){if(a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),Rt===null)throw Error(d(349));r||(tl&127)!==0||vd(a,t,n)}return n}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=wu(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,wd(t)&&jd(e)}function Sd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function jd(e){var t=jt(e,2);t!==null&&zn(t,e,2)}function dc(e){var t=En();if(typeof e=="function"){var n=e;if(e=n(),Ci){Mt(!0);try{n()}finally{Mt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,cc(e,At,typeof a=="function"?a:nl)}function dy(e,t,n,a,i){if(Cu(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};Y.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=Y.T,p={};Y.T=p;try{var x=n(i,a),_=Y.S;_!==null&&_(p,x),Ed(e,t,x)}catch(Z){hc(e,t,Z)}finally{r!==null&&p.types!==null&&(r.types=p.types),Y.T=r}}else try{r=n(i,a),Ed(e,t,r)}catch(Z){hc(e,t,Z)}}function Ed(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return hc(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function hc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==a)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function Td(e,t){if(ht){var n=Rt.formState;if(n!==null){e:{var a=et;if(ht){if(Lt){t:{for(var i=Lt,r=aa;i.nodeType!==8;){if(!r){i=null;break t}if(i=ia(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Lt=ia(i.nextSibling),a=i.data==="F!";break e}}zl(a)}a=!1}a&&(t=n[0])}}return n=En(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},n.queue=a,n=Jd.bind(null,et,a),a.dispatch=n,a=dc(!1),r=vc.bind(null,et,!1,a.queue),a=En(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=dy.bind(null,et,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dd(e){var t=$t();return Md(t,At,e)}function Md(e,t,n){if(t=cc(e,t,Od)[0],e=Nu(nl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ms(t)}catch(p){throw p===fr?mu:p}else a=t;t=$t();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(et.flags|=2048,yr(9,{destroy:void 0},hy.bind(null,i,n),null)),[a,r,e]}function hy(e,t){e.action=t}function zd(e){var t=$t(),n=At;if(n!==null)return Md(t,n,e);$t(),t=t.memoizedState,n=$t();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function yr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=et.updateQueue,t===null&&(t=wu(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return $t().memoizedState}function _u(e,t,n,a){var i=En();et.flags|=e,i.memoizedState=yr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Eu(e,t,n,a){var i=$t();a=a===void 0?null:a;var r=i.memoizedState.inst;At!==null&&a!==null&&lc(a,At.memoizedState.deps)?i.memoizedState=yr(t,r,n,a):(et.flags|=e,i.memoizedState=yr(1|t,r,n,a))}function kd(e,t){_u(8390656,8,e,t)}function mc(e,t){Eu(2048,8,e,t)}function my(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=wu(),et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=$t().memoizedState;return my({ref:t,nextImpl:e}),function(){if((St&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return Eu(4,2,e,t)}function Ud(e,t){return Eu(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,Eu(4,4,Hd.bind(null,t,e),n)}function pc(){}function Kd(e,t){var n=$t();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=$t();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lc(t,a[1]))return a[0];if(a=e(),Ci){Mt(!0);try{e()}finally{Mt(!1)}}return n.memoizedState=[a,t],a}function yc(e,t,n){return n===void 0||(tl&1073741824)!==0&&(ct&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qh(),et.lanes|=e,Yl|=e,n)}function Qd(e,t,n,a){return Sn(n,t)?n:hr.current!==null?(e=yc(e,n,a),Sn(e,t)||(an=!0),e):(tl&42)===0||(tl&1073741824)!==0&&(ct&261930)===0?(an=!0,e.memoizedState=n):(e=Qh(),et.lanes|=e,Yl|=e,t)}function Xd(e,t,n,a,i){var r=pe.p;pe.p=r!==0&&8>r?r:8;var p=Y.T,x={};Y.T=x,vc(e,!1,t,n);try{var _=i(),Z=Y.S;if(Z!==null&&Z(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ne=oy(_,a);ps(e,t,ne,Fn(e))}else ps(e,t,a,Fn(e))}catch(re){ps(e,t,{then:function(){},status:"rejected",reason:re},Fn())}finally{pe.p=r,p!==null&&x.types!==null&&(p.types=x.types),Y.T=p}}function py(){}function gc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Gd(e).queue;Xd(e,i,t,ye,n===null?py:function(){return Vd(e),n(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:ye},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),ps(e,t.next.queue,{},Fn())}function bc(){return yn(Ms)}function Fd(){return $t().memoizedState}function Zd(){return $t().memoizedState}function yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Fn();e=Bl(n);var a=ql(t,e,n);a!==null&&(zn(a,t,n),cs(a,t,n)),t={cache:Fo()},e.payload=t;return}t=t.return}}function gy(e,t,n){var a=Fn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cu(e)?$d(t,n):(n=wn(e,t,n,a),n!==null&&(zn(n,e,a),Pd(n,t,a)))}function Jd(e,t,n){var a=Fn();ps(e,t,n,a)}function ps(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))$d(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,x=r(p,n);if(i.hasEagerState=!0,i.eagerState=x,Sn(x,p))return Ct(e,t,i,0),Rt===null&&We(),!1}catch{}if(n=wn(e,t,i,a),n!==null)return zn(n,e,a),Pd(n,t,a),!0}return!1}function vc(e,t,n,a){if(a={lane:2,revertLane:Pc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(t)throw Error(d(479))}else t=wn(e,n,a,2),t!==null&&zn(t,e,2)}function Cu(e){var t=e.alternate;return e===et||t!==null&&t===et}function $d(e,t){mr=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,zt(e,n)}}var ys={readContext:yn,use:ju,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};ys.useEffectEvent=Xt;var Wd={readContext:yn,use:ju,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=En();t=t===void 0?null:t;var a=e();if(Ci){Mt(!0);try{e()}finally{Mt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=En();if(n!==void 0){var i=n(t);if(Ci){Mt(!0);try{n(t)}finally{Mt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gy.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:function(e){e=dc(e);var t=e.queue,n=Jd.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:pc,useDeferredValue:function(e,t){var n=En();return yc(n,e,t)},useTransition:function(){var e=dc(!1);return e=Xd.bind(null,et,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=et,i=En();if(ht){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Rt===null)throw Error(d(349));(ct&127)!==0||vd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,kd(Sd.bind(null,a,r,e),[e]),a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,r,n,t),null),n},useId:function(){var e=En(),t=Rt.identifierPrefix;if(ht){var n=Da,a=Ta;n=(a&~(1<<32-Ce(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Su++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=En();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vc.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return En().memoizedState=yy.bind(null,et)},useEffectEvent:function(e){var t=En(),n={impl:e};return t.memoizedState=n,function(){if((St&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},xc={readContext:yn,use:ju,useCallback:Kd,useContext:yn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:Nu,useRef:Rd,useState:function(){return Nu(nl)},useDebugValue:pc,useDeferredValue:function(e,t){var n=$t();return Qd(n,At.memoizedState,e,t)},useTransition:function(){var e=Nu(nl)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=$t();return Nd(n,At,e,t)},useMemoCache:oc,useCacheRefresh:Zd};xc.useEffectEvent=Bd;var Id={readContext:yn,use:ju,useCallback:Kd,useContext:yn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:fc,useRef:Rd,useState:function(){return fc(nl)},useDebugValue:pc,useDeferredValue:function(e,t){var n=$t();return At===null?yc(n,e,t):Qd(n,At.memoizedState,e,t)},useTransition:function(){var e=fc(nl)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=$t();return At!==null?Nd(n,At,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Zd};Id.useEffectEvent=Bd;function Sc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:R({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Fn(),i=Bl(a);i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(zn(t,e,a),cs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Fn(),i=Bl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(zn(t,e,a),cs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fn(),a=Bl(n);a.tag=2,t!=null&&(a.callback=t),t=ql(e,a,n),t!==null&&(zn(t,e,n),cs(t,e,n))}};function eh(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function th(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wc.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=R({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nh(e){Re(e)}function ah(e){console.error(e)}function lh(e){Re(e)}function Au(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ih(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function jc(e,t,n){return n=Bl(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(e,t)},n}function rh(e){return e=Bl(e),e.tag=3,e}function sh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ih(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,a),typeof i!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function by(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ur(t,n,i,!0),n=Qn.current,n!==null){switch(n.tag){case 31:case 13:return la===null?Lu():n.alternate===null&&Gt===0&&(Gt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Zc(e,a,i)),!1;case 22:return n.flags|=65536,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Zc(e,a,i)),!1}throw Error(d(435,n.tag))}return Zc(e,a,i),Lu(),!1}if(ht)return t=Qn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Yo&&(e=Error(d(422),{cause:a}),is(ea(e,n)))):(a!==Yo&&(t=Error(d(423),{cause:a}),is(ea(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=ea(a,n),i=jc(e.stateNode,a,i),Io(e,i),Gt!==4&&(Gt=2)),!1;var r=Error(d(520),{cause:a});if(r=ea(r,n),Ns===null?Ns=[r]:Ns.push(r),Gt!==4&&(Gt=2),t===null)return!0;a=ea(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=jc(n.stateNode,a,e),Io(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ql===null||!Ql.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rh(i),sh(i,e,n,a),Io(n,i),!1}n=n.return}while(n!==null);return!1}var Nc=Error(d(461)),an=!1;function gn(e,t,n,a){t.child=e===null?fd(t,null,n,a):Ei(t,e.child,n,a)}function uh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return wi(t),a=ic(e,t,n,p,r,i),x=rc(),e!==null&&!an?(sc(e,t,i),al(e,t,i)):(ht&&x&&Lo(t),t.flags|=1,gn(e,t,a,i),t.child)}function oh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!qo(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ch(e,t,r,a,i)):(e=ou(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Mc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,e=Pa(r,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(an=!1,t.pendingProps=a=r,Mc(e,i))(e.flags&131072)!==0&&(an=!0);else return t.lanes=e.lanes,al(e,t,i)}return _c(e,t,n,a,i)}function fh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return dh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(t,r!==null?r.cachePool:null),r!==null?md(t,r):tc(),pd(t);else return a=t.lanes=536870912,dh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(hu(t,r.cachePool),md(t,r),Hl(),t.memoizedState=null):(e!==null&&hu(t,null),tc(),Hl());return gn(e,t,i,n),t.child}function gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,i){var r=Jo();return r=r===null?null:{parent:tn._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&hu(t,null),tc(),pd(t),e!==null&&ur(e,t,a,!0),t.childLanes=i,null}function Ou(e,t){return t=Du({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return Ei(t,e.child,null,n),e=Ou(t,t.pendingProps),e.flags|=2,Xn(t),t.memoizedState=null,e}function vy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ht){if(a.mode==="hidden")return e=Ou(t,a),t.lanes=536870912,gs(null,e);if(ac(t),(e=Lt)?(e=_m(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:Ta,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,pn=t,Lt=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Ou(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(ac(t),i)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(an||ur(e,t,n,!1),i=(n&e.childLanes)!==0,an||i){if(a=Rt,a!==null&&(p=Vt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,jt(e,p),zn(a,e,p),Nc;Lu(),t=hh(e,t,n)}else e=r.treeContext,Lt=ia(p.nextSibling),pn=t,ht=!0,Ml=null,aa=!1,e!==null&&If(t,e),t=Ou(t,a),t.flags|=4096;return t}return e=Pa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function _c(e,t,n,a,i){return wi(t),n=ic(e,t,n,a,void 0,i),a=rc(),e!==null&&!an?(sc(e,t,i),al(e,t,i)):(ht&&a&&Lo(t),t.flags|=1,gn(e,t,n,i),t.child)}function mh(e,t,n,a,i,r){return wi(t),t.updateQueue=null,n=gd(t,a,n,i),yd(e),a=rc(),e!==null&&!an?(sc(e,t,r),al(e,t,r)):(ht&&a&&Lo(t),t.flags|=1,gn(e,t,n,r),t.child)}function ph(e,t,n,a,i){if(wi(t),t.stateNode===null){var r=lr,p=n.contextType;typeof p=="object"&&p!==null&&(r=yn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Po(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?yn(p):lr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&wc.enqueueReplaceState(r,r.state,null),ds(t,a,r,i),fs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var x=t.memoizedProps,_=Ai(n,x);r.props=_;var Z=r.context,ne=n.contextType;p=lr,typeof ne=="object"&&ne!==null&&(p=yn(ne));var re=n.getDerivedStateFromProps;ne=typeof re=="function"||typeof r.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ne||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x||Z!==p)&&th(t,r,a,p),kl=!1;var P=t.memoizedState;r.state=P,ds(t,a,r,i),fs(),Z=t.memoizedState,x||P!==Z||kl?(typeof re=="function"&&(Sc(t,n,re,a),Z=t.memoizedState),(_=kl||eh(t,n,_,a,P,Z,p))?(ne||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),r.props=a,r.state=Z,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Wo(e,t),p=t.memoizedProps,ne=Ai(n,p),r.props=ne,re=t.pendingProps,P=r.context,Z=n.contextType,_=lr,typeof Z=="object"&&Z!==null&&(_=yn(Z)),x=n.getDerivedStateFromProps,(Z=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==re||P!==_)&&th(t,r,a,_),kl=!1,P=t.memoizedState,r.state=P,ds(t,a,r,i),fs();var I=t.memoizedState;p!==re||P!==I||kl||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof x=="function"&&(Sc(t,n,x,a),I=t.memoizedState),(ne=kl||eh(t,n,ne,a,P,I,_)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(Z||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,I,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,I,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=I),r.props=a,r.state=I,r.context=_,a=ne):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Tu(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):gn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=al(e,t,i),e}function yh(e,t,n,a){return xi(),t.flags|=256,gn(e,t,n,a),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:id()}}function Ac(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vn),e}function gh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ht){if(i?Ul(t):Hl(),(e=Lt)?(e=_m(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:Ta,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,pn=t,Lt=null)):e=null,e===null)throw zl(t);return ff(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,i?(Hl(),i=t.mode,x=Du({mode:"hidden",children:x},i),a=vi(a,i,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,gs(null,a)):(Ul(t),Oc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(r)t.flags&256?(Ul(t),t.flags&=-257,t=Tc(e,t,n)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),x=a.fallback,i=t.mode,a=Du({mode:"visible",children:a.children},i),x=vi(x,i,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ei(t,e.child,null,n),a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,t=gs(null,a));else if(Ul(t),ff(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var Z=p.dgst;p=Z,a=Error(d(419)),a.stack="",a.digest=p,is({value:a,source:null,stack:null}),t=Tc(e,t,n)}else if(an||ur(e,t,n,!1),p=(n&e.childLanes)!==0,an||p){if(p=Rt,p!==null&&(a=Vt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,jt(e,a),zn(p,e,a),Nc;cf(x)||Lu(),t=Tc(e,t,n)}else cf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Lt=ia(x.nextSibling),pn=t,ht=!0,Ml=null,aa=!1,e!==null&&If(t,e),t=Oc(t,a.children),t.flags|=4096);return t}return i?(Hl(),x=a.fallback,i=t.mode,_=e.child,Z=_.sibling,a=Pa(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,Z!==null?x=Pa(Z,x):(x=vi(x,i,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,gs(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Cc(n):(i=x.cachePool,i!==null?(_=tn._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=id(),x={baseLanes:x.baseLanes|n,cachePool:i}),a.memoizedState=x,a.childLanes=Ac(e,p,n),t.memoizedState=Ec,gs(e.child,a)):(Ul(t),n=e.child,e=n.sibling,n=Pa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Oc(e,t){return t=Du({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Du(e,t){return e=Yn(22,e,null,t),e.lanes=0,e}function Tc(e,t,n){return Ei(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Go(e.return,t,n)}function Dc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=Jt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,je(Jt,p),gn(e,t,a,n),a=ht?ls:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dc(t,!0,n,null,r,a);break;case"together":Dc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ur(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Pa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function xy(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Rl(t,tn,e.memoizedState.cache),xi();break;case 27:case 5:oe(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Rl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ac(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ul(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gh(e,t,n):(Ul(t),e=al(e,t,n),e!==null?e.sibling:null);Ul(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ur(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Jt,Jt.current),a)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Rl(t,tn,e.memoizedState.cache)}return al(e,t,n)}function xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)an=!0;else{if(!Mc(e,n)&&(t.flags&128)===0)return an=!1,xy(e,t,n);an=(e.flags&131072)!==0}else an=!1,ht&&(t.flags&1048576)!==0&&Wf(t,ls,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")qo(e)?(a=Ai(e,a),t.tag=1,t=ph(null,t,e,a,n)):(t.tag=0,t=_c(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ee){t.tag=11,t=uh(null,t,e,a,n);break e}else if(i===Se){t.tag=14,t=oh(null,t,e,a,n);break e}}throw t=we(e)||e,Error(d(306,t,""))}}return t;case 0:return _c(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ai(a,t.pendingProps),ph(e,t,a,i,n);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Wo(e,t),ds(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Rl(t,tn,a),a!==r.cache&&Vo(t,[tn],n,!0),fs(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yh(e,t,a,n);break e}else if(a!==i){i=ea(Error(d(424)),t),is(i),t=yh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Lt=ia(e.firstChild),pn=t,ht=!0,Ml=null,aa=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),a===i){t=al(e,t,n);break e}gn(e,t,a,n)}t=t.child}return t;case 26:return Tu(e,t),e===null?(n=Dm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ht||(n=t.type,e=t.pendingProps,a=Fu(Ie.current).createElement(n),a[Bt]=t,a[Ft]=e,bn(a,n,e),Zt(a),t.stateNode=a):t.memoizedState=Dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),e===null&&ht&&(a=t.stateNode=Am(t.type,t.pendingProps,Ie.current),pn=t,aa=!0,i=Lt,Fl(t.type)?(df=i,Lt=ia(a.firstChild)):Lt=i),gn(e,t,t.pendingProps.children,n),Tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ht&&((i=a=Lt)&&(a=$y(a,t.type,t.pendingProps,aa),a!==null?(t.stateNode=a,pn=t,Lt=ia(a.firstChild),aa=!1,i=!0):i=!1),i||zl(t)),oe(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,sf(i,r)?a=null:p!==null&&sf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ic(e,t,fy,null,null,n),Ms._currentValue=i),Tu(e,t),gn(e,t,a,n),t.child;case 6:return e===null&&ht&&((e=n=Lt)&&(n=Py(n,t.pendingProps,aa),n!==null?(t.stateNode=n,pn=t,Lt=null,e=!0):e=!1),e||zl(t)),null;case 13:return gh(e,t,n);case 4:return be(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ei(t,null,a,n):gn(e,t,a,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return gn(e,t,t.pendingProps,n),t.child;case 8:return gn(e,t,t.pendingProps.children,n),t.child;case 12:return gn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Rl(t,t.type,a.value),gn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,wi(t),i=yn(i),a=a(i),t.flags|=1,gn(e,t,a,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return vy(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return wi(t),a=yn(tn),e===null?(i=Jo(),i===null&&(i=Rt,r=Fo(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Po(t),Rl(t,tn,i)):((e.lanes&n)!==0&&(Wo(e,t),ds(t,null,null,n),fs()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Rl(t,tn,a)):(a=r.cache,Rl(t,tn,a),a!==i.cache&&Vo(t,[tn],n,!0))),gn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ll(e){e.flags|=4}function zc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fh())e.flags|=8192;else throw _i=pu,$o}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(t))if(Fh())e.flags|=8192;else throw _i=pu,$o}function Mu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zs():536870912,e.lanes|=t,xr|=t)}function bs(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Sy(e,t,n){var a=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return Kt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),el(tn),qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sr(t)?ll(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qo())),Kt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ll(t),r!==null?(Kt(t),Sh(t,r)):(Kt(t),zc(t,i,null,a,n))):r?r!==e.memoizedState?(ll(t),Kt(t),Sh(t,r)):(Kt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ll(t),Kt(t),zc(t,i,e,a,n)),null;case 27:if(Ve(t),n=Ie.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Kt(t),null}e=Me.current,sr(t)?ed(t):(e=Am(i,a,n),t.stateNode=e,ll(t))}return Kt(t),null;case 5:if(Ve(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Kt(t),null}if(r=Me.current,sr(t))ed(t);else{var p=Fu(Ie.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[Bt]=t,r[Ft]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(bn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ll(t)}}return Kt(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=Ie.current,sr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=pn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,n)),e||zl(t,!0)}else e=Fu(e).createTextNode(a),e[Bt]=t,t.stateNode=e}return Kt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=sr(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Bt]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Kt(t),e=!1}else n=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Xn(t),t):(Xn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Kt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=sr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Bt]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Kt(t),i=!1}else i=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Xn(t),t):(Xn(t),null)}return Xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Mu(t,t.updateQueue),Kt(t),null);case 4:return qe(),e===null&&tf(t.stateNode.containerInfo),Kt(t),null;case 10:return el(t.type),Kt(t),null;case 19:if(se(Jt),a=t.memoizedState,a===null)return Kt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)bs(a,!1);else{if(Gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=vu(e),r!==null){for(t.flags|=128,bs(a,!1),e=r.updateQueue,t.updateQueue=e,Mu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return je(Jt,Jt.current&1|2),ht&&Wa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&rn()>qu&&(t.flags|=128,i=!0,bs(a,!1),t.lanes=4194304)}else{if(!i)if(e=vu(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Mu(t,e),bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!ht)return Kt(t),null}else 2*rn()-a.renderingStartTime>qu&&n!==536870912&&(t.flags|=128,i=!0,bs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=rn(),e.sibling=null,n=Jt.current,je(Jt,i?n&1|2:n&1),ht&&Wa(t,a.treeForkCount),e):(Kt(t),null);case 22:case 23:return Xn(t),nc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),n=t.updateQueue,n!==null&&Mu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&se(ji),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),el(tn),Kt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function wy(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(tn),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ve(t),null;case 31:if(t.memoizedState!==null){if(Xn(t),t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(Jt),null;case 4:return qe(),null;case 10:return el(t.type),null;case 22:case 23:return Xn(t),nc(),e!==null&&se(ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return el(tn),null;case 25:return null;default:return null}}function wh(e,t){switch(Ko(t),t.tag){case 3:el(tn),qe();break;case 26:case 27:case 5:Ve(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Xn(t);break;case 13:Xn(t);break;case 19:se(Jt);break;case 10:el(t.type);break;case 22:case 23:Xn(t),nc(),e!==null&&se(ji);break;case 24:el(tn)}}function vs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(x){_t(t,t.return,x)}}function Ll(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,i=t;var _=n,Z=x;try{Z()}catch(ne){_t(i,_,ne)}}}a=a.next}while(a!==r)}}catch(ne){_t(t,t.return,ne)}}function jh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){_t(e,e.return,a)}}}function Nh(e,t,n){n.props=Ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){_t(e,t,a)}}function xs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){_t(e,t,i)}}function Ma(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){_t(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){_t(e,t,i)}else n.current=null}function _h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){_t(e,e.return,i)}}function Rc(e,t,n){try{var a=e.stateNode;Xy(a,e.type,n,t),a[Ft]=t}catch(i){_t(e,e.return,i)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=An));else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Ch(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bn(t,a,n),t[Bt]=e,t[Ft]=n}catch(r){_t(e,e.return,r)}}var il=!1,ln=!1,qc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,dn=null;function jy(e,t){if(e=e.containerInfo,lf=eo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,Z=0,ne=0,re=e,P=null;t:for(;;){for(var I;re!==n||i!==0&&re.nodeType!==3||(x=p+i),re!==r||a!==0&&re.nodeType!==3||(_=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(I=re.firstChild)!==null;)P=re,re=I;for(;;){if(re===e)break t;if(P===n&&++Z===i&&(x=p),P===r&&++ne===a&&(_=p),(I=re.nextSibling)!==null)break;re=P,P=re.parentNode}re=I}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(rf={focusedElem:e,selectionRange:n},eo=!1,dn=t;dn!==null;)if(t=dn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dn=e;else for(;dn!==null;){switch(t=dn,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Be=Ai(n.type,i);e=a.getSnapshotBeforeUpdate(Be,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ze){_t(n,n.return,Ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)of(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,dn=e;break}dn=t.return}}function Oh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:sl(e,n),a&4&&vs(5,n);break;case 1:if(sl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){_t(n,n.return,p)}else{var i=Ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){_t(n,n.return,p)}}a&64&&jh(n),a&512&&xs(n,n.return);break;case 3:if(sl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){_t(n,n.return,p)}}break;case 27:t===null&&a&4&&Ch(n);case 26:case 5:sl(e,n),t===null&&a&4&&_h(n),a&512&&xs(n,n.return);break;case 12:sl(e,n);break;case 31:sl(e,n),a&4&&Mh(e,n);break;case 13:sl(e,n),a&4&&zh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=My.bind(null,n),Wy(e,n))));break;case 22:if(a=n.memoizedState!==null||il,!a){t=t!==null&&t.memoizedState!==null||ln,i=il;var r=ln;il=a,(ln=t)&&!r?ul(e,n,(n.subtreeFlags&8772)!==0):sl(e,n),il=i,ln=r}break;case 30:break;default:sl(e,n)}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Yt=null,On=!1;function rl(e,t,n){for(n=n.child;n!==null;)Dh(e,t,n),n=n.sibling}function Dh(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Dt,n)}catch{}switch(n.tag){case 26:ln||Ma(n,t),rl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ln||Ma(n,t);var a=Yt,i=On;Fl(n.type)&&(Yt=n.stateNode,On=!1),rl(e,t,n),Os(n.stateNode),Yt=a,On=i;break;case 5:ln||Ma(n,t);case 6:if(a=Yt,i=On,Yt=null,rl(e,t,n),Yt=a,On=i,Yt!==null)if(On)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(n.stateNode)}catch(r){_t(n,t,r)}else try{Yt.removeChild(n.stateNode)}catch(r){_t(n,t,r)}break;case 18:Yt!==null&&(On?(e=Yt,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ar(e)):jm(Yt,n.stateNode));break;case 4:a=Yt,i=On,Yt=n.stateNode.containerInfo,On=!0,rl(e,t,n),Yt=a,On=i;break;case 0:case 11:case 14:case 15:Ll(2,n,t),ln||Ll(4,n,t),rl(e,t,n);break;case 1:ln||(Ma(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nh(n,t,a)),rl(e,t,n);break;case 21:rl(e,t,n);break;case 22:ln=(a=ln)||n.memoizedState!==null,rl(e,t,n),ln=a;break;default:rl(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(n){_t(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(n){_t(t,t.return,n)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(d(435,e.tag))}}function Ru(e,t){var n=Ny(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=zy.bind(null,e,a);a.then(i,i)}})}function Tn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Fl(x.type)){Yt=x.stateNode,On=!1;break e}break;case 5:Yt=x.stateNode,On=!1;break e;case 3:case 4:Yt=x.stateNode.containerInfo,On=!0;break e}x=x.return}if(Yt===null)throw Error(d(160));Dh(r,p,i),Yt=null,On=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var pa=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(t,e),Dn(e),a&4&&(Ll(3,e,e.return),vs(3,e),Ll(5,e,e.return));break;case 1:Tn(t,e),Dn(e),a&512&&(ln||n===null||Ma(n,n.return)),a&64&&il&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=pa;if(Tn(t,e),Dn(e),a&512&&(ln||n===null||Ma(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Hn]||r[Bt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),bn(r,a,n),r[Bt]=e,Zt(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(r=p[x],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}r=i.createElement(a),bn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(r=p[x],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}r=i.createElement(a),bn(r,a,n),i.head.appendChild(r);break;default:throw Error(d(468,a))}r[Bt]=e,Zt(r),a=r}e.stateNode=a}else km(i,e.type,e.stateNode);else e.stateNode=zm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?km(i,e.type,e.stateNode):zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tn(t,e),Dn(e),a&512&&(ln||n===null||Ma(n,n.return)),n!==null&&a&4&&Rc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tn(t,e),Dn(e),a&512&&(ln||n===null||Ma(n,n.return)),e.flags&32){i=e.stateNode;try{Ka(i,"")}catch(Be){_t(e,e.return,Be)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Rc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(qc=!0);break;case 6:if(Tn(t,e),Dn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Be){_t(e,e.return,Be)}}break;case 3:if($u=null,i=pa,pa=Zu(t.containerInfo),Tn(t,e),pa=i,Dn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(Be){_t(e,e.return,Be)}qc&&(qc=!1,kh(e));break;case 4:a=pa,pa=Zu(e.stateNode.containerInfo),Tn(t,e),Dn(e),pa=a;break;case 12:Tn(t,e),Dn(e);break;case 31:Tn(t,e),Dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 13:Tn(t,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bu=rn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,Z=il,ne=ln;if(il=Z||i,ln=ne||_,Tn(t,e),ln=ne,il=Z,Dn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||il||ln||Oi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var re=_.memoizedProps.style,P=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Be){_t(_,_.return,Be)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(Be){_t(_,_.return,Be)}}}else if(t.tag===18){if(n===null){_=t;try{var I=_.stateNode;i?Nm(I,!0):Nm(_.stateNode,!1)}catch(Be){_t(_,_.return,Be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ru(e,n))));break;case 19:Tn(t,e),Dn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 30:break;case 21:break;default:Tn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Eh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,r=kc(e);zu(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ka(p,""),n.flags&=-33);var x=kc(e);zu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,Z=kc(e);Bc(e,Z,_);break;default:throw Error(d(161))}}catch(ne){_t(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Oh(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),Oi(t);break;case 1:Ma(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nh(t,t.return,n),Oi(t);break;case 27:Os(t.stateNode);case 26:case 5:Ma(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function ul(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:ul(i,r,n),vs(4,r);break;case 1:if(ul(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(Z){_t(a,a.return,Z)}if(a=r,i=a.updateQueue,i!==null){var x=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)dd(_[i],x)}catch(Z){_t(a,a.return,Z)}}n&&p&64&&jh(r),xs(r,r.return);break;case 27:Ch(r);case 26:case 5:ul(i,r,n),n&&a===null&&p&4&&_h(r),xs(r,r.return);break;case 12:ul(i,r,n);break;case 31:ul(i,r,n),n&&p&4&&Mh(i,r);break;case 13:ul(i,r,n),n&&p&4&&zh(i,r);break;case 22:r.memoizedState===null&&ul(i,r,n),xs(r,r.return);break;case 30:break;default:ul(i,r,n)}t=t.sibling}}function Uc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rs(n))}function Hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function ya(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,a),t=t.sibling}function Bh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ya(e,t,n,a),i&2048&&vs(9,t);break;case 1:ya(e,t,n,a);break;case 3:ya(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(i&2048){ya(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,x=r.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){_t(t,t.return,_)}}else ya(e,t,n,a);break;case 31:ya(e,t,n,a);break;case 13:ya(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?ya(e,t,n,a):Ss(e,t):r._visibility&2?ya(e,t,n,a):(r._visibility|=2,gr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Uc(p,t);break;case 24:ya(e,t,n,a),i&2048&&Hc(t.alternate,t);break;default:ya(e,t,n,a)}}function gr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,x=n,_=a,Z=p.flags;switch(p.tag){case 0:case 11:case 15:gr(r,p,x,_,i),vs(8,p);break;case 23:break;case 22:var ne=p.stateNode;p.memoizedState!==null?ne._visibility&2?gr(r,p,x,_,i):Ss(r,p):(ne._visibility|=2,gr(r,p,x,_,i)),i&&Z&2048&&Uc(p.alternate,p);break;case 24:gr(r,p,x,_,i),i&&Z&2048&&Hc(p.alternate,p);break;default:gr(r,p,x,_,i)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Ss(n,a),i&2048&&Uc(a.alternate,a);break;case 24:Ss(n,a),i&2048&&Hc(a.alternate,a);break;default:Ss(n,a)}t=t.sibling}}var ws=8192;function br(e,t,n){if(e.subtreeFlags&ws)for(e=e.child;e!==null;)qh(e,t,n),e=e.sibling}function qh(e,t,n){switch(e.tag){case 26:br(e,t,n),e.flags&ws&&e.memoizedState!==null&&c0(n,pa,e.memoizedState,e.memoizedProps);break;case 5:br(e,t,n);break;case 3:case 4:var a=pa;pa=Zu(e.stateNode.containerInfo),br(e,t,n),pa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ws,ws=16777216,br(e,t,n),ws=a):br(e,t,n));break;default:br(e,t,n)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];dn=a,Lh(a,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:js(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:js(e);break;case 12:js(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ku(e)):js(e);break;default:js(e)}}function ku(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];dn=a,Lh(a,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),ku(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ku(t));break;default:ku(t)}e=e.sibling}}function Lh(e,t){for(;dn!==null;){var n=dn;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:rs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,dn=a;else e:for(n=e;dn!==null;){a=dn;var i=a.sibling,r=a.return;if(Th(a),a===n){dn=null;break e}if(i!==null){i.return=r,dn=i;break e}dn=r}}}var _y={getCacheForType:function(e){var t=yn(tn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yn(tn).controller.signal}},Ey=typeof WeakMap=="function"?WeakMap:Map,St=0,Rt=null,st=null,ct=0,Nt=0,Gn=null,Kl=!1,vr=!1,Lc=!1,ol=0,Gt=0,Yl=0,Ti=0,Kc=0,Vn=0,xr=0,Ns=null,Mn=null,Yc=!1,Bu=0,Kh=0,qu=1/0,Uu=null,Ql=null,sn=0,Xl=null,Sr=null,cl=0,Qc=0,Xc=null,Yh=null,_s=0,Gc=null;function Fn(){return(St&2)!==0&&ct!==0?ct&-ct:Y.T!==null?Pc():li()}function Qh(){if(Vn===0)if((ct&536870912)===0||ht){var e=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),Vn=e}else Vn=536870912;return e=Qn.current,e!==null&&(e.flags|=32),Vn}function zn(e,t,n){(e===Rt&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Gl(e,ct,Vn,!1)),Jn(e,n),((St&2)===0||e!==Rt)&&(e===Rt&&((St&2)===0&&(Ti|=n),Gt===4&&Gl(e,ct,Vn,!1)),za(e))}function Xh(e,t,n){if((St&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ua(e,t),i=a?Oy(e,t):Fc(e,t,!0),r=a;do{if(i===0){vr&&!a&&Gl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Cy(n)){i=Fc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;i=Ns;var _=x.current.memoizedState.isDehydrated;if(_&&(wr(x,p).flags|=256),p=Fc(x,p,!1),p!==2){if(Lc&&!_){x.errorRecoveryDisabledLanes|=r,Ti|=r,i=4;break e}r=Mn,Mn=i,r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){wr(e,0),Gl(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Gl(a,t,Vn,!Kl);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Bu+300-rn(),10<i)){if(Gl(a,t,Vn,!Kl),ni(a,0,!0)!==0)break e;cl=t,a.timeoutHandle=Sm(Gh.bind(null,a,n,Mn,Uu,Yc,t,Vn,Ti,xr,Kl,r,"Throttled",-0,0),i);break e}Gh(a,n,Mn,Uu,Yc,t,Vn,Ti,xr,Kl,r,null,-0,0)}}break}while(!0);za(e)}function Gh(e,t,n,a,i,r,p,x,_,Z,ne,re,P,I){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},qh(t,r,re);var Be=(r&62914560)===r?Bu-rn():(r&4194048)===r?Kh-rn():0;if(Be=f0(re,Be),Be!==null){cl=r,e.cancelPendingCommit=Be(Ih.bind(null,e,t,r,n,a,i,p,x,_,ne,re,null,P,I)),Gl(e,r,p,!Z);return}}Ih(e,t,r,n,a,i,p,x,_)}function Cy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!Sn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,a){t&=~Kc,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Ce(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&ai(e,n,t)}function Hu(){return(St&6)===0?(Es(0),!1):!0}function Vc(){if(st!==null){if(Nt===0)var e=st.return;else e=st,Ia=Si=null,uc(e),dr=null,us=0,e=st;for(;e!==null;)wh(e.alternate,e),e=e.return;st=null}}function wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cl=0,Vc(),Rt=e,st=n=Pa(e.current,null),ct=t,Nt=0,Gn=null,Kl=!1,vr=Ua(e,t),Lc=!1,xr=Vn=Kc=Ti=Yl=Gt=0,Mn=Ns=null,Yc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ce(a),r=1<<i;t|=e[i],a&=~r}return ol=t,We(),n}function Vh(e,t){et=null,Y.H=ys,t===fr||t===mu?(t=ud(),Nt=3):t===$o?(t=ud(),Nt=4):Nt=t===Nc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gn=t,st===null&&(Gt=1,Au(e,ea(t,e.current)))}function Fh(){var e=Qn.current;return e===null?!0:(ct&4194048)===ct?la===null:(ct&62914560)===ct||(ct&536870912)!==0?e===la:!1}function Zh(){var e=Y.H;return Y.H=ys,e===null?ys:e}function Jh(){var e=Y.A;return Y.A=_y,e}function Lu(){Gt=4,Kl||(ct&4194048)!==ct&&Qn.current!==null||(vr=!0),(Yl&134217727)===0&&(Ti&134217727)===0||Rt===null||Gl(Rt,ct,Vn,!1)}function Fc(e,t,n){var a=St;St|=2;var i=Zh(),r=Jh();(Rt!==e||ct!==t)&&(Uu=null,wr(e,t)),t=!1;var p=Gt;e:do try{if(Nt!==0&&st!==null){var x=st,_=Gn;switch(Nt){case 8:Vc(),p=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(t=!0);var Z=Nt;if(Nt=0,Gn=null,jr(e,x,_,Z),n&&vr){p=0;break e}break;default:Z=Nt,Nt=0,Gn=null,jr(e,x,_,Z)}}Ay(),p=Gt;break}catch(ne){Vh(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Ia=Si=null,St=a,Y.H=i,Y.A=r,st===null&&(Rt=null,ct=0,We()),p}function Ay(){for(;st!==null;)$h(st)}function Oy(e,t){var n=St;St|=2;var a=Zh(),i=Jh();Rt!==e||ct!==t?(Uu=null,qu=rn()+500,wr(e,t)):vr=Ua(e,t);e:do try{if(Nt!==0&&st!==null){t=st;var r=Gn;t:switch(Nt){case 1:Nt=0,Gn=null,jr(e,t,r,1);break;case 2:case 9:if(rd(r)){Nt=0,Gn=null,Ph(t);break}t=function(){Nt!==2&&Nt!==9||Rt!==e||(Nt=7),za(e)},r.then(t,t);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:rd(r)?(Nt=0,Gn=null,Ph(t)):(Nt=0,Gn=null,jr(e,t,r,7));break;case 5:var p=null;switch(st.tag){case 26:p=st.memoizedState;case 5:case 27:var x=st;if(p?Bm(p):x.stateNode.complete){Nt=0,Gn=null;var _=x.sibling;if(_!==null)st=_;else{var Z=x.return;Z!==null?(st=Z,Ku(Z)):st=null}break t}}Nt=0,Gn=null,jr(e,t,r,5);break;case 6:Nt=0,Gn=null,jr(e,t,r,6);break;case 8:Vc(),Gt=6;break e;default:throw Error(d(462))}}Ty();break}catch(ne){Vh(e,ne)}while(!0);return Ia=Si=null,Y.H=a,Y.A=i,St=n,st!==null?0:(Rt=null,ct=0,We(),Gt)}function Ty(){for(;st!==null&&!Bn();)$h(st)}function $h(e){var t=xh(e.alternate,e,ol);e.memoizedProps=e.pendingProps,t===null?Ku(e):st=t}function Ph(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:uc(t);default:wh(n,t),t=st=Jf(t,ol),t=xh(n,t,ol)}e.memoizedProps=e.pendingProps,t===null?Ku(e):st=t}function jr(e,t,n,a){Ia=Si=null,uc(t),dr=null,us=0;var i=t.return;try{if(by(e,i,t,n,ct)){Gt=1,Au(e,ea(n,e.current)),st=null;return}}catch(r){if(i!==null)throw st=i,r;Gt=1,Au(e,ea(n,e.current)),st=null;return}t.flags&32768?(ht||a===1?e=!0:vr||(ct&536870912)!==0?e=!1:(Kl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Qn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wh(t,e)):Ku(t)}function Ku(e){var t=e;do{if((t.flags&32768)!==0){Wh(t,Kl);return}e=t.return;var n=Sy(t.alternate,t,ol);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Gt===0&&(Gt=5)}function Wh(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);Gt=6,st=null}function Ih(e,t,n,a,i,r,p,x,_){e.cancelPendingCommit=null;do Yu();while(sn!==0);if((St&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Ye,Br(e,n,r,p,x,_),e===Rt&&(st=Rt=null,ct=0),Sr=t,Xl=e,cl=n,Qc=r,Xc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(va,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,i=pe.p,pe.p=2,p=St,St|=4;try{jy(e,t,n)}finally{St=p,pe.p=i,Y.T=a}}sn=1,em(),tm(),nm()}}function em(){if(sn===1){sn=0;var e=Xl,t=Sr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=pe.p;pe.p=2;var i=St;St|=4;try{Rh(t,e);var r=rf,p=y(e.containerInfo),x=r.focusedElem,_=r.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var Z=_.start,ne=_.end;if(ne===void 0&&(ne=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(ne,x.value.length);else{var re=x.ownerDocument||document,P=re&&re.defaultView||window;if(P.getSelection){var I=P.getSelection(),Be=x.textContent.length,Ze=Math.min(_.start,Be),Tt=_.end===void 0?Ze:Math.min(_.end,Be);!I.extend&&Ze>Tt&&(p=Tt,Tt=Ze,Ze=p);var U=f(x,Ze),k=f(x,Tt);if(U&&k&&(I.rangeCount!==1||I.anchorNode!==U.node||I.anchorOffset!==U.offset||I.focusNode!==k.node||I.focusOffset!==k.offset)){var V=re.createRange();V.setStart(U.node,U.offset),I.removeAllRanges(),Ze>Tt?(I.addRange(V),I.extend(k.node,k.offset)):(V.setEnd(k.node,k.offset),I.addRange(V))}}}}for(re=[],I=x;I=I.parentNode;)I.nodeType===1&&re.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var ie=re[x];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}eo=!!lf,rf=lf=null}finally{St=i,pe.p=a,Y.T=n}}e.current=t,sn=2}}function tm(){if(sn===2){sn=0;var e=Xl,t=Sr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=pe.p;pe.p=2;var i=St;St|=4;try{Oh(e,t.alternate,t)}finally{St=i,pe.p=a,Y.T=n}}sn=3}}function nm(){if(sn===4||sn===3){sn=0,qn();var e=Xl,t=Sr,n=cl,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?sn=5:(sn=0,Sr=Xl=null,am(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ql=null),bl(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Dt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,i=pe.p,pe.p=2,Y.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];r(x.value,{componentStack:x.stack})}}finally{Y.T=t,pe.p=i}}(cl&3)!==0&&Yu(),za(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Gc?_s++:(_s=0,Gc=e):_s=0,Es(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function Yu(){return em(),tm(),nm(),lm()}function lm(){if(sn!==5)return!1;var e=Xl,t=Qc;Qc=0;var n=bl(cl),a=Y.T,i=pe.p;try{pe.p=32>n?32:n,Y.T=null,n=Xc,Xc=null;var r=Xl,p=cl;if(sn=0,Sr=Xl=null,cl=0,(St&6)!==0)throw Error(d(331));var x=St;if(St|=4,Hh(r.current),Bh(r,r.current,p,n),St=x,Es(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Dt,r)}catch{}return!0}finally{pe.p=i,Y.T=a,am(e,t)}}function im(e,t,n){t=ea(n,t),t=jc(e.stateNode,t,2),e=ql(e,t,2),e!==null&&(Jn(e,2),za(e))}function _t(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ql===null||!Ql.has(a))){e=ea(n,e),n=rh(2),a=ql(t,n,2),a!==null&&(sh(n,a,t,e),Jn(a,2),za(a));break}}t=t.return}}function Zc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ey;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Lc=!0,i.add(n),e=Dy.bind(null,e,t,n),t.then(e,e))}function Dy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Rt===e&&(ct&n)===n&&(Gt===4||Gt===3&&(ct&62914560)===ct&&300>rn()-Bu?(St&2)===0&&wr(e,0):Kc|=n,xr===ct&&(xr=0)),za(e)}function rm(e,t){t===0&&(t=Zs()),e=jt(e,t),e!==null&&(Jn(e,t),za(e))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),rm(e,n)}function Ry(e,t){return kt(e,t)}var Qu=null,Nr=null,Jc=!1,Xu=!1,$c=!1,Vl=0;function za(e){e!==Nr&&e.next===null&&(Nr===null?Qu=Nr=e:Nr=Nr.next=e),Xu=!0,Jc||(Jc=!0,By())}function Es(e,t){if(!$c&&Xu){$c=!0;do for(var n=!1,a=Qu;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,x=a.pingedLanes;r=(1<<31-Ce(42|e)+1)-1,r&=i&~(p&~x),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cm(a,r))}else r=ct,r=ni(a,a===Rt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Ua(a,r)||(n=!0,cm(a,r));a=a.next}while(n);$c=!1}}function ky(){sm()}function sm(){Xu=Jc=!1;var e=0;Vl!==0&&Vy()&&(e=Vl);for(var t=rn(),n=null,a=Qu;a!==null;){var i=a.next,r=um(a,t);r===0?(a.next=null,n===null?Qu=i:n.next=i,i===null&&(Nr=n)):(n=a,(e!==0||(r&3)!==0)&&(Xu=!0)),a=i}sn!==0&&sn!==5||Es(e),Vl!==0&&(Vl=0)}function um(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-Ce(r),x=1<<p,_=i[p];_===-1?((x&n)===0||(x&a)!==0)&&(i[p]=Ao(x,t)):_<=t&&(e.expiredLanes|=x),r&=~x}if(t=Rt,n=ct,n=ni(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Nt===2||Nt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&It(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ua(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&It(a),bl(n)){case 2:case 8:n=Un;break;case 32:n=va;break;case 268435456:n=De;break;default:n=va}return a=om.bind(null,e),n=kt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&It(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var a=ct;return a=ni(e,e===Rt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xh(e,a,t),um(e,rn()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Yu())return null;Xh(e,t,!0)}function By(){Zy(function(){(St&6)!==0?kt(un,ky):sm()})}function Pc(){if(Vl===0){var e=or;e===0&&(e=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Vl=e}return Vl}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qy(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=fm((i[Ft]||null).action),p=a.submitter;p&&(t=(t=p[Ft]||null)?fm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var x=new Qi("action","action",null,a,i);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vl!==0){var _=p?dm(i,p):new FormData(i);gc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(x.preventDefault(),_=p?dm(i,p):new FormData(i),gc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var Wc=0;Wc<Te.length;Wc++){var Ic=Te[Wc],Uy=Ic.toLowerCase(),Hy=Ic[0].toUpperCase()+Ic.slice(1);de(Uy,"on"+Hy)}de(J,"onAnimationEnd"),de(L,"onAnimationIteration"),de(te,"onAnimationStart"),de("dblclick","onDoubleClick"),de("focusin","onFocus"),de("focusout","onBlur"),de(ce,"onTransitionRun"),de(_e,"onTransitionStart"),de(Ee,"onTransitionCancel"),de(fe,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,Z=x.currentTarget;if(x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=Z;try{r(i)}catch(ne){Re(ne)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,Z=x.currentTarget,x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=Z;try{r(i)}catch(ne){Re(ne)}i.currentTarget=null,r=_}}}}function ut(e,t){var n=t[vl];n===void 0&&(n=t[vl]=new Set);var a=e+"__bubble";n.has(a)||(mm(t,e,2,!1),n.add(a))}function ef(e,t,n){var a=0;t&&(a|=4),mm(n,e,a,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function tf(e){if(!e[Gu]){e[Gu]=!0,Ha.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||ef(n,!1,e),ef(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gu]||(t[Gu]=!0,ef("selectionchange",!1,t))}}function mm(e,t,n,a){switch(Qm(t)){case 2:var i=m0;break;case 8:i=p0;break;default:i=gf}n=i.bind(null,t,n,e),i=void 0,!Xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nf(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;x!==null;){if(p=ja(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}x=x.parentNode}}a=a.return}Sl(function(){var Z=r,ne=Ki(n),re=[];e:{var P=ze.get(e);if(P!==void 0){var I=Qi,Be=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":I=$i;break;case"focusin":Be="focus",I=_l;break;case"focusout":Be="blur",I=_l;break;case"beforeblur":case"afterblur":I=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Pr;break;case J:case L:case te:I=Is;break;case fe:I=Wr;break;case"scroll":case"scrollend":I=Xi;break;case"wheel":I=Wi;break;case"copy":case"cut":case"paste":I=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=$r;break;case"toggle":case"beforetoggle":I=nu}var Ze=(t&4)!==0,Tt=!Ze&&(e==="scroll"||e==="scrollend"),U=Ze?P!==null?P+"Capture":null:P;Ze=[];for(var k=Z,V;k!==null;){var ie=k;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||U===null||(ie=Xa(k,U),ie!=null&&Ze.push(As(k,ie,V))),Tt)break;k=k.return}0<Ze.length&&(P=new I(P,Be,null,n,ne),re.push({event:P,listeners:Ze}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",P&&n!==Pn&&(Be=n.relatedTarget||n.fromElement)&&(ja(Be)||Be[Nn]))break e;if((I||P)&&(P=ne.window===ne?ne:(P=ne.ownerDocument)?P.defaultView||P.parentWindow:window,I?(Be=n.relatedTarget||n.toElement,I=Z,Be=Be?ja(Be):null,Be!==null&&(Tt=S(Be),Ze=Be.tag,Be!==Tt||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(I=null,Be=Z),I!==Be)){if(Ze=Vi,ie="onMouseLeave",U="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Ze=$r,ie="onPointerLeave",U="onPointerEnter",k="pointer"),Tt=I==null?P:Ln(I),V=Be==null?P:Ln(Be),P=new Ze(ie,k+"leave",I,n,ne),P.target=Tt,P.relatedTarget=V,ie=null,ja(ne)===Z&&(Ze=new Ze(U,k+"enter",Be,n,ne),Ze.target=V,Ze.relatedTarget=Tt,ie=Ze),Tt=ie,I&&Be)t:{for(Ze=Ky,U=I,k=Be,V=0,ie=U;ie;ie=Ze(ie))V++;ie=0;for(var Xe=k;Xe;Xe=Ze(Xe))ie++;for(;0<V-ie;)U=Ze(U),V--;for(;0<ie-V;)k=Ze(k),ie--;for(;V--;){if(U===k||k!==null&&U===k.alternate){Ze=U;break t}U=Ze(U),k=Ze(k)}Ze=null}else Ze=null;I!==null&&pm(re,P,I,Ze,!1),Be!==null&&Tt!==null&&pm(re,Tt,Be,Ze,!0)}}e:{if(P=Z?Ln(Z):window,I=P.nodeName&&P.nodeName.toLowerCase(),I==="select"||I==="input"&&P.type==="file")var pt=bi;else if(tr(P))if(In)pt=Ol;else{pt=$a;var He=uu}else I=P.nodeName,!I||I.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?Z&&Qr(Z.elementType)&&(pt=bi):pt=as;if(pt&&(pt=pt(e,Z))){ns(re,pt,n,ne);break e}He&&He(e,P,Z),e==="focusout"&&Z&&P.type==="number"&&Z.memoizedProps.value!=null&&ci(P,"number",P.value)}switch(He=Z?Ln(Z):window,e){case"focusin":(tr(He)||He.contentEditable==="true")&&(j=He,A=Z,H=null);break;case"focusout":H=A=j=null;break;case"mousedown":O=!0;break;case"contextmenu":case"mouseup":case"dragend":O=!1,E(re,n,ne);break;case"selectionchange":if(w)break;case"keydown":case"keyup":E(re,n,ne)}var tt;if(yi)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Za?ts(e,n)&&(ft="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ft="onCompositionStart");ft&&(Ii&&n.locale!=="ko"&&(Za||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Za&&(tt=jl()):(Wn=ne,Yi="value"in Wn?Wn.value:Wn.textContent,Za=!0)),He=Vu(Z,ft),0<He.length&&(ft=new Ji(ft,e,null,n,ne),re.push({event:ft,listeners:He}),tt?ft.data=tt:(tt=lu(n),tt!==null&&(ft.data=tt)))),(tt=Ro?iu(e,n):ko(e,n))&&(ft=Vu(Z,"onBeforeInput"),0<ft.length&&(He=new Ji("onBeforeInput","beforeinput",null,n,ne),re.push({event:He,listeners:ft}),He.data=tt)),qy(re,e,Z,n,ne)}hm(re,t)})}function As(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Xa(e,n),i!=null&&a.unshift(As(e,i,r)),i=Xa(e,t),i!=null&&a.push(As(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,Z=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||Z===null||(_=Z,i?(Z=Xa(n,r),Z!=null&&p.unshift(As(n,Z,_))):i||(Z=Xa(n,r),Z!=null&&p.push(As(n,Z,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Yy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Qy,"")}function gm(e,t){return t=ym(t),ym(e)===t}function Ot(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ka(e,""+a);break;case"className":ui(e,"class",a);break;case"tabIndex":ui(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,n,a);break;case"style":Yr(e,a,r);break;case"data":if(t!=="object"){ui(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ma(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Ot(e,t,"name",i.name,i,null),Ot(e,t,"formEncType",i.formEncType,i,null),Ot(e,t,"formMethod",i.formMethod,i,null),Ot(e,t,"formTarget",i.formTarget,i,null)):(Ot(e,t,"encType",i.encType,i,null),Ot(e,t,"method",i.method,i,null),Ot(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ma(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=An);break;case"onScroll":a!=null&&ut("scroll",e);break;case"onScrollEnd":a!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ma(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ut("beforetoggle",e),ut("toggle",e),lt(e,"popover",a);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":lt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Do.get(n)||n,lt(e,n,a))}}function af(e,t,n,a,i,r){switch(n){case"style":Yr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&Ka(e,""+a);break;case"onScroll":a!=null&&ut("scroll",e);break;case"onScrollEnd":a!=null&&ut("scrollend",e);break;case"onClick":a!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Ft]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):lt(e,n,a)}}}function bn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ot(e,t,r,p,n,null)}}i&&Ot(e,t,"srcSet",n.srcSet,n,null),a&&Ot(e,t,"src",n.src,n,null);return;case"input":ut("invalid",e);var x=r=p=i=null,_=null,Z=null;for(a in n)if(n.hasOwnProperty(a)){var ne=n[a];if(ne!=null)switch(a){case"name":i=ne;break;case"type":p=ne;break;case"checked":_=ne;break;case"defaultChecked":Z=ne;break;case"value":r=ne;break;case"defaultValue":x=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,t));break;default:Ot(e,t,a,ne,n,null)}}Li(e,r,x,_,Z,p,i,!1);return;case"select":ut("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(x=n[i],x!=null))switch(i){case"value":r=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Ot(e,t,i,x,n,null)}t=r,n=p,e.multiple=!!a,t!=null?ha(e,!!a,t,!1):n!=null&&ha(e,!!a,n,!0);return;case"textarea":ut("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":i=x;break;case"children":r=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Ot(e,t,p,x,n,null)}fi(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Ot(e,t,_,a,n,null));return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(a=0;a<Cs.length;a++)ut(Cs[a],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(a=n[Z],a!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ot(e,t,Z,a,n,null)}return;default:if(Qr(t)){for(ne in n)n.hasOwnProperty(ne)&&(a=n[ne],a!==void 0&&af(e,t,ne,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Ot(e,t,x,a,n,null))}function Xy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,x=null,_=null,Z=null,ne=null;for(I in n){var re=n[I];if(n.hasOwnProperty(I)&&re!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=re;default:a.hasOwnProperty(I)||Ot(e,t,I,null,a,re)}}for(var P in a){var I=a[P];if(re=n[P],a.hasOwnProperty(P)&&(I!=null||re!=null))switch(P){case"type":r=I;break;case"name":i=I;break;case"checked":Z=I;break;case"defaultChecked":ne=I;break;case"value":p=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(d(137,t));break;default:I!==re&&Ot(e,t,P,I,a,re)}}_a(e,p,x,_,Z,ne,r,i);return;case"select":I=p=x=P=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":I=_;default:a.hasOwnProperty(r)||Ot(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":P=r;break;case"defaultValue":x=r;break;case"multiple":p=r;default:r!==_&&Ot(e,t,i,r,a,_)}t=x,n=p,a=I,P!=null?ha(e,!!n,P,!1):!!a!=!!n&&(t!=null?ha(e,!!n,t,!0):ha(e,!!n,n?[]:"",!1));return;case"textarea":I=P=null;for(x in n)if(i=n[x],n.hasOwnProperty(x)&&i!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ot(e,t,x,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":P=i;break;case"defaultValue":I=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&Ot(e,t,p,i,a,r)}Kr(e,P,I);return;case"option":for(var Be in n)P=n[Be],n.hasOwnProperty(Be)&&P!=null&&!a.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:Ot(e,t,Be,null,a,P));for(_ in a)P=a[_],I=n[_],a.hasOwnProperty(_)&&P!==I&&(P!=null||I!=null)&&(_==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Ot(e,t,_,P,a,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in n)P=n[Ze],n.hasOwnProperty(Ze)&&P!=null&&!a.hasOwnProperty(Ze)&&Ot(e,t,Ze,null,a,P);for(Z in a)if(P=a[Z],I=n[Z],a.hasOwnProperty(Z)&&P!==I&&(P!=null||I!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(d(137,t));break;default:Ot(e,t,Z,P,a,I)}return;default:if(Qr(t)){for(var Tt in n)P=n[Tt],n.hasOwnProperty(Tt)&&P!==void 0&&!a.hasOwnProperty(Tt)&&af(e,t,Tt,void 0,a,P);for(ne in a)P=a[ne],I=n[ne],!a.hasOwnProperty(ne)||P===I||P===void 0&&I===void 0||af(e,t,ne,P,a,I);return}}for(var U in n)P=n[U],n.hasOwnProperty(U)&&P!=null&&!a.hasOwnProperty(U)&&Ot(e,t,U,null,a,P);for(re in a)P=a[re],I=n[re],!a.hasOwnProperty(re)||P===I||P==null&&I==null||Ot(e,t,re,P,a,I)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,x=i.duration;if(r&&x&&bm(p)){for(p=0,x=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],Z=_.startTime;if(Z>x)break;var ne=_.transferSize,re=_.initiatorType;ne&&bm(re)&&(_=_.responseEnd,p+=ne*(_<x?1:(x-Z)/(_-Z)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,rf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===uf?!1:(uf=e,!0):(uf=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(Jy)}:Sm;function Jy(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function jm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ar(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Os(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Os(n);for(var r=n.firstChild;r;){var p=r.nextSibling,x=r.nodeName;r[Hn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Os(e.ownerDocument.body);n=i}while(n);Ar(t)}function Nm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":of(n),Ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $y(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ia(e.nextSibling),e===null)break}return null}function Py(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ia(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ia(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var df=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ia(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,n){switch(t=Fu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Os(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var ra=new Map,Om=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fl=pe.d;pe.d={f:Iy,r:e0,D:t0,C:n0,L:a0,m:l0,X:r0,S:i0,M:s0};function Iy(){var e=fl.f(),t=Hu();return e||t}function e0(e){var t=Et(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):fl.r(e)}var _r=typeof document>"u"?null:document;function Tm(e,t,n){var a=_r;if(a&&typeof t=="string"&&t){var i=on(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Om.has(i)||(Om.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),bn(t,"link",e),Zt(t),a.head.appendChild(t)))}}function t0(e){fl.D(e),Tm("dns-prefetch",e,null)}function n0(e,t){fl.C(e,t),Tm("preconnect",e,t)}function a0(e,t,n){fl.L(e,t,n);var a=_r;if(a&&e&&t){var i='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+on(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+on(n.imageSizes)+'"]')):i+='[href="'+on(e)+'"]';var r=i;switch(t){case"style":r=Er(e);break;case"script":r=Cr(e)}ra.has(r)||(e=R({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ra.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ts(r))||t==="script"&&a.querySelector(Ds(r))||(t=a.createElement("link"),bn(t,"link",e),Zt(t),a.head.appendChild(t)))}}function l0(e,t){fl.m(e,t);var n=_r;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+on(a)+'"][href="'+on(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cr(e)}if(!ra.has(r)&&(e=R({rel:"modulepreload",href:e},t),ra.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ds(r)))return}a=n.createElement("link"),bn(a,"link",e),Zt(a),n.head.appendChild(a)}}}function i0(e,t,n){fl.S(e,t,n);var a=_r;if(a&&e){var i=vn(a).hoistableStyles,r=Er(e);t=t||"default";var p=i.get(r);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(Ts(r)))x.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ra.get(r))&&hf(e,n);var _=p=a.createElement("link");Zt(_),bn(_,"link",e),_._p=new Promise(function(Z,ne){_.onload=Z,_.onerror=ne}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ju(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},i.set(r,p)}}}function r0(e,t){fl.X(e,t);var n=_r;if(n&&e){var a=vn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ds(i)),r||(e=R({src:e,async:!0},t),(t=ra.get(i))&&mf(e,t),r=n.createElement("script"),Zt(r),bn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function s0(e,t){fl.M(e,t);var n=_r;if(n&&e){var a=vn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ds(i)),r||(e=R({src:e,async:!0,type:"module"},t),(t=ra.get(i))&&mf(e,t),r=n.createElement("script"),Zt(r),bn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Dm(e,t,n,a){var i=(i=Ie.current)?Zu(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Er(n.href),n=vn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Er(n.href);var r=vn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ts(e)))&&!r._p&&(p.instance=r,p.state.loading=5),ra.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ra.set(e,n),r||u0(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=vn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Er(e){return'href="'+on(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function u0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),bn(t,"link",n),Zt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+on(e)+'"]'}function Ds(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+on(n.href)+'"]');if(a)return t.instance=a,Zt(a),a;var i=R({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Zt(a),bn(a,"style",i),Ju(a,n.precedence,e),t.instance=a;case"stylesheet":i=Er(n.href);var r=e.querySelector(Ts(i));if(r)return t.state.loading|=4,t.instance=r,Zt(r),r;a=Mm(n),(i=ra.get(i))&&hf(a,i),r=(e.ownerDocument||e).createElement("link"),Zt(r);var p=r;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),bn(r,"link",a),t.state.loading|=4,Ju(r,n.precedence,e),t.instance=r;case"script":return r=Cr(n.src),(i=e.querySelector(Ds(r)))?(t.instance=i,Zt(i),i):(a=n,(i=ra.get(r))&&(a=R({},n),mf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Zt(i),bn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ju(a,n.precedence,e));return t.instance}function Ju(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)r=x;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $u=null;function Rm(e,t,n){if($u===null){var a=new Map,i=$u=new Map;i.set(n,a)}else i=$u,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Hn]||r[Bt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(r):a.set(p,[r])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Er(a.href),r=t.querySelector(Ts(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Zt(r);return}r=t.ownerDocument||t,a=Mm(a),(i=ra.get(i))&&hf(a,i),r=r.createElement("link"),Zt(r);var p=r;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),bn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Pu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pf=0;function f0(e,t){return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&pf===0&&(pf=62500*Gy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>pf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function Iu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(d0,e),Wu=null,Pu.call(e))}function d0(e,t){if(!(t.state.loading&4)){var n=Wu.get(e);if(n)var a=n.get(null);else{n=new Map,Wu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=Pu.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ms={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function h0(e,t,n,a,i,r,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,n,a,i,r,p,x,_,Z,ne,re){return e=new h0(e,t,n,p,_,Z,ne,re,x),t=1,r===!0&&(t|=24),r=Yn(3,null,null,t),e.current=r,r.stateNode=e,t=Fo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Po(r),e}function Um(e){return e?(e=lr,e):lr}function Hm(e,t,n,a,i,r){i=Um(i),a.context===null?a.context=i:a.pendingContext=i,a=Bl(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ql(e,a,t),n!==null&&(zn(n,e,t),cs(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Km(e){if(e.tag===13||e.tag===31){var t=jt(e,67108864);t!==null&&zn(t,e,67108864),yf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Fn();t=qr(t);var n=jt(e,t);n!==null&&zn(n,e,t),yf(e,t)}}var eo=!0;function m0(e,t,n,a){var i=Y.T;Y.T=null;var r=pe.p;try{pe.p=2,gf(e,t,n,a)}finally{pe.p=r,Y.T=i}}function p0(e,t,n,a){var i=Y.T;Y.T=null;var r=pe.p;try{pe.p=8,gf(e,t,n,a)}finally{pe.p=r,Y.T=i}}function gf(e,t,n,a){if(eo){var i=bf(a);if(i===null)nf(e,t,a,to,n),Xm(e,a);else if(g0(i,e,t,n,a))a.stopPropagation();else if(Xm(e,a),t&4&&-1<y0.indexOf(e)){for(;i!==null;){var r=Et(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=fa(r.pendingLanes);if(p!==0){var x=r;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Ce(p);x.entanglements[1]|=_,p&=~_}za(r),(St&6)===0&&(qu=rn()+500,Es(0))}}break;case 31:case 13:x=jt(r,2),x!==null&&zn(x,r,2),Hu(),yf(r,2)}if(r=bf(a),r===null&&nf(e,t,a,to,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else nf(e,t,a,null,n)}}function bf(e){return e=Ki(e),vf(e)}var to=null;function vf(e){if(to=null,e=ja(e),e!==null){var t=S(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ba()){case un:return 2;case Un:return 8;case va:case Ba:return 32;case De:return 268435456;default:return 32}default:return 32}}var xf=!1,Zl=null,Jl=null,$l=null,zs=new Map,Rs=new Map,Pl=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ks(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Et(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g0(e,t,n,a,i){switch(t){case"focusin":return Zl=ks(Zl,e,t,n,a,i),!0;case"dragenter":return Jl=ks(Jl,e,t,n,a,i),!0;case"mouseover":return $l=ks($l,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return zs.set(r,ks(zs.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Rs.set(r,ks(Rs.get(r)||null,e,t,n,a,i)),!0}return!1}function Gm(e){var t=ja(e.target);if(t!==null){var n=S(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Pn=a,n.target.dispatchEvent(a),Pn=null}else return t=Et(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){no(e)&&n.delete(t)}function b0(){xf=!1,Zl!==null&&no(Zl)&&(Zl=null),Jl!==null&&no(Jl)&&(Jl=null),$l!==null&&no($l)&&($l=null),zs.forEach(Vm),Rs.forEach(Vm)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,xf||(xf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,b0)))}var lo=null;function Fm(e){lo!==e&&(lo=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(vf(a||n)===null)continue;break}var r=Et(n);r!==null&&(e.splice(t,3),t-=3,gc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ar(e){function t(_){return ao(_,e)}Zl!==null&&ao(Zl,e),Jl!==null&&ao(Jl,e),$l!==null&&ao($l,e),zs.forEach(t),Rs.forEach(t);for(var n=0;n<Pl.length;n++){var a=Pl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Gm(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[Ft]||null;if(typeof r=="function")p||Fm(n);else if(p){var x=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[Ft]||null)x=p.formAction;else if(vf(i)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Fm(n)}}}function Zm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Sf(e){this._internalRoot=e}io.prototype.render=Sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Fn();Hm(n,a,e,t,null,null)},io.prototype.unmount=Sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Hu(),t[Nn]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=li();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Gm(e)}};var Jm=o.version;if(Jm!=="19.2.4")throw Error(d(527,Jm,"19.2.4"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=C(t),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Dt=ro.inject(v0),wt=ro}catch{}}return Bs.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",i=nh,r=ah,p=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qm(e,1,!1,null,null,n,a,null,i,r,p,Zm),e[Nn]=t.current,tf(e),new Sf(t)},Bs.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,i="",r=nh,p=ah,x=lh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=qm(e,1,!0,t,n??null,a,i,_,r,p,x,Zm),t.context=Um(null),n=t.current,a=Fn(),a=qr(a),i=Bl(a),i.callback=null,ql(n,i,a),n=a,t.current.lanes=n,Jn(t,n),za(t),e[Nn]=t.current,tf(e),new io(t)},Bs.version="19.2.4",Bs}var Im;function B0(){if(Im)return wf.exports;Im=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(o){console.error(o)}}return u(),wf.exports=k0(),wf.exports}var q0=B0();const ep=u=>{let o;const m=new Set,d=(C,M)=>{const R=typeof C=="function"?C(o):C;if(!Object.is(R,o)){const $=o;o=M??(typeof R!="object"||R===null)?R:Object.assign({},o,R),m.forEach(he=>he(o,$))}},g=()=>o,N={setState:d,getState:g,getInitialState:()=>q,subscribe:C=>(m.add(C),()=>m.delete(C))},q=o=u(d,g,N);return N},U0=(u=>u?ep(u):ep),H0=u=>u;function L0(u,o=H0){const m=so.useSyncExternalStore(u.subscribe,so.useCallback(()=>o(u.getState()),[u,o]),so.useCallback(()=>o(u.getInitialState()),[u,o]));return so.useDebugValue(m),m}const tp=u=>{const o=U0(u),m=d=>L0(o,d);return Object.assign(m,o),m},K0=(u=>u?tp(u):tp);function Y0(u,o){let m;try{m=u()}catch{return}return{getItem:g=>{var S;const v=q=>q===null?null:JSON.parse(q,void 0),N=(S=m.getItem(g))!=null?S:null;return N instanceof Promise?N.then(v):v(N)},setItem:(g,S)=>m.setItem(g,JSON.stringify(S,void 0)),removeItem:g=>m.removeItem(g)}}const Of=u=>o=>{try{const m=u(o);return m instanceof Promise?m:{then(d){return Of(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Of(d)(m)}}}},Q0=(u,o)=>(m,d,g)=>{let S={storage:Y0(()=>window.localStorage),partialize:F=>F,version:0,merge:(F,Ae)=>({...Ae,...F}),...o},v=!1,N=0;const q=new Set,C=new Set;let M=S.storage;if(!M)return u((...F)=>{console.warn(`[zustand persist middleware] Unable to update item '${S.name}', the given storage is currently unavailable.`),m(...F)},d,g);const R=()=>{const F=S.partialize({...d()});return M.setItem(S.name,{state:F,version:S.version})},$=g.setState;g.setState=(F,Ae)=>($(F,Ae),R());const he=u((...F)=>(m(...F),R()),d,g);g.getInitialState=()=>he;let G;const le=()=>{var F,Ae;if(!M)return;const ue=++N;v=!1,q.forEach(ee=>{var xe;return ee((xe=d())!=null?xe:he)});const ve=((Ae=S.onRehydrateStorage)==null?void 0:Ae.call(S,(F=d())!=null?F:he))||void 0;return Of(M.getItem.bind(M))(S.name).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==S.version){if(S.migrate){const xe=S.migrate(ee.state,ee.version);return xe instanceof Promise?xe.then(me=>[!0,me]):[!0,xe]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ee.state];return[!1,void 0]}).then(ee=>{var xe;if(ue!==N)return;const[me,Se]=ee;if(G=S.merge(Se,(xe=d())!=null?xe:he),m(G,!0),me)return R()}).then(()=>{ue===N&&(ve?.(G,void 0),G=d(),v=!0,C.forEach(ee=>ee(G)))}).catch(ee=>{ue===N&&ve?.(void 0,ee)})};return g.persist={setOptions:F=>{S={...S,...F},F.storage&&(M=F.storage)},clearStorage:()=>{M?.removeItem(S.name)},getOptions:()=>S,rehydrate:()=>le(),hasHydrated:()=>v,onHydrate:F=>(q.add(F),()=>{q.delete(F)}),onFinishHydration:F=>(C.add(F),()=>{C.delete(F)})},S.skipHydration||le(),G||he},X0=Q0,pl=K0(X0(u=>({token:null,setToken:o=>u({token:o}),logout:()=>u({token:null})}),{name:"wisemark-auth",partialize:u=>({token:u.token})}));function Dp(u,o){return function(){return u.apply(o,arguments)}}const{toString:G0}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:So,toStringTag:Mp}=Symbol,wo=(u=>o=>{const m=G0.call(o);return u[m]||(u[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),ga=u=>(u=u.toLowerCase(),o=>wo(o)===u),jo=u=>o=>typeof o===u,{isArray:kr}=Array,Dr=jo("undefined");function Ys(u){return u!==null&&!Dr(u)&&u.constructor!==null&&!Dr(u.constructor)&&Rn(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const zp=ga("ArrayBuffer");function V0(u){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(u):o=u&&u.buffer&&zp(u.buffer),o}const F0=jo("string"),Rn=jo("function"),Rp=jo("number"),Qs=u=>u!==null&&typeof u=="object",Z0=u=>u===!0||u===!1,co=u=>{if(wo(u)!=="object")return!1;const o=Hf(u);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Mp in u)&&!(So in u)},J0=u=>{if(!Qs(u)||Ys(u))return!1;try{return Object.keys(u).length===0&&Object.getPrototypeOf(u)===Object.prototype}catch{return!1}},$0=ga("Date"),P0=ga("File"),W0=ga("Blob"),I0=ga("FileList"),eg=u=>Qs(u)&&Rn(u.pipe),tg=u=>{let o;return u&&(typeof FormData=="function"&&u instanceof FormData||Rn(u.append)&&((o=wo(u))==="formdata"||o==="object"&&Rn(u.toString)&&u.toString()==="[object FormData]"))},ng=ga("URLSearchParams"),[ag,lg,ig,rg]=["ReadableStream","Request","Response","Headers"].map(ga),sg=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(u,o,{allOwnKeys:m=!1}={}){if(u===null||typeof u>"u")return;let d,g;if(typeof u!="object"&&(u=[u]),kr(u))for(d=0,g=u.length;d<g;d++)o.call(null,u[d],d,u);else{if(Ys(u))return;const S=m?Object.getOwnPropertyNames(u):Object.keys(u),v=S.length;let N;for(d=0;d<v;d++)N=S[d],o.call(null,u[N],N,u)}}function kp(u,o){if(Ys(u))return null;o=o.toLowerCase();const m=Object.keys(u);let d=m.length,g;for(;d-- >0;)if(g=m[d],o===g.toLowerCase())return g;return null}const Di=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bp=u=>!Dr(u)&&u!==Di;function Tf(){const{caseless:u,skipUndefined:o}=Bp(this)&&this||{},m={},d=(g,S)=>{if(S==="__proto__"||S==="constructor"||S==="prototype")return;const v=u&&kp(m,S)||S;co(m[v])&&co(g)?m[v]=Tf(m[v],g):co(g)?m[v]=Tf({},g):kr(g)?m[v]=g.slice():(!o||!Dr(g))&&(m[v]=g)};for(let g=0,S=arguments.length;g<S;g++)arguments[g]&&Xs(arguments[g],d);return m}const ug=(u,o,m,{allOwnKeys:d}={})=>(Xs(o,(g,S)=>{m&&Rn(g)?Object.defineProperty(u,S,{value:Dp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(u,S,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),u),og=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),cg=(u,o,m,d)=>{u.prototype=Object.create(o.prototype,d),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(u,"super",{value:o.prototype}),m&&Object.assign(u.prototype,m)},fg=(u,o,m,d)=>{let g,S,v;const N={};if(o=o||{},u==null)return o;do{for(g=Object.getOwnPropertyNames(u),S=g.length;S-- >0;)v=g[S],(!d||d(v,u,o))&&!N[v]&&(o[v]=u[v],N[v]=!0);u=m!==!1&&Hf(u)}while(u&&(!m||m(u,o))&&u!==Object.prototype);return o},dg=(u,o,m)=>{u=String(u),(m===void 0||m>u.length)&&(m=u.length),m-=o.length;const d=u.indexOf(o,m);return d!==-1&&d===m},hg=u=>{if(!u)return null;if(kr(u))return u;let o=u.length;if(!Rp(o))return null;const m=new Array(o);for(;o-- >0;)m[o]=u[o];return m},mg=(u=>o=>u&&o instanceof u)(typeof Uint8Array<"u"&&Hf(Uint8Array)),pg=(u,o)=>{const d=(u&&u[So]).call(u);let g;for(;(g=d.next())&&!g.done;){const S=g.value;o.call(u,S[0],S[1])}},yg=(u,o)=>{let m;const d=[];for(;(m=u.exec(o))!==null;)d.push(m);return d},gg=ga("HTMLFormElement"),bg=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),np=(({hasOwnProperty:u})=>(o,m)=>u.call(o,m))(Object.prototype),vg=ga("RegExp"),qp=(u,o)=>{const m=Object.getOwnPropertyDescriptors(u),d={};Xs(m,(g,S)=>{let v;(v=o(g,S,u))!==!1&&(d[S]=v||g)}),Object.defineProperties(u,d)},xg=u=>{qp(u,(o,m)=>{if(Rn(u)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=u[m];if(Rn(d)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Sg=(u,o)=>{const m={},d=g=>{g.forEach(S=>{m[S]=!0})};return kr(u)?d(u):d(String(u).split(o)),m},wg=()=>{},jg=(u,o)=>u!=null&&Number.isFinite(u=+u)?u:o;function Ng(u){return!!(u&&Rn(u.append)&&u[Mp]==="FormData"&&u[So])}const _g=u=>{const o=new Array(10),m=(d,g)=>{if(Qs(d)){if(o.indexOf(d)>=0)return;if(Ys(d))return d;if(!("toJSON"in d)){o[g]=d;const S=kr(d)?[]:{};return Xs(d,(v,N)=>{const q=m(v,g+1);!Dr(q)&&(S[N]=q)}),o[g]=void 0,S}}return d};return m(u,0)},Eg=ga("AsyncFunction"),Cg=u=>u&&(Qs(u)||Rn(u))&&Rn(u.then)&&Rn(u.catch),Up=((u,o)=>u?setImmediate:o?((m,d)=>(Di.addEventListener("message",({source:g,data:S})=>{g===Di&&S===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Di.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Rn(Di.postMessage)),Ag=typeof queueMicrotask<"u"?queueMicrotask.bind(Di):typeof process<"u"&&process.nextTick||Up,Og=u=>u!=null&&Rn(u[So]),W={isArray:kr,isArrayBuffer:zp,isBuffer:Ys,isFormData:tg,isArrayBufferView:V0,isString:F0,isNumber:Rp,isBoolean:Z0,isObject:Qs,isPlainObject:co,isEmptyObject:J0,isReadableStream:ag,isRequest:lg,isResponse:ig,isHeaders:rg,isUndefined:Dr,isDate:$0,isFile:P0,isBlob:W0,isRegExp:vg,isFunction:Rn,isStream:eg,isURLSearchParams:ng,isTypedArray:mg,isFileList:I0,forEach:Xs,merge:Tf,extend:ug,trim:sg,stripBOM:og,inherits:cg,toFlatObject:fg,kindOf:wo,kindOfTest:ga,endsWith:dg,toArray:hg,forEachEntry:pg,matchAll:yg,isHTMLForm:gg,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:qp,freezeMethods:xg,toObjectSet:Sg,toCamelCase:bg,noop:wg,toFiniteNumber:jg,findKey:kp,global:Di,isContextDefined:Bp,isSpecCompliantForm:Ng,toJSONObject:_g,isAsyncFn:Eg,isThenable:Cg,setImmediate:Up,asap:Ag,isIterable:Og};let Je=class Hp extends Error{static from(o,m,d,g,S,v){const N=new Hp(o.message,m||o.code,d,g,S);return N.cause=o,N.name=o.name,v&&Object.assign(N,v),N}constructor(o,m,d,g,S){super(o),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),S&&(this.response=S,this.status=S.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}};Je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Je.ERR_BAD_OPTION="ERR_BAD_OPTION";Je.ECONNABORTED="ECONNABORTED";Je.ETIMEDOUT="ETIMEDOUT";Je.ERR_NETWORK="ERR_NETWORK";Je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Je.ERR_DEPRECATED="ERR_DEPRECATED";Je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Je.ERR_CANCELED="ERR_CANCELED";Je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Je.ERR_INVALID_URL="ERR_INVALID_URL";const Tg=null;function Df(u){return W.isPlainObject(u)||W.isArray(u)}function Lp(u){return W.endsWith(u,"[]")?u.slice(0,-2):u}function ap(u,o,m){return u?u.concat(o).map(function(g,S){return g=Lp(g),!m&&S?"["+g+"]":g}).join(m?".":""):o}function Dg(u){return W.isArray(u)&&!u.some(Df)}const Mg=W.toFlatObject(W,{},null,function(o){return/^is[A-Z]/.test(o)});function No(u,o,m){if(!W.isObject(u))throw new TypeError("target must be an object");o=o||new FormData,m=W.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(le,F){return!W.isUndefined(F[le])});const d=m.metaTokens,g=m.visitor||M,S=m.dots,v=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(o);if(!W.isFunction(g))throw new TypeError("visitor must be a function");function C(G){if(G===null)return"";if(W.isDate(G))return G.toISOString();if(W.isBoolean(G))return G.toString();if(!q&&W.isBlob(G))throw new Je("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(G)||W.isTypedArray(G)?q&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function M(G,le,F){let Ae=G;if(G&&!F&&typeof G=="object"){if(W.endsWith(le,"{}"))le=d?le:le.slice(0,-2),G=JSON.stringify(G);else if(W.isArray(G)&&Dg(G)||(W.isFileList(G)||W.endsWith(le,"[]"))&&(Ae=W.toArray(G)))return le=Lp(le),Ae.forEach(function(ve,ee){!(W.isUndefined(ve)||ve===null)&&o.append(v===!0?ap([le],ee,S):v===null?le:le+"[]",C(ve))}),!1}return Df(G)?!0:(o.append(ap(F,le,S),C(G)),!1)}const R=[],$=Object.assign(Mg,{defaultVisitor:M,convertValue:C,isVisitable:Df});function he(G,le){if(!W.isUndefined(G)){if(R.indexOf(G)!==-1)throw Error("Circular reference detected in "+le.join("."));R.push(G),W.forEach(G,function(Ae,ue){(!(W.isUndefined(Ae)||Ae===null)&&g.call(o,Ae,W.isString(ue)?ue.trim():ue,le,$))===!0&&he(Ae,le?le.concat(ue):[ue])}),R.pop()}}if(!W.isObject(u))throw new TypeError("data must be an object");return he(u),o}function lp(u){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(d){return o[d]})}function Lf(u,o){this._pairs=[],u&&No(u,this,o)}const Kp=Lf.prototype;Kp.append=function(o,m){this._pairs.push([o,m])};Kp.toString=function(o){const m=o?function(d){return o.call(this,d,lp)}:lp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function zg(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yp(u,o,m){if(!o)return u;const d=m&&m.encode||zg,g=W.isFunction(m)?{serialize:m}:m,S=g&&g.serialize;let v;if(S?v=S(o,g):v=W.isURLSearchParams(o)?o.toString():new Lf(o,g).toString(d),v){const N=u.indexOf("#");N!==-1&&(u=u.slice(0,N)),u+=(u.indexOf("?")===-1?"?":"&")+v}return u}class ip{constructor(){this.handlers=[]}use(o,m,d){return this.handlers.push({fulfilled:o,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){W.forEach(this.handlers,function(d){d!==null&&o(d)})}}const Kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Rg=typeof URLSearchParams<"u"?URLSearchParams:Lf,kg=typeof FormData<"u"?FormData:null,Bg=typeof Blob<"u"?Blob:null,qg={isBrowser:!0,classes:{URLSearchParams:Rg,FormData:kg,Blob:Bg},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Mf=typeof navigator=="object"&&navigator||void 0,Ug=Yf&&(!Mf||["ReactNative","NativeScript","NS"].indexOf(Mf.product)<0),Hg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lg=Yf&&window.location.href||"http://localhost",Kg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:Ug,hasStandardBrowserWebWorkerEnv:Hg,navigator:Mf,origin:Lg},Symbol.toStringTag,{value:"Module"})),jn={...Kg,...qg};function Yg(u,o){return No(u,new jn.classes.URLSearchParams,{visitor:function(m,d,g,S){return jn.isNode&&W.isBuffer(m)?(this.append(d,m.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)},...o})}function Qg(u){return W.matchAll(/\w+|\[(\w*)]/g,u).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Xg(u){const o={},m=Object.keys(u);let d;const g=m.length;let S;for(d=0;d<g;d++)S=m[d],o[S]=u[S];return o}function Qp(u){function o(m,d,g,S){let v=m[S++];if(v==="__proto__")return!0;const N=Number.isFinite(+v),q=S>=m.length;return v=!v&&W.isArray(g)?g.length:v,q?(W.hasOwnProp(g,v)?g[v]=[g[v],d]:g[v]=d,!N):((!g[v]||!W.isObject(g[v]))&&(g[v]=[]),o(m,d,g[v],S)&&W.isArray(g[v])&&(g[v]=Xg(g[v])),!N)}if(W.isFormData(u)&&W.isFunction(u.entries)){const m={};return W.forEachEntry(u,(d,g)=>{o(Qg(d),g,m,0)}),m}return null}function Gg(u,o,m){if(W.isString(u))try{return(o||JSON.parse)(u),W.trim(u)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(u)}const Gs={transitional:Kf,adapter:["xhr","http","fetch"],transformRequest:[function(o,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,S=W.isObject(o);if(S&&W.isHTMLForm(o)&&(o=new FormData(o)),W.isFormData(o))return g?JSON.stringify(Qp(o)):o;if(W.isArrayBuffer(o)||W.isBuffer(o)||W.isStream(o)||W.isFile(o)||W.isBlob(o)||W.isReadableStream(o))return o;if(W.isArrayBufferView(o))return o.buffer;if(W.isURLSearchParams(o))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let N;if(S){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Yg(o,this.formSerializer).toString();if((N=W.isFileList(o))||d.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return No(N?{"files[]":o}:o,q&&new q,this.formSerializer)}}return S||g?(m.setContentType("application/json",!1),Gg(o)):o}],transformResponse:[function(o){const m=this.transitional||Gs.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(W.isResponse(o)||W.isReadableStream(o))return o;if(o&&W.isString(o)&&(d&&!this.responseType||g)){const v=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(o,this.parseReviver)}catch(N){if(v)throw N.name==="SyntaxError"?Je.from(N,Je.ERR_BAD_RESPONSE,this,null,this.response):N}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],u=>{Gs.headers[u]={}});const Vg=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fg=u=>{const o={};let m,d,g;return u&&u.split(`
`).forEach(function(v){g=v.indexOf(":"),m=v.substring(0,g).trim().toLowerCase(),d=v.substring(g+1).trim(),!(!m||o[m]&&Vg[m])&&(m==="set-cookie"?o[m]?o[m].push(d):o[m]=[d]:o[m]=o[m]?o[m]+", "+d:d)}),o},rp=Symbol("internals");function qs(u){return u&&String(u).trim().toLowerCase()}function fo(u){return u===!1||u==null?u:W.isArray(u)?u.map(fo):String(u)}function Zg(u){const o=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(u);)o[d[1]]=d[2];return o}const Jg=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function _f(u,o,m,d,g){if(W.isFunction(d))return d.call(this,o,m);if(g&&(o=m),!!W.isString(o)){if(W.isString(d))return o.indexOf(d)!==-1;if(W.isRegExp(d))return d.test(o)}}function $g(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,m,d)=>m.toUpperCase()+d)}function Pg(u,o){const m=W.toCamelCase(" "+o);["get","set","has"].forEach(d=>{Object.defineProperty(u,d+m,{value:function(g,S,v){return this[d].call(this,o,g,S,v)},configurable:!0})})}let kn=class{constructor(o){o&&this.set(o)}set(o,m,d){const g=this;function S(N,q,C){const M=qs(q);if(!M)throw new Error("header name must be a non-empty string");const R=W.findKey(g,M);(!R||g[R]===void 0||C===!0||C===void 0&&g[R]!==!1)&&(g[R||q]=fo(N))}const v=(N,q)=>W.forEach(N,(C,M)=>S(C,M,q));if(W.isPlainObject(o)||o instanceof this.constructor)v(o,m);else if(W.isString(o)&&(o=o.trim())&&!Jg(o))v(Fg(o),m);else if(W.isObject(o)&&W.isIterable(o)){let N={},q,C;for(const M of o){if(!W.isArray(M))throw TypeError("Object iterator must return a key-value pair");N[C=M[0]]=(q=N[C])?W.isArray(q)?[...q,M[1]]:[q,M[1]]:M[1]}v(N,m)}else o!=null&&S(m,o,d);return this}get(o,m){if(o=qs(o),o){const d=W.findKey(this,o);if(d){const g=this[d];if(!m)return g;if(m===!0)return Zg(g);if(W.isFunction(m))return m.call(this,g,d);if(W.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,m){if(o=qs(o),o){const d=W.findKey(this,o);return!!(d&&this[d]!==void 0&&(!m||_f(this,this[d],d,m)))}return!1}delete(o,m){const d=this;let g=!1;function S(v){if(v=qs(v),v){const N=W.findKey(d,v);N&&(!m||_f(d,d[N],N,m))&&(delete d[N],g=!0)}}return W.isArray(o)?o.forEach(S):S(o),g}clear(o){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const S=m[d];(!o||_f(this,this[S],S,o,!0))&&(delete this[S],g=!0)}return g}normalize(o){const m=this,d={};return W.forEach(this,(g,S)=>{const v=W.findKey(d,S);if(v){m[v]=fo(g),delete m[S];return}const N=o?$g(S):String(S).trim();N!==S&&delete m[S],m[N]=fo(g),d[N]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const m=Object.create(null);return W.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=o&&W.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,m])=>o+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...m){const d=new this(o);return m.forEach(g=>d.set(g)),d}static accessor(o){const d=(this[rp]=this[rp]={accessors:{}}).accessors,g=this.prototype;function S(v){const N=qs(v);d[N]||(Pg(g,v),d[N]=!0)}return W.isArray(o)?o.forEach(S):S(o),this}};kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(kn.prototype,({value:u},o)=>{let m=o[0].toUpperCase()+o.slice(1);return{get:()=>u,set(d){this[m]=d}}});W.freezeMethods(kn);function Ef(u,o){const m=this||Gs,d=o||m,g=kn.from(d.headers);let S=d.data;return W.forEach(u,function(N){S=N.call(m,S,g.normalize(),o?o.status:void 0)}),g.normalize(),S}function Xp(u){return!!(u&&u.__CANCEL__)}let Vs=class extends Je{constructor(o,m,d){super(o??"canceled",Je.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Gp(u,o,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?u(m):o(new Je("Request failed with status code "+m.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Wg(u){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return o&&o[1]||""}function Ig(u,o){u=u||10;const m=new Array(u),d=new Array(u);let g=0,S=0,v;return o=o!==void 0?o:1e3,function(q){const C=Date.now(),M=d[S];v||(v=C),m[g]=q,d[g]=C;let R=S,$=0;for(;R!==g;)$+=m[R++],R=R%u;if(g=(g+1)%u,g===S&&(S=(S+1)%u),C-v<o)return;const he=M&&C-M;return he?Math.round($*1e3/he):void 0}}function eb(u,o){let m=0,d=1e3/o,g,S;const v=(C,M=Date.now())=>{m=M,g=null,S&&(clearTimeout(S),S=null),u(...C)};return[(...C)=>{const M=Date.now(),R=M-m;R>=d?v(C,M):(g=C,S||(S=setTimeout(()=>{S=null,v(g)},d-R)))},()=>g&&v(g)]}const yo=(u,o,m=3)=>{let d=0;const g=Ig(50,250);return eb(S=>{const v=S.loaded,N=S.lengthComputable?S.total:void 0,q=v-d,C=g(q),M=v<=N;d=v;const R={loaded:v,total:N,progress:N?v/N:void 0,bytes:q,rate:C||void 0,estimated:C&&N&&M?(N-v)/C:void 0,event:S,lengthComputable:N!=null,[o?"download":"upload"]:!0};u(R)},m)},sp=(u,o)=>{const m=u!=null;return[d=>o[0]({lengthComputable:m,total:u,loaded:d}),o[1]]},up=u=>(...o)=>W.asap(()=>u(...o)),tb=jn.hasStandardBrowserEnv?((u,o)=>m=>(m=new URL(m,jn.origin),u.protocol===m.protocol&&u.host===m.host&&(o||u.port===m.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,nb=jn.hasStandardBrowserEnv?{write(u,o,m,d,g,S,v){if(typeof document>"u")return;const N=[`${u}=${encodeURIComponent(o)}`];W.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),W.isString(d)&&N.push(`path=${d}`),W.isString(g)&&N.push(`domain=${g}`),S===!0&&N.push("secure"),W.isString(v)&&N.push(`SameSite=${v}`),document.cookie=N.join("; ")},read(u){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+u+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(u){this.write(u,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ab(u){return typeof u!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function lb(u,o){return o?u.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):u}function Vp(u,o,m){let d=!ab(o);return u&&(d||m==!1)?lb(u,o):o}const op=u=>u instanceof kn?{...u}:u;function Ri(u,o){o=o||{};const m={};function d(C,M,R,$){return W.isPlainObject(C)&&W.isPlainObject(M)?W.merge.call({caseless:$},C,M):W.isPlainObject(M)?W.merge({},M):W.isArray(M)?M.slice():M}function g(C,M,R,$){if(W.isUndefined(M)){if(!W.isUndefined(C))return d(void 0,C,R,$)}else return d(C,M,R,$)}function S(C,M){if(!W.isUndefined(M))return d(void 0,M)}function v(C,M){if(W.isUndefined(M)){if(!W.isUndefined(C))return d(void 0,C)}else return d(void 0,M)}function N(C,M,R){if(R in o)return d(C,M);if(R in u)return d(void 0,C)}const q={url:S,method:S,data:S,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:N,headers:(C,M,R)=>g(op(C),op(M),R,!0)};return W.forEach(Object.keys({...u,...o}),function(M){if(M==="__proto__"||M==="constructor"||M==="prototype")return;const R=W.hasOwnProp(q,M)?q[M]:g,$=R(u[M],o[M],M);W.isUndefined($)&&R!==N||(m[M]=$)}),m}const Fp=u=>{const o=Ri({},u);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:S,headers:v,auth:N}=o;if(o.headers=v=kn.from(v),o.url=Yp(Vp(o.baseURL,o.url,o.allowAbsoluteUrls),u.params,u.paramsSerializer),N&&v.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),W.isFormData(m)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if(W.isFunction(m.getHeaders)){const q=m.getHeaders(),C=["content-type","content-length"];Object.entries(q).forEach(([M,R])=>{C.includes(M.toLowerCase())&&v.set(M,R)})}}if(jn.hasStandardBrowserEnv&&(d&&W.isFunction(d)&&(d=d(o)),d||d!==!1&&tb(o.url))){const q=g&&S&&nb.read(S);q&&v.set(g,q)}return o},ib=typeof XMLHttpRequest<"u",rb=ib&&function(u){return new Promise(function(m,d){const g=Fp(u);let S=g.data;const v=kn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:C}=g,M,R,$,he,G;function le(){he&&he(),G&&G(),g.cancelToken&&g.cancelToken.unsubscribe(M),g.signal&&g.signal.removeEventListener("abort",M)}let F=new XMLHttpRequest;F.open(g.method.toUpperCase(),g.url,!0),F.timeout=g.timeout;function Ae(){if(!F)return;const ve=kn.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),xe={data:!N||N==="text"||N==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:ve,config:u,request:F};Gp(function(Se){m(Se),le()},function(Se){d(Se),le()},xe),F=null}"onloadend"in F?F.onloadend=Ae:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(Ae)},F.onabort=function(){F&&(d(new Je("Request aborted",Je.ECONNABORTED,u,F)),F=null)},F.onerror=function(ee){const xe=ee&&ee.message?ee.message:"Network Error",me=new Je(xe,Je.ERR_NETWORK,u,F);me.event=ee||null,d(me),F=null},F.ontimeout=function(){let ee=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const xe=g.transitional||Kf;g.timeoutErrorMessage&&(ee=g.timeoutErrorMessage),d(new Je(ee,xe.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,u,F)),F=null},S===void 0&&v.setContentType(null),"setRequestHeader"in F&&W.forEach(v.toJSON(),function(ee,xe){F.setRequestHeader(xe,ee)}),W.isUndefined(g.withCredentials)||(F.withCredentials=!!g.withCredentials),N&&N!=="json"&&(F.responseType=g.responseType),C&&([$,G]=yo(C,!0),F.addEventListener("progress",$)),q&&F.upload&&([R,he]=yo(q),F.upload.addEventListener("progress",R),F.upload.addEventListener("loadend",he)),(g.cancelToken||g.signal)&&(M=ve=>{F&&(d(!ve||ve.type?new Vs(null,u,F):ve),F.abort(),F=null)},g.cancelToken&&g.cancelToken.subscribe(M),g.signal&&(g.signal.aborted?M():g.signal.addEventListener("abort",M)));const ue=Wg(g.url);if(ue&&jn.protocols.indexOf(ue)===-1){d(new Je("Unsupported protocol "+ue+":",Je.ERR_BAD_REQUEST,u));return}F.send(S||null)})},sb=(u,o)=>{const{length:m}=u=u?u.filter(Boolean):[];if(o||m){let d=new AbortController,g;const S=function(C){if(!g){g=!0,N();const M=C instanceof Error?C:this.reason;d.abort(M instanceof Je?M:new Vs(M instanceof Error?M.message:M))}};let v=o&&setTimeout(()=>{v=null,S(new Je(`timeout of ${o}ms exceeded`,Je.ETIMEDOUT))},o);const N=()=>{u&&(v&&clearTimeout(v),v=null,u.forEach(C=>{C.unsubscribe?C.unsubscribe(S):C.removeEventListener("abort",S)}),u=null)};u.forEach(C=>C.addEventListener("abort",S));const{signal:q}=d;return q.unsubscribe=()=>W.asap(N),q}},ub=function*(u,o){let m=u.byteLength;if(m<o){yield u;return}let d=0,g;for(;d<m;)g=d+o,yield u.slice(d,g),d=g},ob=async function*(u,o){for await(const m of cb(u))yield*ub(m,o)},cb=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const o=u.getReader();try{for(;;){const{done:m,value:d}=await o.read();if(m)break;yield d}}finally{await o.cancel()}},cp=(u,o,m,d)=>{const g=ob(u,o);let S=0,v,N=q=>{v||(v=!0,d&&d(q))};return new ReadableStream({async pull(q){try{const{done:C,value:M}=await g.next();if(C){N(),q.close();return}let R=M.byteLength;if(m){let $=S+=R;m($)}q.enqueue(new Uint8Array(M))}catch(C){throw N(C),C}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:uo}=W,fb=(({Request:u,Response:o})=>({Request:u,Response:o}))(W.global),{ReadableStream:dp,TextEncoder:hp}=W.global,mp=(u,...o)=>{try{return!!u(...o)}catch{return!1}},db=u=>{u=W.merge.call({skipUndefined:!0},fb,u);const{fetch:o,Request:m,Response:d}=u,g=o?uo(o):typeof fetch=="function",S=uo(m),v=uo(d);if(!g)return!1;const N=g&&uo(dp),q=g&&(typeof hp=="function"?(G=>le=>G.encode(le))(new hp):async G=>new Uint8Array(await new m(G).arrayBuffer())),C=S&&N&&mp(()=>{let G=!1;const le=new m(jn.origin,{body:new dp,method:"POST",get duplex(){return G=!0,"half"}}).headers.has("Content-Type");return G&&!le}),M=v&&N&&mp(()=>W.isReadableStream(new d("").body)),R={stream:M&&(G=>G.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(G=>{!R[G]&&(R[G]=(le,F)=>{let Ae=le&&le[G];if(Ae)return Ae.call(le);throw new Je(`Response type '${G}' is not supported`,Je.ERR_NOT_SUPPORT,F)})});const $=async G=>{if(G==null)return 0;if(W.isBlob(G))return G.size;if(W.isSpecCompliantForm(G))return(await new m(jn.origin,{method:"POST",body:G}).arrayBuffer()).byteLength;if(W.isArrayBufferView(G)||W.isArrayBuffer(G))return G.byteLength;if(W.isURLSearchParams(G)&&(G=G+""),W.isString(G))return(await q(G)).byteLength},he=async(G,le)=>{const F=W.toFiniteNumber(G.getContentLength());return F??$(le)};return async G=>{let{url:le,method:F,data:Ae,signal:ue,cancelToken:ve,timeout:ee,onDownloadProgress:xe,onUploadProgress:me,responseType:Se,headers:Pe,withCredentials:Ke="same-origin",fetchOptions:ot}=Fp(G),bt=o||fetch;Se=Se?(Se+"").toLowerCase():"text";let Le=sb([ue,ve&&ve.toAbortSignal()],ee),at=null;const we=Le&&Le.unsubscribe&&(()=>{Le.unsubscribe()});let Qe;try{if(me&&C&&F!=="get"&&F!=="head"&&(Qe=await he(Pe,Ae))!==0){let X=new m(le,{method:"POST",body:Ae,duplex:"half"}),se;if(W.isFormData(Ae)&&(se=X.headers.get("content-type"))&&Pe.setContentType(se),X.body){const[je,Me]=sp(Qe,yo(up(me)));Ae=cp(X.body,fp,je,Me)}}W.isString(Ke)||(Ke=Ke?"include":"omit");const Y=S&&"credentials"in m.prototype,pe={...ot,signal:Le,method:F.toUpperCase(),headers:Pe.normalize().toJSON(),body:Ae,duplex:"half",credentials:Y?Ke:void 0};at=S&&new m(le,pe);let ye=await(S?bt(at,ot):bt(le,pe));const Ne=M&&(Se==="stream"||Se==="response");if(M&&(xe||Ne&&we)){const X={};["status","statusText","headers"].forEach(Fe=>{X[Fe]=ye[Fe]});const se=W.toFiniteNumber(ye.headers.get("content-length")),[je,Me]=xe&&sp(se,yo(up(xe),!0))||[];ye=new d(cp(ye.body,fp,je,()=>{Me&&Me(),we&&we()}),X)}Se=Se||"text";let ke=await R[W.findKey(R,Se)||"text"](ye,G);return!Ne&&we&&we(),await new Promise((X,se)=>{Gp(X,se,{data:ke,headers:kn.from(ye.headers),status:ye.status,statusText:ye.statusText,config:G,request:at})})}catch(Y){throw we&&we(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,G,at,Y&&Y.response),{cause:Y.cause||Y}):Je.from(Y,Y&&Y.code,G,at,Y&&Y.response)}}},hb=new Map,Zp=u=>{let o=u&&u.env||{};const{fetch:m,Request:d,Response:g}=o,S=[d,g,m];let v=S.length,N=v,q,C,M=hb;for(;N--;)q=S[N],C=M.get(q),C===void 0&&M.set(q,C=N?new Map:db(o)),M=C;return C};Zp();const Qf={http:Tg,xhr:rb,fetch:{get:Zp}};W.forEach(Qf,(u,o)=>{if(u){try{Object.defineProperty(u,"name",{value:o})}catch{}Object.defineProperty(u,"adapterName",{value:o})}});const pp=u=>`- ${u}`,mb=u=>W.isFunction(u)||u===null||u===!1;function pb(u,o){u=W.isArray(u)?u:[u];const{length:m}=u;let d,g;const S={};for(let v=0;v<m;v++){d=u[v];let N;if(g=d,!mb(d)&&(g=Qf[(N=String(d)).toLowerCase()],g===void 0))throw new Je(`Unknown adapter '${N}'`);if(g&&(W.isFunction(g)||(g=g.get(o))))break;S[N||"#"+v]=g}if(!g){const v=Object.entries(S).map(([q,C])=>`adapter ${q} `+(C===!1?"is not supported by the environment":"is not available in the build"));let N=m?v.length>1?`since :
`+v.map(pp).join(`
`):" "+pp(v[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const Jp={getAdapter:pb,adapters:Qf};function Cf(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Vs(null,u)}function yp(u){return Cf(u),u.headers=kn.from(u.headers),u.data=Ef.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),Jp.getAdapter(u.adapter||Gs.adapter,u)(u).then(function(d){return Cf(u),d.data=Ef.call(u,u.transformResponse,d),d.headers=kn.from(d.headers),d},function(d){return Xp(d)||(Cf(u),d&&d.response&&(d.response.data=Ef.call(u,u.transformResponse,d.response),d.response.headers=kn.from(d.response.headers))),Promise.reject(d)})}const $p="1.13.5",_o={};["object","boolean","number","function","string","symbol"].forEach((u,o)=>{_o[u]=function(d){return typeof d===u||"a"+(o<1?"n ":" ")+u}});const gp={};_o.transitional=function(o,m,d){function g(S,v){return"[Axios v"+$p+"] Transitional option '"+S+"'"+v+(d?". "+d:"")}return(S,v,N)=>{if(o===!1)throw new Je(g(v," has been removed"+(m?" in "+m:"")),Je.ERR_DEPRECATED);return m&&!gp[v]&&(gp[v]=!0,console.warn(g(v," has been deprecated since v"+m+" and will be removed in the near future"))),o?o(S,v,N):!0}};_o.spelling=function(o){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${o}`),!0)};function yb(u,o,m){if(typeof u!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const d=Object.keys(u);let g=d.length;for(;g-- >0;){const S=d[g],v=o[S];if(v){const N=u[S],q=N===void 0||v(N,S,u);if(q!==!0)throw new Je("option "+S+" must be "+q,Je.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Je("Unknown option "+S,Je.ERR_BAD_OPTION)}}const ho={assertOptions:yb,validators:_o},sa=ho.validators;let Mi=class{constructor(o){this.defaults=o||{},this.interceptors={request:new ip,response:new ip}}async request(o,m){try{return await this._request(o,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const S=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?S&&!String(d.stack).endsWith(S.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+S):d.stack=S}catch{}}throw d}}_request(o,m){typeof o=="string"?(m=m||{},m.url=o):m=o||{},m=Ri(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:S}=m;d!==void 0&&ho.assertOptions(d,{silentJSONParsing:sa.transitional(sa.boolean),forcedJSONParsing:sa.transitional(sa.boolean),clarifyTimeoutError:sa.transitional(sa.boolean),legacyInterceptorReqResOrdering:sa.transitional(sa.boolean)},!1),g!=null&&(W.isFunction(g)?m.paramsSerializer={serialize:g}:ho.assertOptions(g,{encode:sa.function,serialize:sa.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),ho.assertOptions(m,{baseUrl:sa.spelling("baseURL"),withXsrfToken:sa.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let v=S&&W.merge(S.common,S[m.method]);S&&W.forEach(["delete","get","head","post","put","patch","common"],G=>{delete S[G]}),m.headers=kn.concat(v,S);const N=[];let q=!0;this.interceptors.request.forEach(function(le){if(typeof le.runWhen=="function"&&le.runWhen(m)===!1)return;q=q&&le.synchronous;const F=m.transitional||Kf;F&&F.legacyInterceptorReqResOrdering?N.unshift(le.fulfilled,le.rejected):N.push(le.fulfilled,le.rejected)});const C=[];this.interceptors.response.forEach(function(le){C.push(le.fulfilled,le.rejected)});let M,R=0,$;if(!q){const G=[yp.bind(this),void 0];for(G.unshift(...N),G.push(...C),$=G.length,M=Promise.resolve(m);R<$;)M=M.then(G[R++],G[R++]);return M}$=N.length;let he=m;for(;R<$;){const G=N[R++],le=N[R++];try{he=G(he)}catch(F){le.call(this,F);break}}try{M=yp.call(this,he)}catch(G){return Promise.reject(G)}for(R=0,$=C.length;R<$;)M=M.then(C[R++],C[R++]);return M}getUri(o){o=Ri(this.defaults,o);const m=Vp(o.baseURL,o.url,o.allowAbsoluteUrls);return Yp(m,o.params,o.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(o){Mi.prototype[o]=function(m,d){return this.request(Ri(d||{},{method:o,url:m,data:(d||{}).data}))}});W.forEach(["post","put","patch"],function(o){function m(d){return function(S,v,N){return this.request(Ri(N||{},{method:o,headers:d?{"Content-Type":"multipart/form-data"}:{},url:S,data:v}))}}Mi.prototype[o]=m(),Mi.prototype[o+"Form"]=m(!0)});let gb=class Pp{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(S){m=S});const d=this;this.promise.then(g=>{if(!d._listeners)return;let S=d._listeners.length;for(;S-- >0;)d._listeners[S](g);d._listeners=null}),this.promise.then=g=>{let S;const v=new Promise(N=>{d.subscribe(N),S=N}).then(g);return v.cancel=function(){d.unsubscribe(S)},v},o(function(S,v,N){d.reason||(d.reason=new Vs(S,v,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const m=this._listeners.indexOf(o);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const o=new AbortController,m=d=>{o.abort(d)};return this.subscribe(m),o.signal.unsubscribe=()=>this.unsubscribe(m),o.signal}static source(){let o;return{token:new Pp(function(g){o=g}),cancel:o}}};function bb(u){return function(m){return u.apply(null,m)}}function vb(u){return W.isObject(u)&&u.isAxiosError===!0}const zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zf).forEach(([u,o])=>{zf[o]=u});function Wp(u){const o=new Mi(u),m=Dp(Mi.prototype.request,o);return W.extend(m,Mi.prototype,o,{allOwnKeys:!0}),W.extend(m,o,null,{allOwnKeys:!0}),m.create=function(g){return Wp(Ri(u,g))},m}const Pt=Wp(Gs);Pt.Axios=Mi;Pt.CanceledError=Vs;Pt.CancelToken=gb;Pt.isCancel=Xp;Pt.VERSION=$p;Pt.toFormData=No;Pt.AxiosError=Je;Pt.Cancel=Pt.CanceledError;Pt.all=function(o){return Promise.all(o)};Pt.spread=bb;Pt.isAxiosError=vb;Pt.mergeConfig=Ri;Pt.AxiosHeaders=kn;Pt.formToJSON=u=>Qp(W.isHTMLForm(u)?new FormData(u):u);Pt.getAdapter=Jp.getAdapter;Pt.HttpStatusCode=zf;Pt.default=Pt;const{Axios:nx,AxiosError:ax,CanceledError:lx,isCancel:ix,CancelToken:rx,VERSION:sx,all:ux,Cancel:ox,isAxiosError:cx,spread:fx,toFormData:dx,AxiosHeaders:hx,HttpStatusCode:mx,formToJSON:px,getAdapter:yx,mergeConfig:gx}=Pt,gt=Pt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});gt.interceptors.request.use(u=>{const o=pl.getState().token;return o&&(u.headers.Authorization=`Token ${o}`),u.data instanceof FormData&&delete u.headers["Content-Type"],u});gt.interceptors.response.use(u=>u,u=>(u.response?.status===401&&pl.getState().logout(),Promise.reject(u)));const Mr={login:(u,o)=>gt.post("/auth/login/",{email:u,password:o}),register:u=>gt.post("/auth/register/",u),logout:()=>gt.post("/auth/logout/"),me:()=>gt.get("/auth/me/"),deleteAccount:()=>gt.post("/auth/me/delete/")},Hs={list:()=>gt.get("/projects/"),get:u=>gt.get(`/projects/${u}/`),create:u=>gt.post("/projects/",u),update:(u,o)=>gt.patch(`/projects/${u}/`,o),delete:u=>gt.delete(`/projects/${u}/`)},oa={list:()=>gt.get("/lenses/"),get:u=>gt.get(`/lenses/${u}/`),create:u=>gt.post("/lenses/",u),update:(u,o)=>gt.patch(`/lenses/${u}/`,o),delete:u=>gt.delete(`/lenses/${u}/`),addColor:(u,o)=>gt.post(`/lenses/${u}/colors/`,o),updateColor:(u,o,m)=>gt.patch(`/lenses/${u}/colors/${o}/`,m),removeColor:(u,o)=>gt.delete(`/lenses/${u}/colors/${o}/`)},hn={list:u=>gt.get("/documents/",{params:u}),get:u=>gt.get(`/documents/${u}/`),create:u=>gt.post("/documents/",u),createWithFile:u=>gt.post("/documents/",u),getPdf:u=>gt.get(`/documents/${u}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(u,o)=>gt.post(`/documents/${u}/upload_pdf/`,o),update:(u,o)=>gt.patch(`/documents/${u}/`,o),delete:u=>gt.delete(`/documents/${u}/`),highlights:u=>gt.get(`/documents/${u}/highlights/`),createHighlight:(u,o)=>gt.post(`/documents/${u}/highlights/`,o),updateHighlight:(u,o,m)=>gt.patch(`/documents/${u}/highlights/${o}/`,m),deleteHighlight:(u,o)=>gt.delete(`/documents/${u}/highlights/${o}/`)},xb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},nt={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},Il={default:"border-slate-200"},Ls="min-h-screen p-6",Sb="bg-white border-b border-slate-200",go="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",oo="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",bp="w-px h-6 bg-slate-200",zi=xb;function wb(){const u=Bi(),o=pl(R=>R.setToken),[m,d]=Q.useState(""),[g,S]=Q.useState(""),[v,N]=Q.useState(""),[q,C]=Q.useState(!1),M=async R=>{R.preventDefault(),N(""),C(!0);try{const{data:$}=await Mr.login(m,g);o($.token),u("/",{replace:!0})}catch($){N($.response?.data?.detail||$.response?.data?.email?.[0]||"Login failed")}finally{C(!1)}};return c.jsx("div",{className:`${Ls} ${zi.page} flex items-center justify-center`,children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h1",{className:`text-2xl font-semibold ${nt.heading} mb-6`,children:"Sign in"}),c.jsxs("form",{onSubmit:M,className:"flex flex-col gap-4",children:[v&&c.jsx("p",{className:"text-sm text-red-600",children:v}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Email"}),c.jsx("input",{type:"email",value:m,onChange:R=>d(R.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Password"}),c.jsx("input",{type:"password",value:g,onChange:R=>S(R.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Signing in...":"Sign in"})]}),c.jsxs("p",{className:`mt-4 text-sm ${nt.muted}`,children:["No account? ",c.jsx(Tp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function jb(){const u=Bi(),o=pl(R=>R.setToken),[m,d]=Q.useState(""),[g,S]=Q.useState(""),[v,N]=Q.useState(""),[q,C]=Q.useState(!1),M=async R=>{R.preventDefault(),N(""),C(!0);try{await Mr.register({email:m,password:g});const{data:$}=await Mr.login(m,g);o($.token),u("/",{replace:!0})}catch($){const he=$.response?.data;N(he?.email?.[0]||he?.password?.[0]||"Registration failed")}finally{C(!1)}};return c.jsx("div",{className:`${Ls} ${zi.page} flex items-center justify-center`,children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h1",{className:`text-2xl font-semibold ${nt.heading} mb-6`,children:"Create account"}),c.jsxs("form",{onSubmit:M,className:"flex flex-col gap-4",children:[v&&c.jsx("p",{className:"text-sm text-red-600",children:v}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Email"}),c.jsx("input",{type:"email",value:m,onChange:R=>d(R.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Password"}),c.jsx("input",{type:"password",value:g,onChange:R=>S(R.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),c.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Creating account...":"Register"})]}),c.jsxs("p",{className:`mt-4 text-sm ${nt.muted}`,children:["Already have an account? ",c.jsx(Tp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const Ip=(...u)=>u.filter((o,m,d)=>!!o&&o.trim()!==""&&d.indexOf(o)===m).join(" ").trim();const Nb=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _b=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,m,d)=>d?d.toUpperCase():m.toLowerCase());const vp=u=>{const o=_b(u);return o.charAt(0).toUpperCase()+o.slice(1)};var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cb=u=>{for(const o in u)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const Ab=Q.forwardRef(({color:u="currentColor",size:o=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:S,iconNode:v,...N},q)=>Q.createElement("svg",{ref:q,...Eb,width:o,height:o,stroke:u,strokeWidth:d?Number(m)*24/Number(o):m,className:Ip("lucide",g),...!S&&!Cb(N)&&{"aria-hidden":"true"},...N},[...v.map(([C,M])=>Q.createElement(C,M)),...Array.isArray(S)?S:[S]]));const Qt=(u,o)=>{const m=Q.forwardRef(({className:d,...g},S)=>Q.createElement(Ab,{ref:S,iconNode:o,className:Ip(`lucide-${Nb(vp(u))}`,`lucide-${u}`,d),...g}));return m.displayName=vp(u),m};const Ob=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eo=Qt("arrow-left",Ob);const Tb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Db=Qt("braces",Tb);const Mb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bo=Qt("check",Mb);const zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rb=Qt("chevron-down",zb);const kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ks=Qt("chevron-right",kb);const Bb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qb=Qt("copy",Bb);const Ub=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hb=Qt("download",Ub);const Lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Kb=Qt("file-down",Lb);const Yb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Qb=Qt("file-stack",Yb);const Xb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xf=Qt("file-text",Xb);const Gb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ra=Qt("loader-circle",Gb);const Vb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gf=Qt("log-out",Vb);const Fb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ey=Qt("palette",Fb);const Zb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Jb=Qt("panel-right-close",Zb);const $b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Pb=Qt("panel-right-open",$b);const Wb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Co=Qt("pencil",Wb);const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xp=Qt("plus",Ib);const ev=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ty=Qt("search",ev);const tv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],nv=Qt("settings-2",tv);const av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fs=Qt("trash-2",av);const lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vo=Qt("upload",lv);const iv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ki=Qt("x",iv);const rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sv=Qt("zoom-in",rv);const uv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ov=Qt("zoom-out",uv),Sp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Or=5,wp=3;function ny(){const u=Rr(),[o,m]=Q.useState(0),[d,g]=Q.useState(""),[S,v]=Q.useState([]),[N,q]=Q.useState(null),[C,M]=Q.useState(""),[R,$]=Q.useState(null),[he,G]=Q.useState(null),[le,F]=Q.useState(null),[Ae,ue]=Q.useState(""),[ve,ee]=Q.useState(null),[xe,me]=Q.useState(""),{data:Se=[]}=Zn({queryKey:["lenses"],queryFn:async()=>{const{data:X}=await oa.list();return X}}),Pe=Se.filter(X=>!X.is_system),Ke=()=>{m(0),g(""),v([]),q(null),M("")},ot=Cn({mutationFn:X=>oa.create(X),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),Ke()}}),bt=Cn({mutationFn:X=>oa.delete(X),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),Le=Cn({mutationFn:({lensId:X,data:se})=>oa.addColor(X,se),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),G(null),F(null),ue("")}}),at=Cn({mutationFn:({lensId:X,colorId:se})=>oa.removeColor(X,se),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),we=Cn({mutationFn:({lensId:X,colorId:se,displayName:je})=>oa.updateColor(X,se,{display_name:je}),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),ee(null),me("")}}),Qe=()=>{!he||!le||!Ae.trim()||Le.mutate({lensId:he,data:{key:`custom_${Date.now()}`,display_name:Ae.trim(),hex:le}})},Y=new Set(S.map(X=>X.hex.toLowerCase())),pe=Sp.filter(X=>!Y.has(X.toLowerCase())),ye=()=>{!N||!C.trim()||(v(X=>[...X,{key:`color_${Date.now()}_${X.length}`,display_name:C.trim(),hex:N}]),q(null),M(""))},Ne=X=>{v(se=>se.filter((je,Me)=>Me!==X))},ke=()=>{!d.trim()||S.length<1||ot.mutate({name:d.trim(),colors:S})};return c.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[c.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[c.jsx(ey,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Or," colour categories. You can create up to ",wp," custom lenses."]}),c.jsx("ul",{className:"space-y-2 mb-4",children:Se.map(X=>c.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-medium text-slate-800 truncate",children:X.name}),X.is_system&&c.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!X.is_system&&c.jsx("button",{type:"button",onClick:()=>$(X),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:c.jsx(Fs,{className:"w-3.5 h-3.5"})})]}),c.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(X.colors??[]).map(se=>{const je=ve?.lensId===X.id&&ve?.colorId===se.id;return c.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[c.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:se.hex}}),je?c.jsx("input",{type:"text",value:xe,onChange:Me=>me(Me.target.value),onBlur:()=>{const Me=xe.trim();Me&&Me!==se.display_name?we.mutate({lensId:X.id,colorId:se.id,displayName:Me}):(ee(null),me(""))},onKeyDown:Me=>{if(Me.key==="Enter"){const Fe=xe.trim();Fe&&we.mutate({lensId:X.id,colorId:se.id,displayName:Fe})}Me.key==="Escape"&&(ee(null),me(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):c.jsx("button",{type:"button",onClick:()=>{X.is_system||(ee({lensId:X.id,colorId:se.id}),me(se.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${X.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:se.display_name}),!X.is_system&&(X.colors?.length??0)>1&&!je&&c.jsx("button",{type:"button",onClick:Me=>{Me.stopPropagation(),at.mutate({lensId:X.id,colorId:se.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:c.jsx(ki,{className:"w-3 h-3",strokeWidth:2.5})})]},se.id)}),!X.is_system&&(X.colors?.length??0)>1&&c.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!X.is_system&&(X.colors?.length??0)<Or&&c.jsx("button",{type:"button",onClick:()=>{G(X.id),F(null),ue("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:c.jsx(xp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},X.id))}),Pe.length<wp&&c.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[c.jsx(xp,{className:"w-4 h-4"}),"Create lens"]}),o>0&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ot.isPending&&Ke(),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[o===1&&c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),c.jsx("input",{type:"text",value:d,onChange:X=>g(X.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:Ke,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),o===2&&c.jsxs(c.Fragment,{children:[c.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",S.length,"/",Or,")"]}),c.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Or," colours and give each a label."]}),S.length>0&&c.jsx("div",{className:"space-y-1.5 mb-3",children:S.map((X,se)=>c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[c.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:X.hex}}),c.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:X.display_name}),c.jsx("button",{type:"button",onClick:()=>Ne(se),className:"text-slate-400 hover:text-red-500 shrink-0",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]},se))}),S.length<Or&&c.jsx(c.Fragment,{children:N?c.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),c.jsx("input",{type:"text",value:C,onChange:X=>M(X.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&ye()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),c.jsx("button",{type:"button",onClick:ye,disabled:!C.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):c.jsxs("div",{className:"mb-3",children:[c.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",S.length+1," of ",Or]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map(X=>c.jsx("button",{type:"button",onClick:()=>{q(X),M("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:X}},X))})]})}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{m(1),v([]),q(null),M("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),c.jsx("button",{type:"button",onClick:ke,disabled:S.length<1||ot.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:ot.isPending?"Creating":"Create lens"})]})]})]})}),he&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Le.isPending&&G(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:X=>X.stopPropagation(),children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),le?c.jsx("div",{className:"space-y-2.5",children:c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:le}}),c.jsx("input",{type:"text",value:Ae,onChange:X=>ue(X.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&Qe()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const X=Se.find(je=>je.id===he),se=new Set((X?.colors??[]).map(je=>je.hex.toLowerCase()));return Sp.filter(je=>!se.has(je.toLowerCase()))})().map(X=>c.jsx("button",{type:"button",onClick:()=>F(X),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:X}},X))})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>{le?(F(null),ue("")):G(null)},disabled:Le.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:le?"Back":"Cancel"}),le&&c.jsx("button",{type:"button",onClick:Qe,disabled:!Ae.trim()||Le.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Le.isPending?"Adding":"Add"})]})]})}),R&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!bt.isPending&&$(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:X=>X.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",c.jsx("strong",{children:R.name})," and remove it from any documents using it."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>$(null),disabled:bt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>{bt.mutate(R.id,{onSuccess:()=>$(null)})},disabled:bt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:bt.isPending?"Deleting":"Delete lens"})]})]})})]})}const hl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function cv(u){if(!u)return"";const o=new Date(u);if(Number.isNaN(o.getTime()))return"";const m=new Date,d=m-o,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:S<24?`${S} hour${S===1?"":"s"} ago`:v===1?"Yesterday":v<7?`${v} days ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:o.getFullYear()!==m.getFullYear()?"numeric":void 0})}function fv({project:u,onOpen:o}){const[m,d]=Q.useState(!1),g=u.document_count??0,S=u.annotation_count??0,v=u.color&&hl.includes(u.color)?u.color:hl[u.id%hl.length];return c.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>o(u.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&o(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${v}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[c.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:cv(u.updated_at)})]})]}),c.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:S>0?c.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[S," note",S!==1?"s":""]}):c.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),c.jsx(Ks,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function dv({onClose:u,onCreate:o,isPending:m,defaultColorIndex:d=0}){const[g,S]=Q.useState(""),[v,N]=Q.useState(hl[d%hl.length]),q=()=>{const C=g.trim();C&&(o(C,v),S(""),N(hl[d%hl.length]))};return c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:c.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:C=>C.stopPropagation(),children:[c.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),c.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),c.jsx("input",{type:"text",value:g,onChange:C=>S(C.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),c.jsx("div",{className:"flex gap-2",children:hl.map(C=>c.jsx("button",{type:"button",onClick:()=>N(C),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:C,borderColor:v===C?"#1e293b":"transparent",outline:v===C?"2px solid #fff":"none",outlineOffset:-4}},C))}),c.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function hv(){const u=Bi(),o=Rr(),m=pl(ee=>ee.logout),[d,g]=Q.useState(!1),[S,v]=Q.useState(!1),[N,q]=Q.useState(""),{data:C}=Zn({queryKey:["me"],queryFn:async()=>{const{data:ee}=await Mr.me();return ee}}),{data:M,isLoading:R}=Zn({queryKey:["projects"],queryFn:async()=>{const{data:ee}=await Hs.list();return ee}}),$=Array.isArray(M)?M:M?.results??[],he=$.filter(ee=>ee.name.toLowerCase().includes(N.toLowerCase())),G=$.reduce((ee,xe)=>ee+(xe.document_count??0),0),le=$.reduce((ee,xe)=>ee+(xe.annotation_count??0),0),F=Cn({mutationFn:({name:ee,color:xe})=>Hs.create({name:ee.trim(),color:xe}),onSuccess:()=>{o.invalidateQueries({queryKey:["projects"]}),g(!1)}}),Ae=(ee,xe)=>{F.mutate({name:ee,color:xe})},ue=()=>{m(),u("/login",{replace:!0})},ve=(C?.email?.[0]||C?.username?.[0]||"?").toUpperCase();return c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:ue,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>u("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:ve})]})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),c.jsxs("button",{type:"button",onClick:()=>v(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx(ey,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[c.jsxs("span",{children:[$.length," project",$.length!==1?"s":""]}),c.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),c.jsxs("span",{children:[G," document",G!==1?"s":""]}),c.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),c.jsxs("span",{children:[le," annotation",le!==1?"s":""]})]}),$.length>3&&c.jsxs("div",{className:"relative mb-4",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),c.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:ee=>q(ee.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),R?c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx(Ra,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):c.jsx("div",{className:"flex flex-col gap-2",children:he.map(ee=>c.jsx(fv,{project:ee,onOpen:xe=>u(`/project/${xe}`)},ee.id))}),!R&&he.length===0&&N&&c.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!R&&$.length===0&&c.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:c.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),c.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),c.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&c.jsx(dv,{onClose:()=>g(!1),onCreate:Ae,isPending:F.isPending,defaultColorIndex:$.length%hl.length}),S&&c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>v(!1),children:c.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:ee=>ee.stopPropagation(),children:c.jsx(ny,{})})})]})}var mo={exports:{}},mv=mo.exports,jp;function pv(){return jp||(jp=1,(function(u,o){((m,d)=>{u.exports=d()})(mv,function(){var m=function(l,s){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,s)},d=function(){return(d=Object.assign||function(l){for(var s,f=1,h=arguments.length;f<h;f++)for(var y in s=arguments[f])Object.prototype.hasOwnProperty.call(s,y)&&(l[y]=s[y]);return l}).apply(this,arguments)};function g(l,s,f){for(var h,y=0,b=s.length;y<b;y++)!h&&y in s||((h=h||Array.prototype.slice.call(s,0,y))[y]=s[y]);return l.concat(h||Array.prototype.slice.call(s))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_0,v=Object.keys,N=Array.isArray;function q(l,s){return typeof s=="object"&&v(s).forEach(function(f){l[f]=s[f]}),l}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var C=Object.getPrototypeOf,M={}.hasOwnProperty;function R(l,s){return M.call(l,s)}function $(l,s){typeof s=="function"&&(s=s(C(l))),(typeof Reflect>"u"?v:Reflect.ownKeys)(s).forEach(function(f){G(l,f,s[f])})}var he=Object.defineProperty;function G(l,s,f,h){he(l,s,q(f&&R(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function le(l){return{from:function(s){return l.prototype=Object.create(s.prototype),G(l.prototype,"constructor",l),{extend:$.bind(null,l.prototype)}}}}var F=Object.getOwnPropertyDescriptor,Ae=[].slice;function ue(l,s,f){return Ae.call(l,s,f)}function ve(l,s){return s(l)}function ee(l){if(!l)throw new Error("Assertion Failed")}function xe(l){S.setImmediate?setImmediate(l):setTimeout(l,0)}function me(l,s){if(typeof s=="string"&&R(l,s))return l[s];if(!s)return l;if(typeof s!="string"){for(var f=[],h=0,y=s.length;h<y;++h){var b=me(l,s[h]);f.push(b)}return f}var w,j=s.indexOf(".");return j===-1||(w=l[s.substr(0,j)])==null?void 0:me(w,s.substr(j+1))}function Se(l,s,f){if(l&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof s!="string"&&"length"in s){ee(typeof f!="string"&&"length"in f);for(var h=0,y=s.length;h<y;++h)Se(l,s[h],f[h])}else{var b,w,j=s.indexOf(".");j!==-1?(b=s.substr(0,j),(j=s.substr(j+1))===""?f===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:Se(w=(w=l[b])&&R(l,b)?w:l[b]={},j,f)):f===void 0?N(l)&&!isNaN(parseInt(s))?l.splice(s,1):delete l[s]:l[s]=f}}function Pe(l){var s,f={};for(s in l)R(l,s)&&(f[s]=l[s]);return f}var Ke=[].concat;function ot(l){return Ke.apply([],l)}var se="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ot([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(s){return s+l+"Array"})}))).filter(function(l){return S[l]}),bt=new Set(se.map(function(l){return S[l]})),Le=null;function at(l){return Le=new WeakMap,l=(function s(f){if(!f||typeof f!="object")return f;var h=Le.get(f);if(h)return h;if(N(f)){h=[],Le.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(s(f[y]))}else if(bt.has(f.constructor))h=f;else{var w,j=C(f);for(w in h=j===Object.prototype?{}:Object.create(j),Le.set(f,h),f)R(f,w)&&(h[w]=s(f[w]))}return h})(l),Le=null,l}var we={}.toString;function Qe(l){return we.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pe=typeof Y=="symbol"?function(l){var s;return l!=null&&(s=l[Y])&&s.apply(l)}:function(){return null};function ye(l,s){s=l.indexOf(s),0<=s&&l.splice(s,1)}var Ne={};function ke(l){var s,f,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===Ne&&typeof l=="string")return[l];if(y=pe(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(s=l.length)!="number")return[l];for(f=new Array(s);s--;)f[s]=l[s]}}else for(s=arguments.length,f=new Array(s);s--;)f[s]=arguments[s];return f}var X=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],un=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(se),je={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(l,s){this.name=l,this.message=s}function Fe(l,s){return l+". Errors: "+Object.keys(s).map(function(f){return s[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function Ie(l,s,f,h){this.failures=s,this.failedKeys=h,this.successCount=f,this.message=Fe(l,s)}function ae(l,s){this.name="BulkError",this.failures=Object.keys(s).map(function(f){return s[f]}),this.failuresByPos=s,this.message=Fe(l,this.failures)}le(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),le(Ie).from(Me),le(ae).from(Me);var be=un.reduce(function(l,s){return l[s]=s+"Error",l},{}),qe=Me,oe=un.reduce(function(l,s){var f=s+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=je[s]||f,this.inner=null)}return le(h).from(qe),l[s]=h,l},{}),Ve=(oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError,se.reduce(function(l,s){return l[s+"Error"]=oe[s],l},{}));se=un.reduce(function(l,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(l[s+"Error"]=oe[s]),l},{});function Ue(){}function mt(l){return l}function Wt(l,s){return l==null||l===mt?s:function(f){return s(l(f))}}function qt(l,s){return function(){l.apply(this,arguments),s.apply(this,arguments)}}function ka(l,s){return l===Ue?s:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?qt(h,this.onsuccess):h),y&&(this.onerror=this.onerror?qt(y,this.onerror):y),b!==void 0?b:f}}function yl(l,s){return l===Ue?s:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?qt(f,this.onsuccess):f),h&&(this.onerror=this.onerror?qt(h,this.onerror):h)}}function ge(l,s){return l===Ue?s:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,w=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?qt(y,this.onsuccess):y),b&&(this.onerror=this.onerror?qt(b,this.onerror):b),h===void 0?w===void 0?void 0:w:q(h,w)}}function rt(l,s){return l===Ue?s:function(){return s.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function kt(l,s){return l===Ue?s:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return s.apply(h,b)})}return s.apply(this,arguments)}}se.ModifyError=Ie,se.DexieError=Me,se.BulkError=ae;var It=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Bn(l){It=l}var qn={},rn=100,ba=typeof Promise>"u"?[]:(un=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[ba=crypto.subtle.digest("SHA-512",new Uint8Array([0])),C(ba),un]:[un,C(un),un]),un=ba[0],Ja=ba[1],Ja=Ja&&Ja.then,Un=un&&un.constructor,va=!!ba[2],Ba=function(l,s){ca.push([l,s]),Ge&&(queueMicrotask(Zs),Ge=!1)},De=!0,Ge=!0,vt=[],Dt=[],wt=mt,Mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Ce=Mt,ca=[],qa=0,qi=[];function Oe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=Ce;if(typeof l!="function"){if(l!==qn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&fa(this,this._value)}else this._state=null,this._value=null,++s.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&xa();b&&typeof b.then=="function"?f(h,function(j,A){b instanceof Oe?b._then(j,A):b.then(j,A)}):(h._state=!0,h._value=b,ni(h)),w&&Jn()}},fa.bind(null,h))}catch(b){fa(h,b)}})(this,l)}var gl={get:function(){var l=Ce,s=ii;function f(h,y){var b=this,w=!l.global&&(l!==Ce||s!==ii),j=w&&!Nn(),A=new Oe(function(H,O){Ua(b,new ti(Ui(h,l,w,j),Ui(y,l,w,j),H,O,l))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return f.prototype=qn,f},set:function(l){G(this,"then",l&&l.prototype===qn?gl:{get:function(){return l},set:gl.set})}};function ti(l,s,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof s=="function"?s:null,this.resolve=f,this.reject=h,this.psd=y}function fa(l,s){var f,h;Dt.push(s),l._state===null&&(f=l._lib&&xa(),s=wt(s),l._state=!1,l._value=s,h=l,vt.some(function(y){return y._value===h._value})||vt.push(h),ni(l),f)&&Jn()}function ni(l){var s=l._listeners;l._listeners=[];for(var f=0,h=s.length;f<h;++f)Ua(l,s[f]);var y=l._PSD;--y.ref||y.finalize(),qa===0&&(++qa,Ba(function(){--qa==0&&Br()},[]))}function Ua(l,s){if(l._state===null)l._listeners.push(s);else{var f=l._state?s.onFulfilled:s.onRejected;if(f===null)return(l._state?s.resolve:s.reject)(l._value);++s.psd.ref,++qa,Ba(Ao,[f,l,s])}}function Ao(l,s,f){try{var h,y=s._value;!s._state&&Dt.length&&(Dt=[]),h=It&&s._consoleTask?s._consoleTask.run(function(){return l(y)}):l(y),s._state||Dt.indexOf(y)!==-1||(b=>{for(var w=vt.length;w;)if(vt[--w]._value===b._value)return vt.splice(w,1)})(s),f.resolve(h)}catch(b){f.reject(b)}finally{--qa==0&&Br(),--f.psd.ref||f.psd.finalize()}}function Zs(){Hn(Mt,function(){xa()&&Jn()})}function xa(){var l=De;return Ge=De=!1,l}function Jn(){var l,s,f;do for(;0<ca.length;)for(l=ca,ca=[],f=l.length,s=0;s<f;++s){var h=l[s];h[0].apply(null,h[1])}while(0<ca.length);Ge=De=!0}function Br(){for(var l=vt,s=(vt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),qi.slice(0)),f=s.length;f;)s[--f]()}function ai(l){return new Oe(qn,!1,l)}function zt(l,s){var f=Ce;return function(){var h=xa(),y=Ce;try{return wa(f,!0),l.apply(this,arguments)}catch(b){s&&s(b)}finally{wa(y,!1),h&&Jn()}}}$(Oe.prototype,{then:gl,_then:function(l,s){Ua(this,new ti(null,null,l,s,Ce))},catch:function(l){var s,f;return arguments.length===1?this.then(null,l):(s=l,f=arguments[1],typeof s=="function"?this.then(null,function(h){return(h instanceof s?f:ai)(h)}):this.then(null,function(h){return(h&&h.name===s?f:ai)(h)}))},finally:function(l){return this.then(function(s){return Oe.resolve(l()).then(function(){return s})},function(s){return Oe.resolve(l()).then(function(){return ai(s)})})},timeout:function(l,s){var f=this;return l<1/0?new Oe(function(h,y){var b=setTimeout(function(){return y(new oe.Timeout(s))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&G(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),Mt.env=Ur(),$(Oe,{all:function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.length===0&&s([]);var h=l.length;l.forEach(function(y,b){return Oe.resolve(y).then(function(w){l[b]=w,--h||s(l)},f)})})},resolve:function(l){return l instanceof Oe?l:l&&typeof l.then=="function"?new Oe(function(s,f){l.then(s,f)}):new Oe(qn,!0,l)},reject:ai,race:function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.map(function(h){return Oe.resolve(h).then(s,f)})})},PSD:{get:function(){return Ce},set:function(l){return Ce=l}},totalEchoes:{get:function(){return ii}},newPSD:Bt,usePSD:Hn,scheduler:{get:function(){return Ba},set:function(l){Ba=l}},rejectionMapper:{get:function(){return wt},set:function(l){wt=l}},follow:function(l,s){return new Oe(function(f,h){return Bt(function(y,b){var w=Ce;w.unhandleds=[],w.onunhandled=b,w.finalize=qt(function(){var j,A=this;j=function(){A.unhandleds.length===0?y():b(A.unhandleds[0])},qi.push(function H(){j(),qi.splice(qi.indexOf(H),1)}),++qa,Ba(function(){--qa==0&&Br()},[])},w.finalize),l()},s,f,h)})}}),Un&&(Un.allSettled&&G(Oe,"allSettled",function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s){l.length===0&&s([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return Oe.resolve(y).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--f||s(h)})})})}),Un.any&&typeof AggregateError<"u"&&G(Oe,"any",function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,w){return Oe.resolve(b).then(function(j){return s(j)},function(j){y[w]=j,--h||f(new AggregateError(y))})})})}),Un.withResolvers)&&(Oe.withResolvers=Un.withResolvers);var Vt={awaits:0,echoes:0,id:0},qr=0,bl=[],li=0,ii=0,Sa=0;function Bt(l,w,f,h){var y=Ce,b=Object.create(y),w=(b.parent=y,b.ref=0,b.global=!1,b.id=++Sa,Mt.env,b.env=va?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},w&&q(b,w),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Hn(b,l,f,h));return b.ref===0&&b.finalize(),w}function Ft(){return Vt.id||(Vt.id=++qr),++Vt.awaits,Vt.echoes+=rn,Vt.id}function Nn(){return!!Vt.awaits&&(--Vt.awaits==0&&(Vt.id=0),Vt.echoes=Vt.awaits*rn,!0)}function vl(l){return Vt.echoes&&l&&l.constructor===Un?(Ft(),l.then(function(s){return Nn(),s},function(s){return Nn(),Et(s)})):l}function Oo(){var l=bl[bl.length-1];bl.pop(),wa(l,!1)}function wa(l,s){var f,h,y=Ce;(s?!Vt.echoes||li++&&l===Ce:!li||--li&&l===Ce)||queueMicrotask(s?(function(b){++ii,Vt.echoes&&--Vt.echoes!=0||(Vt.echoes=Vt.awaits=Vt.id=0),bl.push(Ce),wa(b,!0)}).bind(null,l):Oo),l!==Ce&&(Ce=l,y===Mt&&(Mt.env=Ur()),va)&&(f=Mt.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(S,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Ur(){var l=S.Promise;return va?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Hn(l,s,f,h,y){var b=Ce;try{return wa(l,!0),s(f,h,y)}finally{wa(b,!1)}}function Ui(l,s,f,h){return typeof l!="function"?l:function(){var y=Ce;f&&Ft(),wa(s,!0);try{return l.apply(this,arguments)}finally{wa(y,!1),h&&queueMicrotask(Nn)}}}function ja(l){Promise===Un&&Vt.echoes===0?li===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Ja).indexOf("[native code]")===-1&&(Ft=Nn=Ue);var Et=Oe.reject,Ln="",vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zt="String expected.",Ha=[],ri="__dbnames",da="readonly",Na="readwrite";function La(l,s){return l?s?function(){return l.apply(this,arguments)&&s.apply(this,arguments)}:l:s}var Hr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function si(l){return typeof l!="string"||/\./.test(l)?function(s){return s}:function(s){return s[l]===void 0&&l in s&&delete(s=at(s))[l],s}}function Js(){throw oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(l,s){try{var f=ui(l),h=ui(s);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return s<l?1:l<s?-1:0;case"binary":for(var y=$n(l),b=$n(s),w=y.length,j=b.length,A=w<j?w:j,H=0;H<A;++H)if(y[H]!==b[H])return y[H]<b[H]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var O=l,E=s,z=O.length,B=E.length,T=z<B?z:B,D=0;D<T;++D){var K=lt(O[D],E[D]);if(K!==0)return K}return z===B?0:z<B?-1:1}}catch{}return NaN}function ui(l){var s=typeof l;return s=="object"&&(ArrayBuffer.isView(l)||(s=Qe(l))==="ArrayBuffer")?"binary":s}function $n(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function mn(l,s,f){var h=l.schema.yProps;return h?(s&&0<f.numFailures&&(s=s.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,s?l.db.table(y).where("k").anyOf(s).delete():l.db.table(y).clear()})).then(function(){return f})):f}$s.prototype.execute=function(l){var s=this["@@propmod"];if(s.add!==void 0){var f=s.add;if(N(f))return g(g([],N(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(s.remove!==void 0){var h=s.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=s.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?s.replacePrefix[1]+l.substring(f.length):l};var xl=$s;function $s(l){this["@@propmod"]=l}function Hi(l,s){for(var f=v(s),h=f.length,y=!1,b=0;b<h;++b){var w=f[b],j=s[w],A=me(l,w);j instanceof xl?(Se(l,w,j.execute(A)),y=!0):A!==j&&(Se(l,w,j),y=!0)}return y}xt.prototype._trans=function(l,s,f){var h=this._tx||Ce.trans,y=this.name,b=It&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(H,O,E){if(E.schema[y])return s(E.idbtrans,E);throw new oe.NotFound("Table "+y+" not part of transaction")}var j=xa();try{var A=h&&h.db._novip===this.db._novip?h===Ce.trans?h._promise(l,w,f):Bt(function(){return h._promise(l,w,f)},{trans:h,transless:Ce.transless||Ce}):(function H(O,E,z,B){if(O.idbdb&&(O._state.openComplete||Ce.letThrough||O._vip)){var T=O._createTransaction(E,z,O._dbSchema);try{T.create(),O._state.PR1398_maxLoop=3}catch(D){return D.name===be.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return H(O,E,z,B)})):Et(D)}return T._promise(E,function(D,K){return Bt(function(){return Ce.trans=T,B(D,K,T)})}).then(function(D){if(E==="readwrite")try{T.idbtrans.commit()}catch{}return E==="readonly"?D:T._completion.then(function(){return D})})}if(O._state.openComplete)return Et(new oe.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return Et(new oe.DatabaseClosed);O.open().catch(Ue)}return O._state.dbReadyPromise.then(function(){return H(O,E,z,B)})})(this.db,l,[this.name],w);return b&&(A._consoleTask=b,A=A.catch(function(H){return console.trace(H),Et(H)})),A}finally{j&&Jn()}},xt.prototype.get=function(l,s){var f=this;return l&&l.constructor===Object?this.where(l).first(s):l==null?Et(new oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(s)},xt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var s=v(l);if(s.length===1)return this.where(s[0]).equals(l[s[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&s.every(function(H){return 0<=j.keyPath.indexOf(H)})){for(var A=0;A<s.length;++A)if(s.indexOf(j.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(j,A){return j.keyPath.length-A.keyPath.length})[0];if(f&&this.db._maxKey!==Ln)return w=f.keyPath.slice(0,s.length),this.where(w).equals(w.map(function(j){return l[j]}));!f&&It&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function y(j,A){return lt(j,A)===0}var w=s.reduce(function(O,A){var H=O[0],O=O[1],E=h[A],z=l[A];return[H||E,H||!E?La(O,E&&E.multi?function(B){return B=me(B,A),N(B)&&B.some(function(T){return y(z,T)})}:function(B){return y(z,me(B,A))}):O]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(w):f?this.filter(w):this.where(s).equals("")},xt.prototype.filter=function(l){return this.toCollection().and(l)},xt.prototype.count=function(l){return this.toCollection().count(l)},xt.prototype.offset=function(l){return this.toCollection().offset(l)},xt.prototype.limit=function(l){return this.toCollection().limit(l)},xt.prototype.each=function(l){return this.toCollection().each(l)},xt.prototype.toArray=function(l){return this.toCollection().toArray(l)},xt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},xt.prototype.reverse=function(){return this.toCollection().reverse()},xt.prototype.mapToClass=function(l){for(var s=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Js&&(l=(w=>{var j=O,A=w;if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function H(){this.constructor=j}function O(){return w!==null&&w.apply(this,arguments)||this}return m(j,A),j.prototype=A===null?Object.create(A):(H.prototype=A.prototype,new H),Object.defineProperty(O.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),O.prototype.table=function(){return f},O})(l)),new Set),y=l.prototype;y;y=C(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function b(w){if(!w)return w;var j,A=Object.create(l.prototype);for(j in w)if(!h.has(j))try{A[j]=w[j]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},xt.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},xt.prototype.add=function(l,s){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Se(l,b,j)}catch{}return j})},xt.prototype.upsert=function(l,s){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var w=b??{};return Hi(w,s),h&&Se(w,h,l),f.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[s]}}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):!!b})})})},xt.prototype.update=function(l,s){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(s):(l=me(l,this.schema.primKey.keyPath))===void 0?Et(new oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s)},xt.prototype.put=function(l,s){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Se(l,b,j)}catch{}return j})},xt.prototype.delete=function(l){var s=this;return this._trans("readwrite",function(f){return s.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return mn(s,[l],h)}).then(function(h){return h.numFailures?Oe.reject(h.failures[0]):void 0})})},xt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"deleteRange",range:Hr}).then(function(f){return mn(l,null,f)})}).then(function(s){return s.numFailures?Oe.reject(s.failures[0]):void 0})},xt.prototype.bulkGet=function(l){var s=this;return this._trans("readonly",function(f){return s.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return s.hook.reading.fire(y)})})})},xt.prototype.bulkAdd=function(l,s,f){var h=this,y=Array.isArray(s)?s:void 0,b=(f=f||(y?void 0:s))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var A=l.length,H=j&&H?l.map(si(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:H,wantResults:b}).then(function(O){var E=O.numFailures,z=O.failures;if(E===0)return b?O.results:O.lastResult;throw new ae("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(A," operations failed"),z)})})},xt.prototype.bulkPut=function(l,s,f){var h=this,y=Array.isArray(s)?s:void 0,b=(f=f||(y?void 0:s))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var A=l.length,H=j&&H?l.map(si(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:H,wantResults:b}).then(function(O){var E=O.numFailures,z=O.failures;if(E===0)return b?O.results:O.lastResult;throw new ae("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(A," operations failed"),z)})})},xt.prototype.bulkUpdate=function(l){var s=this,f=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return f.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var A=[],H=[],O=(l.forEach(function(E,z){var B=E.key,T=E.changes,D=j[z];if(D){for(var K=0,J=Object.keys(T);K<J.length;K++){var L=J[K],te=T[L];if(L===s.schema.primKey.keyPath){if(lt(te,B)!==0)throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else Se(D,L,te)}b.push(z),A.push(B),H.push(D)}}),A.length);return f.mutate({trans:w,type:"put",keys:A,values:H,updates:{keys:h,changeSpecs:y}}).then(function(E){var z=E.numFailures,B=E.failures;if(z===0)return O;for(var T=0,D=Object.keys(B);T<D.length;T++){var K,J=D[T],L=b[Number(J)];L!=null&&(K=B[J],delete B[J],B[L]=K)}throw new ae("".concat(s.name,".bulkUpdate(): ").concat(z," of ").concat(O," operations failed"),B)})})})},xt.prototype.bulkDelete=function(l){var s=this,f=l.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return mn(s,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new ae("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Lr=xt;function xt(){}function oi(l){function s(w,j){if(j){for(var A=arguments.length,H=new Array(A-1);--A;)H[A-1]=arguments[A];return f[w].subscribe.apply(null,H),l}if(typeof w=="string")return f[w]}var f={};s.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return s;function b(w,j,A){var H,O;if(typeof w!="object")return j=j||rt,O={subscribers:[],fire:A=A||Ue,subscribe:function(E){O.subscribers.indexOf(E)===-1&&(O.subscribers.push(E),O.fire=j(O.fire,E))},unsubscribe:function(E){O.subscribers=O.subscribers.filter(function(z){return z!==E}),O.fire=O.subscribers.reduce(j,A)}},f[w]=s[w]=O;v(H=w).forEach(function(E){var z=H[E];if(N(z))b(E,H[E][0],H[E][1]);else{if(z!=="asap")throw new oe.InvalidArgument("Invalid event config");var B=b(E,mt,function(){for(var T=arguments.length,D=new Array(T);T--;)D[T]=arguments[T];B.subscribers.forEach(function(K){xe(function(){K.apply(null,D)})})})}})}}function on(l,s){return le(s).from({prototype:l}),s}function _a(l,s){return!(l.filter||l.algorithm||l.or)&&(s?l.justLimit:!l.replayFilter)}function Li(l,s){l.filter=La(l.filter,s)}function ci(l,s,f){var h=l.replayFilter;l.replayFilter=h?function(){return La(h(),s())}:s,l.justLimit=f&&!h}function ha(l,s){if(l.isPrimKey)return s.primaryKey;var f=s.getIndexByKeyPath(l.index);if(f)return f;throw new oe.Schema("KeyPath "+l.index+" on object store "+s.name+" is not indexed")}function Kr(l,s,f){var h=ha(l,s.schema);return s.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function fi(l,s,f,h){var y,b,w=l.replayFilter?La(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(j,A,H){var O,E;w&&!w(A,H,function(z){return A.stop(z)},function(z){return A.fail(z)})||((E=""+(O=A.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(O)),R(y,E))||(y[E]=!0,s(j,A,H))},Promise.all([l.or._iterate(b,f),Ka(Kr(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ka(Kr(l,h,f),La(l.algorithm,w),s,!l.keysOnly&&l.valueMapper)}function Ka(l,s,f,h){var y=zt(h?function(b,w,j){return f(h(b),w,j)}:f);return l.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};s&&!s(b,function(j){return w=j},function(j){b.stop(j),w=Ue},function(j){b.fail(j),w=Ue})||y(b.value,b,function(j){return w=j}),w()})})}dt.prototype._read=function(l,s){var f=this._ctx;return f.error?f.table._trans(null,Et.bind(null,f.error)):f.table._trans("readonly",l).then(s)},dt.prototype._write=function(l){var s=this._ctx;return s.error?s.table._trans(null,Et.bind(null,s.error)):s.table._trans("readwrite",l,"locked")},dt.prototype._addAlgorithm=function(l){var s=this._ctx;s.algorithm=La(s.algorithm,l)},dt.prototype._iterate=function(l,s){return fi(this._ctx,l,s,this._ctx.table.core)},dt.prototype.clone=function(l){var s=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&q(f,l),s._ctx=f,s},dt.prototype.raw=function(){return this._ctx.valueMapper=null,this},dt.prototype.each=function(l){var s=this._ctx;return this._read(function(f){return fi(s,l,f,s.table.core)})},dt.prototype.count=function(l){var s=this;return this._read(function(f){var h,y=s._ctx,b=y.table.core;return _a(y,!0)?b.count({trans:f,query:{index:ha(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,fi(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},dt.prototype.sortBy=function(l,s){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(A,H){return H?b(A[f[H]],H-1):A[h]}var w=this._ctx.dir==="next"?1:-1;function j(A,H){return lt(b(A,y),b(H,y))*w}return this.toArray(function(A){return A.sort(j)}).then(s)},dt.prototype.toArray=function(l){var s=this;return this._read(function(f){var h,y,b,w=s._ctx;return w.dir==="next"&&_a(w,!0)&&0<w.limit?(h=w.valueMapper,y=ha(w,w.table.core.schema),w.table.core.query({trans:f,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(b=[],fi(w,function(j){return b.push(j)},f,w.table.core).then(function(){return b}))},l)},dt.prototype.offset=function(l){var s=this._ctx;return l<=0||(s.offset+=l,_a(s)?ci(s,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ci(s,function(){var f=l;return function(){return--f<0}})),this},dt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ci(this._ctx,function(){var s=l;return function(f,h,y){return--s<=0&&h(y),0<=s}},!0),this},dt.prototype.until=function(l,s){return Li(this._ctx,function(f,h,y){return!l(f.value)||(h(y),s)}),this},dt.prototype.first=function(l){return this.limit(1).toArray(function(s){return s[0]}).then(l)},dt.prototype.last=function(l){return this.reverse().first(l)},dt.prototype.filter=function(l){var s;return Li(this._ctx,function(f){return l(f.value)}),(s=this._ctx).isMatch=La(s.isMatch,l),this},dt.prototype.and=function(l){return this.filter(l)},dt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},dt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},dt.prototype.desc=function(){return this.reverse()},dt.prototype.eachKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(f,h){l(h.key,h)})},dt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},dt.prototype.eachPrimaryKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},dt.prototype.keys=function(l){var s=this._ctx,f=(s.keysOnly=!s.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},dt.prototype.primaryKeys=function(l){var s=this._ctx;if(s.dir==="next"&&_a(s,!0)&&0<s.limit)return this._read(function(h){var y=ha(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(h){return h.result}).then(l);s.keysOnly=!s.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},dt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},dt.prototype.firstKey=function(l){return this.limit(1).keys(function(s){return s[0]}).then(l)},dt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},dt.prototype.distinct=function(){var l,s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];return s&&s.multi&&(l={},Li(this._ctx,function(h){var h=h.primaryKey.toString(),y=R(l,h);return l[h]=!0,!y})),this},dt.prototype.modify=function(l){var s=this,f=this._ctx;return this._write(function(h){function y(D,K){var J=K.failures;z+=D-K.numFailures;for(var L=0,te=v(J);L<te.length;L++){var ce=te[L];E.push(J[ce])}}var b=typeof l=="function"?l:function(D){return Hi(D,l)},w=f.table.core,O=w.schema.primaryKey,j=O.outbound,A=O.extractKey,H=200,O=s.db._options.modifyChunkSize,E=(O&&(H=typeof O=="object"?O[w.name]||O["*"]||200:O),[]),z=0,B=[],T=l===Yr;return s.clone().primaryKeys().then(function(D){function K(L){var te=Math.min(H,D.length-L),ce=D.slice(L,L+te);return(T?Promise.resolve([]):w.getMany({trans:h,keys:ce,cache:"immutable"})).then(function(_e){var Ee=[],fe=[],ze=j?[]:null,Te=T?ce:[];if(!T)for(var de=0;de<te;++de){var Re=_e[de],$e={value:at(Re),primKey:D[L+de]};b.call($e,$e.value,$e)!==!1&&($e.value==null?Te.push(D[L+de]):j||lt(A(Re),A($e.value))===0?(fe.push($e.value),j&&ze.push(D[L+de])):(Te.push(D[L+de]),Ee.push($e.value)))}return Promise.resolve(0<Ee.length&&w.mutate({trans:h,type:"add",values:Ee}).then(function(it){for(var Ye in it.failures)Te.splice(parseInt(Ye),1);y(Ee.length,it)})).then(function(){return(0<fe.length||J&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:ze,values:fe,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<L}).then(function(it){return y(fe.length,it)})}).then(function(){return(0<Te.length||J&&T)&&w.mutate({trans:h,type:"delete",keys:Te,criteria:J,isAdditionalChunk:0<L}).then(function(it){return mn(f.table,Te,it)}).then(function(it){return y(Te.length,it)})}).then(function(){return D.length>L+te&&K(L+H)})})}var J=_a(f)&&f.limit===1/0&&(typeof l!="function"||T)&&{index:f.index,range:f.range};return K(0).then(function(){if(0<E.length)throw new Ie("Error modifying one or more objects",E,z,B);return D.length})})})},dt.prototype.delete=function(){var l=this._ctx,s=l.range;return!_a(l)||l.table.schema.yProps||!l.isPrimKey&&s.type!==3?this.modify(Yr):this._write(function(f){var h=l.table.core.schema.primaryKey,y=s;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(A){var j=A.failures,A=A.numFailures;if(A)throw new Ie("Could not delete some values",Object.keys(j).map(function(H){return j[H]}),b-A);return b-A})})})};var To=dt;function dt(){}var Yr=function(l,s){return s.value=null};function Qr(l,s){return l<s?-1:l===s?0:1}function Do(l,s){return s<l?-1:l===s?0:1}function _n(l,s,f){return l=l instanceof Ya?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(s),l}function ma(l){return new l.Collection(l,function(){return Ki("")}).limit(0)}function An(B,s,f,h){var y,b,w,j,A,H,O,E=f.length;if(!f.every(function(D){return typeof D=="string"}))return _n(B,Zt);function z(D){y=D==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=D==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},w=D==="next"?Qr:Do;var K=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,L){return w(J.lower,L.lower)});j=K.map(function(J){return J.upper}),A=K.map(function(J){return J.lower}),O=(H=D)==="next"?"":h}z("next");var B=new B.Collection(B,function(){return Pn(j[0],A[E-1]+h)}),T=(B._ondirectionchange=function(D){z(D)},0);return B._addAlgorithm(function(D,K,J){var L=D.key;if(typeof L=="string"){var te=b(L);if(s(te,A,T))return!0;for(var ce=null,_e=T;_e<E;++_e){var Ee=((fe,ze,Te,de,Re,$e)=>{for(var it=Math.min(fe.length,de.length),Ye=-1,We=0;We<it;++We){var Ct=ze[We];if(Ct!==de[We])return Re(fe[We],Te[We])<0?fe.substr(0,We)+Te[We]+Te.substr(We+1):Re(fe[We],de[We])<0?fe.substr(0,We)+de[We]+Te.substr(We+1):0<=Ye?fe.substr(0,Ye)+ze[Ye]+Te.substr(Ye+1):null;Re(fe[We],Ct)<0&&(Ye=We)}return it<de.length&&$e==="next"?fe+Te.substr(fe.length):it<fe.length&&$e==="prev"?fe.substr(0,Te.length):Ye<0?null:fe.substr(0,Ye)+de[Ye]+Te.substr(Ye+1)})(L,te,j[_e],A[_e],w,H);Ee===null&&ce===null?T=_e+1:(ce===null||0<w(ce,Ee))&&(ce=Ee)}K(ce!==null?function(){D.continue(ce+O)}:J)}return!1}),B}function Pn(l,s,f,h){return{type:2,lower:l,upper:s,lowerOpen:f,upperOpen:h}}function Ki(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Ut.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ut.prototype.between=function(l,s,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,s)||this._cmp(l,s)===0&&(f||h)&&(!f||!h)?ma(this):new this.Collection(this,function(){return Pn(l,s,!f,!h)})}catch{return _n(this,vn)}},Ut.prototype.equals=function(l){return l==null?_n(this,vn):new this.Collection(this,function(){return Ki(l)})},Ut.prototype.above=function(l){return l==null?_n(this,vn):new this.Collection(this,function(){return Pn(l,void 0,!0)})},Ut.prototype.aboveOrEqual=function(l){return l==null?_n(this,vn):new this.Collection(this,function(){return Pn(l,void 0,!1)})},Ut.prototype.below=function(l){return l==null?_n(this,vn):new this.Collection(this,function(){return Pn(void 0,l,!1,!0)})},Ut.prototype.belowOrEqual=function(l){return l==null?_n(this,vn):new this.Collection(this,function(){return Pn(void 0,l)})},Ut.prototype.startsWith=function(l){return typeof l!="string"?_n(this,Zt):this.between(l,l+Ln,!0,!0)},Ut.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):An(this,function(s,f){return s.indexOf(f[0])===0},[l],Ln)},Ut.prototype.equalsIgnoreCase=function(l){return An(this,function(s,f){return s===f[0]},[l],"")},Ut.prototype.anyOfIgnoreCase=function(){var l=ke.apply(Ne,arguments);return l.length===0?ma(this):An(this,function(s,f){return f.indexOf(s)!==-1},l,"")},Ut.prototype.startsWithAnyOfIgnoreCase=function(){var l=ke.apply(Ne,arguments);return l.length===0?ma(this):An(this,function(s,f){return f.some(function(h){return s.indexOf(h)===0})},l,Ln)},Ut.prototype.anyOf=function(){var l,s,f=this,h=ke.apply(Ne,arguments),y=this._cmp;try{h.sort(y)}catch{return _n(this,vn)}return h.length===0?ma(this):((l=new this.Collection(this,function(){return Pn(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},s=0,l._addAlgorithm(function(b,w,j){for(var A=b.key;0<y(A,h[s]);)if(++s===h.length)return w(j),!1;return y(A,h[s])===0||(w(function(){b.continue(h[s])}),!1)}),l)},Ut.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ut.prototype.noneOf=function(){var l=ke.apply(Ne,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return _n(this,vn)}var s=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return s.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},Ut.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,w=this._min,j=this._max;if(l.length===0)return ma(this);if(!l.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&y(L[0],L[1])<=0}))return _n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var A=!J||J.includeLowers!==!1,H=J&&J.includeUppers===!0,O,E=y;function z(L,te){return E(L[0],te[0])}try{(O=l.reduce(function(L,te){for(var ce=0,_e=L.length;ce<_e;++ce){var Ee=L[ce];if(h(te[0],Ee[1])<0&&0<h(te[1],Ee[0])){Ee[0]=w(Ee[0],te[0]),Ee[1]=j(Ee[1],te[1]);break}}return ce===_e&&L.push(te),L},[])).sort(z)}catch{return _n(this,vn)}var B=0,T=H?function(L){return 0<y(L,O[B][1])}:function(L){return 0<=y(L,O[B][1])},D=A?function(L){return 0<b(L,O[B][0])}:function(L){return 0<=b(L,O[B][0])},K=T,J=new this.Collection(this,function(){return Pn(O[0][0],O[O.length-1][1],!A,!H)});return J._ondirectionchange=function(L){E=L==="next"?(K=T,y):(K=D,b),O.sort(z)},J._addAlgorithm(function(L,te,ce){for(var _e,Ee=L.key;K(Ee);)if(++B===O.length)return te(ce),!1;return!T(_e=Ee)&&!D(_e)||(f._cmp(Ee,O[B][1])===0||f._cmp(Ee,O[B][0])===0||te(function(){E===y?L.continue(O[B][0]):L.continue(O[B][1])}),!1)}),J},Ut.prototype.startsWithAnyOf=function(){var l=ke.apply(Ne,arguments);return l.every(function(s){return typeof s=="string"})?l.length===0?ma(this):this.inAnyRange(l.map(function(s){return[s,s+Ln]})):_n(this,"startsWithAnyOf() only works with strings")};var Ya=Ut;function Ut(){}function Kn(l){return zt(function(s){return Qa(s),l(s.target.error),!1})}function Qa(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Sl="storagemutated",Xa="x-storagemutated-1",cn=oi(null,Sl),Xr=(xn.prototype._lock=function(){return ee(!Ce.global),++this._reculock,this._reculock!==1||Ce.global||(Ce.lockOwnerFor=this),this},xn.prototype._unlock=function(){if(ee(!Ce.global),--this._reculock==0)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Hn(l[1],l[0])}catch{}}return this},xn.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},xn.prototype.create=function(l){var s=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(ee(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(h);case"MissingAPIError":throw new oe.MissingAPI(h.message,h);default:throw new oe.OpenFailed(h)}if(!this.active)throw new oe.TransactionInactive;ee(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zt(function(y){Qa(y),s._reject(l.error)}),l.onabort=zt(function(y){Qa(y),s.active&&s._reject(new oe.Abort(l.error)),s.active=!1,s.on("abort").fire(y)}),l.oncomplete=zt(function(){s.active=!1,s._resolve(),"mutatedParts"in l&&cn.storagemutated.fire(l.mutatedParts)})}return this},xn.prototype._promise=function(l,s,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Et(new oe.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Oe(function(b,w){y._blockedFuncs.push([function(){y._promise(l,s,f).then(b,w)},Ce])}):f?Bt(function(){var b=new Oe(function(w,j){y._lock();var A=s(w,j,y);A&&A.then&&A.then(w,j)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Oe(function(b,w){var j=s(b,w,y);j&&j.then&&j.then(b,w)}))._lib=!0,h):Et(new oe.TransactionInactive)},xn.prototype._root=function(){return this.parent?this.parent._root():this},xn.prototype.waitFor=function(l){var s,f=this._root(),h=Oe.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],s=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(s.get(-1/0).onsuccess=b)})()),f._waitingFor);return new Oe(function(b,w){h.then(function(j){return f._waitingQueue.push(zt(b.bind(null,j)))},function(j){return f._waitingQueue.push(zt(w.bind(null,j)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},xn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},xn.prototype.table=function(l){var s=this._memoizedTables||(this._memoizedTables={});if(R(s,l))return s[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),s[l]=f;throw new oe.NotFound("Table "+l+" not part of transaction")},xn);function xn(){}function Wn(l,s,f,h,y,b,w,j){return{name:l,keyPath:s,unique:f,multi:h,auto:y,compound:b,src:(f&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Yi(s),type:j}}function Yi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function wl(l,s,f){return{name:l,primKey:s,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,w){return b=h(b,w),b&&(y[b[0]]=b[1]),y},{}))};var h}var jl=function(l){try{return l.only([[]]),jl=function(){return[[]]},[[]]}catch{return jl=function(){return Ln},Ln}};function Nl(l){return l==null?function(){}:typeof l=="string"?(s=l).split(".").length===1?function(f){return f[s]}:function(f){return me(f,s)}:function(f){return me(f,l)};var s}function di(l){return[].slice.call(l)}var Ps=0;function en(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ga(l,s,A){function h(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=T.lower,z=T.upper,B=T.lowerOpen,T=T.upperOpen;return E===void 0?z===void 0?null:s.upperBound(z,!!T):z===void 0?s.lowerBound(E,!!B):s.bound(E,z,!!B,!!T)}function y(O){var E,z=O.name;return{name:z,schema:O,mutate:function(B){var T=B.trans,D=B.type,K=B.keys,J=B.values,L=B.range;return new Promise(function(te,ce){te=zt(te);var _e=T.objectStore(z),Ee=_e.keyPath==null,fe=D==="put"||D==="add";if(!fe&&D!=="delete"&&D!=="deleteRange")throw new Error("Invalid operation type: "+D);var ze,Te=(K||J||{length:1}).length;if(K&&J&&K.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function de(jt){++it,Qa(jt)}var Re=[],$e=[],it=0;if(D==="deleteRange"){if(L.type===4)return te({numFailures:it,failures:$e,results:[],lastResult:void 0});L.type===3?Re.push(ze=_e.clear()):Re.push(ze=_e.delete(h(L)))}else{var Ee=fe?Ee?[J,K]:[J,null]:[K,null],Ye=Ee[0],We=Ee[1];if(fe)for(var Ct=0;Ct<Te;++Ct)Re.push(ze=We&&We[Ct]!==void 0?_e[D](Ye[Ct],We[Ct]):_e[D](Ye[Ct])),ze.onerror=de;else for(Ct=0;Ct<Te;++Ct)Re.push(ze=_e[D](Ye[Ct])),ze.onerror=de}function wn(jt){jt=jt.target.result,Re.forEach(function(Oa,Tl){return Oa.error!=null&&($e[Tl]=Oa.error)}),te({numFailures:it,failures:$e,results:D==="delete"?K:Re.map(function(Oa){return Oa.result}),lastResult:jt})}ze.onerror=function(jt){de(jt),wn(jt)},ze.onsuccess=wn})},getMany:function(B){var T=B.trans,D=B.keys;return new Promise(function(K,J){K=zt(K);for(var L,te=T.objectStore(z),ce=D.length,_e=new Array(ce),Ee=0,fe=0,ze=function(Re){Re=Re.target,_e[Re._pos]=Re.result,++fe===Ee&&K(_e)},Te=Kn(J),de=0;de<ce;++de)D[de]!=null&&((L=te.get(D[de]))._pos=de,L.onsuccess=ze,L.onerror=Te,++Ee);Ee===0&&K(_e)})},get:function(B){var T=B.trans,D=B.key;return new Promise(function(K,J){K=zt(K);var L=T.objectStore(z).get(D);L.onsuccess=function(te){return K(te.target.result)},L.onerror=Kn(J)})},query:(E=j,function(B){return new Promise(function(T,D){T=zt(T);var K,J,L,fe=B.trans,te=B.values,ce=B.limit,Ee=B.query,_e=ce===1/0?void 0:ce,ze=Ee.index,Ee=Ee.range,fe=fe.objectStore(z),fe=ze.isPrimaryKey?fe:fe.index(ze.name),ze=h(Ee);if(ce===0)return T({result:[]});E?((Ee=te?fe.getAll(ze,_e):fe.getAllKeys(ze,_e)).onsuccess=function(Te){return T({result:Te.target.result})},Ee.onerror=Kn(D)):(K=0,J=!te&&"openKeyCursor"in fe?fe.openKeyCursor(ze):fe.openCursor(ze),L=[],J.onsuccess=function(Te){var de=J.result;return!de||(L.push(te?de.value:de.primaryKey),++K===ce)?T({result:L}):void de.continue()},J.onerror=Kn(D))})}),openCursor:function(B){var T=B.trans,D=B.values,K=B.query,J=B.reverse,L=B.unique;return new Promise(function(te,ce){te=zt(te);var fe=K.index,_e=K.range,Ee=T.objectStore(z),Ee=fe.isPrimaryKey?Ee:Ee.index(fe.name),fe=J?L?"prevunique":"prev":L?"nextunique":"next",ze=!D&&"openKeyCursor"in Ee?Ee.openKeyCursor(h(_e),fe):Ee.openCursor(h(_e),fe);ze.onerror=Kn(ce),ze.onsuccess=zt(function(Te){var de,Re,$e,it,Ye=ze.result;Ye?(Ye.___id=++Ps,Ye.done=!1,de=Ye.continue.bind(Ye),Re=(Re=Ye.continuePrimaryKey)&&Re.bind(Ye),$e=Ye.advance.bind(Ye),it=function(){throw new Error("Cursor not stopped")},Ye.trans=T,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=zt(ce),Ye.next=function(){var We=this,Ct=1;return this.start(function(){return Ct--?We.continue():We.stop()}).then(function(){return We})},Ye.start=function(We){function Ct(){if(ze.result)try{We()}catch(jt){Ye.fail(jt)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var wn=new Promise(function(jt,Oa){jt=zt(jt),ze.onerror=Kn(Oa),Ye.fail=Oa,Ye.stop=function(Tl){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=it,jt(Tl)}});return ze.onsuccess=zt(function(jt){ze.onsuccess=Ct,Ct()}),Ye.continue=de,Ye.continuePrimaryKey=Re,Ye.advance=$e,Ct(),wn},te(Ye)):te(null)},ce)})},count:function(B){var T=B.query,D=B.trans,K=T.index,J=T.range;return new Promise(function(L,te){var ce=D.objectStore(z),ce=K.isPrimaryKey?ce:ce.index(K.name),_e=h(J),_e=_e?ce.count(_e):ce.count();_e.onsuccess=zt(function(Ee){return L(Ee.target.result)}),_e.onerror=Kn(te)})}}}b=A,w=di((A=l).objectStoreNames);var b,A={schema:{name:A.name,tables:w.map(function(O){return b.objectStore(O)}).map(function(O){var E=O.keyPath,z=O.autoIncrement,T=N(E),B={},T={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:T,keyPath:E,autoIncrement:z,unique:!0,extractKey:Nl(E)},indexes:di(O.indexNames).map(function(D){return O.index(D)}).map(function(L){var te=L.name,K=L.unique,J=L.multiEntry,L=L.keyPath,te={name:te,compound:N(L),keyPath:L,unique:K,multiEntry:J,extractKey:Nl(L)};return B[en(L)]=te}),getIndexByKeyPath:function(D){return B[en(D)]}};return B[":id"]=T.primaryKey,E!=null&&(B[en(E)]=T.primaryKey),T})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=A.schema,j=A.hasGetAll,A=w.tables.map(y),H={};return A.forEach(function(O){return H[O.name]=O}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(O){if(H[O])return H[O];throw new Error("Table '".concat(O,"' not found"))},MIN_KEY:-1/0,MAX_KEY:jl(s),schema:w}}function Qi(l,s,f,h){return f=f.IDBKeyRange,s=Ga(s,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},s)}}function Ea(l,s){var f=s.db,f=Qi(l._middlewares,f,l._deps,s);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Xi(l,s,f,h){f.forEach(function(y){var b=h[y];s.forEach(function(w){var j=(function A(H,O){return F(H,O)||(H=C(H))&&A(H,O)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?G(w,y,{get:function(){return this.table(y)},set:function(A){he(this,y,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,b))})})}function hi(l,s){s.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function Gr(l,s){return l._cfg.version-s._cfg.version}function mi(l,s,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=wl("$meta",Is("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(b.create(f),b._completion.catch(h),b._reject.bind(b)),j=Ce.transless||Ce;Bt(function(){if(Ce.trans=b,Ce.transless=j,s!==0)return Ea(l,f),H=s,((A=b).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(O){return O??H}):Oe.resolve(H)).then(function(K){var E=l,z=K,B=b,T=f,D=[],K=E._versions,J=E._dbSchema=_l(0,E.idbdb,T);return(K=K.filter(function(L){return L._cfg.version>=z})).length===0?Oe.resolve():(K.forEach(function(L){D.push(function(){var te,ce,_e,Ee=J,fe=L._cfg.dbschema,ze=(Zi(E,Ee,T),Zi(E,fe,T),J=E._dbSchema=fe,Vi(Ee,fe)),Te=(ze.add.forEach(function(de){Vr(T,de[0],de[1].primKey,de[1].indexes)}),ze.change.forEach(function(de){if(de.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var Re=T.objectStore(de.name);de.add.forEach(function($e){return Fi(Re,$e)}),de.change.forEach(function($e){Re.deleteIndex($e.name),Fi(Re,$e)}),de.del.forEach(function($e){return Re.deleteIndex($e)})}),L._cfg.contentUpgrade);if(Te&&L._cfg.version>z)return Ea(E,T),B._memoizedTables={},te=Pe(fe),ze.del.forEach(function(de){te[de]=Ee[de]}),hi(E,[E.Transaction.prototype]),Xi(E,[E.Transaction.prototype],v(te),te),B.schema=te,(ce=X(Te))&&Ft(),fe=Oe.follow(function(){var de;(_e=Te(B))&&ce&&(de=Nn.bind(null,null),_e.then(de,de))}),_e&&typeof _e.then=="function"?Oe.resolve(_e):fe.then(function(){return _e})}),D.push(function(te){var ce,_e,Ee=L._cfg.dbschema;ce=Ee,_e=te,[].slice.call(_e.db.objectStoreNames).forEach(function(fe){return ce[fe]==null&&_e.db.deleteObjectStore(fe)}),hi(E,[E.Transaction.prototype]),Xi(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),B.schema=E._dbSchema}),D.push(function(te){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===L._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(ce){return ce!=="$meta"})):te.objectStore("$meta").put(L._cfg.version,"version"))})}),(function L(){return D.length?Oe.resolve(D.shift()(B.idbtrans)).then(L):Oe.resolve()})().then(function(){Ws(J,T)}))}).catch(w);var A,H;v(y).forEach(function(O){Vr(f,O,y[O].primKey,y[O].indexes)}),Ea(l,f),Oe.follow(function(){return l.on.populate.fire(b)}).catch(w)})}function Gi(l,s){Ws(l._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var f=_l(0,l.idbdb,s);Zi(l,l._dbSchema,s);for(var h=0,y=Vi(f,l._dbSchema).change;h<y.length;h++){var b=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=s.objectStore(w.name);w.add.forEach(function(A){It&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(A.src)),Fi(j,A)})})(y[h]);if(typeof b=="object")return b.value}}function Vi(l,s){var f,h={del:[],add:[],change:[]};for(f in l)s[f]||h.del.push(f);for(f in s){var y=l[f],b=s[f];if(y){var w={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,A=b.idxByName,H=void 0;for(H in j)A[H]||w.del.push(H);for(H in A){var O=j[H],E=A[H];O?O.src!==E.src&&w.change.push(E):w.add.push(E)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([f,b])}return h}function Vr(l,s,f,h){var y=l.db.createObjectStore(s,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Fi(y,b)})}function Ws(l,s){v(l).forEach(function(f){s.db.objectStoreNames.contains(f)||(It&&console.debug("Dexie: Creating missing table",f),Vr(s,f,l[f].primKey,l[f].indexes))})}function Fi(l,s){l.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function _l(l,s,f){var h={};return ue(s.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),w=Wn(Yi(H=b.keyPath),H||"",!0,!1,!!b.autoIncrement,H&&typeof H!="string",!0),j=[],A=0;A<b.indexNames.length;++A){var O=b.index(b.indexNames[A]),H=O.keyPath,O=Wn(O.name,H,!!O.unique,!!O.multiEntry,!1,H&&typeof H!="string",!1);j.push(O)}h[y]=wl(y,w,j)}),h}function Zi(l,s,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],w=f.objectStore(b);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var A,H=w.indexNames[j],O=w.index(H).keyPath,O=typeof O=="string"?O:"["+ue(O).join("+")+"]";s[b]&&(A=s[b].idxByName[O])&&(A.name=H,delete s[b].idxByName[O],s[b].idxByName[H]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Is(l){return l.split(",").map(function(s,f){var y=s.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(s=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Wn(y,b||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),N(b),f===0,h)})}El.prototype._createTableSchema=wl,El.prototype._parseIndexSyntax=Is,El.prototype._parseStoresSpec=function(l,s){var f=this;v(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new oe.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new oe.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),s[h]=b}})},El.prototype.stores=function(f){var s=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,f):f,s._versions),h={},y={};return f.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),s._dbSchema=y,hi(s,[s._allTables,s,s.Transaction.prototype]),Xi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],v(y),y),s._storeNames=v(y),this},El.prototype.upgrade=function(l){return this._cfg.contentUpgrade=kt(this._cfg.contentUpgrade||Ue,l),this};var Mo=El;function El(){}function Fr(l,s){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new In(ri,{addons:[],indexedDB:l,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ji(l){return l&&typeof l.databases=="function"}function Zr(l){return Bt(function(){return Ce.letThrough=!0,l()})}function Jr(l){return!("from"in l)}var fn=function(l,s){var f;if(!this)return f=new fn,l&&"d"in l&&q(f,l),f;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?s:l}:{d:0})};function pi(l,s,f){var h=lt(s,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Jr(l))return q(l,{from:s,to:f,d:1});var h=l.l,y=l.r;if(lt(f,l.from)<0)return h?pi(h,s,f):l.l={from:s,to:f,d:1,l:null,r:null},tu(l);if(0<lt(s,l.to))return y?pi(y,s,f):l.r={from:s,to:f,d:1,l:null,r:null},tu(l);lt(s,l.from)<0&&(l.from=s,l.l=null,l.d=y?y.d+1:1),0<lt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),s=!l.r,h&&!l.l&&Va(l,h),y&&s&&Va(l,y)}}function Va(l,s){Jr(s)||(function f(h,y){var b=y.from,w=y.l,j=y.r;pi(h,b,y.to),w&&f(h,w),j&&f(h,j)})(l,s)}function eu(l,s){var f=$i(s),h=f.next();if(!h.done)for(var y=h.value,b=$i(l),w=b.next(y.from),j=w.value;!h.done&&!w.done;){if(lt(j.from,y.to)<=0&&0<=lt(j.to,y.from))return!0;lt(y.from,j.from)<0?y=(h=f.next(j.from)).value:j=(w=b.next(y.from)).value}return!1}function $i(l){var s=Jr(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&lt(f,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||lt(f,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function tu(l){var s,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(s=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[s],(l[s]=f).d=$r(f)),l.d=$r(l)}function $r(f){var s=f.r,f=f.l;return(s?f?Math.max(s.d,f.d):s.d:f?f.d:0)+1}function Pi(l,s){return v(s).forEach(function(f){l[f]?Va(l[f],s[f]):l[f]=(function h(y){var b,w,j={};for(b in y)R(y,b)&&(w=y[b],j[b]=!w||typeof w!="object"||bt.has(w.constructor)?w:h(w));return j})(s[f])}),l}function Pr(l,s){return l.all||s.all||Object.keys(l).some(function(f){return s[f]&&eu(s[f],l[f])})}$(fn.prototype,((un={add:function(l){return Va(this,l),this},addKey:function(l){return pi(this,l,l),this},addKeys:function(l){var s=this;return l.forEach(function(f){return pi(s,f,f)}),this},hasKey:function(l){var s=$i(this).next(l).value;return s&&lt(s.from,l)<=0&&0<=lt(s.to,l)}})[Y]=function(){return $i(this)},un));var Fa={},Wr={},Ir=!1;function Wi(l){Pi(Wr,l),Ir||(Ir=!0,setTimeout(function(){Ir=!1,es(Wr,!(Wr={}))},0))}function es(l,s){s===void 0&&(s=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Fa);h<y.length;h++)nu(j=y[h],l,f,s);else for(var b in l){var w,j,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(w=b[1],b=b[2],j=Fa["idb://".concat(w,"/").concat(b)])&&nu(j,l,f,s)}f.forEach(function(A){return A()})}function nu(l,s,f,h){for(var y=[],b=0,w=Object.entries(l.queries.query);b<w.length;b++){for(var j=w[b],A=j[0],H=[],O=0,E=j[1];O<E.length;O++){var z=E[O];Pr(s,z.obsSet)?z.subscribers.forEach(function(K){return f.add(K)}):h&&H.push(z)}h&&y.push([A,H])}if(h)for(var B=0,T=y;B<T.length;B++){var D=T[B],A=D[0],H=D[1];l.queries.query[A]=H}}function zo(l){var s=l._state,f=l._deps.indexedDB;if(s.isBeingOpened||l.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Et(s.dbOpenError):l});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,y=Math.round(10*l.verno),b=!1;function w(){if(s.openCanceller!==h)throw new oe.DatabaseClosed("db.open() was cancelled")}function j(){return new Oe(function(z,B){if(w(),!f)throw new oe.MissingAPI;var T=l.name,D=s.autoSchema||!y?f.open(T):f.open(T,y);if(!D)throw new oe.MissingAPI;D.onerror=Kn(B),D.onblocked=zt(l._fireOnBlocked),D.onupgradeneeded=zt(function(K){var J;O=D.transaction,s.autoSchema&&!l._options.allowEmptyDB?(D.onerror=Qa,O.abort(),D.result.close(),(J=f.deleteDatabase(T)).onsuccess=J.onerror=zt(function(){B(new oe.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(O.onerror=Kn(B),J=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,E=J<1,l.idbdb=D.result,b&&Gi(l,O),mi(l,J/10,O,B))},B),D.onsuccess=zt(function(){O=null;var K,J,L,te,ce,_e,Ee=l.idbdb=D.result,fe=ue(Ee.objectStoreNames);if(0<fe.length)try{var ze=Ee.transaction((ce=fe).length===1?ce[0]:ce,"readonly");if(s.autoSchema)_e=Ee,te=ze,(L=l).verno=_e.version/10,te=L._dbSchema=_l(0,_e,te),L._storeNames=ue(_e.objectStoreNames,0),Xi(L,[L._allTables],v(te),te);else if(Zi(l,l._dbSchema,ze),J=ze,((J=Vi(_l(0,(K=l).idbdb,J),K._dbSchema)).add.length||J.change.some(function(Te){return Te.add.length||Te.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),y=Ee.version+1,b=!0,z(j());Ea(l,ze)}catch{}Ha.push(l),Ee.onversionchange=zt(function(Te){s.vcFired=!0,l.on("versionchange").fire(Te)}),Ee.onclose=zt(function(){l.close({disableAutoOpen:!1})}),E&&(fe=l._deps,ce=T,Ji(_e=fe.indexedDB)||ce===ri||Fr(_e,fe.IDBKeyRange).put({name:ce}).catch(Ue)),z()},B)}).catch(function(z){switch(z?.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Oe.reject(z)})}var A,H=s.dbReadyResolve,O=null,E=!1;return Oe.race([h,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function B(){return indexedDB.databases().finally(z)}A=setInterval(B,100),B()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(j)]).then(function(){return w(),s.onReadyBeingFired=[],Oe.resolve(Zr(function(){return l.on.ready.fire(l.vip)})).then(function z(){var B;if(0<s.onReadyBeingFired.length)return B=s.onReadyBeingFired.reduce(kt,Ue),s.onReadyBeingFired=[],Oe.resolve(Zr(function(){return B(l.vip)})).then(z)})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(z){s.dbOpenError=z;try{O&&O.abort()}catch{}return h===s.openCanceller&&l._close(),Et(z)}).finally(function(){s.openComplete=!0,H()}).then(function(){var z;return E&&(z={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(T){T.name&&(z["idb://".concat(l.name,"/").concat(B.name,"/").concat(T.name)]=new fn(-1/0,[[[]]]))}),z["idb://".concat(l.name,"/").concat(B.name,"/")]=z["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new fn(-1/0,[[[]]])}),cn(Sl).fire(z),es(z,!0)),l})}function yi(l){function s(b){return l.next(b)}var f=y(s),h=y(function(b){return l.throw(b)});function y(b){return function(j){var j=b(j),A=j.value;return j.done?A:A&&typeof A.then=="function"?A.then(f,h):N(A)?Promise.all(A).then(f,h):f(A)}}return y(s)()}function Ca(l,s,f){for(var h=N(l)?l.slice():[l],y=0;y<f;++y)h.push(s);return h}var Ro={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function w(z,B,T){var L=en(z),D=y[L]=y[L]||[],K=z==null?0:typeof z=="string"?1:z.length,J=0<B,L=d(d({},T),{name:J?"".concat(L,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:J,keyTail:B,keyLength:K,extractKey:Nl(z),unique:!J&&T.unique});return D.push(L),L.isPrimaryKey||b.push(L),1<K&&w(K===2?z[0]:z.slice(0,K-1),B+1,T),D.sort(function(te,ce){return te.keyTail-ce.keyTail}),L}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var A=0,H=h.indexes;A<H.length;A++){var O=H[A];w(O.keyPath,0,O)}function E(z){var B,T=z.query.index;return T.isVirtual?d(d({},z),{query:{index:T.lowLevelIndex,range:(B=z.query.range,T=T.keyTail,{type:B.type===1?2:B.type,lower:Ca(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,T),lowerOpen:!0,upper:Ca(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,T),upperOpen:!0})}}):z}return d(d({},f),{schema:d(d({},h),{primaryKey:j,indexes:b,getIndexByKeyPath:function(z){return(z=y[en(z)])&&z[0]}}),count:function(z){return f.count(E(z))},query:function(z){return f.query(E(z))},openCursor:function(z){var B=z.query.index,T=B.keyTail,D=B.keyLength;return B.isVirtual?f.openCursor(E(z)).then(function(J){return J&&K(J)}):f.openCursor(z);function K(J){return Object.create(J,{continue:{value:function(L){L!=null?J.continue(Ca(L,z.reverse?l.MAX_KEY:l.MIN_KEY,T)):z.unique?J.continue(J.key.slice(0,D).concat(z.reverse?l.MIN_KEY:l.MAX_KEY,T)):J.continue()}},continuePrimaryKey:{value:function(L,te){J.continuePrimaryKey(Ca(L,l.MAX_KEY,T),te)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var L=J.key;return D===1?L[0]:L.slice(0,D)}},value:{get:function(){return J.value}}})}}})}})}};function Ii(l,s,f,h){return f=f||{},h=h||"",v(l).forEach(function(y){var b,w,j;R(s,y)?(b=l[y],w=s[y],typeof b=="object"&&typeof w=="object"&&b&&w?(j=Qe(b))!==Qe(w)?f[h+y]=s[y]:j==="Object"?Ii(b,w,f,h+y+"."):b!==w&&(f[h+y]=s[y]):b!==w&&(f[h+y]=s[y])):f[h+y]=void 0}),v(s).forEach(function(y){R(l,y)||(f[h+y]=s[y])}),f}function er(l,s){return s.type==="delete"?s.keys:s.keys||s.values.map(l.extractKey)}var au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(s){var f=l.table(s),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Ce.trans,w=b.table(s).hook,j=w.deleting,A=w.creating,H=w.updating;switch(y.type){case"add":if(A.fire===Ue)break;return b._promise("readwrite",function(){return O(y)},!0);case"put":if(A.fire===Ue&&H.fire===Ue)break;return b._promise("readwrite",function(){return O(y)},!0);case"delete":if(j.fire===Ue)break;return b._promise("readwrite",function(){return O(y)},!0);case"deleteRange":if(j.fire===Ue)break;return b._promise("readwrite",function(){return(function E(z,B,T){return f.query({trans:z,values:!1,query:{index:h,range:B},limit:T}).then(function(D){var K=D.result;return O({type:"delete",keys:K,trans:z}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):K.length<T?{failures:[],numFailures:0,lastResult:void 0}:E(z,d(d({},B),{lower:K[K.length-1],lowerOpen:!0}),T)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function O(E){var z,B,T,D=Ce.trans,K=E.keys||er(h,E);if(K)return(E=E.type==="add"||E.type==="put"?d(d({},E),{keys:K}):d({},E)).type!=="delete"&&(E.values=g([],E.values)),E.keys&&(E.keys=g([],E.keys)),z=f,T=K,((B=E).type==="add"?Promise.resolve([]):z.getMany({trans:B.trans,keys:T,cache:"immutable"})).then(function(J){var L=K.map(function(te,ce){var _e,Ee,fe,ze=J[ce],Te={onerror:null,onsuccess:null};return E.type==="delete"?j.fire.call(Te,te,ze,D):E.type==="add"||ze===void 0?(_e=A.fire.call(Te,te,E.values[ce],D),te==null&&_e!=null&&(E.keys[ce]=te=_e,h.outbound||Se(E.values[ce],h.keyPath,te))):(_e=Ii(ze,E.values[ce]),(Ee=H.fire.call(Te,_e,te,ze,D))&&(fe=E.values[ce],Object.keys(Ee).forEach(function(de){R(fe,de)?fe[de]=Ee[de]:Se(fe,de,Ee[de])}))),Te});return f.mutate(E).then(function(te){for(var ce=te.failures,_e=te.results,Ee=te.numFailures,te=te.lastResult,fe=0;fe<K.length;++fe){var ze=(_e||K)[fe],Te=L[fe];ze==null?Te.onerror&&Te.onerror(ce[fe]):Te.onsuccess&&Te.onsuccess(E.type==="put"&&J[fe]?E.values[fe]:ze)}return{failures:ce,results:_e,numFailures:Ee,lastResult:te}}).catch(function(te){return L.forEach(function(ce){return ce.onerror&&ce.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function ts(l,s,f){try{if(!s||s.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<s.keys.length&&b<l.length;++y)lt(s.keys[y],l[b])===0&&(h.push(f?at(s.values[y]):s.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var lu={stack:"dbcore",level:-1,create:function(l){return{table:function(s){var f=l.table(s);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=ts(h.keys,h.trans._cache,h.cache==="clone"))?Oe.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?at(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Za(l,s){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function iu(l,s){switch(l){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ko={stack:"dbcore",level:0,name:"Observability",create:function(l){var s=l.schema.name,f=new fn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Ce.subscr&&y!=="readonly")throw new oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return l.transaction(h,y,b)},table:function(h){function y(K){var D,K=K.query;return[D=K.index,new fn((D=(K=K.range).lower)!=null?D:l.MIN_KEY,(D=K.upper)!=null?D:l.MAX_KEY)]}var b=l.table(h),w=b.schema,j=w.primaryKey,A=w.indexes,H=j.extractKey,O=j.outbound,E=j.autoIncrement&&A.filter(function(T){return T.compound&&T.keyPath.includes(j.keyPath)}),z=d(d({},b),{mutate:function(T){function D(Re){return Re="idb://".concat(s,"/").concat(h,"/").concat(Re),ce[Re]||(ce[Re]=new fn)}var K,J,L,te=T.trans,ce=T.mutatedParts||(T.mutatedParts={}),_e=D(""),Ee=D(":dels"),fe=T.type,Te=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[er(j,T).filter(function(Re){return Re}),T.values]:[],ze=Te[0],Te=Te[1],de=T.trans._cache;return N(ze)?(_e.addKeys(ze),(fe=fe==="delete"||ze.length===Te.length?ts(ze,de):null)||Ee.addKeys(ze),(fe||Te)&&(K=D,J=fe,L=Te,w.indexes.forEach(function(Re){var $e=K(Re.name||"");function it(We){return We!=null?Re.extractKey(We):null}function Ye(We){Re.multiEntry&&N(We)?We.forEach(function(Ct){return $e.addKey(Ct)}):$e.addKey(We)}(J||L).forEach(function(We,jt){var wn=J&&it(J[jt]),jt=L&&it(L[jt]);lt(wn,jt)!==0&&(wn!=null&&Ye(wn),jt!=null)&&Ye(jt)})}))):ze?(Te={from:(de=ze.lower)!=null?de:l.MIN_KEY,to:(fe=ze.upper)!=null?fe:l.MAX_KEY},Ee.add(Te),_e.add(Te)):(_e.add(f),Ee.add(f),w.indexes.forEach(function(Re){return D(Re.name).add(f)})),b.mutate(T).then(function(Re){return!ze||T.type!=="add"&&T.type!=="put"||(_e.addKeys(Re.results),E&&E.forEach(function($e){for(var it=T.values.map(function(wn){return $e.extractKey(wn)}),Ye=$e.keyPath.findIndex(function(wn){return wn===j.keyPath}),We=0,Ct=Re.results.length;We<Ct;++We)it[We][Ye]=Re.results[We];D($e.name).addKeys(it)})),te.mutatedParts=Pi(te.mutatedParts||{},ce),Re})}}),B={get:function(T){return[j,new fn(T.key)]},getMany:function(T){return[j,new fn().addKeys(T.keys)]},count:y,query:y,openCursor:y};return v(B).forEach(function(T){z[T]=function(D){var K=Ce.subscr,J=!!K,L=Za(Ce,b)&&iu(T,D)?D.obsSet={}:K;if(J){var te,K=function(Te){return Te="idb://".concat(s,"/").concat(h,"/").concat(Te),L[Te]||(L[Te]=new fn)},ce=K(""),_e=K(":dels"),J=B[T](D),Ee=J[0],J=J[1];if((T==="query"&&Ee.isPrimaryKey&&!D.values?_e:K(Ee.name||"")).add(J),!Ee.isPrimaryKey){if(T!=="count")return te=T==="query"&&O&&D.values&&b.query(d(d({},D),{values:!1})),b[T].apply(this,arguments).then(function(Te){if(T==="query"){if(O&&D.values)return te.then(function(it){return it=it.result,ce.addKeys(it),Te});var de=D.values?Te.result.map(H):Te.result;(D.values?ce:_e).addKeys(de)}else{var Re,$e;if(T==="openCursor")return $e=D.values,(Re=Te)&&Object.create(Re,{key:{get:function(){return _e.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var it=Re.primaryKey;return _e.addKey(it),it}},value:{get:function(){return $e&&ce.addKey(Re.primaryKey),Re.value}}})}return Te});_e.add(f)}}return b[T].apply(this,arguments)}}),z}})}};function ru(l,s,f){var h;return f.numFailures===0?s:s.type==="deleteRange"||(h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1,f.numFailures===h)?null:(h=d({},s),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function tr(l,s){return f=l,((h=s).lower===void 0||(h.lowerOpen?0<lt(f,h.lower):0<=lt(f,h.lower)))&&(f=l,(h=s).upper===void 0||(h.upperOpen?lt(f,h.upper)<0:lt(f,h.upper)<=0));var f,h}function ns(l,s,f,h,y,b){var w,j,A,H,O,E;return!f||f.length===0||(w=s.query.index,j=w.multiEntry,A=s.query.range,H=h.schema.primaryKey.extractKey,O=w.extractKey,E=(w.lowLevelIndex||w).extractKey,(h=f.reduce(function(z,B){var T=z,D=[];if(B.type==="add"||B.type==="put")for(var K=new fn,J=B.values.length-1;0<=J;--J){var L,te=B.values[J],ce=H(te);!K.hasKey(ce)&&(L=O(te),j&&N(L)?L.some(function(Te){return tr(Te,A)}):tr(L,A))&&(K.addKey(ce),D.push(te))}switch(B.type){case"add":var _e=new fn().addKeys(s.values?z.map(function(de){return H(de)}):z),T=z.concat(s.values?D.filter(function(de){return de=H(de),!_e.hasKey(de)&&(_e.addKey(de),!0)}):D.map(function(de){return H(de)}).filter(function(de){return!_e.hasKey(de)&&(_e.addKey(de),!0)}));break;case"put":var Ee=new fn().addKeys(B.values.map(function(de){return H(de)}));T=z.filter(function(de){return!Ee.hasKey(s.values?H(de):de)}).concat(s.values?D:D.map(function(de){return H(de)}));break;case"delete":var fe=new fn().addKeys(B.keys);T=z.filter(function(de){return!fe.hasKey(s.values?H(de):de)});break;case"deleteRange":var ze=B.range;T=z.filter(function(de){return!tr(H(de),ze)})}return T},l))===l)?l:(h.sort(function(z,B){return lt(E(z),E(B))||lt(H(z),H(B))}),s.limit&&s.limit<1/0&&(h.length>s.limit?h.length=s.limit:l.length===s.limit&&h.length<s.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Cl(l,s){return lt(l.lower,s.lower)===0&&lt(l.upper,s.upper)===0&&!!l.lowerOpen==!!s.lowerOpen&&!!l.upperOpen==!!s.upperOpen}function gi(l,s){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=lt(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,s.lower,l.lowerOpen,s.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=lt(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,s.upper,l.upperOpen,s.upperOpen)}function Bo(l,s,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=s,setTimeout(function(){y.subscribers.size===0&&ye(b,y)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(l){var s=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,w,j=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,j.addEventListener("abort",(w=function(A){return function(){if(b.abort(),h==="readwrite"){for(var H=new Set,O=0,E=f;O<E.length;O++){var z=E[O],B=Fa["idb://".concat(s,"/").concat(z)];if(B){var T=l.table(z),D=B.optimisticOps.filter(function(Re){return Re.trans===j});if(j._explicit&&A&&j.mutatedParts)for(var K=0,J=Object.values(B.queries.query);K<J.length;K++)for(var L=0,te=(Ee=J[K]).slice();L<te.length;L++)Pr((fe=te[L]).obsSet,j.mutatedParts)&&(ye(Ee,fe),fe.subscribers.forEach(function(Re){return H.add(Re)}));else if(0<D.length){B.optimisticOps=B.optimisticOps.filter(function(Re){return Re.trans!==j});for(var ce=0,_e=Object.values(B.queries.query);ce<_e.length;ce++)for(var Ee,fe,ze,Te=0,de=(Ee=_e[ce]).slice();Te<de.length;Te++)(fe=de[Te]).res!=null&&j.mutatedParts&&(A&&!fe.dirty?(ze=Object.isFrozen(fe.res),ze=ns(fe.res,fe.req,D,T,fe,ze),fe.dirty?(ye(Ee,fe),fe.subscribers.forEach(function(Re){return H.add(Re)})):ze!==fe.res&&(fe.res=ze,fe.promise=Oe.resolve({result:ze}))):(fe.dirty&&ye(Ee,fe),fe.subscribers.forEach(function(Re){return H.add(Re)})))}}}H.forEach(function(Re){return Re()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var w,j=Ce.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=Fa["idb://".concat(s,"/").concat(f)])?(j=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||er(y,b).some(function(A){return A==null}))?(w.optimisticOps.push(b),b.mutatedParts&&Wi(b.mutatedParts),j.then(function(A){0<A.numFailures&&(ye(w.optimisticOps,b),(A=ru(0,b,A))&&w.optimisticOps.push(A),b.mutatedParts)&&Wi(b.mutatedParts)}),j.catch(function(){ye(w.optimisticOps,b),b.mutatedParts&&Wi(b.mutatedParts)})):j.then(function(A){var H=ru(0,d(d({},b),{values:b.values.map(function(O,E){var z;return A.failures[E]?O:(Se(z=(z=y.keyPath)!=null&&z.includes(".")?at(O):d({},O),y.keyPath,A.results[E]),z)})}),A);w.optimisticOps.push(H),queueMicrotask(function(){return b.mutatedParts&&Wi(b.mutatedParts)})}),j):h.mutate(b)},query:function(b){var w,j,A,H,O,E,z;return Za(Ce,h)&&iu("query",b)?(w=((A=Ce.trans)==null?void 0:A.db._options.cache)==="immutable",j=(A=Ce).requery,A=A.signal,E=((B,T,D,K)=>{var J=Fa["idb://".concat(B,"/").concat(T)];if(!J)return[];if(!(B=J.queries[D]))return[null,!1,J,null];var L=B[(K.query?K.query.index.name:null)||""];if(!L)return[null,!1,J,null];switch(D){case"query":var te=L.find(function(ce){return ce.req.limit===K.limit&&ce.req.values===K.values&&Cl(ce.req.query.range,K.query.range)});return te?[te,!0,J,L]:[L.find(function(ce){return("limit"in ce.req?ce.req.limit:1/0)>=K.limit&&(!K.values||ce.req.values)&&gi(ce.req.query.range,K.query.range)}),!1,J,L];case"count":return te=L.find(function(ce){return Cl(ce.req.query.range,K.query.range)}),[te,!!te,J,L]}})(s,f,"query",b),z=E[0],H=E[2],O=E[3],z&&E[1]?z.obsSet=b.obsSet:(E=h.query(b).then(function(B){var T=B.result;if(z&&(z.res=T),w){for(var D=0,K=T.length;D<K;++D)Object.freeze(T[D]);Object.freeze(T)}else B.result=at(T);return B}).catch(function(B){return O&&z&&ye(O,z),Promise.reject(B)}),z={obsSet:b.obsSet,promise:E,subscribers:new Set,type:"query",req:b,dirty:!1},O?O.push(z):(O=[z],(H=H||(Fa["idb://".concat(s,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=O)),Bo(z,O,j,A),z.promise.then(function(B){return{result:ns(B.result,b,H?.optimisticOps,h,z,w)}})):h.query(b)}})}})}};function bi(l,s){return new Proxy(l,{get:function(f,h,y){return h==="db"?s:Reflect.get(f,h,y)}})}Ht.prototype.version=function(l){if(isNaN(l)||l<.1)throw new oe.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var s=this._versions,f=s.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),s.push(f),s.sort(Gr),f.stores({}),this._state.autoSchema=!1),f},Ht.prototype._whenReady=function(l){var s=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?l():new Oe(function(f,h){if(s._state.openComplete)return h(new oe.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new oe.DatabaseClosed);s.open().catch(Ue)}s._state.dbReadyPromise.then(f,h)}).then(l)},Ht.prototype.use=function(y){var s=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:s,name:y}),this._middlewares[s]||(this._middlewares[s]=[]));return b.push({stack:s,create:f,level:h??10,name:y}),b.sort(function(w,j){return w.level-j.level}),this},Ht.prototype.unuse=function(l){var s=l.stack,f=l.name,h=l.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Ht.prototype.open=function(){var l=this;return Hn(Mt,function(){return zo(l)})},Ht.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,s=Ha.indexOf(this);if(0<=s&&Ha.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Oe(function(f){l.dbReadyResolve=f}),l.openCanceller=new Oe(function(f,h){l.cancelOpen=h}))},Ht.prototype.close=function(s){var s=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,f=this._state;s?(f.isBeingOpened&&f.cancelOpen(new oe.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new oe.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Ht.prototype.delete=function(l){var s=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Oe(function(y,b){function w(){s.close(l);var j=s._deps.indexedDB.deleteDatabase(s.name);j.onsuccess=zt(function(){var A,H,O;A=s._deps,H=s.name,Ji(O=A.indexedDB)||H===ri||Fr(O,A.IDBKeyRange).delete(H).catch(Ue),y()}),j.onerror=Kn(b),j.onblocked=s._fireOnBlocked}if(f)throw new oe.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},Ht.prototype.backendDB=function(){return this.idbdb},Ht.prototype.isOpen=function(){return this.idbdb!==null},Ht.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Ht.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ht.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ht.prototype,"tables",{get:function(){var l=this;return v(this._allTables).map(function(s){return l._allTables[s]})},enumerable:!1,configurable:!0}),Ht.prototype.transaction=function(){var l=(function(s,f,h){var y=arguments.length;if(y<2)throw new oe.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[s,ot(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Ht.prototype._transaction=function(l,s,f){var h,y,b=this,w=Ce.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=s.map(function(H){if(H=H instanceof b.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),l=="r"||l===da)h=da;else{if(l!="rw"&&l!=Na)throw new oe.InvalidArgument("Invalid transaction mode: "+l);h=Na}if(w){if(w.mode===da&&h===Na){if(!j)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(H){if(w&&w.storeNames.indexOf(H)===-1){if(!j)throw new oe.SubTransaction("Table "+H+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(H){return w?w._promise(null,function(O,E){E(H)}):Et(H)}var A=(function H(O,E,z,B,T){return Oe.resolve().then(function(){var L=Ce.transless||Ce,D=O._createTransaction(E,z,O._dbSchema,B),L=(D.explicit=!0,{trans:D,transless:L});if(B)D.idbtrans=B.idbtrans;else try{D.create(),D.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(te){return te.name===be.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return H(O,E,z,null,T)})):Et(te)}var K,J=X(T),L=(J&&Ft(),Oe.follow(function(){var te;(K=T.call(D,D))&&(J?(te=Nn.bind(null,null),K.then(te,te)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=yi(K)))},L));return(K&&typeof K.then=="function"?Oe.resolve(K).then(function(te){return D.active?te:Et(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return K})).then(function(te){return B&&D._resolve(),D._completion.then(function(){return te})}).catch(function(te){return D._reject(te),Et(te)})})}).bind(null,this,h,y,w,f);return w?w._promise(h,A,"lock"):Ce.trans?Hn(Ce.transless,function(){return b._whenReady(A)}):this._whenReady(A)},Ht.prototype.table=function(l){if(R(this._allTables,l))return this._allTables[l];throw new oe.InvalidTable("Table ".concat(l," does not exist"))};var In=Ht;function Ht(l,s){var f,h,y,b,w,j=this,A=(this._middlewares={},this.verno=0,Ht.dependencies),A=(this._options=s=d({addons:Ht.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},s.addons),H=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen}),O=(H.dbReadyPromise=new Oe(function(E){H.dbReadyResolve=E}),H.openCanceller=new Oe(function(E,z){H.cancelOpen=z}),this._state=H,this.name=l,this.on=oi(this,"populate","blocked","versionchange","close",{ready:[kt,Ue]}),this.once=function(E,z){var B=function(){for(var T=[],D=0;D<arguments.length;D++)T[D]=arguments[D];j.on(E).unsubscribe(B),z.apply(j,T)};return j.on(E,B)},this.on.ready.subscribe=ve(this.on.ready.subscribe,function(E){return function(z,B){Ht.vip(function(){var T,D=j._state;D.openComplete?(D.dbOpenError||Oe.resolve().then(z),B&&E(z)):D.onReadyBeingFired?(D.onReadyBeingFired.push(z),B&&E(z)):(E(z),T=j,B||E(function K(){T.on.ready.unsubscribe(z),T.on.ready.unsubscribe(K)}))})}}),this.Collection=(f=this,on(To.prototype,function(K,D){this.db=f;var B=Hr,T=null;if(D)try{B=D()}catch(L){T=L}var D=K._ctx,K=D.table,J=K.hook.reading.fire;this._ctx={table:K,index:D.index,isPrimKey:!D.index||K.schema.primKey.keyPath&&D.index===K.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:D.or,valueMapper:J!==mt?J:null}})),this.Table=(h=this,on(Lr.prototype,function(E,z,B){this.db=h,this._tx=B,this.name=E,this.schema=z,this.hook=h._allTables[E]?h._allTables[E].hook:oi(null,{creating:[ka,Ue],reading:[Wt,mt],updating:[ge,Ue],deleting:[yl,Ue]})})),this.Transaction=(y=this,on(Xr.prototype,function(E,z,B,T,D){var K=this;E!=="readonly"&&z.forEach(function(J){J=(J=B[J])==null?void 0:J.yProps,J&&(z=z.concat(J.map(function(L){return L.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=z,this.schema=B,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=oi(this,"complete","error","abort"),this.parent=D||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(J,L){K._resolve=J,K._reject=L}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(J){var L=K.active;return K.active=!1,K.on.error.fire(J),K.parent?K.parent._reject(J):L&&K.idbtrans&&K.idbtrans.abort(),Et(J)})})),this.Version=(b=this,on(Mo.prototype,function(E){this.db=b,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,on(Ya.prototype,function(E,z,B){if(this.db=w,this._ctx={table:E,index:z===":id"?null:z,or:B},this._cmp=this._ascending=lt,this._descending=function(T,D){return lt(D,T)},this._max=function(T,D){return 0<lt(T,D)?T:D},this._min=function(T,D){return lt(T,D)<0?T:D},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=jl(s.IDBKeyRange),this._createTransaction=function(E,z,B,T){return new j.Transaction(E,z,B,j._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(E){j.on("blocked").fire(E),Ha.filter(function(z){return z.name===j.name&&z!==j&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(E)})},this.use(lu),this.use(nr),this.use(ko),this.use(Ro),this.use(au),new Proxy(this,{get:function(E,z,B){var T;return z==="_vip"||(z==="table"?function(D){return bi(j.table(D),O)}:(T=Reflect.get(E,z,B))instanceof Lr?bi(T,O):z==="tables"?T.map(function(D){return bi(D,O)}):z==="_createTransaction"?function(){return bi(T.apply(this,arguments),O)}:T)}}));this.vip=O,A.forEach(function(E){return E(j)})}var Al,Ja=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",su=(ar.prototype.subscribe=function(l,s,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:s,complete:f})},ar.prototype[Ja]=function(){return this},ar);function ar(l){this._subscribe=l}try{Al={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{Al={indexedDB:null,IDBKeyRange:null}}function uu(l){var s,f=!1,h=new su(function(y){var b=X(l),w,j=!1,A={},H={},O={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),E&&cn.storagemutated.unsubscribe(B))}},E=(y.start&&y.start(O),!1),z=function(){return ja(T)},B=function(D){Pi(A,D),Pr(H,A)&&z()},T=function(){var D,K,J;!j&&Al.indexedDB&&(A={},D={},w&&w.abort(),w=new AbortController,J=(L=>{var te=xa();try{b&&Ft();var ce=Bt(l,L);return ce=b?ce.finally(Nn):ce}finally{te&&Jn()}})(K={subscr:D,signal:w.signal,requery:z,querier:l,trans:null}),Promise.resolve(J).then(function(L){f=!0,s=L,j||K.signal.aborted||(A={},(te=>{for(var ce in te)if(R(te,ce))return;return 1})(H=D)||E||(cn(Sl,B),E=!0),ja(function(){return!j&&y.next&&y.next(L)}))},function(L){f=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||j||ja(function(){j||y.error&&y.error(L)})}))};return setTimeout(z,0),O});return h.hasValue=function(){return f},h.getValue=function(){return s},h}var $a=In;function as(l){var s=Aa;try{Aa=!0,cn.storagemutated.fire(l),es(l,!0)}finally{Aa=s}}$($a,d(d({},se),{delete:function(l){return new $a(l,{addons:[]}).delete()},exists:function(l){return new $a(l,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return s=$a.dependencies,f=s.indexedDB,s=s.IDBKeyRange,(Ji(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ri})}):Fr(f,s).toCollection().primaryKeys()).then(l)}catch{return Et(new oe.MissingAPI)}var s,f},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Ce.trans?Hn(Ce.transless,l):l()},vip:Zr,async:function(l){return function(){try{var s=yi(l.apply(this,arguments));return s&&typeof s.then=="function"?s:Oe.resolve(s)}catch(f){return Et(f)}}},spawn:function(l,s,f){try{var h=yi(l.apply(f,s||[]));return h&&typeof h.then=="function"?h:Oe.resolve(h)}catch(y){return Et(y)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(l,s){return l=Oe.resolve(typeof l=="function"?$a.ignoreTransaction(l):l).timeout(s||6e4),Ce.trans?Ce.trans.waitFor(l):l},Promise:Oe,debug:{get:function(){return It},set:function(l){Bn(l)}},derive:le,extend:q,props:$,override:ve,Events:oi,on:cn,liveQuery:uu,extendObservabilitySet:Pi,getByKeyPath:me,setByKeyPath:Se,delByKeyPath:function(l,s){typeof s=="string"?Se(l,s,void 0):"length"in s&&[].map.call(s,function(f){Se(l,f,void 0)})},shallowClone:Pe,deepClone:at,getObjectDiff:Ii,cmp:lt,asap:xe,minKey:-1/0,addons:[],connections:Ha,errnames:be,dependencies:Al,cache:Fa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,s,f){return l+s/Math.pow(10,2*f)})})),$a.maxKey=jl($a.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(cn(Sl,function(l){Aa||(l=new CustomEvent(Xa,{detail:l}),Aa=!0,dispatchEvent(l),Aa=!1)}),addEventListener(Xa,function(l){l=l.detail,Aa||as(l)}));var Ol,Aa=!1,Sn=function(){};return typeof BroadcastChannel<"u"&&((Sn=function(){(Ol=new BroadcastChannel(Xa)).onmessage=function(l){return l.data&&as(l.data)}})(),typeof Ol.unref=="function"&&Ol.unref(),cn(Sl,function(l){Aa||Ol.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!In.disableBfCache&&l.persisted){It&&console.debug("Dexie: handling persisted pagehide"),Ol?.close();for(var s=0,f=Ha;s<f.length;s++)f[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!In.disableBfCache&&l.persisted&&(It&&console.debug("Dexie: handling persisted pageshow"),Sn(),as({all:new fn(-1/0,[[]])}))})),Oe.rejectionMapper=function(l,s){return!l||l instanceof Me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ve[l.name]?l:(s=new Ve[l.name](s||l.message,l),"stack"in l&&G(s,"stack",{get:function(){return this.inner.stack}}),s)},Bn(It),d(In,Object.freeze({__proto__:null,Dexie:In,Entity:Js,PropModification:xl,RangeSet:fn,add:function(l){return new xl({add:l})},cmp:lt,default:In,liveQuery:uu,mergeRanges:Va,rangesOverlap:eu,remove:function(l){return new xl({remove:l})},replacePrefix:function(l,s){return new xl({replacePrefix:[l,s]})}}),{default:In}),In})})(mo)),mo.exports}var yv=pv();const Rf=E0(yv),Np=Symbol.for("Dexie"),xo=globalThis[Np]||(globalThis[Np]=Rf);if(Rf.semVer!==xo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rf.semVer} and ${xo.semVer}`);const{liveQuery:bx,mergeRanges:vx,rangesOverlap:xx,RangeSet:Sx,cmp:wx,Entity:jx,PropModification:Nx,replacePrefix:_x,add:Ex,remove:Cx,DexieYProvider:Ax}=xo,Vf=new xo("WiseMarkDB");Vf.version(1).stores({pdfs:"hash, filename, size, blob"});async function kf(u){const o=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(o)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Ff(u,o,m,d){await Vf.pdfs.put({hash:u,filename:o,size:m,blob:d})}async function gv(u){const o=await Vf.pdfs.get(u);return o?{data:o.blob,filename:o.filename,size:o.size}:null}async function bv(u){if(!u?.pdf_hash)return null;try{const{data:o}=await hn.getPdf(u.id),m=(o instanceof ArrayBuffer,o),d=u.file_size??m?.byteLength??0;return await Ff(u.pdf_hash,u.filename||"",d,m),{data:m,filename:u.filename||"",size:d}}catch{const o=await gv(u.pdf_hash);return o||null}}const ua=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function _p(u){if(!u)return null;const o=new Date(u);return Number.isNaN(o.getTime())?null:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function vv(u){if(!u)return null;const o=new Date(u);if(Number.isNaN(o.getTime()))return null;const d=new Date-o,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:S<24?`${S}h ago`:v===1?"Yesterday":v<7?`${v}d ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function xv({doc:u,lensMap:o,projectColor:m,hovered:d,onHover:g,onLeave:S,onOpen:v,onRename:N,onDelete:q}){const C=o[u.highlight_preset]??o._default,M=C?.colors?.[0]?.hex??"#94a3b8",R=u.color&&ua.includes(u.color)?u.color:m,$=u.annotation_count??0;return c.jsxs("div",{onMouseEnter:()=>g(u.id),onMouseLeave:S,onClick:()=>v(u.id),role:"button",tabIndex:0,onKeyDown:he=>he.key==="Enter"&&v(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${R}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.filename?.replace(/\.pdf$/i,"")}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[C&&c.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:M,background:`${M}14`},children:C.name}),_p(u.created_at)&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-slate-200",children:""}),c.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:_p(u.created_at)})]}),u.last_opened_at&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-slate-200",children:""}),c.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",vv(u.last_opened_at)]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:$>0?c.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[$," note",$!==1?"s":""]}):c.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),c.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[c.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),N(u)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:c.jsx(Co,{className:"w-3.5 h-3.5"})}),c.jsx("button",{type:"button",onClick:he=>{he.stopPropagation(),q(u)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:c.jsx(Fs,{className:"w-3.5 h-3.5"})})]}),c.jsx(Ks,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Sv(){const{projectId:u}=Uf(),o=Bi(),m=Rr(),[d,g]=Q.useState(!1),[S,v]=Q.useState(""),[N,q]=Q.useState(null),[C,M]=Q.useState(""),[R,$]=Q.useState(!1),[he,G]=Q.useState(""),[le,F]=Q.useState(null),[Ae,ue]=Q.useState(""),[ve,ee]=Q.useState(null),[xe,me]=Q.useState(ua[0]),Se=Q.useRef(null),Pe=Q.useRef(null),Ke=Q.useRef(null),[ot,bt]=Q.useState(0),[Le,at]=Q.useState(null),[we,Qe]=Q.useState("recent"),[Y,pe]=Q.useState(!1),[ye,Ne]=Q.useState(null),[ke,X]=Q.useState(!1),{data:se,isLoading:je}=Zn({queryKey:["project",u],queryFn:async()=>(await Hs.get(u)).data,enabled:!!u}),{data:Me,isLoading:Fe}=Zn({queryKey:["documents",u],queryFn:async()=>(await hn.list({project:u})).data,enabled:!!u}),Ie=Array.isArray(Me)?Me:Me?.results??[],{data:ae=[]}=Zn({queryKey:["lenses"],queryFn:async()=>(await oa.list()).data}),be=Q.useMemo(()=>{const De={};ae.forEach(vt=>{De[vt.id]=vt});const Ge=ae.find(vt=>vt.is_system)??ae[0];return Ge&&(De._default=Ge),De},[ae]),qe=Q.useMemo(()=>{const De=[...Ie];return we==="recent"?De.sort((Ge,vt)=>{const Dt=Ge.last_opened_at||Ge.updated_at||Ge.created_at||"";return(vt.last_opened_at||vt.updated_at||vt.created_at||"").localeCompare(Dt)}):we==="uploaded"?De.sort((Ge,vt)=>(vt.created_at||"").localeCompare(Ge.created_at||"")):we==="name"?De.sort((Ge,vt)=>(Ge.filename||"").localeCompare(vt.filename||"")):we==="annotations"&&De.sort((Ge,vt)=>(vt.annotation_count??0)-(Ge.annotation_count??0)),De},[Ie,we]),oe=Ie.reduce((De,Ge)=>De+(Ge.annotation_count??0),0),Ve=Cn({mutationFn:({id:De,name:Ge})=>Hs.update(De,{name:Ge}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",u]}),m.invalidateQueries({queryKey:["projects"]}),$(!1)}}),Ue=Cn({mutationFn:({id:De,filename:Ge})=>hn.update(De,{filename:Ge}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),q(null),M("")}}),mt=Cn({mutationFn:De=>hn.delete(De),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),Ne(null)}}),Wt=Cn({mutationFn:De=>Hs.delete(De),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),o("/app",{replace:!0})}}),qt=async De=>{const Ge=De.target.files?.[0];if(!Ge||!Ge.type.includes("pdf"))return;v(""),F(Ge);const vt=Ge.name.replace(/\.pdf$/i,"")||Ge.name;ue(vt),me(ua[Ie.length%ua.length]),ee(null),Se.current=null;try{const Dt=await Ge.arrayBuffer(),wt=await kf(Dt),Mt={arrayBuffer:Dt,hash:wt,size:Ge.size};ee(Mt),Se.current={...Mt,suggestedName:vt}}catch(Dt){v(Dt.message||"Could not read file"),F(null),ue("")}},ka=async De=>{De.preventDefault(),pe(!1);const Ge=De.dataTransfer?.files?.[0];if(!Ge||!Ge.type.includes("pdf"))return;v(""),F(Ge);const vt=Ge.name.replace(/\.pdf$/i,"")||Ge.name;ue(vt),me(ua[Ie.length%ua.length]),ee(null),Se.current=null;try{const Dt=await Ge.arrayBuffer(),wt=await kf(Dt),Mt={arrayBuffer:Dt,hash:wt,size:Ge.size};ee(Mt),Se.current={...Mt,suggestedName:vt}}catch(Dt){v(Dt.message||"Could not read file"),F(null),ue("")}},yl=()=>{F(null),ue(""),ee(null),me(ua[0]),v(""),Se.current=null,bt(De=>De+1)},ge=()=>Ke.current?.click(),rt=async De=>{De.preventDefault();const Ge=u,Dt=Pe.current?.value?.trim()||Ae?.trim()||Se.current?.suggestedName?.trim()||"",wt=Se.current||ve;if(!Ge){v("Project not found.");return}if(!Dt){v("Please enter a name for the PDF.");return}if(!wt||!wt.hash||!wt.arrayBuffer){v("File data missing. Please close and select the file again.");return}const Mt=Dt.toLowerCase().endsWith(".pdf")?Dt:`${Dt}.pdf`;v(""),g(!0);try{const Ce=new FormData;Ce.append("project",String(Ge)),Ce.append("filename",Mt),Ce.append("color",xe),Ce.append("file",new Blob([wt.arrayBuffer]),Mt),await hn.createWithFile(Ce),await Ff(wt.hash,Mt,wt.size,wt.arrayBuffer),m.invalidateQueries({queryKey:["documents",Ge]}),F(null),ue(""),ee(null),Se.current=null,bt(ca=>ca+1)}catch(Ce){const ca=Ce.response?.data?.detail||typeof Ce.response?.data=="object"&&Object.values(Ce.response?.data||{}).flat().join(" ")||Ce.message||"Upload failed";v(String(ca))}finally{g(!1)}},kt=De=>{q(De.id),M(De.filename||"")},It=()=>{if(N==null||!C.trim()){q(null);return}Ue.mutate({id:N,filename:C.trim()})},Bn=()=>{q(null),M("")},qn=()=>{G(se?.name??""),$(!0)},rn=()=>{const De=he.trim();if(!De||De===se?.name){$(!1);return}Ve.mutate({id:u,name:De})},ba=()=>{$(!1),G("")},un=pl(De=>De.logout),{data:Un}=Zn({queryKey:["me"],queryFn:async()=>(await Mr.me()).data}),va=(Un?.email?.[0]||Un?.username?.[0]||"?").toUpperCase(),Ba=se?.color&&ua.includes(se.color)?se.color:se?ua[se.id%ua.length]:ua[0];return je||!se?c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx(Ra,{className:"w-8 h-8 animate-spin text-slate-400"})}):c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>o("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{un(),o("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:va})]})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsx("div",{className:"flex items-center gap-2 min-w-0",children:R?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:he,onChange:De=>G(De.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:De=>{De.key==="Enter"&&rn(),De.key==="Escape"&&ba()}}),c.jsx("button",{type:"button",onClick:rn,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:c.jsx(bo,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",onClick:ba,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:c.jsx(ki,{className:"w-5 h-5"})})]}):c.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:se.name})}),!R&&c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[c.jsx("button",{type:"button",onClick:qn,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:c.jsx(Co,{className:"w-3.5 h-3.5"})}),c.jsx("button",{type:"button",onClick:()=>X(!0),disabled:Wt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:c.jsx(Fs,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-[12.5px] text-slate-400 mb-6",children:[c.jsxs("span",{children:[Ie.length," document",Ie.length!==1?"s":""]}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsxs("span",{children:[oe," annotation",oe!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("select",{value:we,onChange:De=>Qe(De.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("option",{value:"recent",children:"Recently opened"}),c.jsx("option",{value:"uploaded",children:"Date uploaded"}),c.jsx("option",{value:"name",children:"Name AZ"}),c.jsx("option",{value:"annotations",children:"Most annotated"})]}),c.jsxs("button",{type:"button",onClick:ge,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[c.jsx(vo,{className:"w-4 h-4"}),"Add PDF"]})]}),c.jsx("input",{ref:Ke,type:"file",accept:".pdf",onChange:qt,className:"hidden","aria-hidden":"true",tabIndex:-1},ot),S&&c.jsx("p",{className:"text-sm text-red-600 mb-4",children:S}),d&&c.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[c.jsx(Ra,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Fe?c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[c.jsx(Ra,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):Ie.length===0?c.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[c.jsx(Xf,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),c.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):c.jsx("div",{className:"flex flex-col gap-1.5",children:qe.map(De=>N===De.id?c.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[c.jsx("input",{type:"text",value:C,onChange:Ge=>M(Ge.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Ge=>{Ge.key==="Enter"&&It(),Ge.key==="Escape"&&Bn()}}),c.jsx("button",{type:"button",onClick:It,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:c.jsx(bo,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:Bn,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:c.jsx(ki,{className:"w-4 h-4"})})]},De.id):c.jsx(xv,{doc:De,lensMap:be,projectColor:Ba,hovered:Le===De.id,onHover:at,onLeave:()=>at(null),onOpen:Ge=>o(`/document/${Ge}`),onRename:kt,onDelete:Ge=>Ne(Ge)},De.id))}),Ie.length>0&&c.jsxs("div",{onDragOver:De=>{De.preventDefault(),pe(!0)},onDragLeave:()=>pe(!1),onDrop:ka,onClick:ge,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${Y?"#2563eb":"#e2e8f0"}`,background:Y?"#eff6ff":"transparent"},children:[c.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:Y?"#dbeafe":"#f1f5f9"},children:c.jsx(vo,{className:"w-4 h-4 text-slate-400"})}),c.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:Y?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),le&&c.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:yl,children:c.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:De=>De.stopPropagation(),children:[c.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),ve?c.jsxs("div",{className:"space-y-4",children:[S&&c.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:S}),c.jsx("input",{ref:Pe,type:"text",value:Ae,onChange:De=>ue(De.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),c.jsx("div",{className:"flex gap-2",children:ua.map(De=>c.jsx("button",{type:"button",onClick:()=>me(De),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:De,borderColor:xe===De?"#1e293b":"transparent",outline:xe===De?"2px solid #fff":"none",outlineOffset:-4}},De))}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:yl,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:rt,disabled:d||!Ae.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(Ra,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[c.jsx(Ra,{className:"w-5 h-5 animate-spin shrink-0"}),c.jsx("span",{children:"Reading file"})]})]})}),ye&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!mt.isPending&&Ne(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:De=>De.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",c.jsx("strong",{children:ye.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>Ne(null),disabled:mt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>mt.mutate(ye.id),disabled:mt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:mt.isPending?"Deleting":"Delete"})]})]})}),ke&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Wt.isPending&&X(!1),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:De=>De.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",c.jsx("strong",{children:se.name})," and all its documents. This cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>X(!1),disabled:Wt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>Wt.mutate(u),disabled:Wt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Wt.isPending?"Deleting":"Delete project"})]})]})})]})}const ml={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Zf=Object.keys(ml);function zr(u,o=1){if(!u||!u.startsWith("#"))return`rgba(148,163,184,${o})`;const m=parseInt(u.slice(1),16),d=m>>16&255,g=m>>8&255,S=m&255;return`rgba(${d},${g},${S},${o})`}function ei(u,o={},m){if(o&&typeof o[u]=="string"&&o[u].trim())return o[u].trim();if(m?.length){const d=m.find(g=>g.key===u);if(d?.display_name)return d.display_name}return ml[u]&&ml[u].name||u}T0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const wv=()=>typeof window<"u"&&window.devicePixelRatio||1;function jv(u,o){const m=Math.sqrt(o[2]*o[2]+o[3]*o[3]),d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),g=m,S=g,v=typeof u.width=="number"&&u.width>0?u.width*d:(u.str?.length||1)*S*.5,N=o[4],q=o[5]-g*.85;return{x:N,y:q,w:v,h:S}}function Nv(u,o,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),S=[];let v=0,N=-999;const q=4;let C=0;return u.items.forEach(M=>{if(!M.str||M.str.trim()==="")return;const R=M0.transform(o.transform,M.transform),$=jv(M,R);Math.abs($.y-N)>q&&(v+=1,N=$.y);const he=$.h,G=typeof M.width=="number"&&M.width>0?M.width*m:$.w,le=M.str.split(/(\s+)/);if(!g||le.length===0){S.push({id:C++,text:M.str,x:$.x,y:$.y,w:$.w,h:$.h,fontSize:$.h,lineIndex:v});return}g.font=`${he}px sans-serif`;const F=le.map(ee=>({text:ee,measured:g.measureText(ee).width,isSpace:/^\s+$/.test(ee)||ee===""})),Ae=F.reduce((ee,xe)=>ee+xe.measured,0),ue=Ae>0?G/Ae:1;let ve=0;F.forEach(ee=>{const xe=ee.measured*ue;if(ee.text===""||ee.isSpace){ve+=xe;return}S.push({id:C,text:ee.text,x:$.x+ve,y:$.y,w:xe,h:he,fontSize:he,lineIndex:v}),C+=1,ve+=xe})}),S}function ay(u){const o={};return u.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;o[d]||(o[d]=[]),o[d].push(m)}),Object.values(o)}function Ep(u,o,m){let S=null,v=1/0;for(const N of u){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(o>=N.x-4&&o<=N.x+N.w+4)return N;const M=o<N.x?N.x-o:o-(N.x+N.w);M<v&&M<40&&(v=M,S=N)}return S}function _v(u){if(!u.length)return"";let o="";for(let m=0;m<u.length;m++){const d=u[m];if(m>0){const g=u[m-1];Math.abs(d.y-g.y)<6?d.x-(g.x+g.w)>1&&(o+=" "):o+=" "}o+=d.text}return o.trim()}function Ev(u,o){return u.length?ay(u).map(d=>{const g=Math.min(...d.map(R=>R.x)),S=Math.max(...d.map(R=>R.x+R.w)),v=d.map(R=>R.y),N=v.sort((R,$)=>R-$)[Math.floor(v.length/2)],q=Math.max(...d.map(R=>R.h)),C=2;return{x:(g-1)/o,y:(N-C)/o,width:(S-g+2)/o,height:(q+C+3)/o}}):[]}function Cv({pdfData:u,scale:o,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:S=null,lensColors:v=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:C,onHighlightHoverEnd:M,onHighlightEdit:R,onHighlightDelete:$}){const[he,G]=Q.useState(null),[le,F]=Q.useState(0),[Ae,ue]=Q.useState(!0);return Q.useEffect(()=>{if(!u)return;let ve=!1;return(async()=>{ue(!0);try{const xe=u.slice(0),me=await D0({data:xe}).promise;ve||(G(me),F(me.numPages),q?.(me.numPages))}catch(xe){console.error("Failed to load PDF",xe)}ve||ue(!1)})(),()=>{ve=!0}},[u,q]),Ae?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(Ra,{className:"w-6 h-6 text-slate-400 animate-spin"})}):he?c.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:le},(ve,ee)=>c.jsx(Av,{pdf:he,pageNumber:ee+1,scale:o,pageHighlights:m.filter(xe=>xe.page_number===ee+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:S,lensColors:v,onSelectionComplete:N,onHighlightHover:C,onHighlightHoverEnd:M,onHighlightEdit:R,onHighlightDelete:$},ee))}):null}function Av({pdf:u,pageNumber:o,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:S,selectionForPicker:v,lensColors:N=[],onSelectionComplete:q,onHighlightHover:C,onHighlightHoverEnd:M,onHighlightEdit:R,onHighlightDelete:$}){const he=Q.useRef(null),G=Q.useRef(null),le=Q.useRef(null),F=Q.useRef(null),[Ae,ue]=Q.useState({width:0,height:0}),[ve,ee]=Q.useState([]),[xe,me]=Q.useState(null),[Se,Pe]=Q.useState(null),[Ke,ot]=Q.useState(!1),bt=Q.useRef(null),Le=Q.useRef(null),at=Q.useCallback(()=>{Le.current&&clearTimeout(Le.current),Le.current=setTimeout(()=>{M?.(),Le.current=null},1e3)},[M]),we=Q.useCallback(X=>{Le.current&&(clearTimeout(Le.current),Le.current=null),C?.(X)},[C]);Q.useEffect(()=>()=>{Le.current&&clearTimeout(Le.current)},[]),Q.useEffect(()=>{let X=!1;return(async()=>{const je=await u.getPage(o),Me=wv(),Fe=je.getViewport({scale:m}),Ie=je.getViewport({scale:m*Me}),ae=G.current;if(!ae||X)return;const be=ae.getContext("2d",{alpha:!1});be.imageSmoothingEnabled=!0,be.imageSmoothingQuality="high",ae.width=Ie.width,ae.height=Ie.height,ae.style.width=`${Fe.width}px`,ae.style.height=`${Fe.height}px`,ue({width:Fe.width,height:Fe.height}),await je.render({canvasContext:be,viewport:Ie}).promise;const qe=await je.getTextContent();if(X)return;const oe=Nv(qe,Fe,m);ee(oe);const Ve=le.current;!Ve||X||(Ve.innerHTML="",Ve.style.width=`${Fe.width}px`,Ve.style.height=`${Fe.height}px`,oe.forEach(Ue=>{const mt=document.createElement("span");mt.textContent=Ue.text,mt.style.position="absolute",mt.style.left=`${Ue.x}px`,mt.style.top=`${Ue.y}px`,mt.style.width=`${Ue.w}px`,mt.style.height=`${Ue.h}px`,mt.style.fontSize=`${Ue.fontSize}px`,mt.style.fontFamily="sans-serif",mt.style.color="transparent",mt.style.whiteSpace="pre",mt.style.pointerEvents="none",mt.style.lineHeight="1",Ve.appendChild(mt)}))})(),()=>{X=!0}},[u,o,m]);const Qe=Q.useMemo(()=>{if(v&&v.pageNumber===o){const je=Math.min(v.spanStart,v.spanEnd),Me=Math.max(v.spanStart,v.spanEnd);return ve.filter(Fe=>Fe.id>=je&&Fe.id<=Me)}if(xe==null||Se==null)return[];const X=Math.min(xe,Se),se=Math.max(xe,Se);return ve.filter(je=>je.id>=X&&je.id<=se)},[ve,v,o,xe,Se]);Q.useEffect(()=>{v===null&&bt.current?.pageNumber===o&&(me(null),Pe(null)),bt.current=v},[v,o]);const Y=Q.useCallback((X,se)=>{const je=he.current?.getBoundingClientRect();return je?{x:X-je.left,y:se-je.top}:{x:0,y:0}},[]),pe=Q.useCallback(X=>{if(X.button!==0||!ve.length)return;const{x:se,y:je}=Y(X.clientX,X.clientY),Me=Ep(ve,se,je);Me?(me(Me.id),Pe(Me.id),ot(!0)):(me(null),Pe(null))},[ve,Y]),ye=Q.useCallback(X=>{if(!Ke)return;const{x:se,y:je}=Y(X.clientX,X.clientY),Me=Ep(ve,se,je);Me&&Pe(Me.id)},[Ke,ve,Y]),Ne=Q.useCallback(X=>{if(X.button!==0||!Ke)return;if(ot(!1),Qe.length<2){me(null),Pe(null);return}if(!q)return;const se=he.current?.getBoundingClientRect();if(!se)return;const je={rects:Ev(Qe,m)},Me=_v(Qe),Fe=Qe[Qe.length-1],Ie={x:se.left+(Fe.x+Fe.w/2),y:se.top+(Fe.y-8)};q({pageNumber:o,position_data:je,highlighted_text:Me,spanStart:Math.min(xe,Se),spanEnd:Math.max(xe,Se),pickerPosition:Ie})},[Ke,Qe,xe,Se,m,o,q]);Q.useEffect(()=>{const X=F.current||he.current;if(X)return X.addEventListener("mousedown",pe),X.addEventListener("mousemove",ye),X.addEventListener("mouseup",Ne),X.addEventListener("mouseleave",Ne),()=>{X.removeEventListener("mousedown",pe),X.removeEventListener("mousemove",ye),X.removeEventListener("mouseup",Ne),X.removeEventListener("mouseleave",Ne)}},[pe,ye,Ne]);const ke=Q.useMemo(()=>ay(Qe),[Qe]);return c.jsxs("div",{ref:he,"data-page":o,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ae.width||0,height:Ae.height||0,cursor:"text"},title:"Drag to highlight text",children:[c.jsx("canvas",{ref:G,className:"block w-full h-full",style:{display:"block"}}),c.jsxs("div",{ref:F,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(X=>{const se=X.position_data?.rects||[],je=(N??[]).find(Ve=>Ve.key===X.color),Me=ml[X.color]||ml.yellow,Fe=je?.hex??Me?.hex??Me?.solid,Ie=g!=null&&String(X.id)===String(g),ae=S!=null&&String(X.id)===String(S),be=Ie||ae?zr(Fe,.38):zr(Fe,.18),qe=R||$;let oe=null;if(se.length>0){const Ve=Math.min(...se.map(qt=>qt.x))*m,Ue=Math.min(...se.map(qt=>qt.y))*m,mt=Math.max(...se.map(qt=>(qt.x||0)+(qt.width||0)))*m,Wt=Math.max(...se.map(qt=>(qt.y||0)+(qt.height||4)))*m;oe={left:Ve,top:Ue,width:mt-Ve,height:Wt-Ue}}return oe?c.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:oe.left,top:oe.top,width:oe.width,height:oe.height,pointerEvents:"auto"},onMouseEnter:()=>we(X.id),onMouseLeave:at,children:[se.map((Ve,Ue)=>c.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(Ve.x||0)*m-oe.left,top:(Ve.y||0)*m-oe.top,width:Math.max(0,(Ve.width||0)*m),height:Math.max(4,(Ve.height||0)*m),backgroundColor:be,pointerEvents:"none"}},Ue)),qe&&Ie&&oe&&c.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>we(X.id),onMouseLeave:at,children:[R&&c.jsx("button",{type:"button",onClick:Ve=>{Ve.stopPropagation(),R(X.id,Ve)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:c.jsx(Co,{className:"w-3.5 h-3.5",strokeWidth:2})}),$&&c.jsx("button",{type:"button",onClick:Ve=>{Ve.stopPropagation(),$(X.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:c.jsx(Fs,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},X.id):null}),ke.map((X,se)=>{const je=Math.min(...X.map(oe=>oe.x)),Me=Math.max(...X.map(oe=>oe.x+oe.w)),Fe=X.map(oe=>oe.y).sort((oe,Ve)=>oe-Ve),Ie=Fe[Math.floor(Fe.length/2)],ae=Math.max(...X.map(oe=>oe.h)),be=2;return c.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${je-1}px`,top:`${Ie-be}px`,width:`${Me-je+2}px`,height:`${ae+be+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},se)})]}),c.jsx("div",{ref:le,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Ov({highlights:u,colorLabels:o,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:S,onHighlightClick:v,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:C,documentId:M,onHighlightNoteUpdate:R,onHighlightDelete:$,openEditForHighlightId:he,onClearOpenEditForHighlightId:G}){const le=m?.length>0?m.map(we=>we.key):d?.length>0?d:Zf,[F,Ae]=Q.useState("all"),[ue,ve]=Q.useState(!1),[ee,xe]=Q.useState(""),[me,Se]=Q.useState(null),[Pe,Ke]=Q.useState("");Q.useEffect(()=>{if(he==null||!u?.length)return;const we=u.find(Qe=>String(Qe.id)===String(he));we&&(Se(we.id),Ke(we.note?.content??"")),G?.()},[he,u,G]);const ot=Q.useMemo(()=>{let we=u||[];if(F!=="all"&&(we=we.filter(Qe=>Qe.color===F)),ee.trim()){const Qe=ee.trim().toLowerCase();we=we.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(Qe)||Y.note?.content&&Y.note.content.toLowerCase().includes(Qe))}return we},[u,F,ee]),bt=we=>{Se(we.id),Ke(we.note?.content??"")},Le=async()=>{if(me==null||!M||!R){Se(null);return}await R(me,Pe.trim()||""),Se(null)},at=()=>{Se(null),Ke("")};return c.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${Il.default} ${zi.surface}`,children:[c.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${Il.default}`,children:[c.jsx("h2",{className:`text-[15px] font-semibold ${nt.heading} mb-1`,children:"Annotations"}),c.jsxs("p",{className:`text-xs ${nt.muted} mb-4`,children:[ot.length," highlight",ot.length!==1?"s":"",u?.length!==ot.length&&` of ${u?.length||0}`]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>{Ae("all"),C?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${F==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${nt.secondary} hover:bg-slate-50`}`,children:"All"})}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>ve(we=>!we),className:`flex items-center gap-1.5 text-[11px] font-semibold ${nt.secondary} hover:text-slate-800 transition-colors`,children:[ue?c.jsx(Ks,{className:"w-3.5 h-3.5 shrink-0"}):c.jsx(Rb,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ue&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:le.map(we=>{const Qe=(u||[]).filter(X=>X.color===we).length,Y=ml[we],ye=m?.find(X=>X.key===we)?.hex??Y?.hex??Y?.solid??"#94a3b8",Ne=ei(we,o,m),ke=F===we;return c.jsxs("button",{type:"button",onClick:()=>{Ae(ke?"all":we),C?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${ke?"border-transparent":`border-slate-200 ${nt.secondary} hover:bg-slate-50`}`,style:ke?{backgroundColor:`${ye}25`,color:ye}:void 0,children:[c.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ye,opacity:1}}),c.jsx("span",{children:Ne}),c.jsxs("span",{className:ke?"opacity-80":nt.muted,children:["(",Qe,")"]})]},we)})})]})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx(ty,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),c.jsx("input",{type:"text",placeholder:"Search highlights...",value:ee,onChange:we=>xe(we.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${Il.default} rounded-lg bg-slate-50 outline-none ${nt.body} placeholder:${nt.muted}`})]})]}),c.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:u?.length?ot.length?c.jsx("ul",{className:"space-y-1.5",children:ot.map(we=>{const Qe=ml[we.color]||ml.yellow,pe=m?.find(ke=>ke.key===we.color)?.hex??Qe?.hex??Qe?.solid??"#94a3b8",ye=we.note?.content,Ne=g!=null&&String(we.id)===String(g);return c.jsx("li",{children:c.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ne?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{v?.(we.id),S?.(we.page_number)},onKeyDown:ke=>{ke.target.tagName==="TEXTAREA"||ke.target.tagName==="INPUT"||ke.target.isContentEditable||(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),v?.(we.id),S?.(we.page_number))},onMouseEnter:()=>N?.(we.id),onMouseLeave:q,children:[c.jsxs("div",{className:"flex gap-2.5",children:[c.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:pe,opacity:Ne?1:.6}}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:`text-xs leading-snug ${nt.body} line-clamp-3`,children:we.highlighted_text||"(No text captured)"})})]}),me===we.id?c.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[c.jsx("textarea",{value:Pe,onChange:ke=>Ke(ke.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${Il.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${nt.body}`}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{type:"button",onClick:Le,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),c.jsx("button",{type:"button",onClick:at,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[ye&&c.jsx("p",{className:`text-[11.5px] ${nt.muted} mt-2 pl-3.5 leading-snug italic`,children:ye}),M&&R&&c.jsx("button",{type:"button",onClick:()=>bt(we),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:ye?"Edit comment":"Add comment"})]}),c.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:pe,backgroundColor:`${pe}12`},children:ei(we.color,o,m)}),c.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",we.page_number]}),M&&$&&c.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),$(we.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:c.jsx(Fs,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},we.id)})}):c.jsx("div",{className:`py-6 text-center ${nt.muted} text-sm`,children:"No matching highlights."}):c.jsxs("div",{className:`py-8 text-center ${nt.muted} text-sm`,children:[c.jsx(Xf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No highlights yet."}),c.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Bf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Tv(u,o){return u?.length?[...u].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):o?.length>0?o.map(m=>Bf.find(d=>d.colorKey===m)).filter(Boolean):Bf}function Dv({position:u,onSelect:o,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:S=[]}){const v=Q.useRef(null),N=Q.useRef(null),[q,C]=Q.useState(null),[M,R]=Q.useState(""),[$,he]=Q.useState(!1),[G,le]=Q.useState(!1),F=Q.useMemo(()=>Tv(S,g),[S,g]),Ae=F.length>0?F:Bf,ue=Q.useCallback(me=>ei(me,d,S),[d,S]);Q.useEffect(()=>{$&&N.current&&N.current.focus()},[$]);const ve=Q.useCallback(me=>{C(me.colorKey),$||(o(me.colorKey,""),le(!0),setTimeout(()=>m(),400))},[$,o,m]),ee=Q.useCallback(()=>{q&&(o(q,M.trim()||void 0),le(!0),setTimeout(()=>m(),400))},[q,M,o,m]);if(Q.useEffect(()=>{const me=Se=>{if(Se.key==="Escape"){m();return}if(!$){const Pe=parseInt(Se.key,10);if(Pe>=1&&Pe<=Ae.length){const Ke=Ae[Pe-1];Ke&&ve(Ke)}}$&&Se.key==="Enter"&&(Se.metaKey||Se.ctrlKey)&&(Se.preventDefault(),ee())};return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[$,q,M,m,ve,ee,Ae]),Q.useEffect(()=>{const me=Se=>{v.current&&!v.current.contains(Se.target)&&m()};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[m]),Q.useEffect(()=>{R(""),C(null),he(!1),le(!1)},[u]),!u)return null;const xe=q?Ae.find(me=>me.colorKey===q):null;return c.jsx("div",{ref:v,className:"fixed z-1000",style:{left:u.x,top:u.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:G?c.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[c.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:xe?.color??"#64748b"},children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:c.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):c.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:$?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[c.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ae.map((me,Se)=>c.jsx("button",{type:"button",onClick:()=>ve(me),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===me.colorKey?`${me.color}25`:"transparent"},children:c.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:me.color,boxShadow:q===me.colorKey?`0 0 0 2px ${me.color}80`:"none",transform:q===me.colorKey?"scale(1.15)":"scale(1)"}})},me.colorKey)),c.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),c.jsx("button",{type:"button",onClick:()=>he(!$),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${$?"bg-slate-100":"hover:bg-slate-100"}`,children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[c.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.5 6H10.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),c.jsx("path",{d:"M5.5 8.5H8.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),c.jsx("path",{d:"M10 13.5V10H13.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:c.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),$&&c.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!xe&&c.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),xe&&c.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[c.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:xe.color}}),c.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ue(xe.colorKey)})]}),c.jsx("textarea",{ref:N,value:M,onChange:me=>R(me.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),c.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:c.jsx("button",{type:"button",onClick:ee,disabled:!xe,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Mv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Cp=5;function zv({lens:u,documentId:o,onClose:m}){const d=Rr(),g=u?.colors??[],S=!u||u.is_system,[v,N]=Q.useState(null),[q,C]=Q.useState(""),M=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",o]})},R=Cn({mutationFn:ue=>oa.addColor(u.id,ue),onSuccess:()=>{M(),N(null),C("")}}),$=Cn({mutationFn:ue=>oa.removeColor(u.id,ue),onSuccess:M}),he=Cn({mutationFn:({colorId:ue,data:ve})=>oa.updateColor(u.id,ue,ve),onSuccess:M}),G=new Set(g.map(ue=>ue.hex.toLowerCase())),le=Mv.filter(ue=>!G.has(ue.toLowerCase())),F=()=>{!v||!q.trim()||R.mutate({key:`custom_${Date.now()}`,display_name:q.trim(),hex:v})},Ae=c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:c.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${zi.surface} rounded-xl shadow-xl border ${Il.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ue=>ue.stopPropagation(),onMouseDown:ue=>ue.stopPropagation(),children:[c.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[c.jsx("h3",{className:`text-base font-semibold ${nt.heading}`,children:"Edit lens"}),u&&c.jsx("p",{className:`text-xs ${nt.muted} mt-0.5`,children:u.name})]}),c.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:S?c.jsx("p",{className:`text-sm ${nt.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("p",{className:`text-xs ${nt.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Cp,")"]}),c.jsx("div",{className:"space-y-2",children:g.map(ue=>c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ue.hex}}),c.jsx("input",{type:"text",defaultValue:ue.display_name,placeholder:"Label",onBlur:ve=>{const ee=ve.target.value.trim();ee&&ee!==ue.display_name&&he.mutate({colorId:ue.id,data:{display_name:ee}})},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${nt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&c.jsx("button",{type:"button",onClick:()=>$.mutate(ue.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:$.isPending,children:c.jsx(ki,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ue.id))}),c.jsx("p",{className:`text-xs ${nt.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Cp&&le.length>0&&c.jsx("div",{className:"pt-3 border-t border-slate-100",children:v?c.jsxs("div",{className:"space-y-2.5",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:v}}),c.jsx("input",{type:"text",value:q,onChange:ue=>C(ue.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ue=>{ue.key==="Enter"&&F()},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${nt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{N(null),C("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:F,disabled:!q.trim()||R.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:R.isPending?"Adding":"Add"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-xs ${nt.muted} mb-2`,children:"Add a colour"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:le.map(ue=>c.jsx("button",{type:"button",onClick:()=>{N(ue),C("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ue}},ue))})]})})]})}),c.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:c.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?Ae:C0.createPortal(Ae,document.body)}function Rv({position:u,initialValue:o="",onSave:m,onClose:d}){const[g,S]=Q.useState(o),v=Q.useRef(null),N=Q.useRef(null);return Q.useEffect(()=>{S(o)},[o,u]),Q.useEffect(()=>{N.current?.focus()},[u]),Q.useEffect(()=>{const q=C=>{C.key==="Escape"&&d(),C.key==="Enter"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,d]),Q.useEffect(()=>{const q=C=>{v.current&&!v.current.contains(C.target)&&d()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[d]),u?c.jsxs("div",{ref:v,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:u.x,top:u.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[c.jsx("textarea",{ref:N,value:g,onChange:q=>S(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function kv(){const{id:u}=Uf(),o=Bi(),m=Rr(),[d,g]=Q.useState(null),[S,v]=Q.useState(!1),[N,q]=Q.useState(!0),[C,M]=Q.useState(1.3),[R,$]=Q.useState(!0),[he,G]=Q.useState(null),[le,F]=Q.useState(null),[Ae,ue]=Q.useState(null),[ve,ee]=Q.useState(null),[xe,me]=Q.useState(null),[Se,Pe]=Q.useState(0),[Ke,ot]=Q.useState(1),[bt,Le]=Q.useState(!1),[at,we]=Q.useState(null),[Qe,Y]=Q.useState(null),[pe,ye]=Q.useState(null),{data:Ne,isLoading:ke,isError:X}=Zn({queryKey:["document",u],queryFn:async()=>{const{data:ge}=await hn.get(u);return ge},enabled:!!u});Q.useEffect(()=>{if(!Ne||!u)return;let ge=!1;return(async()=>{q(!0);try{const kt=await bv(Ne);ge||(kt?g(kt.data):v(!0))}finally{ge||q(!1)}})(),()=>{ge=!0}},[Ne,u]);const{data:se=[]}=Zn({queryKey:["highlights",u],queryFn:async()=>{const{data:ge}=await hn.highlights(u);return ge},enabled:!!u}),{data:je=[]}=Zn({queryKey:["lenses"],queryFn:async()=>{const{data:ge}=await oa.list();return ge}}),Me=Q.useMemo(()=>je.length?Ne?.highlight_preset!=null?je.find(ge=>ge.id===Ne.highlight_preset)??null:je.find(ge=>ge.is_system)??je[0]??null:null,[je,Ne?.highlight_preset]),Fe=Q.useMemo(()=>Me?.colors??Ne?.highlight_preset_detail?.colors??[],[Me?.colors,Ne?.highlight_preset_detail?.colors]),Ie=Q.useMemo(()=>{if(Fe?.length)return Fe.map(rt=>rt.key);const ge=Object.keys(Ne?.color_labels||{});return ge.length>0?ge:[...Zf]},[Fe,Ne?.color_labels]),ae=Cn({mutationFn:({documentId:ge,payload:rt})=>hn.update(ge,rt),onSuccess:(ge,{documentId:rt})=>{m.invalidateQueries({queryKey:["document",rt]})}}),be=Q.useCallback(async ge=>{if(u)try{await hn.createHighlight(u,ge),m.invalidateQueries({queryKey:["highlights",u]}),ue(null),ee(null),me(null)}catch(rt){console.error("Failed to save highlight",rt)}},[u,m]),qe=Q.useCallback(ge=>{ue({page_number:ge.pageNumber,position_data:ge.position_data,highlighted_text:ge.highlighted_text}),ee(ge.pickerPosition),me({pageNumber:ge.pageNumber,spanStart:ge.spanStart,spanEnd:ge.spanEnd})},[]),oe=Q.useCallback((ge,rt)=>{Ae&&be({...Ae,color:ge,comment:rt})},[Ae,be]),Ve=Q.useCallback(()=>{ue(null),ee(null),me(null)},[]),Ue=Q.useCallback(ge=>{ot(ge),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${ge}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),mt=Q.useCallback(ge=>{F(rt=>rt!=null&&String(rt)===String(ge)?null:ge)},[]),Wt=Q.useCallback(ge=>Pe(ge??0),[]),qt=Q.useCallback(()=>{if(Ke<=1)return;const ge=Ke-1;ot(ge),Ue(ge)},[Ke,Ue]),ka=Q.useCallback(()=>{if(Ke>=Se)return;const ge=Ke+1;ot(ge),Ue(ge)},[Ke,Se,Ue]),yl=async ge=>{const rt=ge.target.files?.[0];if(!rt||!Ne||!u)return;const kt=await rt.arrayBuffer(),It=await kf(kt);if(It!==Ne.pdf_hash){alert("This file does not match the original document.");return}try{const Bn=new FormData;Bn.append("file",new Blob([kt],{type:"application/pdf"}),rt.name||Ne.filename||"document.pdf"),await hn.uploadPdf(u,Bn)}catch(Bn){const qn=Bn.response?.data?.detail??Bn.message??"Upload failed";alert(typeof qn=="string"?qn:JSON.stringify(qn));return}await Ff(It,Ne.filename||rt.name,rt.size,kt),g(kt),v(!1)};return u?ke||N?c.jsx("div",{className:`${Ls} flex items-center justify-center min-h-[50vh]`,children:c.jsx(Ra,{className:`w-8 h-8 ${nt.muted} animate-spin`})}):X||!Ne&&!ke?c.jsxs("div",{className:`${Ls} flex flex-col items-center justify-center min-h-[50vh]`,children:[c.jsx("h2",{className:`text-lg font-semibold ${nt.heading} mb-2`,children:"Document not found"}),c.jsx("p",{className:`text-sm ${nt.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),c.jsx("button",{type:"button",onClick:()=>o(Ne?.project?`/project/${Ne.project}`:"/"),className:go,children:"Back to project"})]}):S?c.jsxs("div",{className:`${Ls} flex flex-col items-center justify-center`,children:[c.jsx(vo,{className:`w-12 h-12 ${nt.muted} mb-4`}),c.jsx("h2",{className:`text-lg font-semibold ${nt.heading} mb-2`,children:"PDF needed on this device"}),c.jsxs("p",{className:`text-sm ${nt.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",c.jsx("strong",{children:Ne?.filename}),"."]}),c.jsxs("label",{className:`${go} inline-flex items-center gap-2`,children:[c.jsx(vo,{className:"w-4 h-4"})," Upload PDF",c.jsx("input",{type:"file",accept:".pdf",onChange:yl,className:"hidden"})]}),c.jsx("button",{type:"button",onClick:()=>o(Ne?.project?`/project/${Ne.project}`:"/"),className:`mt-4 text-sm ${nt.muted} hover:underline`,children:"Back to project"})]}):c.jsxs("div",{className:`h-screen flex flex-col ${zi.page} overflow-hidden`,children:[c.jsxs("header",{className:`${Sb} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>o(Ne?.project?`/project/${Ne.project}`:"/"),className:oo,title:"Back to project",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("p",{className:`text-sm font-medium ${nt.heading} truncate max-w-xs`,children:Ne?.filename})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[je.length>0&&c.jsx("select",{value:Ne?.highlight_preset!=null?String(Ne.highlight_preset):je.find(ge=>ge.is_system)?.id??"",onChange:ge=>{const rt=ge.target.value,kt=rt===""?null:Number(rt);u&&(se.length>0?ye(kt):ae.mutate({documentId:u,payload:{highlight_preset:kt}}))},className:`text-xs rounded-lg border ${Il.default} ${zi.surface} py-1.5 pl-2 pr-7 ${nt.body} cursor-pointer max-w-44`,title:"Highlight lens",children:je.map(ge=>c.jsx("option",{value:ge.id,children:ge.name},ge.id))}),c.jsx("button",{type:"button",onClick:()=>Le(!0),className:oo,title:"Edit lens",children:c.jsx(nv,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o(`/document/${u}/summary`),className:oo,title:"Summary",children:c.jsx(Qb,{className:"w-4 h-4"})}),c.jsx("div",{className:bp}),c.jsxs("div",{className:`flex items-center gap-1 ${zi.muted} rounded-lg px-1 py-0.5`,children:[c.jsx("button",{type:"button",onClick:()=>M(ge=>Math.max(.5,ge-.1)),className:`p-1.5 ${nt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:c.jsx(ov,{className:"w-3.5 h-3.5"})}),c.jsxs("span",{className:`text-xs ${nt.secondary} w-12 text-center`,children:[Math.round(C*100),"%"]}),c.jsx("button",{type:"button",onClick:()=>M(ge=>Math.min(3,ge+.1)),className:`p-1.5 ${nt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:c.jsx(sv,{className:"w-3.5 h-3.5"})})]}),c.jsx("div",{className:bp}),c.jsx("button",{type:"button",onClick:()=>$(ge=>!ge),className:oo,title:R?"Close annotations":"Open annotations",children:R?c.jsx(Jb,{className:"w-4 h-4"}):c.jsx(Pb,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&c.jsx(Cv,{pdfData:d,scale:C,highlights:se,hoveredHighlightId:he,activeHighlightId:le,selectionForPicker:xe,lensColors:Fe,onSelectionComplete:qe,onNumPages:Wt,onHighlightHover:G,onHighlightHoverEnd:()=>G(null),onHighlightEdit:(ge,rt)=>{const kt=rt?.target?.getBoundingClientRect?.();kt?Y({highlightId:ge,x:kt.left+kt.width/2,y:kt.bottom}):(we(ge),$(!0))},onHighlightDelete:async ge=>{u&&(await hn.deleteHighlight(u,ge),m.invalidateQueries({queryKey:["highlights",u]}),String(le)===String(ge)&&F(null),String(he)===String(ge)&&G(null))}}),ve&&c.jsx(Dv,{position:ve,onSelect:oe,onClose:Ve,colorLabels:Ne?.color_labels,documentColorKeys:Ie,lensColors:Fe}),Qe&&c.jsx(Rv,{position:{x:Qe.x,y:Qe.y},initialValue:(se||[]).find(ge=>String(ge.id)===String(Qe.highlightId))?.note?.content??"",onSave:async ge=>{u&&(await hn.updateHighlight(u,Qe.highlightId,{note:ge}),m.invalidateQueries({queryKey:["highlights",u]}),Y(null))},onClose:()=>Y(null)}),bt&&c.jsx(zv,{lens:Me,documentId:u,onClose:()=>Le(!1)}),pe!==null&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>ye(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ge=>ge.stopPropagation(),children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",c.jsx("strong",{children:se.length})," highlight",se.length!==1?"s":"",". Switching lenses will ",c.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>ye(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:async()=>{const ge=pe;ye(null);for(const rt of se)await hn.deleteHighlight(u,rt.id);m.invalidateQueries({queryKey:["highlights",u]}),F(null),G(null),ae.mutate({documentId:u,payload:{highlight_preset:ge}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),R&&c.jsx(Ov,{highlights:se,colorLabels:Ne?.color_labels,lensColors:Fe,documentColorKeys:Ie,activeHighlightId:le,onScrollToPage:Ue,onHighlightClick:mt,onHighlightHover:G,onHighlightHoverEnd:()=>G(null),onClearActive:()=>F(null),documentId:u,openEditForHighlightId:at,onClearOpenEditForHighlightId:()=>we(null),onHighlightNoteUpdate:async(ge,rt)=>{u&&(await hn.updateHighlight(u,ge,{note:rt}),m.invalidateQueries({queryKey:["highlights",u]}))},onHighlightDelete:async ge=>{u&&(await hn.deleteHighlight(u,ge),m.invalidateQueries({queryKey:["highlights",u]}),String(le)===String(ge)&&F(null),String(he)===String(ge)&&G(null))}})]}),Se>0&&c.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${R?"right-80":"right-0"}`,children:[c.jsx("button",{type:"button",onClick:qt,disabled:Ke<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),c.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ke," of ",Se]}),c.jsx("button",{type:"button",onClick:ka,disabled:Ke>=Se,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(o("/",{replace:!0}),null)}const Bv="modulepreload",qv=function(u){return"/static/frontend/"+u},Ap={},qf=function(o,m,d){let g=Promise.resolve();if(m&&m.length>0){let q=function(C){return Promise.all(C.map(M=>Promise.resolve(M).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),N=v?.nonce||v?.getAttribute("nonce");g=q(m.map(C=>{if(C=qv(C),C in Ap)return;Ap[C]=!0;const M=C.endsWith(".css"),R=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${R}`))return;const $=document.createElement("link");if($.rel=M?"stylesheet":Bv,M||($.as="script"),$.crossOrigin="",$.href=C,N&&$.setAttribute("nonce",N),document.head.appendChild($),M)return new Promise((he,G)=>{$.addEventListener("load",he),$.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${C}`)))})}))}function S(v){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=v,window.dispatchEvent(N),!N.defaultPrevented)throw v}return g.then(v=>{for(const N of v||[])N.status==="rejected"&&S(N.reason);return o().catch(S)})};function Uv(u){return Q.useMemo(()=>{const o={};return u?.length&&u.forEach(m=>{o[m.key]={hex:m.hex,displayName:m.display_name}}),o},[u])}function Tr(u,o){if(o[u])return o[u].hex;const m=ml[u];return m?.hex??m?.solid??"#94a3b8"}function Hv(u){const o=parseInt((u||"#94a3b8").replace("#",""),16);return[o>>16&255,o>>8&255,o&255]}function Lv(u,o,m,d,g){return[...u].sort((v,N)=>v.page_number!==N.page_number?v.page_number-N.page_number:new Date(v.created_at)-new Date(N.created_at)).map((v,N)=>({seq:N+1,text:v.highlighted_text||"",note:v.note?.content||"",page:v.page_number,category:ei(v.color,o,m),colorKey:v.color,hex:Tr(v.color,d)}))}function Kv(u,o,m,d,g){const S={};return u.forEach(v=>{(S[v.colorKey]??=[]).push(v)}),o.map(v=>({topic:ei(v,m,d),hex:Tr(v,g),items:S[v]||[]})).filter(v=>v.items.length>0)}async function Yv(u,o,m){const[{Document:d,Packer:g,Paragraph:S,TextRun:v,HeadingLevel:N,BorderStyle:q},{saveAs:C}]=await Promise.all([qf(()=>import("./index-CMhXIFeh.js"),[]),qf(()=>import("./FileSaver.min-rgW_m_5v.js").then(he=>he.F),__vite__mapDeps([0,1]))]),M=[];M.push(new S({text:u,heading:N.HEADING_1,spacing:{after:200}})),M.push(new S({text:`${o.length} annotations`,spacing:{after:300},style:"Subtitle"})),m.forEach(({topic:he,hex:G,items:le})=>{M.push(new S({spacing:{before:300,after:100},border:{bottom:{style:q.SINGLE,size:1,color:G.replace("#","")}},children:[new v({text:`${he} (${le.length})`,bold:!0,size:24,color:G.replace("#","")})]})),le.forEach(F=>{M.push(new S({spacing:{before:120,after:40},children:[new v({text:`"${F.text}"`,italics:!0,size:21}),new v({text:`   p.${F.page}`,size:18,color:"94A3B8"})]})),F.note&&M.push(new S({spacing:{after:60},children:[new v({text:F.note,size:18,italics:!0,color:G.replace("#","")})]}))})});const R=new d({sections:[{children:M}]}),$=await g.toBlob(R);C($,`${u.replace(/\.pdf$/i,"")}  Summary.docx`)}async function Qv(u,o,m){const{jsPDF:d}=await qf(async()=>{const{jsPDF:M}=await import("./jspdf.es.min-D1gwPhC5.js").then(R=>R.j);return{jsPDF:M}},[]),g=new d({unit:"mm",format:"a4"}),S=g.internal.pageSize.getWidth(),v=18,N=S-v*2;let q=v;const C=M=>{q+M>g.internal.pageSize.getHeight()-v&&(g.addPage(),q=v)};g.setFont("helvetica","bold"),g.setFontSize(16),g.text(u,v,q),q+=8,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100),g.text(`${o.length} annotations`,v,q),q+=12,m.forEach(({topic:M,hex:R,items:$})=>{C(18);const[he,G,le]=Hv(R);g.setDrawColor(he,G,le),g.setLineWidth(.5),g.line(v,q,v+N,q),q+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.setTextColor(he,G,le),g.text(`${M} (${$.length})`,v,q),q+=7,$.forEach(F=>{C(14),g.setFont("helvetica","italic"),g.setFontSize(9.5),g.setTextColor(30),g.splitTextToSize(`"${F.text}"`,N-10).forEach(ue=>{C(5),g.text(ue,v+2,q),q+=4.2}),g.setFont("helvetica","normal"),g.setFontSize(8),g.setTextColor(148,163,184),g.text(`p.${F.page}  #${F.seq}`,v+2,q),q+=4,F.note&&(C(5),g.setFont("helvetica","italic"),g.setFontSize(8.5),g.setTextColor(he,G,le),g.splitTextToSize(F.note,N-10).forEach(ve=>{C(4.5),g.text(ve,v+2,q),q+=4})),q+=3}),q+=4}),g.save(`${u.replace(/\.pdf$/i,"")}  Summary.pdf`)}function Xv(u,o){const m=new Blob([JSON.stringify({document:u,exported_at:new Date().toISOString(),annotations:o},null,2)],{type:"application/json"}),d=URL.createObjectURL(m);Object.assign(document.createElement("a"),{href:d,download:`${u.replace(/\.pdf$/i,"")}  Summary.json`}).click(),URL.revokeObjectURL(d)}function Gv(){const{id:u}=Uf(),o=Bi(),m=Rr(),[d,g]=Q.useState("sequence"),[S,v]=Q.useState(""),[N,q]=Q.useState([]),[C,M]=Q.useState(null),[R,$]=Q.useState(new Set),[he,G]=Q.useState(new Set),[le,F]=Q.useState(null),[Ae,ue]=Q.useState(""),[ve,ee]=Q.useState(!1),xe=Q.useRef(null);Q.useEffect(()=>{if(!ve)return;const ae=be=>{xe.current&&!xe.current.contains(be.target)&&ee(!1)};return window.addEventListener("mousedown",ae),()=>window.removeEventListener("mousedown",ae)},[ve]);const{data:me,isLoading:Se,isError:Pe}=Zn({queryKey:["document",u],queryFn:async()=>(await hn.get(u)).data,enabled:!!u}),{data:Ke=[]}=Zn({queryKey:["highlights",u],queryFn:async()=>(await hn.highlights(u)).data,enabled:!!u}),{data:ot=[]}=Zn({queryKey:["lenses"],queryFn:async()=>(await oa.list()).data}),bt=Q.useMemo(()=>ot.length?me?.highlight_preset!=null?ot.find(ae=>ae.id===me.highlight_preset)??null:ot.find(ae=>ae.is_system)??ot[0]??null:null,[ot,me?.highlight_preset]),Le=Q.useMemo(()=>bt?.colors??me?.highlight_preset_detail?.colors??[],[bt?.colors,me?.highlight_preset_detail?.colors]),at=me?.color_labels||{},we=Uv(Le),Qe=Q.useMemo(()=>Le?.length?Le.map(ae=>ae.key):Zf,[Le]),Y=Cn({mutationFn:({highlightId:ae,note:be})=>hn.updateHighlight(u,ae,{note:be}),onSuccess:()=>{m.invalidateQueries({queryKey:["highlights",u]}),F(null),ue("")}}),pe=Q.useCallback(ae=>{q(be=>be.includes(ae)?be.filter(qe=>qe!==ae):[...be,ae])},[]),ye=Q.useCallback(ae=>{$(be=>{const qe=new Set(be);return qe.has(ae)?qe.delete(ae):qe.add(ae),qe})},[]),Ne=Q.useCallback(ae=>{G(be=>{const qe=new Set(be);return qe.has(ae)?qe.delete(ae):qe.add(ae),qe})},[]),ke=Q.useCallback(async ae=>{ee(!1);const be=Lv(Ke,at,Le,we),qe=Kv(be,Qe,at,Le,we),oe=me?.filename||"Document";ae==="docx"?await Yv(oe,be,qe):ae==="pdf"?await Qv(oe,be,qe):Xv(oe,be)},[Ke,at,Le,we,Qe,me?.filename]),X=Q.useMemo(()=>{const ae={};return Ke.forEach(be=>{ae[be.color]=(ae[be.color]||0)+1}),ae},[Ke]),se=Q.useMemo(()=>Ke.filter(ae=>{if(N.length>0&&!N.includes(ae.color))return!1;if(S.trim()){const be=S.toLowerCase();return ae.highlighted_text?.toLowerCase().includes(be)||ae.note?.content?.toLowerCase().includes(be)}return!0}),[Ke,N,S]),je=Q.useMemo(()=>[...se].sort((ae,be)=>ae.page_number!==be.page_number?ae.page_number-be.page_number:new Date(ae.created_at)-new Date(be.created_at)),[se]),Me=Q.useMemo(()=>{if(d!=="topic")return[];const ae={};return se.forEach(be=>{ae[be.color]||(ae[be.color]=[]),ae[be.color].push(be)}),Qe.map(be=>({colorKey:be,topic:ei(be,at,Le),hex:Tr(be,we),items:(ae[be]||[]).sort((qe,oe)=>qe.page_number!==oe.page_number?qe.page_number-oe.page_number:new Date(qe.created_at)-new Date(oe.created_at))})).filter(be=>be.items.length>0)},[d,se,Qe,at,Le,we]),Fe=Q.useMemo(()=>{if(d!=="page")return[];const ae={};return se.forEach(be=>{const qe=be.page_number;ae[qe]||(ae[qe]=[]),ae[qe].push(be)}),Object.entries(ae).map(([be,qe])=>({page:Number(be),items:qe.sort((oe,Ve)=>new Date(oe.created_at)-new Date(Ve.created_at))})).sort((be,qe)=>be.page-qe.page)},[d,se]);if(!u)return o("/",{replace:!0}),null;if(Se)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx(Ra,{className:"w-8 h-8 text-slate-400 animate-spin"})});if(Pe||!me)return c.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Document not found"}),c.jsx("button",{type:"button",onClick:()=>o("/"),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700",children:"Back"})]});const Ie=new Map;return[...Ke].sort((ae,be)=>ae.page_number!==be.page_number?ae.page_number-be.page_number:new Date(ae.created_at)-new Date(be.created_at)).forEach((ae,be)=>Ie.set(ae.id,be+1)),c.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[c.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",style:{padding:"16px 32px"},children:c.jsxs("div",{className:"max-w-[1060px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"text-slate-500 hover:text-slate-700 text-sm flex items-center gap-1",children:[c.jsx(Eo,{className:"w-4 h-4"}),"Back"]}),c.jsx("div",{className:"w-px h-5 bg-slate-200"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-[16px] font-semibold text-slate-900 tracking-tight",children:"Summary"}),c.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[300px]",children:me.filename})]})]}),c.jsxs("div",{className:"relative",ref:xe,children:[c.jsxs("button",{type:"button",onClick:()=>ee(ae=>!ae),disabled:!Ke.length,className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-md bg-slate-800 text-white text-[13px] font-medium hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Hb,{className:"w-3.5 h-3.5"}),"Export"]}),ve&&c.jsx("div",{className:"absolute right-0 top-full mt-1.5 bg-white border border-slate-200 rounded-lg shadow-lg py-1.5 z-50 min-w-[200px]",children:[{key:"docx",icon:Xf,label:"Word (.docx)",desc:"Formatted summary"},{key:"pdf",icon:Kb,label:"PDF (.pdf)",desc:"Print-ready export"},{key:"json",icon:Db,label:"JSON (.json)",desc:"Structured data"}].map(ae=>c.jsxs("button",{type:"button",onClick:()=>ke(ae.key),className:"flex items-center gap-2.5 w-full px-3 py-2 text-left hover:bg-slate-50 transition-colors",children:[c.jsx(ae.icon,{className:"w-4 h-4 text-slate-400 shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[13px] font-medium text-slate-800",children:ae.label}),c.jsx("div",{className:"text-[11px] text-slate-400",children:ae.desc})]})]},ae.key))})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-3 mb-3.5",children:[c.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[Ke.length," annotation",Ke.length!==1?"s":""]}),c.jsx("span",{className:"text-slate-300 mx-0.5",children:""}),Qe.map(ae=>{const be=X[ae]||0;if(!be)return null;const qe=Tr(ae,we);return c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{backgroundColor:qe}}),c.jsx("span",{className:"text-[11px] text-slate-500",children:be})]},ae)})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx("div",{className:"flex bg-slate-100 rounded-md p-0.5",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(ae=>c.jsx("button",{type:"button",onClick:()=>g(ae.key),className:`px-3 py-1.5 rounded text-[12.5px] font-medium transition-all ${d===ae.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:ae.label},ae.key))}),c.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 flex-1 max-w-[280px]",children:[c.jsx(ty,{className:"w-3.5 h-3.5 text-slate-400"}),c.jsx("input",{type:"text",value:S,onChange:ae=>v(ae.target.value),placeholder:"Search annotations...",className:"border-0 bg-transparent outline-none text-[12.5px] text-slate-900 w-full placeholder:text-slate-400"}),S&&c.jsx("button",{type:"button",onClick:()=>v(""),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]}),R.size>0&&c.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 rounded-md border border-blue-200",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[R.size," selected"]}),c.jsx("button",{type:"button",onClick:()=>{const be=Ke.filter(qe=>R.has(qe.id)).map(qe=>`"${qe.highlighted_text}"  p.${qe.page_number}`).join(`

`);navigator.clipboard?.writeText(be)},className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-100",children:"Copy selected"}),c.jsx("button",{type:"button",onClick:()=>$(new Set),className:"text-blue-400 hover:text-blue-600",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]})]}),c.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:Qe.map(ae=>{const be=X[ae]||0;if(!be)return null;const qe=Tr(ae,we),oe=ei(ae,at,Le),Ve=N.length===0||N.includes(ae);return c.jsxs("button",{type:"button",onClick:()=>pe(ae),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all",style:{borderColor:Ve?qe:"#E2E8F0",background:Ve?zr(qe,.08):"#fff",opacity:Ve?1:.5},children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:qe}}),c.jsx("span",{className:"text-xs font-medium",style:{color:Ve?qe:"#94A3B8"},children:oe}),c.jsx("span",{className:"text-[11px] font-semibold px-1.5 rounded",style:{color:Ve?qe:"#CBD5E1",background:Ve?zr(qe,.1):"#F8FAFC"},children:be})]},ae)})})]})}),c.jsx("div",{className:"max-w-[1060px] mx-auto",style:{padding:"24px 32px 60px 64px"},children:Ke.length?se.length===0?c.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:"No annotations match your search."}):d==="sequence"?c.jsx("div",{className:"flex flex-col gap-2",children:je.map(ae=>c.jsx(Af,{h:ae,seq:Ie.get(ae.id),showCategory:!0,lensColorMap:we,colorLabels:at,lensColors:Le,hovered:C===ae.id,selected:R.has(ae.id),onHover:M,onLeave:()=>M(null),onSelect:ye,editingNoteId:le,editingNoteValue:Ae,onEditNote:be=>{F(be),ue(ae.note?.content??"")},onChangeNote:ue,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{F(null),ue("")},savingNote:Y.isPending},ae.id))}):d==="topic"?c.jsx("div",{className:"flex flex-col gap-5",children:Me.map(({colorKey:ae,topic:be,hex:qe,items:oe})=>{const Ve=he.has(ae);return c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>Ne(ae),className:"flex items-center gap-2 w-full pb-2.5 sticky top-[160px] z-10",children:[c.jsx(Ks,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ve?"rotate(0deg)":"rotate(90deg)"}}),c.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:qe}}),c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:be}),c.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:oe.length})]}),!Ve&&c.jsx("div",{className:"flex flex-col gap-2",children:oe.map(Ue=>c.jsx(Af,{h:Ue,seq:Ie.get(Ue.id),showCategory:!1,lensColorMap:we,colorLabels:at,lensColors:Le,hovered:C===Ue.id,selected:R.has(Ue.id),onHover:M,onLeave:()=>M(null),onSelect:ye,editingNoteId:le,editingNoteValue:Ae,onEditNote:mt=>{F(mt),ue(Ue.note?.content??"")},onChangeNote:ue,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{F(null),ue("")},savingNote:Y.isPending},Ue.id))})]},ae)})}):c.jsx("div",{className:"flex flex-col gap-5",children:Fe.map(({page:ae,items:be})=>{const qe=`p${ae}`,oe=he.has(qe);return c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>Ne(qe),className:"flex items-center gap-2 pb-2.5 sticky top-[160px] z-10",children:[c.jsx(Ks,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:oe?"rotate(0deg)":"rotate(90deg)"}}),c.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Page ",ae]}),c.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:be.length})]}),!oe&&c.jsx("div",{className:"flex flex-col gap-2",children:be.map(Ve=>c.jsx(Af,{h:Ve,seq:Ie.get(Ve.id),showCategory:!0,lensColorMap:we,colorLabels:at,lensColors:Le,hovered:C===Ve.id,selected:R.has(Ve.id),onHover:M,onLeave:()=>M(null),onSelect:ye,editingNoteId:le,editingNoteValue:Ae,onEditNote:Ue=>{F(Ue),ue(Ve.note?.content??"")},onChangeNote:ue,onSaveNote:()=>Y.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{F(null),ue("")},savingNote:Y.isPending},Ve.id))})]},qe)})}):c.jsxs("div",{className:"text-center py-16 text-slate-400 text-sm",children:[c.jsx("p",{children:"No highlights yet."}),c.jsx("p",{className:"mt-1",children:"Select text in the document to create highlights, then return here."}),c.jsx("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 mt-4",children:"Open document"})]})})]})}function Af({h:u,seq:o,showCategory:m,lensColorMap:d,colorLabels:g,lensColors:S,hovered:v,selected:N,onHover:q,onLeave:C,onSelect:M,editingNoteId:R,editingNoteValue:$,onEditNote:he,onChangeNote:G,onSaveNote:le,onCancelNote:F,savingNote:Ae}){const[ue,ve]=Q.useState(!1),ee=Tr(u.color,d),xe=ei(u.color,g,S),me=R===u.id,Se=Pe=>{Pe.stopPropagation(),navigator.clipboard?.writeText(`"${u.highlighted_text}"  p.${u.page_number}`),ve(!0),setTimeout(()=>ve(!1),1500)};return c.jsxs("div",{className:"relative rounded-lg bg-white transition-all",style:{border:`1px solid ${v?zr(ee,.3):"#E8ECF0"}`,borderLeft:`3px solid ${ee}`,padding:"14px 16px 12px 16px",boxShadow:v?"0 2px 8px rgba(0,0,0,0.06)":"none"},onMouseEnter:()=>q?.(u.id),onMouseLeave:()=>C?.(),children:[c.jsx("div",{className:"absolute transition-opacity",style:{top:14,left:-32,opacity:v||N?1:0},children:c.jsx("div",{onClick:Pe=>{Pe.stopPropagation(),M?.(u.id)},className:"w-[18px] h-[18px] rounded flex items-center justify-center cursor-pointer transition-all",style:{border:N?`2px solid ${ee}`:"2px solid #CBD5E1",background:N?ee:"#fff"},children:N&&c.jsx(bo,{className:"w-3 h-3 text-white",strokeWidth:3})})}),c.jsxs("p",{className:"text-[13.5px] leading-[1.55] text-slate-900",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",u.highlighted_text||"(No text captured)",""]}),me?c.jsxs("div",{className:"mt-2 space-y-1.5",children:[c.jsx("textarea",{value:$,onChange:Pe=>G(Pe.target.value),rows:2,autoFocus:!0,className:"w-full text-[12.5px] border border-slate-200 rounded-lg px-2.5 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 text-slate-800",placeholder:"Add a note..."}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{type:"button",onClick:le,disabled:Ae,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Ae?"Saving":"Save"}),c.jsx("button",{type:"button",onClick:F,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):u.note?.content?c.jsx("p",{className:"mt-2 text-[12.5px] leading-normal italic",style:{color:ee},children:u.note.content}):v&&c.jsx("button",{type:"button",onClick:()=>he(u.id),className:"mt-2 text-xs text-slate-400 hover:text-slate-600 cursor-pointer",children:"+ Add a note..."}),c.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100",children:[m&&c.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:ee,background:zr(ee,.08)},children:xe}),c.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",u.page_number]}),o!=null&&c.jsxs("span",{className:"text-[10px] text-slate-300",children:["#",o]}),c.jsxs("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:v?1:0},children:[c.jsxs("button",{type:"button",onClick:Se,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:ue?"#16A34A":"#64748B"},children:[ue?c.jsx(bo,{className:"w-3 h-3"}):c.jsx(qb,{className:"w-3 h-3"}),ue?"Copied":"Copy"]}),c.jsxs("button",{type:"button",onClick:()=>he(u.id),className:"flex items-center gap-1 text-[11px] text-slate-500 border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",children:[c.jsx(Co,{className:"w-3 h-3"}),"Edit"]})]})]})]})}function Vv({onClose:u,onConfirm:o,isDeleting:m}){return c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:c.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[c.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),c.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:u,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),c.jsx("button",{type:"button",onClick:o,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?c.jsxs(c.Fragment,{children:[c.jsx(Ra,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Fv(){const u=Bi(),o=pl(M=>M.logout),[m,d]=Q.useState(!1),[g,S]=Q.useState(!1),[v,N]=Q.useState(""),q=()=>{o(),u("/login",{replace:!0})},C=async()=>{N(""),S(!0);try{await Mr.deleteAccount(),o(),u("/",{replace:!0})}catch(M){N(M.response?.data?.detail||M.message||"Something went wrong."),S(!1)}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>u("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[c.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),c.jsx("div",{className:"mt-8",children:c.jsx(ny,{})}),c.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[c.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),c.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),v&&c.jsx("p",{className:"mt-4 text-sm text-red-600",children:v})]}),m&&c.jsx(Vv,{onClose:()=>!g&&d(!1),onConfirm:C,isDeleting:g})]})}const Zv=new S0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function Us({children:u}){return pl(m=>m.token)?u:c.jsx(po,{to:"/login",replace:!0})}function Op({children:u}){return pl(m=>m.token)?c.jsx(po,{to:"/app",replace:!0}):u}function Jv(){return c.jsx(w0,{client:Zv,children:c.jsx(A0,{children:c.jsxs(O0,{children:[c.jsx(dl,{path:"/login",element:c.jsx(Op,{children:c.jsx(wb,{})})}),c.jsx(dl,{path:"/register",element:c.jsx(Op,{children:c.jsx(jb,{})})}),c.jsx(dl,{path:"/",element:c.jsx(po,{to:"/app",replace:!0})}),c.jsx(dl,{path:"/app",element:c.jsx(Us,{children:c.jsx(hv,{})})}),c.jsx(dl,{path:"/app/settings",element:c.jsx(Us,{children:c.jsx(Fv,{})})}),c.jsx(dl,{path:"/project/:projectId",element:c.jsx(Us,{children:c.jsx(Sv,{})})}),c.jsx(dl,{path:"/document/:id",element:c.jsx(Us,{children:c.jsx(kv,{})})}),c.jsx(dl,{path:"/document/:id/summary",element:c.jsx(Us,{children:c.jsx(Gv,{})})}),c.jsx(dl,{path:"*",element:c.jsx(po,{to:"/app",replace:!0})})]})})})}q0.createRoot(document.getElementById("root")).render(c.jsx(Q.StrictMode,{children:c.jsx(Jv,{})}));export{qf as _};
