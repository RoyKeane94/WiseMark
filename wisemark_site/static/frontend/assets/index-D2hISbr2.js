const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as f,u as Rr,a as na,b as Nn,Q as S0,c as w0}from"./query-CQ1uvarX.js";import{a as j0,b as N0,R as ro,u as Ri,r as V,L as Op,c as _0,g as E0,d as Uf,e as C0,B as A0,f as O0,h as sl,N as mo}from"./react-OW7IPSYu.js";import{G as T0,g as D0,U as M0}from"./pdf-omjxc98r.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const x of S.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function m(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function d(g){if(g.ep)return;g.ep=!0;const S=m(g);fetch(g.href,S)}})();var xf={exports:{}},Bs={},Sf={exports:{}},wf={};var $m;function z0(){return $m||($m=1,(function(u){function o(K,ge){var Se=K.length;K.push(ge);e:for(;0<Se;){var J=Se-1>>>1,be=K[J];if(0<g(be,ge))K[J]=ge,K[Se]=be,Se=J;else break e}}function m(K){return K.length===0?null:K[0]}function d(K){if(K.length===0)return null;var ge=K[0],Se=K.pop();if(Se!==ge){K[0]=Se;e:for(var J=0,be=K.length,de=be>>>1;J<de;){var pe=2*(J+1)-1,Te=K[pe],Le=pe+1,Fe=K[Le];if(0>g(Te,Se))Le<be&&0>g(Fe,Te)?(K[J]=Fe,K[Le]=Se,J=Le):(K[J]=Te,K[pe]=Se,J=pe);else if(Le<be&&0>g(Fe,Se))K[J]=Fe,K[Le]=Se,J=Le;else break e}}return ge}function g(K,ge){var Se=K.sortIndex-ge.sortIndex;return Se!==0?Se:K.id-ge.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;u.unstable_now=function(){return S.now()}}else{var x=Date,N=x.now();u.unstable_now=function(){return x.now()-N}}var q=[],D=[],k=1,B=null,W=3,me=!1,Q=!1,le=!1,Z=!1,Ae=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,xe=typeof setImmediate<"u"?setImmediate:null;function ee(K){for(var ge=m(D);ge!==null;){if(ge.callback===null)d(D);else if(ge.startTime<=K)d(D),ge.sortIndex=ge.expirationTime,o(q,ge);else break;ge=m(D)}}function we(K){if(le=!1,ee(K),!Q)if(m(q)!==null)Q=!0,ye||(ye=!0,ke());else{var ge=m(D);ge!==null&&Xe(we,ge.startTime-K)}}var ye=!1,Ne=-1,Ze=5,Qe=-1;function it(){return Z?!0:!(u.unstable_now()-Qe<Ze)}function Tt(){if(Z=!1,ye){var K=u.unstable_now();Qe=K;var ge=!0;try{e:{Q=!1,le&&(le=!1,ue(Ne),Ne=-1),me=!0;var Se=W;try{t:{for(ee(K),B=m(q);B!==null&&!(B.expirationTime>K&&it());){var J=B.callback;if(typeof J=="function"){B.callback=null,W=B.priorityLevel;var be=J(B.expirationTime<=K);if(K=u.unstable_now(),typeof be=="function"){B.callback=be,ee(K),ge=!0;break t}B===m(q)&&d(q),ee(K)}else d(q);B=m(q)}if(B!==null)ge=!0;else{var de=m(D);de!==null&&Xe(we,de.startTime-K),ge=!1}}break e}finally{B=null,W=Se,me=!1}ge=void 0}}finally{ge?ke():ye=!1}}}var ke;if(typeof xe=="function")ke=function(){xe(Tt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Ce=nt.port2;nt.port1.onmessage=Tt,ke=function(){Ce.postMessage(null)}}else ke=function(){Ae(Tt,0)};function Xe(K,ge){Ne=Ae(function(){K(u.unstable_now())},ge)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(K){K.callback=null},u.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<K?Math.floor(1e3/K):5},u.unstable_getCurrentPriorityLevel=function(){return W},u.unstable_next=function(K){switch(W){case 1:case 2:case 3:var ge=3;break;default:ge=W}var Se=W;W=ge;try{return K()}finally{W=Se}},u.unstable_requestPaint=function(){Z=!0},u.unstable_runWithPriority=function(K,ge){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Se=W;W=K;try{return ge()}finally{W=Se}},u.unstable_scheduleCallback=function(K,ge,Se){var J=u.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?J+Se:J):Se=J,K){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Se+be,K={id:k++,callback:ge,priorityLevel:K,startTime:Se,expirationTime:be,sortIndex:-1},Se>J?(K.sortIndex=Se,o(D,K),m(q)===null&&K===m(D)&&(le?(ue(Ne),Ne=-1):le=!0,Xe(we,Se-J))):(K.sortIndex=be,o(q,K),Q||me||(Q=!0,ye||(ye=!0,ke()))),K},u.unstable_shouldYield=it,u.unstable_wrapCallback=function(K){var ge=W;return function(){var Se=W;W=ge;try{return K.apply(this,arguments)}finally{W=Se}}}})(wf)),wf}var Wm;function R0(){return Wm||(Wm=1,Sf.exports=z0()),Sf.exports}var Pm;function k0(){if(Pm)return Bs;Pm=1;var u=R0(),o=j0(),m=N0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(S(e)!==e)throw Error(d(188))}function D(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return q(i),e;if(r===a)return q(i),t;r=r.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,v=i.child;v;){if(v===n){p=!0,n=i,a=r;break}if(v===a){p=!0,a=i,n=r;break}v=v.sibling}if(!p){for(v=r.child;v;){if(v===n){p=!0,n=r,a=i;break}if(v===a){p=!0,a=r,n=i;break}v=v.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function k(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=k(e),t!==null)return t;e=e.sibling}return null}var B=Object.assign,W=Symbol.for("react.element"),me=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),xe=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Qe=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),Tt=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Tt&&e[Tt]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case Ae:return"Profiler";case Z:return"StrictMode";case we:return"Suspense";case ye:return"SuspenseList";case Qe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case xe:return e.displayName||"Context";case ue:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Ze:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}var Xe=Array.isArray,K=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},J=[],be=-1;function de(e){return{current:e}}function pe(e){0>be||(e.current=J[be],J[be]=null,be--)}function Te(e,t){be++,J[be]=e.current,e.current=t}var Le=de(null),Fe=de(null),ct=de(null),ae=de(null);function ve(e,t){switch(Te(ct,t),Te(Fe,e),Te(Le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(Le),Te(Le,e)}function Be(){pe(Le),pe(Fe),pe(ct)}function se(e){e.memoizedState!==null&&Te(ae,e);var t=Le.current,n=xm(t,e.type);t!==n&&(Te(Fe,e),Te(Le,n))}function Ge(e){Fe.current===e&&(pe(Le),pe(Fe)),ae.current===e&&(pe(ae),Ms._currentValue=Se)}var Ue,xt;function xn(e){if(Ue===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",xt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+xt}var je=!1;function ht(e,t){if(!e||je)return"";je=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(I){var $=I}Reflect.construct(e,[],re)}else{try{re.call()}catch(I){$=I}e.call(re.prototype)}}else{try{throw Error()}catch(I){$=I}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(I){if(I&&$&&typeof I.stack=="string")return[I.stack,$.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],v=r[1];if(p&&v){var _=p.split(`
`),G=v.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===G.length)for(a=_.length-1,i=G.length-1;1<=a&&0<=i&&_[a]!==G[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==G[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==G[i]){var ne=`
`+_[a].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=a&&0<=i);break}}}finally{je=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xn(n):""}function Ta(e,t){switch(e.tag){case 26:case 27:case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return e.child!==t&&t!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return xn("Activity");default:return""}}function he(e){try{var t="",n=null;do t+=Ta(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var We=Object.prototype.hasOwnProperty,gt=u.unstable_scheduleCallback,Nt=u.unstable_cancelCallback,_n=u.unstable_shouldYield,aa=u.unstable_requestPaint,hn=u.unstable_now,$l=u.unstable_getCurrentPriorityLevel,mn=u.unstable_ImmediatePriority,da=u.unstable_UserBlockingPriority,fl=u.unstable_NormalPriority,Wl=u.unstable_LowPriority,ki=u.unstable_IdlePriority,Bi=u.log,Da=u.unstable_setDisableYieldValue,ha=null,rn=null;function sn(e){if(typeof Bi=="function"&&Da(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ha,e)}catch{}}var Me=Math.clz32?Math.clz32:qi,Pl=Math.log,Ma=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-(Pl(e)/Ma|0)|0}var Oe=256,dl=262144,Il=4194304;function la(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~r,a!==0?i=la(a):(p&=v,p!==0?i=la(p):n||(n=v&~e,n!==0&&(i=la(n))))):(v=a&~r,v!==0?i=la(v):p!==0?i=la(p):n||(n=a&~e,n!==0&&(i=la(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function za(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Eo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Il;return Il<<=1,(Il&62914560)===0&&(Il=4194304),e}function ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Br(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,G=e.hiddenUpdates;for(n=p&~n;0<n;){var ne=31-Me(n),re=1<<ne;v[ne]=0,_[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var I=$[ne];I!==null&&(I.lane&=-536870913)}n&=~re}a!==0&&ti(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function ti(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Me(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Me(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Yt(e,t){var n=t&-t;return n=(n&42)!==0?1:qr(n),(n&(e.suspendedLanes|t))!==0?0:n}function qr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ni(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ai(e,t){var n=ge.p;try{return ge.p=e,t()}finally{ge.p=n}}var pa=Math.random().toString(36).slice(2),zt="__reactFiber$"+pa,Qt="__reactProps$"+pa,Sn="__reactContainer$"+pa,ml="__reactEvents$"+pa,Co="__reactListeners$"+pa,ya="__reactHandles$"+pa,Ur="__reactResources$"+pa,Rn="__reactMarker$"+pa;function Ui(e){delete e[zt],delete e[Qt],delete e[ml],delete e[Co],delete e[ya]}function ga(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cm(e);e!==null;){if(n=e[zt])return n;e=Cm(e)}return t}e=n,n=e.parentNode}return null}function _t(e){if(e=e[zt]||e[Sn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function pn(e){var t=e[Ur];return t||(t=e[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xt(e){e[Rn]=!0}var Ra=new Set,li={};function ia(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(li[e]=t,e=0;e<t.length;e++)Ra.add(t[e])}var ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},ii={};function Fs(e){return We.call(ii,e)?!0:We.call(Hr,e)?!1:ka.test(e)?ii[e]=!0:(Hr[e]=!0,!1)}function at(e,t,n){if(Fs(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ri(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Js(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){if(!e._valueTracker){var t=pl(e)?"checked":"value";e._valueTracker=Js(e,t,""+e[t])}}function Lr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=pl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var si=/[\n"\\]/g;function en(e){return e.replace(si,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function va(e,t,n,a,i,r,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+un(t)):e.value!==""+un(t)&&(e.value=""+un(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ui(e,p,un(t)):n!=null?ui(e,p,un(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+un(v):e.removeAttribute("name")}function Li(e,t,n,a,i,r,p,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Hi(e);return}n=n!=null?""+un(n):"",t=t!=null?""+un(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hi(e)}function ui(e,t,n){t==="number"&&bt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ra(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kr(e,t,n){if(t!=null&&(t=""+un(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+un(n):""}function oi(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Xe(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=un(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Hi(e)}function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ft(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ao.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&ft(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&ft(e,r,t[r])}function Qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return wn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var Gn=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,Rt=null;function Bn(e){var t=_t(e);if(t&&(e=t.stateNode)){var n=e[Qt]||null;e:switch(e=t.stateNode,t.type){case"input":if(va(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+en(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Qt]||null;if(!i)throw Error(d(90));va(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Lr(a)}break e;case"textarea":Kr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ra(e,!!n.multiple,t,!1)}}}var Ua=!1;function yl(e,t,n){if(Ua)return e(t,n);Ua=!0;try{var a=e(t);return a}finally{if(Ua=!1,(qa!==null||Rt!==null)&&(Uu(),qa&&(t=qa,e=Rt,Rt=qa=null,Bn(t),e)))for(t=0;t<e.length;t++)Bn(e[t])}}function Ha(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Qt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(tn)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Xr=!1}var Vn=null,Yi=null,gl=null;function bl(){if(gl)return gl;var e,t=Yi,n=t.length,a,i="value"in Vn?Vn.value:Vn.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return gl=i.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function $s(){return!1}function Ft(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ci:$s,this.isPropagationStopped=$s,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Ft(La),xa=B({},La,{view:0,detail:0}),Xi=Ft(xa),fi,Gr,di,Gi=B({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(fi=e.screenX-di.screenX,Gr=e.screenY-di.screenY):Gr=fi=0,di=e),fi)},movementY:function(e){return"movementY"in e?e.movementY:Gr}}),Vi=Ft(Gi),Vr=B({},Gi,{dataTransfer:0}),Ws=Ft(Vr),Zi=B({},xa,{relatedTarget:0}),xl=Ft(Zi),Fi=B({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),Ps=Ft(Fi),To=B({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sl=Ft(To),Zr=B({},La,{data:0}),Ji=Ft(Zr),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nn[e])?!!t[e]:!1}function Ka(){return hi}var Is=B({},xa,{key:function(e){if(e.key){var t=Fr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=Ft(Is),eu=B({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=Ft(eu),Wi=B({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Wr=Ft(Wi),Ya=B({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pr=Ft(Ya),Ir=B({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=Ft(Ir),es=B({},La,{newState:0,oldState:0}),tu=Ft(es),Do=[9,13,27,32],mi=tn&&"CompositionEvent"in window,Sa=null;tn&&"documentMode"in document&&(Sa=document.documentMode);var Mo=tn&&"TextEvent"in window&&!Sa,Ii=tn&&(!mi||Sa&&8<Sa&&11>=Sa),er=" ",nu=!1;function ts(e,t){switch(e){case"keyup":return Do.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function lu(e,t){switch(e){case"compositionend":return au(t);case"keypress":return t.which!==32?null:(nu=!0,er);case"textInput":return e=t.data,e===er&&nu?null:e;default:return null}}function zo(e,t){if(Qa)return e==="compositionend"||!mi&&ts(e,t)?(e=bl(),gl=Yi=Vn=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iu[e.type]:t==="textarea"}function ns(e,t,n,a){qa?Rt?Rt.push(a):Rt=[a]:qa=a,t=Gu(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var wl=null,pi=null;function Ro(e){hm(e,0)}function nr(e){var t=kn(e);if(Lr(t))return e}function yi(e,t){if(e==="change")return t}var Zn=!1;if(tn){var kt;if(tn){var jl="oninput"in document;if(!jl){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),jl=typeof Xa.oninput=="function"}kt=jl}else kt=!1;Zn=kt&&(!document.documentMode||9<document.documentMode)}function ru(){wl&&(wl.detachEvent("onpropertychange",ar),pi=wl=null)}function ar(e){if(e.propertyName==="value"&&nr(pi)){var t=[];ns(t,pi,e,Ki(e)),yl(Ro,t)}}function su(e,t,n){e==="focusin"?(ru(),wl=t,pi=n,wl.attachEvent("onpropertychange",ar)):e==="focusout"&&ru()}function Ga(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(pi)}function as(e,t){if(e==="click")return nr(t)}function Nl(e,t){if(e==="input"||e==="change")return nr(t)}function wa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:wa;function l(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!We.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,t){var n=s(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=tn&&"documentMode"in document&&11>=document.documentMode,j=null,C=null,H=null,A=!1;function E(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A||j==null||j!==bt(a)||(a=j,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),H&&l(H,a)||(H=a,a=Gu(C,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function M(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var R={animationend:M("Animation","AnimationEnd"),animationiteration:M("Animation","AnimationIteration"),animationstart:M("Animation","AnimationStart"),transitionrun:M("Transition","TransitionRun"),transitionstart:M("Transition","TransitionStart"),transitioncancel:M("Transition","TransitionCancel"),transitionend:M("Transition","TransitionEnd")},O={},T={};tn&&(T=document.createElement("div").style,"AnimationEvent"in window||(delete R.animationend.animation,delete R.animationiteration.animation,delete R.animationstart.animation),"TransitionEvent"in window||delete R.transitionend.transition);function Y(e){if(O[e])return O[e];if(!R[e])return e;var t=R[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T)return O[e]=t[n];return e}var F=Y("animationend"),L=Y("animationiteration"),te=Y("animationstart"),oe=Y("transitionrun"),_e=Y("transitionstart"),Ee=Y("transitioncancel"),ce=Y("transitionend"),ze=new Map,De="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");De.push("scrollEnd");function fe(e,t){ze.set(e,t),ia(t,[e])}var Re=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$e=[],lt=0,Ke=0;function Pe(){for(var e=lt,t=Ke=lt=0;t<e;){var n=$e[t];$e[t++]=null;var a=$e[t];$e[t++]=null;var i=$e[t];$e[t++]=null;var r=$e[t];if($e[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&ja(n,i,r)}}function Et(e,t,n,a){$e[lt++]=e,$e[lt++]=t,$e[lt++]=n,$e[lt++]=a,Ke|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function bn(e,t,n,a){return Et(e,t,n,a),_l(e)}function St(e,t){return Et(e,null,null,t),_l(e)}function ja(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Me(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function _l(e){if(50<_s)throw _s=0,Qc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function ly(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,n,a){return new ly(e,t,n,a)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Va(e,t){var n=e.alternate;return n===null?(n=qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function uu(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")ko(e)&&(p=1);else if(typeof e=="string")p=o0(e,n,Le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qe:return e=qn(31,n,t,i),e.elementType=Qe,e.lanes=r,e;case le:return gi(n.children,i,r,t);case Z:p=8,i|=24;break;case Ae:return e=qn(12,n,t,i|2),e.elementType=Ae,e.lanes=r,e;case we:return e=qn(13,n,t,i),e.elementType=we,e.lanes=r,e;case ye:return e=qn(19,n,t,i),e.elementType=ye,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:p=10;break e;case ue:p=9;break e;case ee:p=11;break e;case Ne:p=14;break e;case Ze:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=qn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function gi(e,t,n,a){return e=qn(7,e,a,t),e.lanes=n,e}function Bo(e,t,n){return e=qn(6,e,null,t),e.lanes=n,e}function $f(e){var t=qn(18,null,null,0);return t.stateNode=e,t}function qo(e,t,n){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wf=new WeakMap;function Fn(e,t){if(typeof e=="object"&&e!==null){var n=Wf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:he(t)},Wf.set(e,t),t)}return{value:e,source:t,stack:he(t)}}var ir=[],rr=0,ou=null,ls=0,Jn=[],$n=0,El=null,Na=1,_a="";function Za(e,t){ir[rr++]=ls,ir[rr++]=ou,ou=e,ls=t}function Pf(e,t,n){Jn[$n++]=Na,Jn[$n++]=_a,Jn[$n++]=El,El=e;var a=Na;e=_a;var i=32-Me(a)-1;a&=~(1<<i),n+=1;var r=32-Me(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Na=1<<32-Me(t)+i|n<<i|a,_a=r+e}else Na=1<<r|n<<i|a,_a=e}function Uo(e){e.return!==null&&(Za(e,1),Pf(e,1,0))}function Ho(e){for(;e===ou;)ou=ir[--rr],ir[rr]=null,ls=ir[--rr],ir[rr]=null;for(;e===El;)El=Jn[--$n],Jn[$n]=null,_a=Jn[--$n],Jn[$n]=null,Na=Jn[--$n],Jn[$n]=null}function If(e,t){Jn[$n++]=Na,Jn[$n++]=_a,Jn[$n++]=El,Na=t.id,_a=t.overflow,El=e}var on=null,Bt=null,dt=!1,Cl=null,Wn=!1,Lo=Error(d(519));function Al(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw is(Fn(t,e)),Lo}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[zt]=e,t[Qt]=a,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<Cs.length;n++)st(Cs[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),Li(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),oi(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gm(t.textContent,n)?(a.popover!=null&&(st("beforetoggle",t),st("toggle",t)),a.onScroll!=null&&st("scroll",t),a.onScrollEnd!=null&&st("scrollend",t),a.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Al(e,!0)}function td(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:on=on.return}}function sr(e){if(e!==on)return!1;if(!dt)return td(e),dt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||lf(e.type,e.memoizedProps)),n=!n),n&&Bt&&Al(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Bt=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Bt=Em(e)}else t===27?(t=Bt,Yl(e.type)?(e=cf,cf=null,Bt=e):Bt=t):Bt=on?In(e.stateNode.nextSibling):null;return!0}function bi(){Bt=on=null,dt=!1}function Ko(){var e=Cl;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Cl=null),e}function is(e){Cl===null?Cl=[e]:Cl.push(e)}var Yo=de(null),vi=null,Fa=null;function Ol(e,t,n){Te(Yo,t._currentValue),t._currentValue=n}function Ja(e){e._currentValue=Yo.current,pe(Yo)}function Qo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Xo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=i;for(var _=0;_<t.length;_++)if(v.context===t[_]){r.lanes|=n,v=r.alternate,v!==null&&(v.lanes|=n),Qo(r.return,n,e),a||(p=null);break e}r=v.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Qo(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ur(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var v=i.type;gn(i.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(i===ae.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}i=i.return}e!==null&&Xo(t,e,n,a),t.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xi(e){vi=e,Fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return nd(vi,e)}function fu(e,t){return vi===null&&xi(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Fa===null){if(e===null)throw Error(d(308));Fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fa=Fa.next=t;return n}var iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ry=u.unstable_scheduleCallback,sy=u.unstable_NormalPriority,Jt={$$typeof:xe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Go(){return{controller:new iy,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&ry(sy,function(){e.controller.abort()})}var ss=null,Vo=0,or=0,cr=null;function uy(e,t){if(ss===null){var n=ss=[];Vo=0,or=Jc(),cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Vo++,t.then(ad,ad),t}function ad(){if(--Vo===0&&ss!==null){cr!==null&&(cr.status="fulfilled");var e=ss;ss=null,or=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=K.S;K.S=function(e,t){Kh=hn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),ld!==null&&ld(e,t)};var Si=de(null);function Zo(){var e=Si.current;return e!==null?e:Mt.pooledCache}function du(e,t){t===null?Te(Si,Si.current):Te(Si,t.pool)}function id(){var e=Zo();return e===null?null:{parent:Jt._currentValue,pool:e}}var fr=Error(d(460)),Fo=Error(d(474)),hu=Error(d(542)),mu={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(En,En),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw ji=t,fr}}function wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ji=n,fr):n}}var ji=null;function ud(){if(ji===null)throw Error(d(459));var e=ji;return ji=null,e}function od(e){if(e===fr||e===hu)throw Error(d(483))}var dr=null,us=0;function pu(e){var t=us;return us+=1,dr===null&&(dr=[]),sd(dr,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yu(e,t){throw t.$$typeof===W?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cd(e){function t(U,z){if(e){var X=U.deletions;X===null?(U.deletions=[z],U.flags|=16):X.push(z)}}function n(U,z){if(!e)return null;for(;z!==null;)t(U,z),z=z.sibling;return null}function a(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function i(U,z){return U=Va(U,z),U.index=0,U.sibling=null,U}function r(U,z,X){return U.index=X,e?(X=U.alternate,X!==null?(X=X.index,X<z?(U.flags|=67108866,z):X):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,z,X,ie){return z===null||z.tag!==6?(z=Bo(X,U.mode,ie),z.return=U,z):(z=i(z,X),z.return=U,z)}function _(U,z,X,ie){var Ye=X.type;return Ye===le?ne(U,z,X.props.children,ie,X.key):z!==null&&(z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Ze&&wi(Ye)===z.type)?(z=i(z,X.props),os(z,X),z.return=U,z):(z=uu(X.type,X.key,X.props,null,U.mode,ie),os(z,X),z.return=U,z)}function G(U,z,X,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=qo(X,U.mode,ie),z.return=U,z):(z=i(z,X.children||[]),z.return=U,z)}function ne(U,z,X,ie,Ye){return z===null||z.tag!==7?(z=gi(X,U.mode,ie,Ye),z.return=U,z):(z=i(z,X),z.return=U,z)}function re(U,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Bo(""+z,U.mode,X),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case me:return X=uu(z.type,z.key,z.props,null,U.mode,X),os(X,z),X.return=U,X;case Q:return z=qo(z,U.mode,X),z.return=U,z;case Ze:return z=wi(z),re(U,z,X)}if(Xe(z)||ke(z))return z=gi(z,U.mode,X,null),z.return=U,z;if(typeof z.then=="function")return re(U,pu(z),X);if(z.$$typeof===xe)return re(U,fu(U,z),X);yu(U,z)}return null}function $(U,z,X,ie){var Ye=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ye!==null?null:v(U,z,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case me:return X.key===Ye?_(U,z,X,ie):null;case Q:return X.key===Ye?G(U,z,X,ie):null;case Ze:return X=wi(X),$(U,z,X,ie)}if(Xe(X)||ke(X))return Ye!==null?null:ne(U,z,X,ie,null);if(typeof X.then=="function")return $(U,z,pu(X),ie);if(X.$$typeof===xe)return $(U,z,fu(U,X),ie);yu(U,X)}return null}function I(U,z,X,ie,Ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return U=U.get(X)||null,v(z,U,""+ie,Ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case me:return U=U.get(ie.key===null?X:ie.key)||null,_(z,U,ie,Ye);case Q:return U=U.get(ie.key===null?X:ie.key)||null,G(z,U,ie,Ye);case Ze:return ie=wi(ie),I(U,z,X,ie,Ye)}if(Xe(ie)||ke(ie))return U=U.get(X)||null,ne(z,U,ie,Ye,null);if(typeof ie.then=="function")return I(U,z,X,pu(ie),Ye);if(ie.$$typeof===xe)return I(U,z,X,fu(z,ie),Ye);yu(z,ie)}return null}function qe(U,z,X,ie){for(var Ye=null,mt=null,He=z,et=z=0,ot=null;He!==null&&et<X.length;et++){He.index>et?(ot=He,He=null):ot=He.sibling;var pt=$(U,He,X[et],ie);if(pt===null){He===null&&(He=ot);break}e&&He&&pt.alternate===null&&t(U,He),z=r(pt,z,et),mt===null?Ye=pt:mt.sibling=pt,mt=pt,He=ot}if(et===X.length)return n(U,He),dt&&Za(U,et),Ye;if(He===null){for(;et<X.length;et++)He=re(U,X[et],ie),He!==null&&(z=r(He,z,et),mt===null?Ye=He:mt.sibling=He,mt=He);return dt&&Za(U,et),Ye}for(He=a(He);et<X.length;et++)ot=I(He,U,et,X[et],ie),ot!==null&&(e&&ot.alternate!==null&&He.delete(ot.key===null?et:ot.key),z=r(ot,z,et),mt===null?Ye=ot:mt.sibling=ot,mt=ot);return e&&He.forEach(function(Zl){return t(U,Zl)}),dt&&Za(U,et),Ye}function Ve(U,z,X,ie){if(X==null)throw Error(d(151));for(var Ye=null,mt=null,He=z,et=z=0,ot=null,pt=X.next();He!==null&&!pt.done;et++,pt=X.next()){He.index>et?(ot=He,He=null):ot=He.sibling;var Zl=$(U,He,pt.value,ie);if(Zl===null){He===null&&(He=ot);break}e&&He&&Zl.alternate===null&&t(U,He),z=r(Zl,z,et),mt===null?Ye=Zl:mt.sibling=Zl,mt=Zl,He=ot}if(pt.done)return n(U,He),dt&&Za(U,et),Ye;if(He===null){for(;!pt.done;et++,pt=X.next())pt=re(U,pt.value,ie),pt!==null&&(z=r(pt,z,et),mt===null?Ye=pt:mt.sibling=pt,mt=pt);return dt&&Za(U,et),Ye}for(He=a(He);!pt.done;et++,pt=X.next())pt=I(He,U,et,pt.value,ie),pt!==null&&(e&&pt.alternate!==null&&He.delete(pt.key===null?et:pt.key),z=r(pt,z,et),mt===null?Ye=pt:mt.sibling=pt,mt=pt);return e&&He.forEach(function(x0){return t(U,x0)}),dt&&Za(U,et),Ye}function Ot(U,z,X,ie){if(typeof X=="object"&&X!==null&&X.type===le&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case me:e:{for(var Ye=X.key;z!==null;){if(z.key===Ye){if(Ye=X.type,Ye===le){if(z.tag===7){n(U,z.sibling),ie=i(z,X.props.children),ie.return=U,U=ie;break e}}else if(z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Ze&&wi(Ye)===z.type){n(U,z.sibling),ie=i(z,X.props),os(ie,X),ie.return=U,U=ie;break e}n(U,z);break}else t(U,z);z=z.sibling}X.type===le?(ie=gi(X.props.children,U.mode,ie,X.key),ie.return=U,U=ie):(ie=uu(X.type,X.key,X.props,null,U.mode,ie),os(ie,X),ie.return=U,U=ie)}return p(U);case Q:e:{for(Ye=X.key;z!==null;){if(z.key===Ye)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){n(U,z.sibling),ie=i(z,X.children||[]),ie.return=U,U=ie;break e}else{n(U,z);break}else t(U,z);z=z.sibling}ie=qo(X,U.mode,ie),ie.return=U,U=ie}return p(U);case Ze:return X=wi(X),Ot(U,z,X,ie)}if(Xe(X))return qe(U,z,X,ie);if(ke(X)){if(Ye=ke(X),typeof Ye!="function")throw Error(d(150));return X=Ye.call(X),Ve(U,z,X,ie)}if(typeof X.then=="function")return Ot(U,z,pu(X),ie);if(X.$$typeof===xe)return Ot(U,z,fu(U,X),ie);yu(U,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(n(U,z.sibling),ie=i(z,X),ie.return=U,U=ie):(n(U,z),ie=Bo(X,U.mode,ie),ie.return=U,U=ie),p(U)):n(U,z)}return function(U,z,X,ie){try{us=0;var Ye=Ot(U,z,X,ie);return dr=null,Ye}catch(He){if(He===fr||He===hu)throw He;var mt=qn(29,He,null,U.mode);return mt.lanes=ie,mt.return=U,mt}}}var Ni=cd(!0),fd=cd(!1),Tl=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(vt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=_l(e),ja(e,null,n),t}return Et(e,a,t,n),_l(e)}function cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Dt(e,n)}}function Wo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Po=!1;function fs(){if(Po){var e=cr;if(e!==null)throw e}}function ds(e,t,n,a){Po=!1;var i=e.updateQueue;Tl=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,v=i.shared.pending;if(v!==null){i.shared.pending=null;var _=v,G=_.next;_.next=null,p===null?r=G:p.next=G,p=_;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,v=ne.lastBaseUpdate,v!==p&&(v===null?ne.firstBaseUpdate=G:v.next=G,ne.lastBaseUpdate=_))}if(r!==null){var re=i.baseState;p=0,ne=G=_=null,v=r;do{var $=v.lane&-536870913,I=$!==v.lane;if(I?(ut&$)===$:(a&$)===$){$!==0&&$===or&&(Po=!0),ne!==null&&(ne=ne.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var qe=e,Ve=v;$=t;var Ot=n;switch(Ve.tag){case 1:if(qe=Ve.payload,typeof qe=="function"){re=qe.call(Ot,re,$);break e}re=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ve.payload,$=typeof qe=="function"?qe.call(Ot,re,$):qe,$==null)break e;re=B({},re,$);break e;case 2:Tl=!0}}$=v.callback,$!==null&&(e.flags|=64,I&&(e.flags|=8192),I=i.callbacks,I===null?i.callbacks=[$]:I.push($))}else I={lane:$,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ne===null?(G=ne=I,_=re):ne=ne.next=I,p|=$;if(v=v.next,v===null){if(v=i.shared.pending,v===null)break;I=v,v=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);ne===null&&(_=re),i.baseState=_,i.firstBaseUpdate=G,i.lastBaseUpdate=ne,r===null&&(i.shared.lanes=0),ql|=p,e.lanes=p,e.memoizedState=re}}function dd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var hr=de(null),gu=de(0);function md(e,t){e=ll,Te(gu,e),Te(hr,t),ll=e|t.baseLanes}function Io(){Te(gu,ll),Te(hr,hr.current)}function ec(){ll=gu.current,pe(hr),pe(gu)}var Un=de(null),Pn=null;function zl(e){var t=e.alternate;Te(Gt,Gt.current&1),Te(Un,e),Pn===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(Pn=e)}function tc(e){Te(Gt,Gt.current),Te(Un,e),Pn===null&&(Pn=e)}function pd(e){e.tag===22?(Te(Gt,Gt.current),Te(Un,e),Pn===null&&(Pn=e)):Rl()}function Rl(){Te(Gt,Gt.current),Te(Un,Un.current)}function Hn(e){pe(Un),Pn===e&&(Pn=null),pe(Gt)}var Gt=de(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||uf(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $a=0,Ie=null,Ct=null,$t=null,vu=!1,mr=!1,_i=!1,xu=0,hs=0,pr=null,cy=0;function Lt(){throw Error(d(321))}function nc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function ac(e,t,n,a,i,r){return $a=r,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?Pd:bc,_i=!1,r=n(a,i),_i=!1,mr&&(r=gd(t,n,a,i)),yd(e),r}function yd(e){K.H=ys;var t=Ct!==null&&Ct.next!==null;if($a=0,$t=Ct=Ie=null,vu=!1,hs=0,pr=null,t)throw Error(d(300));e===null||Wt||(e=e.dependencies,e!==null&&cu(e)&&(Wt=!0))}function gd(e,t,n,a){Ie=e;var i=0;do{if(mr&&(pr=null),hs=0,mr=!1,25<=i)throw Error(d(301));if(i+=1,$t=Ct=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=Id,r=t(n,a)}while(mr);return r}function fy(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(Ct!==null?Ct.memoizedState:null)!==e&&(Ie.flags|=1024),t}function lc(){var e=xu!==0;return xu=0,e}function ic(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rc(e){if(vu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vu=!1}$a=0,$t=Ct=Ie=null,mr=!1,hs=xu=0,pr=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ie.memoizedState=$t=e:$t=$t.next=e,$t}function Vt(){if(Ct===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=$t===null?Ie.memoizedState:$t.next;if(t!==null)$t=t,Ct=e;else{if(e===null)throw Ie.alternate===null?Error(d(467)):Error(d(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},$t===null?Ie.memoizedState=$t=e:$t=$t.next=e}return $t}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var t=hs;return hs+=1,pr===null&&(pr=[]),e=sd(pr,e,t),t=Ie,($t===null?t.memoizedState:$t.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?Pd:bc),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===xe)return cn(e)}throw Error(d(438,String(e)))}function sc(e){var t=null,n=Ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Su(),Ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=it;return t.index++,n}function Wa(e,t){return typeof t=="function"?t(e):t}function ju(e){var t=Vt();return uc(t,Ct,e)}function uc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var v=p=null,_=null,G=t,ne=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(ut&re)===re:($a&re)===re){var $=G.revertLane;if($===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===or&&(ne=!0);else if(($a&$)===$){G=G.next,$===or&&(ne=!0);continue}else re={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},_===null?(v=_=re,p=r):_=_.next=re,Ie.lanes|=$,ql|=$;re=G.action,_i&&n(r,re),r=G.hasEagerState?G.eagerState:n(r,re)}else $={lane:re,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},_===null?(v=_=$,p=r):_=_.next=$,Ie.lanes|=re,ql|=re;G=G.next}while(G!==null&&G!==t);if(_===null?p=r:_.next=v,!gn(r,e.memoizedState)&&(Wt=!0,ne&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function oc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);gn(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function bd(e,t,n){var a=Ie,i=Vt(),r=dt;if(r){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!gn((Ct||i).memoizedState,n);if(p&&(i.memoizedState=n,Wt=!0),i=i.queue,dc(Sd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||$t!==null&&$t.memoizedState.tag&1){if(a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),Mt===null)throw Error(d(349));r||($a&127)!==0||vd(a,t,n)}return n}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t=Su(),Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,wd(t)&&jd(e)}function Sd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function jd(e){var t=St(e,2);t!==null&&Dn(t,e,2)}function cc(e){var t=jn();if(typeof e=="function"){var n=e;if(e=n(),_i){sn(!0);try{n()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,uc(e,Ct,typeof a=="function"?a:Wa)}function dy(e,t,n,a,i){if(Eu(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};K.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=K.T,p={};K.T=p;try{var v=n(i,a),_=K.S;_!==null&&_(p,v),Ed(e,t,v)}catch(G){fc(e,t,G)}finally{r!==null&&p.types!==null&&(r.types=p.types),K.T=r}}else try{r=n(i,a),Ed(e,t,r)}catch(G){fc(e,t,G)}}function Ed(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return fc(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function fc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==a)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function Td(e,t){if(dt){var n=Mt.formState;if(n!==null){e:{var a=Ie;if(dt){if(Bt){t:{for(var i=Bt,r=Wn;i.nodeType!==8;){if(!r){i=null;break t}if(i=In(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Bt=In(i.nextSibling),a=i.data==="F!";break e}}Al(a)}a=!1}a&&(t=n[0])}}return n=jn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},n.queue=a,n=Jd.bind(null,Ie,a),a.dispatch=n,a=cc(!1),r=gc.bind(null,Ie,!1,a.queue),a=jn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=dy.bind(null,Ie,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Dd(e){var t=Vt();return Md(t,Ct,e)}function Md(e,t,n){if(t=uc(e,t,Od)[0],e=ju(Wa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ms(t)}catch(p){throw p===fr?hu:p}else a=t;t=Vt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(Ie.flags|=2048,yr(9,{destroy:void 0},hy.bind(null,i,n),null)),[a,r,e]}function hy(e,t){e.action=t}function zd(e){var t=Vt(),n=Ct;if(n!==null)return Md(t,n,e);Vt(),t=t.memoizedState,n=Vt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function yr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Ie.updateQueue,t===null&&(t=Su(),Ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return Vt().memoizedState}function Nu(e,t,n,a){var i=jn();Ie.flags|=e,i.memoizedState=yr(1|t,{destroy:void 0},n,a===void 0?null:a)}function _u(e,t,n,a){var i=Vt();a=a===void 0?null:a;var r=i.memoizedState.inst;Ct!==null&&a!==null&&nc(a,Ct.memoizedState.deps)?i.memoizedState=yr(t,r,n,a):(Ie.flags|=e,i.memoizedState=yr(1|t,r,n,a))}function kd(e,t){Nu(8390656,8,e,t)}function dc(e,t){_u(2048,8,e,t)}function my(e){Ie.flags|=4;var t=Ie.updateQueue;if(t===null)t=Su(),Ie.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=Vt().memoizedState;return my({ref:t,nextImpl:e}),function(){if((vt&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return _u(4,2,e,t)}function Ud(e,t){return _u(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,_u(4,4,Hd.bind(null,t,e),n)}function hc(){}function Kd(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&nc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&nc(t,a[1]))return a[0];if(a=e(),_i){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[a,t],a}function mc(e,t,n){return n===void 0||($a&1073741824)!==0&&(ut&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qh(),Ie.lanes|=e,ql|=e,n)}function Qd(e,t,n,a){return gn(n,t)?n:hr.current!==null?(e=mc(e,n,a),gn(e,t)||(Wt=!0),e):($a&42)===0||($a&1073741824)!==0&&(ut&261930)===0?(Wt=!0,e.memoizedState=n):(e=Qh(),Ie.lanes|=e,ql|=e,t)}function Xd(e,t,n,a,i){var r=ge.p;ge.p=r!==0&&8>r?r:8;var p=K.T,v={};K.T=v,gc(e,!1,t,n);try{var _=i(),G=K.S;if(G!==null&&G(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ne=oy(_,a);ps(e,t,ne,Yn(e))}else ps(e,t,a,Yn(e))}catch(re){ps(e,t,{then:function(){},status:"rejected",reason:re},Yn())}finally{ge.p=r,p!==null&&v.types!==null&&(p.types=v.types),K.T=p}}function py(){}function pc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Gd(e).queue;Xd(e,i,t,Se,n===null?py:function(){return Vd(e),n(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:Se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),ps(e,t.next.queue,{},Yn())}function yc(){return cn(Ms)}function Zd(){return Vt().memoizedState}function Fd(){return Vt().memoizedState}function yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yn();e=Dl(n);var a=Ml(t,e,n);a!==null&&(Dn(a,t,n),cs(a,t,n)),t={cache:Go()},e.payload=t;return}t=t.return}}function gy(e,t,n){var a=Yn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Eu(e)?$d(t,n):(n=bn(e,t,n,a),n!==null&&(Dn(n,e,a),Wd(n,t,a)))}function Jd(e,t,n){var a=Yn();ps(e,t,n,a)}function ps(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))$d(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,v=r(p,n);if(i.hasEagerState=!0,i.eagerState=v,gn(v,p))return Et(e,t,i,0),Mt===null&&Pe(),!1}catch{}if(n=bn(e,t,i,a),n!==null)return Dn(n,e,a),Wd(n,t,a),!0}return!1}function gc(e,t,n,a){if(a={lane:2,revertLane:Jc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(e)){if(t)throw Error(d(479))}else t=bn(e,n,a,2),t!==null&&Dn(t,e,2)}function Eu(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function $d(e,t){mr=vu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Dt(e,n)}}var ys={readContext:cn,use:wu,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ys.useEffectEvent=Lt;var Pd={readContext:cn,use:wu,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nu(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nu(4194308,4,e,t)},useInsertionEffect:function(e,t){Nu(4,2,e,t)},useMemo:function(e,t){var n=jn();t=t===void 0?null:t;var a=e();if(_i){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=jn();if(n!==void 0){var i=n(t);if(_i){sn(!0);try{n(t)}finally{sn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gy.bind(null,Ie,e),[a.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:function(e){e=cc(e);var t=e.queue,n=Jd.bind(null,Ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hc,useDeferredValue:function(e,t){var n=jn();return mc(n,e,t)},useTransition:function(){var e=cc(!1);return e=Xd.bind(null,Ie,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ie,i=jn();if(dt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Mt===null)throw Error(d(349));(ut&127)!==0||vd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,kd(Sd.bind(null,a,r,e),[e]),a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,r,n,t),null),n},useId:function(){var e=jn(),t=Mt.identifierPrefix;if(dt){var n=_a,a=Na;n=(a&~(1<<32-Me(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yc,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=jn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gc.bind(null,Ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:sc,useCacheRefresh:function(){return jn().memoizedState=yy.bind(null,Ie)},useEffectEvent:function(e){var t=jn(),n={impl:e};return t.memoizedState=n,function(){if((vt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},bc={readContext:cn,use:wu,useCallback:Kd,useContext:cn,useEffect:dc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:ju,useRef:Rd,useState:function(){return ju(Wa)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Vt();return Qd(n,Ct.memoizedState,e,t)},useTransition:function(){var e=ju(Wa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:bd,useId:Zd,useHostTransitionStatus:yc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e,t){var n=Vt();return Nd(n,Ct,e,t)},useMemoCache:sc,useCacheRefresh:Fd};bc.useEffectEvent=Bd;var Id={readContext:cn,use:wu,useCallback:Kd,useContext:cn,useEffect:dc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:oc,useRef:Rd,useState:function(){return oc(Wa)},useDebugValue:hc,useDeferredValue:function(e,t){var n=Vt();return Ct===null?mc(n,e,t):Qd(n,Ct.memoizedState,e,t)},useTransition:function(){var e=oc(Wa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:bd,useId:Zd,useHostTransitionStatus:yc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=Vt();return Ct!==null?Nd(n,Ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Fd};Id.useEffectEvent=Bd;function vc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yn(),i=Dl(a);i.payload=t,n!=null&&(i.callback=n),t=Ml(e,i,a),t!==null&&(Dn(t,e,a),cs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yn(),i=Dl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ml(e,i,a),t!==null&&(Dn(t,e,a),cs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yn(),a=Dl(n);a.tag=2,t!=null&&(a.callback=t),t=Ml(e,a,n),t!==null&&(Dn(t,e,n),cs(t,e,n))}};function eh(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function th(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function Ei(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=B({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nh(e){Re(e)}function ah(e){console.error(e)}function lh(e){Re(e)}function Cu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ih(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Sc(e,t,n){return n=Dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Cu(e,t)},n}function rh(e){return e=Dl(e),e.tag=3,e}function sh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ih(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,a),typeof i!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function by(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ur(t,n,i,!0),n=Un.current,n!==null){switch(n.tag){case 31:case 13:return Pn===null?Hu():n.alternate===null&&Kt===0&&(Kt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===mu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Vc(e,a,i)),!1;case 22:return n.flags|=65536,a===mu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Vc(e,a,i)),!1}throw Error(d(435,n.tag))}return Vc(e,a,i),Hu(),!1}if(dt)return t=Un.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Lo&&(e=Error(d(422),{cause:a}),is(Fn(e,n)))):(a!==Lo&&(t=Error(d(423),{cause:a}),is(Fn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Fn(a,n),i=Sc(e.stateNode,a,i),Wo(e,i),Kt!==4&&(Kt=2)),!1;var r=Error(d(520),{cause:a});if(r=Fn(r,n),Ns===null?Ns=[r]:Ns.push(r),Kt!==4&&(Kt=2),t===null)return!0;a=Fn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Sc(n.stateNode,a,e),Wo(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ul===null||!Ul.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rh(i),sh(i,e,n,a),Wo(n,i),!1}n=n.return}while(n!==null);return!1}var wc=Error(d(461)),Wt=!1;function fn(e,t,n,a){t.child=e===null?fd(t,null,n,a):Ni(t,e.child,n,a)}function uh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var v in a)v!=="ref"&&(p[v]=a[v])}else p=a;return xi(t),a=ac(e,t,n,p,r,i),v=lc(),e!==null&&!Wt?(ic(e,t,i),Pa(e,t,i)):(dt&&v&&Uo(t),t.flags|=1,fn(e,t,a,i),t.child)}function oh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!ko(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ch(e,t,r,a,i)):(e=uu(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Tc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return Pa(e,t,i)}return t.flags|=1,e=Va(r,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=a=r,Tc(e,i))(e.flags&131072)!==0&&(Wt=!0);else return t.lanes=e.lanes,Pa(e,t,i)}return jc(e,t,n,a,i)}function fh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return dh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&du(t,r!==null?r.cachePool:null),r!==null?md(t,r):Io(),pd(t);else return a=t.lanes=536870912,dh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(du(t,r.cachePool),md(t,r),Rl(),t.memoizedState=null):(e!==null&&du(t,null),Io(),Rl());return fn(e,t,i,n),t.child}function gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,i){var r=Zo();return r=r===null?null:{parent:Jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&du(t,null),Io(),pd(t),e!==null&&ur(e,t,a,!0),t.childLanes=i,null}function Au(e,t){return t=Tu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return Ni(t,e.child,null,n),e=Au(t,t.pendingProps),e.flags|=2,Hn(t),t.memoizedState=null,e}function vy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(dt){if(a.mode==="hidden")return e=Au(t,a),t.lanes=536870912,gs(null,e);if(tc(t),(e=Bt)?(e=_m(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Na,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,on=t,Bt=null)):e=null,e===null)throw Al(t);return t.lanes=536870912,null}return Au(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(tc(t),i)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Wt||ur(e,t,n,!1),i=(n&e.childLanes)!==0,Wt||i){if(a=Mt,a!==null&&(p=Yt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,St(e,p),Dn(a,e,p),wc;Hu(),t=hh(e,t,n)}else e=r.treeContext,Bt=In(p.nextSibling),on=t,dt=!0,Cl=null,Wn=!1,e!==null&&If(t,e),t=Au(t,a),t.flags|=4096;return t}return e=Va(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ou(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jc(e,t,n,a,i){return xi(t),n=ac(e,t,n,a,void 0,i),a=lc(),e!==null&&!Wt?(ic(e,t,i),Pa(e,t,i)):(dt&&a&&Uo(t),t.flags|=1,fn(e,t,n,i),t.child)}function mh(e,t,n,a,i,r){return xi(t),t.updateQueue=null,n=gd(t,a,n,i),yd(e),a=lc(),e!==null&&!Wt?(ic(e,t,r),Pa(e,t,r)):(dt&&a&&Uo(t),t.flags|=1,fn(e,t,n,r),t.child)}function ph(e,t,n,a,i){if(xi(t),t.stateNode===null){var r=lr,p=n.contextType;typeof p=="object"&&p!==null&&(r=cn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Jo(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?cn(p):lr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(vc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&xc.enqueueReplaceState(r,r.state,null),ds(t,a,r,i),fs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,_=Ei(n,v);r.props=_;var G=r.context,ne=n.contextType;p=lr,typeof ne=="object"&&ne!==null&&(p=cn(ne));var re=n.getDerivedStateFromProps;ne=typeof re=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,ne||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||G!==p)&&th(t,r,a,p),Tl=!1;var $=t.memoizedState;r.state=$,ds(t,a,r,i),fs(),G=t.memoizedState,v||$!==G||Tl?(typeof re=="function"&&(vc(t,n,re,a),G=t.memoizedState),(_=Tl||eh(t,n,_,a,$,G,p))?(ne||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),r.props=a,r.state=G,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,$o(e,t),p=t.memoizedProps,ne=Ei(n,p),r.props=ne,re=t.pendingProps,$=r.context,G=n.contextType,_=lr,typeof G=="object"&&G!==null&&(_=cn(G)),v=n.getDerivedStateFromProps,(G=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==re||$!==_)&&th(t,r,a,_),Tl=!1,$=t.memoizedState,r.state=$,ds(t,a,r,i),fs();var I=t.memoizedState;p!==re||$!==I||Tl||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof v=="function"&&(vc(t,n,v,a),I=t.memoizedState),(ne=Tl||eh(t,n,ne,a,$,I,_)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(G||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,I,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,I,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=I),r.props=a,r.state=I,r.context=_,a=ne):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ou(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ni(t,e.child,null,i),t.child=Ni(t,null,n,i)):fn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=Pa(e,t,i),e}function yh(e,t,n,a){return bi(),t.flags|=256,fn(e,t,n,a),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:id()}}function Ec(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Kn),e}function gh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(i?zl(t):Rl(),(e=Bt)?(e=_m(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Na,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,on=t,Bt=null)):e=null,e===null)throw Al(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,i?(Rl(),i=t.mode,v=Tu({mode:"hidden",children:v},i),a=gi(a,i,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=_c(n),a.childLanes=Ec(e,p,n),t.memoizedState=Nc,gs(null,a)):(zl(t),Cc(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(r)t.flags&256?(zl(t),t.flags&=-257,t=Ac(e,t,n)):t.memoizedState!==null?(Rl(),t.child=e.child,t.flags|=128,t=null):(Rl(),v=a.fallback,i=t.mode,a=Tu({mode:"visible",children:a.children},i),v=gi(v,i,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Ni(t,e.child,null,n),a=t.child,a.memoizedState=_c(n),a.childLanes=Ec(e,p,n),t.memoizedState=Nc,t=gs(null,a));else if(zl(t),of(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var G=p.dgst;p=G,a=Error(d(419)),a.stack="",a.digest=p,is({value:a,source:null,stack:null}),t=Ac(e,t,n)}else if(Wt||ur(e,t,n,!1),p=(n&e.childLanes)!==0,Wt||p){if(p=Mt,p!==null&&(a=Yt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,St(e,a),Dn(p,e,a),wc;uf(v)||Hu(),t=Ac(e,t,n)}else uf(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Bt=In(v.nextSibling),on=t,dt=!0,Cl=null,Wn=!1,e!==null&&If(t,e),t=Cc(t,a.children),t.flags|=4096);return t}return i?(Rl(),v=a.fallback,i=t.mode,_=e.child,G=_.sibling,a=Va(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,G!==null?v=Va(G,v):(v=gi(v,i,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,gs(null,a),a=t.child,v=e.child.memoizedState,v===null?v=_c(n):(i=v.cachePool,i!==null?(_=Jt._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=id(),v={baseLanes:v.baseLanes|n,cachePool:i}),a.memoizedState=v,a.childLanes=Ec(e,p,n),t.memoizedState=Nc,gs(e.child,a)):(zl(t),n=e.child,e=n.sibling,n=Va(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Cc(e,t){return t=Tu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tu(e,t){return e=qn(22,e,null,t),e.lanes=0,e}function Ac(e,t,n){return Ni(t,e.child,null,n),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Qo(e.return,t,n)}function Oc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=Gt.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,Te(Gt,p),fn(e,t,a,n),a=dt?ls:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oc(t,!0,n,null,r,a);break;case"together":Oc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Pa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ur(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function xy(e,t,n){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Ol(t,Jt,e.memoizedState.cache),bi();break;case 27:case 5:se(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Ol(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gh(e,t,n):(zl(t),e=Pa(e,t,n),e!==null?e.sibling:null);zl(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ur(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Gt,Gt.current),a)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Ol(t,Jt,e.memoizedState.cache)}return Pa(e,t,n)}function xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Wt=!0;else{if(!Tc(e,n)&&(t.flags&128)===0)return Wt=!1,xy(e,t,n);Wt=(e.flags&131072)!==0}else Wt=!1,dt&&(t.flags&1048576)!==0&&Pf(t,ls,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=wi(t.elementType),t.type=e,typeof e=="function")ko(e)?(a=Ei(e,a),t.tag=1,t=ph(null,t,e,a,n)):(t.tag=0,t=jc(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===ee){t.tag=11,t=uh(null,t,e,a,n);break e}else if(i===Ne){t.tag=14,t=oh(null,t,e,a,n);break e}}throw t=Ce(e)||e,Error(d(306,t,""))}}return t;case 0:return jc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ei(a,t.pendingProps),ph(e,t,a,i,n);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,$o(e,t),ds(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Ol(t,Jt,a),a!==r.cache&&Xo(t,[Jt],n,!0),fs(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yh(e,t,a,n);break e}else if(a!==i){i=Fn(Error(d(424)),t),is(i),t=yh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Bt=In(e.firstChild),on=t,dt=!0,Cl=null,Wn=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bi(),a===i){t=Pa(e,t,n);break e}fn(e,t,a,n)}t=t.child}return t;case 26:return Ou(e,t),e===null?(n=Dm(t.type,null,t.pendingProps,null))?t.memoizedState=n:dt||(n=t.type,e=t.pendingProps,a=Vu(ct.current).createElement(n),a[zt]=t,a[Qt]=e,dn(a,n,e),Xt(a),t.stateNode=a):t.memoizedState=Dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return se(t),e===null&&dt&&(a=t.stateNode=Am(t.type,t.pendingProps,ct.current),on=t,Wn=!0,i=Bt,Yl(t.type)?(cf=i,Bt=In(a.firstChild)):Bt=i),fn(e,t,t.pendingProps.children,n),Ou(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((i=a=Bt)&&(a=$y(a,t.type,t.pendingProps,Wn),a!==null?(t.stateNode=a,on=t,Bt=In(a.firstChild),Wn=!1,i=!0):i=!1),i||Al(t)),se(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,lf(i,r)?a=null:p!==null&&lf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ac(e,t,fy,null,null,n),Ms._currentValue=i),Ou(e,t),fn(e,t,a,n),t.child;case 6:return e===null&&dt&&((e=n=Bt)&&(n=Wy(n,t.pendingProps,Wn),n!==null?(t.stateNode=n,on=t,Bt=null,e=!0):e=!1),e||Al(t)),null;case 13:return gh(e,t,n);case 4:return ve(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ni(t,null,a,n):fn(e,t,a,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return fn(e,t,t.pendingProps,n),t.child;case 8:return fn(e,t,t.pendingProps.children,n),t.child;case 12:return fn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Ol(t,t.type,a.value),fn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,xi(t),i=cn(i),a=a(i),t.flags|=1,fn(e,t,a,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return vy(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return xi(t),a=cn(Jt),e===null?(i=Zo(),i===null&&(i=Mt,r=Go(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Jo(t),Ol(t,Jt,i)):((e.lanes&n)!==0&&($o(e,t),ds(t,null,null,n),fs()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ol(t,Jt,a)):(a=r.cache,Ol(t,Jt,a),a!==i.cache&&Xo(t,[Jt],n,!0))),fn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Ia(e){e.flags|=4}function Dc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Zh())e.flags|=8192;else throw ji=mu,Fo}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(t))if(Zh())e.flags|=8192;else throw ji=mu,Fo}function Du(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zs():536870912,e.lanes|=t,xr|=t)}function bs(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Sy(e,t,n){var a=t.pendingProps;switch(Ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return qt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ja(Jt),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sr(t)?Ia(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),qt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Ia(t),r!==null?(qt(t),Sh(t,r)):(qt(t),Dc(t,i,null,a,n))):r?r!==e.memoizedState?(Ia(t),qt(t),Sh(t,r)):(qt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ia(t),qt(t),Dc(t,i,e,a,n)),null;case 27:if(Ge(t),n=ct.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ia(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return qt(t),null}e=Le.current,sr(t)?ed(t):(e=Am(i,a,n),t.stateNode=e,Ia(t))}return qt(t),null;case 5:if(Ge(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ia(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return qt(t),null}if(r=Le.current,sr(t))ed(t);else{var p=Vu(ct.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[zt]=t,r[Qt]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(dn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ia(t)}}return qt(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ia(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=ct.current,sr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=on,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[zt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,n)),e||Al(t,!0)}else e=Vu(e).createTextNode(a),e[zt]=t,t.stateNode=e}return qt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=sr(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[zt]=t}else bi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qt(t),e=!1}else n=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Hn(t),t):(Hn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return qt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=sr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[zt]=t}else bi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qt(t),i=!1}else i=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Hn(t),t):(Hn(t),null)}return Hn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Du(t,t.updateQueue),qt(t),null);case 4:return Be(),e===null&&Ic(t.stateNode.containerInfo),qt(t),null;case 10:return Ja(t.type),qt(t),null;case 19:if(pe(Gt),a=t.memoizedState,a===null)return qt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)bs(a,!1);else{if(Kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=bu(e),r!==null){for(t.flags|=128,bs(a,!1),e=r.updateQueue,t.updateQueue=e,Du(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return Te(Gt,Gt.current&1|2),dt&&Za(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&hn()>Bu&&(t.flags|=128,i=!0,bs(a,!1),t.lanes=4194304)}else{if(!i)if(e=bu(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Du(t,e),bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!dt)return qt(t),null}else 2*hn()-a.renderingStartTime>Bu&&n!==536870912&&(t.flags|=128,i=!0,bs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hn(),e.sibling=null,n=Gt.current,Te(Gt,i?n&1|2:n&1),dt&&Za(t,a.treeForkCount),e):(qt(t),null);case 22:case 23:return Hn(t),ec(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),n=t.updateQueue,n!==null&&Du(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&pe(Si),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ja(Jt),qt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function wy(e,t){switch(Ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(Jt),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ge(t),null;case 31:if(t.memoizedState!==null){if(Hn(t),t.alternate===null)throw Error(d(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(Gt),null;case 4:return Be(),null;case 10:return Ja(t.type),null;case 22:case 23:return Hn(t),ec(),e!==null&&pe(Si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ja(Jt),null;case 25:return null;default:return null}}function wh(e,t){switch(Ho(t),t.tag){case 3:Ja(Jt),Be();break;case 26:case 27:case 5:Ge(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Hn(t);break;case 13:Hn(t);break;case 19:pe(Gt);break;case 10:Ja(t.type);break;case 22:case 23:Hn(t),ec(),e!==null&&pe(Si);break;case 24:Ja(Jt)}}function vs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(v){jt(t,t.return,v)}}function kl(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,i=t;var _=n,G=v;try{G()}catch(ne){jt(i,_,ne)}}}a=a.next}while(a!==r)}}catch(ne){jt(t,t.return,ne)}}function jh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){jt(e,e.return,a)}}}function Nh(e,t,n){n.props=Ei(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){jt(e,t,a)}}function xs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){jt(e,t,i)}}function Ea(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){jt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){jt(e,t,i)}else n.current=null}function _h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){jt(e,e.return,i)}}function Mc(e,t,n){try{var a=e.stateNode;Xy(a,e.type,n,t),a[Qt]=t}catch(i){jt(e,e.return,i)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=En));else if(a!==4&&(a===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function Mu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function Ch(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dn(t,a,n),t[zt]=e,t[Qt]=n}catch(r){jt(e,e.return,r)}}var el=!1,Pt=!1,kc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,an=null;function jy(e,t){if(e=e.containerInfo,nf=Iu,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,G=0,ne=0,re=e,$=null;t:for(;;){for(var I;re!==n||i!==0&&re.nodeType!==3||(v=p+i),re!==r||a!==0&&re.nodeType!==3||(_=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(I=re.firstChild)!==null;)$=re,re=I;for(;;){if(re===e)break t;if($===n&&++G===i&&(v=p),$===r&&++ne===a&&(_=p),(I=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=I}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(af={focusedElem:e,selectionRange:n},Iu=!1,an=t;an!==null;)if(t=an,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,an=e;else for(;an!==null;){switch(t=an,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var qe=Ei(n.type,i);e=a.getSnapshotBeforeUpdate(qe,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){jt(n,n.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)sf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,an=e;break}an=t.return}}function Oh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:nl(e,n),a&4&&vs(5,n);break;case 1:if(nl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){jt(n,n.return,p)}else{var i=Ei(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){jt(n,n.return,p)}}a&64&&jh(n),a&512&&xs(n,n.return);break;case 3:if(nl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){jt(n,n.return,p)}}break;case 27:t===null&&a&4&&Ch(n);case 26:case 5:nl(e,n),t===null&&a&4&&_h(n),a&512&&xs(n,n.return);break;case 12:nl(e,n);break;case 31:nl(e,n),a&4&&Mh(e,n);break;case 13:nl(e,n),a&4&&zh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=My.bind(null,n),Py(e,n))));break;case 22:if(a=n.memoizedState!==null||el,!a){t=t!==null&&t.memoizedState!==null||Pt,i=el;var r=Pt;el=a,(Pt=t)&&!r?al(e,n,(n.subtreeFlags&8772)!==0):nl(e,n),el=i,Pt=r}break;case 30:break;default:nl(e,n)}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ut=null,Cn=!1;function tl(e,t,n){for(n=n.child;n!==null;)Dh(e,t,n),n=n.sibling}function Dh(e,t,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 26:Pt||Ea(n,t),tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||Ea(n,t);var a=Ut,i=Cn;Yl(n.type)&&(Ut=n.stateNode,Cn=!1),tl(e,t,n),Os(n.stateNode),Ut=a,Cn=i;break;case 5:Pt||Ea(n,t);case 6:if(a=Ut,i=Cn,Ut=null,tl(e,t,n),Ut=a,Cn=i,Ut!==null)if(Cn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(n.stateNode)}catch(r){jt(n,t,r)}else try{Ut.removeChild(n.stateNode)}catch(r){jt(n,t,r)}break;case 18:Ut!==null&&(Cn?(e=Ut,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ar(e)):jm(Ut,n.stateNode));break;case 4:a=Ut,i=Cn,Ut=n.stateNode.containerInfo,Cn=!0,tl(e,t,n),Ut=a,Cn=i;break;case 0:case 11:case 14:case 15:kl(2,n,t),Pt||kl(4,n,t),tl(e,t,n);break;case 1:Pt||(Ea(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nh(n,t,a)),tl(e,t,n);break;case 21:tl(e,t,n);break;case 22:Pt=(a=Pt)||n.memoizedState!==null,tl(e,t,n),Pt=a;break;default:tl(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(n){jt(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(n){jt(t,t.return,n)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(d(435,e.tag))}}function zu(e,t){var n=Ny(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=zy.bind(null,e,a);a.then(i,i)}})}function An(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Yl(v.type)){Ut=v.stateNode,Cn=!1;break e}break;case 5:Ut=v.stateNode,Cn=!1;break e;case 3:case 4:Ut=v.stateNode.containerInfo,Cn=!0;break e}v=v.return}if(Ut===null)throw Error(d(160));Dh(r,p,i),Ut=null,Cn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var ua=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(t,e),On(e),a&4&&(kl(3,e,e.return),vs(3,e),kl(5,e,e.return));break;case 1:An(t,e),On(e),a&512&&(Pt||n===null||Ea(n,n.return)),a&64&&el&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ua;if(An(t,e),On(e),a&512&&(Pt||n===null||Ea(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Rn]||r[zt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),dn(r,a,n),r[zt]=e,Xt(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(r=p[v],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}r=i.createElement(a),dn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(v=0;v<p.length;v++)if(r=p[v],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}r=i.createElement(a),dn(r,a,n),i.head.appendChild(r);break;default:throw Error(d(468,a))}r[zt]=e,Xt(r),a=r}e.stateNode=a}else km(i,e.type,e.stateNode);else e.stateNode=zm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?km(i,e.type,e.stateNode):zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Mc(e,e.memoizedProps,n.memoizedProps)}break;case 27:An(t,e),On(e),a&512&&(Pt||n===null||Ea(n,n.return)),n!==null&&a&4&&Mc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(An(t,e),On(e),a&512&&(Pt||n===null||Ea(n,n.return)),e.flags&32){i=e.stateNode;try{Ba(i,"")}catch(qe){jt(e,e.return,qe)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Mc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(kc=!0);break;case 6:if(An(t,e),On(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(qe){jt(e,e.return,qe)}}break;case 3:if(Ju=null,i=ua,ua=Zu(t.containerInfo),An(t,e),ua=i,On(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(qe){jt(e,e.return,qe)}kc&&(kc=!1,kh(e));break;case 4:a=ua,ua=Zu(e.stateNode.containerInfo),An(t,e),On(e),ua=a;break;case 12:An(t,e),On(e);break;case 31:An(t,e),On(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zu(e,a)));break;case 13:An(t,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ku=hn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zu(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,G=el,ne=Pt;if(el=G||i,Pt=ne||_,An(t,e),Pt=ne,el=G,On(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||el||Pt||Ci(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var re=_.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;v.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(qe){jt(_,_.return,qe)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(qe){jt(_,_.return,qe)}}}else if(t.tag===18){if(n===null){_=t;try{var I=_.stateNode;i?Nm(I,!0):Nm(_.stateNode,!1)}catch(qe){jt(_,_.return,qe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,zu(e,n))));break;case 19:An(t,e),On(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zu(e,a)));break;case 30:break;case 21:break;default:An(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Eh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,r=zc(e);Mu(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ba(p,""),n.flags&=-33);var v=zc(e);Mu(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,G=zc(e);Rc(e,G,_);break;default:throw Error(d(161))}}catch(ne){jt(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Oh(e,t.alternate,t),t=t.sibling}function Ci(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kl(4,t,t.return),Ci(t);break;case 1:Ea(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nh(t,t.return,n),Ci(t);break;case 27:Os(t.stateNode);case 26:case 5:Ea(t,t.return),Ci(t);break;case 22:t.memoizedState===null&&Ci(t);break;case 30:Ci(t);break;default:Ci(t)}e=e.sibling}}function al(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:al(i,r,n),vs(4,r);break;case 1:if(al(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(G){jt(a,a.return,G)}if(a=r,i=a.updateQueue,i!==null){var v=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)dd(_[i],v)}catch(G){jt(a,a.return,G)}}n&&p&64&&jh(r),xs(r,r.return);break;case 27:Ch(r);case 26:case 5:al(i,r,n),n&&a===null&&p&4&&_h(r),xs(r,r.return);break;case 12:al(i,r,n);break;case 31:al(i,r,n),n&&p&4&&Mh(i,r);break;case 13:al(i,r,n),n&&p&4&&zh(i,r);break;case 22:r.memoizedState===null&&al(i,r,n),xs(r,r.return);break;case 30:break;default:al(i,r,n)}t=t.sibling}}function Bc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rs(n))}function qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function oa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,a),t=t.sibling}function Bh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:oa(e,t,n,a),i&2048&&vs(9,t);break;case 1:oa(e,t,n,a);break;case 3:oa(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(i&2048){oa(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,v=r.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){jt(t,t.return,_)}}else oa(e,t,n,a);break;case 31:oa(e,t,n,a);break;case 13:oa(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?oa(e,t,n,a):Ss(e,t):r._visibility&2?oa(e,t,n,a):(r._visibility|=2,gr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Bc(p,t);break;case 24:oa(e,t,n,a),i&2048&&qc(t.alternate,t);break;default:oa(e,t,n,a)}}function gr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,v=n,_=a,G=p.flags;switch(p.tag){case 0:case 11:case 15:gr(r,p,v,_,i),vs(8,p);break;case 23:break;case 22:var ne=p.stateNode;p.memoizedState!==null?ne._visibility&2?gr(r,p,v,_,i):Ss(r,p):(ne._visibility|=2,gr(r,p,v,_,i)),i&&G&2048&&Bc(p.alternate,p);break;case 24:gr(r,p,v,_,i),i&&G&2048&&qc(p.alternate,p);break;default:gr(r,p,v,_,i)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Ss(n,a),i&2048&&Bc(a.alternate,a);break;case 24:Ss(n,a),i&2048&&qc(a.alternate,a);break;default:Ss(n,a)}t=t.sibling}}var ws=8192;function br(e,t,n){if(e.subtreeFlags&ws)for(e=e.child;e!==null;)qh(e,t,n),e=e.sibling}function qh(e,t,n){switch(e.tag){case 26:br(e,t,n),e.flags&ws&&e.memoizedState!==null&&c0(n,ua,e.memoizedState,e.memoizedProps);break;case 5:br(e,t,n);break;case 3:case 4:var a=ua;ua=Zu(e.stateNode.containerInfo),br(e,t,n),ua=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ws,ws=16777216,br(e,t,n),ws=a):br(e,t,n));break;default:br(e,t,n)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Lh(a,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:js(e),e.flags&2048&&kl(9,e,e.return);break;case 3:js(e);break;case 12:js(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ru(e)):js(e);break;default:js(e)}}function Ru(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];an=a,Lh(a,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kl(8,t,t.return),Ru(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ru(t));break;default:Ru(t)}e=e.sibling}}function Lh(e,t){for(;an!==null;){var n=an;switch(n.tag){case 0:case 11:case 15:kl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:rs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,an=a;else e:for(n=e;an!==null;){a=an;var i=a.sibling,r=a.return;if(Th(a),a===n){an=null;break e}if(i!==null){i.return=r,an=i;break e}an=r}}}var _y={getCacheForType:function(e){var t=cn(Jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return cn(Jt).controller.signal}},Ey=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,rt=null,ut=0,wt=0,Ln=null,Bl=!1,vr=!1,Uc=!1,ll=0,Kt=0,ql=0,Ai=0,Hc=0,Kn=0,xr=0,Ns=null,Tn=null,Lc=!1,ku=0,Kh=0,Bu=1/0,qu=null,Ul=null,It=0,Hl=null,Sr=null,il=0,Kc=0,Yc=null,Yh=null,_s=0,Qc=null;function Yn(){return(vt&2)!==0&&ut!==0?ut&-ut:K.T!==null?Jc():ni()}function Qh(){if(Kn===0)if((ut&536870912)===0||dt){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),Kn=e}else Kn=536870912;return e=Un.current,e!==null&&(e.flags|=32),Kn}function Dn(e,t,n){(e===Mt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Ll(e,ut,Kn,!1)),Qn(e,n),((vt&2)===0||e!==Mt)&&(e===Mt&&((vt&2)===0&&(Ai|=n),Kt===4&&Ll(e,ut,Kn,!1)),Ca(e))}function Xh(e,t,n){if((vt&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||za(e,t),i=a?Oy(e,t):Gc(e,t,!0),r=a;do{if(i===0){vr&&!a&&Ll(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Cy(n)){i=Gc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;i=Ns;var _=v.current.memoizedState.isDehydrated;if(_&&(wr(v,p).flags|=256),p=Gc(v,p,!1),p!==2){if(Uc&&!_){v.errorRecoveryDisabledLanes|=r,Ai|=r,i=4;break e}r=Tn,Tn=i,r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){wr(e,0),Ll(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ll(a,t,Kn,!Bl);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=ku+300-hn(),10<i)){if(Ll(a,t,Kn,!Bl),ei(a,0,!0)!==0)break e;il=t,a.timeoutHandle=Sm(Gh.bind(null,a,n,Tn,qu,Lc,t,Kn,Ai,xr,Bl,r,"Throttled",-0,0),i);break e}Gh(a,n,Tn,qu,Lc,t,Kn,Ai,xr,Bl,r,null,-0,0)}}break}while(!0);Ca(e)}function Gh(e,t,n,a,i,r,p,v,_,G,ne,re,$,I){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},qh(t,r,re);var qe=(r&62914560)===r?ku-hn():(r&4194048)===r?Kh-hn():0;if(qe=f0(re,qe),qe!==null){il=r,e.cancelPendingCommit=qe(Ih.bind(null,e,t,r,n,a,i,p,v,_,ne,re,null,$,I)),Ll(e,r,p,!G);return}}Ih(e,t,r,n,a,i,p,v,_)}function Cy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!gn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ll(e,t,n,a){t&=~Hc,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Me(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&ti(e,n,t)}function Uu(){return(vt&6)===0?(Es(0),!1):!0}function Xc(){if(rt!==null){if(wt===0)var e=rt.return;else e=rt,Fa=vi=null,rc(e),dr=null,us=0,e=rt;for(;e!==null;)wh(e.alternate,e),e=e.return;rt=null}}function wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Zy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),il=0,Xc(),Mt=e,rt=n=Va(e.current,null),ut=t,wt=0,Ln=null,Bl=!1,vr=za(e,t),Uc=!1,xr=Kn=Hc=Ai=ql=Kt=0,Tn=Ns=null,Lc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Me(a),r=1<<i;t|=e[i],a&=~r}return ll=t,Pe(),n}function Vh(e,t){Ie=null,K.H=ys,t===fr||t===hu?(t=ud(),wt=3):t===Fo?(t=ud(),wt=4):wt=t===wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ln=t,rt===null&&(Kt=1,Cu(e,Fn(t,e.current)))}function Zh(){var e=Un.current;return e===null?!0:(ut&4194048)===ut?Pn===null:(ut&62914560)===ut||(ut&536870912)!==0?e===Pn:!1}function Fh(){var e=K.H;return K.H=ys,e===null?ys:e}function Jh(){var e=K.A;return K.A=_y,e}function Hu(){Kt=4,Bl||(ut&4194048)!==ut&&Un.current!==null||(vr=!0),(ql&134217727)===0&&(Ai&134217727)===0||Mt===null||Ll(Mt,ut,Kn,!1)}function Gc(e,t,n){var a=vt;vt|=2;var i=Fh(),r=Jh();(Mt!==e||ut!==t)&&(qu=null,wr(e,t)),t=!1;var p=Kt;e:do try{if(wt!==0&&rt!==null){var v=rt,_=Ln;switch(wt){case 8:Xc(),p=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var G=wt;if(wt=0,Ln=null,jr(e,v,_,G),n&&vr){p=0;break e}break;default:G=wt,wt=0,Ln=null,jr(e,v,_,G)}}Ay(),p=Kt;break}catch(ne){Vh(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Fa=vi=null,vt=a,K.H=i,K.A=r,rt===null&&(Mt=null,ut=0,Pe()),p}function Ay(){for(;rt!==null;)$h(rt)}function Oy(e,t){var n=vt;vt|=2;var a=Fh(),i=Jh();Mt!==e||ut!==t?(qu=null,Bu=hn()+500,wr(e,t)):vr=za(e,t);e:do try{if(wt!==0&&rt!==null){t=rt;var r=Ln;t:switch(wt){case 1:wt=0,Ln=null,jr(e,t,r,1);break;case 2:case 9:if(rd(r)){wt=0,Ln=null,Wh(t);break}t=function(){wt!==2&&wt!==9||Mt!==e||(wt=7),Ca(e)},r.then(t,t);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:rd(r)?(wt=0,Ln=null,Wh(t)):(wt=0,Ln=null,jr(e,t,r,7));break;case 5:var p=null;switch(rt.tag){case 26:p=rt.memoizedState;case 5:case 27:var v=rt;if(p?Bm(p):v.stateNode.complete){wt=0,Ln=null;var _=v.sibling;if(_!==null)rt=_;else{var G=v.return;G!==null?(rt=G,Lu(G)):rt=null}break t}}wt=0,Ln=null,jr(e,t,r,5);break;case 6:wt=0,Ln=null,jr(e,t,r,6);break;case 8:Xc(),Kt=6;break e;default:throw Error(d(462))}}Ty();break}catch(ne){Vh(e,ne)}while(!0);return Fa=vi=null,K.H=a,K.A=i,vt=n,rt!==null?0:(Mt=null,ut=0,Pe(),Kt)}function Ty(){for(;rt!==null&&!_n();)$h(rt)}function $h(e){var t=xh(e.alternate,e,ll);e.memoizedProps=e.pendingProps,t===null?Lu(e):rt=t}function Wh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:rc(t);default:wh(n,t),t=rt=Jf(t,ll),t=xh(n,t,ll)}e.memoizedProps=e.pendingProps,t===null?Lu(e):rt=t}function jr(e,t,n,a){Fa=vi=null,rc(t),dr=null,us=0;var i=t.return;try{if(by(e,i,t,n,ut)){Kt=1,Cu(e,Fn(n,e.current)),rt=null;return}}catch(r){if(i!==null)throw rt=i,r;Kt=1,Cu(e,Fn(n,e.current)),rt=null;return}t.flags&32768?(dt||a===1?e=!0:vr||(ut&536870912)!==0?e=!1:(Bl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Un.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ph(t,e)):Lu(t)}function Lu(e){var t=e;do{if((t.flags&32768)!==0){Ph(t,Bl);return}e=t.return;var n=Sy(t.alternate,t,ll);if(n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);Kt===0&&(Kt=5)}function Ph(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,rt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){rt=e;return}rt=e=n}while(e!==null);Kt=6,rt=null}function Ih(e,t,n,a,i,r,p,v,_){e.cancelPendingCommit=null;do Ku();while(It!==0);if((vt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Ke,Br(e,n,r,p,v,_),e===Mt&&(rt=Mt=null,ut=0),Sr=t,Hl=e,il=n,Kc=r,Yc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(fl,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=K.T,K.T=null,i=ge.p,ge.p=2,p=vt,vt|=4;try{jy(e,t,n)}finally{vt=p,ge.p=i,K.T=a}}It=1,em(),tm(),nm()}}function em(){if(It===1){It=0;var e=Hl,t=Sr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=K.T,K.T=null;var a=ge.p;ge.p=2;var i=vt;vt|=4;try{Rh(t,e);var r=af,p=y(e.containerInfo),v=r.focusedElem,_=r.selectionRange;if(p!==v&&v&&v.ownerDocument&&h(v.ownerDocument.documentElement,v)){if(_!==null&&b(v)){var G=_.start,ne=_.end;if(ne===void 0&&(ne=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(ne,v.value.length);else{var re=v.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var I=$.getSelection(),qe=v.textContent.length,Ve=Math.min(_.start,qe),Ot=_.end===void 0?Ve:Math.min(_.end,qe);!I.extend&&Ve>Ot&&(p=Ot,Ot=Ve,Ve=p);var U=c(v,Ve),z=c(v,Ot);if(U&&z&&(I.rangeCount!==1||I.anchorNode!==U.node||I.anchorOffset!==U.offset||I.focusNode!==z.node||I.focusOffset!==z.offset)){var X=re.createRange();X.setStart(U.node,U.offset),I.removeAllRanges(),Ve>Ot?(I.addRange(X),I.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),I.addRange(X))}}}}for(re=[],I=v;I=I.parentNode;)I.nodeType===1&&re.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<re.length;v++){var ie=re[v];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Iu=!!nf,af=nf=null}finally{vt=i,ge.p=a,K.T=n}}e.current=t,It=2}}function tm(){if(It===2){It=0;var e=Hl,t=Sr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=K.T,K.T=null;var a=ge.p;ge.p=2;var i=vt;vt|=4;try{Oh(e,t.alternate,t)}finally{vt=i,ge.p=a,K.T=n}}It=3}}function nm(){if(It===4||It===3){It=0,aa();var e=Hl,t=Sr,n=il,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Sr=Hl=null,am(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ul=null),hl(n),t=t.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ha,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=K.T,i=ge.p,ge.p=2,K.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var v=a[p];r(v.value,{componentStack:v.stack})}}finally{K.T=t,ge.p=i}}(il&3)!==0&&Ku(),Ca(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Qc?_s++:(_s=0,Qc=e):_s=0,Es(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function Ku(){return em(),tm(),nm(),lm()}function lm(){if(It!==5)return!1;var e=Hl,t=Kc;Kc=0;var n=hl(il),a=K.T,i=ge.p;try{ge.p=32>n?32:n,K.T=null,n=Yc,Yc=null;var r=Hl,p=il;if(It=0,Sr=Hl=null,il=0,(vt&6)!==0)throw Error(d(331));var v=vt;if(vt|=4,Hh(r.current),Bh(r,r.current,p,n),vt=v,Es(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ha,r)}catch{}return!0}finally{ge.p=i,K.T=a,am(e,t)}}function im(e,t,n){t=Fn(n,t),t=Sc(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(Qn(e,2),Ca(e))}function jt(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ul===null||!Ul.has(a))){e=Fn(n,e),n=rh(2),a=Ml(t,n,2),a!==null&&(sh(n,a,t,e),Qn(a,2),Ca(a));break}}t=t.return}}function Vc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ey;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Uc=!0,i.add(n),e=Dy.bind(null,e,t,n),t.then(e,e))}function Dy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Mt===e&&(ut&n)===n&&(Kt===4||Kt===3&&(ut&62914560)===ut&&300>hn()-ku?(vt&2)===0&&wr(e,0):Hc|=n,xr===ut&&(xr=0)),Ca(e)}function rm(e,t){t===0&&(t=Zs()),e=St(e,t),e!==null&&(Qn(e,t),Ca(e))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),rm(e,n)}function Ry(e,t){return gt(e,t)}var Yu=null,Nr=null,Zc=!1,Qu=!1,Fc=!1,Kl=0;function Ca(e){e!==Nr&&e.next===null&&(Nr===null?Yu=Nr=e:Nr=Nr.next=e),Qu=!0,Zc||(Zc=!0,By())}function Es(e,t){if(!Fc&&Qu){Fc=!0;do for(var n=!1,a=Yu;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,v=a.pingedLanes;r=(1<<31-Me(42|e)+1)-1,r&=i&~(p&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cm(a,r))}else r=ut,r=ei(a,a===Mt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||za(a,r)||(n=!0,cm(a,r));a=a.next}while(n);Fc=!1}}function ky(){sm()}function sm(){Qu=Zc=!1;var e=0;Kl!==0&&Vy()&&(e=Kl);for(var t=hn(),n=null,a=Yu;a!==null;){var i=a.next,r=um(a,t);r===0?(a.next=null,n===null?Yu=i:n.next=i,i===null&&(Nr=n)):(n=a,(e!==0||(r&3)!==0)&&(Qu=!0)),a=i}It!==0&&It!==5||Es(e),Kl!==0&&(Kl=0)}function um(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-Me(r),v=1<<p,_=i[p];_===-1?((v&n)===0||(v&a)!==0)&&(i[p]=Eo(v,t)):_<=t&&(e.expiredLanes|=v),r&=~v}if(t=Mt,n=ut,n=ei(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Nt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||za(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Nt(a),hl(n)){case 2:case 8:n=da;break;case 32:n=fl;break;case 268435456:n=ki;break;default:n=fl}return a=om.bind(null,e),n=gt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Nt(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ku()&&e.callbackNode!==n)return null;var a=ut;return a=ei(e,e===Mt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xh(e,a,t),um(e,hn()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Ku())return null;Xh(e,t,!0)}function By(){Fy(function(){(vt&6)!==0?gt(mn,ky):sm()})}function Jc(){if(Kl===0){var e=or;e===0&&(e=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Kl=e}return Kl}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qy(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=fm((i[Qt]||null).action),p=a.submitter;p&&(t=(t=p[Qt]||null)?fm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var v=new Qi("action","action",null,a,i);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Kl!==0){var _=p?dm(i,p):new FormData(i);pc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(v.preventDefault(),_=p?dm(i,p):new FormData(i),pc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var $c=0;$c<De.length;$c++){var Wc=De[$c],Uy=Wc.toLowerCase(),Hy=Wc[0].toUpperCase()+Wc.slice(1);fe(Uy,"on"+Hy)}fe(F,"onAnimationEnd"),fe(L,"onAnimationIteration"),fe(te,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(oe,"onTransitionRun"),fe(_e,"onTransitionStart"),fe(Ee,"onTransitionCancel"),fe(ce,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],_=v.instance,G=v.currentTarget;if(v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=G;try{r(i)}catch(ne){Re(ne)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(v=a[p],_=v.instance,G=v.currentTarget,v=v.listener,_!==r&&i.isPropagationStopped())break e;r=v,i.currentTarget=G;try{r(i)}catch(ne){Re(ne)}i.currentTarget=null,r=_}}}}function st(e,t){var n=t[ml];n===void 0&&(n=t[ml]=new Set);var a=e+"__bubble";n.has(a)||(mm(t,e,2,!1),n.add(a))}function Pc(e,t,n){var a=0;t&&(a|=4),mm(n,e,a,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Xu]){e[Xu]=!0,Ra.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||Pc(n,!1,e),Pc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,Pc("selectionchange",!1,t))}}function mm(e,t,n,a){switch(Qm(t)){case 2:var i=m0;break;case 8:i=p0;break;default:i=pf}n=i.bind(null,t,n,e),i=void 0,!Xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ef(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;v!==null;){if(p=ga(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}v=v.parentNode}}a=a.return}yl(function(){var G=r,ne=Ki(n),re=[];e:{var $=ze.get(e);if($!==void 0){var I=Qi,qe=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":I=$i;break;case"focusin":qe="focus",I=xl;break;case"focusout":qe="blur",I=xl;break;case"beforeblur":case"afterblur":I=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Wr;break;case F:case L:case te:I=Ps;break;case ce:I=Pr;break;case"scroll":case"scrollend":I=Xi;break;case"wheel":I=Pi;break;case"copy":case"cut":case"paste":I=Sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=$r;break;case"toggle":case"beforetoggle":I=tu}var Ve=(t&4)!==0,Ot=!Ve&&(e==="scroll"||e==="scrollend"),U=Ve?$!==null?$+"Capture":null:$;Ve=[];for(var z=G,X;z!==null;){var ie=z;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||U===null||(ie=Ha(z,U),ie!=null&&Ve.push(As(z,ie,X))),Ot)break;z=z.return}0<Ve.length&&($=new I($,qe,null,n,ne),re.push({event:$,listeners:Ve}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",$&&n!==Gn&&(qe=n.relatedTarget||n.fromElement)&&(ga(qe)||qe[Sn]))break e;if((I||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,I?(qe=n.relatedTarget||n.toElement,I=G,qe=qe?ga(qe):null,qe!==null&&(Ot=S(qe),Ve=qe.tag,qe!==Ot||Ve!==5&&Ve!==27&&Ve!==6)&&(qe=null)):(I=null,qe=G),I!==qe)){if(Ve=Vi,ie="onMouseLeave",U="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=$r,ie="onPointerLeave",U="onPointerEnter",z="pointer"),Ot=I==null?$:kn(I),X=qe==null?$:kn(qe),$=new Ve(ie,z+"leave",I,n,ne),$.target=Ot,$.relatedTarget=X,ie=null,ga(ne)===G&&(Ve=new Ve(U,z+"enter",qe,n,ne),Ve.target=X,Ve.relatedTarget=Ot,ie=Ve),Ot=ie,I&&qe)t:{for(Ve=Ky,U=I,z=qe,X=0,ie=U;ie;ie=Ve(ie))X++;ie=0;for(var Ye=z;Ye;Ye=Ve(Ye))ie++;for(;0<X-ie;)U=Ve(U),X--;for(;0<ie-X;)z=Ve(z),ie--;for(;X--;){if(U===z||z!==null&&U===z.alternate){Ve=U;break t}U=Ve(U),z=Ve(z)}Ve=null}else Ve=null;I!==null&&pm(re,$,I,Ve,!1),qe!==null&&Ot!==null&&pm(re,Ot,qe,Ve,!0)}}e:{if($=G?kn(G):window,I=$.nodeName&&$.nodeName.toLowerCase(),I==="select"||I==="input"&&$.type==="file")var mt=yi;else if(tr($))if(Zn)mt=Nl;else{mt=Ga;var He=su}else I=$.nodeName,!I||I.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Qr(G.elementType)&&(mt=yi):mt=as;if(mt&&(mt=mt(e,G))){ns(re,mt,n,ne);break e}He&&He(e,$,G),e==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&ui($,"number",$.value)}switch(He=G?kn(G):window,e){case"focusin":(tr(He)||He.contentEditable==="true")&&(j=He,C=G,H=null);break;case"focusout":H=C=j=null;break;case"mousedown":A=!0;break;case"contextmenu":case"mouseup":case"dragend":A=!1,E(re,n,ne);break;case"selectionchange":if(w)break;case"keydown":case"keyup":E(re,n,ne)}var et;if(mi)e:{switch(e){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Qa?ts(e,n)&&(ot="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ot="onCompositionStart");ot&&(Ii&&n.locale!=="ko"&&(Qa||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Qa&&(et=bl()):(Vn=ne,Yi="value"in Vn?Vn.value:Vn.textContent,Qa=!0)),He=Gu(G,ot),0<He.length&&(ot=new Ji(ot,e,null,n,ne),re.push({event:ot,listeners:He}),et?ot.data=et:(et=au(n),et!==null&&(ot.data=et)))),(et=Mo?lu(e,n):zo(e,n))&&(ot=Gu(G,"onBeforeInput"),0<ot.length&&(He=new Ji("onBeforeInput","beforeinput",null,n,ne),re.push({event:He,listeners:ot}),He.data=et)),qy(re,e,G,n,ne)}hm(re,t)})}function As(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gu(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Ha(e,n),i!=null&&a.unshift(As(e,i,r)),i=Ha(e,t),i!=null&&a.push(As(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var v=n,_=v.alternate,G=v.stateNode;if(v=v.tag,_!==null&&_===a)break;v!==5&&v!==26&&v!==27||G===null||(_=G,i?(G=Ha(n,r),G!=null&&p.unshift(As(n,G,_))):i||(G=Ha(n,r),G!=null&&p.push(As(n,G,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Yy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Qy,"")}function gm(e,t){return t=ym(t),ym(e)===t}function At(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ba(e,""+a);break;case"className":ri(e,"class",a);break;case"tabIndex":ri(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(e,n,a);break;case"style":Yr(e,a,r);break;case"data":if(t!=="object"){ri(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=sa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&At(e,t,"name",i.name,i,null),At(e,t,"formEncType",i.formEncType,i,null),At(e,t,"formMethod",i.formMethod,i,null),At(e,t,"formTarget",i.formTarget,i,null)):(At(e,t,"encType",i.encType,i,null),At(e,t,"method",i.method,i,null),At(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=sa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=En);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":st("beforetoggle",e),st("toggle",e),at(e,"popover",a);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":at(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Oo.get(n)||n,at(e,n,a))}}function tf(e,t,n,a,i,r){switch(n){case"style":Yr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&Ba(e,""+a);break;case"onScroll":a!=null&&st("scroll",e);break;case"onScrollEnd":a!=null&&st("scrollend",e);break;case"onClick":a!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!li.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Qt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):at(e,n,a)}}}function dn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:At(e,t,r,p,n,null)}}i&&At(e,t,"srcSet",n.srcSet,n,null),a&&At(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var v=r=p=i=null,_=null,G=null;for(a in n)if(n.hasOwnProperty(a)){var ne=n[a];if(ne!=null)switch(a){case"name":i=ne;break;case"type":p=ne;break;case"checked":_=ne;break;case"defaultChecked":G=ne;break;case"value":r=ne;break;case"defaultValue":v=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(d(137,t));break;default:At(e,t,a,ne,n,null)}}Li(e,r,v,_,G,p,i,!1);return;case"select":st("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(v=n[i],v!=null))switch(i){case"value":r=v;break;case"defaultValue":p=v;break;case"multiple":a=v;default:At(e,t,i,v,n,null)}t=r,n=p,e.multiple=!!a,t!=null?ra(e,!!a,t,!1):n!=null&&ra(e,!!a,n,!0);return;case"textarea":st("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":a=v;break;case"defaultValue":i=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(d(91));break;default:At(e,t,p,v,n,null)}oi(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":At(e,t,_,a,n,null));return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(a=0;a<Cs.length;a++)st(Cs[a],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(a=n[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:At(e,t,G,a,n,null)}return;default:if(Qr(t)){for(ne in n)n.hasOwnProperty(ne)&&(a=n[ne],a!==void 0&&tf(e,t,ne,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&At(e,t,v,a,n,null))}function Xy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,v=null,_=null,G=null,ne=null;for(I in n){var re=n[I];if(n.hasOwnProperty(I)&&re!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=re;default:a.hasOwnProperty(I)||At(e,t,I,null,a,re)}}for(var $ in a){var I=a[$];if(re=n[$],a.hasOwnProperty($)&&(I!=null||re!=null))switch($){case"type":r=I;break;case"name":i=I;break;case"checked":G=I;break;case"defaultChecked":ne=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(d(137,t));break;default:I!==re&&At(e,t,$,I,a,re)}}va(e,p,v,_,G,ne,r,i);return;case"select":I=p=v=$=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":I=_;default:a.hasOwnProperty(r)||At(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":$=r;break;case"defaultValue":v=r;break;case"multiple":p=r;default:r!==_&&At(e,t,i,r,a,_)}t=v,n=p,a=I,$!=null?ra(e,!!n,$,!1):!!a!=!!n&&(t!=null?ra(e,!!n,t,!0):ra(e,!!n,n?[]:"",!1));return;case"textarea":I=$=null;for(v in n)if(i=n[v],n.hasOwnProperty(v)&&i!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:At(e,t,v,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":$=i;break;case"defaultValue":I=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&At(e,t,p,i,a,r)}Kr(e,$,I);return;case"option":for(var qe in n)$=n[qe],n.hasOwnProperty(qe)&&$!=null&&!a.hasOwnProperty(qe)&&(qe==="selected"?e.selected=!1:At(e,t,qe,null,a,$));for(_ in a)$=a[_],I=n[_],a.hasOwnProperty(_)&&$!==I&&($!=null||I!=null)&&(_==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":At(e,t,_,$,a,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in n)$=n[Ve],n.hasOwnProperty(Ve)&&$!=null&&!a.hasOwnProperty(Ve)&&At(e,t,Ve,null,a,$);for(G in a)if($=a[G],I=n[G],a.hasOwnProperty(G)&&$!==I&&($!=null||I!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(d(137,t));break;default:At(e,t,G,$,a,I)}return;default:if(Qr(t)){for(var Ot in n)$=n[Ot],n.hasOwnProperty(Ot)&&$!==void 0&&!a.hasOwnProperty(Ot)&&tf(e,t,Ot,void 0,a,$);for(ne in a)$=a[ne],I=n[ne],!a.hasOwnProperty(ne)||$===I||$===void 0&&I===void 0||tf(e,t,ne,$,a,I);return}}for(var U in n)$=n[U],n.hasOwnProperty(U)&&$!=null&&!a.hasOwnProperty(U)&&At(e,t,U,null,a,$);for(re in a)$=a[re],I=n[re],!a.hasOwnProperty(re)||$===I||$==null&&I==null||At(e,t,re,$,a,I)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,v=i.duration;if(r&&v&&bm(p)){for(p=0,v=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],G=_.startTime;if(G>v)break;var ne=_.transferSize,re=_.initiatorType;ne&&bm(re)&&(_=_.responseEnd,p+=ne*(_<v?1:(v-G)/(_-G)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nf=null,af=null;function Vu(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===rf?!1:(rf=e,!0):(rf=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Zy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(Jy)}:Sm;function Jy(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function jm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ar(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Os(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Os(n);for(var r=n.firstChild;r;){var p=r.nextSibling,v=r.nodeName;r[Rn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Os(e.ownerDocument.body);n=i}while(n);Ar(t)}function Nm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function sf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sf(n),Ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $y(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function Wy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=In(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function uf(e){return e.data==="$?"||e.data==="$~"}function of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cf=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return In(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,n){switch(t=Vu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Os(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var ea=new Map,Om=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rl=ge.d;ge.d={f:Iy,r:e0,D:t0,C:n0,L:a0,m:l0,X:r0,S:i0,M:s0};function Iy(){var e=rl.f(),t=Uu();return e||t}function e0(e){var t=_t(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):rl.r(e)}var _r=typeof document>"u"?null:document;function Tm(e,t,n){var a=_r;if(a&&typeof t=="string"&&t){var i=en(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Om.has(i)||(Om.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),dn(t,"link",e),Xt(t),a.head.appendChild(t)))}}function t0(e){rl.D(e),Tm("dns-prefetch",e,null)}function n0(e,t){rl.C(e,t),Tm("preconnect",e,t)}function a0(e,t,n){rl.L(e,t,n);var a=_r;if(a&&e&&t){var i='link[rel="preload"][as="'+en(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+en(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+en(n.imageSizes)+'"]')):i+='[href="'+en(e)+'"]';var r=i;switch(t){case"style":r=Er(e);break;case"script":r=Cr(e)}ea.has(r)||(e=B({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ea.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ts(r))||t==="script"&&a.querySelector(Ds(r))||(t=a.createElement("link"),dn(t,"link",e),Xt(t),a.head.appendChild(t)))}}function l0(e,t){rl.m(e,t);var n=_r;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+en(a)+'"][href="'+en(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cr(e)}if(!ea.has(r)&&(e=B({rel:"modulepreload",href:e},t),ea.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ds(r)))return}a=n.createElement("link"),dn(a,"link",e),Xt(a),n.head.appendChild(a)}}}function i0(e,t,n){rl.S(e,t,n);var a=_r;if(a&&e){var i=pn(a).hoistableStyles,r=Er(e);t=t||"default";var p=i.get(r);if(!p){var v={loading:0,preload:null};if(p=a.querySelector(Ts(r)))v.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ea.get(r))&&ff(e,n);var _=p=a.createElement("link");Xt(_),dn(_,"link",e),_._p=new Promise(function(G,ne){_.onload=G,_.onerror=ne}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Fu(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:v},i.set(r,p)}}}function r0(e,t){rl.X(e,t);var n=_r;if(n&&e){var a=pn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ds(i)),r||(e=B({src:e,async:!0},t),(t=ea.get(i))&&df(e,t),r=n.createElement("script"),Xt(r),dn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function s0(e,t){rl.M(e,t);var n=_r;if(n&&e){var a=pn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ds(i)),r||(e=B({src:e,async:!0,type:"module"},t),(t=ea.get(i))&&df(e,t),r=n.createElement("script"),Xt(r),dn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Dm(e,t,n,a){var i=(i=ct.current)?Zu(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Er(n.href),n=pn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Er(n.href);var r=pn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ts(e)))&&!r._p&&(p.instance=r,p.state.loading=5),ea.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ea.set(e,n),r||u0(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=pn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Er(e){return'href="'+en(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function u0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dn(t,"link",n),Xt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+en(e)+'"]'}function Ds(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+en(n.href)+'"]');if(a)return t.instance=a,Xt(a),a;var i=B({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Xt(a),dn(a,"style",i),Fu(a,n.precedence,e),t.instance=a;case"stylesheet":i=Er(n.href);var r=e.querySelector(Ts(i));if(r)return t.state.loading|=4,t.instance=r,Xt(r),r;a=Mm(n),(i=ea.get(i))&&ff(a,i),r=(e.ownerDocument||e).createElement("link"),Xt(r);var p=r;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),dn(r,"link",a),t.state.loading|=4,Fu(r,n.precedence,e),t.instance=r;case"script":return r=Cr(n.src),(i=e.querySelector(Ds(r)))?(t.instance=i,Xt(i),i):(a=n,(i=ea.get(r))&&(a=B({},n),df(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Xt(i),dn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Fu(a,n.precedence,e));return t.instance}function Fu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var v=a[p];if(v.dataset.precedence===t)r=v;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ff(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function df(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ju=null;function Rm(e,t,n){if(Ju===null){var a=new Map,i=Ju=new Map;i.set(n,a)}else i=Ju,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Rn]||r[zt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var v=a.get(p);v?v.push(r):a.set(p,[r])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Er(a.href),r=t.querySelector(Ts(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$u.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Xt(r);return}r=t.ownerDocument||t,a=Mm(a),(i=ea.get(i))&&ff(a,i),r=r.createElement("link"),Xt(r);var p=r;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),dn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=$u.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var hf=0;function f0(e,t){return e.stylesheets&&e.count===0&&Pu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Pu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&hf===0&&(hf=62500*Gy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pu(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>hf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function Pu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(d0,e),Wu=null,$u.call(e))}function d0(e,t){if(!(t.state.loading&4)){var n=Wu.get(e);if(n)var a=n.get(null);else{n=new Map,Wu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=$u.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ms={$$typeof:xe,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function h0(e,t,n,a,i,r,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.hiddenUpdates=ma(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,n,a,i,r,p,v,_,G,ne,re){return e=new h0(e,t,n,p,_,G,ne,re,v),t=1,r===!0&&(t|=24),r=qn(3,null,null,t),e.current=r,r.stateNode=e,t=Go(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Jo(r),e}function Um(e){return e?(e=lr,e):lr}function Hm(e,t,n,a,i,r){i=Um(i),a.context===null?a.context=i:a.pendingContext=i,a=Dl(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Ml(e,a,t),n!==null&&(Dn(n,e,t),cs(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Km(e){if(e.tag===13||e.tag===31){var t=St(e,67108864);t!==null&&Dn(t,e,67108864),mf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Yn();t=qr(t);var n=St(e,t);n!==null&&Dn(n,e,t),mf(e,t)}}var Iu=!0;function m0(e,t,n,a){var i=K.T;K.T=null;var r=ge.p;try{ge.p=2,pf(e,t,n,a)}finally{ge.p=r,K.T=i}}function p0(e,t,n,a){var i=K.T;K.T=null;var r=ge.p;try{ge.p=8,pf(e,t,n,a)}finally{ge.p=r,K.T=i}}function pf(e,t,n,a){if(Iu){var i=yf(a);if(i===null)ef(e,t,a,eo,n),Xm(e,a);else if(g0(i,e,t,n,a))a.stopPropagation();else if(Xm(e,a),t&4&&-1<y0.indexOf(e)){for(;i!==null;){var r=_t(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=la(r.pendingLanes);if(p!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-Me(p);v.entanglements[1]|=_,p&=~_}Ca(r),(vt&6)===0&&(Bu=hn()+500,Es(0))}}break;case 31:case 13:v=St(r,2),v!==null&&Dn(v,r,2),Uu(),mf(r,2)}if(r=yf(a),r===null&&ef(e,t,a,eo,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else ef(e,t,a,null,n)}}function yf(e){return e=Ki(e),gf(e)}var eo=null;function gf(e){if(eo=null,e=ga(e),e!==null){var t=S(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=x(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eo=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case mn:return 2;case da:return 8;case fl:case Wl:return 32;case ki:return 268435456;default:return 32}default:return 32}}var bf=!1,Ql=null,Xl=null,Gl=null,zs=new Map,Rs=new Map,Vl=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ks(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=_t(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g0(e,t,n,a,i){switch(t){case"focusin":return Ql=ks(Ql,e,t,n,a,i),!0;case"dragenter":return Xl=ks(Xl,e,t,n,a,i),!0;case"mouseover":return Gl=ks(Gl,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return zs.set(r,ks(zs.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Rs.set(r,ks(Rs.get(r)||null,e,t,n,a,i)),!0}return!1}function Gm(e){var t=ga(e.target);if(t!==null){var n=S(t);if(n!==null){if(t=n.tag,t===13){if(t=x(n),t!==null){e.blockedOn=t,ai(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ai(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Gn=a,n.target.dispatchEvent(a),Gn=null}else return t=_t(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){to(e)&&n.delete(t)}function b0(){bf=!1,Ql!==null&&to(Ql)&&(Ql=null),Xl!==null&&to(Xl)&&(Xl=null),Gl!==null&&to(Gl)&&(Gl=null),zs.forEach(Vm),Rs.forEach(Vm)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,bf||(bf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,b0)))}var ao=null;function Zm(e){ao!==e&&(ao=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(gf(a||n)===null)continue;break}var r=_t(n);r!==null&&(e.splice(t,3),t-=3,pc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ar(e){function t(_){return no(_,e)}Ql!==null&&no(Ql,e),Xl!==null&&no(Xl,e),Gl!==null&&no(Gl,e),zs.forEach(t),Rs.forEach(t);for(var n=0;n<Vl.length;n++){var a=Vl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)Gm(n),n.blockedOn===null&&Vl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[Qt]||null;if(typeof r=="function")p||Zm(n);else if(p){var v=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[Qt]||null)v=p.formAction;else if(gf(i)!==null)continue}else v=p.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),Zm(n)}}}function Fm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vf(e){this._internalRoot=e}lo.prototype.render=vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Yn();Hm(n,a,e,t,null,null)},lo.prototype.unmount=vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Uu(),t[Sn]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ni();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vl.length&&t!==0&&t<Vl[n].priority;n++);Vl.splice(n,0,e),n===0&&Gm(e)}};var Jm=o.version;if(Jm!=="19.2.4")throw Error(d(527,Jm,"19.2.4"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=D(t),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{ha=io.inject(v0),rn=io}catch{}}return Bs.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",i=nh,r=ah,p=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qm(e,1,!1,null,null,n,a,null,i,r,p,Fm),e[Sn]=t.current,Ic(e),new vf(t)},Bs.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,i="",r=nh,p=ah,v=lh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=qm(e,1,!0,t,n??null,a,i,_,r,p,v,Fm),t.context=Um(null),n=t.current,a=Yn(),a=qr(a),i=Dl(a),i.callback=null,Ml(n,i,a),n=a,t.current.lanes=n,Qn(t,n),Ca(t),e[Sn]=t.current,Ic(e),new lo(t)},Bs.version="19.2.4",Bs}var Im;function B0(){if(Im)return xf.exports;Im=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(o){console.error(o)}}return u(),xf.exports=k0(),xf.exports}var q0=B0();const ep=u=>{let o;const m=new Set,d=(D,k)=>{const B=typeof D=="function"?D(o):D;if(!Object.is(B,o)){const W=o;o=k??(typeof B!="object"||B===null)?B:Object.assign({},o,B),m.forEach(me=>me(o,W))}},g=()=>o,N={setState:d,getState:g,getInitialState:()=>q,subscribe:D=>(m.add(D),()=>m.delete(D))},q=o=u(d,g,N);return N},U0=(u=>u?ep(u):ep),H0=u=>u;function L0(u,o=H0){const m=ro.useSyncExternalStore(u.subscribe,ro.useCallback(()=>o(u.getState()),[u,o]),ro.useCallback(()=>o(u.getInitialState()),[u,o]));return ro.useDebugValue(m),m}const tp=u=>{const o=U0(u),m=d=>L0(o,d);return Object.assign(m,o),m},K0=(u=>u?tp(u):tp);function Y0(u,o){let m;try{m=u()}catch{return}return{getItem:g=>{var S;const x=q=>q===null?null:JSON.parse(q,void 0),N=(S=m.getItem(g))!=null?S:null;return N instanceof Promise?N.then(x):x(N)},setItem:(g,S)=>m.setItem(g,JSON.stringify(S,void 0)),removeItem:g=>m.removeItem(g)}}const Af=u=>o=>{try{const m=u(o);return m instanceof Promise?m:{then(d){return Af(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Af(d)(m)}}}},Q0=(u,o)=>(m,d,g)=>{let S={storage:Y0(()=>window.localStorage),partialize:Z=>Z,version:0,merge:(Z,Ae)=>({...Ae,...Z}),...o},x=!1,N=0;const q=new Set,D=new Set;let k=S.storage;if(!k)return u((...Z)=>{console.warn(`[zustand persist middleware] Unable to update item '${S.name}', the given storage is currently unavailable.`),m(...Z)},d,g);const B=()=>{const Z=S.partialize({...d()});return k.setItem(S.name,{state:Z,version:S.version})},W=g.setState;g.setState=(Z,Ae)=>(W(Z,Ae),B());const me=u((...Z)=>(m(...Z),B()),d,g);g.getInitialState=()=>me;let Q;const le=()=>{var Z,Ae;if(!k)return;const ue=++N;x=!1,q.forEach(ee=>{var we;return ee((we=d())!=null?we:me)});const xe=((Ae=S.onRehydrateStorage)==null?void 0:Ae.call(S,(Z=d())!=null?Z:me))||void 0;return Af(k.getItem.bind(k))(S.name).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==S.version){if(S.migrate){const we=S.migrate(ee.state,ee.version);return we instanceof Promise?we.then(ye=>[!0,ye]):[!0,we]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ee.state];return[!1,void 0]}).then(ee=>{var we;if(ue!==N)return;const[ye,Ne]=ee;if(Q=S.merge(Ne,(we=d())!=null?we:me),m(Q,!0),ye)return B()}).then(()=>{ue===N&&(xe?.(Q,void 0),Q=d(),x=!0,D.forEach(ee=>ee(Q)))}).catch(ee=>{ue===N&&xe?.(void 0,ee)})};return g.persist={setOptions:Z=>{S={...S,...Z},Z.storage&&(k=Z.storage)},clearStorage:()=>{k?.removeItem(S.name)},getOptions:()=>S,rehydrate:()=>le(),hasHydrated:()=>x,onHydrate:Z=>(q.add(Z),()=>{q.delete(Z)}),onFinishHydration:Z=>(D.add(Z),()=>{D.delete(Z)})},S.skipHydration||le(),Q||me},X0=Q0,cl=K0(X0(u=>({token:null,setToken:o=>u({token:o}),logout:()=>u({token:null})}),{name:"wisemark-auth",partialize:u=>({token:u.token})}));function Tp(u,o){return function(){return u.apply(o,arguments)}}const{toString:G0}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:xo,toStringTag:Dp}=Symbol,So=(u=>o=>{const m=G0.call(o);return u[m]||(u[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),fa=u=>(u=u.toLowerCase(),o=>So(o)===u),wo=u=>o=>typeof o===u,{isArray:kr}=Array,Dr=wo("undefined");function Ys(u){return u!==null&&!Dr(u)&&u.constructor!==null&&!Dr(u.constructor)&&Mn(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const Mp=fa("ArrayBuffer");function V0(u){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(u):o=u&&u.buffer&&Mp(u.buffer),o}const Z0=wo("string"),Mn=wo("function"),zp=wo("number"),Qs=u=>u!==null&&typeof u=="object",F0=u=>u===!0||u===!1,oo=u=>{if(So(u)!=="object")return!1;const o=Hf(u);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Dp in u)&&!(xo in u)},J0=u=>{if(!Qs(u)||Ys(u))return!1;try{return Object.keys(u).length===0&&Object.getPrototypeOf(u)===Object.prototype}catch{return!1}},$0=fa("Date"),W0=fa("File"),P0=fa("Blob"),I0=fa("FileList"),eg=u=>Qs(u)&&Mn(u.pipe),tg=u=>{let o;return u&&(typeof FormData=="function"&&u instanceof FormData||Mn(u.append)&&((o=So(u))==="formdata"||o==="object"&&Mn(u.toString)&&u.toString()==="[object FormData]"))},ng=fa("URLSearchParams"),[ag,lg,ig,rg]=["ReadableStream","Request","Response","Headers"].map(fa),sg=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(u,o,{allOwnKeys:m=!1}={}){if(u===null||typeof u>"u")return;let d,g;if(typeof u!="object"&&(u=[u]),kr(u))for(d=0,g=u.length;d<g;d++)o.call(null,u[d],d,u);else{if(Ys(u))return;const S=m?Object.getOwnPropertyNames(u):Object.keys(u),x=S.length;let N;for(d=0;d<x;d++)N=S[d],o.call(null,u[N],N,u)}}function Rp(u,o){if(Ys(u))return null;o=o.toLowerCase();const m=Object.keys(u);let d=m.length,g;for(;d-- >0;)if(g=m[d],o===g.toLowerCase())return g;return null}const Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kp=u=>!Dr(u)&&u!==Oi;function Of(){const{caseless:u,skipUndefined:o}=kp(this)&&this||{},m={},d=(g,S)=>{if(S==="__proto__"||S==="constructor"||S==="prototype")return;const x=u&&Rp(m,S)||S;oo(m[x])&&oo(g)?m[x]=Of(m[x],g):oo(g)?m[x]=Of({},g):kr(g)?m[x]=g.slice():(!o||!Dr(g))&&(m[x]=g)};for(let g=0,S=arguments.length;g<S;g++)arguments[g]&&Xs(arguments[g],d);return m}const ug=(u,o,m,{allOwnKeys:d}={})=>(Xs(o,(g,S)=>{m&&Mn(g)?Object.defineProperty(u,S,{value:Tp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(u,S,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),u),og=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),cg=(u,o,m,d)=>{u.prototype=Object.create(o.prototype,d),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(u,"super",{value:o.prototype}),m&&Object.assign(u.prototype,m)},fg=(u,o,m,d)=>{let g,S,x;const N={};if(o=o||{},u==null)return o;do{for(g=Object.getOwnPropertyNames(u),S=g.length;S-- >0;)x=g[S],(!d||d(x,u,o))&&!N[x]&&(o[x]=u[x],N[x]=!0);u=m!==!1&&Hf(u)}while(u&&(!m||m(u,o))&&u!==Object.prototype);return o},dg=(u,o,m)=>{u=String(u),(m===void 0||m>u.length)&&(m=u.length),m-=o.length;const d=u.indexOf(o,m);return d!==-1&&d===m},hg=u=>{if(!u)return null;if(kr(u))return u;let o=u.length;if(!zp(o))return null;const m=new Array(o);for(;o-- >0;)m[o]=u[o];return m},mg=(u=>o=>u&&o instanceof u)(typeof Uint8Array<"u"&&Hf(Uint8Array)),pg=(u,o)=>{const d=(u&&u[xo]).call(u);let g;for(;(g=d.next())&&!g.done;){const S=g.value;o.call(u,S[0],S[1])}},yg=(u,o)=>{let m;const d=[];for(;(m=u.exec(o))!==null;)d.push(m);return d},gg=fa("HTMLFormElement"),bg=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),np=(({hasOwnProperty:u})=>(o,m)=>u.call(o,m))(Object.prototype),vg=fa("RegExp"),Bp=(u,o)=>{const m=Object.getOwnPropertyDescriptors(u),d={};Xs(m,(g,S)=>{let x;(x=o(g,S,u))!==!1&&(d[S]=x||g)}),Object.defineProperties(u,d)},xg=u=>{Bp(u,(o,m)=>{if(Mn(u)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=u[m];if(Mn(d)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Sg=(u,o)=>{const m={},d=g=>{g.forEach(S=>{m[S]=!0})};return kr(u)?d(u):d(String(u).split(o)),m},wg=()=>{},jg=(u,o)=>u!=null&&Number.isFinite(u=+u)?u:o;function Ng(u){return!!(u&&Mn(u.append)&&u[Dp]==="FormData"&&u[xo])}const _g=u=>{const o=new Array(10),m=(d,g)=>{if(Qs(d)){if(o.indexOf(d)>=0)return;if(Ys(d))return d;if(!("toJSON"in d)){o[g]=d;const S=kr(d)?[]:{};return Xs(d,(x,N)=>{const q=m(x,g+1);!Dr(q)&&(S[N]=q)}),o[g]=void 0,S}}return d};return m(u,0)},Eg=fa("AsyncFunction"),Cg=u=>u&&(Qs(u)||Mn(u))&&Mn(u.then)&&Mn(u.catch),qp=((u,o)=>u?setImmediate:o?((m,d)=>(Oi.addEventListener("message",({source:g,data:S})=>{g===Oi&&S===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Oi.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Mn(Oi.postMessage)),Ag=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof process<"u"&&process.nextTick||qp,Og=u=>u!=null&&Mn(u[xo]),P={isArray:kr,isArrayBuffer:Mp,isBuffer:Ys,isFormData:tg,isArrayBufferView:V0,isString:Z0,isNumber:zp,isBoolean:F0,isObject:Qs,isPlainObject:oo,isEmptyObject:J0,isReadableStream:ag,isRequest:lg,isResponse:ig,isHeaders:rg,isUndefined:Dr,isDate:$0,isFile:W0,isBlob:P0,isRegExp:vg,isFunction:Mn,isStream:eg,isURLSearchParams:ng,isTypedArray:mg,isFileList:I0,forEach:Xs,merge:Of,extend:ug,trim:sg,stripBOM:og,inherits:cg,toFlatObject:fg,kindOf:So,kindOfTest:fa,endsWith:dg,toArray:hg,forEachEntry:pg,matchAll:yg,isHTMLForm:gg,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:Bp,freezeMethods:xg,toObjectSet:Sg,toCamelCase:bg,noop:wg,toFiniteNumber:jg,findKey:Rp,global:Oi,isContextDefined:kp,isSpecCompliantForm:Ng,toJSONObject:_g,isAsyncFn:Eg,isThenable:Cg,setImmediate:qp,asap:Ag,isIterable:Og};let Je=class Up extends Error{static from(o,m,d,g,S,x){const N=new Up(o.message,m||o.code,d,g,S);return N.cause=o,N.name=o.name,x&&Object.assign(N,x),N}constructor(o,m,d,g,S){super(o),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),S&&(this.response=S,this.status=S.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}};Je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Je.ERR_BAD_OPTION="ERR_BAD_OPTION";Je.ECONNABORTED="ECONNABORTED";Je.ETIMEDOUT="ETIMEDOUT";Je.ERR_NETWORK="ERR_NETWORK";Je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Je.ERR_DEPRECATED="ERR_DEPRECATED";Je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Je.ERR_CANCELED="ERR_CANCELED";Je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Je.ERR_INVALID_URL="ERR_INVALID_URL";const Tg=null;function Tf(u){return P.isPlainObject(u)||P.isArray(u)}function Hp(u){return P.endsWith(u,"[]")?u.slice(0,-2):u}function ap(u,o,m){return u?u.concat(o).map(function(g,S){return g=Hp(g),!m&&S?"["+g+"]":g}).join(m?".":""):o}function Dg(u){return P.isArray(u)&&!u.some(Tf)}const Mg=P.toFlatObject(P,{},null,function(o){return/^is[A-Z]/.test(o)});function jo(u,o,m){if(!P.isObject(u))throw new TypeError("target must be an object");o=o||new FormData,m=P.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(le,Z){return!P.isUndefined(Z[le])});const d=m.metaTokens,g=m.visitor||k,S=m.dots,x=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(o);if(!P.isFunction(g))throw new TypeError("visitor must be a function");function D(Q){if(Q===null)return"";if(P.isDate(Q))return Q.toISOString();if(P.isBoolean(Q))return Q.toString();if(!q&&P.isBlob(Q))throw new Je("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(Q)||P.isTypedArray(Q)?q&&typeof Blob=="function"?new Blob([Q]):Buffer.from(Q):Q}function k(Q,le,Z){let Ae=Q;if(Q&&!Z&&typeof Q=="object"){if(P.endsWith(le,"{}"))le=d?le:le.slice(0,-2),Q=JSON.stringify(Q);else if(P.isArray(Q)&&Dg(Q)||(P.isFileList(Q)||P.endsWith(le,"[]"))&&(Ae=P.toArray(Q)))return le=Hp(le),Ae.forEach(function(xe,ee){!(P.isUndefined(xe)||xe===null)&&o.append(x===!0?ap([le],ee,S):x===null?le:le+"[]",D(xe))}),!1}return Tf(Q)?!0:(o.append(ap(Z,le,S),D(Q)),!1)}const B=[],W=Object.assign(Mg,{defaultVisitor:k,convertValue:D,isVisitable:Tf});function me(Q,le){if(!P.isUndefined(Q)){if(B.indexOf(Q)!==-1)throw Error("Circular reference detected in "+le.join("."));B.push(Q),P.forEach(Q,function(Ae,ue){(!(P.isUndefined(Ae)||Ae===null)&&g.call(o,Ae,P.isString(ue)?ue.trim():ue,le,W))===!0&&me(Ae,le?le.concat(ue):[ue])}),B.pop()}}if(!P.isObject(u))throw new TypeError("data must be an object");return me(u),o}function lp(u){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(d){return o[d]})}function Lf(u,o){this._pairs=[],u&&jo(u,this,o)}const Lp=Lf.prototype;Lp.append=function(o,m){this._pairs.push([o,m])};Lp.toString=function(o){const m=o?function(d){return o.call(this,d,lp)}:lp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function zg(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Kp(u,o,m){if(!o)return u;const d=m&&m.encode||zg,g=P.isFunction(m)?{serialize:m}:m,S=g&&g.serialize;let x;if(S?x=S(o,g):x=P.isURLSearchParams(o)?o.toString():new Lf(o,g).toString(d),x){const N=u.indexOf("#");N!==-1&&(u=u.slice(0,N)),u+=(u.indexOf("?")===-1?"?":"&")+x}return u}class ip{constructor(){this.handlers=[]}use(o,m,d){return this.handlers.push({fulfilled:o,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){P.forEach(this.handlers,function(d){d!==null&&o(d)})}}const Kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Rg=typeof URLSearchParams<"u"?URLSearchParams:Lf,kg=typeof FormData<"u"?FormData:null,Bg=typeof Blob<"u"?Blob:null,qg={isBrowser:!0,classes:{URLSearchParams:Rg,FormData:kg,Blob:Bg},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Df=typeof navigator=="object"&&navigator||void 0,Ug=Yf&&(!Df||["ReactNative","NativeScript","NS"].indexOf(Df.product)<0),Hg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lg=Yf&&window.location.href||"http://localhost",Kg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:Ug,hasStandardBrowserWebWorkerEnv:Hg,navigator:Df,origin:Lg},Symbol.toStringTag,{value:"Module"})),vn={...Kg,...qg};function Yg(u,o){return jo(u,new vn.classes.URLSearchParams,{visitor:function(m,d,g,S){return vn.isNode&&P.isBuffer(m)?(this.append(d,m.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)},...o})}function Qg(u){return P.matchAll(/\w+|\[(\w*)]/g,u).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Xg(u){const o={},m=Object.keys(u);let d;const g=m.length;let S;for(d=0;d<g;d++)S=m[d],o[S]=u[S];return o}function Yp(u){function o(m,d,g,S){let x=m[S++];if(x==="__proto__")return!0;const N=Number.isFinite(+x),q=S>=m.length;return x=!x&&P.isArray(g)?g.length:x,q?(P.hasOwnProp(g,x)?g[x]=[g[x],d]:g[x]=d,!N):((!g[x]||!P.isObject(g[x]))&&(g[x]=[]),o(m,d,g[x],S)&&P.isArray(g[x])&&(g[x]=Xg(g[x])),!N)}if(P.isFormData(u)&&P.isFunction(u.entries)){const m={};return P.forEachEntry(u,(d,g)=>{o(Qg(d),g,m,0)}),m}return null}function Gg(u,o,m){if(P.isString(u))try{return(o||JSON.parse)(u),P.trim(u)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(u)}const Gs={transitional:Kf,adapter:["xhr","http","fetch"],transformRequest:[function(o,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,S=P.isObject(o);if(S&&P.isHTMLForm(o)&&(o=new FormData(o)),P.isFormData(o))return g?JSON.stringify(Yp(o)):o;if(P.isArrayBuffer(o)||P.isBuffer(o)||P.isStream(o)||P.isFile(o)||P.isBlob(o)||P.isReadableStream(o))return o;if(P.isArrayBufferView(o))return o.buffer;if(P.isURLSearchParams(o))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let N;if(S){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Yg(o,this.formSerializer).toString();if((N=P.isFileList(o))||d.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return jo(N?{"files[]":o}:o,q&&new q,this.formSerializer)}}return S||g?(m.setContentType("application/json",!1),Gg(o)):o}],transformResponse:[function(o){const m=this.transitional||Gs.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(P.isResponse(o)||P.isReadableStream(o))return o;if(o&&P.isString(o)&&(d&&!this.responseType||g)){const x=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(o,this.parseReviver)}catch(N){if(x)throw N.name==="SyntaxError"?Je.from(N,Je.ERR_BAD_RESPONSE,this,null,this.response):N}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],u=>{Gs.headers[u]={}});const Vg=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zg=u=>{const o={};let m,d,g;return u&&u.split(`
`).forEach(function(x){g=x.indexOf(":"),m=x.substring(0,g).trim().toLowerCase(),d=x.substring(g+1).trim(),!(!m||o[m]&&Vg[m])&&(m==="set-cookie"?o[m]?o[m].push(d):o[m]=[d]:o[m]=o[m]?o[m]+", "+d:d)}),o},rp=Symbol("internals");function qs(u){return u&&String(u).trim().toLowerCase()}function co(u){return u===!1||u==null?u:P.isArray(u)?u.map(co):String(u)}function Fg(u){const o=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(u);)o[d[1]]=d[2];return o}const Jg=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function jf(u,o,m,d,g){if(P.isFunction(d))return d.call(this,o,m);if(g&&(o=m),!!P.isString(o)){if(P.isString(d))return o.indexOf(d)!==-1;if(P.isRegExp(d))return d.test(o)}}function $g(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,m,d)=>m.toUpperCase()+d)}function Wg(u,o){const m=P.toCamelCase(" "+o);["get","set","has"].forEach(d=>{Object.defineProperty(u,d+m,{value:function(g,S,x){return this[d].call(this,o,g,S,x)},configurable:!0})})}let zn=class{constructor(o){o&&this.set(o)}set(o,m,d){const g=this;function S(N,q,D){const k=qs(q);if(!k)throw new Error("header name must be a non-empty string");const B=P.findKey(g,k);(!B||g[B]===void 0||D===!0||D===void 0&&g[B]!==!1)&&(g[B||q]=co(N))}const x=(N,q)=>P.forEach(N,(D,k)=>S(D,k,q));if(P.isPlainObject(o)||o instanceof this.constructor)x(o,m);else if(P.isString(o)&&(o=o.trim())&&!Jg(o))x(Zg(o),m);else if(P.isObject(o)&&P.isIterable(o)){let N={},q,D;for(const k of o){if(!P.isArray(k))throw TypeError("Object iterator must return a key-value pair");N[D=k[0]]=(q=N[D])?P.isArray(q)?[...q,k[1]]:[q,k[1]]:k[1]}x(N,m)}else o!=null&&S(m,o,d);return this}get(o,m){if(o=qs(o),o){const d=P.findKey(this,o);if(d){const g=this[d];if(!m)return g;if(m===!0)return Fg(g);if(P.isFunction(m))return m.call(this,g,d);if(P.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,m){if(o=qs(o),o){const d=P.findKey(this,o);return!!(d&&this[d]!==void 0&&(!m||jf(this,this[d],d,m)))}return!1}delete(o,m){const d=this;let g=!1;function S(x){if(x=qs(x),x){const N=P.findKey(d,x);N&&(!m||jf(d,d[N],N,m))&&(delete d[N],g=!0)}}return P.isArray(o)?o.forEach(S):S(o),g}clear(o){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const S=m[d];(!o||jf(this,this[S],S,o,!0))&&(delete this[S],g=!0)}return g}normalize(o){const m=this,d={};return P.forEach(this,(g,S)=>{const x=P.findKey(d,S);if(x){m[x]=co(g),delete m[S];return}const N=o?$g(S):String(S).trim();N!==S&&delete m[S],m[N]=co(g),d[N]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const m=Object.create(null);return P.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=o&&P.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,m])=>o+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...m){const d=new this(o);return m.forEach(g=>d.set(g)),d}static accessor(o){const d=(this[rp]=this[rp]={accessors:{}}).accessors,g=this.prototype;function S(x){const N=qs(x);d[N]||(Wg(g,x),d[N]=!0)}return P.isArray(o)?o.forEach(S):S(o),this}};zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(zn.prototype,({value:u},o)=>{let m=o[0].toUpperCase()+o.slice(1);return{get:()=>u,set(d){this[m]=d}}});P.freezeMethods(zn);function Nf(u,o){const m=this||Gs,d=o||m,g=zn.from(d.headers);let S=d.data;return P.forEach(u,function(N){S=N.call(m,S,g.normalize(),o?o.status:void 0)}),g.normalize(),S}function Qp(u){return!!(u&&u.__CANCEL__)}let Vs=class extends Je{constructor(o,m,d){super(o??"canceled",Je.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Xp(u,o,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?u(m):o(new Je("Request failed with status code "+m.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Pg(u){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return o&&o[1]||""}function Ig(u,o){u=u||10;const m=new Array(u),d=new Array(u);let g=0,S=0,x;return o=o!==void 0?o:1e3,function(q){const D=Date.now(),k=d[S];x||(x=D),m[g]=q,d[g]=D;let B=S,W=0;for(;B!==g;)W+=m[B++],B=B%u;if(g=(g+1)%u,g===S&&(S=(S+1)%u),D-x<o)return;const me=k&&D-k;return me?Math.round(W*1e3/me):void 0}}function eb(u,o){let m=0,d=1e3/o,g,S;const x=(D,k=Date.now())=>{m=k,g=null,S&&(clearTimeout(S),S=null),u(...D)};return[(...D)=>{const k=Date.now(),B=k-m;B>=d?x(D,k):(g=D,S||(S=setTimeout(()=>{S=null,x(g)},d-B)))},()=>g&&x(g)]}const po=(u,o,m=3)=>{let d=0;const g=Ig(50,250);return eb(S=>{const x=S.loaded,N=S.lengthComputable?S.total:void 0,q=x-d,D=g(q),k=x<=N;d=x;const B={loaded:x,total:N,progress:N?x/N:void 0,bytes:q,rate:D||void 0,estimated:D&&N&&k?(N-x)/D:void 0,event:S,lengthComputable:N!=null,[o?"download":"upload"]:!0};u(B)},m)},sp=(u,o)=>{const m=u!=null;return[d=>o[0]({lengthComputable:m,total:u,loaded:d}),o[1]]},up=u=>(...o)=>P.asap(()=>u(...o)),tb=vn.hasStandardBrowserEnv?((u,o)=>m=>(m=new URL(m,vn.origin),u.protocol===m.protocol&&u.host===m.host&&(o||u.port===m.port)))(new URL(vn.origin),vn.navigator&&/(msie|trident)/i.test(vn.navigator.userAgent)):()=>!0,nb=vn.hasStandardBrowserEnv?{write(u,o,m,d,g,S,x){if(typeof document>"u")return;const N=[`${u}=${encodeURIComponent(o)}`];P.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),P.isString(d)&&N.push(`path=${d}`),P.isString(g)&&N.push(`domain=${g}`),S===!0&&N.push("secure"),P.isString(x)&&N.push(`SameSite=${x}`),document.cookie=N.join("; ")},read(u){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+u+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(u){this.write(u,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ab(u){return typeof u!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function lb(u,o){return o?u.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):u}function Gp(u,o,m){let d=!ab(o);return u&&(d||m==!1)?lb(u,o):o}const op=u=>u instanceof zn?{...u}:u;function Mi(u,o){o=o||{};const m={};function d(D,k,B,W){return P.isPlainObject(D)&&P.isPlainObject(k)?P.merge.call({caseless:W},D,k):P.isPlainObject(k)?P.merge({},k):P.isArray(k)?k.slice():k}function g(D,k,B,W){if(P.isUndefined(k)){if(!P.isUndefined(D))return d(void 0,D,B,W)}else return d(D,k,B,W)}function S(D,k){if(!P.isUndefined(k))return d(void 0,k)}function x(D,k){if(P.isUndefined(k)){if(!P.isUndefined(D))return d(void 0,D)}else return d(void 0,k)}function N(D,k,B){if(B in o)return d(D,k);if(B in u)return d(void 0,D)}const q={url:S,method:S,data:S,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:N,headers:(D,k,B)=>g(op(D),op(k),B,!0)};return P.forEach(Object.keys({...u,...o}),function(k){if(k==="__proto__"||k==="constructor"||k==="prototype")return;const B=P.hasOwnProp(q,k)?q[k]:g,W=B(u[k],o[k],k);P.isUndefined(W)&&B!==N||(m[k]=W)}),m}const Vp=u=>{const o=Mi({},u);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:S,headers:x,auth:N}=o;if(o.headers=x=zn.from(x),o.url=Kp(Gp(o.baseURL,o.url,o.allowAbsoluteUrls),u.params,u.paramsSerializer),N&&x.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),P.isFormData(m)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(P.isFunction(m.getHeaders)){const q=m.getHeaders(),D=["content-type","content-length"];Object.entries(q).forEach(([k,B])=>{D.includes(k.toLowerCase())&&x.set(k,B)})}}if(vn.hasStandardBrowserEnv&&(d&&P.isFunction(d)&&(d=d(o)),d||d!==!1&&tb(o.url))){const q=g&&S&&nb.read(S);q&&x.set(g,q)}return o},ib=typeof XMLHttpRequest<"u",rb=ib&&function(u){return new Promise(function(m,d){const g=Vp(u);let S=g.data;const x=zn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:D}=g,k,B,W,me,Q;function le(){me&&me(),Q&&Q(),g.cancelToken&&g.cancelToken.unsubscribe(k),g.signal&&g.signal.removeEventListener("abort",k)}let Z=new XMLHttpRequest;Z.open(g.method.toUpperCase(),g.url,!0),Z.timeout=g.timeout;function Ae(){if(!Z)return;const xe=zn.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),we={data:!N||N==="text"||N==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:xe,config:u,request:Z};Xp(function(Ne){m(Ne),le()},function(Ne){d(Ne),le()},we),Z=null}"onloadend"in Z?Z.onloadend=Ae:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(Ae)},Z.onabort=function(){Z&&(d(new Je("Request aborted",Je.ECONNABORTED,u,Z)),Z=null)},Z.onerror=function(ee){const we=ee&&ee.message?ee.message:"Network Error",ye=new Je(we,Je.ERR_NETWORK,u,Z);ye.event=ee||null,d(ye),Z=null},Z.ontimeout=function(){let ee=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const we=g.transitional||Kf;g.timeoutErrorMessage&&(ee=g.timeoutErrorMessage),d(new Je(ee,we.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,u,Z)),Z=null},S===void 0&&x.setContentType(null),"setRequestHeader"in Z&&P.forEach(x.toJSON(),function(ee,we){Z.setRequestHeader(we,ee)}),P.isUndefined(g.withCredentials)||(Z.withCredentials=!!g.withCredentials),N&&N!=="json"&&(Z.responseType=g.responseType),D&&([W,Q]=po(D,!0),Z.addEventListener("progress",W)),q&&Z.upload&&([B,me]=po(q),Z.upload.addEventListener("progress",B),Z.upload.addEventListener("loadend",me)),(g.cancelToken||g.signal)&&(k=xe=>{Z&&(d(!xe||xe.type?new Vs(null,u,Z):xe),Z.abort(),Z=null)},g.cancelToken&&g.cancelToken.subscribe(k),g.signal&&(g.signal.aborted?k():g.signal.addEventListener("abort",k)));const ue=Pg(g.url);if(ue&&vn.protocols.indexOf(ue)===-1){d(new Je("Unsupported protocol "+ue+":",Je.ERR_BAD_REQUEST,u));return}Z.send(S||null)})},sb=(u,o)=>{const{length:m}=u=u?u.filter(Boolean):[];if(o||m){let d=new AbortController,g;const S=function(D){if(!g){g=!0,N();const k=D instanceof Error?D:this.reason;d.abort(k instanceof Je?k:new Vs(k instanceof Error?k.message:k))}};let x=o&&setTimeout(()=>{x=null,S(new Je(`timeout of ${o}ms exceeded`,Je.ETIMEDOUT))},o);const N=()=>{u&&(x&&clearTimeout(x),x=null,u.forEach(D=>{D.unsubscribe?D.unsubscribe(S):D.removeEventListener("abort",S)}),u=null)};u.forEach(D=>D.addEventListener("abort",S));const{signal:q}=d;return q.unsubscribe=()=>P.asap(N),q}},ub=function*(u,o){let m=u.byteLength;if(m<o){yield u;return}let d=0,g;for(;d<m;)g=d+o,yield u.slice(d,g),d=g},ob=async function*(u,o){for await(const m of cb(u))yield*ub(m,o)},cb=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const o=u.getReader();try{for(;;){const{done:m,value:d}=await o.read();if(m)break;yield d}}finally{await o.cancel()}},cp=(u,o,m,d)=>{const g=ob(u,o);let S=0,x,N=q=>{x||(x=!0,d&&d(q))};return new ReadableStream({async pull(q){try{const{done:D,value:k}=await g.next();if(D){N(),q.close();return}let B=k.byteLength;if(m){let W=S+=B;m(W)}q.enqueue(new Uint8Array(k))}catch(D){throw N(D),D}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:so}=P,fb=(({Request:u,Response:o})=>({Request:u,Response:o}))(P.global),{ReadableStream:dp,TextEncoder:hp}=P.global,mp=(u,...o)=>{try{return!!u(...o)}catch{return!1}},db=u=>{u=P.merge.call({skipUndefined:!0},fb,u);const{fetch:o,Request:m,Response:d}=u,g=o?so(o):typeof fetch=="function",S=so(m),x=so(d);if(!g)return!1;const N=g&&so(dp),q=g&&(typeof hp=="function"?(Q=>le=>Q.encode(le))(new hp):async Q=>new Uint8Array(await new m(Q).arrayBuffer())),D=S&&N&&mp(()=>{let Q=!1;const le=new m(vn.origin,{body:new dp,method:"POST",get duplex(){return Q=!0,"half"}}).headers.has("Content-Type");return Q&&!le}),k=x&&N&&mp(()=>P.isReadableStream(new d("").body)),B={stream:k&&(Q=>Q.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(Q=>{!B[Q]&&(B[Q]=(le,Z)=>{let Ae=le&&le[Q];if(Ae)return Ae.call(le);throw new Je(`Response type '${Q}' is not supported`,Je.ERR_NOT_SUPPORT,Z)})});const W=async Q=>{if(Q==null)return 0;if(P.isBlob(Q))return Q.size;if(P.isSpecCompliantForm(Q))return(await new m(vn.origin,{method:"POST",body:Q}).arrayBuffer()).byteLength;if(P.isArrayBufferView(Q)||P.isArrayBuffer(Q))return Q.byteLength;if(P.isURLSearchParams(Q)&&(Q=Q+""),P.isString(Q))return(await q(Q)).byteLength},me=async(Q,le)=>{const Z=P.toFiniteNumber(Q.getContentLength());return Z??W(le)};return async Q=>{let{url:le,method:Z,data:Ae,signal:ue,cancelToken:xe,timeout:ee,onDownloadProgress:we,onUploadProgress:ye,responseType:Ne,headers:Ze,withCredentials:Qe="same-origin",fetchOptions:it}=Vp(Q),Tt=o||fetch;Ne=Ne?(Ne+"").toLowerCase():"text";let ke=sb([ue,xe&&xe.toAbortSignal()],ee),nt=null;const Ce=ke&&ke.unsubscribe&&(()=>{ke.unsubscribe()});let Xe;try{if(ye&&D&&Z!=="get"&&Z!=="head"&&(Xe=await me(Ze,Ae))!==0){let de=new m(le,{method:"POST",body:Ae,duplex:"half"}),pe;if(P.isFormData(Ae)&&(pe=de.headers.get("content-type"))&&Ze.setContentType(pe),de.body){const[Te,Le]=sp(Xe,po(up(ye)));Ae=cp(de.body,fp,Te,Le)}}P.isString(Qe)||(Qe=Qe?"include":"omit");const K=S&&"credentials"in m.prototype,ge={...it,signal:ke,method:Z.toUpperCase(),headers:Ze.normalize().toJSON(),body:Ae,duplex:"half",credentials:K?Qe:void 0};nt=S&&new m(le,ge);let Se=await(S?Tt(nt,it):Tt(le,ge));const J=k&&(Ne==="stream"||Ne==="response");if(k&&(we||J&&Ce)){const de={};["status","statusText","headers"].forEach(Fe=>{de[Fe]=Se[Fe]});const pe=P.toFiniteNumber(Se.headers.get("content-length")),[Te,Le]=we&&sp(pe,po(up(we),!0))||[];Se=new d(cp(Se.body,fp,Te,()=>{Le&&Le(),Ce&&Ce()}),de)}Ne=Ne||"text";let be=await B[P.findKey(B,Ne)||"text"](Se,Q);return!J&&Ce&&Ce(),await new Promise((de,pe)=>{Xp(de,pe,{data:be,headers:zn.from(Se.headers),status:Se.status,statusText:Se.statusText,config:Q,request:nt})})}catch(K){throw Ce&&Ce(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,Q,nt,K&&K.response),{cause:K.cause||K}):Je.from(K,K&&K.code,Q,nt,K&&K.response)}}},hb=new Map,Zp=u=>{let o=u&&u.env||{};const{fetch:m,Request:d,Response:g}=o,S=[d,g,m];let x=S.length,N=x,q,D,k=hb;for(;N--;)q=S[N],D=k.get(q),D===void 0&&k.set(q,D=N?new Map:db(o)),k=D;return D};Zp();const Qf={http:Tg,xhr:rb,fetch:{get:Zp}};P.forEach(Qf,(u,o)=>{if(u){try{Object.defineProperty(u,"name",{value:o})}catch{}Object.defineProperty(u,"adapterName",{value:o})}});const pp=u=>`- ${u}`,mb=u=>P.isFunction(u)||u===null||u===!1;function pb(u,o){u=P.isArray(u)?u:[u];const{length:m}=u;let d,g;const S={};for(let x=0;x<m;x++){d=u[x];let N;if(g=d,!mb(d)&&(g=Qf[(N=String(d)).toLowerCase()],g===void 0))throw new Je(`Unknown adapter '${N}'`);if(g&&(P.isFunction(g)||(g=g.get(o))))break;S[N||"#"+x]=g}if(!g){const x=Object.entries(S).map(([q,D])=>`adapter ${q} `+(D===!1?"is not supported by the environment":"is not available in the build"));let N=m?x.length>1?`since :
`+x.map(pp).join(`
`):" "+pp(x[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const Fp={getAdapter:pb,adapters:Qf};function _f(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Vs(null,u)}function yp(u){return _f(u),u.headers=zn.from(u.headers),u.data=Nf.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),Fp.getAdapter(u.adapter||Gs.adapter,u)(u).then(function(d){return _f(u),d.data=Nf.call(u,u.transformResponse,d),d.headers=zn.from(d.headers),d},function(d){return Qp(d)||(_f(u),d&&d.response&&(d.response.data=Nf.call(u,u.transformResponse,d.response),d.response.headers=zn.from(d.response.headers))),Promise.reject(d)})}const Jp="1.13.5",No={};["object","boolean","number","function","string","symbol"].forEach((u,o)=>{No[u]=function(d){return typeof d===u||"a"+(o<1?"n ":" ")+u}});const gp={};No.transitional=function(o,m,d){function g(S,x){return"[Axios v"+Jp+"] Transitional option '"+S+"'"+x+(d?". "+d:"")}return(S,x,N)=>{if(o===!1)throw new Je(g(x," has been removed"+(m?" in "+m:"")),Je.ERR_DEPRECATED);return m&&!gp[x]&&(gp[x]=!0,console.warn(g(x," has been deprecated since v"+m+" and will be removed in the near future"))),o?o(S,x,N):!0}};No.spelling=function(o){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${o}`),!0)};function yb(u,o,m){if(typeof u!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const d=Object.keys(u);let g=d.length;for(;g-- >0;){const S=d[g],x=o[S];if(x){const N=u[S],q=N===void 0||x(N,S,u);if(q!==!0)throw new Je("option "+S+" must be "+q,Je.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Je("Unknown option "+S,Je.ERR_BAD_OPTION)}}const fo={assertOptions:yb,validators:No},ta=fo.validators;let Ti=class{constructor(o){this.defaults=o||{},this.interceptors={request:new ip,response:new ip}}async request(o,m){try{return await this._request(o,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const S=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?S&&!String(d.stack).endsWith(S.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+S):d.stack=S}catch{}}throw d}}_request(o,m){typeof o=="string"?(m=m||{},m.url=o):m=o||{},m=Mi(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:S}=m;d!==void 0&&fo.assertOptions(d,{silentJSONParsing:ta.transitional(ta.boolean),forcedJSONParsing:ta.transitional(ta.boolean),clarifyTimeoutError:ta.transitional(ta.boolean),legacyInterceptorReqResOrdering:ta.transitional(ta.boolean)},!1),g!=null&&(P.isFunction(g)?m.paramsSerializer={serialize:g}:fo.assertOptions(g,{encode:ta.function,serialize:ta.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),fo.assertOptions(m,{baseUrl:ta.spelling("baseURL"),withXsrfToken:ta.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let x=S&&P.merge(S.common,S[m.method]);S&&P.forEach(["delete","get","head","post","put","patch","common"],Q=>{delete S[Q]}),m.headers=zn.concat(x,S);const N=[];let q=!0;this.interceptors.request.forEach(function(le){if(typeof le.runWhen=="function"&&le.runWhen(m)===!1)return;q=q&&le.synchronous;const Z=m.transitional||Kf;Z&&Z.legacyInterceptorReqResOrdering?N.unshift(le.fulfilled,le.rejected):N.push(le.fulfilled,le.rejected)});const D=[];this.interceptors.response.forEach(function(le){D.push(le.fulfilled,le.rejected)});let k,B=0,W;if(!q){const Q=[yp.bind(this),void 0];for(Q.unshift(...N),Q.push(...D),W=Q.length,k=Promise.resolve(m);B<W;)k=k.then(Q[B++],Q[B++]);return k}W=N.length;let me=m;for(;B<W;){const Q=N[B++],le=N[B++];try{me=Q(me)}catch(Z){le.call(this,Z);break}}try{k=yp.call(this,me)}catch(Q){return Promise.reject(Q)}for(B=0,W=D.length;B<W;)k=k.then(D[B++],D[B++]);return k}getUri(o){o=Mi(this.defaults,o);const m=Gp(o.baseURL,o.url,o.allowAbsoluteUrls);return Kp(m,o.params,o.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(o){Ti.prototype[o]=function(m,d){return this.request(Mi(d||{},{method:o,url:m,data:(d||{}).data}))}});P.forEach(["post","put","patch"],function(o){function m(d){return function(S,x,N){return this.request(Mi(N||{},{method:o,headers:d?{"Content-Type":"multipart/form-data"}:{},url:S,data:x}))}}Ti.prototype[o]=m(),Ti.prototype[o+"Form"]=m(!0)});let gb=class $p{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(S){m=S});const d=this;this.promise.then(g=>{if(!d._listeners)return;let S=d._listeners.length;for(;S-- >0;)d._listeners[S](g);d._listeners=null}),this.promise.then=g=>{let S;const x=new Promise(N=>{d.subscribe(N),S=N}).then(g);return x.cancel=function(){d.unsubscribe(S)},x},o(function(S,x,N){d.reason||(d.reason=new Vs(S,x,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const m=this._listeners.indexOf(o);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const o=new AbortController,m=d=>{o.abort(d)};return this.subscribe(m),o.signal.unsubscribe=()=>this.unsubscribe(m),o.signal}static source(){let o;return{token:new $p(function(g){o=g}),cancel:o}}};function bb(u){return function(m){return u.apply(null,m)}}function vb(u){return P.isObject(u)&&u.isAxiosError===!0}const Mf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mf).forEach(([u,o])=>{Mf[o]=u});function Wp(u){const o=new Ti(u),m=Tp(Ti.prototype.request,o);return P.extend(m,Ti.prototype,o,{allOwnKeys:!0}),P.extend(m,o,null,{allOwnKeys:!0}),m.create=function(g){return Wp(Mi(u,g))},m}const Zt=Wp(Gs);Zt.Axios=Ti;Zt.CanceledError=Vs;Zt.CancelToken=gb;Zt.isCancel=Qp;Zt.VERSION=Jp;Zt.toFormData=jo;Zt.AxiosError=Je;Zt.Cancel=Zt.CanceledError;Zt.all=function(o){return Promise.all(o)};Zt.spread=bb;Zt.isAxiosError=vb;Zt.mergeConfig=Mi;Zt.AxiosHeaders=zn;Zt.formToJSON=u=>Yp(P.isHTMLForm(u)?new FormData(u):u);Zt.getAdapter=Fp.getAdapter;Zt.HttpStatusCode=Mf;Zt.default=Zt;const{Axios:ex,AxiosError:tx,CanceledError:nx,isCancel:ax,CancelToken:lx,VERSION:ix,all:rx,Cancel:sx,isAxiosError:ux,spread:ox,toFormData:cx,AxiosHeaders:fx,HttpStatusCode:dx,formToJSON:hx,getAdapter:mx,mergeConfig:px}=Zt,yt=Zt.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});yt.interceptors.request.use(u=>{const o=cl.getState().token;return o&&(u.headers.Authorization=`Token ${o}`),u.data instanceof FormData&&delete u.headers["Content-Type"],u});yt.interceptors.response.use(u=>u,u=>(u.response?.status===401&&cl.getState().logout(),Promise.reject(u)));const Mr={login:(u,o)=>yt.post("/auth/login/",{email:u,password:o}),register:u=>yt.post("/auth/register/",u),logout:()=>yt.post("/auth/logout/"),me:()=>yt.get("/auth/me/"),deleteAccount:()=>yt.post("/auth/me/delete/")},Hs={list:()=>yt.get("/projects/"),get:u=>yt.get(`/projects/${u}/`),create:u=>yt.post("/projects/",u),update:(u,o)=>yt.patch(`/projects/${u}/`,o),delete:u=>yt.delete(`/projects/${u}/`)},ca={list:()=>yt.get("/lenses/"),get:u=>yt.get(`/lenses/${u}/`),create:u=>yt.post("/lenses/",u),update:(u,o)=>yt.patch(`/lenses/${u}/`,o),delete:u=>yt.delete(`/lenses/${u}/`),addColor:(u,o)=>yt.post(`/lenses/${u}/colors/`,o),updateColor:(u,o,m)=>yt.patch(`/lenses/${u}/colors/${o}/`,m),removeColor:(u,o)=>yt.delete(`/lenses/${u}/colors/${o}/`)},ln={list:u=>yt.get("/documents/",{params:u}),get:u=>yt.get(`/documents/${u}/`),create:u=>yt.post("/documents/",u),createWithFile:u=>yt.post("/documents/",u),getPdf:u=>yt.get(`/documents/${u}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(u,o)=>yt.post(`/documents/${u}/upload_pdf/`,o),update:(u,o)=>yt.patch(`/documents/${u}/`,o),delete:u=>yt.delete(`/documents/${u}/`),highlights:u=>yt.get(`/documents/${u}/highlights/`),createHighlight:(u,o)=>yt.post(`/documents/${u}/highlights/`,o),updateHighlight:(u,o,m)=>yt.patch(`/documents/${u}/highlights/${o}/`,m),deleteHighlight:(u,o)=>yt.delete(`/documents/${u}/highlights/${o}/`)},xb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},tt={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},Fl={default:"border-slate-200"},Ls="min-h-screen p-6",Sb="bg-white border-b border-slate-200",yo="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",uo="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",bp="w-px h-6 bg-slate-200",Di=xb;function wb(){const u=Ri(),o=cl(B=>B.setToken),[m,d]=V.useState(""),[g,S]=V.useState(""),[x,N]=V.useState(""),[q,D]=V.useState(!1),k=async B=>{B.preventDefault(),N(""),D(!0);try{const{data:W}=await Mr.login(m,g);o(W.token),u("/",{replace:!0})}catch(W){N(W.response?.data?.detail||W.response?.data?.email?.[0]||"Login failed")}finally{D(!1)}};return f.jsx("div",{className:`${Ls} ${Di.page} flex items-center justify-center`,children:f.jsxs("div",{className:"w-full max-w-sm",children:[f.jsx("h1",{className:`text-2xl font-semibold ${tt.heading} mb-6`,children:"Sign in"}),f.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[x&&f.jsx("p",{className:"text-sm text-red-600",children:x}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Email"}),f.jsx("input",{type:"email",value:m,onChange:B=>d(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Password"}),f.jsx("input",{type:"password",value:g,onChange:B=>S(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),f.jsx("button",{type:"submit",disabled:q,className:yo,children:q?"Signing in...":"Sign in"})]}),f.jsxs("p",{className:`mt-4 text-sm ${tt.muted}`,children:["No account? ",f.jsx(Op,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function jb(){const u=Ri(),o=cl(B=>B.setToken),[m,d]=V.useState(""),[g,S]=V.useState(""),[x,N]=V.useState(""),[q,D]=V.useState(!1),k=async B=>{B.preventDefault(),N(""),D(!0);try{await Mr.register({email:m,password:g});const{data:W}=await Mr.login(m,g);o(W.token),u("/",{replace:!0})}catch(W){const me=W.response?.data;N(me?.email?.[0]||me?.password?.[0]||"Registration failed")}finally{D(!1)}};return f.jsx("div",{className:`${Ls} ${Di.page} flex items-center justify-center`,children:f.jsxs("div",{className:"w-full max-w-sm",children:[f.jsx("h1",{className:`text-2xl font-semibold ${tt.heading} mb-6`,children:"Create account"}),f.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[x&&f.jsx("p",{className:"text-sm text-red-600",children:x}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Email"}),f.jsx("input",{type:"email",value:m,onChange:B=>d(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Password"}),f.jsx("input",{type:"password",value:g,onChange:B=>S(B.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),f.jsx("button",{type:"submit",disabled:q,className:yo,children:q?"Creating account...":"Register"})]}),f.jsxs("p",{className:`mt-4 text-sm ${tt.muted}`,children:["Already have an account? ",f.jsx(Op,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const Pp=(...u)=>u.filter((o,m,d)=>!!o&&o.trim()!==""&&d.indexOf(o)===m).join(" ").trim();const Nb=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _b=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,m,d)=>d?d.toUpperCase():m.toLowerCase());const vp=u=>{const o=_b(u);return o.charAt(0).toUpperCase()+o.slice(1)};var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cb=u=>{for(const o in u)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const Ab=V.forwardRef(({color:u="currentColor",size:o=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:S,iconNode:x,...N},q)=>V.createElement("svg",{ref:q,...Eb,width:o,height:o,stroke:u,strokeWidth:d?Number(m)*24/Number(o):m,className:Pp("lucide",g),...!S&&!Cb(N)&&{"aria-hidden":"true"},...N},[...x.map(([D,k])=>V.createElement(D,k)),...Array.isArray(S)?S:[S]]));const Ht=(u,o)=>{const m=V.forwardRef(({className:d,...g},S)=>V.createElement(Ab,{ref:S,iconNode:o,className:Pp(`lucide-${Nb(vp(u))}`,`lucide-${u}`,d),...g}));return m.displayName=vp(u),m};const Ob=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_o=Ht("arrow-left",Ob);const Tb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Db=Ht("braces",Tb);const Mb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],go=Ht("check",Mb);const zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rb=Ht("chevron-down",zb);const kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zf=Ht("chevron-right",kb);const Bb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qb=Ht("copy",Bb);const Ub=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hb=Ht("download",Ub);const Lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Kb=Ht("file-down",Lb);const Yb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Qb=Ht("file-stack",Yb);const Xb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xf=Ht("file-text",Xb);const Gb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oa=Ht("loader-circle",Gb);const Vb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gf=Ht("log-out",Vb);const Zb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ip=Ht("palette",Zb);const Fb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Jb=Ht("panel-right-close",Fb);const $b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Wb=Ht("panel-right-open",$b);const Pb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],bo=Ht("pencil",Pb);const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xp=Ht("plus",Ib);const ev=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ey=Ht("search",ev);const tv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],nv=Ht("settings-2",tv);const av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ks=Ht("trash-2",av);const lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rf=Ht("upload",lv);const iv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zi=Ht("x",iv);const rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sv=Ht("zoom-in",rv);const uv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ov=Ht("zoom-out",uv),Sp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Or=5,wp=3;function ty(){const u=Rr(),[o,m]=V.useState(0),[d,g]=V.useState(""),[S,x]=V.useState([]),[N,q]=V.useState(null),[D,k]=V.useState(""),[B,W]=V.useState(null),[me,Q]=V.useState(null),[le,Z]=V.useState(""),[Ae,ue]=V.useState(null),[xe,ee]=V.useState(""),{data:we=[]}=na({queryKey:["lenses"],queryFn:async()=>{const{data:J}=await ca.list();return J}}),ye=we.filter(J=>!J.is_system),Ne=()=>{m(0),g(""),x([]),q(null),k("")},Ze=Nn({mutationFn:J=>ca.create(J),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),Ne()}}),Qe=Nn({mutationFn:J=>ca.delete(J),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),it=Nn({mutationFn:({lensId:J,data:be})=>ca.addColor(J,be),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),W(null),Q(null),Z("")}}),Tt=Nn({mutationFn:({lensId:J,colorId:be})=>ca.removeColor(J,be),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),ke=Nn({mutationFn:({lensId:J,colorId:be,displayName:de})=>ca.updateColor(J,be,{display_name:de}),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),ue(null),ee("")}}),nt=()=>{!B||!me||!le.trim()||it.mutate({lensId:B,data:{key:`custom_${Date.now()}`,display_name:le.trim(),hex:me}})},Ce=new Set(S.map(J=>J.hex.toLowerCase())),Xe=Sp.filter(J=>!Ce.has(J.toLowerCase())),K=()=>{!N||!D.trim()||(x(J=>[...J,{key:`color_${Date.now()}_${J.length}`,display_name:D.trim(),hex:N}]),q(null),k(""))},ge=J=>{x(be=>be.filter((de,pe)=>pe!==J))},Se=()=>{!d.trim()||S.length<1||Ze.mutate({name:d.trim(),colors:S})};return f.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[f.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[f.jsx(Ip,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),f.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Or," colour categories. You can create up to ",wp," custom lenses."]}),f.jsx("ul",{className:"space-y-2 mb-4",children:we.map(J=>f.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:"font-medium text-slate-800 truncate",children:J.name}),J.is_system&&f.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!J.is_system&&f.jsx("button",{type:"button",onClick:()=>{window.confirm(`Delete lens "${J.name}"?`)&&Qe.mutate(J.id)},className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:f.jsx(Ks,{className:"w-3.5 h-3.5"})})]}),f.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(J.colors??[]).map(be=>{const de=Ae?.lensId===J.id&&Ae?.colorId===be.id;return f.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[f.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:be.hex}}),de?f.jsx("input",{type:"text",value:xe,onChange:pe=>ee(pe.target.value),onBlur:()=>{const pe=xe.trim();pe&&pe!==be.display_name?ke.mutate({lensId:J.id,colorId:be.id,displayName:pe}):(ue(null),ee(""))},onKeyDown:pe=>{if(pe.key==="Enter"){const Te=xe.trim();Te&&ke.mutate({lensId:J.id,colorId:be.id,displayName:Te})}pe.key==="Escape"&&(ue(null),ee(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):f.jsx("button",{type:"button",onClick:()=>{J.is_system||(ue({lensId:J.id,colorId:be.id}),ee(be.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${J.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:be.display_name}),!J.is_system&&(J.colors?.length??0)>1&&!de&&f.jsx("button",{type:"button",onClick:pe=>{pe.stopPropagation(),Tt.mutate({lensId:J.id,colorId:be.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:f.jsx(zi,{className:"w-3 h-3",strokeWidth:2.5})})]},be.id)}),!J.is_system&&(J.colors?.length??0)>1&&f.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!J.is_system&&(J.colors?.length??0)<Or&&f.jsx("button",{type:"button",onClick:()=>{W(J.id),Q(null),Z("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:f.jsx(xp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},J.id))}),ye.length<wp&&f.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[f.jsx(xp,{className:"w-4 h-4"}),"Create lens"]}),o>0&&f.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ze.isPending&&Ne(),children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:J=>J.stopPropagation(),children:[o===1&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),f.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),f.jsx("input",{type:"text",value:d,onChange:J=>g(J.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:J=>{J.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:Ne,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),o===2&&f.jsxs(f.Fragment,{children:[f.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",S.length,"/",Or,")"]}),f.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Or," colours and give each a label."]}),S.length>0&&f.jsx("div",{className:"space-y-1.5 mb-3",children:S.map((J,be)=>f.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[f.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:J.hex}}),f.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:J.display_name}),f.jsx("button",{type:"button",onClick:()=>ge(be),className:"text-slate-400 hover:text-red-500 shrink-0",children:f.jsx(zi,{className:"w-3.5 h-3.5"})})]},be))}),S.length<Or&&f.jsx(f.Fragment,{children:N?f.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),f.jsx("input",{type:"text",value:D,onChange:J=>k(J.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:J=>{J.key==="Enter"&&K()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),f.jsx("button",{type:"button",onClick:K,disabled:!D.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):f.jsxs("div",{className:"mb-3",children:[f.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",S.length+1," of ",Or]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Xe.map(J=>f.jsx("button",{type:"button",onClick:()=>{q(J),k("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:J}},J))})]})}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{m(1),x([]),q(null),k("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),f.jsx("button",{type:"button",onClick:Se,disabled:S.length<1||Ze.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Ze.isPending?"Creating":"Create lens"})]})]})]})}),B&&f.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!it.isPending&&W(null),children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:J=>J.stopPropagation(),children:[f.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),me?f.jsx("div",{className:"space-y-2.5",children:f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:me}}),f.jsx("input",{type:"text",value:le,onChange:J=>Z(J.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:J=>{J.key==="Enter"&&nt()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const J=we.find(de=>de.id===B),be=new Set((J?.colors??[]).map(de=>de.hex.toLowerCase()));return Sp.filter(de=>!be.has(de.toLowerCase()))})().map(J=>f.jsx("button",{type:"button",onClick:()=>Q(J),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:J}},J))})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[f.jsx("button",{type:"button",onClick:()=>{me?(Q(null),Z("")):W(null)},disabled:it.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:me?"Back":"Cancel"}),me&&f.jsx("button",{type:"button",onClick:nt,disabled:!le.trim()||it.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:it.isPending?"Adding":"Add"})]})]})})]})}const ul=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function cv(u){if(!u)return"";const o=new Date(u);if(Number.isNaN(o.getTime()))return"";const m=new Date,d=m-o,g=Math.floor(d/6e4),S=Math.floor(d/36e5),x=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:S<24?`${S} hour${S===1?"":"s"} ago`:x===1?"Yesterday":x<7?`${x} days ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:o.getFullYear()!==m.getFullYear()?"numeric":void 0})}function fv({project:u,onOpen:o}){const[m,d]=V.useState(!1),g=u.document_count??0,S=u.annotation_count??0,x=u.color&&ul.includes(u.color)?u.color:ul[u.id%ul.length];return f.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>o(u.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&o(u.id),className:"flex items-center gap-4 rounded-xl border border-slate-200 bg-white px-5 py-5 cursor-pointer transition-all duration-200",style:{boxShadow:m?"0 4px 12px rgba(71,85,105,0.08)":"0 1px 3px rgba(0,0,0,0.04)",transform:m?"translateY(-1px)":"none",background:m?"#f8fafc":"#fff"},children:[f.jsx("div",{className:"shrink-0 rounded-sm",style:{width:4,height:48,background:x}}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-lg font-normal text-slate-900 truncate",style:{fontFamily:"'Instrument Serif', serif"},children:u.name}),f.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[13px] text-slate-400",style:{fontFamily:"'JetBrains Mono', monospace"},children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"})]}),g," ",g===1?"doc":"docs"]}),f.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400",children:[f.jsx("path",{d:"M12 20h9"}),f.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),S," ",S===1?"annotation":"annotations"]})]})]}),f.jsx("div",{className:"text-[13px] text-slate-400 whitespace-nowrap shrink-0",style:{fontFamily:"'JetBrains Mono', monospace"},children:cv(u.updated_at)}),f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:m?"#475569":"#cbd5e1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 transition-colors",children:f.jsx("polyline",{points:"9 18 15 12 9 6"})})]})}function dv({onClose:u,onCreate:o,isPending:m,defaultColorIndex:d=0}){const[g,S]=V.useState(""),[x,N]=V.useState(ul[d%ul.length]),q=()=>{const D=g.trim();D&&(o(D,x),S(""),N(ul[d%ul.length]))};return f.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:f.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:D=>D.stopPropagation(),children:[f.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),f.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),f.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),f.jsx("input",{type:"text",value:g,onChange:D=>S(D.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),f.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),f.jsx("div",{className:"flex gap-2",children:ul.map(D=>f.jsx("button",{type:"button",onClick:()=>N(D),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:D,borderColor:x===D?"#1e293b":"transparent",outline:x===D?"2px solid #fff":"none",outlineOffset:-4}},D))}),f.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),f.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function hv(){const u=Ri(),o=Rr(),m=cl(ee=>ee.logout),[d,g]=V.useState(!1),[S,x]=V.useState(!1),[N,q]=V.useState(""),{data:D}=na({queryKey:["me"],queryFn:async()=>{const{data:ee}=await Mr.me();return ee}}),{data:k,isLoading:B}=na({queryKey:["projects"],queryFn:async()=>{const{data:ee}=await Hs.list();return ee}}),W=Array.isArray(k)?k:k?.results??[],me=W.filter(ee=>ee.name.toLowerCase().includes(N.toLowerCase())),Q=W.reduce((ee,we)=>ee+(we.document_count??0),0),le=W.reduce((ee,we)=>ee+(we.annotation_count??0),0),Z=Nn({mutationFn:({name:ee,color:we})=>Hs.create({name:ee.trim(),color:we}),onSuccess:()=>{o.invalidateQueries({queryKey:["projects"]}),g(!1)}}),Ae=(ee,we)=>{Z.mutate({name:ee,color:we})},ue=()=>{m(),u("/login",{replace:!0})},xe=(D?.email?.[0]||D?.username?.[0]||"?").toUpperCase();return f.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[f.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),f.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),f.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:ue,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:f.jsx(Gf,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:()=>u("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:xe})]})]}),f.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),f.jsxs("button",{type:"button",onClick:()=>x(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx(Ip,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[f.jsxs("span",{children:[W.length," project",W.length!==1?"s":""]}),f.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),f.jsxs("span",{children:[Q," document",Q!==1?"s":""]}),f.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),f.jsxs("span",{children:[le," annotation",le!==1?"s":""]})]}),W.length>3&&f.jsxs("div",{className:"relative mb-4",children:[f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),f.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:ee=>q(ee.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),B?f.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx(Oa,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):f.jsx("div",{className:"flex flex-col gap-2",children:me.map(ee=>f.jsx(fv,{project:ee,onOpen:we=>u(`/project/${we}`)},ee.id))}),!B&&me.length===0&&N&&f.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!B&&W.length===0&&f.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:f.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),f.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),f.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&f.jsx(dv,{onClose:()=>g(!1),onCreate:Ae,isPending:Z.isPending,defaultColorIndex:W.length%ul.length}),S&&f.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>x(!1),children:f.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:ee=>ee.stopPropagation(),children:f.jsx(ty,{})})})]})}var ho={exports:{}},mv=ho.exports,jp;function pv(){return jp||(jp=1,(function(u,o){((m,d)=>{u.exports=d()})(mv,function(){var m=function(l,s){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(c,h){c.__proto__=h}:function(c,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(c[y]=h[y])}))(l,s)},d=function(){return(d=Object.assign||function(l){for(var s,c=1,h=arguments.length;c<h;c++)for(var y in s=arguments[c])Object.prototype.hasOwnProperty.call(s,y)&&(l[y]=s[y]);return l}).apply(this,arguments)};function g(l,s,c){for(var h,y=0,b=s.length;y<b;y++)!h&&y in s||((h=h||Array.prototype.slice.call(s,0,y))[y]=s[y]);return l.concat(h||Array.prototype.slice.call(s))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_0,x=Object.keys,N=Array.isArray;function q(l,s){return typeof s=="object"&&x(s).forEach(function(c){l[c]=s[c]}),l}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var D=Object.getPrototypeOf,k={}.hasOwnProperty;function B(l,s){return k.call(l,s)}function W(l,s){typeof s=="function"&&(s=s(D(l))),(typeof Reflect>"u"?x:Reflect.ownKeys)(s).forEach(function(c){Q(l,c,s[c])})}var me=Object.defineProperty;function Q(l,s,c,h){me(l,s,q(c&&B(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},h))}function le(l){return{from:function(s){return l.prototype=Object.create(s.prototype),Q(l.prototype,"constructor",l),{extend:W.bind(null,l.prototype)}}}}var Z=Object.getOwnPropertyDescriptor,Ae=[].slice;function ue(l,s,c){return Ae.call(l,s,c)}function xe(l,s){return s(l)}function ee(l){if(!l)throw new Error("Assertion Failed")}function we(l){S.setImmediate?setImmediate(l):setTimeout(l,0)}function ye(l,s){if(typeof s=="string"&&B(l,s))return l[s];if(!s)return l;if(typeof s!="string"){for(var c=[],h=0,y=s.length;h<y;++h){var b=ye(l,s[h]);c.push(b)}return c}var w,j=s.indexOf(".");return j===-1||(w=l[s.substr(0,j)])==null?void 0:ye(w,s.substr(j+1))}function Ne(l,s,c){if(l&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof s!="string"&&"length"in s){ee(typeof c!="string"&&"length"in c);for(var h=0,y=s.length;h<y;++h)Ne(l,s[h],c[h])}else{var b,w,j=s.indexOf(".");j!==-1?(b=s.substr(0,j),(j=s.substr(j+1))===""?c===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=c:Ne(w=(w=l[b])&&B(l,b)?w:l[b]={},j,c)):c===void 0?N(l)&&!isNaN(parseInt(s))?l.splice(s,1):delete l[s]:l[s]=c}}function Ze(l){var s,c={};for(s in l)B(l,s)&&(c[s]=l[s]);return c}var Qe=[].concat;function it(l){return Qe.apply([],l)}var pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(it([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(s){return s+l+"Array"})}))).filter(function(l){return S[l]}),Tt=new Set(pe.map(function(l){return S[l]})),ke=null;function nt(l){return ke=new WeakMap,l=(function s(c){if(!c||typeof c!="object")return c;var h=ke.get(c);if(h)return h;if(N(c)){h=[],ke.set(c,h);for(var y=0,b=c.length;y<b;++y)h.push(s(c[y]))}else if(Tt.has(c.constructor))h=c;else{var w,j=D(c);for(w in h=j===Object.prototype?{}:Object.create(j),ke.set(c,h),c)B(c,w)&&(h[w]=s(c[w]))}return h})(l),ke=null,l}var Ce={}.toString;function Xe(l){return Ce.call(l).slice(8,-1)}var K=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof K=="symbol"?function(l){var s;return l!=null&&(s=l[K])&&s.apply(l)}:function(){return null};function Se(l,s){s=l.indexOf(s),0<=s&&l.splice(s,1)}var J={};function be(l){var s,c,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===J&&typeof l=="string")return[l];if(y=ge(l))for(c=[];!(h=y.next()).done;)c.push(h.value);else{if(l==null)return[l];if(typeof(s=l.length)!="number")return[l];for(c=new Array(s);s--;)c[s]=l[s]}}else for(s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return c}var de=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),Te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Le(l,s){this.name=l,this.message=s}function Fe(l,s){return l+". Errors: "+Object.keys(s).map(function(c){return s[c].toString()}).filter(function(c,h,y){return y.indexOf(c)===h}).join(`
`)}function ct(l,s,c,h){this.failures=s,this.failedKeys=h,this.successCount=c,this.message=Fe(l,s)}function ae(l,s){this.name="BulkError",this.failures=Object.keys(s).map(function(c){return s[c]}),this.failuresByPos=s,this.message=Fe(l,this.failures)}le(Le).from(Error).extend({toString:function(){return this.name+": "+this.message}}),le(ct).from(Le),le(ae).from(Le);var ve=mn.reduce(function(l,s){return l[s]=s+"Error",l},{}),Be=Le,se=mn.reduce(function(l,s){var c=s+"Error";function h(y,b){this.name=c,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Te[s]||c,this.inner=null)}return le(h).from(Be),l[s]=h,l},{}),Ge=(se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError,pe.reduce(function(l,s){return l[s+"Error"]=se[s],l},{}));pe=mn.reduce(function(l,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(l[s+"Error"]=se[s]),l},{});function Ue(){}function xt(l){return l}function xn(l,s){return l==null||l===xt?s:function(c){return s(l(c))}}function je(l,s){return function(){l.apply(this,arguments),s.apply(this,arguments)}}function ht(l,s){return l===Ue?s:function(){var c=l.apply(this,arguments),h=(c!==void 0&&(arguments[0]=c),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?je(h,this.onsuccess):h),y&&(this.onerror=this.onerror?je(y,this.onerror):y),b!==void 0?b:c}}function Ta(l,s){return l===Ue?s:function(){l.apply(this,arguments);var c=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?je(c,this.onsuccess):c),h&&(this.onerror=this.onerror?je(h,this.onerror):h)}}function he(l,s){return l===Ue?s:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,w=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?je(y,this.onsuccess):y),b&&(this.onerror=this.onerror?je(b,this.onerror):b),h===void 0?w===void 0?void 0:w:q(h,w)}}function We(l,s){return l===Ue?s:function(){return s.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function gt(l,s){return l===Ue?s:function(){var c=l.apply(this,arguments);if(c&&typeof c.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return c.then(function(){return s.apply(h,b)})}return s.apply(this,arguments)}}pe.ModifyError=ct,pe.DexieError=Le,pe.BulkError=ae;var Nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _n(l){Nt=l}var aa={},hn=100,$l=typeof Promise>"u"?[]:(mn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[$l=crypto.subtle.digest("SHA-512",new Uint8Array([0])),D($l),mn]:[mn,D(mn),mn]),mn=$l[0],Xa=$l[1],Xa=Xa&&Xa.then,da=mn&&mn.constructor,fl=!!$l[2],Wl=function(l,s){Pl.push([l,s]),Bi&&(queueMicrotask(Zs),Bi=!1)},ki=!0,Bi=!0,Da=[],ha=[],rn=xt,sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Me=sn,Pl=[],Ma=0,qi=[];function Oe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=Me;if(typeof l!="function"){if(l!==aa)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&la(this,this._value)}else this._state=null,this._value=null,++s.ref,(function c(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&ma();b&&typeof b.then=="function"?c(h,function(j,C){b instanceof Oe?b._then(j,C):b.then(j,C)}):(h._state=!0,h._value=b,ei(h)),w&&Qn()}},la.bind(null,h))}catch(b){la(h,b)}})(this,l)}var dl={get:function(){var l=Me,s=ai;function c(h,y){var b=this,w=!l.global&&(l!==Me||s!==ai),j=w&&!Sn(),C=new Oe(function(H,A){za(b,new Il(Ui(h,l,w,j),Ui(y,l,w,j),H,A,l))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return c.prototype=aa,c},set:function(l){Q(this,"then",l&&l.prototype===aa?dl:{get:function(){return l},set:dl.set})}};function Il(l,s,c,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof s=="function"?s:null,this.resolve=c,this.reject=h,this.psd=y}function la(l,s){var c,h;ha.push(s),l._state===null&&(c=l._lib&&ma(),s=rn(s),l._state=!1,l._value=s,h=l,Da.some(function(y){return y._value===h._value})||Da.push(h),ei(l),c)&&Qn()}function ei(l){var s=l._listeners;l._listeners=[];for(var c=0,h=s.length;c<h;++c)za(l,s[c]);var y=l._PSD;--y.ref||y.finalize(),Ma===0&&(++Ma,Wl(function(){--Ma==0&&Br()},[]))}function za(l,s){if(l._state===null)l._listeners.push(s);else{var c=l._state?s.onFulfilled:s.onRejected;if(c===null)return(l._state?s.resolve:s.reject)(l._value);++s.psd.ref,++Ma,Wl(Eo,[c,l,s])}}function Eo(l,s,c){try{var h,y=s._value;!s._state&&ha.length&&(ha=[]),h=Nt&&s._consoleTask?s._consoleTask.run(function(){return l(y)}):l(y),s._state||ha.indexOf(y)!==-1||(b=>{for(var w=Da.length;w;)if(Da[--w]._value===b._value)return Da.splice(w,1)})(s),c.resolve(h)}catch(b){c.reject(b)}finally{--Ma==0&&Br(),--c.psd.ref||c.psd.finalize()}}function Zs(){Rn(sn,function(){ma()&&Qn()})}function ma(){var l=ki;return Bi=ki=!1,l}function Qn(){var l,s,c;do for(;0<Pl.length;)for(l=Pl,Pl=[],c=l.length,s=0;s<c;++s){var h=l[s];h[0].apply(null,h[1])}while(0<Pl.length);Bi=ki=!0}function Br(){for(var l=Da,s=(Da=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),qi.slice(0)),c=s.length;c;)s[--c]()}function ti(l){return new Oe(aa,!1,l)}function Dt(l,s){var c=Me;return function(){var h=ma(),y=Me;try{return ya(c,!0),l.apply(this,arguments)}catch(b){s&&s(b)}finally{ya(y,!1),h&&Qn()}}}W(Oe.prototype,{then:dl,_then:function(l,s){za(this,new Il(null,null,l,s,Me))},catch:function(l){var s,c;return arguments.length===1?this.then(null,l):(s=l,c=arguments[1],typeof s=="function"?this.then(null,function(h){return(h instanceof s?c:ti)(h)}):this.then(null,function(h){return(h&&h.name===s?c:ti)(h)}))},finally:function(l){return this.then(function(s){return Oe.resolve(l()).then(function(){return s})},function(s){return Oe.resolve(l()).then(function(){return ti(s)})})},timeout:function(l,s){var c=this;return l<1/0?new Oe(function(h,y){var b=setTimeout(function(){return y(new se.Timeout(s))},l);c.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Q(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),sn.env=Ur(),W(Oe,{all:function(){var l=be.apply(null,arguments).map(ml);return new Oe(function(s,c){l.length===0&&s([]);var h=l.length;l.forEach(function(y,b){return Oe.resolve(y).then(function(w){l[b]=w,--h||s(l)},c)})})},resolve:function(l){return l instanceof Oe?l:l&&typeof l.then=="function"?new Oe(function(s,c){l.then(s,c)}):new Oe(aa,!0,l)},reject:ti,race:function(){var l=be.apply(null,arguments).map(ml);return new Oe(function(s,c){l.map(function(h){return Oe.resolve(h).then(s,c)})})},PSD:{get:function(){return Me},set:function(l){return Me=l}},totalEchoes:{get:function(){return ai}},newPSD:zt,usePSD:Rn,scheduler:{get:function(){return Wl},set:function(l){Wl=l}},rejectionMapper:{get:function(){return rn},set:function(l){rn=l}},follow:function(l,s){return new Oe(function(c,h){return zt(function(y,b){var w=Me;w.unhandleds=[],w.onunhandled=b,w.finalize=je(function(){var j,C=this;j=function(){C.unhandleds.length===0?y():b(C.unhandleds[0])},qi.push(function H(){j(),qi.splice(qi.indexOf(H),1)}),++Ma,Wl(function(){--Ma==0&&Br()},[])},w.finalize),l()},s,c,h)})}}),da&&(da.allSettled&&Q(Oe,"allSettled",function(){var l=be.apply(null,arguments).map(ml);return new Oe(function(s){l.length===0&&s([]);var c=l.length,h=new Array(c);l.forEach(function(y,b){return Oe.resolve(y).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--c||s(h)})})})}),da.any&&typeof AggregateError<"u"&&Q(Oe,"any",function(){var l=be.apply(null,arguments).map(ml);return new Oe(function(s,c){l.length===0&&c(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,w){return Oe.resolve(b).then(function(j){return s(j)},function(j){y[w]=j,--h||c(new AggregateError(y))})})})}),da.withResolvers)&&(Oe.withResolvers=da.withResolvers);var Yt={awaits:0,echoes:0,id:0},qr=0,hl=[],ni=0,ai=0,pa=0;function zt(l,w,c,h){var y=Me,b=Object.create(y),w=(b.parent=y,b.ref=0,b.global=!1,b.id=++pa,sn.env,b.env=fl?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},w&&q(b,w),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Rn(b,l,c,h));return b.ref===0&&b.finalize(),w}function Qt(){return Yt.id||(Yt.id=++qr),++Yt.awaits,Yt.echoes+=hn,Yt.id}function Sn(){return!!Yt.awaits&&(--Yt.awaits==0&&(Yt.id=0),Yt.echoes=Yt.awaits*hn,!0)}function ml(l){return Yt.echoes&&l&&l.constructor===da?(Qt(),l.then(function(s){return Sn(),s},function(s){return Sn(),_t(s)})):l}function Co(){var l=hl[hl.length-1];hl.pop(),ya(l,!1)}function ya(l,s){var c,h,y=Me;(s?!Yt.echoes||ni++&&l===Me:!ni||--ni&&l===Me)||queueMicrotask(s?(function(b){++ai,Yt.echoes&&--Yt.echoes!=0||(Yt.echoes=Yt.awaits=Yt.id=0),hl.push(Me),ya(b,!0)}).bind(null,l):Co),l!==Me&&(Me=l,y===sn&&(sn.env=Ur()),fl)&&(c=sn.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(S,"Promise",h.PromiseProp),c.all=h.all,c.race=h.race,c.resolve=h.resolve,c.reject=h.reject,h.allSettled&&(c.allSettled=h.allSettled),h.any)&&(c.any=h.any)}function Ur(){var l=S.Promise;return fl?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Rn(l,s,c,h,y){var b=Me;try{return ya(l,!0),s(c,h,y)}finally{ya(b,!1)}}function Ui(l,s,c,h){return typeof l!="function"?l:function(){var y=Me;c&&Qt(),ya(s,!0);try{return l.apply(this,arguments)}finally{ya(y,!1),h&&queueMicrotask(Sn)}}}function ga(l){Promise===da&&Yt.echoes===0?ni===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Xa).indexOf("[native code]")===-1&&(Qt=Sn=Ue);var _t=Oe.reject,kn="",pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xt="String expected.",Ra=[],li="__dbnames",ia="readonly",ba="readwrite";function ka(l,s){return l?s?function(){return l.apply(this,arguments)&&s.apply(this,arguments)}:l:s}var Hr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ii(l){return typeof l!="string"||/\./.test(l)?function(s){return s}:function(s){return s[l]===void 0&&l in s&&delete(s=nt(s))[l],s}}function Fs(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function at(l,s){try{var c=ri(l),h=ri(s);if(c!==h)return c==="Array"?1:h==="Array"?-1:c==="binary"?1:h==="binary"?-1:c==="string"?1:h==="string"?-1:c==="Date"?1:h!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return s<l?1:l<s?-1:0;case"binary":for(var y=Xn(l),b=Xn(s),w=y.length,j=b.length,C=w<j?w:j,H=0;H<C;++H)if(y[H]!==b[H])return y[H]<b[H]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var A=l,E=s,M=A.length,R=E.length,O=M<R?M:R,T=0;T<O;++T){var Y=at(A[T],E[T]);if(Y!==0)return Y}return M===R?0:M<R?-1:1}}catch{}return NaN}function ri(l){var s=typeof l;return s=="object"&&(ArrayBuffer.isView(l)||(s=Xe(l))==="ArrayBuffer")?"binary":s}function Xn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function un(l,s,c){var h=l.schema.yProps;return h?(s&&0<c.numFailures&&(s=s.filter(function(y,b){return!c.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,s?l.db.table(y).where("k").anyOf(s).delete():l.db.table(y).clear()})).then(function(){return c})):c}Js.prototype.execute=function(l){var s=this["@@propmod"];if(s.add!==void 0){var c=s.add;if(N(c))return g(g([],N(l)?l:[],!0),c).sort();if(typeof c=="number")return(Number(l)||0)+c;if(typeof c=="bigint")try{return BigInt(l)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(s.remove!==void 0){var h=s.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return c=(c=s.replacePrefix)==null?void 0:c[0],c&&typeof l=="string"&&l.startsWith(c)?s.replacePrefix[1]+l.substring(c.length):l};var pl=Js;function Js(l){this["@@propmod"]=l}function Hi(l,s){for(var c=x(s),h=c.length,y=!1,b=0;b<h;++b){var w=c[b],j=s[w],C=ye(l,w);j instanceof pl?(Ne(l,w,j.execute(C)),y=!0):C!==j&&(Ne(l,w,j),y=!0)}return y}bt.prototype._trans=function(l,s,c){var h=this._tx||Me.trans,y=this.name,b=Nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(H,A,E){if(E.schema[y])return s(E.idbtrans,E);throw new se.NotFound("Table "+y+" not part of transaction")}var j=ma();try{var C=h&&h.db._novip===this.db._novip?h===Me.trans?h._promise(l,w,c):zt(function(){return h._promise(l,w,c)},{trans:h,transless:Me.transless||Me}):(function H(A,E,M,R){if(A.idbdb&&(A._state.openComplete||Me.letThrough||A._vip)){var O=A._createTransaction(E,M,A._dbSchema);try{O.create(),A._state.PR1398_maxLoop=3}catch(T){return T.name===ve.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return H(A,E,M,R)})):_t(T)}return O._promise(E,function(T,Y){return zt(function(){return Me.trans=O,R(T,Y,O)})}).then(function(T){if(E==="readwrite")try{O.idbtrans.commit()}catch{}return E==="readonly"?T:O._completion.then(function(){return T})})}if(A._state.openComplete)return _t(new se.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return _t(new se.DatabaseClosed);A.open().catch(Ue)}return A._state.dbReadyPromise.then(function(){return H(A,E,M,R)})})(this.db,l,[this.name],w);return b&&(C._consoleTask=b,C=C.catch(function(H){return console.trace(H),_t(H)})),C}finally{j&&Qn()}},bt.prototype.get=function(l,s){var c=this;return l&&l.constructor===Object?this.where(l).first(s):l==null?_t(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return c.core.get({trans:h,key:l}).then(function(y){return c.hook.reading.fire(y)})}).then(s)},bt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var s=x(l);if(s.length===1)return this.where(s[0]).equals(l[s[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&s.every(function(H){return 0<=j.keyPath.indexOf(H)})){for(var C=0;C<s.length;++C)if(s.indexOf(j.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(j,C){return j.keyPath.length-C.keyPath.length})[0];if(c&&this.db._maxKey!==kn)return w=c.keyPath.slice(0,s.length),this.where(w).equals(w.map(function(j){return l[j]}));!c&&Nt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function y(j,C){return at(j,C)===0}var w=s.reduce(function(A,C){var H=A[0],A=A[1],E=h[C],M=l[C];return[H||E,H||!E?ka(A,E&&E.multi?function(R){return R=ye(R,C),N(R)&&R.some(function(O){return y(M,O)})}:function(R){return y(M,ye(R,C))}):A]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(w):c?this.filter(w):this.where(s).equals("")},bt.prototype.filter=function(l){return this.toCollection().and(l)},bt.prototype.count=function(l){return this.toCollection().count(l)},bt.prototype.offset=function(l){return this.toCollection().offset(l)},bt.prototype.limit=function(l){return this.toCollection().limit(l)},bt.prototype.each=function(l){return this.toCollection().each(l)},bt.prototype.toArray=function(l){return this.toCollection().toArray(l)},bt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},bt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},bt.prototype.reverse=function(){return this.toCollection().reverse()},bt.prototype.mapToClass=function(l){for(var s=this.db,c=this.name,h=((this.schema.mappedClass=l).prototype instanceof Fs&&(l=(w=>{var j=A,C=w;if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function H(){this.constructor=j}function A(){return w!==null&&w.apply(this,arguments)||this}return m(j,C),j.prototype=C===null?Object.create(C):(H.prototype=C.prototype,new H),Object.defineProperty(A.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),A.prototype.table=function(){return c},A})(l)),new Set),y=l.prototype;y;y=D(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function b(w){if(!w)return w;var j,C=Object.create(l.prototype);for(j in w)if(!h.has(j))try{C[j]=w[j]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},bt.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},bt.prototype.add=function(l,s){var c=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=ii(b)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Ne(l,b,j)}catch{}return j})},bt.prototype.upsert=function(l,s){var c=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return c.core.get({trans:y,key:l}).then(function(b){var w=b??{};return Hi(w,s),h&&Ne(w,h,l),c.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[s]}}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):!!b})})})},bt.prototype.update=function(l,s){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(s):(l=ye(l,this.schema.primKey.keyPath))===void 0?_t(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s)},bt.prototype.put=function(l,s){var c=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=ii(b)(l)),this._trans("readwrite",function(j){return c.core.mutate({trans:j,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Ne(l,b,j)}catch{}return j})},bt.prototype.delete=function(l){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"delete",keys:[l]}).then(function(h){return un(s,[l],h)}).then(function(h){return h.numFailures?Oe.reject(h.failures[0]):void 0})})},bt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"deleteRange",range:Hr}).then(function(c){return un(l,null,c)})}).then(function(s){return s.numFailures?Oe.reject(s.failures[0]):void 0})},bt.prototype.bulkGet=function(l){var s=this;return this._trans("readonly",function(c){return s.core.getMany({keys:l,trans:c}).then(function(h){return h.map(function(y){return s.hook.reading.fire(y)})})})},bt.prototype.bulkAdd=function(l,s,c){var h=this,y=Array.isArray(s)?s:void 0,b=(c=c||(y?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var C=l.length,H=j&&H?l.map(ii(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:H,wantResults:b}).then(function(A){var E=A.numFailures,M=A.failures;if(E===0)return b?A.results:A.lastResult;throw new ae("".concat(h.name,".bulkAdd(): ").concat(E," of ").concat(C," operations failed"),M)})})},bt.prototype.bulkPut=function(l,s,c){var h=this,y=Array.isArray(s)?s:void 0,b=(c=c||(y?void 0:s))?c.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var C=l.length,H=j&&H?l.map(ii(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:H,wantResults:b}).then(function(A){var E=A.numFailures,M=A.failures;if(E===0)return b?A.results:A.lastResult;throw new ae("".concat(h.name,".bulkPut(): ").concat(E," of ").concat(C," operations failed"),M)})})},bt.prototype.bulkUpdate=function(l){var s=this,c=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return c.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var C=[],H=[],A=(l.forEach(function(E,M){var R=E.key,O=E.changes,T=j[M];if(T){for(var Y=0,F=Object.keys(O);Y<F.length;Y++){var L=F[Y],te=O[L];if(L===s.schema.primKey.keyPath){if(at(te,R)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else Ne(T,L,te)}b.push(M),C.push(R),H.push(T)}}),C.length);return c.mutate({trans:w,type:"put",keys:C,values:H,updates:{keys:h,changeSpecs:y}}).then(function(E){var M=E.numFailures,R=E.failures;if(M===0)return A;for(var O=0,T=Object.keys(R);O<T.length;O++){var Y,F=T[O],L=b[Number(F)];L!=null&&(Y=R[F],delete R[F],R[L]=Y)}throw new ae("".concat(s.name,".bulkUpdate(): ").concat(M," of ").concat(A," operations failed"),R)})})})},bt.prototype.bulkDelete=function(l){var s=this,c=l.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return un(s,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new ae("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(c," operations failed"),b)})};var Lr=bt;function bt(){}function si(l){function s(w,j){if(j){for(var C=arguments.length,H=new Array(C-1);--C;)H[C-1]=arguments[C];return c[w].subscribe.apply(null,H),l}if(typeof w=="string")return c[w]}var c={};s.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return s;function b(w,j,C){var H,A;if(typeof w!="object")return j=j||We,A={subscribers:[],fire:C=C||Ue,subscribe:function(E){A.subscribers.indexOf(E)===-1&&(A.subscribers.push(E),A.fire=j(A.fire,E))},unsubscribe:function(E){A.subscribers=A.subscribers.filter(function(M){return M!==E}),A.fire=A.subscribers.reduce(j,C)}},c[w]=s[w]=A;x(H=w).forEach(function(E){var M=H[E];if(N(M))b(E,H[E][0],H[E][1]);else{if(M!=="asap")throw new se.InvalidArgument("Invalid event config");var R=b(E,xt,function(){for(var O=arguments.length,T=new Array(O);O--;)T[O]=arguments[O];R.subscribers.forEach(function(Y){we(function(){Y.apply(null,T)})})})}})}}function en(l,s){return le(s).from({prototype:l}),s}function va(l,s){return!(l.filter||l.algorithm||l.or)&&(s?l.justLimit:!l.replayFilter)}function Li(l,s){l.filter=ka(l.filter,s)}function ui(l,s,c){var h=l.replayFilter;l.replayFilter=h?function(){return ka(h(),s())}:s,l.justLimit=c&&!h}function ra(l,s){if(l.isPrimKey)return s.primaryKey;var c=s.getIndexByKeyPath(l.index);if(c)return c;throw new se.Schema("KeyPath "+l.index+" on object store "+s.name+" is not indexed")}function Kr(l,s,c){var h=ra(l,s.schema);return s.openCursor({trans:c,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function oi(l,s,c,h){var y,b,w=l.replayFilter?ka(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(j,C,H){var A,E;w&&!w(C,H,function(M){return C.stop(M)},function(M){return C.fail(M)})||((E=""+(A=C.primaryKey))=="[object ArrayBuffer]"&&(E=""+new Uint8Array(A)),B(y,E))||(y[E]=!0,s(j,C,H))},Promise.all([l.or._iterate(b,c),Ba(Kr(l,h,c),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ba(Kr(l,h,c),ka(l.algorithm,w),s,!l.keysOnly&&l.valueMapper)}function Ba(l,s,c,h){var y=Dt(h?function(b,w,j){return c(h(b),w,j)}:c);return l.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};s&&!s(b,function(j){return w=j},function(j){b.stop(j),w=Ue},function(j){b.fail(j),w=Ue})||y(b.value,b,function(j){return w=j}),w()})})}ft.prototype._read=function(l,s){var c=this._ctx;return c.error?c.table._trans(null,_t.bind(null,c.error)):c.table._trans("readonly",l).then(s)},ft.prototype._write=function(l){var s=this._ctx;return s.error?s.table._trans(null,_t.bind(null,s.error)):s.table._trans("readwrite",l,"locked")},ft.prototype._addAlgorithm=function(l){var s=this._ctx;s.algorithm=ka(s.algorithm,l)},ft.prototype._iterate=function(l,s){return oi(this._ctx,l,s,this._ctx.table.core)},ft.prototype.clone=function(l){var s=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return l&&q(c,l),s._ctx=c,s},ft.prototype.raw=function(){return this._ctx.valueMapper=null,this},ft.prototype.each=function(l){var s=this._ctx;return this._read(function(c){return oi(s,l,c,s.table.core)})},ft.prototype.count=function(l){var s=this;return this._read(function(c){var h,y=s._ctx,b=y.table.core;return va(y,!0)?b.count({trans:c,query:{index:ra(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,oi(y,function(){return++h,!1},c,b).then(function(){return h}))}).then(l)},ft.prototype.sortBy=function(l,s){var c=l.split(".").reverse(),h=c[0],y=c.length-1;function b(C,H){return H?b(C[c[H]],H-1):C[h]}var w=this._ctx.dir==="next"?1:-1;function j(C,H){return at(b(C,y),b(H,y))*w}return this.toArray(function(C){return C.sort(j)}).then(s)},ft.prototype.toArray=function(l){var s=this;return this._read(function(c){var h,y,b,w=s._ctx;return w.dir==="next"&&va(w,!0)&&0<w.limit?(h=w.valueMapper,y=ra(w,w.table.core.schema),w.table.core.query({trans:c,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(b=[],oi(w,function(j){return b.push(j)},c,w.table.core).then(function(){return b}))},l)},ft.prototype.offset=function(l){var s=this._ctx;return l<=0||(s.offset+=l,va(s)?ui(s,function(){var c=l;return function(h,y){return c===0||(c===1?--c:y(function(){h.advance(c),c=0}),!1)}}):ui(s,function(){var c=l;return function(){return--c<0}})),this},ft.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ui(this._ctx,function(){var s=l;return function(c,h,y){return--s<=0&&h(y),0<=s}},!0),this},ft.prototype.until=function(l,s){return Li(this._ctx,function(c,h,y){return!l(c.value)||(h(y),s)}),this},ft.prototype.first=function(l){return this.limit(1).toArray(function(s){return s[0]}).then(l)},ft.prototype.last=function(l){return this.reverse().first(l)},ft.prototype.filter=function(l){var s;return Li(this._ctx,function(c){return l(c.value)}),(s=this._ctx).isMatch=ka(s.isMatch,l),this},ft.prototype.and=function(l){return this.filter(l)},ft.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},ft.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ft.prototype.desc=function(){return this.reverse()},ft.prototype.eachKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,h){l(h.key,h)})},ft.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},ft.prototype.eachPrimaryKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(c,h){l(h.primaryKey,h)})},ft.prototype.keys=function(l){var s=this._ctx,c=(s.keysOnly=!s.isMatch,[]);return this.each(function(h,y){c.push(y.key)}).then(function(){return c}).then(l)},ft.prototype.primaryKeys=function(l){var s=this._ctx;if(s.dir==="next"&&va(s,!0)&&0<s.limit)return this._read(function(h){var y=ra(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(h){return h.result}).then(l);s.keysOnly=!s.isMatch;var c=[];return this.each(function(h,y){c.push(y.primaryKey)}).then(function(){return c}).then(l)},ft.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},ft.prototype.firstKey=function(l){return this.limit(1).keys(function(s){return s[0]}).then(l)},ft.prototype.lastKey=function(l){return this.reverse().firstKey(l)},ft.prototype.distinct=function(){var l,s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];return s&&s.multi&&(l={},Li(this._ctx,function(h){var h=h.primaryKey.toString(),y=B(l,h);return l[h]=!0,!y})),this},ft.prototype.modify=function(l){var s=this,c=this._ctx;return this._write(function(h){function y(T,Y){var F=Y.failures;M+=T-Y.numFailures;for(var L=0,te=x(F);L<te.length;L++){var oe=te[L];E.push(F[oe])}}var b=typeof l=="function"?l:function(T){return Hi(T,l)},w=c.table.core,A=w.schema.primaryKey,j=A.outbound,C=A.extractKey,H=200,A=s.db._options.modifyChunkSize,E=(A&&(H=typeof A=="object"?A[w.name]||A["*"]||200:A),[]),M=0,R=[],O=l===Yr;return s.clone().primaryKeys().then(function(T){function Y(L){var te=Math.min(H,T.length-L),oe=T.slice(L,L+te);return(O?Promise.resolve([]):w.getMany({trans:h,keys:oe,cache:"immutable"})).then(function(_e){var Ee=[],ce=[],ze=j?[]:null,De=O?oe:[];if(!O)for(var fe=0;fe<te;++fe){var Re=_e[fe],$e={value:nt(Re),primKey:T[L+fe]};b.call($e,$e.value,$e)!==!1&&($e.value==null?De.push(T[L+fe]):j||at(C(Re),C($e.value))===0?(ce.push($e.value),j&&ze.push(T[L+fe])):(De.push(T[L+fe]),Ee.push($e.value)))}return Promise.resolve(0<Ee.length&&w.mutate({trans:h,type:"add",values:Ee}).then(function(lt){for(var Ke in lt.failures)De.splice(parseInt(Ke),1);y(Ee.length,lt)})).then(function(){return(0<ce.length||F&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:ze,values:ce,criteria:F,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<L}).then(function(lt){return y(ce.length,lt)})}).then(function(){return(0<De.length||F&&O)&&w.mutate({trans:h,type:"delete",keys:De,criteria:F,isAdditionalChunk:0<L}).then(function(lt){return un(c.table,De,lt)}).then(function(lt){return y(De.length,lt)})}).then(function(){return T.length>L+te&&Y(L+H)})})}var F=va(c)&&c.limit===1/0&&(typeof l!="function"||O)&&{index:c.index,range:c.range};return Y(0).then(function(){if(0<E.length)throw new ct("Error modifying one or more objects",E,M,R);return T.length})})})},ft.prototype.delete=function(){var l=this._ctx,s=l.range;return!va(l)||l.table.schema.yProps||!l.isPrimKey&&s.type!==3?this.modify(Yr):this._write(function(c){var h=l.table.core.schema.primaryKey,y=s;return l.table.core.count({trans:c,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:c,type:"deleteRange",range:y}).then(function(C){var j=C.failures,C=C.numFailures;if(C)throw new ct("Could not delete some values",Object.keys(j).map(function(H){return j[H]}),b-C);return b-C})})})};var Ao=ft;function ft(){}var Yr=function(l,s){return s.value=null};function Qr(l,s){return l<s?-1:l===s?0:1}function Oo(l,s){return s<l?-1:l===s?0:1}function wn(l,s,c){return l=l instanceof qa?new l.Collection(l):l,l._ctx.error=new(c||TypeError)(s),l}function sa(l){return new l.Collection(l,function(){return Ki("")}).limit(0)}function En(R,s,c,h){var y,b,w,j,C,H,A,E=c.length;if(!c.every(function(T){return typeof T=="string"}))return wn(R,Xt);function M(T){y=T==="next"?function(F){return F.toUpperCase()}:function(F){return F.toLowerCase()},b=T==="next"?function(F){return F.toLowerCase()}:function(F){return F.toUpperCase()},w=T==="next"?Qr:Oo;var Y=c.map(function(F){return{lower:b(F),upper:y(F)}}).sort(function(F,L){return w(F.lower,L.lower)});j=Y.map(function(F){return F.upper}),C=Y.map(function(F){return F.lower}),A=(H=T)==="next"?"":h}M("next");var R=new R.Collection(R,function(){return Gn(j[0],C[E-1]+h)}),O=(R._ondirectionchange=function(T){M(T)},0);return R._addAlgorithm(function(T,Y,F){var L=T.key;if(typeof L=="string"){var te=b(L);if(s(te,C,O))return!0;for(var oe=null,_e=O;_e<E;++_e){var Ee=((ce,ze,De,fe,Re,$e)=>{for(var lt=Math.min(ce.length,fe.length),Ke=-1,Pe=0;Pe<lt;++Pe){var Et=ze[Pe];if(Et!==fe[Pe])return Re(ce[Pe],De[Pe])<0?ce.substr(0,Pe)+De[Pe]+De.substr(Pe+1):Re(ce[Pe],fe[Pe])<0?ce.substr(0,Pe)+fe[Pe]+De.substr(Pe+1):0<=Ke?ce.substr(0,Ke)+ze[Ke]+De.substr(Ke+1):null;Re(ce[Pe],Et)<0&&(Ke=Pe)}return lt<fe.length&&$e==="next"?ce+De.substr(ce.length):lt<ce.length&&$e==="prev"?ce.substr(0,De.length):Ke<0?null:ce.substr(0,Ke)+fe[Ke]+De.substr(Ke+1)})(L,te,j[_e],C[_e],w,H);Ee===null&&oe===null?O=_e+1:(oe===null||0<w(oe,Ee))&&(oe=Ee)}Y(oe!==null?function(){T.continue(oe+A)}:F)}return!1}),R}function Gn(l,s,c,h){return{type:2,lower:l,upper:s,lowerOpen:c,upperOpen:h}}function Ki(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(l,s,c,h){c=c!==!1,h=h===!0;try{return 0<this._cmp(l,s)||this._cmp(l,s)===0&&(c||h)&&(!c||!h)?sa(this):new this.Collection(this,function(){return Gn(l,s,!c,!h)})}catch{return wn(this,pn)}},Rt.prototype.equals=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Ki(l)})},Rt.prototype.above=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Gn(l,void 0,!0)})},Rt.prototype.aboveOrEqual=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Gn(l,void 0,!1)})},Rt.prototype.below=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Gn(void 0,l,!1,!0)})},Rt.prototype.belowOrEqual=function(l){return l==null?wn(this,pn):new this.Collection(this,function(){return Gn(void 0,l)})},Rt.prototype.startsWith=function(l){return typeof l!="string"?wn(this,Xt):this.between(l,l+kn,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):En(this,function(s,c){return s.indexOf(c[0])===0},[l],kn)},Rt.prototype.equalsIgnoreCase=function(l){return En(this,function(s,c){return s===c[0]},[l],"")},Rt.prototype.anyOfIgnoreCase=function(){var l=be.apply(J,arguments);return l.length===0?sa(this):En(this,function(s,c){return c.indexOf(s)!==-1},l,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var l=be.apply(J,arguments);return l.length===0?sa(this):En(this,function(s,c){return c.some(function(h){return s.indexOf(h)===0})},l,kn)},Rt.prototype.anyOf=function(){var l,s,c=this,h=be.apply(J,arguments),y=this._cmp;try{h.sort(y)}catch{return wn(this,pn)}return h.length===0?sa(this):((l=new this.Collection(this,function(){return Gn(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?c._ascending:c._descending,h.sort(y)},s=0,l._addAlgorithm(function(b,w,j){for(var C=b.key;0<y(C,h[s]);)if(++s===h.length)return w(j),!1;return y(C,h[s])===0||(w(function(){b.continue(h[s])}),!1)}),l)},Rt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var l=be.apply(J,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return wn(this,pn)}var s=l.reduce(function(c,h){return c?c.concat([[c[c.length-1][1],h]]):[[-1/0,h]]},null);return s.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(l,F){var c=this,h=this._cmp,y=this._ascending,b=this._descending,w=this._min,j=this._max;if(l.length===0)return sa(this);if(!l.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&y(L[0],L[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var C=!F||F.includeLowers!==!1,H=F&&F.includeUppers===!0,A,E=y;function M(L,te){return E(L[0],te[0])}try{(A=l.reduce(function(L,te){for(var oe=0,_e=L.length;oe<_e;++oe){var Ee=L[oe];if(h(te[0],Ee[1])<0&&0<h(te[1],Ee[0])){Ee[0]=w(Ee[0],te[0]),Ee[1]=j(Ee[1],te[1]);break}}return oe===_e&&L.push(te),L},[])).sort(M)}catch{return wn(this,pn)}var R=0,O=H?function(L){return 0<y(L,A[R][1])}:function(L){return 0<=y(L,A[R][1])},T=C?function(L){return 0<b(L,A[R][0])}:function(L){return 0<=b(L,A[R][0])},Y=O,F=new this.Collection(this,function(){return Gn(A[0][0],A[A.length-1][1],!C,!H)});return F._ondirectionchange=function(L){E=L==="next"?(Y=O,y):(Y=T,b),A.sort(M)},F._addAlgorithm(function(L,te,oe){for(var _e,Ee=L.key;Y(Ee);)if(++R===A.length)return te(oe),!1;return!O(_e=Ee)&&!T(_e)||(c._cmp(Ee,A[R][1])===0||c._cmp(Ee,A[R][0])===0||te(function(){E===y?L.continue(A[R][0]):L.continue(A[R][1])}),!1)}),F},Rt.prototype.startsWithAnyOf=function(){var l=be.apply(J,arguments);return l.every(function(s){return typeof s=="string"})?l.length===0?sa(this):this.inAnyRange(l.map(function(s){return[s,s+kn]})):wn(this,"startsWithAnyOf() only works with strings")};var qa=Rt;function Rt(){}function Bn(l){return Dt(function(s){return Ua(s),l(s.target.error),!1})}function Ua(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var yl="storagemutated",Ha="x-storagemutated-1",tn=si(null,yl),Xr=(yn.prototype._lock=function(){return ee(!Me.global),++this._reculock,this._reculock!==1||Me.global||(Me.lockOwnerFor=this),this},yn.prototype._unlock=function(){if(ee(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Rn(l[1],l[0])}catch{}}return this},yn.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},yn.prototype.create=function(l){var s=this;if(this.mode){var c=this.db.idbdb,h=this.db._state.dbOpenError;if(ee(!this.idbtrans),!l&&!c)switch(h&&h.name){case"DatabaseClosedError":throw new se.DatabaseClosed(h);case"MissingAPIError":throw new se.MissingAPI(h.message,h);default:throw new se.OpenFailed(h)}if(!this.active)throw new se.TransactionInactive;ee(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Dt(function(y){Ua(y),s._reject(l.error)}),l.onabort=Dt(function(y){Ua(y),s.active&&s._reject(new se.Abort(l.error)),s.active=!1,s.on("abort").fire(y)}),l.oncomplete=Dt(function(){s.active=!1,s._resolve(),"mutatedParts"in l&&tn.storagemutated.fire(l.mutatedParts)})}return this},yn.prototype._promise=function(l,s,c){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?_t(new se.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Oe(function(b,w){y._blockedFuncs.push([function(){y._promise(l,s,c).then(b,w)},Me])}):c?zt(function(){var b=new Oe(function(w,j){y._lock();var C=s(w,j,y);C&&C.then&&C.then(w,j)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Oe(function(b,w){var j=s(b,w,y);j&&j.then&&j.then(b,w)}))._lib=!0,h):_t(new se.TransactionInactive)},yn.prototype._root=function(){return this.parent?this.parent._root():this},yn.prototype.waitFor=function(l){var s,c=this._root(),h=Oe.resolve(l),y=(c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return h}):(c._waitingFor=h,c._waitingQueue=[],s=c.idbtrans.objectStore(c.storeNames[0]),(function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(s.get(-1/0).onsuccess=b)})()),c._waitingFor);return new Oe(function(b,w){h.then(function(j){return c._waitingQueue.push(Dt(b.bind(null,j)))},function(j){return c._waitingQueue.push(Dt(w.bind(null,j)))}).finally(function(){c._waitingFor===y&&(c._waitingFor=null)})})},yn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},yn.prototype.table=function(l){var s=this._memoizedTables||(this._memoizedTables={});if(B(s,l))return s[l];var c=this.schema[l];if(c)return(c=new this.db.Table(l,c,this)).core=this.db.core.table(l),s[l]=c;throw new se.NotFound("Table "+l+" not part of transaction")},yn);function yn(){}function Vn(l,s,c,h,y,b,w,j){return{name:l,keyPath:s,unique:c,multi:h,auto:y,compound:b,src:(c&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Yi(s),type:j}}function Yi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function gl(l,s,c){return{name:l,primKey:s,indexes:c,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},c.reduce(function(y,b,w){return b=h(b,w),b&&(y[b[0]]=b[1]),y},{}))};var h}var bl=function(l){try{return l.only([[]]),bl=function(){return[[]]},[[]]}catch{return bl=function(){return kn},kn}};function vl(l){return l==null?function(){}:typeof l=="string"?(s=l).split(".").length===1?function(c){return c[s]}:function(c){return ye(c,s)}:function(c){return ye(c,l)};var s}function ci(l){return[].slice.call(l)}var $s=0;function Ft(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function La(l,s,C){function h(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=O.lower,M=O.upper,R=O.lowerOpen,O=O.upperOpen;return E===void 0?M===void 0?null:s.upperBound(M,!!O):M===void 0?s.lowerBound(E,!!R):s.bound(E,M,!!R,!!O)}function y(A){var E,M=A.name;return{name:M,schema:A,mutate:function(R){var O=R.trans,T=R.type,Y=R.keys,F=R.values,L=R.range;return new Promise(function(te,oe){te=Dt(te);var _e=O.objectStore(M),Ee=_e.keyPath==null,ce=T==="put"||T==="add";if(!ce&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var ze,De=(Y||F||{length:1}).length;if(Y&&F&&Y.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(St){++lt,Ua(St)}var Re=[],$e=[],lt=0;if(T==="deleteRange"){if(L.type===4)return te({numFailures:lt,failures:$e,results:[],lastResult:void 0});L.type===3?Re.push(ze=_e.clear()):Re.push(ze=_e.delete(h(L)))}else{var Ee=ce?Ee?[F,Y]:[F,null]:[Y,null],Ke=Ee[0],Pe=Ee[1];if(ce)for(var Et=0;Et<De;++Et)Re.push(ze=Pe&&Pe[Et]!==void 0?_e[T](Ke[Et],Pe[Et]):_e[T](Ke[Et])),ze.onerror=fe;else for(Et=0;Et<De;++Et)Re.push(ze=_e[T](Ke[Et])),ze.onerror=fe}function bn(St){St=St.target.result,Re.forEach(function(ja,_l){return ja.error!=null&&($e[_l]=ja.error)}),te({numFailures:lt,failures:$e,results:T==="delete"?Y:Re.map(function(ja){return ja.result}),lastResult:St})}ze.onerror=function(St){fe(St),bn(St)},ze.onsuccess=bn})},getMany:function(R){var O=R.trans,T=R.keys;return new Promise(function(Y,F){Y=Dt(Y);for(var L,te=O.objectStore(M),oe=T.length,_e=new Array(oe),Ee=0,ce=0,ze=function(Re){Re=Re.target,_e[Re._pos]=Re.result,++ce===Ee&&Y(_e)},De=Bn(F),fe=0;fe<oe;++fe)T[fe]!=null&&((L=te.get(T[fe]))._pos=fe,L.onsuccess=ze,L.onerror=De,++Ee);Ee===0&&Y(_e)})},get:function(R){var O=R.trans,T=R.key;return new Promise(function(Y,F){Y=Dt(Y);var L=O.objectStore(M).get(T);L.onsuccess=function(te){return Y(te.target.result)},L.onerror=Bn(F)})},query:(E=j,function(R){return new Promise(function(O,T){O=Dt(O);var Y,F,L,ce=R.trans,te=R.values,oe=R.limit,Ee=R.query,_e=oe===1/0?void 0:oe,ze=Ee.index,Ee=Ee.range,ce=ce.objectStore(M),ce=ze.isPrimaryKey?ce:ce.index(ze.name),ze=h(Ee);if(oe===0)return O({result:[]});E?((Ee=te?ce.getAll(ze,_e):ce.getAllKeys(ze,_e)).onsuccess=function(De){return O({result:De.target.result})},Ee.onerror=Bn(T)):(Y=0,F=!te&&"openKeyCursor"in ce?ce.openKeyCursor(ze):ce.openCursor(ze),L=[],F.onsuccess=function(De){var fe=F.result;return!fe||(L.push(te?fe.value:fe.primaryKey),++Y===oe)?O({result:L}):void fe.continue()},F.onerror=Bn(T))})}),openCursor:function(R){var O=R.trans,T=R.values,Y=R.query,F=R.reverse,L=R.unique;return new Promise(function(te,oe){te=Dt(te);var ce=Y.index,_e=Y.range,Ee=O.objectStore(M),Ee=ce.isPrimaryKey?Ee:Ee.index(ce.name),ce=F?L?"prevunique":"prev":L?"nextunique":"next",ze=!T&&"openKeyCursor"in Ee?Ee.openKeyCursor(h(_e),ce):Ee.openCursor(h(_e),ce);ze.onerror=Bn(oe),ze.onsuccess=Dt(function(De){var fe,Re,$e,lt,Ke=ze.result;Ke?(Ke.___id=++$s,Ke.done=!1,fe=Ke.continue.bind(Ke),Re=(Re=Ke.continuePrimaryKey)&&Re.bind(Ke),$e=Ke.advance.bind(Ke),lt=function(){throw new Error("Cursor not stopped")},Ke.trans=O,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Dt(oe),Ke.next=function(){var Pe=this,Et=1;return this.start(function(){return Et--?Pe.continue():Pe.stop()}).then(function(){return Pe})},Ke.start=function(Pe){function Et(){if(ze.result)try{Pe()}catch(St){Ke.fail(St)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var bn=new Promise(function(St,ja){St=Dt(St),ze.onerror=Bn(ja),Ke.fail=ja,Ke.stop=function(_l){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=lt,St(_l)}});return ze.onsuccess=Dt(function(St){ze.onsuccess=Et,Et()}),Ke.continue=fe,Ke.continuePrimaryKey=Re,Ke.advance=$e,Et(),bn},te(Ke)):te(null)},oe)})},count:function(R){var O=R.query,T=R.trans,Y=O.index,F=O.range;return new Promise(function(L,te){var oe=T.objectStore(M),oe=Y.isPrimaryKey?oe:oe.index(Y.name),_e=h(F),_e=_e?oe.count(_e):oe.count();_e.onsuccess=Dt(function(Ee){return L(Ee.target.result)}),_e.onerror=Bn(te)})}}}b=C,w=ci((C=l).objectStoreNames);var b,C={schema:{name:C.name,tables:w.map(function(A){return b.objectStore(A)}).map(function(A){var E=A.keyPath,M=A.autoIncrement,O=N(E),R={},O={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:O,keyPath:E,autoIncrement:M,unique:!0,extractKey:vl(E)},indexes:ci(A.indexNames).map(function(T){return A.index(T)}).map(function(L){var te=L.name,Y=L.unique,F=L.multiEntry,L=L.keyPath,te={name:te,compound:N(L),keyPath:L,unique:Y,multiEntry:F,extractKey:vl(L)};return R[Ft(L)]=te}),getIndexByKeyPath:function(T){return R[Ft(T)]}};return R[":id"]=O.primaryKey,E!=null&&(R[Ft(E)]=O.primaryKey),O})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=C.schema,j=C.hasGetAll,C=w.tables.map(y),H={};return C.forEach(function(A){return H[A.name]=A}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(A){if(H[A])return H[A];throw new Error("Table '".concat(A,"' not found"))},MIN_KEY:-1/0,MAX_KEY:bl(s),schema:w}}function Qi(l,s,c,h){return c=c.IDBKeyRange,s=La(s,c,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},s)}}function xa(l,s){var c=s.db,c=Qi(l._middlewares,c,l._deps,s);l.core=c.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Xi(l,s,c,h){c.forEach(function(y){var b=h[y];s.forEach(function(w){var j=(function C(H,A){return Z(H,A)||(H=D(H))&&C(H,A)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?Q(w,y,{get:function(){return this.table(y)},set:function(C){me(this,y,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,b))})})}function fi(l,s){s.forEach(function(c){for(var h in c)c[h]instanceof l.Table&&delete c[h]})}function Gr(l,s){return l._cfg.version-s._cfg.version}function di(l,s,c,h){var y=l._dbSchema,b=(c.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=gl("$meta",Ps("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(b.create(c),b._completion.catch(h),b._reject.bind(b)),j=Me.transless||Me;zt(function(){if(Me.trans=b,Me.transless=j,s!==0)return xa(l,c),H=s,((C=b).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(A){return A??H}):Oe.resolve(H)).then(function(Y){var E=l,M=Y,R=b,O=c,T=[],Y=E._versions,F=E._dbSchema=xl(0,E.idbdb,O);return(Y=Y.filter(function(L){return L._cfg.version>=M})).length===0?Oe.resolve():(Y.forEach(function(L){T.push(function(){var te,oe,_e,Ee=F,ce=L._cfg.dbschema,ze=(Fi(E,Ee,O),Fi(E,ce,O),F=E._dbSchema=ce,Vi(Ee,ce)),De=(ze.add.forEach(function(fe){Vr(O,fe[0],fe[1].primKey,fe[1].indexes)}),ze.change.forEach(function(fe){if(fe.recreate)throw new se.Upgrade("Not yet support for changing primary key");var Re=O.objectStore(fe.name);fe.add.forEach(function($e){return Zi(Re,$e)}),fe.change.forEach(function($e){Re.deleteIndex($e.name),Zi(Re,$e)}),fe.del.forEach(function($e){return Re.deleteIndex($e)})}),L._cfg.contentUpgrade);if(De&&L._cfg.version>M)return xa(E,O),R._memoizedTables={},te=Ze(ce),ze.del.forEach(function(fe){te[fe]=Ee[fe]}),fi(E,[E.Transaction.prototype]),Xi(E,[E.Transaction.prototype],x(te),te),R.schema=te,(oe=de(De))&&Qt(),ce=Oe.follow(function(){var fe;(_e=De(R))&&oe&&(fe=Sn.bind(null,null),_e.then(fe,fe))}),_e&&typeof _e.then=="function"?Oe.resolve(_e):ce.then(function(){return _e})}),T.push(function(te){var oe,_e,Ee=L._cfg.dbschema;oe=Ee,_e=te,[].slice.call(_e.db.objectStoreNames).forEach(function(ce){return oe[ce]==null&&_e.db.deleteObjectStore(ce)}),fi(E,[E.Transaction.prototype]),Xi(E,[E.Transaction.prototype],E._storeNames,E._dbSchema),R.schema=E._dbSchema}),T.push(function(te){E.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(E.idbdb.version/10)===L._cfg.version?(E.idbdb.deleteObjectStore("$meta"),delete E._dbSchema.$meta,E._storeNames=E._storeNames.filter(function(oe){return oe!=="$meta"})):te.objectStore("$meta").put(L._cfg.version,"version"))})}),(function L(){return T.length?Oe.resolve(T.shift()(R.idbtrans)).then(L):Oe.resolve()})().then(function(){Ws(F,O)}))}).catch(w);var C,H;x(y).forEach(function(A){Vr(c,A,y[A].primKey,y[A].indexes)}),xa(l,c),Oe.follow(function(){return l.on.populate.fire(b)}).catch(w)})}function Gi(l,s){Ws(l._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var c=xl(0,l.idbdb,s);Fi(l,l._dbSchema,s);for(var h=0,y=Vi(c,l._dbSchema).change;h<y.length;h++){var b=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=s.objectStore(w.name);w.add.forEach(function(C){Nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(C.src)),Zi(j,C)})})(y[h]);if(typeof b=="object")return b.value}}function Vi(l,s){var c,h={del:[],add:[],change:[]};for(c in l)s[c]||h.del.push(c);for(c in s){var y=l[c],b=s[c];if(y){var w={name:c,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,C=b.idxByName,H=void 0;for(H in j)C[H]||w.del.push(H);for(H in C){var A=j[H],E=C[H];A?A.src!==E.src&&w.change.push(E):w.add.push(E)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([c,b])}return h}function Vr(l,s,c,h){var y=l.db.createObjectStore(s,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});h.forEach(function(b){return Zi(y,b)})}function Ws(l,s){x(l).forEach(function(c){s.db.objectStoreNames.contains(c)||(Nt&&console.debug("Dexie: Creating missing table",c),Vr(s,c,l[c].primKey,l[c].indexes))})}function Zi(l,s){l.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function xl(l,s,c){var h={};return ue(s.objectStoreNames,0).forEach(function(y){for(var b=c.objectStore(y),w=Vn(Yi(H=b.keyPath),H||"",!0,!1,!!b.autoIncrement,H&&typeof H!="string",!0),j=[],C=0;C<b.indexNames.length;++C){var A=b.index(b.indexNames[C]),H=A.keyPath,A=Vn(A.name,H,!!A.unique,!!A.multiEntry,!1,H&&typeof H!="string",!1);j.push(A)}h[y]=gl(y,w,j)}),h}function Fi(l,s,c){for(var h=c.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],w=c.objectStore(b);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var C,H=w.indexNames[j],A=w.index(H).keyPath,A=typeof A=="string"?A:"["+ue(A).join("+")+"]";s[b]&&(C=s[b].idxByName[A])&&(C.name=H,delete s[b].idxByName[A],s[b].idxByName[H]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Ps(l){return l.split(",").map(function(s,c){var y=s.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(s=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Vn(y,b||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),N(b),c===0,h)})}Sl.prototype._createTableSchema=gl,Sl.prototype._parseIndexSyntax=Ps,Sl.prototype._parseStoresSpec=function(l,s){var c=this;x(l).forEach(function(h){if(l[h]!==null){var y=c._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new se.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new se.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),b=c._createTableSchema(h,b,y),s[h]=b}})},Sl.prototype.stores=function(c){var s=this.db,c=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,c):c,s._versions),h={},y={};return c.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),s._dbSchema=y,fi(s,[s._allTables,s,s.Transaction.prototype]),Xi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],x(y),y),s._storeNames=x(y),this},Sl.prototype.upgrade=function(l){return this._cfg.contentUpgrade=gt(this._cfg.contentUpgrade||Ue,l),this};var To=Sl;function Sl(){}function Zr(l,s){var c=l._dbNamesDB;return c||(c=l._dbNamesDB=new Zn(li,{addons:[],indexedDB:l,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Ji(l){return l&&typeof l.databases=="function"}function Fr(l){return zt(function(){return Me.letThrough=!0,l()})}function Jr(l){return!("from"in l)}var nn=function(l,s){var c;if(!this)return c=new nn,l&&"d"in l&&q(c,l),c;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?s:l}:{d:0})};function hi(l,s,c){var h=at(s,c);if(!isNaN(h)){if(0<h)throw RangeError();if(Jr(l))return q(l,{from:s,to:c,d:1});var h=l.l,y=l.r;if(at(c,l.from)<0)return h?hi(h,s,c):l.l={from:s,to:c,d:1,l:null,r:null},eu(l);if(0<at(s,l.to))return y?hi(y,s,c):l.r={from:s,to:c,d:1,l:null,r:null},eu(l);at(s,l.from)<0&&(l.from=s,l.l=null,l.d=y?y.d+1:1),0<at(c,l.to)&&(l.to=c,l.r=null,l.d=l.l?l.l.d+1:1),s=!l.r,h&&!l.l&&Ka(l,h),y&&s&&Ka(l,y)}}function Ka(l,s){Jr(s)||(function c(h,y){var b=y.from,w=y.l,j=y.r;hi(h,b,y.to),w&&c(h,w),j&&c(h,j)})(l,s)}function Is(l,s){var c=$i(s),h=c.next();if(!h.done)for(var y=h.value,b=$i(l),w=b.next(y.from),j=w.value;!h.done&&!w.done;){if(at(j.from,y.to)<=0&&0<=at(j.to,y.from))return!0;at(y.from,j.from)<0?y=(h=c.next(j.from)).value:j=(w=b.next(y.from)).value}return!1}function $i(l){var s=Jr(l)?null:{s:0,n:l};return{next:function(c){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&at(c,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||at(c,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function eu(l){var s,c,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(s=y=="r"?"l":"r",c=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],c[y]=h[s],(l[s]=c).d=$r(c)),l.d=$r(l)}function $r(c){var s=c.r,c=c.l;return(s?c?Math.max(s.d,c.d):s.d:c?c.d:0)+1}function Wi(l,s){return x(s).forEach(function(c){l[c]?Ka(l[c],s[c]):l[c]=(function h(y){var b,w,j={};for(b in y)B(y,b)&&(w=y[b],j[b]=!w||typeof w!="object"||Tt.has(w.constructor)?w:h(w));return j})(s[c])}),l}function Wr(l,s){return l.all||s.all||Object.keys(l).some(function(c){return s[c]&&Is(s[c],l[c])})}W(nn.prototype,((mn={add:function(l){return Ka(this,l),this},addKey:function(l){return hi(this,l,l),this},addKeys:function(l){var s=this;return l.forEach(function(c){return hi(s,c,c)}),this},hasKey:function(l){var s=$i(this).next(l).value;return s&&at(s.from,l)<=0&&0<=at(s.to,l)}})[K]=function(){return $i(this)},mn));var Ya={},Pr={},Ir=!1;function Pi(l){Wi(Pr,l),Ir||(Ir=!0,setTimeout(function(){Ir=!1,es(Pr,!(Pr={}))},0))}function es(l,s){s===void 0&&(s=!1);var c=new Set;if(l.all)for(var h=0,y=Object.values(Ya);h<y.length;h++)tu(j=y[h],l,c,s);else for(var b in l){var w,j,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(w=b[1],b=b[2],j=Ya["idb://".concat(w,"/").concat(b)])&&tu(j,l,c,s)}c.forEach(function(C){return C()})}function tu(l,s,c,h){for(var y=[],b=0,w=Object.entries(l.queries.query);b<w.length;b++){for(var j=w[b],C=j[0],H=[],A=0,E=j[1];A<E.length;A++){var M=E[A];Wr(s,M.obsSet)?M.subscribers.forEach(function(Y){return c.add(Y)}):h&&H.push(M)}h&&y.push([C,H])}if(h)for(var R=0,O=y;R<O.length;R++){var T=O[R],C=T[0],H=T[1];l.queries.query[C]=H}}function Do(l){var s=l._state,c=l._deps.indexedDB;if(s.isBeingOpened||l.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?_t(s.dbOpenError):l});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,y=Math.round(10*l.verno),b=!1;function w(){if(s.openCanceller!==h)throw new se.DatabaseClosed("db.open() was cancelled")}function j(){return new Oe(function(M,R){if(w(),!c)throw new se.MissingAPI;var O=l.name,T=s.autoSchema||!y?c.open(O):c.open(O,y);if(!T)throw new se.MissingAPI;T.onerror=Bn(R),T.onblocked=Dt(l._fireOnBlocked),T.onupgradeneeded=Dt(function(Y){var F;A=T.transaction,s.autoSchema&&!l._options.allowEmptyDB?(T.onerror=Ua,A.abort(),T.result.close(),(F=c.deleteDatabase(O)).onsuccess=F.onerror=Dt(function(){R(new se.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(A.onerror=Bn(R),F=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,E=F<1,l.idbdb=T.result,b&&Gi(l,A),di(l,F/10,A,R))},R),T.onsuccess=Dt(function(){A=null;var Y,F,L,te,oe,_e,Ee=l.idbdb=T.result,ce=ue(Ee.objectStoreNames);if(0<ce.length)try{var ze=Ee.transaction((oe=ce).length===1?oe[0]:oe,"readonly");if(s.autoSchema)_e=Ee,te=ze,(L=l).verno=_e.version/10,te=L._dbSchema=xl(0,_e,te),L._storeNames=ue(_e.objectStoreNames,0),Xi(L,[L._allTables],x(te),te);else if(Fi(l,l._dbSchema,ze),F=ze,((F=Vi(xl(0,(Y=l).idbdb,F),Y._dbSchema)).add.length||F.change.some(function(De){return De.add.length||De.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),y=Ee.version+1,b=!0,M(j());xa(l,ze)}catch{}Ra.push(l),Ee.onversionchange=Dt(function(De){s.vcFired=!0,l.on("versionchange").fire(De)}),Ee.onclose=Dt(function(){l.close({disableAutoOpen:!1})}),E&&(ce=l._deps,oe=O,Ji(_e=ce.indexedDB)||oe===li||Zr(_e,ce.IDBKeyRange).put({name:oe}).catch(Ue)),M()},R)}).catch(function(M){switch(M?.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Oe.reject(M)})}var C,H=s.dbReadyResolve,A=null,E=!1;return Oe.race([h,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function R(){return indexedDB.databases().finally(M)}C=setInterval(R,100),R()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(j)]).then(function(){return w(),s.onReadyBeingFired=[],Oe.resolve(Fr(function(){return l.on.ready.fire(l.vip)})).then(function M(){var R;if(0<s.onReadyBeingFired.length)return R=s.onReadyBeingFired.reduce(gt,Ue),s.onReadyBeingFired=[],Oe.resolve(Fr(function(){return R(l.vip)})).then(M)})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(M){s.dbOpenError=M;try{A&&A.abort()}catch{}return h===s.openCanceller&&l._close(),_t(M)}).finally(function(){s.openComplete=!0,H()}).then(function(){var M;return E&&(M={},l.tables.forEach(function(R){R.schema.indexes.forEach(function(O){O.name&&(M["idb://".concat(l.name,"/").concat(R.name,"/").concat(O.name)]=new nn(-1/0,[[[]]]))}),M["idb://".concat(l.name,"/").concat(R.name,"/")]=M["idb://".concat(l.name,"/").concat(R.name,"/:dels")]=new nn(-1/0,[[[]]])}),tn(yl).fire(M),es(M,!0)),l})}function mi(l){function s(b){return l.next(b)}var c=y(s),h=y(function(b){return l.throw(b)});function y(b){return function(j){var j=b(j),C=j.value;return j.done?C:C&&typeof C.then=="function"?C.then(c,h):N(C)?Promise.all(C).then(c,h):c(C)}}return y(s)()}function Sa(l,s,c){for(var h=N(l)?l.slice():[l],y=0;y<c;++y)h.push(s);return h}var Mo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var c=l.table(h),h=c.schema,y={},b=[];function w(M,R,O){var L=Ft(M),T=y[L]=y[L]||[],Y=M==null?0:typeof M=="string"?1:M.length,F=0<R,L=d(d({},O),{name:F?"".concat(L,"(virtual-from:").concat(O.name,")"):O.name,lowLevelIndex:O,isVirtual:F,keyTail:R,keyLength:Y,extractKey:vl(M),unique:!F&&O.unique});return T.push(L),L.isPrimaryKey||b.push(L),1<Y&&w(Y===2?M[0]:M.slice(0,Y-1),R+1,O),T.sort(function(te,oe){return te.keyTail-oe.keyTail}),L}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var C=0,H=h.indexes;C<H.length;C++){var A=H[C];w(A.keyPath,0,A)}function E(M){var R,O=M.query.index;return O.isVirtual?d(d({},M),{query:{index:O.lowLevelIndex,range:(R=M.query.range,O=O.keyTail,{type:R.type===1?2:R.type,lower:Sa(R.lower,R.lowerOpen?l.MAX_KEY:l.MIN_KEY,O),lowerOpen:!0,upper:Sa(R.upper,R.upperOpen?l.MIN_KEY:l.MAX_KEY,O),upperOpen:!0})}}):M}return d(d({},c),{schema:d(d({},h),{primaryKey:j,indexes:b,getIndexByKeyPath:function(M){return(M=y[Ft(M)])&&M[0]}}),count:function(M){return c.count(E(M))},query:function(M){return c.query(E(M))},openCursor:function(M){var R=M.query.index,O=R.keyTail,T=R.keyLength;return R.isVirtual?c.openCursor(E(M)).then(function(F){return F&&Y(F)}):c.openCursor(M);function Y(F){return Object.create(F,{continue:{value:function(L){L!=null?F.continue(Sa(L,M.reverse?l.MAX_KEY:l.MIN_KEY,O)):M.unique?F.continue(F.key.slice(0,T).concat(M.reverse?l.MIN_KEY:l.MAX_KEY,O)):F.continue()}},continuePrimaryKey:{value:function(L,te){F.continuePrimaryKey(Sa(L,l.MAX_KEY,O),te)}},primaryKey:{get:function(){return F.primaryKey}},key:{get:function(){var L=F.key;return T===1?L[0]:L.slice(0,T)}},value:{get:function(){return F.value}}})}}})}})}};function Ii(l,s,c,h){return c=c||{},h=h||"",x(l).forEach(function(y){var b,w,j;B(s,y)?(b=l[y],w=s[y],typeof b=="object"&&typeof w=="object"&&b&&w?(j=Xe(b))!==Xe(w)?c[h+y]=s[y]:j==="Object"?Ii(b,w,c,h+y+"."):b!==w&&(c[h+y]=s[y]):b!==w&&(c[h+y]=s[y])):c[h+y]=void 0}),x(s).forEach(function(y){B(l,y)||(c[h+y]=s[y])}),c}function er(l,s){return s.type==="delete"?s.keys:s.keys||s.values.map(l.extractKey)}var nu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(s){var c=l.table(s),h=c.schema.primaryKey;return d(d({},c),{mutate:function(y){var b=Me.trans,w=b.table(s).hook,j=w.deleting,C=w.creating,H=w.updating;switch(y.type){case"add":if(C.fire===Ue)break;return b._promise("readwrite",function(){return A(y)},!0);case"put":if(C.fire===Ue&&H.fire===Ue)break;return b._promise("readwrite",function(){return A(y)},!0);case"delete":if(j.fire===Ue)break;return b._promise("readwrite",function(){return A(y)},!0);case"deleteRange":if(j.fire===Ue)break;return b._promise("readwrite",function(){return(function E(M,R,O){return c.query({trans:M,values:!1,query:{index:h,range:R},limit:O}).then(function(T){var Y=T.result;return A({type:"delete",keys:Y,trans:M}).then(function(F){return 0<F.numFailures?Promise.reject(F.failures[0]):Y.length<O?{failures:[],numFailures:0,lastResult:void 0}:E(M,d(d({},R),{lower:Y[Y.length-1],lowerOpen:!0}),O)})})})(y.trans,y.range,1e4)},!0)}return c.mutate(y);function A(E){var M,R,O,T=Me.trans,Y=E.keys||er(h,E);if(Y)return(E=E.type==="add"||E.type==="put"?d(d({},E),{keys:Y}):d({},E)).type!=="delete"&&(E.values=g([],E.values)),E.keys&&(E.keys=g([],E.keys)),M=c,O=Y,((R=E).type==="add"?Promise.resolve([]):M.getMany({trans:R.trans,keys:O,cache:"immutable"})).then(function(F){var L=Y.map(function(te,oe){var _e,Ee,ce,ze=F[oe],De={onerror:null,onsuccess:null};return E.type==="delete"?j.fire.call(De,te,ze,T):E.type==="add"||ze===void 0?(_e=C.fire.call(De,te,E.values[oe],T),te==null&&_e!=null&&(E.keys[oe]=te=_e,h.outbound||Ne(E.values[oe],h.keyPath,te))):(_e=Ii(ze,E.values[oe]),(Ee=H.fire.call(De,_e,te,ze,T))&&(ce=E.values[oe],Object.keys(Ee).forEach(function(fe){B(ce,fe)?ce[fe]=Ee[fe]:Ne(ce,fe,Ee[fe])}))),De});return c.mutate(E).then(function(te){for(var oe=te.failures,_e=te.results,Ee=te.numFailures,te=te.lastResult,ce=0;ce<Y.length;++ce){var ze=(_e||Y)[ce],De=L[ce];ze==null?De.onerror&&De.onerror(oe[ce]):De.onsuccess&&De.onsuccess(E.type==="put"&&F[ce]?E.values[ce]:ze)}return{failures:oe,results:_e,numFailures:Ee,lastResult:te}}).catch(function(te){return L.forEach(function(oe){return oe.onerror&&oe.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function ts(l,s,c){try{if(!s||s.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<s.keys.length&&b<l.length;++y)at(s.keys[y],l[b])===0&&(h.push(c?nt(s.values[y]):s.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var au={stack:"dbcore",level:-1,create:function(l){return{table:function(s){var c=l.table(s);return d(d({},c),{getMany:function(h){var y;return h.cache?(y=ts(h.keys,h.trans._cache,h.cache==="clone"))?Oe.resolve(y):c.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?nt(b):b},b}):c.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),c.mutate(h)}})}}}};function Qa(l,s){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function lu(l,s){switch(l){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var zo={stack:"dbcore",level:0,name:"Observability",create:function(l){var s=l.schema.name,c=new nn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Me.subscr&&y!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Me.querier));return l.transaction(h,y,b)},table:function(h){function y(Y){var T,Y=Y.query;return[T=Y.index,new nn((T=(Y=Y.range).lower)!=null?T:l.MIN_KEY,(T=Y.upper)!=null?T:l.MAX_KEY)]}var b=l.table(h),w=b.schema,j=w.primaryKey,C=w.indexes,H=j.extractKey,A=j.outbound,E=j.autoIncrement&&C.filter(function(O){return O.compound&&O.keyPath.includes(j.keyPath)}),M=d(d({},b),{mutate:function(O){function T(Re){return Re="idb://".concat(s,"/").concat(h,"/").concat(Re),oe[Re]||(oe[Re]=new nn)}var Y,F,L,te=O.trans,oe=O.mutatedParts||(O.mutatedParts={}),_e=T(""),Ee=T(":dels"),ce=O.type,De=O.type==="deleteRange"?[O.range]:O.type==="delete"?[O.keys]:O.values.length<50?[er(j,O).filter(function(Re){return Re}),O.values]:[],ze=De[0],De=De[1],fe=O.trans._cache;return N(ze)?(_e.addKeys(ze),(ce=ce==="delete"||ze.length===De.length?ts(ze,fe):null)||Ee.addKeys(ze),(ce||De)&&(Y=T,F=ce,L=De,w.indexes.forEach(function(Re){var $e=Y(Re.name||"");function lt(Pe){return Pe!=null?Re.extractKey(Pe):null}function Ke(Pe){Re.multiEntry&&N(Pe)?Pe.forEach(function(Et){return $e.addKey(Et)}):$e.addKey(Pe)}(F||L).forEach(function(Pe,St){var bn=F&&lt(F[St]),St=L&&lt(L[St]);at(bn,St)!==0&&(bn!=null&&Ke(bn),St!=null)&&Ke(St)})}))):ze?(De={from:(fe=ze.lower)!=null?fe:l.MIN_KEY,to:(ce=ze.upper)!=null?ce:l.MAX_KEY},Ee.add(De),_e.add(De)):(_e.add(c),Ee.add(c),w.indexes.forEach(function(Re){return T(Re.name).add(c)})),b.mutate(O).then(function(Re){return!ze||O.type!=="add"&&O.type!=="put"||(_e.addKeys(Re.results),E&&E.forEach(function($e){for(var lt=O.values.map(function(bn){return $e.extractKey(bn)}),Ke=$e.keyPath.findIndex(function(bn){return bn===j.keyPath}),Pe=0,Et=Re.results.length;Pe<Et;++Pe)lt[Pe][Ke]=Re.results[Pe];T($e.name).addKeys(lt)})),te.mutatedParts=Wi(te.mutatedParts||{},oe),Re})}}),R={get:function(O){return[j,new nn(O.key)]},getMany:function(O){return[j,new nn().addKeys(O.keys)]},count:y,query:y,openCursor:y};return x(R).forEach(function(O){M[O]=function(T){var Y=Me.subscr,F=!!Y,L=Qa(Me,b)&&lu(O,T)?T.obsSet={}:Y;if(F){var te,Y=function(De){return De="idb://".concat(s,"/").concat(h,"/").concat(De),L[De]||(L[De]=new nn)},oe=Y(""),_e=Y(":dels"),F=R[O](T),Ee=F[0],F=F[1];if((O==="query"&&Ee.isPrimaryKey&&!T.values?_e:Y(Ee.name||"")).add(F),!Ee.isPrimaryKey){if(O!=="count")return te=O==="query"&&A&&T.values&&b.query(d(d({},T),{values:!1})),b[O].apply(this,arguments).then(function(De){if(O==="query"){if(A&&T.values)return te.then(function(lt){return lt=lt.result,oe.addKeys(lt),De});var fe=T.values?De.result.map(H):De.result;(T.values?oe:_e).addKeys(fe)}else{var Re,$e;if(O==="openCursor")return $e=T.values,(Re=De)&&Object.create(Re,{key:{get:function(){return _e.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var lt=Re.primaryKey;return _e.addKey(lt),lt}},value:{get:function(){return $e&&oe.addKey(Re.primaryKey),Re.value}}})}return De});_e.add(c)}}return b[O].apply(this,arguments)}}),M}})}};function iu(l,s,c){var h;return c.numFailures===0?s:s.type==="deleteRange"||(h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1,c.numFailures===h)?null:(h=d({},s),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in c.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in c.failures)})),h)}function tr(l,s){return c=l,((h=s).lower===void 0||(h.lowerOpen?0<at(c,h.lower):0<=at(c,h.lower)))&&(c=l,(h=s).upper===void 0||(h.upperOpen?at(c,h.upper)<0:at(c,h.upper)<=0));var c,h}function ns(l,s,c,h,y,b){var w,j,C,H,A,E;return!c||c.length===0||(w=s.query.index,j=w.multiEntry,C=s.query.range,H=h.schema.primaryKey.extractKey,A=w.extractKey,E=(w.lowLevelIndex||w).extractKey,(h=c.reduce(function(M,R){var O=M,T=[];if(R.type==="add"||R.type==="put")for(var Y=new nn,F=R.values.length-1;0<=F;--F){var L,te=R.values[F],oe=H(te);!Y.hasKey(oe)&&(L=A(te),j&&N(L)?L.some(function(De){return tr(De,C)}):tr(L,C))&&(Y.addKey(oe),T.push(te))}switch(R.type){case"add":var _e=new nn().addKeys(s.values?M.map(function(fe){return H(fe)}):M),O=M.concat(s.values?T.filter(function(fe){return fe=H(fe),!_e.hasKey(fe)&&(_e.addKey(fe),!0)}):T.map(function(fe){return H(fe)}).filter(function(fe){return!_e.hasKey(fe)&&(_e.addKey(fe),!0)}));break;case"put":var Ee=new nn().addKeys(R.values.map(function(fe){return H(fe)}));O=M.filter(function(fe){return!Ee.hasKey(s.values?H(fe):fe)}).concat(s.values?T:T.map(function(fe){return H(fe)}));break;case"delete":var ce=new nn().addKeys(R.keys);O=M.filter(function(fe){return!ce.hasKey(s.values?H(fe):fe)});break;case"deleteRange":var ze=R.range;O=M.filter(function(fe){return!tr(H(fe),ze)})}return O},l))===l)?l:(h.sort(function(M,R){return at(E(M),E(R))||at(H(M),H(R))}),s.limit&&s.limit<1/0&&(h.length>s.limit?h.length=s.limit:l.length===s.limit&&h.length<s.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function wl(l,s){return at(l.lower,s.lower)===0&&at(l.upper,s.upper)===0&&!!l.lowerOpen==!!s.lowerOpen&&!!l.upperOpen==!!s.upperOpen}function pi(l,s){return((c,h,y,b)=>{if(c===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((c=at(c,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return c})(l.lower,s.lower,l.lowerOpen,s.lowerOpen)<=0&&0<=((c,h,y,b)=>{if(c===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((c=at(c,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return c})(l.upper,s.upper,l.upperOpen,s.upperOpen)}function Ro(l,s,c,h){l.subscribers.add(c),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(c),l.subscribers.size===0&&(y=l,b=s,setTimeout(function(){y.subscribers.size===0&&Se(b,y)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(l){var s=l.schema.name;return d(d({},l),{transaction:function(c,h,y){var b,w,j=l.transaction(c,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,j.addEventListener("abort",(w=function(C){return function(){if(b.abort(),h==="readwrite"){for(var H=new Set,A=0,E=c;A<E.length;A++){var M=E[A],R=Ya["idb://".concat(s,"/").concat(M)];if(R){var O=l.table(M),T=R.optimisticOps.filter(function(Re){return Re.trans===j});if(j._explicit&&C&&j.mutatedParts)for(var Y=0,F=Object.values(R.queries.query);Y<F.length;Y++)for(var L=0,te=(Ee=F[Y]).slice();L<te.length;L++)Wr((ce=te[L]).obsSet,j.mutatedParts)&&(Se(Ee,ce),ce.subscribers.forEach(function(Re){return H.add(Re)}));else if(0<T.length){R.optimisticOps=R.optimisticOps.filter(function(Re){return Re.trans!==j});for(var oe=0,_e=Object.values(R.queries.query);oe<_e.length;oe++)for(var Ee,ce,ze,De=0,fe=(Ee=_e[oe]).slice();De<fe.length;De++)(ce=fe[De]).res!=null&&j.mutatedParts&&(C&&!ce.dirty?(ze=Object.isFrozen(ce.res),ze=ns(ce.res,ce.req,T,O,ce,ze),ce.dirty?(Se(Ee,ce),ce.subscribers.forEach(function(Re){return H.add(Re)})):ze!==ce.res&&(ce.res=ze,ce.promise=Oe.resolve({result:ze}))):(ce.dirty&&Se(Ee,ce),ce.subscribers.forEach(function(Re){return H.add(Re)})))}}}H.forEach(function(Re){return Re()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(c){var h=l.table(c),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var w,j=Me.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=Ya["idb://".concat(s,"/").concat(c)])?(j=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||er(y,b).some(function(C){return C==null}))?(w.optimisticOps.push(b),b.mutatedParts&&Pi(b.mutatedParts),j.then(function(C){0<C.numFailures&&(Se(w.optimisticOps,b),(C=iu(0,b,C))&&w.optimisticOps.push(C),b.mutatedParts)&&Pi(b.mutatedParts)}),j.catch(function(){Se(w.optimisticOps,b),b.mutatedParts&&Pi(b.mutatedParts)})):j.then(function(C){var H=iu(0,d(d({},b),{values:b.values.map(function(A,E){var M;return C.failures[E]?A:(Ne(M=(M=y.keyPath)!=null&&M.includes(".")?nt(A):d({},A),y.keyPath,C.results[E]),M)})}),C);w.optimisticOps.push(H),queueMicrotask(function(){return b.mutatedParts&&Pi(b.mutatedParts)})}),j):h.mutate(b)},query:function(b){var w,j,C,H,A,E,M;return Qa(Me,h)&&lu("query",b)?(w=((C=Me.trans)==null?void 0:C.db._options.cache)==="immutable",j=(C=Me).requery,C=C.signal,E=((R,O,T,Y)=>{var F=Ya["idb://".concat(R,"/").concat(O)];if(!F)return[];if(!(R=F.queries[T]))return[null,!1,F,null];var L=R[(Y.query?Y.query.index.name:null)||""];if(!L)return[null,!1,F,null];switch(T){case"query":var te=L.find(function(oe){return oe.req.limit===Y.limit&&oe.req.values===Y.values&&wl(oe.req.query.range,Y.query.range)});return te?[te,!0,F,L]:[L.find(function(oe){return("limit"in oe.req?oe.req.limit:1/0)>=Y.limit&&(!Y.values||oe.req.values)&&pi(oe.req.query.range,Y.query.range)}),!1,F,L];case"count":return te=L.find(function(oe){return wl(oe.req.query.range,Y.query.range)}),[te,!!te,F,L]}})(s,c,"query",b),M=E[0],H=E[2],A=E[3],M&&E[1]?M.obsSet=b.obsSet:(E=h.query(b).then(function(R){var O=R.result;if(M&&(M.res=O),w){for(var T=0,Y=O.length;T<Y;++T)Object.freeze(O[T]);Object.freeze(O)}else R.result=nt(O);return R}).catch(function(R){return A&&M&&Se(A,M),Promise.reject(R)}),M={obsSet:b.obsSet,promise:E,subscribers:new Set,type:"query",req:b,dirty:!1},A?A.push(M):(A=[M],(H=H||(Ya["idb://".concat(s,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=A)),Ro(M,A,j,C),M.promise.then(function(R){return{result:ns(R.result,b,H?.optimisticOps,h,M,w)}})):h.query(b)}})}})}};function yi(l,s){return new Proxy(l,{get:function(c,h,y){return h==="db"?s:Reflect.get(c,h,y)}})}kt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new se.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var s=this._versions,c=s.filter(function(h){return h._cfg.version===l})[0];return c||(c=new this.Version(l),s.push(c),s.sort(Gr),c.stores({}),this._state.autoSchema=!1),c},kt.prototype._whenReady=function(l){var s=this;return this.idbdb&&(this._state.openComplete||Me.letThrough||this._vip)?l():new Oe(function(c,h){if(s._state.openComplete)return h(new se.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new se.DatabaseClosed);s.open().catch(Ue)}s._state.dbReadyPromise.then(c,h)}).then(l)},kt.prototype.use=function(y){var s=y.stack,c=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:s,name:y}),this._middlewares[s]||(this._middlewares[s]=[]));return b.push({stack:s,create:c,level:h??10,name:y}),b.sort(function(w,j){return w.level-j.level}),this},kt.prototype.unuse=function(l){var s=l.stack,c=l.name,h=l.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return h?y.create!==h:!!c&&y.name!==c})),this},kt.prototype.open=function(){var l=this;return Rn(sn,function(){return Do(l)})},kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,s=Ra.indexOf(this);if(0<=s&&Ra.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Oe(function(c){l.dbReadyResolve=c}),l.openCanceller=new Oe(function(c,h){l.cancelOpen=h}))},kt.prototype.close=function(s){var s=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,c=this._state;s?(c.isBeingOpened&&c.cancelOpen(new se.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new se.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},kt.prototype.delete=function(l){var s=this,c=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Oe(function(y,b){function w(){s.close(l);var j=s._deps.indexedDB.deleteDatabase(s.name);j.onsuccess=Dt(function(){var C,H,A;C=s._deps,H=s.name,Ji(A=C.indexedDB)||H===li||Zr(A,C.IDBKeyRange).delete(H).catch(Ue),y()}),j.onerror=Bn(b),j.onblocked=s._fireOnBlocked}if(c)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},kt.prototype.backendDB=function(){return this.idbdb},kt.prototype.isOpen=function(){return this.idbdb!==null},kt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(kt.prototype,"tables",{get:function(){var l=this;return x(this._allTables).map(function(s){return l._allTables[s]})},enumerable:!1,configurable:!0}),kt.prototype.transaction=function(){var l=(function(s,c,h){var y=arguments.length;if(y<2)throw new se.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[s,it(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},kt.prototype._transaction=function(l,s,c){var h,y,b=this,w=Me.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=s.map(function(H){if(H=H instanceof b.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),l=="r"||l===ia)h=ia;else{if(l!="rw"&&l!=ba)throw new se.InvalidArgument("Invalid transaction mode: "+l);h=ba}if(w){if(w.mode===ia&&h===ba){if(!j)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(H){if(w&&w.storeNames.indexOf(H)===-1){if(!j)throw new se.SubTransaction("Table "+H+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(H){return w?w._promise(null,function(A,E){E(H)}):_t(H)}var C=(function H(A,E,M,R,O){return Oe.resolve().then(function(){var L=Me.transless||Me,T=A._createTransaction(E,M,A._dbSchema,R),L=(T.explicit=!0,{trans:T,transless:L});if(R)T.idbtrans=R.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(te){return te.name===ve.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return H(A,E,M,null,O)})):_t(te)}var Y,F=de(O),L=(F&&Qt(),Oe.follow(function(){var te;(Y=O.call(T,T))&&(F?(te=Sn.bind(null,null),Y.then(te,te)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=mi(Y)))},L));return(Y&&typeof Y.then=="function"?Oe.resolve(Y).then(function(te){return T.active?te:_t(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return Y})).then(function(te){return R&&T._resolve(),T._completion.then(function(){return te})}).catch(function(te){return T._reject(te),_t(te)})})}).bind(null,this,h,y,w,c);return w?w._promise(h,C,"lock"):Me.trans?Rn(Me.transless,function(){return b._whenReady(C)}):this._whenReady(C)},kt.prototype.table=function(l){if(B(this._allTables,l))return this._allTables[l];throw new se.InvalidTable("Table ".concat(l," does not exist"))};var Zn=kt;function kt(l,s){var c,h,y,b,w,j=this,C=(this._middlewares={},this.verno=0,kt.dependencies),C=(this._options=s=d({addons:kt.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},s.addons),H=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen}),A=(H.dbReadyPromise=new Oe(function(E){H.dbReadyResolve=E}),H.openCanceller=new Oe(function(E,M){H.cancelOpen=M}),this._state=H,this.name=l,this.on=si(this,"populate","blocked","versionchange","close",{ready:[gt,Ue]}),this.once=function(E,M){var R=function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];j.on(E).unsubscribe(R),M.apply(j,O)};return j.on(E,R)},this.on.ready.subscribe=xe(this.on.ready.subscribe,function(E){return function(M,R){kt.vip(function(){var O,T=j._state;T.openComplete?(T.dbOpenError||Oe.resolve().then(M),R&&E(M)):T.onReadyBeingFired?(T.onReadyBeingFired.push(M),R&&E(M)):(E(M),O=j,R||E(function Y(){O.on.ready.unsubscribe(M),O.on.ready.unsubscribe(Y)}))})}}),this.Collection=(c=this,en(Ao.prototype,function(Y,T){this.db=c;var R=Hr,O=null;if(T)try{R=T()}catch(L){O=L}var T=Y._ctx,Y=T.table,F=Y.hook.reading.fire;this._ctx={table:Y,index:T.index,isPrimKey:!T.index||Y.schema.primKey.keyPath&&T.index===Y.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:T.or,valueMapper:F!==xt?F:null}})),this.Table=(h=this,en(Lr.prototype,function(E,M,R){this.db=h,this._tx=R,this.name=E,this.schema=M,this.hook=h._allTables[E]?h._allTables[E].hook:si(null,{creating:[ht,Ue],reading:[xn,xt],updating:[he,Ue],deleting:[Ta,Ue]})})),this.Transaction=(y=this,en(Xr.prototype,function(E,M,R,O,T){var Y=this;E!=="readonly"&&M.forEach(function(F){F=(F=R[F])==null?void 0:F.yProps,F&&(M=M.concat(F.map(function(L){return L.updatesTable})))}),this.db=y,this.mode=E,this.storeNames=M,this.schema=R,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=si(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(F,L){Y._resolve=F,Y._reject=L}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(F){var L=Y.active;return Y.active=!1,Y.on.error.fire(F),Y.parent?Y.parent._reject(F):L&&Y.idbtrans&&Y.idbtrans.abort(),_t(F)})})),this.Version=(b=this,en(To.prototype,function(E){this.db=b,this._cfg={version:E,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,en(qa.prototype,function(E,M,R){if(this.db=w,this._ctx={table:E,index:M===":id"?null:M,or:R},this._cmp=this._ascending=at,this._descending=function(O,T){return at(T,O)},this._max=function(O,T){return 0<at(O,T)?O:T},this._min=function(O,T){return at(O,T)<0?O:T},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(E){0<E.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(E){!E.newVersion||E.newVersion<E.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(E.oldVersion/10))}),this._maxKey=bl(s.IDBKeyRange),this._createTransaction=function(E,M,R,O){return new j.Transaction(E,M,R,j._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(E){j.on("blocked").fire(E),Ra.filter(function(M){return M.name===j.name&&M!==j&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(E)})},this.use(au),this.use(nr),this.use(zo),this.use(Mo),this.use(nu),new Proxy(this,{get:function(E,M,R){var O;return M==="_vip"||(M==="table"?function(T){return yi(j.table(T),A)}:(O=Reflect.get(E,M,R))instanceof Lr?yi(O,A):M==="tables"?O.map(function(T){return yi(T,A)}):M==="_createTransaction"?function(){return yi(O.apply(this,arguments),A)}:O)}}));this.vip=A,C.forEach(function(E){return E(j)})}var jl,Xa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ru=(ar.prototype.subscribe=function(l,s,c){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:s,complete:c})},ar.prototype[Xa]=function(){return this},ar);function ar(l){this._subscribe=l}try{jl={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{jl={indexedDB:null,IDBKeyRange:null}}function su(l){var s,c=!1,h=new ru(function(y){var b=de(l),w,j=!1,C={},H={},A={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),E&&tn.storagemutated.unsubscribe(R))}},E=(y.start&&y.start(A),!1),M=function(){return ga(O)},R=function(T){Wi(C,T),Wr(H,C)&&M()},O=function(){var T,Y,F;!j&&jl.indexedDB&&(C={},T={},w&&w.abort(),w=new AbortController,F=(L=>{var te=ma();try{b&&Qt();var oe=zt(l,L);return oe=b?oe.finally(Sn):oe}finally{te&&Qn()}})(Y={subscr:T,signal:w.signal,requery:M,querier:l,trans:null}),Promise.resolve(F).then(function(L){c=!0,s=L,j||Y.signal.aborted||(C={},(te=>{for(var oe in te)if(B(te,oe))return;return 1})(H=T)||E||(tn(yl,R),E=!0),ga(function(){return!j&&y.next&&y.next(L)}))},function(L){c=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||j||ga(function(){j||y.error&&y.error(L)})}))};return setTimeout(M,0),A});return h.hasValue=function(){return c},h.getValue=function(){return s},h}var Ga=Zn;function as(l){var s=wa;try{wa=!0,tn.storagemutated.fire(l),es(l,!0)}finally{wa=s}}W(Ga,d(d({},pe),{delete:function(l){return new Ga(l,{addons:[]}).delete()},exists:function(l){return new Ga(l,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return s=Ga.dependencies,c=s.indexedDB,s=s.IDBKeyRange,(Ji(c)?Promise.resolve(c.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==li})}):Zr(c,s).toCollection().primaryKeys()).then(l)}catch{return _t(new se.MissingAPI)}var s,c},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Me.trans?Rn(Me.transless,l):l()},vip:Fr,async:function(l){return function(){try{var s=mi(l.apply(this,arguments));return s&&typeof s.then=="function"?s:Oe.resolve(s)}catch(c){return _t(c)}}},spawn:function(l,s,c){try{var h=mi(l.apply(c,s||[]));return h&&typeof h.then=="function"?h:Oe.resolve(h)}catch(y){return _t(y)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(l,s){return l=Oe.resolve(typeof l=="function"?Ga.ignoreTransaction(l):l).timeout(s||6e4),Me.trans?Me.trans.waitFor(l):l},Promise:Oe,debug:{get:function(){return Nt},set:function(l){_n(l)}},derive:le,extend:q,props:W,override:xe,Events:si,on:tn,liveQuery:su,extendObservabilitySet:Wi,getByKeyPath:ye,setByKeyPath:Ne,delByKeyPath:function(l,s){typeof s=="string"?Ne(l,s,void 0):"length"in s&&[].map.call(s,function(c){Ne(l,c,void 0)})},shallowClone:Ze,deepClone:nt,getObjectDiff:Ii,cmp:at,asap:we,minKey:-1/0,addons:[],connections:Ra,errnames:ve,dependencies:jl,cache:Ya,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,s,c){return l+s/Math.pow(10,2*c)})})),Ga.maxKey=bl(Ga.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tn(yl,function(l){wa||(l=new CustomEvent(Ha,{detail:l}),wa=!0,dispatchEvent(l),wa=!1)}),addEventListener(Ha,function(l){l=l.detail,wa||as(l)}));var Nl,wa=!1,gn=function(){};return typeof BroadcastChannel<"u"&&((gn=function(){(Nl=new BroadcastChannel(Ha)).onmessage=function(l){return l.data&&as(l.data)}})(),typeof Nl.unref=="function"&&Nl.unref(),tn(yl,function(l){wa||Nl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Zn.disableBfCache&&l.persisted){Nt&&console.debug("Dexie: handling persisted pagehide"),Nl?.close();for(var s=0,c=Ra;s<c.length;s++)c[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Zn.disableBfCache&&l.persisted&&(Nt&&console.debug("Dexie: handling persisted pageshow"),gn(),as({all:new nn(-1/0,[[]])}))})),Oe.rejectionMapper=function(l,s){return!l||l instanceof Le||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ge[l.name]?l:(s=new Ge[l.name](s||l.message,l),"stack"in l&&Q(s,"stack",{get:function(){return this.inner.stack}}),s)},_n(Nt),d(Zn,Object.freeze({__proto__:null,Dexie:Zn,Entity:Fs,PropModification:pl,RangeSet:nn,add:function(l){return new pl({add:l})},cmp:at,default:Zn,liveQuery:su,mergeRanges:Ka,rangesOverlap:Is,remove:function(l){return new pl({remove:l})},replacePrefix:function(l,s){return new pl({replacePrefix:[l,s]})}}),{default:Zn}),Zn})})(ho)),ho.exports}var yv=pv();const kf=E0(yv),Np=Symbol.for("Dexie"),vo=globalThis[Np]||(globalThis[Np]=kf);if(kf.semVer!==vo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${kf.semVer} and ${vo.semVer}`);const{liveQuery:yx,mergeRanges:gx,rangesOverlap:bx,RangeSet:vx,cmp:xx,Entity:Sx,PropModification:wx,replacePrefix:jx,add:Nx,remove:_x,DexieYProvider:Ex}=vo,Vf=new vo("WiseMarkDB");Vf.version(1).stores({pdfs:"hash, filename, size, blob"});async function ny(u){const o=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(o)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Zf(u,o,m,d){await Vf.pdfs.put({hash:u,filename:o,size:m,blob:d})}async function gv(u){const o=await Vf.pdfs.get(u);return o?{data:o.blob,filename:o.filename,size:o.size}:null}async function bv(u){if(!u?.pdf_hash)return null;try{const{data:o}=await ln.getPdf(u.id),m=(o instanceof ArrayBuffer,o),d=u.file_size??m?.byteLength??0;return await Zf(u.pdf_hash,u.filename||"",d,m),{data:m,filename:u.filename||"",size:d}}catch{const o=await gv(u.pdf_hash);return o||null}}const Aa=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Ef(u){if(!u)return null;const o=new Date(u);return Number.isNaN(o.getTime())?null:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function vv(){const{projectId:u}=Uf(),o=Ri(),m=Rr(),[d,g]=V.useState(!1),[S,x]=V.useState(""),[N,q]=V.useState(null),[D,k]=V.useState(""),[B,W]=V.useState(!1),[me,Q]=V.useState(""),[le,Z]=V.useState(null),[Ae,ue]=V.useState(""),[xe,ee]=V.useState(null),[we,ye]=V.useState(Aa[0]),Ne=V.useRef(null),Ze=V.useRef(null),Qe=V.useRef(null),[it,Tt]=V.useState(0),{data:ke,isLoading:nt}=na({queryKey:["project",u],queryFn:async()=>{const{data:je}=await Hs.get(u);return je},enabled:!!u}),{data:Ce,isLoading:Xe}=na({queryKey:["documents",u],queryFn:async()=>{const{data:je}=await ln.list({project:u});return je},enabled:!!u}),K=Array.isArray(Ce)?Ce:Ce?.results??[],ge=Nn({mutationFn:({id:je,name:ht})=>Hs.update(je,{name:ht}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",u]}),m.invalidateQueries({queryKey:["projects"]}),W(!1)}}),Se=Nn({mutationFn:({id:je,filename:ht})=>ln.update(je,{filename:ht}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),q(null),k("")}}),J=Nn({mutationFn:je=>ln.delete(je),onSuccess:()=>m.invalidateQueries({queryKey:["documents",u]})}),be=Nn({mutationFn:je=>Hs.delete(je),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),o("/app",{replace:!0})}}),de=async je=>{const ht=je.target.files?.[0];if(!ht||!ht.type.includes("pdf"))return;x(""),Z(ht);const Ta=ht.name.replace(/\.pdf$/i,"")||ht.name;ue(Ta),ye(Aa[K.length%Aa.length]),ee(null),Ne.current=null;try{const he=await ht.arrayBuffer(),We=await ny(he),gt={arrayBuffer:he,hash:We,size:ht.size};ee(gt),Ne.current={...gt,suggestedName:Ta}}catch(he){x(he.message||"Could not read file"),Z(null),ue("")}},pe=()=>{Z(null),ue(""),ee(null),ye(Aa[0]),x(""),Ne.current=null,Tt(je=>je+1)},Te=()=>{Qe.current?.click()},Le=async je=>{je.preventDefault();const ht=u,he=Ze.current?.value?.trim()||Ae?.trim()||Ne.current?.suggestedName?.trim()||"",We=Ne.current||xe;if(!ht){x("Project not found.");return}if(!he){x("Please enter a name for the PDF.");return}if(!We||!We.hash||!We.arrayBuffer){x("File data missing. Please close and select the file again.");return}const gt=he.toLowerCase().endsWith(".pdf")?he:`${he}.pdf`;x(""),g(!0);try{const Nt=new FormData;Nt.append("project",String(ht)),Nt.append("filename",gt),Nt.append("color",we),Nt.append("file",new Blob([We.arrayBuffer]),gt),await ln.createWithFile(Nt),await Zf(We.hash,gt,We.size,We.arrayBuffer),m.invalidateQueries({queryKey:["documents",ht]}),Z(null),ue(""),ee(null),Ne.current=null,Tt(_n=>_n+1)}catch(Nt){const _n=Nt.response?.data?.detail||typeof Nt.response?.data=="object"&&Object.values(Nt.response?.data||{}).flat().join(" ")||Nt.message||"Upload failed";x(String(_n))}finally{g(!1)}},Fe=je=>{q(je.id),k(je.filename||"")},ct=()=>{if(N==null||!D.trim()){q(null);return}Se.mutate({id:N,filename:D.trim()})},ae=()=>{q(null),k("")},ve=()=>{Q(ke?.name??""),W(!0)},Be=()=>{const je=me.trim();if(!je||je===ke?.name){W(!1);return}ge.mutate({id:u,name:je})},se=()=>{W(!1),Q("")},Ge=cl(je=>je.logout),{data:Ue}=na({queryKey:["me"],queryFn:async()=>{const{data:je}=await Mr.me();return je}}),xt=(Ue?.email?.[0]||Ue?.username?.[0]||"?").toUpperCase(),xn=ke?.color&&Aa.includes(ke.color)?ke.color:ke?Aa[ke.id%Aa.length]:Aa[0];return nt||!ke?f.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:f.jsx(Oa,{className:"w-8 h-8 animate-spin text-slate-400"})}):f.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[f.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),f.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>o("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:f.jsx(_o,{className:"w-4 h-4"})}),f.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),f.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{Ge(),o("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:f.jsx(Gf,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:()=>o("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:xt})]})]}),f.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsx("div",{className:"flex items-center gap-2 min-w-0",children:B?f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"text",value:me,onChange:je=>Q(je.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},autoFocus:!0,onKeyDown:je=>{je.key==="Enter"&&Be(),je.key==="Escape"&&se()}}),f.jsx("button",{type:"button",onClick:Be,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:f.jsx(go,{className:"w-5 h-5"})}),f.jsx("button",{type:"button",onClick:se,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:f.jsx(zi,{className:"w-5 h-5"})})]}):f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"m-0 text-[28px] text-slate-950 truncate",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:ke.name}),f.jsx("button",{type:"button",onClick:ve,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Edit project name",children:f.jsx(bo,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:()=>{window.confirm(`Delete project "${ke.name}" and all its documents? This cannot be undone.`)&&be.mutate(u)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg shrink-0",title:"Delete project",disabled:be.isPending,children:f.jsx(Ks,{className:"w-4 h-4"})})]})}),f.jsxs("button",{type:"button",onClick:Te,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 shrink-0 disabled:opacity-70",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[f.jsx(Rf,{className:"w-4 h-4"}),"Add PDF"]})]}),f.jsx("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:f.jsxs("span",{children:[K.length," document",K.length!==1?"s":""]})}),f.jsx("input",{ref:Qe,type:"file",accept:".pdf",onChange:de,className:"hidden","aria-hidden":"true",tabIndex:-1},it),S&&f.jsx("p",{className:"text-sm text-red-600 mb-4",children:S}),d&&f.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[f.jsx(Oa,{className:"w-4 h-4 animate-spin"})," Uploading..."]}),Xe?f.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx(Oa,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):K.length===0?f.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx(Xf,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),f.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):f.jsx("ul",{className:"space-y-2",children:K.map(je=>f.jsx("li",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden transition-all duration-200 hover:shadow-[0_4px_12px_rgba(71,85,105,0.08)] hover:-translate-y-px cursor-pointer",children:N===je.id?f.jsxs("div",{className:"flex items-center gap-2 px-5 py-3",children:[f.jsx("input",{type:"text",value:D,onChange:ht=>k(ht.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:ht=>{ht.key==="Enter"&&ct(),ht.key==="Escape"&&ae()}}),f.jsx("button",{type:"button",onClick:ct,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:f.jsx(go,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:ae,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:f.jsx(zi,{className:"w-4 h-4"})})]}):f.jsxs("div",{className:"flex items-center gap-4 px-5 py-3 cursor-pointer",onClick:()=>o(`/document/${je.id}`),children:[f.jsx("div",{className:"shrink-0 rounded-sm",style:{width:4,height:40,background:je.color&&Aa.includes(je.color)?je.color:xn}}),f.jsxs("div",{className:"flex-1 min-w-0 py-1 flex flex-col items-start gap-0.5",children:[f.jsx("span",{className:"text-base font-normal text-slate-900 truncate block w-full",style:{fontFamily:"'Instrument Serif', serif"},children:je.filename}),f.jsxs("span",{className:"text-xs text-slate-400 block",style:{fontFamily:"'JetBrains Mono', monospace"},children:[je.file_size!=null&&`${(je.file_size/1024).toFixed(1)} KB`,je.file_size!=null&&Ef(je.created_at)&&"  ",Ef(je.created_at)?`Uploaded ${Ef(je.created_at)}`:null]})]}),f.jsx("button",{type:"button",onClick:ht=>{ht.stopPropagation(),Fe(je)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Rename",children:f.jsx(bo,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:ht=>{ht.stopPropagation(),confirm("Delete this PDF?")&&J.mutate(je.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg shrink-0",title:"Delete",children:f.jsx(Ks,{className:"w-4 h-4"})})]})},je.id))})]}),le&&f.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:pe,children:f.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:je=>je.stopPropagation(),children:[f.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),xe?f.jsxs("div",{className:"space-y-4",children:[S&&f.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:S}),f.jsx("input",{ref:Ze,type:"text",value:Ae,onChange:je=>ue(je.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),f.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),f.jsx("div",{className:"flex gap-2",children:Aa.map(je=>f.jsx("button",{type:"button",onClick:()=>ye(je),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:je,borderColor:we===je?"#1e293b":"transparent",outline:we===je?"2px solid #fff":"none",outlineOffset:-4}},je))}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx("button",{type:"button",onClick:pe,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"button",onClick:je=>{je.preventDefault(),Le(je)},disabled:d||!Ae.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?f.jsxs("span",{className:"inline-flex items-center gap-2",children:[f.jsx(Oa,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Upload & save"})]})]}):f.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[f.jsx(Oa,{className:"w-5 h-5 animate-spin shrink-0"}),f.jsx("span",{children:"Reading file..."})]})]})})]})}const ol={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Ff=Object.keys(ol);function zr(u,o=1){if(!u||!u.startsWith("#"))return`rgba(148,163,184,${o})`;const m=parseInt(u.slice(1),16),d=m>>16&255,g=m>>8&255,S=m&255;return`rgba(${d},${g},${S},${o})`}function Jl(u,o={},m){if(o&&typeof o[u]=="string"&&o[u].trim())return o[u].trim();if(m?.length){const d=m.find(g=>g.key===u);if(d?.display_name)return d.display_name}return ol[u]&&ol[u].name||u}T0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const xv=()=>typeof window<"u"&&window.devicePixelRatio||1;function Sv(u,o){const m=Math.sqrt(o[2]*o[2]+o[3]*o[3]),d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),g=m,S=g,x=typeof u.width=="number"&&u.width>0?u.width*d:(u.str?.length||1)*S*.5,N=o[4],q=o[5]-g*.85;return{x:N,y:q,w:x,h:S}}function wv(u,o,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),S=[];let x=0,N=-999;const q=4;let D=0;return u.items.forEach(k=>{if(!k.str||k.str.trim()==="")return;const B=M0.transform(o.transform,k.transform),W=Sv(k,B);Math.abs(W.y-N)>q&&(x+=1,N=W.y);const me=W.h,Q=typeof k.width=="number"&&k.width>0?k.width*m:W.w,le=k.str.split(/(\s+)/);if(!g||le.length===0){S.push({id:D++,text:k.str,x:W.x,y:W.y,w:W.w,h:W.h,fontSize:W.h,lineIndex:x});return}g.font=`${me}px sans-serif`;const Z=le.map(ee=>({text:ee,measured:g.measureText(ee).width,isSpace:/^\s+$/.test(ee)||ee===""})),Ae=Z.reduce((ee,we)=>ee+we.measured,0),ue=Ae>0?Q/Ae:1;let xe=0;Z.forEach(ee=>{const we=ee.measured*ue;if(ee.text===""||ee.isSpace){xe+=we;return}S.push({id:D,text:ee.text,x:W.x+xe,y:W.y,w:we,h:me,fontSize:me,lineIndex:x}),D+=1,xe+=we})}),S}function ay(u){const o={};return u.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;o[d]||(o[d]=[]),o[d].push(m)}),Object.values(o)}function _p(u,o,m){let S=null,x=1/0;for(const N of u){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(o>=N.x-4&&o<=N.x+N.w+4)return N;const k=o<N.x?N.x-o:o-(N.x+N.w);k<x&&k<40&&(x=k,S=N)}return S}function jv(u){if(!u.length)return"";let o="";for(let m=0;m<u.length;m++){const d=u[m];if(m>0){const g=u[m-1];Math.abs(d.y-g.y)<6?d.x-(g.x+g.w)>1&&(o+=" "):o+=" "}o+=d.text}return o.trim()}function Nv(u,o){return u.length?ay(u).map(d=>{const g=Math.min(...d.map(B=>B.x)),S=Math.max(...d.map(B=>B.x+B.w)),x=d.map(B=>B.y),N=x.sort((B,W)=>B-W)[Math.floor(x.length/2)],q=Math.max(...d.map(B=>B.h)),D=2;return{x:(g-1)/o,y:(N-D)/o,width:(S-g+2)/o,height:(q+D+3)/o}}):[]}function _v({pdfData:u,scale:o,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:S=null,lensColors:x=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:D,onHighlightHoverEnd:k,onHighlightEdit:B,onHighlightDelete:W}){const[me,Q]=V.useState(null),[le,Z]=V.useState(0),[Ae,ue]=V.useState(!0);return V.useEffect(()=>{if(!u)return;let xe=!1;return(async()=>{ue(!0);try{const we=u.slice(0),ye=await D0({data:we}).promise;xe||(Q(ye),Z(ye.numPages),q?.(ye.numPages))}catch(we){console.error("Failed to load PDF",we)}xe||ue(!1)})(),()=>{xe=!0}},[u,q]),Ae?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsx(Oa,{className:"w-6 h-6 text-slate-400 animate-spin"})}):me?f.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:le},(xe,ee)=>f.jsx(Ev,{pdf:me,pageNumber:ee+1,scale:o,pageHighlights:m.filter(we=>we.page_number===ee+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:S,lensColors:x,onSelectionComplete:N,onHighlightHover:D,onHighlightHoverEnd:k,onHighlightEdit:B,onHighlightDelete:W},ee))}):null}function Ev({pdf:u,pageNumber:o,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:S,selectionForPicker:x,lensColors:N=[],onSelectionComplete:q,onHighlightHover:D,onHighlightHoverEnd:k,onHighlightEdit:B,onHighlightDelete:W}){const me=V.useRef(null),Q=V.useRef(null),le=V.useRef(null),Z=V.useRef(null),[Ae,ue]=V.useState({width:0,height:0}),[xe,ee]=V.useState([]),[we,ye]=V.useState(null),[Ne,Ze]=V.useState(null),[Qe,it]=V.useState(!1),Tt=V.useRef(null),ke=V.useRef(null),nt=V.useCallback(()=>{ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>{k?.(),ke.current=null},1e3)},[k]),Ce=V.useCallback(de=>{ke.current&&(clearTimeout(ke.current),ke.current=null),D?.(de)},[D]);V.useEffect(()=>()=>{ke.current&&clearTimeout(ke.current)},[]),V.useEffect(()=>{let de=!1;return(async()=>{const Te=await u.getPage(o),Le=xv(),Fe=Te.getViewport({scale:m}),ct=Te.getViewport({scale:m*Le}),ae=Q.current;if(!ae||de)return;const ve=ae.getContext("2d",{alpha:!1});ve.imageSmoothingEnabled=!0,ve.imageSmoothingQuality="high",ae.width=ct.width,ae.height=ct.height,ae.style.width=`${Fe.width}px`,ae.style.height=`${Fe.height}px`,ue({width:Fe.width,height:Fe.height}),await Te.render({canvasContext:ve,viewport:ct}).promise;const Be=await Te.getTextContent();if(de)return;const se=wv(Be,Fe,m);ee(se);const Ge=le.current;!Ge||de||(Ge.innerHTML="",Ge.style.width=`${Fe.width}px`,Ge.style.height=`${Fe.height}px`,se.forEach(Ue=>{const xt=document.createElement("span");xt.textContent=Ue.text,xt.style.position="absolute",xt.style.left=`${Ue.x}px`,xt.style.top=`${Ue.y}px`,xt.style.width=`${Ue.w}px`,xt.style.height=`${Ue.h}px`,xt.style.fontSize=`${Ue.fontSize}px`,xt.style.fontFamily="sans-serif",xt.style.color="transparent",xt.style.whiteSpace="pre",xt.style.pointerEvents="none",xt.style.lineHeight="1",Ge.appendChild(xt)}))})(),()=>{de=!0}},[u,o,m]);const Xe=V.useMemo(()=>{if(x&&x.pageNumber===o){const Te=Math.min(x.spanStart,x.spanEnd),Le=Math.max(x.spanStart,x.spanEnd);return xe.filter(Fe=>Fe.id>=Te&&Fe.id<=Le)}if(we==null||Ne==null)return[];const de=Math.min(we,Ne),pe=Math.max(we,Ne);return xe.filter(Te=>Te.id>=de&&Te.id<=pe)},[xe,x,o,we,Ne]);V.useEffect(()=>{x===null&&Tt.current?.pageNumber===o&&(ye(null),Ze(null)),Tt.current=x},[x,o]);const K=V.useCallback((de,pe)=>{const Te=me.current?.getBoundingClientRect();return Te?{x:de-Te.left,y:pe-Te.top}:{x:0,y:0}},[]),ge=V.useCallback(de=>{if(de.button!==0||!xe.length)return;const{x:pe,y:Te}=K(de.clientX,de.clientY),Le=_p(xe,pe,Te);Le?(ye(Le.id),Ze(Le.id),it(!0)):(ye(null),Ze(null))},[xe,K]),Se=V.useCallback(de=>{if(!Qe)return;const{x:pe,y:Te}=K(de.clientX,de.clientY),Le=_p(xe,pe,Te);Le&&Ze(Le.id)},[Qe,xe,K]),J=V.useCallback(de=>{if(de.button!==0||!Qe)return;if(it(!1),Xe.length<2){ye(null),Ze(null);return}if(!q)return;const pe=me.current?.getBoundingClientRect();if(!pe)return;const Te={rects:Nv(Xe,m)},Le=jv(Xe),Fe=Xe[Xe.length-1],ct={x:pe.left+(Fe.x+Fe.w/2),y:pe.top+(Fe.y-8)};q({pageNumber:o,position_data:Te,highlighted_text:Le,spanStart:Math.min(we,Ne),spanEnd:Math.max(we,Ne),pickerPosition:ct})},[Qe,Xe,we,Ne,m,o,q]);V.useEffect(()=>{const de=Z.current||me.current;if(de)return de.addEventListener("mousedown",ge),de.addEventListener("mousemove",Se),de.addEventListener("mouseup",J),de.addEventListener("mouseleave",J),()=>{de.removeEventListener("mousedown",ge),de.removeEventListener("mousemove",Se),de.removeEventListener("mouseup",J),de.removeEventListener("mouseleave",J)}},[ge,Se,J]);const be=V.useMemo(()=>ay(Xe),[Xe]);return f.jsxs("div",{ref:me,"data-page":o,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ae.width||0,height:Ae.height||0,cursor:"text"},title:"Drag to highlight text",children:[f.jsx("canvas",{ref:Q,className:"block w-full h-full",style:{display:"block"}}),f.jsxs("div",{ref:Z,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(de=>{const pe=de.position_data?.rects||[],Te=(N??[]).find(Ge=>Ge.key===de.color),Le=ol[de.color]||ol.yellow,Fe=Te?.hex??Le?.hex??Le?.solid,ct=g!=null&&String(de.id)===String(g),ae=S!=null&&String(de.id)===String(S),ve=ct||ae?zr(Fe,.38):zr(Fe,.18),Be=B||W;let se=null;if(pe.length>0){const Ge=Math.min(...pe.map(je=>je.x))*m,Ue=Math.min(...pe.map(je=>je.y))*m,xt=Math.max(...pe.map(je=>(je.x||0)+(je.width||0)))*m,xn=Math.max(...pe.map(je=>(je.y||0)+(je.height||4)))*m;se={left:Ge,top:Ue,width:xt-Ge,height:xn-Ue}}return se?f.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:se.left,top:se.top,width:se.width,height:se.height,pointerEvents:"auto"},onMouseEnter:()=>Ce(de.id),onMouseLeave:nt,children:[pe.map((Ge,Ue)=>f.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(Ge.x||0)*m-se.left,top:(Ge.y||0)*m-se.top,width:Math.max(0,(Ge.width||0)*m),height:Math.max(4,(Ge.height||0)*m),backgroundColor:ve,pointerEvents:"none"}},Ue)),Be&&ct&&se&&f.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Ce(de.id),onMouseLeave:nt,children:[B&&f.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),B(de.id,Ge)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:f.jsx(bo,{className:"w-3.5 h-3.5",strokeWidth:2})}),W&&f.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),W(de.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:f.jsx(Ks,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},de.id):null}),be.map((de,pe)=>{const Te=Math.min(...de.map(se=>se.x)),Le=Math.max(...de.map(se=>se.x+se.w)),Fe=de.map(se=>se.y).sort((se,Ge)=>se-Ge),ct=Fe[Math.floor(Fe.length/2)],ae=Math.max(...de.map(se=>se.h)),ve=2;return f.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${Te-1}px`,top:`${ct-ve}px`,width:`${Le-Te+2}px`,height:`${ae+ve+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},pe)})]}),f.jsx("div",{ref:le,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Cv({highlights:u,colorLabels:o,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:S,onHighlightClick:x,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:D,documentId:k,onHighlightNoteUpdate:B,onHighlightDelete:W,openEditForHighlightId:me,onClearOpenEditForHighlightId:Q}){const le=m?.length>0?m.map(Ce=>Ce.key):d?.length>0?d:Ff,[Z,Ae]=V.useState("all"),[ue,xe]=V.useState(!1),[ee,we]=V.useState(""),[ye,Ne]=V.useState(null),[Ze,Qe]=V.useState("");V.useEffect(()=>{if(me==null||!u?.length)return;const Ce=u.find(Xe=>String(Xe.id)===String(me));Ce&&(Ne(Ce.id),Qe(Ce.note?.content??"")),Q?.()},[me,u,Q]);const it=V.useMemo(()=>{let Ce=u||[];if(Z!=="all"&&(Ce=Ce.filter(Xe=>Xe.color===Z)),ee.trim()){const Xe=ee.trim().toLowerCase();Ce=Ce.filter(K=>K.highlighted_text&&K.highlighted_text.toLowerCase().includes(Xe)||K.note?.content&&K.note.content.toLowerCase().includes(Xe))}return Ce},[u,Z,ee]),Tt=Ce=>{Ne(Ce.id),Qe(Ce.note?.content??"")},ke=async()=>{if(ye==null||!k||!B){Ne(null);return}await B(ye,Ze.trim()||""),Ne(null)},nt=()=>{Ne(null),Qe("")};return f.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${Fl.default} ${Di.surface}`,children:[f.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${Fl.default}`,children:[f.jsx("h2",{className:`text-[15px] font-semibold ${tt.heading} mb-1`,children:"Annotations"}),f.jsxs("p",{className:`text-xs ${tt.muted} mb-4`,children:[it.length," highlight",it.length!==1?"s":"",u?.length!==it.length&&` of ${u?.length||0}`]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsx("div",{children:f.jsx("button",{type:"button",onClick:()=>{Ae("all"),D?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${Z==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${tt.secondary} hover:bg-slate-50`}`,children:"All"})}),f.jsxs("div",{children:[f.jsxs("button",{type:"button",onClick:()=>xe(Ce=>!Ce),className:`flex items-center gap-1.5 text-[11px] font-semibold ${tt.secondary} hover:text-slate-800 transition-colors`,children:[ue?f.jsx(zf,{className:"w-3.5 h-3.5 shrink-0"}):f.jsx(Rb,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ue&&f.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:le.map(Ce=>{const Xe=(u||[]).filter(de=>de.color===Ce).length,K=ol[Ce],Se=m?.find(de=>de.key===Ce)?.hex??K?.hex??K?.solid??"#94a3b8",J=Jl(Ce,o,m),be=Z===Ce;return f.jsxs("button",{type:"button",onClick:()=>{Ae(be?"all":Ce),D?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${be?"border-transparent":`border-slate-200 ${tt.secondary} hover:bg-slate-50`}`,style:be?{backgroundColor:`${Se}25`,color:Se}:void 0,children:[f.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:Se,opacity:1}}),f.jsx("span",{children:J}),f.jsxs("span",{className:be?"opacity-80":tt.muted,children:["(",Xe,")"]})]},Ce)})})]})]}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx(ey,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),f.jsx("input",{type:"text",placeholder:"Search highlights...",value:ee,onChange:Ce=>we(Ce.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${Fl.default} rounded-lg bg-slate-50 outline-none ${tt.body} placeholder:${tt.muted}`})]})]}),f.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:u?.length?it.length?f.jsx("ul",{className:"space-y-1.5",children:it.map(Ce=>{const Xe=ol[Ce.color]||ol.yellow,ge=m?.find(be=>be.key===Ce.color)?.hex??Xe?.hex??Xe?.solid??"#94a3b8",Se=Ce.note?.content,J=g!=null&&String(Ce.id)===String(g);return f.jsx("li",{children:f.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${J?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{x?.(Ce.id),S?.(Ce.page_number)},onKeyDown:be=>{be.target.tagName==="TEXTAREA"||be.target.tagName==="INPUT"||be.target.isContentEditable||(be.key==="Enter"||be.key===" ")&&(be.preventDefault(),x?.(Ce.id),S?.(Ce.page_number))},onMouseEnter:()=>N?.(Ce.id),onMouseLeave:q,children:[f.jsxs("div",{className:"flex gap-2.5",children:[f.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:ge,opacity:J?1:.6}}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("p",{className:`text-xs leading-snug ${tt.body} line-clamp-3`,children:Ce.highlighted_text||"(No text captured)"})})]}),ye===Ce.id?f.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[f.jsx("textarea",{value:Ze,onChange:be=>Qe(be.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${Fl.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${tt.body}`}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("button",{type:"button",onClick:ke,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),f.jsx("button",{type:"button",onClick:nt,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):f.jsxs(f.Fragment,{children:[Se&&f.jsx("p",{className:`text-[11.5px] ${tt.muted} mt-2 pl-3.5 leading-snug italic`,children:Se}),k&&B&&f.jsx("button",{type:"button",onClick:()=>Tt(Ce),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:Se?"Edit comment":"Add comment"})]}),f.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:ge,backgroundColor:`${ge}12`},children:Jl(Ce.color,o,m)}),f.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Ce.page_number]}),k&&W&&f.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),W(Ce.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:f.jsx(Ks,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Ce.id)})}):f.jsx("div",{className:`py-6 text-center ${tt.muted} text-sm`,children:"No matching highlights."}):f.jsxs("div",{className:`py-8 text-center ${tt.muted} text-sm`,children:[f.jsx(Xf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),f.jsx("p",{children:"No highlights yet."}),f.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Bf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Av(u,o){return u?.length?[...u].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):o?.length>0?o.map(m=>Bf.find(d=>d.colorKey===m)).filter(Boolean):Bf}function Ov({position:u,onSelect:o,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:S=[]}){const x=V.useRef(null),N=V.useRef(null),[q,D]=V.useState(null),[k,B]=V.useState(""),[W,me]=V.useState(!1),[Q,le]=V.useState(!1),Z=V.useMemo(()=>Av(S,g),[S,g]),Ae=Z.length>0?Z:Bf,ue=V.useCallback(ye=>Jl(ye,d,S),[d,S]);V.useEffect(()=>{W&&N.current&&N.current.focus()},[W]);const xe=V.useCallback(ye=>{D(ye.colorKey),W||(o(ye.colorKey,""),le(!0),setTimeout(()=>m(),400))},[W,o,m]),ee=V.useCallback(()=>{q&&(o(q,k.trim()||void 0),le(!0),setTimeout(()=>m(),400))},[q,k,o,m]);if(V.useEffect(()=>{const ye=Ne=>{if(Ne.key==="Escape"){m();return}if(!W){const Ze=parseInt(Ne.key,10);if(Ze>=1&&Ze<=Ae.length){const Qe=Ae[Ze-1];Qe&&xe(Qe)}}W&&Ne.key==="Enter"&&(Ne.metaKey||Ne.ctrlKey)&&(Ne.preventDefault(),ee())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[W,q,k,m,xe,ee,Ae]),V.useEffect(()=>{const ye=Ne=>{x.current&&!x.current.contains(Ne.target)&&m()};return document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[m]),V.useEffect(()=>{B(""),D(null),me(!1),le(!1)},[u]),!u)return null;const we=q?Ae.find(ye=>ye.colorKey===q):null;return f.jsx("div",{ref:x,className:"fixed z-1000",style:{left:u.x,top:u.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:Q?f.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[f.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:we?.color??"#64748b"},children:f.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:f.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),f.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):f.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:W?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[f.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ae.map((ye,Ne)=>f.jsx("button",{type:"button",onClick:()=>xe(ye),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===ye.colorKey?`${ye.color}25`:"transparent"},children:f.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:ye.color,boxShadow:q===ye.colorKey?`0 0 0 2px ${ye.color}80`:"none",transform:q===ye.colorKey?"scale(1.15)":"scale(1)"}})},ye.colorKey)),f.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),f.jsx("button",{type:"button",onClick:()=>me(!W),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${W?"bg-slate-100":"hover:bg-slate-100"}`,children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[f.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:W?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{d:"M5.5 6H10.5",stroke:W?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),f.jsx("path",{d:"M5.5 8.5H8.5",stroke:W?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),f.jsx("path",{d:"M10 13.5V10H13.5",stroke:W?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),f.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:f.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),W&&f.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!we&&f.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),we&&f.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[f.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:we.color}}),f.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ue(we.colorKey)})]}),f.jsx("textarea",{ref:N,value:k,onChange:ye=>B(ye.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),f.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:f.jsx("button",{type:"button",onClick:ee,disabled:!we,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Tv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Ep=5;function Dv({lens:u,documentId:o,onClose:m}){const d=Rr(),g=u?.colors??[],S=!u||u.is_system,[x,N]=V.useState(null),[q,D]=V.useState(""),k=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",o]})},B=Nn({mutationFn:ue=>ca.addColor(u.id,ue),onSuccess:()=>{k(),N(null),D("")}}),W=Nn({mutationFn:ue=>ca.removeColor(u.id,ue),onSuccess:k}),me=Nn({mutationFn:({colorId:ue,data:xe})=>ca.updateColor(u.id,ue,xe),onSuccess:k}),Q=new Set(g.map(ue=>ue.hex.toLowerCase())),le=Tv.filter(ue=>!Q.has(ue.toLowerCase())),Z=()=>{!x||!q.trim()||B.mutate({key:`custom_${Date.now()}`,display_name:q.trim(),hex:x})},Ae=f.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:f.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Di.surface} rounded-xl shadow-xl border ${Fl.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ue=>ue.stopPropagation(),onMouseDown:ue=>ue.stopPropagation(),children:[f.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[f.jsx("h3",{className:`text-base font-semibold ${tt.heading}`,children:"Edit lens"}),u&&f.jsx("p",{className:`text-xs ${tt.muted} mt-0.5`,children:u.name})]}),f.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:S?f.jsx("p",{className:`text-sm ${tt.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsxs("p",{className:`text-xs ${tt.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Ep,")"]}),f.jsx("div",{className:"space-y-2",children:g.map(ue=>f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ue.hex}}),f.jsx("input",{type:"text",defaultValue:ue.display_name,placeholder:"Label",onBlur:xe=>{const ee=xe.target.value.trim();ee&&ee!==ue.display_name&&me.mutate({colorId:ue.id,data:{display_name:ee}})},className:`flex-1 min-w-0 rounded-lg border ${Fl.default} px-2.5 py-1.5 text-sm ${tt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&f.jsx("button",{type:"button",onClick:()=>W.mutate(ue.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:W.isPending,children:f.jsx(zi,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ue.id))}),f.jsx("p",{className:`text-xs ${tt.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Ep&&le.length>0&&f.jsx("div",{className:"pt-3 border-t border-slate-100",children:x?f.jsxs("div",{className:"space-y-2.5",children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:x}}),f.jsx("input",{type:"text",value:q,onChange:ue=>D(ue.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ue=>{ue.key==="Enter"&&Z()},className:`flex-1 min-w-0 rounded-lg border ${Fl.default} px-2.5 py-1.5 text-sm ${tt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>{N(null),D("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"button",onClick:Z,disabled:!q.trim()||B.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:B.isPending?"Adding":"Add"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:`text-xs ${tt.muted} mb-2`,children:"Add a colour"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:le.map(ue=>f.jsx("button",{type:"button",onClick:()=>{N(ue),D("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ue}},ue))})]})})]})}),f.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:f.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?Ae:C0.createPortal(Ae,document.body)}function Mv({position:u,initialValue:o="",onSave:m,onClose:d}){const[g,S]=V.useState(o),x=V.useRef(null),N=V.useRef(null);return V.useEffect(()=>{S(o)},[o,u]),V.useEffect(()=>{N.current?.focus()},[u]),V.useEffect(()=>{const q=D=>{D.key==="Escape"&&d(),D.key==="Enter"&&(D.metaKey||D.ctrlKey)&&(D.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,d]),V.useEffect(()=>{const q=D=>{x.current&&!x.current.contains(D.target)&&d()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[d]),u?f.jsxs("div",{ref:x,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:u.x,top:u.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[f.jsx("textarea",{ref:N,value:g,onChange:q=>S(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function zv(){const{id:u}=Uf(),o=Ri(),m=Rr(),[d,g]=V.useState(null),[S,x]=V.useState(!1),[N,q]=V.useState(!0),[D,k]=V.useState(1.3),[B,W]=V.useState(!0),[me,Q]=V.useState(null),[le,Z]=V.useState(null),[Ae,ue]=V.useState(null),[xe,ee]=V.useState(null),[we,ye]=V.useState(null),[Ne,Ze]=V.useState(0),[Qe,it]=V.useState(1),[Tt,ke]=V.useState(!1),[nt,Ce]=V.useState(null),[Xe,K]=V.useState(null),[ge,Se]=V.useState(null),{data:J,isLoading:be,isError:de}=na({queryKey:["document",u],queryFn:async()=>{const{data:he}=await ln.get(u);return he},enabled:!!u});V.useEffect(()=>{if(!J||!u)return;let he=!1;return(async()=>{q(!0);try{const gt=await bv(J);he||(gt?g(gt.data):x(!0))}finally{he||q(!1)}})(),()=>{he=!0}},[J,u]);const{data:pe=[]}=na({queryKey:["highlights",u],queryFn:async()=>{const{data:he}=await ln.highlights(u);return he},enabled:!!u}),{data:Te=[]}=na({queryKey:["lenses"],queryFn:async()=>{const{data:he}=await ca.list();return he}}),Le=V.useMemo(()=>Te.length?J?.highlight_preset!=null?Te.find(he=>he.id===J.highlight_preset)??null:Te.find(he=>he.is_system)??Te[0]??null:null,[Te,J?.highlight_preset]),Fe=V.useMemo(()=>Le?.colors??J?.highlight_preset_detail?.colors??[],[Le?.colors,J?.highlight_preset_detail?.colors]),ct=V.useMemo(()=>{if(Fe?.length)return Fe.map(We=>We.key);const he=Object.keys(J?.color_labels||{});return he.length>0?he:[...Ff]},[Fe,J?.color_labels]),ae=Nn({mutationFn:({documentId:he,payload:We})=>ln.update(he,We),onSuccess:(he,{documentId:We})=>{m.invalidateQueries({queryKey:["document",We]})}}),ve=V.useCallback(async he=>{if(u)try{await ln.createHighlight(u,he),m.invalidateQueries({queryKey:["highlights",u]}),ue(null),ee(null),ye(null)}catch(We){console.error("Failed to save highlight",We)}},[u,m]),Be=V.useCallback(he=>{ue({page_number:he.pageNumber,position_data:he.position_data,highlighted_text:he.highlighted_text}),ee(he.pickerPosition),ye({pageNumber:he.pageNumber,spanStart:he.spanStart,spanEnd:he.spanEnd})},[]),se=V.useCallback((he,We)=>{Ae&&ve({...Ae,color:he,comment:We})},[Ae,ve]),Ge=V.useCallback(()=>{ue(null),ee(null),ye(null)},[]),Ue=V.useCallback(he=>{it(he),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${he}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),xt=V.useCallback(he=>{Z(We=>We!=null&&String(We)===String(he)?null:he)},[]),xn=V.useCallback(he=>Ze(he??0),[]),je=V.useCallback(()=>{if(Qe<=1)return;const he=Qe-1;it(he),Ue(he)},[Qe,Ue]),ht=V.useCallback(()=>{if(Qe>=Ne)return;const he=Qe+1;it(he),Ue(he)},[Qe,Ne,Ue]),Ta=async he=>{const We=he.target.files?.[0];if(!We||!J||!u)return;const gt=await We.arrayBuffer(),Nt=await ny(gt);if(Nt!==J.pdf_hash){alert("This file does not match the original document.");return}try{const _n=new FormData;_n.append("file",new Blob([gt],{type:"application/pdf"}),We.name||J.filename||"document.pdf"),await ln.uploadPdf(u,_n)}catch(_n){const aa=_n.response?.data?.detail??_n.message??"Upload failed";alert(typeof aa=="string"?aa:JSON.stringify(aa));return}await Zf(Nt,J.filename||We.name,We.size,gt),g(gt),x(!1)};return u?be||N?f.jsx("div",{className:`${Ls} flex items-center justify-center min-h-[50vh]`,children:f.jsx(Oa,{className:`w-8 h-8 ${tt.muted} animate-spin`})}):de||!J&&!be?f.jsxs("div",{className:`${Ls} flex flex-col items-center justify-center min-h-[50vh]`,children:[f.jsx("h2",{className:`text-lg font-semibold ${tt.heading} mb-2`,children:"Document not found"}),f.jsx("p",{className:`text-sm ${tt.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),f.jsx("button",{type:"button",onClick:()=>o(J?.project?`/project/${J.project}`:"/"),className:yo,children:"Back to project"})]}):S?f.jsxs("div",{className:`${Ls} flex flex-col items-center justify-center`,children:[f.jsx(Rf,{className:`w-12 h-12 ${tt.muted} mb-4`}),f.jsx("h2",{className:`text-lg font-semibold ${tt.heading} mb-2`,children:"PDF needed on this device"}),f.jsxs("p",{className:`text-sm ${tt.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",f.jsx("strong",{children:J?.filename}),"."]}),f.jsxs("label",{className:`${yo} inline-flex items-center gap-2`,children:[f.jsx(Rf,{className:"w-4 h-4"})," Upload PDF",f.jsx("input",{type:"file",accept:".pdf",onChange:Ta,className:"hidden"})]}),f.jsx("button",{type:"button",onClick:()=>o(J?.project?`/project/${J.project}`:"/"),className:`mt-4 text-sm ${tt.muted} hover:underline`,children:"Back to project"})]}):f.jsxs("div",{className:`h-screen flex flex-col ${Di.page} overflow-hidden`,children:[f.jsxs("header",{className:`${Sb} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"button",onClick:()=>o(J?.project?`/project/${J.project}`:"/"),className:uo,title:"Back to project",children:f.jsx(_o,{className:"w-4 h-4"})}),f.jsx("p",{className:`text-sm font-medium ${tt.heading} truncate max-w-xs`,children:J?.filename})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[Te.length>0&&f.jsx("select",{value:J?.highlight_preset!=null?String(J.highlight_preset):Te.find(he=>he.is_system)?.id??"",onChange:he=>{const We=he.target.value,gt=We===""?null:Number(We);u&&(pe.length>0?Se(gt):ae.mutate({documentId:u,payload:{highlight_preset:gt}}))},className:`text-xs rounded-lg border ${Fl.default} ${Di.surface} py-1.5 pl-2 pr-7 ${tt.body} cursor-pointer max-w-44`,title:"Highlight lens",children:Te.map(he=>f.jsx("option",{value:he.id,children:he.name},he.id))}),f.jsx("button",{type:"button",onClick:()=>ke(!0),className:uo,title:"Edit lens",children:f.jsx(nv,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:()=>o(`/document/${u}/summary`),className:uo,title:"Summary",children:f.jsx(Qb,{className:"w-4 h-4"})}),f.jsx("div",{className:bp}),f.jsxs("div",{className:`flex items-center gap-1 ${Di.muted} rounded-lg px-1 py-0.5`,children:[f.jsx("button",{type:"button",onClick:()=>k(he=>Math.max(.5,he-.1)),className:`p-1.5 ${tt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:f.jsx(ov,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:`text-xs ${tt.secondary} w-12 text-center`,children:[Math.round(D*100),"%"]}),f.jsx("button",{type:"button",onClick:()=>k(he=>Math.min(3,he+.1)),className:`p-1.5 ${tt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:f.jsx(sv,{className:"w-3.5 h-3.5"})})]}),f.jsx("div",{className:bp}),f.jsx("button",{type:"button",onClick:()=>W(he=>!he),className:uo,title:B?"Close annotations":"Open annotations",children:B?f.jsx(Jb,{className:"w-4 h-4"}):f.jsx(Wb,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&f.jsx(_v,{pdfData:d,scale:D,highlights:pe,hoveredHighlightId:me,activeHighlightId:le,selectionForPicker:we,lensColors:Fe,onSelectionComplete:Be,onNumPages:xn,onHighlightHover:Q,onHighlightHoverEnd:()=>Q(null),onHighlightEdit:(he,We)=>{const gt=We?.target?.getBoundingClientRect?.();gt?K({highlightId:he,x:gt.left+gt.width/2,y:gt.bottom}):(Ce(he),W(!0))},onHighlightDelete:async he=>{u&&(await ln.deleteHighlight(u,he),m.invalidateQueries({queryKey:["highlights",u]}),String(le)===String(he)&&Z(null),String(me)===String(he)&&Q(null))}}),xe&&f.jsx(Ov,{position:xe,onSelect:se,onClose:Ge,colorLabels:J?.color_labels,documentColorKeys:ct,lensColors:Fe}),Xe&&f.jsx(Mv,{position:{x:Xe.x,y:Xe.y},initialValue:(pe||[]).find(he=>String(he.id)===String(Xe.highlightId))?.note?.content??"",onSave:async he=>{u&&(await ln.updateHighlight(u,Xe.highlightId,{note:he}),m.invalidateQueries({queryKey:["highlights",u]}),K(null))},onClose:()=>K(null)}),Tt&&f.jsx(Dv,{lens:Le,documentId:u,onClose:()=>ke(!1)}),ge!==null&&f.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>Se(null),children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:he=>he.stopPropagation(),children:[f.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),f.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",f.jsx("strong",{children:pe.length})," highlight",pe.length!==1?"s":"",". Switching lenses will ",f.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>Se(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"button",onClick:async()=>{const he=ge;Se(null);for(const We of pe)await ln.deleteHighlight(u,We.id);m.invalidateQueries({queryKey:["highlights",u]}),Z(null),Q(null),ae.mutate({documentId:u,payload:{highlight_preset:he}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),B&&f.jsx(Cv,{highlights:pe,colorLabels:J?.color_labels,lensColors:Fe,documentColorKeys:ct,activeHighlightId:le,onScrollToPage:Ue,onHighlightClick:xt,onHighlightHover:Q,onHighlightHoverEnd:()=>Q(null),onClearActive:()=>Z(null),documentId:u,openEditForHighlightId:nt,onClearOpenEditForHighlightId:()=>Ce(null),onHighlightNoteUpdate:async(he,We)=>{u&&(await ln.updateHighlight(u,he,{note:We}),m.invalidateQueries({queryKey:["highlights",u]}))},onHighlightDelete:async he=>{u&&(await ln.deleteHighlight(u,he),m.invalidateQueries({queryKey:["highlights",u]}),String(le)===String(he)&&Z(null),String(me)===String(he)&&Q(null))}})]}),Ne>0&&f.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${B?"right-80":"right-0"}`,children:[f.jsx("button",{type:"button",onClick:je,disabled:Qe<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),f.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Qe," of ",Ne]}),f.jsx("button",{type:"button",onClick:ht,disabled:Qe>=Ne,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(o("/",{replace:!0}),null)}const Rv="modulepreload",kv=function(u){return"/static/frontend/"+u},Cp={},qf=function(o,m,d){let g=Promise.resolve();if(m&&m.length>0){let q=function(D){return Promise.all(D.map(k=>Promise.resolve(k).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),N=x?.nonce||x?.getAttribute("nonce");g=q(m.map(D=>{if(D=kv(D),D in Cp)return;Cp[D]=!0;const k=D.endsWith(".css"),B=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${D}"]${B}`))return;const W=document.createElement("link");if(W.rel=k?"stylesheet":Rv,k||(W.as="script"),W.crossOrigin="",W.href=D,N&&W.setAttribute("nonce",N),document.head.appendChild(W),k)return new Promise((me,Q)=>{W.addEventListener("load",me),W.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${D}`)))})}))}function S(x){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=x,window.dispatchEvent(N),!N.defaultPrevented)throw x}return g.then(x=>{for(const N of x||[])N.status==="rejected"&&S(N.reason);return o().catch(S)})};function Bv(u){return V.useMemo(()=>{const o={};return u?.length&&u.forEach(m=>{o[m.key]={hex:m.hex,displayName:m.display_name}}),o},[u])}function Tr(u,o){if(o[u])return o[u].hex;const m=ol[u];return m?.hex??m?.solid??"#94a3b8"}function qv(u){const o=parseInt((u||"#94a3b8").replace("#",""),16);return[o>>16&255,o>>8&255,o&255]}function Uv(u,o,m,d,g){return[...u].sort((x,N)=>x.page_number!==N.page_number?x.page_number-N.page_number:new Date(x.created_at)-new Date(N.created_at)).map((x,N)=>({seq:N+1,text:x.highlighted_text||"",note:x.note?.content||"",page:x.page_number,category:Jl(x.color,o,m),colorKey:x.color,hex:Tr(x.color,d)}))}function Hv(u,o,m,d,g){const S={};return u.forEach(x=>{(S[x.colorKey]??=[]).push(x)}),o.map(x=>({topic:Jl(x,m,d),hex:Tr(x,g),items:S[x]||[]})).filter(x=>x.items.length>0)}async function Lv(u,o,m){const[{Document:d,Packer:g,Paragraph:S,TextRun:x,HeadingLevel:N,BorderStyle:q},{saveAs:D}]=await Promise.all([qf(()=>import("./index-CMhXIFeh.js"),[]),qf(()=>import("./FileSaver.min-rgW_m_5v.js").then(me=>me.F),__vite__mapDeps([0,1]))]),k=[];k.push(new S({text:u,heading:N.HEADING_1,spacing:{after:200}})),k.push(new S({text:`${o.length} annotations`,spacing:{after:300},style:"Subtitle"})),m.forEach(({topic:me,hex:Q,items:le})=>{k.push(new S({spacing:{before:300,after:100},border:{bottom:{style:q.SINGLE,size:1,color:Q.replace("#","")}},children:[new x({text:`${me} (${le.length})`,bold:!0,size:24,color:Q.replace("#","")})]})),le.forEach(Z=>{k.push(new S({spacing:{before:120,after:40},children:[new x({text:`"${Z.text}"`,italics:!0,size:21}),new x({text:`   p.${Z.page}`,size:18,color:"94A3B8"})]})),Z.note&&k.push(new S({spacing:{after:60},children:[new x({text:Z.note,size:18,italics:!0,color:Q.replace("#","")})]}))})});const B=new d({sections:[{children:k}]}),W=await g.toBlob(B);D(W,`${u.replace(/\.pdf$/i,"")}  Summary.docx`)}async function Kv(u,o,m){const{jsPDF:d}=await qf(async()=>{const{jsPDF:k}=await import("./jspdf.es.min-CVt2upea.js").then(B=>B.j);return{jsPDF:k}},[]),g=new d({unit:"mm",format:"a4"}),S=g.internal.pageSize.getWidth(),x=18,N=S-x*2;let q=x;const D=k=>{q+k>g.internal.pageSize.getHeight()-x&&(g.addPage(),q=x)};g.setFont("helvetica","bold"),g.setFontSize(16),g.text(u,x,q),q+=8,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100),g.text(`${o.length} annotations`,x,q),q+=12,m.forEach(({topic:k,hex:B,items:W})=>{D(18);const[me,Q,le]=qv(B);g.setDrawColor(me,Q,le),g.setLineWidth(.5),g.line(x,q,x+N,q),q+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.setTextColor(me,Q,le),g.text(`${k} (${W.length})`,x,q),q+=7,W.forEach(Z=>{D(14),g.setFont("helvetica","italic"),g.setFontSize(9.5),g.setTextColor(30),g.splitTextToSize(`"${Z.text}"`,N-10).forEach(ue=>{D(5),g.text(ue,x+2,q),q+=4.2}),g.setFont("helvetica","normal"),g.setFontSize(8),g.setTextColor(148,163,184),g.text(`p.${Z.page}  #${Z.seq}`,x+2,q),q+=4,Z.note&&(D(5),g.setFont("helvetica","italic"),g.setFontSize(8.5),g.setTextColor(me,Q,le),g.splitTextToSize(Z.note,N-10).forEach(xe=>{D(4.5),g.text(xe,x+2,q),q+=4})),q+=3}),q+=4}),g.save(`${u.replace(/\.pdf$/i,"")}  Summary.pdf`)}function Yv(u,o){const m=new Blob([JSON.stringify({document:u,exported_at:new Date().toISOString(),annotations:o},null,2)],{type:"application/json"}),d=URL.createObjectURL(m);Object.assign(document.createElement("a"),{href:d,download:`${u.replace(/\.pdf$/i,"")}  Summary.json`}).click(),URL.revokeObjectURL(d)}function Qv(){const{id:u}=Uf(),o=Ri(),m=Rr(),[d,g]=V.useState("sequence"),[S,x]=V.useState(""),[N,q]=V.useState([]),[D,k]=V.useState(null),[B,W]=V.useState(new Set),[me,Q]=V.useState(new Set),[le,Z]=V.useState(null),[Ae,ue]=V.useState(""),[xe,ee]=V.useState(!1),we=V.useRef(null);V.useEffect(()=>{if(!xe)return;const ae=ve=>{we.current&&!we.current.contains(ve.target)&&ee(!1)};return window.addEventListener("mousedown",ae),()=>window.removeEventListener("mousedown",ae)},[xe]);const{data:ye,isLoading:Ne,isError:Ze}=na({queryKey:["document",u],queryFn:async()=>(await ln.get(u)).data,enabled:!!u}),{data:Qe=[]}=na({queryKey:["highlights",u],queryFn:async()=>(await ln.highlights(u)).data,enabled:!!u}),{data:it=[]}=na({queryKey:["lenses"],queryFn:async()=>(await ca.list()).data}),Tt=V.useMemo(()=>it.length?ye?.highlight_preset!=null?it.find(ae=>ae.id===ye.highlight_preset)??null:it.find(ae=>ae.is_system)??it[0]??null:null,[it,ye?.highlight_preset]),ke=V.useMemo(()=>Tt?.colors??ye?.highlight_preset_detail?.colors??[],[Tt?.colors,ye?.highlight_preset_detail?.colors]),nt=ye?.color_labels||{},Ce=Bv(ke),Xe=V.useMemo(()=>ke?.length?ke.map(ae=>ae.key):Ff,[ke]),K=Nn({mutationFn:({highlightId:ae,note:ve})=>ln.updateHighlight(u,ae,{note:ve}),onSuccess:()=>{m.invalidateQueries({queryKey:["highlights",u]}),Z(null),ue("")}}),ge=V.useCallback(ae=>{q(ve=>ve.includes(ae)?ve.filter(Be=>Be!==ae):[...ve,ae])},[]),Se=V.useCallback(ae=>{W(ve=>{const Be=new Set(ve);return Be.has(ae)?Be.delete(ae):Be.add(ae),Be})},[]),J=V.useCallback(ae=>{Q(ve=>{const Be=new Set(ve);return Be.has(ae)?Be.delete(ae):Be.add(ae),Be})},[]),be=V.useCallback(async ae=>{ee(!1);const ve=Uv(Qe,nt,ke,Ce),Be=Hv(ve,Xe,nt,ke,Ce),se=ye?.filename||"Document";ae==="docx"?await Lv(se,ve,Be):ae==="pdf"?await Kv(se,ve,Be):Yv(se,ve)},[Qe,nt,ke,Ce,Xe,ye?.filename]),de=V.useMemo(()=>{const ae={};return Qe.forEach(ve=>{ae[ve.color]=(ae[ve.color]||0)+1}),ae},[Qe]),pe=V.useMemo(()=>Qe.filter(ae=>{if(N.length>0&&!N.includes(ae.color))return!1;if(S.trim()){const ve=S.toLowerCase();return ae.highlighted_text?.toLowerCase().includes(ve)||ae.note?.content?.toLowerCase().includes(ve)}return!0}),[Qe,N,S]),Te=V.useMemo(()=>[...pe].sort((ae,ve)=>ae.page_number!==ve.page_number?ae.page_number-ve.page_number:new Date(ae.created_at)-new Date(ve.created_at)),[pe]),Le=V.useMemo(()=>{if(d!=="topic")return[];const ae={};return pe.forEach(ve=>{ae[ve.color]||(ae[ve.color]=[]),ae[ve.color].push(ve)}),Xe.map(ve=>({colorKey:ve,topic:Jl(ve,nt,ke),hex:Tr(ve,Ce),items:(ae[ve]||[]).sort((Be,se)=>Be.page_number!==se.page_number?Be.page_number-se.page_number:new Date(Be.created_at)-new Date(se.created_at))})).filter(ve=>ve.items.length>0)},[d,pe,Xe,nt,ke,Ce]),Fe=V.useMemo(()=>{if(d!=="page")return[];const ae={};return pe.forEach(ve=>{const Be=ve.page_number;ae[Be]||(ae[Be]=[]),ae[Be].push(ve)}),Object.entries(ae).map(([ve,Be])=>({page:Number(ve),items:Be.sort((se,Ge)=>new Date(se.created_at)-new Date(Ge.created_at))})).sort((ve,Be)=>ve.page-Be.page)},[d,pe]);if(!u)return o("/",{replace:!0}),null;if(Ne)return f.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:f.jsx(Oa,{className:"w-8 h-8 text-slate-400 animate-spin"})});if(Ze||!ye)return f.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Document not found"}),f.jsx("button",{type:"button",onClick:()=>o("/"),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700",children:"Back"})]});const ct=new Map;return[...Qe].sort((ae,ve)=>ae.page_number!==ve.page_number?ae.page_number-ve.page_number:new Date(ae.created_at)-new Date(ve.created_at)).forEach((ae,ve)=>ct.set(ae.id,ve+1)),f.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[f.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",style:{padding:"16px 32px"},children:f.jsxs("div",{className:"max-w-[1060px] mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"text-slate-500 hover:text-slate-700 text-sm flex items-center gap-1",children:[f.jsx(_o,{className:"w-4 h-4"}),"Back"]}),f.jsx("div",{className:"w-px h-5 bg-slate-200"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-[16px] font-semibold text-slate-900 tracking-tight",children:"Summary"}),f.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[300px]",children:ye.filename})]})]}),f.jsxs("div",{className:"relative",ref:we,children:[f.jsxs("button",{type:"button",onClick:()=>ee(ae=>!ae),disabled:!Qe.length,className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-md bg-slate-800 text-white text-[13px] font-medium hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[f.jsx(Hb,{className:"w-3.5 h-3.5"}),"Export"]}),xe&&f.jsx("div",{className:"absolute right-0 top-full mt-1.5 bg-white border border-slate-200 rounded-lg shadow-lg py-1.5 z-50 min-w-[200px]",children:[{key:"docx",icon:Xf,label:"Word (.docx)",desc:"Formatted summary"},{key:"pdf",icon:Kb,label:"PDF (.pdf)",desc:"Print-ready export"},{key:"json",icon:Db,label:"JSON (.json)",desc:"Structured data"}].map(ae=>f.jsxs("button",{type:"button",onClick:()=>be(ae.key),className:"flex items-center gap-2.5 w-full px-3 py-2 text-left hover:bg-slate-50 transition-colors",children:[f.jsx(ae.icon,{className:"w-4 h-4 text-slate-400 shrink-0"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[13px] font-medium text-slate-800",children:ae.label}),f.jsx("div",{className:"text-[11px] text-slate-400",children:ae.desc})]})]},ae.key))})]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 mt-3 mb-3.5",children:[f.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[Qe.length," annotation",Qe.length!==1?"s":""]}),f.jsx("span",{className:"text-slate-300 mx-0.5",children:""}),Xe.map(ae=>{const ve=de[ae]||0;if(!ve)return null;const Be=Tr(ae,Ce);return f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{backgroundColor:Be}}),f.jsx("span",{className:"text-[11px] text-slate-500",children:ve})]},ae)})]}),f.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[f.jsx("div",{className:"flex bg-slate-100 rounded-md p-0.5",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(ae=>f.jsx("button",{type:"button",onClick:()=>g(ae.key),className:`px-3 py-1.5 rounded text-[12.5px] font-medium transition-all ${d===ae.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:ae.label},ae.key))}),f.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 flex-1 max-w-[280px]",children:[f.jsx(ey,{className:"w-3.5 h-3.5 text-slate-400"}),f.jsx("input",{type:"text",value:S,onChange:ae=>x(ae.target.value),placeholder:"Search annotations...",className:"border-0 bg-transparent outline-none text-[12.5px] text-slate-900 w-full placeholder:text-slate-400"}),S&&f.jsx("button",{type:"button",onClick:()=>x(""),className:"text-slate-400 hover:text-slate-600",children:f.jsx(zi,{className:"w-3.5 h-3.5"})})]}),B.size>0&&f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 rounded-md border border-blue-200",children:[f.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[B.size," selected"]}),f.jsx("button",{type:"button",onClick:()=>{const ve=Qe.filter(Be=>B.has(Be.id)).map(Be=>`"${Be.highlighted_text}"  p.${Be.page_number}`).join(`

`);navigator.clipboard?.writeText(ve)},className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-100",children:"Copy selected"}),f.jsx("button",{type:"button",onClick:()=>W(new Set),className:"text-blue-400 hover:text-blue-600",children:f.jsx(zi,{className:"w-3.5 h-3.5"})})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:Xe.map(ae=>{const ve=de[ae]||0;if(!ve)return null;const Be=Tr(ae,Ce),se=Jl(ae,nt,ke),Ge=N.length===0||N.includes(ae);return f.jsxs("button",{type:"button",onClick:()=>ge(ae),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all",style:{borderColor:Ge?Be:"#E2E8F0",background:Ge?zr(Be,.08):"#fff",opacity:Ge?1:.5},children:[f.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Be}}),f.jsx("span",{className:"text-xs font-medium",style:{color:Ge?Be:"#94A3B8"},children:se}),f.jsx("span",{className:"text-[11px] font-semibold px-1.5 rounded",style:{color:Ge?Be:"#CBD5E1",background:Ge?zr(Be,.1):"#F8FAFC"},children:ve})]},ae)})})]})}),f.jsx("div",{className:"max-w-[1060px] mx-auto",style:{padding:"24px 32px 60px 64px"},children:Qe.length?pe.length===0?f.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:"No annotations match your search."}):d==="sequence"?f.jsx("div",{className:"flex flex-col gap-2",children:Te.map(ae=>f.jsx(Cf,{h:ae,seq:ct.get(ae.id),showCategory:!0,lensColorMap:Ce,colorLabels:nt,lensColors:ke,hovered:D===ae.id,selected:B.has(ae.id),onHover:k,onLeave:()=>k(null),onSelect:Se,editingNoteId:le,editingNoteValue:Ae,onEditNote:ve=>{Z(ve),ue(ae.note?.content??"")},onChangeNote:ue,onSaveNote:()=>K.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{Z(null),ue("")},savingNote:K.isPending},ae.id))}):d==="topic"?f.jsx("div",{className:"flex flex-col gap-5",children:Le.map(({colorKey:ae,topic:ve,hex:Be,items:se})=>{const Ge=me.has(ae);return f.jsxs("div",{children:[f.jsxs("button",{type:"button",onClick:()=>J(ae),className:"flex items-center gap-2 w-full pb-2.5 sticky top-[160px] z-10",children:[f.jsx(zf,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ge?"rotate(0deg)":"rotate(90deg)"}}),f.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Be}}),f.jsx("span",{className:"text-sm font-semibold text-slate-900",children:ve}),f.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:se.length})]}),!Ge&&f.jsx("div",{className:"flex flex-col gap-2",children:se.map(Ue=>f.jsx(Cf,{h:Ue,seq:ct.get(Ue.id),showCategory:!1,lensColorMap:Ce,colorLabels:nt,lensColors:ke,hovered:D===Ue.id,selected:B.has(Ue.id),onHover:k,onLeave:()=>k(null),onSelect:Se,editingNoteId:le,editingNoteValue:Ae,onEditNote:xt=>{Z(xt),ue(Ue.note?.content??"")},onChangeNote:ue,onSaveNote:()=>K.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{Z(null),ue("")},savingNote:K.isPending},Ue.id))})]},ae)})}):f.jsx("div",{className:"flex flex-col gap-5",children:Fe.map(({page:ae,items:ve})=>{const Be=`p${ae}`,se=me.has(Be);return f.jsxs("div",{children:[f.jsxs("button",{type:"button",onClick:()=>J(Be),className:"flex items-center gap-2 pb-2.5 sticky top-[160px] z-10",children:[f.jsx(zf,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:se?"rotate(0deg)":"rotate(90deg)"}}),f.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Page ",ae]}),f.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:ve.length})]}),!se&&f.jsx("div",{className:"flex flex-col gap-2",children:ve.map(Ge=>f.jsx(Cf,{h:Ge,seq:ct.get(Ge.id),showCategory:!0,lensColorMap:Ce,colorLabels:nt,lensColors:ke,hovered:D===Ge.id,selected:B.has(Ge.id),onHover:k,onLeave:()=>k(null),onSelect:Se,editingNoteId:le,editingNoteValue:Ae,onEditNote:Ue=>{Z(Ue),ue(Ge.note?.content??"")},onChangeNote:ue,onSaveNote:()=>K.mutate({highlightId:le,note:Ae.trim()}),onCancelNote:()=>{Z(null),ue("")},savingNote:K.isPending},Ge.id))})]},Be)})}):f.jsxs("div",{className:"text-center py-16 text-slate-400 text-sm",children:[f.jsx("p",{children:"No highlights yet."}),f.jsx("p",{className:"mt-1",children:"Select text in the document to create highlights, then return here."}),f.jsx("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 mt-4",children:"Open document"})]})})]})}function Cf({h:u,seq:o,showCategory:m,lensColorMap:d,colorLabels:g,lensColors:S,hovered:x,selected:N,onHover:q,onLeave:D,onSelect:k,editingNoteId:B,editingNoteValue:W,onEditNote:me,onChangeNote:Q,onSaveNote:le,onCancelNote:Z,savingNote:Ae}){const[ue,xe]=V.useState(!1),ee=Tr(u.color,d),we=Jl(u.color,g,S),ye=B===u.id,Ne=Ze=>{Ze.stopPropagation(),navigator.clipboard?.writeText(`"${u.highlighted_text}"  p.${u.page_number}`),xe(!0),setTimeout(()=>xe(!1),1500)};return f.jsxs("div",{className:"relative rounded-lg bg-white transition-all",style:{border:`1px solid ${x?zr(ee,.3):"#E8ECF0"}`,borderLeft:`3px solid ${ee}`,padding:"14px 16px 12px 16px",boxShadow:x?"0 2px 8px rgba(0,0,0,0.06)":"none"},onMouseEnter:()=>q?.(u.id),onMouseLeave:()=>D?.(),children:[f.jsx("div",{className:"absolute transition-opacity",style:{top:14,left:-32,opacity:x||N?1:0},children:f.jsx("div",{onClick:Ze=>{Ze.stopPropagation(),k?.(u.id)},className:"w-[18px] h-[18px] rounded flex items-center justify-center cursor-pointer transition-all",style:{border:N?`2px solid ${ee}`:"2px solid #CBD5E1",background:N?ee:"#fff"},children:N&&f.jsx(go,{className:"w-3 h-3 text-white",strokeWidth:3})})}),f.jsxs("p",{className:"text-[13.5px] leading-[1.55] text-slate-900",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",u.highlighted_text||"(No text captured)",""]}),ye?f.jsxs("div",{className:"mt-2 space-y-1.5",children:[f.jsx("textarea",{value:W,onChange:Ze=>Q(Ze.target.value),rows:2,autoFocus:!0,className:"w-full text-[12.5px] border border-slate-200 rounded-lg px-2.5 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 text-slate-800",placeholder:"Add a note..."}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsx("button",{type:"button",onClick:le,disabled:Ae,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Ae?"Saving":"Save"}),f.jsx("button",{type:"button",onClick:Z,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):u.note?.content?f.jsx("p",{className:"mt-2 text-[12.5px] leading-normal italic",style:{color:ee},children:u.note.content}):x&&f.jsx("button",{type:"button",onClick:()=>me(u.id),className:"mt-2 text-xs text-slate-400 hover:text-slate-600 cursor-pointer",children:"+ Add a note..."}),f.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100",children:[m&&f.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:ee,background:zr(ee,.08)},children:we}),f.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",u.page_number]}),o!=null&&f.jsxs("span",{className:"text-[10px] text-slate-300",children:["#",o]}),f.jsxs("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:x?1:0},children:[f.jsxs("button",{type:"button",onClick:Ne,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:ue?"#16A34A":"#64748B"},children:[ue?f.jsx(go,{className:"w-3 h-3"}):f.jsx(qb,{className:"w-3 h-3"}),ue?"Copied":"Copy"]}),f.jsxs("button",{type:"button",onClick:()=>me(u.id),className:"flex items-center gap-1 text-[11px] text-slate-500 border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",children:[f.jsx(bo,{className:"w-3 h-3"}),"Edit"]})]})]})]})}function Xv({onClose:u,onConfirm:o,isDeleting:m}){return f.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:f.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[f.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),f.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:u,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),f.jsx("button",{type:"button",onClick:o,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?f.jsxs(f.Fragment,{children:[f.jsx(Oa,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Gv(){const u=Ri(),o=cl(k=>k.logout),[m,d]=V.useState(!1),[g,S]=V.useState(!1),[x,N]=V.useState(""),q=()=>{o(),u("/login",{replace:!0})},D=async()=>{N(""),S(!0);try{await Mr.deleteAccount(),o(),u("/",{replace:!0})}catch(k){N(k.response?.data?.detail||k.message||"Something went wrong."),S(!1)}};return f.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[f.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),f.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",onClick:()=>u("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:f.jsx(_o,{className:"w-4 h-4"})}),f.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),f.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:f.jsx(Gf,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"max-w-[560px] mx-auto px-6 py-10",children:[f.jsx("h1",{className:"m-0 text-[28px] font-normal text-slate-950 tracking-tight",style:{fontFamily:"'Instrument Serif', serif"},children:"Account settings"}),f.jsx("div",{className:"mt-8",children:f.jsx(ty,{})}),f.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[f.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),f.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),x&&f.jsx("p",{className:"mt-4 text-sm text-red-600",children:x})]}),m&&f.jsx(Xv,{onClose:()=>!g&&d(!1),onConfirm:D,isDeleting:g})]})}const Vv=new S0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function Us({children:u}){return cl(m=>m.token)?u:f.jsx(mo,{to:"/login",replace:!0})}function Ap({children:u}){return cl(m=>m.token)?f.jsx(mo,{to:"/app",replace:!0}):u}function Zv(){return f.jsx(w0,{client:Vv,children:f.jsx(A0,{children:f.jsxs(O0,{children:[f.jsx(sl,{path:"/login",element:f.jsx(Ap,{children:f.jsx(wb,{})})}),f.jsx(sl,{path:"/register",element:f.jsx(Ap,{children:f.jsx(jb,{})})}),f.jsx(sl,{path:"/",element:f.jsx(mo,{to:"/app",replace:!0})}),f.jsx(sl,{path:"/app",element:f.jsx(Us,{children:f.jsx(hv,{})})}),f.jsx(sl,{path:"/app/settings",element:f.jsx(Us,{children:f.jsx(Gv,{})})}),f.jsx(sl,{path:"/project/:projectId",element:f.jsx(Us,{children:f.jsx(vv,{})})}),f.jsx(sl,{path:"/document/:id",element:f.jsx(Us,{children:f.jsx(zv,{})})}),f.jsx(sl,{path:"/document/:id/summary",element:f.jsx(Us,{children:f.jsx(Qv,{})})}),f.jsx(sl,{path:"*",element:f.jsx(mo,{to:"/app",replace:!0})})]})})})}q0.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(Zv,{})}));export{qf as _};
