const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-BE5RUbGT.js","assets/react-DzlI55X9.js"])))=>i.map(i=>d[i]);
import{j as o,u as zn,a as Ui,b as On,Q as T0,c as M0}from"./query-sjsEXzLg.js";import{a as k0,b as z0,R as mo,u as bl,r as U,L as Hp,c as R0,d as B0,g as q0,e as Vf,f as U0,B as H0,h as L0,i as Ua,N as So}from"./react-DzlI55X9.js";import{G as K0,g as Q0,U as Y0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const x of g)if(x.type==="childList")for(const S of x.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(g){const x={};return g.integrity&&(x.integrity=g.integrity),g.referrerPolicy&&(x.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?x.credentials="include":g.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(g){if(g.ep)return;g.ep=!0;const x=m(g);fetch(g.href,x)}})();var Af={exports:{}},Lr={},Of={exports:{}},Df={};var ap;function X0(){return ap||(ap=1,(function(r){function c(Y,ue){var ge=Y.length;Y.push(ue);e:for(;0<ge;){var Ee=ge-1>>>1,G=Y[Ee];if(0<g(G,ue))Y[Ee]=ue,Y[ge]=G,ge=Ee;else break e}}function m(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var ue=Y[0],ge=Y.pop();if(ge!==ue){Y[0]=ge;e:for(var Ee=0,G=Y.length,W=G>>>1;Ee<W;){var ie=2*(Ee+1)-1,Q=Y[ie],we=ie+1,Le=Y[we];if(0>g(Q,ge))we<G&&0>g(Le,Q)?(Y[Ee]=Le,Y[we]=ge,Ee=we):(Y[Ee]=Q,Y[ie]=ge,Ee=ie);else if(we<G&&0>g(Le,ge))Y[Ee]=Le,Y[we]=ge,Ee=we;else break e}}return ue}function g(Y,ue){var ge=Y.sortIndex-ue.sortIndex;return ge!==0?ge:Y.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var S=Date,w=S.now();r.unstable_now=function(){return S.now()-w}}var z=[],E=[],B=1,_=null,$=3,be=!1,Z=!1,oe=!1,I=!1,ce=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;function he(Y){for(var ue=m(E);ue!==null;){if(ue.callback===null)d(E);else if(ue.startTime<=Y)d(E),ue.sortIndex=ue.expirationTime,c(z,ue);else break;ue=m(E)}}function Oe(Y){if(oe=!1,he(Y),!Z)if(m(z)!==null)Z=!0,Se||(Se=!0,We());else{var ue=m(E);ue!==null&&He(Oe,ue.startTime-Y)}}var Se=!1,ve=-1,Pe=5,Ze=-1;function ft(){return I?!0:!(r.unstable_now()-Ze<Pe)}function Qe(){if(I=!1,Se){var Y=r.unstable_now();Ze=Y;var ue=!0;try{e:{Z=!1,oe&&(oe=!1,fe(ve),ve=-1),be=!0;var ge=$;try{t:{for(he(Y),_=m(z);_!==null&&!(_.expirationTime>Y&&ft());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,$=_.priorityLevel;var G=Ee(_.expirationTime<=Y);if(Y=r.unstable_now(),typeof G=="function"){_.callback=G,he(Y),ue=!0;break t}_===m(z)&&d(z),he(Y)}else d(z);_=m(z)}if(_!==null)ue=!0;else{var W=m(E);W!==null&&He(Oe,W.startTime-Y),ue=!1}}break e}finally{_=null,$=ge,be=!1}ue=void 0}}finally{ue?We():Se=!1}}}var We;if(typeof Ne=="function")We=function(){Ne(Qe)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,_e=ut.port2;ut.port1.onmessage=Qe,We=function(){_e.postMessage(null)}}else We=function(){ce(Qe,0)};function He(Y,ue){ve=ce(function(){Y(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return $},r.unstable_next=function(Y){switch($){case 1:case 2:case 3:var ue=3;break;default:ue=$}var ge=$;$=ue;try{return Y()}finally{$=ge}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=$;$=Y;try{return ue()}finally{$=ge}},r.unstable_scheduleCallback=function(Y,ue,ge){var Ee=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ee+ge:Ee):ge=Ee,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ge+G,Y={id:B++,callback:ue,priorityLevel:Y,startTime:ge,expirationTime:G,sortIndex:-1},ge>Ee?(Y.sortIndex=ge,c(E,Y),m(z)===null&&Y===m(E)&&(oe?(fe(ve),ve=-1):oe=!0,He(Oe,ge-Ee))):(Y.sortIndex=G,c(z,Y),Z||be||(Z=!0,Se||(Se=!0,We()))),Y},r.unstable_shouldYield=ft,r.unstable_wrapCallback=function(Y){var ue=$;return function(){var ge=$;$=ue;try{return Y.apply(this,arguments)}finally{$=ge}}}})(Df)),Df}var lp;function G0(){return lp||(lp=1,Of.exports=X0()),Of.exports}var sp;function V0(){if(sp)return Lr;sp=1;var r=G0(),c=k0(),m=z0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z(e){if(x(e)!==e)throw Error(d(188))}function E(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return z(s),e;if(i===a)return z(s),t;i=i.sibling}throw Error(d(188))}if(n.return!==a.return)n=s,a=i;else{for(var p=!1,v=s.child;v;){if(v===n){p=!0,n=s,a=i;break}if(v===a){p=!0,a=s,n=i;break}v=v.sibling}if(!p){for(v=i.child;v;){if(v===n){p=!0,n=i,a=s;break}if(v===a){p=!0,a=i,n=s;break}v=v.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function B(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=B(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,$=Symbol.for("react.element"),be=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),Ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ze=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function We(e){return e===null||typeof e!="object"?null:(e=Qe&&e[Qe]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ut?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case ce:return"Profiler";case I:return"StrictMode";case Oe:return"Suspense";case Se:return"SuspenseList";case Ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Ne:return e.displayName||"Context";case fe:return(e._context.displayName||"Context")+".Consumer";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var He=Array.isArray,Y=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ee=[],G=-1;function W(e){return{current:e}}function ie(e){0>G||(e.current=Ee[G],Ee[G]=null,G--)}function Q(e,t){G++,Ee[G]=e.current,e.current=t}var we=W(null),Le=W(null),Ve=W(null),yt=W(null);function Gt(e,t){switch(Q(Ve,t),Q(Le,e),Q(we,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Em(t),e=Cm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(we),Q(we,e)}function dn(){ie(we),ie(Le),ie(Ve)}function je(e){e.memoizedState!==null&&Q(yt,e);var t=we.current,n=Cm(t,e.type);t!==n&&(Q(Le,e),Q(we,n))}function dt(e){Le.current===e&&(ie(we),ie(Le)),yt.current===e&&(ie(yt),Br._currentValue=ge)}var Fe,ht;function Vt(e){if(Fe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fe=t&&t[1]||"",ht=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+ht}var At=!1;function Yn(e,t){if(!e||At)return"";At=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(te){var P=te}Reflect.construct(e,[],re)}else{try{re.call()}catch(te){P=te}e.call(re.prototype)}}else{try{throw Error()}catch(te){P=te}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(te){if(te&&P&&typeof te.stack=="string")return[te.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),p=i[0],v=i[1];if(p&&v){var C=p.split(`
`),F=v.split(`
`);for(s=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;s<F.length&&!F[s].includes("DetermineComponentFrameRoot");)s++;if(a===C.length||s===F.length)for(a=C.length-1,s=F.length-1;1<=a&&0<=s&&C[a]!==F[s];)s--;for(;1<=a&&0<=s;a--,s--)if(C[a]!==F[s]){if(a!==1||s!==1)do if(a--,s--,0>s||C[a]!==F[s]){var le=`
`+C[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=s);break}}}finally{At=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vt(n):""}function ea(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return Yn(e.type,!1);case 11:return Yn(e.type.render,!1);case 1:return Yn(e.type,!0);case 31:return Vt("Activity");default:return""}}function ye(e){try{var t="",n=null;do t+=ea(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var st=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,xe=r.unstable_shouldYield,$e=r.unstable_requestPaint,at=r.unstable_now,vt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Te=r.unstable_UserBlockingPriority,qe=r.unstable_NormalPriority,gt=r.unstable_LowPriority,Lt=r.unstable_IdlePriority,Jt=r.log,hn=r.unstable_setDisableYieldValue,Pt=null,Wt=null;function xn(e){if(typeof Jt=="function"&&hn(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Pt,e)}catch{}}var ze=Math.clz32?Math.clz32:Ks,is=Math.log,Ka=Math.LN2;function Ks(e){return e>>>=0,e===0?32:31-(is(e)/Ka|0)|0}var De=256,xl=262144,rs=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function us(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~i,a!==0?s=ga(a):(p&=v,p!==0?s=ga(p):n||(n=v&~e,n!==0&&(s=ga(n))))):(v=a&~i,v!==0?s=ga(v):p!==0?s=ga(p):n||(n=a&~e,n!==0&&(s=ga(n)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),e}function Na(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ta(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,t,n,a,s,i){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,F=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-ze(n),re=1<<le;v[le]=0,C[le]=-1;var P=F[le];if(P!==null)for(F[le]=null,le=0;le<P.length;le++){var te=P[le];te!==null&&(te.lane&=-536870913)}n&=~re}a!==0&&os(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(p&~t))}function os(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ze(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ze(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function It(e,t){var n=t&-t;return n=(n&42)!==0?1:Ki(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cs(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Jm(e.type))}function fs(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var _a=Math.random().toString(36).slice(2),Ut="__reactFiber$"+_a,en="__reactProps$"+_a,Tn="__reactContainer$"+_a,Sl="__reactEvents$"+_a,Ro="__reactListeners$"+_a,Ea="__reactHandles$"+_a,Qi="__reactResources$"+_a,Xn="__reactMarker$"+_a;function Qs(e){delete e[Ut],delete e[en],delete e[Sl],delete e[Ro],delete e[Ea]}function Ca(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zm(e);e!==null;){if(n=e[Ut])return n;e=zm(e)}return t}e=n,n=e.parentNode}return null}function Tt(e){if(e=e[Ut]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function _n(e){var t=e[Qi];return t||(t=e[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tn(e){e[Xn]=!0}var Ya=new Set,ds={};function ba(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(ds[e]=t,e=0;e<t.length;e++)Ya.add(t[e])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},hs={};function tu(e){return st.call(hs,e)?!0:st.call(Yi,e)?!1:Xa.test(e)?hs[e]=!0:(Yi[e]=!0,!1)}function it(e,t,n){if(tu(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ms(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function na(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nu(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){n=""+p,i.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ys(e){if(!e._valueTracker){var t=jl(e)?"checked":"value";e._valueTracker=nu(e,t,""+e[t])}}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=jl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function pn(e){return e.replace(ps,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Oa(e,t,n,a,s,i,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ys(e,p,vn(t)):n!=null?ys(e,p,vn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+vn(v):e.removeAttribute("name")}function Xs(e,t,n,a,s,i,p,v){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ys(e);return}n=n!=null?""+vn(n):"",t=t!=null?""+vn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ys(e)}function ys(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xa(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gi(e,t,n){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vn(n):""}function gs(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(He(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=vn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Ys(e)}function Ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Bo.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vi(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&bt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&bt(e,i,t[i])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var aa=null;function Gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Kt=null;function Vn(e){var t=Tt(e);if(t&&(e=t.stateNode)){var n=e[en]||null;e:switch(e=t.stateNode,t.type){case"input":if(Oa(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[en]||null;if(!s)throw Error(d(90));Oa(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xi(a)}break e;case"textarea":Gi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xa(e,!!n.multiple,t,!1)}}}var Fa=!1;function wl(e,t,n){if(Fa)return e(t,n);Fa=!0;try{var a=e(t);return a}finally{if(Fa=!1,(Va!==null||Kt!==null)&&(Gu(),Va&&(t=Va,e=Kt,Kt=Va=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function Za(e,t){var n=e.stateNode;if(n===null)return null;var a=n[en]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(yn)try{var En={};Object.defineProperty(En,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{Zi=!1}var la=null,Vs=null,Nl=null;function _l(){if(Nl)return Nl;var e,t=Vs,n=t.length,a,s="value"in la?la.value:la.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===s[i-a];a++);return Nl=s.slice(e,1<a?1-a:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function au(){return!1}function rn(e){function t(n,a,s,i,p){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(i):i[v]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:au,this.isPropagationStopped=au,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=rn($a),Da=_({},$a,{view:0,detail:0}),Zs=rn(Da),xs,$i,vs,$s=_({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(xs=e.screenX-vs.screenX,$i=e.screenY-vs.screenY):$i=xs=0,vs=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),Js=rn($s),Ji=_({},$s,{dataTransfer:0}),lu=rn(Ji),Ps=_({},Da,{relatedTarget:0}),Cl=rn(Ps),Ws=_({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),su=rn(Ws),Uo=_({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Al=rn(Uo),Pi=_({},$a,{data:0}),Is=rn(Pi),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Ja(){return Ss}var iu=_({},Da,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ei=rn(iu),ru=_({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=rn(ru),ti=_({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),tr=rn(ti),Pa=_({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=rn(Pa),ar=_({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ni=rn(ar),lr=_({},$a,{newState:0,oldState:0}),uu=rn(lr),Ho=[9,13,27,32],js=yn&&"CompositionEvent"in window,Ta=null;yn&&"documentMode"in document&&(Ta=document.documentMode);var Lo=yn&&"TextEvent"in window&&!Ta,ai=yn&&(!js||Ta&&8<Ta&&11>=Ta),li=" ",ou=!1;function sr(e,t){switch(e){case"keyup":return Ho.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function fu(e,t){switch(e){case"compositionend":return cu(t);case"keypress":return t.which!==32?null:(ou=!0,li);case"textInput":return e=t.data,e===li&&ou?null:e;default:return null}}function Ko(e,t){if(Wa)return e==="compositionend"||!js&&sr(e,t)?(e=_l(),Nl=Vs=la=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ai&&t.locale!=="ko"?null:t.data;default:return null}}var du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function si(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!du[e.type]:t==="textarea"}function ir(e,t,n,a){Va?Kt?Kt.push(a):Kt=[a]:Va=a,t=Wu(t,"onChange"),0<t.length&&(n=new Fs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ol=null,ws=null;function Qo(e){vm(e,0)}function ii(e){var t=Gn(e);if(Xi(t))return e}function Ns(e,t){if(e==="change")return t}var sa=!1;if(yn){var Qt;if(yn){var Dl="oninput"in document;if(!Dl){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Dl=typeof Ia.oninput=="function"}Qt=Dl}else Qt=!1;sa=Qt&&(!document.documentMode||9<document.documentMode)}function hu(){Ol&&(Ol.detachEvent("onpropertychange",ri),ws=Ol=null)}function ri(e){if(e.propertyName==="value"&&ii(ws)){var t=[];ir(t,ws,e,Gs(e)),wl(Qo,t)}}function mu(e,t,n){e==="focusin"?(hu(),Ol=t,ws=n,Ol.attachEvent("onpropertychange",ri)):e==="focusout"&&hu()}function el(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ws)}function rr(e,t){if(e==="click")return ii(t)}function Tl(e,t){if(e==="input"||e==="change")return ii(t)}function Ma(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:Ma;function l(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!st.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=yn&&"documentMode"in document&&11>=document.documentMode,N=null,O=null,L=null,D=!1;function A(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D||N==null||N!==Nt(a)||(a=N,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),L&&l(L,a)||(L=a,a=Wu(O,"onSelect"),0<a.length&&(t=new Fs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=N)))}function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var q={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionrun:k("Transition","TransitionRun"),transitionstart:k("Transition","TransitionStart"),transitioncancel:k("Transition","TransitionCancel"),transitionend:k("Transition","TransitionEnd")},T={},M={};yn&&(M=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function X(e){if(T[e])return T[e];if(!q[e])return e;var t=q[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M)return T[e]=t[n];return e}var J=X("animationend"),K=X("animationiteration"),ae=X("animationstart"),de=X("transitionrun"),Ce=X("transitionstart"),Ae=X("transitioncancel"),me=X("transitionend"),Re=new Map,Me="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Me.push("scrollEnd");function pe(e,t){Re.set(e,t),ba(t,[e])}var Be=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},et=[],rt=0,Ye=0;function tt(){for(var e=rt,t=Ye=rt=0;t<e;){var n=et[t];et[t++]=null;var a=et[t];et[t++]=null;var s=et[t];et[t++]=null;var i=et[t];if(et[t++]=null,a!==null&&s!==null){var p=a.pending;p===null?s.next=s:(s.next=p.next,p.next=s),a.pending=s}i!==0&&ka(n,s,i)}}function Mt(e,t,n,a){et[rt++]=e,et[rt++]=t,et[rt++]=n,et[rt++]=a,Ye|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function An(e,t,n,a){return Mt(e,t,n,a),Ml(e)}function Ct(e,t){return Mt(e,null,null,t),Ml(e)}function ka(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ze(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Ml(e){if(50<Or)throw Or=0,Pc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ui={};function my(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,a){return new my(e,t,n,a)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tl(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pu(e,t,n,a,s,i){var p=0;if(a=e,typeof e=="function")Yo(e)&&(p=1);else if(typeof e=="string")p=x0(e,n,we.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ze:return e=Fn(31,n,t,s),e.elementType=Ze,e.lanes=i,e;case oe:return _s(n.children,s,i,t);case I:p=8,s|=24;break;case ce:return e=Fn(12,n,t,s|2),e.elementType=ce,e.lanes=i,e;case Oe:return e=Fn(13,n,t,s),e.elementType=Oe,e.lanes=i,e;case Se:return e=Fn(19,n,t,s),e.elementType=Se,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:p=10;break e;case fe:p=9;break e;case he:p=11;break e;case ve:p=14;break e;case Pe:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Fn(p,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function _s(e,t,n,a){return e=Fn(7,e,a,t),e.lanes=n,e}function Xo(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function ad(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Go(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ld=new WeakMap;function ia(e,t){if(typeof e=="object"&&e!==null){var n=ld.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ye(t)},ld.set(e,t),t)}return{value:e,source:t,stack:ye(t)}}var oi=[],ci=0,yu=null,ur=0,ra=[],ua=0,kl=null,za=1,Ra="";function nl(e,t){oi[ci++]=ur,oi[ci++]=yu,yu=e,ur=t}function sd(e,t,n){ra[ua++]=za,ra[ua++]=Ra,ra[ua++]=kl,kl=e;var a=za;e=Ra;var s=32-ze(a)-1;a&=~(1<<s),n+=1;var i=32-ze(t)+s;if(30<i){var p=s-s%5;i=(a&(1<<p)-1).toString(32),a>>=p,s-=p,za=1<<32-ze(t)+s|n<<s|a,Ra=i+e}else za=1<<i|n<<s|a,Ra=e}function Vo(e){e.return!==null&&(nl(e,1),sd(e,1,0))}function Fo(e){for(;e===yu;)yu=oi[--ci],oi[ci]=null,ur=oi[--ci],oi[ci]=null;for(;e===kl;)kl=ra[--ua],ra[ua]=null,Ra=ra[--ua],ra[ua]=null,za=ra[--ua],ra[ua]=null}function id(e,t){ra[ua++]=za,ra[ua++]=Ra,ra[ua++]=kl,za=t.id,Ra=t.overflow,kl=e}var Sn=null,Yt=null,xt=!1,zl=null,oa=!1,Zo=Error(d(519));function Rl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(ia(t,e)),Zo}function rd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[en]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)ct(Tr[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Xs(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),gs(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Nm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Rl(e,!0)}function ud(e){for(Sn=e.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:Sn=Sn.return}}function fi(e){if(e!==Sn)return!1;if(!xt)return ud(e),xt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||hf(e.type,e.memoizedProps)),n=!n),n&&Yt&&Rl(e),ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=km(e)}else t===27?(t=Yt,$l(e.type)?(e=bf,bf=null,Yt=e):Yt=t):Yt=Sn?fa(e.stateNode.nextSibling):null;return!0}function Es(){Yt=Sn=null,xt=!1}function $o(){var e=zl;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),zl=null),e}function or(e){zl===null?zl=[e]:zl.push(e)}var Jo=W(null),Cs=null,al=null;function Bl(e,t,n){Q(Jo,t._currentValue),t._currentValue=n}function ll(e){e._currentValue=Jo.current,ie(Jo)}function Po(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var p=s.child;i=i.firstContext;e:for(;i!==null;){var v=i;i=s;for(var C=0;C<t.length;C++)if(v.context===t[C]){i.lanes|=n,v=i.alternate,v!==null&&(v.lanes|=n),Po(i.return,n,e),a||(p=null);break e}i=v.next}}else if(s.tag===18){if(p=s.return,p===null)throw Error(d(341));p.lanes|=n,i=p.alternate,i!==null&&(i.lanes|=n),Po(p,n,e),p=null}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===e){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}}function di(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var p=s.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var v=s.type;Cn(s.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(s===yt.current){if(p=s.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}s=s.return}e!==null&&Wo(t,e,n,a),t.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Cs=e,al=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jn(e){return od(Cs,e)}function bu(e,t){return Cs===null&&As(e),od(e,t)}function od(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},al===null){if(e===null)throw Error(d(308));al=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else al=al.next=t;return n}var py=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},yy=r.unstable_scheduleCallback,gy=r.unstable_NormalPriority,un={$$typeof:Ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new py,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&yy(gy,function(){e.controller.abort()})}var fr=null,ec=0,hi=0,mi=null;function by(e,t){if(fr===null){var n=fr=[];ec=0,hi=af(),mi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return ec++,t.then(cd,cd),t}function cd(){if(--ec===0&&fr!==null){mi!==null&&(mi.status="fulfilled");var e=fr;fr=null,hi=0,mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function xy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var fd=Y.S;Y.S=function(e,t){Zh=at(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&by(e,t),fd!==null&&fd(e,t)};var Os=W(null);function tc(){var e=Os.current;return e!==null?e:qt.pooledCache}function xu(e,t){t===null?Q(Os,Os.current):Q(Os,t.pool)}function dd(){var e=tc();return e===null?null:{parent:un._currentValue,pool:e}}var pi=Error(d(460)),nc=Error(d(474)),vu=Error(d(542)),Su={then:function(){}};function hd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rn,Rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=qt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e}throw Ts=t,pi}}function Ds(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ts=n,pi):n}}var Ts=null;function pd(){if(Ts===null)throw Error(d(459));var e=Ts;return Ts=null,e}function yd(e){if(e===pi||e===vu)throw Error(d(483))}var yi=null,dr=0;function ju(e){var t=dr;return dr+=1,yi===null&&(yi=[]),md(yi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wu(e,t){throw t.$$typeof===$?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){function t(H,R){if(e){var V=H.deletions;V===null?(H.deletions=[R],H.flags|=16):V.push(R)}}function n(H,R){if(!e)return null;for(;R!==null;)t(H,R),R=R.sibling;return null}function a(H){for(var R=new Map;H!==null;)H.key!==null?R.set(H.key,H):R.set(H.index,H),H=H.sibling;return R}function s(H,R){return H=tl(H,R),H.index=0,H.sibling=null,H}function i(H,R,V){return H.index=V,e?(V=H.alternate,V!==null?(V=V.index,V<R?(H.flags|=67108866,R):V):(H.flags|=67108866,R)):(H.flags|=1048576,R)}function p(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function v(H,R,V,se){return R===null||R.tag!==6?(R=Xo(V,H.mode,se),R.return=H,R):(R=s(R,V),R.return=H,R)}function C(H,R,V,se){var Ge=V.type;return Ge===oe?le(H,R,V.props.children,se,V.key):R!==null&&(R.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Pe&&Ds(Ge)===R.type)?(R=s(R,V.props),hr(R,V),R.return=H,R):(R=pu(V.type,V.key,V.props,null,H.mode,se),hr(R,V),R.return=H,R)}function F(H,R,V,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==V.containerInfo||R.stateNode.implementation!==V.implementation?(R=Go(V,H.mode,se),R.return=H,R):(R=s(R,V.children||[]),R.return=H,R)}function le(H,R,V,se,Ge){return R===null||R.tag!==7?(R=_s(V,H.mode,se,Ge),R.return=H,R):(R=s(R,V),R.return=H,R)}function re(H,R,V){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Xo(""+R,H.mode,V),R.return=H,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case be:return V=pu(R.type,R.key,R.props,null,H.mode,V),hr(V,R),V.return=H,V;case Z:return R=Go(R,H.mode,V),R.return=H,R;case Pe:return R=Ds(R),re(H,R,V)}if(He(R)||We(R))return R=_s(R,H.mode,V,null),R.return=H,R;if(typeof R.then=="function")return re(H,ju(R),V);if(R.$$typeof===Ne)return re(H,bu(H,R),V);wu(H,R)}return null}function P(H,R,V,se){var Ge=R!==null?R.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ge!==null?null:v(H,R,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case be:return V.key===Ge?C(H,R,V,se):null;case Z:return V.key===Ge?F(H,R,V,se):null;case Pe:return V=Ds(V),P(H,R,V,se)}if(He(V)||We(V))return Ge!==null?null:le(H,R,V,se,null);if(typeof V.then=="function")return P(H,R,ju(V),se);if(V.$$typeof===Ne)return P(H,R,bu(H,V),se);wu(H,V)}return null}function te(H,R,V,se,Ge){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(V)||null,v(R,H,""+se,Ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case be:return H=H.get(se.key===null?V:se.key)||null,C(R,H,se,Ge);case Z:return H=H.get(se.key===null?V:se.key)||null,F(R,H,se,Ge);case Pe:return se=Ds(se),te(H,R,V,se,Ge)}if(He(se)||We(se))return H=H.get(V)||null,le(R,H,se,Ge,null);if(typeof se.then=="function")return te(H,R,V,ju(se),Ge);if(se.$$typeof===Ne)return te(H,R,V,bu(R,se),Ge);wu(R,se)}return null}function Ue(H,R,V,se){for(var Ge=null,jt=null,Ke=R,lt=R=0,pt=null;Ke!==null&&lt<V.length;lt++){Ke.index>lt?(pt=Ke,Ke=null):pt=Ke.sibling;var wt=P(H,Ke,V[lt],se);if(wt===null){Ke===null&&(Ke=pt);break}e&&Ke&&wt.alternate===null&&t(H,Ke),R=i(wt,R,lt),jt===null?Ge=wt:jt.sibling=wt,jt=wt,Ke=pt}if(lt===V.length)return n(H,Ke),xt&&nl(H,lt),Ge;if(Ke===null){for(;lt<V.length;lt++)Ke=re(H,V[lt],se),Ke!==null&&(R=i(Ke,R,lt),jt===null?Ge=Ke:jt.sibling=Ke,jt=Ke);return xt&&nl(H,lt),Ge}for(Ke=a(Ke);lt<V.length;lt++)pt=te(Ke,H,lt,V[lt],se),pt!==null&&(e&&pt.alternate!==null&&Ke.delete(pt.key===null?lt:pt.key),R=i(pt,R,lt),jt===null?Ge=pt:jt.sibling=pt,jt=pt);return e&&Ke.forEach(function(es){return t(H,es)}),xt&&nl(H,lt),Ge}function Je(H,R,V,se){if(V==null)throw Error(d(151));for(var Ge=null,jt=null,Ke=R,lt=R=0,pt=null,wt=V.next();Ke!==null&&!wt.done;lt++,wt=V.next()){Ke.index>lt?(pt=Ke,Ke=null):pt=Ke.sibling;var es=P(H,Ke,wt.value,se);if(es===null){Ke===null&&(Ke=pt);break}e&&Ke&&es.alternate===null&&t(H,Ke),R=i(es,R,lt),jt===null?Ge=es:jt.sibling=es,jt=es,Ke=pt}if(wt.done)return n(H,Ke),xt&&nl(H,lt),Ge;if(Ke===null){for(;!wt.done;lt++,wt=V.next())wt=re(H,wt.value,se),wt!==null&&(R=i(wt,R,lt),jt===null?Ge=wt:jt.sibling=wt,jt=wt);return xt&&nl(H,lt),Ge}for(Ke=a(Ke);!wt.done;lt++,wt=V.next())wt=te(Ke,H,lt,wt.value,se),wt!==null&&(e&&wt.alternate!==null&&Ke.delete(wt.key===null?lt:wt.key),R=i(wt,R,lt),jt===null?Ge=wt:jt.sibling=wt,jt=wt);return e&&Ke.forEach(function(D0){return t(H,D0)}),xt&&nl(H,lt),Ge}function Rt(H,R,V,se){if(typeof V=="object"&&V!==null&&V.type===oe&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case be:e:{for(var Ge=V.key;R!==null;){if(R.key===Ge){if(Ge=V.type,Ge===oe){if(R.tag===7){n(H,R.sibling),se=s(R,V.props.children),se.return=H,H=se;break e}}else if(R.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Pe&&Ds(Ge)===R.type){n(H,R.sibling),se=s(R,V.props),hr(se,V),se.return=H,H=se;break e}n(H,R);break}else t(H,R);R=R.sibling}V.type===oe?(se=_s(V.props.children,H.mode,se,V.key),se.return=H,H=se):(se=pu(V.type,V.key,V.props,null,H.mode,se),hr(se,V),se.return=H,H=se)}return p(H);case Z:e:{for(Ge=V.key;R!==null;){if(R.key===Ge)if(R.tag===4&&R.stateNode.containerInfo===V.containerInfo&&R.stateNode.implementation===V.implementation){n(H,R.sibling),se=s(R,V.children||[]),se.return=H,H=se;break e}else{n(H,R);break}else t(H,R);R=R.sibling}se=Go(V,H.mode,se),se.return=H,H=se}return p(H);case Pe:return V=Ds(V),Rt(H,R,V,se)}if(He(V))return Ue(H,R,V,se);if(We(V)){if(Ge=We(V),typeof Ge!="function")throw Error(d(150));return V=Ge.call(V),Je(H,R,V,se)}if(typeof V.then=="function")return Rt(H,R,ju(V),se);if(V.$$typeof===Ne)return Rt(H,R,bu(H,V),se);wu(H,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,R!==null&&R.tag===6?(n(H,R.sibling),se=s(R,V),se.return=H,H=se):(n(H,R),se=Xo(V,H.mode,se),se.return=H,H=se),p(H)):n(H,R)}return function(H,R,V,se){try{dr=0;var Ge=Rt(H,R,V,se);return yi=null,Ge}catch(Ke){if(Ke===pi||Ke===vu)throw Ke;var jt=Fn(29,Ke,null,H.mode);return jt.lanes=se,jt.return=H,jt}}}var Ms=gd(!0),bd=gd(!1),ql=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ul(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Ml(e),ka(e,null,n),t}return Mt(e,a,t,n),Ml(e)}function mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}function sc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=p:i=i.next=p,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ic=!1;function pr(){if(ic){var e=mi;if(e!==null)throw e}}function yr(e,t,n,a){ic=!1;var s=e.updateQueue;ql=!1;var i=s.firstBaseUpdate,p=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var C=v,F=C.next;C.next=null,p===null?i=F:p.next=F,p=C;var le=e.alternate;le!==null&&(le=le.updateQueue,v=le.lastBaseUpdate,v!==p&&(v===null?le.firstBaseUpdate=F:v.next=F,le.lastBaseUpdate=C))}if(i!==null){var re=s.baseState;p=0,le=F=C=null,v=i;do{var P=v.lane&-536870913,te=P!==v.lane;if(te?(mt&P)===P:(a&P)===P){P!==0&&P===hi&&(ic=!0),le!==null&&(le=le.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Ue=e,Je=v;P=t;var Rt=n;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){re=Ue.call(Rt,re,P);break e}re=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,P=typeof Ue=="function"?Ue.call(Rt,re,P):Ue,P==null)break e;re=_({},re,P);break e;case 2:ql=!0}}P=v.callback,P!==null&&(e.flags|=64,te&&(e.flags|=8192),te=s.callbacks,te===null?s.callbacks=[P]:te.push(P))}else te={lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},le===null?(F=le=te,C=re):le=le.next=te,p|=P;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;te=v,v=te.next,te.next=null,s.lastBaseUpdate=te,s.shared.pending=null}}while(!0);le===null&&(C=re),s.baseState=C,s.firstBaseUpdate=F,s.lastBaseUpdate=le,i===null&&(s.shared.lanes=0),Xl|=p,e.lanes=p,e.memoizedState=re}}function xd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function vd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xd(n[e],t)}var gi=W(null),Nu=W(0);function Sd(e,t){e=hl,Q(Nu,e),Q(gi,t),hl=e|t.baseLanes}function rc(){Q(Nu,hl),Q(gi,gi.current)}function uc(){hl=Nu.current,ie(gi),ie(Nu)}var Zn=W(null),ca=null;function Ll(e){var t=e.alternate;Q(nn,nn.current&1),Q(Zn,e),ca===null&&(t===null||gi.current!==null||t.memoizedState!==null)&&(ca=e)}function oc(e){Q(nn,nn.current),Q(Zn,e),ca===null&&(ca=e)}function jd(e){e.tag===22?(Q(nn,nn.current),Q(Zn,e),ca===null&&(ca=e)):Kl()}function Kl(){Q(nn,nn.current),Q(Zn,Zn.current)}function $n(e){ie(Zn),ca===e&&(ca=null),ie(nn)}var nn=W(0);function _u(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yf(n)||gf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=0,nt=null,kt=null,on=null,Eu=!1,bi=!1,ks=!1,Cu=0,gr=0,xi=null,vy=0;function Zt(){throw Error(d(321))}function cc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function fc(e,t,n,a,s,i){return sl=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?sh:Ec,ks=!1,i=n(a,s),ks=!1,bi&&(i=Nd(t,n,a,s)),wd(e),i}function wd(e){Y.H=vr;var t=kt!==null&&kt.next!==null;if(sl=0,on=kt=nt=null,Eu=!1,gr=0,xi=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&gu(e)&&(cn=!0))}function Nd(e,t,n,a){nt=e;var s=0;do{if(bi&&(xi=null),gr=0,bi=!1,25<=s)throw Error(d(301));if(s+=1,on=kt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Y.H=ih,i=t(n,a)}while(bi);return i}function Sy(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(nt.flags|=1024),t}function dc(){var e=Cu!==0;return Cu=0,e}function hc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mc(e){if(Eu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Eu=!1}sl=0,on=kt=nt=null,bi=!1,gr=Cu=0,xi=null}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=e:on=on.next=e,on}function an(){if(kt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=on===null?nt.memoizedState:on.next;if(t!==null)on=t,kt=e;else{if(e===null)throw nt.alternate===null?Error(d(467)):Error(d(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?nt.memoizedState=on=e:on=on.next=e}return on}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=gr;return gr+=1,xi===null&&(xi=[]),e=md(xi,e,t),t=nt,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?sh:Ec),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===Ne)return jn(e)}throw Error(d(438,String(e)))}function pc(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Au(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ft;return t.index++,n}function il(e,t){return typeof t=="function"?t(e):t}function Du(e){var t=an();return yc(t,kt,e)}function yc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var p=s.next;s.next=i.next,i.next=p}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var v=p=null,C=null,F=t,le=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(mt&re)===re:(sl&re)===re){var P=F.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===hi&&(le=!0);else if((sl&P)===P){F=F.next,P===hi&&(le=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(v=C=re,p=i):C=C.next=re,nt.lanes|=P,Xl|=P;re=F.action,ks&&n(i,re),i=F.hasEagerState?F.eagerState:n(i,re)}else P={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},C===null?(v=C=P,p=i):C=C.next=P,nt.lanes|=re,Xl|=re;F=F.next}while(F!==null&&F!==t);if(C===null?p=i:C.next=v,!Cn(i,e.memoizedState)&&(cn=!0,le&&(n=mi,n!==null)))throw n;e.memoizedState=i,e.baseState=p,e.baseQueue=C,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function gc(e){var t=an(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var p=s=s.next;do i=e(i,p.action),p=p.next;while(p!==s);Cn(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function _d(e,t,n){var a=nt,s=an(),i=xt;if(i){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Cn((kt||s).memoizedState,n);if(p&&(s.memoizedState=n,cn=!0),s=s.queue,vc(Ad.bind(null,a,s,e),[e]),s.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,vi(9,{destroy:void 0},Cd.bind(null,a,s,n,t),null),qt===null)throw Error(d(349));i||(sl&127)!==0||Ed(a,t,n)}return n}function Ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Au(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cd(e,t,n,a){t.value=n,t.getSnapshot=a,Od(t)&&Dd(e)}function Ad(e,t,n){return n(function(){Od(t)&&Dd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function Dd(e){var t=Ct(e,2);t!==null&&Ln(t,e,2)}function bc(e){var t=kn();if(typeof e=="function"){var n=e;if(e=n(),ks){xn(!0);try{n()}finally{xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t}function Td(e,t,n,a){return e.baseState=n,yc(e,kt,typeof a=="function"?a:il)}function jy(e,t,n,a,s){if(ku(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){i.listeners.push(p)}};Y.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Md(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Md(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=Y.T,p={};Y.T=p;try{var v=n(s,a),C=Y.S;C!==null&&C(p,v),kd(e,t,v)}catch(F){xc(e,t,F)}finally{i!==null&&p.types!==null&&(i.types=p.types),Y.T=i}}else try{i=n(s,a),kd(e,t,i)}catch(F){xc(e,t,F)}}function kd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){zd(e,t,a)},function(a){return xc(e,t,a)}):zd(e,t,n)}function zd(e,t,n){t.status="fulfilled",t.value=n,Rd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Md(e,n)))}function xc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Rd(t),t=t.next;while(t!==a)}e.action=null}function Rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function qd(e,t){if(xt){var n=qt.formState;if(n!==null){e:{var a=nt;if(xt){if(Yt){t:{for(var s=Yt,i=oa;s.nodeType!==8;){if(!i){s=null;break t}if(s=fa(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Yt=fa(s.nextSibling),a=s.data==="F!";break e}}Rl(a)}a=!1}a&&(t=n[0])}}return n=kn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},n.queue=a,n=nh.bind(null,nt,a),a.dispatch=n,a=bc(!1),i=_c.bind(null,nt,!1,a.queue),a=kn(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=jy.bind(null,nt,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Ud(e){var t=an();return Hd(t,kt,e)}function Hd(e,t,n){if(t=yc(e,t,Bd)[0],e=Du(il)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=br(t)}catch(p){throw p===pi?vu:p}else a=t;t=an();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,vi(9,{destroy:void 0},wy.bind(null,s,n),null)),[a,i,e]}function wy(e,t){e.action=t}function Ld(e){var t=an(),n=kt;if(n!==null)return Hd(t,n,e);an(),t=t.memoizedState,n=an();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function vi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Au(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Kd(){return an().memoizedState}function Tu(e,t,n,a){var s=kn();nt.flags|=e,s.memoizedState=vi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Mu(e,t,n,a){var s=an();a=a===void 0?null:a;var i=s.memoizedState.inst;kt!==null&&a!==null&&cc(a,kt.memoizedState.deps)?s.memoizedState=vi(t,i,n,a):(nt.flags|=e,s.memoizedState=vi(1|t,i,n,a))}function Qd(e,t){Tu(8390656,8,e,t)}function vc(e,t){Mu(2048,8,e,t)}function Ny(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=Au(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Yd(e){var t=an().memoizedState;return Ny({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Xd(e,t){return Mu(4,2,e,t)}function Gd(e,t){return Mu(4,4,e,t)}function Vd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fd(e,t,n){n=n!=null?n.concat([e]):null,Mu(4,4,Vd.bind(null,t,e),n)}function Sc(){}function Zd(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&cc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function $d(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&cc(t,a[1]))return a[0];if(a=e(),ks){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[a,t],a}function jc(e,t,n){return n===void 0||(sl&1073741824)!==0&&(mt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Jh(),nt.lanes|=e,Xl|=e,n)}function Jd(e,t,n,a){return Cn(n,t)?n:gi.current!==null?(e=jc(e,n,a),Cn(e,t)||(cn=!0),e):(sl&42)===0||(sl&1073741824)!==0&&(mt&261930)===0?(cn=!0,e.memoizedState=n):(e=Jh(),nt.lanes|=e,Xl|=e,t)}function Pd(e,t,n,a,s){var i=ue.p;ue.p=i!==0&&8>i?i:8;var p=Y.T,v={};Y.T=v,_c(e,!1,t,n);try{var C=s(),F=Y.S;if(F!==null&&F(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var le=xy(C,a);xr(e,t,le,Wn(e))}else xr(e,t,a,Wn(e))}catch(re){xr(e,t,{then:function(){},status:"rejected",reason:re},Wn())}finally{ue.p=i,p!==null&&v.types!==null&&(p.types=v.types),Y.T=p}}function _y(){}function wc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var s=Wd(e).queue;Pd(e,s,t,ge,n===null?_y:function(){return Id(e),n(a)})}function Wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:ge},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Id(e){var t=Wd(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},Wn())}function Nc(){return jn(Br)}function eh(){return an().memoizedState}function th(){return an().memoizedState}function Ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Wn();e=Ul(n);var a=Hl(t,e,n);a!==null&&(Ln(a,t,n),mr(a,t,n)),t={cache:Io()},e.payload=t;return}t=t.return}}function Cy(e,t,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ku(e)?ah(t,n):(n=An(e,t,n,a),n!==null&&(Ln(n,e,a),lh(n,t,a)))}function nh(e,t,n){var a=Wn();xr(e,t,n,a)}function xr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ku(e))ah(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var p=t.lastRenderedState,v=i(p,n);if(s.hasEagerState=!0,s.eagerState=v,Cn(v,p))return Mt(e,t,s,0),qt===null&&tt(),!1}catch{}if(n=An(e,t,s,a),n!==null)return Ln(n,e,a),lh(n,t,a),!0}return!1}function _c(e,t,n,a){if(a={lane:2,revertLane:af(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(t)throw Error(d(479))}else t=An(e,n,a,2),t!==null&&Ln(t,e,2)}function ku(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function ah(e,t){bi=Eu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}var vr={readContext:jn,use:Ou,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};vr.useEffectEvent=Zt;var sh={readContext:jn,use:Ou,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:Qd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Tu(4194308,4,Vd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tu(4194308,4,e,t)},useInsertionEffect:function(e,t){Tu(4,2,e,t)},useMemo:function(e,t){var n=kn();t=t===void 0?null:t;var a=e();if(ks){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=kn();if(n!==void 0){var s=n(t);if(ks){xn(!0);try{n(t)}finally{xn(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Cy.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:function(e){e=bc(e);var t=e.queue,n=nh.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sc,useDeferredValue:function(e,t){var n=kn();return jc(n,e,t)},useTransition:function(){var e=bc(!1);return e=Pd.bind(null,nt,e.queue,!0,!1),kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=nt,s=kn();if(xt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),qt===null)throw Error(d(349));(mt&127)!==0||Ed(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Qd(Ad.bind(null,a,i,e),[e]),a.flags|=2048,vi(9,{destroy:void 0},Cd.bind(null,a,i,n,t),null),n},useId:function(){var e=kn(),t=qt.identifierPrefix;if(xt){var n=Ra,a=za;n=(a&~(1<<32-ze(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Cu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Nc,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=kn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=_c.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:pc,useCacheRefresh:function(){return kn().memoizedState=Ey.bind(null,nt)},useEffectEvent:function(e){var t=kn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Ec={readContext:jn,use:Ou,useCallback:Zd,useContext:jn,useEffect:vc,useImperativeHandle:Fd,useInsertionEffect:Xd,useLayoutEffect:Gd,useMemo:$d,useReducer:Du,useRef:Kd,useState:function(){return Du(il)},useDebugValue:Sc,useDeferredValue:function(e,t){var n=an();return Jd(n,kt.memoizedState,e,t)},useTransition:function(){var e=Du(il)[0],t=an().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:_d,useId:eh,useHostTransitionStatus:Nc,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var n=an();return Td(n,kt,e,t)},useMemoCache:pc,useCacheRefresh:th};Ec.useEffectEvent=Yd;var ih={readContext:jn,use:Ou,useCallback:Zd,useContext:jn,useEffect:vc,useImperativeHandle:Fd,useInsertionEffect:Xd,useLayoutEffect:Gd,useMemo:$d,useReducer:gc,useRef:Kd,useState:function(){return gc(il)},useDebugValue:Sc,useDeferredValue:function(e,t){var n=an();return kt===null?jc(n,e,t):Jd(n,kt.memoizedState,e,t)},useTransition:function(){var e=gc(il)[0],t=an().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:_d,useId:eh,useHostTransitionStatus:Nc,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var n=an();return kt!==null?Td(n,kt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pc,useCacheRefresh:th};ih.useEffectEvent=Yd;function Cc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ac={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Ul(a);s.payload=t,n!=null&&(s.callback=n),t=Hl(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Ul(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hl(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),a=Ul(n);a.tag=2,t!=null&&(a.callback=t),t=Hl(e,a,n),t!==null&&(Ln(t,e,n),mr(t,e,n))}};function rh(e,t,n,a,s,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(s,i):!0}function uh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ac.enqueueReplaceState(t,t.state,null)}function zs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function oh(e){Be(e)}function ch(e){console.error(e)}function fh(e){Be(e)}function zu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function dh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Oc(e,t,n){return n=Ul(n),n.tag=3,n.payload={element:null},n.callback=function(){zu(e,t)},n}function hh(e){return e=Ul(e),e.tag=3,e}function mh(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){dh(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){dh(t,n,a),typeof s!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Ay(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&di(t,n,s,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return ca===null?Vu():n.alternate===null&&$t===0&&($t=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Su?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ef(e,a,s)),!1;case 22:return n.flags|=65536,a===Su?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ef(e,a,s)),!1}throw Error(d(435,n.tag))}return ef(e,a,s),Vu(),!1}if(xt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Zo&&(e=Error(d(422),{cause:a}),or(ia(e,n)))):(a!==Zo&&(t=Error(d(423),{cause:a}),or(ia(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ia(a,n),s=Oc(e.stateNode,a,s),sc(e,s),$t!==4&&($t=2)),!1;var i=Error(d(520),{cause:a});if(i=ia(i,n),Ar===null?Ar=[i]:Ar.push(i),$t!==4&&($t=2),t===null)return!0;a=ia(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Oc(n.stateNode,a,e),sc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Gl===null||!Gl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=hh(s),mh(s,e,n,a),sc(n,s),!1}n=n.return}while(n!==null);return!1}var Dc=Error(d(461)),cn=!1;function wn(e,t,n,a){t.child=e===null?bd(t,null,n,a):Ms(t,e.child,n,a)}function ph(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var p={};for(var v in a)v!=="ref"&&(p[v]=a[v])}else p=a;return As(t),a=fc(e,t,n,p,i,s),v=dc(),e!==null&&!cn?(hc(e,t,s),rl(e,t,s)):(xt&&v&&Vo(t),t.flags|=1,wn(e,t,a,s),t.child)}function yh(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Yo(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,gh(e,t,i,a,s)):(e=pu(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Uc(e,s)){var p=i.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return rl(e,t,s)}return t.flags|=1,e=tl(i,a),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(l(i,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=i,Uc(e,s))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,rl(e,t,s)}return Tc(e,t,n,a,s)}function bh(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return xh(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(t,i!==null?i.cachePool:null),i!==null?Sd(t,i):rc(),jd(t);else return a=t.lanes=536870912,xh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(xu(t,i.cachePool),Sd(t,i),Kl(),t.memoizedState=null):(e!==null&&xu(t,null),rc(),Kl());return wn(e,t,s,n),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xh(e,t,n,a,s){var i=tc();return i=i===null?null:{parent:un._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&xu(t,null),rc(),jd(t),e!==null&&di(e,t,a,!0),t.childLanes=s,null}function Ru(e,t){return t=qu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vh(e,t,n){return Ms(t,e.child,null,n),e=Ru(t,t.pendingProps),e.flags|=2,$n(t),t.memoizedState=null,e}function Oy(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xt){if(a.mode==="hidden")return e=Ru(t,a),t.lanes=536870912,Sr(null,e);if(oc(t),(e=Yt)?(e=Mm(e,oa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:za,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},n=ad(e),n.return=t,t.child=n,Sn=t,Yt=null)):e=null,e===null)throw Rl(t);return t.lanes=536870912,null}return Ru(t,a)}var i=e.memoizedState;if(i!==null){var p=i.dehydrated;if(oc(t),s)if(t.flags&256)t.flags&=-257,t=vh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||di(e,t,n,!1),s=(n&e.childLanes)!==0,cn||s){if(a=qt,a!==null&&(p=It(a,n),p!==0&&p!==i.retryLane))throw i.retryLane=p,Ct(e,p),Ln(a,e,p),Dc;Vu(),t=vh(e,t,n)}else e=i.treeContext,Yt=fa(p.nextSibling),Sn=t,xt=!0,zl=null,oa=!1,e!==null&&id(t,e),t=Ru(t,a),t.flags|=4096;return t}return e=tl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Tc(e,t,n,a,s){return As(t),n=fc(e,t,n,a,void 0,s),a=dc(),e!==null&&!cn?(hc(e,t,s),rl(e,t,s)):(xt&&a&&Vo(t),t.flags|=1,wn(e,t,n,s),t.child)}function Sh(e,t,n,a,s,i){return As(t),t.updateQueue=null,n=Nd(t,a,n,s),wd(e),a=dc(),e!==null&&!cn?(hc(e,t,i),rl(e,t,i)):(xt&&a&&Vo(t),t.flags|=1,wn(e,t,n,i),t.child)}function jh(e,t,n,a,s){if(As(t),t.stateNode===null){var i=ui,p=n.contextType;typeof p=="object"&&p!==null&&(i=jn(p)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ac,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},ac(t),p=n.contextType,i.context=typeof p=="object"&&p!==null?jn(p):ui,i.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Cc(t,n,p,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(p=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),p!==i.state&&Ac.enqueueReplaceState(i,i.state,null),yr(t,a,i,s),pr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var v=t.memoizedProps,C=zs(n,v);i.props=C;var F=i.context,le=n.contextType;p=ui,typeof le=="object"&&le!==null&&(p=jn(le));var re=n.getDerivedStateFromProps;le=typeof re=="function"||typeof i.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,le||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(v||F!==p)&&uh(t,i,a,p),ql=!1;var P=t.memoizedState;i.state=P,yr(t,a,i,s),pr(),F=t.memoizedState,v||P!==F||ql?(typeof re=="function"&&(Cc(t,n,re,a),F=t.memoizedState),(C=ql||rh(t,n,C,a,P,F,p))?(le||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=F),i.props=a,i.state=F,i.context=p,a=C):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,lc(e,t),p=t.memoizedProps,le=zs(n,p),i.props=le,re=t.pendingProps,P=i.context,F=n.contextType,C=ui,typeof F=="object"&&F!==null&&(C=jn(F)),v=n.getDerivedStateFromProps,(F=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p!==re||P!==C)&&uh(t,i,a,C),ql=!1,P=t.memoizedState,i.state=P,yr(t,a,i,s),pr();var te=t.memoizedState;p!==re||P!==te||ql||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof v=="function"&&(Cc(t,n,v,a),te=t.memoizedState),(le=ql||rh(t,n,le,a,P,te,C)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(F||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,te,C),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,te,C)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=te),i.props=a,i.state=te,i.context=C,a=le):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Bu(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ms(t,e.child,null,s),t.child=Ms(t,null,n,s)):wn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=rl(e,t,s),e}function wh(e,t,n,a){return Es(),t.flags|=256,wn(e,t,n,a),t.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kc(e){return{baseLanes:e,cachePool:dd()}}function zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function Nh(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,p;if((p=i)||(p=e!==null&&e.memoizedState===null?!1:(nn.current&2)!==0),p&&(s=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(xt){if(s?Ll(t):Kl(),(e=Yt)?(e=Mm(e,oa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:za,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},n=ad(e),n.return=t,t.child=n,Sn=t,Yt=null)):e=null,e===null)throw Rl(t);return gf(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,s?(Kl(),s=t.mode,v=qu({mode:"hidden",children:v},s),a=_s(a,s,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=kc(n),a.childLanes=zc(e,p,n),t.memoizedState=Mc,Sr(null,a)):(Ll(t),Rc(t,v))}var C=e.memoizedState;if(C!==null&&(v=C.dehydrated,v!==null)){if(i)t.flags&256?(Ll(t),t.flags&=-257,t=Bc(e,t,n)):t.memoizedState!==null?(Kl(),t.child=e.child,t.flags|=128,t=null):(Kl(),v=a.fallback,s=t.mode,a=qu({mode:"visible",children:a.children},s),v=_s(v,s,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Ms(t,e.child,null,n),a=t.child,a.memoizedState=kc(n),a.childLanes=zc(e,p,n),t.memoizedState=Mc,t=Sr(null,a));else if(Ll(t),gf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var F=p.dgst;p=F,a=Error(d(419)),a.stack="",a.digest=p,or({value:a,source:null,stack:null}),t=Bc(e,t,n)}else if(cn||di(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=qt,p!==null&&(a=It(p,n),a!==0&&a!==C.retryLane))throw C.retryLane=a,Ct(e,a),Ln(p,e,a),Dc;yf(v)||Vu(),t=Bc(e,t,n)}else yf(v)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Yt=fa(v.nextSibling),Sn=t,xt=!0,zl=null,oa=!1,e!==null&&id(t,e),t=Rc(t,a.children),t.flags|=4096);return t}return s?(Kl(),v=a.fallback,s=t.mode,C=e.child,F=C.sibling,a=tl(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,F!==null?v=tl(F,v):(v=_s(v,s,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Sr(null,a),a=t.child,v=e.child.memoizedState,v===null?v=kc(n):(s=v.cachePool,s!==null?(C=un._currentValue,s=s.parent!==C?{parent:C,pool:C}:s):s=dd(),v={baseLanes:v.baseLanes|n,cachePool:s}),a.memoizedState=v,a.childLanes=zc(e,p,n),t.memoizedState=Mc,Sr(e.child,a)):(Ll(t),n=e.child,e=n.sibling,n=tl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Rc(e,t){return t=qu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qu(e,t){return e=Fn(22,e,null,t),e.lanes=0,e}function Bc(e,t,n){return Ms(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _h(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Po(e.return,t,n)}function qc(e,t,n,a,s,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=s,p.treeForkCount=i)}function Eh(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var p=nn.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,Q(nn,p),wn(e,t,a,n),a=xt?ur:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,n,t);else if(e.tag===19)_h(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&_u(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qc(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_u(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qc(t,!0,n,null,i,a);break;case"together":qc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(di(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=tl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function Dy(e,t,n){switch(t.tag){case 3:Gt(t,t.stateNode.containerInfo),Bl(t,un,e.memoizedState.cache),Es();break;case 27:case 5:je(t);break;case 4:Gt(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,oc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ll(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Nh(e,t,n):(Ll(t),e=rl(e,t,n),e!==null?e.sibling:null);Ll(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(di(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Eh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(nn,nn.current),a)break;return null;case 22:return t.lanes=0,bh(e,t,n,t.pendingProps);case 24:Bl(t,un,e.memoizedState.cache)}return rl(e,t,n)}function Ch(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!Uc(e,n)&&(t.flags&128)===0)return cn=!1,Dy(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,xt&&(t.flags&1048576)!==0&&sd(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ds(t.elementType),t.type=e,typeof e=="function")Yo(e)?(a=zs(e,a),t.tag=1,t=jh(null,t,e,a,n)):(t.tag=0,t=Tc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===he){t.tag=11,t=ph(null,t,e,a,n);break e}else if(s===ve){t.tag=14,t=yh(null,t,e,a,n);break e}}throw t=_e(e)||e,Error(d(306,t,""))}}return t;case 0:return Tc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=zs(a,t.pendingProps),jh(e,t,a,s,n);case 3:e:{if(Gt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,lc(e,t),yr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Bl(t,un,a),a!==i.cache&&Wo(t,[un],n,!0),pr(),a=p.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=wh(e,t,a,n);break e}else if(a!==s){s=ia(Error(d(424)),t),or(s),t=wh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Yt=fa(e.firstChild),Sn=t,xt=!0,zl=null,oa=!0,n=bd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),a===s){t=rl(e,t,n);break e}wn(e,t,a,n)}t=t.child}return t;case 26:return Bu(e,t),e===null?(n=Um(t.type,null,t.pendingProps,null))?t.memoizedState=n:xt||(n=t.type,e=t.pendingProps,a=Iu(Ve.current).createElement(n),a[Ut]=t,a[en]=e,Nn(a,n,e),tn(a),t.stateNode=a):t.memoizedState=Um(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&xt&&(a=t.stateNode=Rm(t.type,t.pendingProps,Ve.current),Sn=t,oa=!0,s=Yt,$l(t.type)?(bf=s,Yt=fa(a.firstChild)):Yt=s),wn(e,t,t.pendingProps.children,n),Bu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xt&&((s=a=Yt)&&(a=i0(a,t.type,t.pendingProps,oa),a!==null?(t.stateNode=a,Sn=t,Yt=fa(a.firstChild),oa=!1,s=!0):s=!1),s||Rl(t)),je(t),s=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,a=i.children,hf(s,i)?a=null:p!==null&&hf(s,p)&&(t.flags|=32),t.memoizedState!==null&&(s=fc(e,t,Sy,null,null,n),Br._currentValue=s),Bu(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&xt&&((e=n=Yt)&&(n=r0(n,t.pendingProps,oa),n!==null?(t.stateNode=n,Sn=t,Yt=null,e=!0):e=!1),e||Rl(t)),null;case 13:return Nh(e,t,n);case 4:return Gt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ms(t,null,a,n):wn(e,t,a,n),t.child;case 11:return ph(e,t,t.type,t.pendingProps,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Bl(t,t.type,a.value),wn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,As(t),s=jn(s),a=a(s),t.flags|=1,wn(e,t,a,n),t.child;case 14:return yh(e,t,t.type,t.pendingProps,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 19:return Eh(e,t,n);case 31:return Oy(e,t,n);case 22:return bh(e,t,n,t.pendingProps);case 24:return As(t),a=jn(un),e===null?(s=tc(),s===null&&(s=qt,i=Io(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},ac(t),Bl(t,un,s)):((e.lanes&n)!==0&&(lc(e,t),yr(t,null,null,n),pr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Bl(t,un,a)):(a=i.cache,Bl(t,un,a),a!==s.cache&&Wo(t,[un],n,!0))),wn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ul(e){e.flags|=4}function Hc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Ts=Su,nc}else e.flags&=-16777217}function Ah(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ym(t))if(em())e.flags|=8192;else throw Ts=Su,nc}function Uu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?eu():536870912,e.lanes|=t,Ni|=t)}function jr(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ty(e,t,n){var a=t.pendingProps;switch(Fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Xt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ll(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fi(t)?ul(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$o())),Xt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ul(t),i!==null?(Xt(t),Ah(t,i)):(Xt(t),Hc(t,s,null,a,n))):i?i!==e.memoizedState?(ul(t),Xt(t),Ah(t,i)):(Xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ul(t),Xt(t),Hc(t,s,e,a,n)),null;case 27:if(dt(t),n=Ve.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Xt(t),null}e=we.current,fi(t)?rd(t):(e=Rm(s,a,n),t.stateNode=e,ul(t))}return Xt(t),null;case 5:if(dt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Xt(t),null}if(i=we.current,fi(t))rd(t);else{var p=Iu(Ve.current);switch(i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?p.createElement(s,{is:a.is}):p.createElement(s)}}i[Ut]=t,i[en]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=i;e:switch(Nn(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ul(t)}}return Xt(t),Hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=Ve.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Sn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Nm(e.nodeValue,n)),e||Rl(t,!0)}else e=Iu(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return Xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=fi(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Ut]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xt(t),e=!1}else n=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($n(t),t):($n(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Xt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=fi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Ut]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else s=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?($n(t),t):($n(t),null)}return $n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Uu(t,t.updateQueue),Xt(t),null);case 4:return dn(),e===null&&uf(t.stateNode.containerInfo),Xt(t),null;case 10:return ll(t.type),Xt(t),null;case 19:if(ie(nn),a=t.memoizedState,a===null)return Xt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)jr(a,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=_u(e),i!==null){for(t.flags|=128,jr(a,!1),e=i.updateQueue,t.updateQueue=e,Uu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nd(n,e),n=n.sibling;return Q(nn,nn.current&1|2),xt&&nl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&at()>Yu&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=_u(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Uu(t,e),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!xt)return Xt(t),null}else 2*at()-a.renderingStartTime>Yu&&n!==536870912&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=at(),e.sibling=null,n=nn.current,Q(nn,s?n&1|2:n&1),xt&&nl(t,a.treeForkCount),e):(Xt(t),null);case 22:case 23:return $n(t),uc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),n=t.updateQueue,n!==null&&Uu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ie(Os),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ll(un),Xt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function My(e,t){switch(Fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dt(t),null;case 31:if(t.memoizedState!==null){if($n(t),t.alternate===null)throw Error(d(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(nn),null;case 4:return dn(),null;case 10:return ll(t.type),null;case 22:case 23:return $n(t),uc(),e!==null&&ie(Os),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ll(un),null;case 25:return null;default:return null}}function Oh(e,t){switch(Fo(t),t.tag){case 3:ll(un),dn();break;case 26:case 27:case 5:dt(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&$n(t);break;case 13:$n(t);break;case 19:ie(nn);break;case 10:ll(t.type);break;case 22:case 23:$n(t),uc(),e!==null&&ie(Os);break;case 24:ll(un)}}function wr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,p=n.inst;a=i(),p.destroy=a}n=n.next}while(n!==s)}}catch(v){Dt(t,t.return,v)}}function Ql(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var p=a.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,s=t;var C=n,F=v;try{F()}catch(le){Dt(s,C,le)}}}a=a.next}while(a!==i)}}catch(le){Dt(t,t.return,le)}}function Dh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{vd(t,n)}catch(a){Dt(e,e.return,a)}}}function Th(e,t,n){n.props=zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Dt(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Dt(e,t,s)}}function Ba(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Dt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Dt(e,t,s)}else n.current=null}function Mh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Dt(e,e.return,s)}}function Lc(e,t,n){try{var a=e.stateNode;e0(a,e.type,n,t),a[en]=t}catch(s){Dt(e,e.return,s)}}function kh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$l(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&$l(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function Hu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&$l(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hu(e,t,n),e=e.sibling;e!==null;)Hu(e,t,n),e=e.sibling}function zh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nn(t,a,n),t[Ut]=e,t[en]=n}catch(i){Dt(e,e.return,i)}}var ol=!1,fn=!1,Yc=!1,Rh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function ky(e,t){if(e=e.containerInfo,ff=io,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var p=0,v=-1,C=-1,F=0,le=0,re=e,P=null;t:for(;;){for(var te;re!==n||s!==0&&re.nodeType!==3||(v=p+s),re!==i||a!==0&&re.nodeType!==3||(C=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(te=re.firstChild)!==null;)P=re,re=te;for(;;){if(re===e)break t;if(P===n&&++F===s&&(v=p),P===i&&++le===a&&(C=p),(te=re.nextSibling)!==null)break;re=P,P=re.parentNode}re=te}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(df={focusedElem:e,selectionRange:n},io=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var Ue=zs(n.type,s);e=a.getSnapshotBeforeUpdate(Ue,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Je){Dt(n,n.return,Je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)pf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function Bh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),a&4&&wr(5,n);break;case 1:if(fl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Dt(n,n.return,p)}else{var s=zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Dt(n,n.return,p)}}a&64&&Dh(n),a&512&&Nr(n,n.return);break;case 3:if(fl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{vd(e,t)}catch(p){Dt(n,n.return,p)}}break;case 27:t===null&&a&4&&zh(n);case 26:case 5:fl(e,n),t===null&&a&4&&Mh(n),a&512&&Nr(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),a&4&&Hh(e,n);break;case 13:fl(e,n),a&4&&Lh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Qy.bind(null,n),u0(e,n))));break;case 22:if(a=n.memoizedState!==null||ol,!a){t=t!==null&&t.memoizedState!==null||fn,s=ol;var i=fn;ol=a,(fn=t)&&!i?dl(e,n,(n.subtreeFlags&8772)!==0):fl(e,n),ol=s,fn=i}break;case 30:break;default:fl(e,n)}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Bn=!1;function cl(e,t,n){for(n=n.child;n!==null;)Uh(e,t,n),n=n.sibling}function Uh(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Pt,n)}catch{}switch(n.tag){case 26:fn||Ba(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ba(n,t);var a=Ft,s=Bn;$l(n.type)&&(Ft=n.stateNode,Bn=!1),cl(e,t,n),kr(n.stateNode),Ft=a,Bn=s;break;case 5:fn||Ba(n,t);case 6:if(a=Ft,s=Bn,Ft=null,cl(e,t,n),Ft=a,Bn=s,Ft!==null)if(Bn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(n.stateNode)}catch(i){Dt(n,t,i)}else try{Ft.removeChild(n.stateNode)}catch(i){Dt(n,t,i)}break;case 18:Ft!==null&&(Bn?(e=Ft,Dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mi(e)):Dm(Ft,n.stateNode));break;case 4:a=Ft,s=Bn,Ft=n.stateNode.containerInfo,Bn=!0,cl(e,t,n),Ft=a,Bn=s;break;case 0:case 11:case 14:case 15:Ql(2,n,t),fn||Ql(4,n,t),cl(e,t,n);break;case 1:fn||(Ba(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Th(n,t,a)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,cl(e,t,n),fn=a;break;default:cl(e,t,n)}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mi(e)}catch(n){Dt(t,t.return,n)}}}function Lh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mi(e)}catch(n){Dt(t,t.return,n)}}function zy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rh),t;default:throw Error(d(435,e.tag))}}function Lu(e,t){var n=zy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Yy.bind(null,e,a);a.then(s,s)}})}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if($l(v.type)){Ft=v.stateNode,Bn=!1;break e}break;case 5:Ft=v.stateNode,Bn=!1;break e;case 3:case 4:Ft=v.stateNode.containerInfo,Bn=!0;break e}v=v.return}if(Ft===null)throw Error(d(160));Uh(i,p,s),Ft=null,Bn=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}var Sa=null;function Kh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(t,e),Un(e),a&4&&(Ql(3,e,e.return),wr(3,e),Ql(5,e,e.return));break;case 1:qn(t,e),Un(e),a&512&&(fn||n===null||Ba(n,n.return)),a&64&&ol&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Sa;if(qn(t,e),Un(e),a&512&&(fn||n===null||Ba(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Xn]||i[Ut]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Nn(i,a,n),i[Ut]=e,tn(i),a=i;break e;case"link":var p=Km("link","href",s).get(a+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(i=p[v],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}i=s.createElement(a),Nn(i,a,n),s.head.appendChild(i);break;case"meta":if(p=Km("meta","content",s).get(a+(n.content||""))){for(v=0;v<p.length;v++)if(i=p[v],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}i=s.createElement(a),Nn(i,a,n),s.head.appendChild(i);break;default:throw Error(d(468,a))}i[Ut]=e,tn(i),a=i}e.stateNode=a}else Qm(s,e.type,e.stateNode);else e.stateNode=Lm(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Qm(s,e.type,e.stateNode):Lm(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,n.memoizedProps)}break;case 27:qn(t,e),Un(e),a&512&&(fn||n===null||Ba(n,n.return)),n!==null&&a&4&&Lc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qn(t,e),Un(e),a&512&&(fn||n===null||Ba(n,n.return)),e.flags&32){s=e.stateNode;try{Ga(s,"")}catch(Ue){Dt(e,e.return,Ue)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Lc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Yc=!0);break;case 6:if(qn(t,e),Un(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ue){Dt(e,e.return,Ue)}}break;case 3:if(no=null,s=Sa,Sa=eo(t.containerInfo),qn(t,e),Sa=s,Un(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(Ue){Dt(e,e.return,Ue)}Yc&&(Yc=!1,Qh(e));break;case 4:a=Sa,Sa=eo(e.stateNode.containerInfo),qn(t,e),Un(e),Sa=a;break;case 12:qn(t,e),Un(e);break;case 31:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lu(e,a)));break;case 13:qn(t,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qu=at()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lu(e,a)));break;case 22:s=e.memoizedState!==null;var C=n!==null&&n.memoizedState!==null,F=ol,le=fn;if(ol=F||s,fn=le||C,qn(t,e),fn=le,ol=F,Un(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||C||ol||fn||Rs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){C=n=t;try{if(i=C.stateNode,s)p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=C.stateNode;var re=C.memoizedProps.style,P=re!=null&&re.hasOwnProperty("display")?re.display:null;v.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Ue){Dt(C,C.return,Ue)}}}else if(t.tag===6){if(n===null){C=t;try{C.stateNode.nodeValue=s?"":C.memoizedProps}catch(Ue){Dt(C,C.return,Ue)}}}else if(t.tag===18){if(n===null){C=t;try{var te=C.stateNode;s?Tm(te,!0):Tm(C.stateNode,!1)}catch(Ue){Dt(C,C.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Lu(e,n))));break;case 19:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lu(e,a)));break;case 30:break;case 21:break;default:qn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(kh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var s=n.stateNode,i=Kc(e);Hu(e,i,s);break;case 5:var p=n.stateNode;n.flags&32&&(Ga(p,""),n.flags&=-33);var v=Kc(e);Hu(e,v,p);break;case 3:case 4:var C=n.stateNode.containerInfo,F=Kc(e);Qc(e,F,C);break;default:throw Error(d(161))}}catch(le){Dt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function Rs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ql(4,t,t.return),Rs(t);break;case 1:Ba(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Th(t,t.return,n),Rs(t);break;case 27:kr(t.stateNode);case 26:case 5:Ba(t,t.return),Rs(t);break;case 22:t.memoizedState===null&&Rs(t);break;case 30:Rs(t);break;default:Rs(t)}e=e.sibling}}function dl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,p=i.flags;switch(i.tag){case 0:case 11:case 15:dl(s,i,n),wr(4,i);break;case 1:if(dl(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(F){Dt(a,a.return,F)}if(a=i,s=a.updateQueue,s!==null){var v=a.stateNode;try{var C=s.shared.hiddenCallbacks;if(C!==null)for(s.shared.hiddenCallbacks=null,s=0;s<C.length;s++)xd(C[s],v)}catch(F){Dt(a,a.return,F)}}n&&p&64&&Dh(i),Nr(i,i.return);break;case 27:zh(i);case 26:case 5:dl(s,i,n),n&&a===null&&p&4&&Mh(i),Nr(i,i.return);break;case 12:dl(s,i,n);break;case 31:dl(s,i,n),n&&p&4&&Hh(s,i);break;case 13:dl(s,i,n),n&&p&4&&Lh(s,i);break;case 22:i.memoizedState===null&&dl(s,i,n),Nr(i,i.return);break;case 30:break;default:dl(s,i,n)}t=t.sibling}}function Xc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cr(n))}function Gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function ja(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(e,t,n,a),t=t.sibling}function Yh(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ja(e,t,n,a),s&2048&&wr(9,t);break;case 1:ja(e,t,n,a);break;case 3:ja(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(s&2048){ja(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,p=i.id,v=i.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Dt(t,t.return,C)}}else ja(e,t,n,a);break;case 31:ja(e,t,n,a);break;case 13:ja(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,p=t.alternate,t.memoizedState!==null?i._visibility&2?ja(e,t,n,a):_r(e,t):i._visibility&2?ja(e,t,n,a):(i._visibility|=2,Si(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Xc(p,t);break;case 24:ja(e,t,n,a),s&2048&&Gc(t.alternate,t);break;default:ja(e,t,n,a)}}function Si(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,p=t,v=n,C=a,F=p.flags;switch(p.tag){case 0:case 11:case 15:Si(i,p,v,C,s),wr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?Si(i,p,v,C,s):_r(i,p):(le._visibility|=2,Si(i,p,v,C,s)),s&&F&2048&&Xc(p.alternate,p);break;case 24:Si(i,p,v,C,s),s&&F&2048&&Gc(p.alternate,p);break;default:Si(i,p,v,C,s)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:_r(n,a),s&2048&&Xc(a.alternate,a);break;case 24:_r(n,a),s&2048&&Gc(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var Er=8192;function ji(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Xh(e,t,n),e=e.sibling}function Xh(e,t,n){switch(e.tag){case 26:ji(e,t,n),e.flags&Er&&e.memoizedState!==null&&v0(n,Sa,e.memoizedState,e.memoizedProps);break;case 5:ji(e,t,n);break;case 3:case 4:var a=Sa;Sa=eo(e.stateNode.containerInfo),ji(e,t,n),Sa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,ji(e,t,n),Er=a):ji(e,t,n));break;default:ji(e,t,n)}}function Gh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Fh(a,e)}Gh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vh(e),e=e.sibling}function Vh(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&Ql(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ku(e)):Cr(e);break;default:Cr(e)}}function Ku(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Fh(a,e)}Gh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ql(8,t,t.return),Ku(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ku(t));break;default:Ku(t)}e=e.sibling}}function Fh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Ql(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:cr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var s=a.sibling,i=a.return;if(qh(a),a===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var Ry={getCacheForType:function(e){var t=jn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return jn(un).controller.signal}},By=typeof WeakMap=="function"?WeakMap:Map,_t=0,qt=null,ot=null,mt=0,Ot=0,Jn=null,Yl=!1,wi=!1,Vc=!1,hl=0,$t=0,Xl=0,Bs=0,Fc=0,Pn=0,Ni=0,Ar=null,Hn=null,Zc=!1,Qu=0,Zh=0,Yu=1/0,Xu=null,Gl=null,mn=0,Vl=null,_i=null,ml=0,$c=0,Jc=null,$h=null,Or=0,Pc=null;function Wn(){return(_t&2)!==0&&mt!==0?mt&-mt:Y.T!==null?af():cs()}function Jh(){if(Pn===0)if((mt&536870912)===0||xt){var e=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),Pn=e}else Pn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Pn}function Ln(e,t,n){(e===qt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(Ei(e,0),Fl(e,mt,Pn,!1)),ta(e,n),((_t&2)===0||e!==qt)&&(e===qt&&((_t&2)===0&&(Bs|=n),$t===4&&Fl(e,mt,Pn,!1)),qa(e))}function Ph(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Qa(e,t),s=a?Hy(e,t):Ic(e,t,!0),i=a;do{if(s===0){wi&&!a&&Fl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!qy(n)){s=Ic(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;s=Ar;var C=v.current.memoizedState.isDehydrated;if(C&&(Ei(v,p).flags|=256),p=Ic(v,p,!1),p!==2){if(Vc&&!C){v.errorRecoveryDisabledLanes|=i,Bs|=i,s=4;break e}i=Hn,Hn=s,i!==null&&(Hn===null?Hn=i:Hn.push.apply(Hn,i))}s=p}if(i=!1,s!==2)continue}}if(s===1){Ei(e,0),Fl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Fl(a,t,Pn,!Yl);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Qu+300-at(),10<s)){if(Fl(a,t,Pn,!Yl),us(a,0,!0)!==0)break e;ml=t,a.timeoutHandle=Am(Wh.bind(null,a,n,Hn,Xu,Zc,t,Pn,Bs,Ni,Yl,i,"Throttled",-0,0),s);break e}Wh(a,n,Hn,Xu,Zc,t,Pn,Bs,Ni,Yl,i,null,-0,0)}}break}while(!0);qa(e)}function Wh(e,t,n,a,s,i,p,v,C,F,le,re,P,te){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Xh(t,i,re);var Ue=(i&62914560)===i?Qu-at():(i&4194048)===i?Zh-at():0;if(Ue=S0(re,Ue),Ue!==null){ml=i,e.cancelPendingCommit=Ue(im.bind(null,e,t,i,n,a,s,p,v,C,le,re,null,P,te)),Fl(e,i,p,!F);return}}im(e,t,i,n,a,s,p,v,C)}function qy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t,n,a){t&=~Fc,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-ze(s),p=1<<i;a[i]=-1,s&=~p}n!==0&&os(e,n,t)}function Gu(){return(_t&6)===0?(Dr(0),!1):!0}function Wc(){if(ot!==null){if(Ot===0)var e=ot.return;else e=ot,al=Cs=null,mc(e),yi=null,dr=0,e=ot;for(;e!==null;)Oh(e.alternate,e),e=e.return;ot=null}}function Ei(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,a0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ml=0,Wc(),qt=e,ot=n=tl(e.current,null),mt=t,Ot=0,Jn=null,Yl=!1,wi=Qa(e,t),Vc=!1,Ni=Pn=Fc=Bs=Xl=$t=0,Hn=Ar=null,Zc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-ze(a),i=1<<s;t|=e[s],a&=~i}return hl=t,tt(),n}function Ih(e,t){nt=null,Y.H=vr,t===pi||t===vu?(t=pd(),Ot=3):t===nc?(t=pd(),Ot=4):Ot=t===Dc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ot===null&&($t=1,zu(e,ia(t,e.current)))}function em(){var e=Zn.current;return e===null?!0:(mt&4194048)===mt?ca===null:(mt&62914560)===mt||(mt&536870912)!==0?e===ca:!1}function tm(){var e=Y.H;return Y.H=vr,e===null?vr:e}function nm(){var e=Y.A;return Y.A=Ry,e}function Vu(){$t=4,Yl||(mt&4194048)!==mt&&Zn.current!==null||(wi=!0),(Xl&134217727)===0&&(Bs&134217727)===0||qt===null||Fl(qt,mt,Pn,!1)}function Ic(e,t,n){var a=_t;_t|=2;var s=tm(),i=nm();(qt!==e||mt!==t)&&(Xu=null,Ei(e,t)),t=!1;var p=$t;e:do try{if(Ot!==0&&ot!==null){var v=ot,C=Jn;switch(Ot){case 8:Wc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var F=Ot;if(Ot=0,Jn=null,Ci(e,v,C,F),n&&wi){p=0;break e}break;default:F=Ot,Ot=0,Jn=null,Ci(e,v,C,F)}}Uy(),p=$t;break}catch(le){Ih(e,le)}while(!0);return t&&e.shellSuspendCounter++,al=Cs=null,_t=a,Y.H=s,Y.A=i,ot===null&&(qt=null,mt=0,tt()),p}function Uy(){for(;ot!==null;)am(ot)}function Hy(e,t){var n=_t;_t|=2;var a=tm(),s=nm();qt!==e||mt!==t?(Xu=null,Yu=at()+500,Ei(e,t)):wi=Qa(e,t);e:do try{if(Ot!==0&&ot!==null){t=ot;var i=Jn;t:switch(Ot){case 1:Ot=0,Jn=null,Ci(e,t,i,1);break;case 2:case 9:if(hd(i)){Ot=0,Jn=null,lm(t);break}t=function(){Ot!==2&&Ot!==9||qt!==e||(Ot=7),qa(e)},i.then(t,t);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:hd(i)?(Ot=0,Jn=null,lm(t)):(Ot=0,Jn=null,Ci(e,t,i,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var v=ot;if(p?Ym(p):v.stateNode.complete){Ot=0,Jn=null;var C=v.sibling;if(C!==null)ot=C;else{var F=v.return;F!==null?(ot=F,Fu(F)):ot=null}break t}}Ot=0,Jn=null,Ci(e,t,i,5);break;case 6:Ot=0,Jn=null,Ci(e,t,i,6);break;case 8:Wc(),$t=6;break e;default:throw Error(d(462))}}Ly();break}catch(le){Ih(e,le)}while(!0);return al=Cs=null,Y.H=a,Y.A=s,_t=n,ot!==null?0:(qt=null,mt=0,tt(),$t)}function Ly(){for(;ot!==null&&!xe();)am(ot)}function am(e){var t=Ch(e.alternate,e,hl);e.memoizedProps=e.pendingProps,t===null?Fu(e):ot=t}function lm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sh(n,t,t.pendingProps,t.type,void 0,mt);break;case 11:t=Sh(n,t,t.pendingProps,t.type.render,t.ref,mt);break;case 5:mc(t);default:Oh(n,t),t=ot=nd(t,hl),t=Ch(n,t,hl)}e.memoizedProps=e.pendingProps,t===null?Fu(e):ot=t}function Ci(e,t,n,a){al=Cs=null,mc(t),yi=null,dr=0;var s=t.return;try{if(Ay(e,s,t,n,mt)){$t=1,zu(e,ia(n,e.current)),ot=null;return}}catch(i){if(s!==null)throw ot=s,i;$t=1,zu(e,ia(n,e.current)),ot=null;return}t.flags&32768?(xt||a===1?e=!0:wi||(mt&536870912)!==0?e=!1:(Yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),sm(t,e)):Fu(t)}function Fu(e){var t=e;do{if((t.flags&32768)!==0){sm(t,Yl);return}e=t.return;var n=Ty(t.alternate,t,hl);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);$t===0&&($t=5)}function sm(e,t){do{var n=My(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);$t=6,ot=null}function im(e,t,n,a,s,i,p,v,C){e.cancelPendingCommit=null;do Zu();while(mn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Ye,Li(e,n,i,p,v,C),e===qt&&(ot=qt=null,mt=0),_i=t,Vl=e,ml=n,$c=i,Jc=s,$h=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xy(qe,function(){return fm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,s=ue.p,ue.p=2,p=_t,_t|=4;try{ky(e,t,n)}finally{_t=p,ue.p=s,Y.T=a}}mn=1,rm(),um(),om()}}function rm(){if(mn===1){mn=0;var e=Vl,t=_i,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{Kh(t,e);var i=df,p=y(e.containerInfo),v=i.focusedElem,C=i.selectionRange;if(p!==v&&v&&v.ownerDocument&&h(v.ownerDocument.documentElement,v)){if(C!==null&&b(v)){var F=C.start,le=C.end;if(le===void 0&&(le=F),"selectionStart"in v)v.selectionStart=F,v.selectionEnd=Math.min(le,v.value.length);else{var re=v.ownerDocument||document,P=re&&re.defaultView||window;if(P.getSelection){var te=P.getSelection(),Ue=v.textContent.length,Je=Math.min(C.start,Ue),Rt=C.end===void 0?Je:Math.min(C.end,Ue);!te.extend&&Je>Rt&&(p=Rt,Rt=Je,Je=p);var H=f(v,Je),R=f(v,Rt);if(H&&R&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==R.node||te.focusOffset!==R.offset)){var V=re.createRange();V.setStart(H.node,H.offset),te.removeAllRanges(),Je>Rt?(te.addRange(V),te.extend(R.node,R.offset)):(V.setEnd(R.node,R.offset),te.addRange(V))}}}}for(re=[],te=v;te=te.parentNode;)te.nodeType===1&&re.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<re.length;v++){var se=re[v];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}io=!!ff,df=ff=null}finally{_t=s,ue.p=a,Y.T=n}}e.current=t,mn=2}}function um(){if(mn===2){mn=0;var e=Vl,t=_i,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{Bh(e,t.alternate,t)}finally{_t=s,ue.p=a,Y.T=n}}mn=3}}function om(){if(mn===4||mn===3){mn=0,$e();var e=Vl,t=_i,n=ml,a=$h;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mn=5:(mn=0,_i=Vl=null,cm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Gl=null),vl(n),t=t.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Pt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,s=ue.p,ue.p=2,Y.T=null;try{for(var i=e.onRecoverableError,p=0;p<a.length;p++){var v=a[p];i(v.value,{componentStack:v.stack})}}finally{Y.T=t,ue.p=s}}(ml&3)!==0&&Zu(),qa(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===Pc?Or++:(Or=0,Pc=e):Or=0,Dr(0)}}function cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Zu(){return rm(),um(),om(),fm()}function fm(){if(mn!==5)return!1;var e=Vl,t=$c;$c=0;var n=vl(ml),a=Y.T,s=ue.p;try{ue.p=32>n?32:n,Y.T=null,n=Jc,Jc=null;var i=Vl,p=ml;if(mn=0,_i=Vl=null,ml=0,(_t&6)!==0)throw Error(d(331));var v=_t;if(_t|=4,Vh(i.current),Yh(i,i.current,p,n),_t=v,Dr(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Pt,i)}catch{}return!0}finally{ue.p=s,Y.T=a,cm(e,t)}}function dm(e,t,n){t=ia(n,t),t=Oc(e.stateNode,t,2),e=Hl(e,t,2),e!==null&&(ta(e,2),qa(e))}function Dt(e,t,n){if(e.tag===3)dm(e,e,n);else for(;t!==null;){if(t.tag===3){dm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gl===null||!Gl.has(a))){e=ia(n,e),n=hh(2),a=Hl(t,n,2),a!==null&&(mh(n,a,t,e),ta(a,2),qa(a));break}}t=t.return}}function ef(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new By;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Vc=!0,s.add(n),e=Ky.bind(null,e,t,n),t.then(e,e))}function Ky(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qt===e&&(mt&n)===n&&($t===4||$t===3&&(mt&62914560)===mt&&300>at()-Qu?(_t&2)===0&&Ei(e,0):Fc|=n,Ni===mt&&(Ni=0)),qa(e)}function hm(e,t){t===0&&(t=eu()),e=Ct(e,t),e!==null&&(ta(e,t),qa(e))}function Qy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hm(e,n)}function Yy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),hm(e,n)}function Xy(e,t){return ne(e,t)}var $u=null,Ai=null,tf=!1,Ju=!1,nf=!1,Zl=0;function qa(e){e!==Ai&&e.next===null&&(Ai===null?$u=Ai=e:Ai=Ai.next=e),Ju=!0,tf||(tf=!0,Vy())}function Dr(e,t){if(!nf&&Ju){nf=!0;do for(var n=!1,a=$u;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var p=a.suspendedLanes,v=a.pingedLanes;i=(1<<31-ze(42|e)+1)-1,i&=s&~(p&~v),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,gm(a,i))}else i=mt,i=us(a,a===qt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Qa(a,i)||(n=!0,gm(a,i));a=a.next}while(n);nf=!1}}function Gy(){mm()}function mm(){Ju=tf=!1;var e=0;Zl!==0&&n0()&&(e=Zl);for(var t=at(),n=null,a=$u;a!==null;){var s=a.next,i=pm(a,t);i===0?(a.next=null,n===null?$u=s:n.next=s,s===null&&(Ai=n)):(n=a,(e!==0||(i&3)!==0)&&(Ju=!0)),a=s}mn!==0&&mn!==5||Dr(e),Zl!==0&&(Zl=0)}function pm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var p=31-ze(i),v=1<<p,C=s[p];C===-1?((v&n)===0||(v&a)!==0)&&(s[p]=zo(v,t)):C<=t&&(e.expiredLanes|=v),i&=~v}if(t=qt,n=mt,n=us(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ke(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Qa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ke(a),vl(n)){case 2:case 8:n=Te;break;case 32:n=qe;break;case 268435456:n=Lt;break;default:n=qe}return a=ym.bind(null,e),n=ne(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ke(a),e.callbackPriority=2,e.callbackNode=null,2}function ym(e,t){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zu()&&e.callbackNode!==n)return null;var a=mt;return a=us(e,e===qt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ph(e,a,t),pm(e,at()),e.callbackNode!=null&&e.callbackNode===n?ym.bind(null,e):null)}function gm(e,t){if(Zu())return null;Ph(e,t,!0)}function Vy(){l0(function(){(_t&6)!==0?ne(Et,Gy):mm()})}function af(){if(Zl===0){var e=hi;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),Zl=e}return Zl}function bm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function xm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Fy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=bm((s[en]||null).action),p=a.submitter;p&&(t=(t=p[en]||null)?bm(t.formAction):p.getAttribute("formAction"),t!==null&&(i=t,p=null));var v=new Fs("action","action",null,a,s);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Zl!==0){var C=p?xm(s,p):new FormData(s);wc(n,{pending:!0,data:C,method:s.method,action:i},null,C)}}else typeof i=="function"&&(v.preventDefault(),C=p?xm(s,p):new FormData(s),wc(n,{pending:!0,data:C,method:s.method,action:i},i,C))},currentTarget:s}]})}}for(var lf=0;lf<Me.length;lf++){var sf=Me[lf],Zy=sf.toLowerCase(),$y=sf[0].toUpperCase()+sf.slice(1);pe(Zy,"on"+$y)}pe(J,"onAnimationEnd"),pe(K,"onAnimationIteration"),pe(ae,"onAnimationStart"),pe("dblclick","onDoubleClick"),pe("focusin","onFocus"),pe("focusout","onBlur"),pe(de,"onTransitionRun"),pe(Ce,"onTransitionStart"),pe(Ae,"onTransitionCancel"),pe(me,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function vm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],C=v.instance,F=v.currentTarget;if(v=v.listener,C!==i&&s.isPropagationStopped())break e;i=v,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=C}else for(p=0;p<a.length;p++){if(v=a[p],C=v.instance,F=v.currentTarget,v=v.listener,C!==i&&s.isPropagationStopped())break e;i=v,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=C}}}}function ct(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var a=e+"__bubble";n.has(a)||(Sm(t,e,2,!1),n.add(a))}function rf(e,t,n){var a=0;t&&(a|=4),Sm(n,e,a,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function uf(e){if(!e[Pu]){e[Pu]=!0,Ya.forEach(function(n){n!=="selectionchange"&&(Jy.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pu]||(t[Pu]=!0,rf("selectionchange",!1,t))}}function Sm(e,t,n,a){switch(Jm(t)){case 2:var s=N0;break;case 8:s=_0;break;default:s=wf}n=s.bind(null,t,n,e),s=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function of(e,t,n,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===s)break;if(p===4)for(p=a.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===s)return;p=p.return}for(;v!==null;){if(p=Ca(v),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){a=i=p;continue e}v=v.parentNode}}a=a.return}wl(function(){var F=i,le=Gs(n),re=[];e:{var P=Re.get(e);if(P!==void 0){var te=Fs,Ue=e;switch(e){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":te=ei;break;case"focusin":Ue="focus",te=Cl;break;case"focusout":Ue="blur",te=Cl;break;case"beforeblur":case"afterblur":te=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=tr;break;case J:case K:case ae:te=su;break;case me:te=nr;break;case"scroll":case"scrollend":te=Zs;break;case"wheel":te=ni;break;case"copy":case"cut":case"paste":te=Al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=er;break;case"toggle":case"beforetoggle":te=uu}var Je=(t&4)!==0,Rt=!Je&&(e==="scroll"||e==="scrollend"),H=Je?P!==null?P+"Capture":null:P;Je=[];for(var R=F,V;R!==null;){var se=R;if(V=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||V===null||H===null||(se=Za(R,H),se!=null&&Je.push(Mr(R,se,V))),Rt)break;R=R.return}0<Je.length&&(P=new te(P,Ue,null,n,le),re.push({event:P,listeners:Je}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",P&&n!==aa&&(Ue=n.relatedTarget||n.fromElement)&&(Ca(Ue)||Ue[Tn]))break e;if((te||P)&&(P=le.window===le?le:(P=le.ownerDocument)?P.defaultView||P.parentWindow:window,te?(Ue=n.relatedTarget||n.toElement,te=F,Ue=Ue?Ca(Ue):null,Ue!==null&&(Rt=x(Ue),Je=Ue.tag,Ue!==Rt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(te=null,Ue=F),te!==Ue)){if(Je=Js,se="onMouseLeave",H="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Je=er,se="onPointerLeave",H="onPointerEnter",R="pointer"),Rt=te==null?P:Gn(te),V=Ue==null?P:Gn(Ue),P=new Je(se,R+"leave",te,n,le),P.target=Rt,P.relatedTarget=V,se=null,Ca(le)===F&&(Je=new Je(H,R+"enter",Ue,n,le),Je.target=V,Je.relatedTarget=Rt,se=Je),Rt=se,te&&Ue)t:{for(Je=Py,H=te,R=Ue,V=0,se=H;se;se=Je(se))V++;se=0;for(var Ge=R;Ge;Ge=Je(Ge))se++;for(;0<V-se;)H=Je(H),V--;for(;0<se-V;)R=Je(R),se--;for(;V--;){if(H===R||R!==null&&H===R.alternate){Je=H;break t}H=Je(H),R=Je(R)}Je=null}else Je=null;te!==null&&jm(re,P,te,Je,!1),Ue!==null&&Rt!==null&&jm(re,Rt,Ue,Je,!0)}}e:{if(P=F?Gn(F):window,te=P.nodeName&&P.nodeName.toLowerCase(),te==="select"||te==="input"&&P.type==="file")var jt=Ns;else if(si(P))if(sa)jt=Tl;else{jt=el;var Ke=mu}else te=P.nodeName,!te||te.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?F&&Fi(F.elementType)&&(jt=Ns):jt=rr;if(jt&&(jt=jt(e,F))){ir(re,jt,n,le);break e}Ke&&Ke(e,P,F),e==="focusout"&&F&&P.type==="number"&&F.memoizedProps.value!=null&&ys(P,"number",P.value)}switch(Ke=F?Gn(F):window,e){case"focusin":(si(Ke)||Ke.contentEditable==="true")&&(N=Ke,O=F,L=null);break;case"focusout":L=O=N=null;break;case"mousedown":D=!0;break;case"contextmenu":case"mouseup":case"dragend":D=!1,A(re,n,le);break;case"selectionchange":if(j)break;case"keydown":case"keyup":A(re,n,le)}var lt;if(js)e:{switch(e){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Wa?sr(e,n)&&(pt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(pt="onCompositionStart");pt&&(ai&&n.locale!=="ko"&&(Wa||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Wa&&(lt=_l()):(la=le,Vs="value"in la?la.value:la.textContent,Wa=!0)),Ke=Wu(F,pt),0<Ke.length&&(pt=new Is(pt,e,null,n,le),re.push({event:pt,listeners:Ke}),lt?pt.data=lt:(lt=cu(n),lt!==null&&(pt.data=lt)))),(lt=Lo?fu(e,n):Ko(e,n))&&(pt=Wu(F,"onBeforeInput"),0<pt.length&&(Ke=new Is("onBeforeInput","beforeinput",null,n,le),re.push({event:Ke,listeners:pt}),Ke.data=lt)),Fy(re,e,F,n,le)}vm(re,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Za(e,n),s!=null&&a.unshift(Mr(e,s,i)),s=Za(e,t),s!=null&&a.push(Mr(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Py(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jm(e,t,n,a,s){for(var i=t._reactName,p=[];n!==null&&n!==a;){var v=n,C=v.alternate,F=v.stateNode;if(v=v.tag,C!==null&&C===a)break;v!==5&&v!==26&&v!==27||F===null||(C=F,s?(F=Za(n,i),F!=null&&p.unshift(Mr(n,F,C))):s||(F=Za(n,i),F!=null&&p.push(Mr(n,F,C)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Wy=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(Iy,"")}function Nm(e,t){return t=wm(t),wm(e)===t}function zt(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ga(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ga(e,""+a);break;case"className":ms(e,"class",a);break;case"tabIndex":ms(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,n,a);break;case"style":Vi(e,a,i);break;case"data":if(t!=="object"){ms(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&zt(e,t,"name",s.name,s,null),zt(e,t,"formEncType",s.formEncType,s,null),zt(e,t,"formMethod",s.formMethod,s,null),zt(e,t,"formTarget",s.formTarget,s,null)):(zt(e,t,"encType",s.encType,s,null),zt(e,t,"method",s.method,s,null),zt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=va(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),it(e,"popover",a);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qo.get(n)||n,it(e,n,a))}}function cf(e,t,n,a,s,i){switch(n){case"style":Vi(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ga(e,a):(typeof a=="number"||typeof a=="bigint")&&Ga(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[en]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):it(e,n,a)}}}function Nn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:zt(e,t,i,p,n,null)}}s&&zt(e,t,"srcSet",n.srcSet,n,null),a&&zt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var v=i=p=s=null,C=null,F=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":s=le;break;case"type":p=le;break;case"checked":C=le;break;case"defaultChecked":F=le;break;case"value":i=le;break;case"defaultValue":v=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,t));break;default:zt(e,t,a,le,n,null)}}Xs(e,i,v,C,F,p,s,!1);return;case"select":ct("invalid",e),a=p=i=null;for(s in n)if(n.hasOwnProperty(s)&&(v=n[s],v!=null))switch(s){case"value":i=v;break;case"defaultValue":p=v;break;case"multiple":a=v;default:zt(e,t,s,v,n,null)}t=i,n=p,e.multiple=!!a,t!=null?xa(e,!!a,t,!1):n!=null&&xa(e,!!a,n,!0);return;case"textarea":ct("invalid",e),i=s=a=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":a=v;break;case"defaultValue":s=v;break;case"children":i=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(d(91));break;default:zt(e,t,p,v,n,null)}gs(e,a,s,i);return;case"option":for(C in n)n.hasOwnProperty(C)&&(a=n[C],a!=null)&&(C==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":zt(e,t,C,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ct(Tr[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:zt(e,t,F,a,n,null)}return;default:if(Fi(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&cf(e,t,le,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&zt(e,t,v,a,n,null))}function e0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,p=null,v=null,C=null,F=null,le=null;for(te in n){var re=n[te];if(n.hasOwnProperty(te)&&re!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":C=re;default:a.hasOwnProperty(te)||zt(e,t,te,null,a,re)}}for(var P in a){var te=a[P];if(re=n[P],a.hasOwnProperty(P)&&(te!=null||re!=null))switch(P){case"type":i=te;break;case"name":s=te;break;case"checked":F=te;break;case"defaultChecked":le=te;break;case"value":p=te;break;case"defaultValue":v=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(d(137,t));break;default:te!==re&&zt(e,t,P,te,a,re)}}Oa(e,p,v,C,F,le,i,s);return;case"select":te=p=v=P=null;for(i in n)if(C=n[i],n.hasOwnProperty(i)&&C!=null)switch(i){case"value":break;case"multiple":te=C;default:a.hasOwnProperty(i)||zt(e,t,i,null,a,C)}for(s in a)if(i=a[s],C=n[s],a.hasOwnProperty(s)&&(i!=null||C!=null))switch(s){case"value":P=i;break;case"defaultValue":v=i;break;case"multiple":p=i;default:i!==C&&zt(e,t,s,i,a,C)}t=v,n=p,a=te,P!=null?xa(e,!!n,P,!1):!!a!=!!n&&(t!=null?xa(e,!!n,t,!0):xa(e,!!n,n?[]:"",!1));return;case"textarea":te=P=null;for(v in n)if(s=n[v],n.hasOwnProperty(v)&&s!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:zt(e,t,v,null,a,s)}for(p in a)if(s=a[p],i=n[p],a.hasOwnProperty(p)&&(s!=null||i!=null))switch(p){case"value":P=s;break;case"defaultValue":te=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&zt(e,t,p,s,a,i)}Gi(e,P,te);return;case"option":for(var Ue in n)P=n[Ue],n.hasOwnProperty(Ue)&&P!=null&&!a.hasOwnProperty(Ue)&&(Ue==="selected"?e.selected=!1:zt(e,t,Ue,null,a,P));for(C in a)P=a[C],te=n[C],a.hasOwnProperty(C)&&P!==te&&(P!=null||te!=null)&&(C==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":zt(e,t,C,P,a,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in n)P=n[Je],n.hasOwnProperty(Je)&&P!=null&&!a.hasOwnProperty(Je)&&zt(e,t,Je,null,a,P);for(F in a)if(P=a[F],te=n[F],a.hasOwnProperty(F)&&P!==te&&(P!=null||te!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(d(137,t));break;default:zt(e,t,F,P,a,te)}return;default:if(Fi(t)){for(var Rt in n)P=n[Rt],n.hasOwnProperty(Rt)&&P!==void 0&&!a.hasOwnProperty(Rt)&&cf(e,t,Rt,void 0,a,P);for(le in a)P=a[le],te=n[le],!a.hasOwnProperty(le)||P===te||P===void 0&&te===void 0||cf(e,t,le,P,a,te);return}}for(var H in n)P=n[H],n.hasOwnProperty(H)&&P!=null&&!a.hasOwnProperty(H)&&zt(e,t,H,null,a,P);for(re in a)P=a[re],te=n[re],!a.hasOwnProperty(re)||P===te||P==null&&te==null||zt(e,t,re,P,a,te)}function _m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,p=s.initiatorType,v=s.duration;if(i&&v&&_m(p)){for(p=0,v=s.responseEnd,a+=1;a<n.length;a++){var C=n[a],F=C.startTime;if(F>v)break;var le=C.transferSize,re=C.initiatorType;le&&_m(re)&&(C=C.responseEnd,p+=le*(C<v?1:(v-F)/(C-F)))}if(--a,t+=8*(i+p)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ff=null,df=null;function Iu(e){return e.nodeType===9?e:e.ownerDocument}function Em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mf=null;function n0(){var e=window.event;return e&&e.type==="popstate"?e===mf?!1:(mf=e,!0):(mf=null,!1)}var Am=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(s0)}:Am;function s0(e){setTimeout(function(){throw e})}function $l(e){return e==="head"}function Dm(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Mi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")kr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,kr(n);for(var i=n.firstChild;i;){var p=i.nextSibling,v=i.nodeName;i[Xn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=p}}else n==="body"&&kr(e.ownerDocument.body);n=s}while(n);Mi(t)}function Tm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function pf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pf(n),Qs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function i0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=fa(e.nextSibling),e===null)break}return null}function r0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fa(e.nextSibling),e===null))return null;return e}function Mm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fa(e.nextSibling),e===null))return null;return e}function yf(e){return e.data==="$?"||e.data==="$~"}function gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bf=null;function km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return fa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Rm(e,t,n){switch(t=Iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function kr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qs(e)}var da=new Map,Bm=new Set;function eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pl=ue.d;ue.d={f:o0,r:c0,D:f0,C:d0,L:h0,m:m0,X:y0,S:p0,M:g0};function o0(){var e=pl.f(),t=Gu();return e||t}function c0(e){var t=Tt(e);t!==null&&t.tag===5&&t.type==="form"?Id(t):pl.r(e)}var Oi=typeof document>"u"?null:document;function qm(e,t,n){var a=Oi;if(a&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Bm.has(s)||(Bm.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Nn(t,"link",e),tn(t),a.head.appendChild(t)))}}function f0(e){pl.D(e),qm("dns-prefetch",e,null)}function d0(e,t){pl.C(e,t),qm("preconnect",e,t)}function h0(e,t,n){pl.L(e,t,n);var a=Oi;if(a&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var i=s;switch(t){case"style":i=Di(e);break;case"script":i=Ti(e)}da.has(i)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),da.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(zr(i))||t==="script"&&a.querySelector(Rr(i))||(t=a.createElement("link"),Nn(t,"link",e),tn(t),a.head.appendChild(t)))}}function m0(e,t){pl.m(e,t);var n=Oi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ti(e)}if(!da.has(i)&&(e=_({rel:"modulepreload",href:e},t),da.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}a=n.createElement("link"),Nn(a,"link",e),tn(a),n.head.appendChild(a)}}}function p0(e,t,n){pl.S(e,t,n);var a=Oi;if(a&&e){var s=_n(a).hoistableStyles,i=Di(e);t=t||"default";var p=s.get(i);if(!p){var v={loading:0,preload:null};if(p=a.querySelector(zr(i)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=da.get(i))&&xf(e,n);var C=p=a.createElement("link");tn(C),Nn(C,"link",e),C._p=new Promise(function(F,le){C.onload=F,C.onerror=le}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,to(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:v},s.set(i,p)}}}function y0(e,t){pl.X(e,t);var n=Oi;if(n&&e){var a=_n(n).hoistableScripts,s=Ti(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=_({src:e,async:!0},t),(t=da.get(s))&&vf(e,t),i=n.createElement("script"),tn(i),Nn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function g0(e,t){pl.M(e,t);var n=Oi;if(n&&e){var a=_n(n).hoistableScripts,s=Ti(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=_({src:e,async:!0,type:"module"},t),(t=da.get(s))&&vf(e,t),i=n.createElement("script"),tn(i),Nn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Um(e,t,n,a){var s=(s=Ve.current)?eo(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Di(n.href),n=_n(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Di(n.href);var i=_n(s).hoistableStyles,p=i.get(e);if(p||(s=s.ownerDocument||s,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,p),(i=s.querySelector(zr(e)))&&!i._p&&(p.instance=i,p.state.loading=5),da.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},da.set(e,n),i||b0(s,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ti(n),n=_n(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Di(e){return'href="'+pn(e)+'"'}function zr(e){return'link[rel="stylesheet"]['+e+"]"}function Hm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function b0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Nn(t,"link",n),tn(t),e.head.appendChild(t))}function Ti(e){return'[src="'+pn(e)+'"]'}function Rr(e){return"script[async]"+e}function Lm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,tn(a),a;var s=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),tn(a),Nn(a,"style",s),to(a,n.precedence,e),t.instance=a;case"stylesheet":s=Di(n.href);var i=e.querySelector(zr(s));if(i)return t.state.loading|=4,t.instance=i,tn(i),i;a=Hm(n),(s=da.get(s))&&xf(a,s),i=(e.ownerDocument||e).createElement("link"),tn(i);var p=i;return p._p=new Promise(function(v,C){p.onload=v,p.onerror=C}),Nn(i,"link",a),t.state.loading|=4,to(i,n.precedence,e),t.instance=i;case"script":return i=Ti(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,tn(s),s):(a=n,(s=da.get(i))&&(a=_({},n),vf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),tn(s),Nn(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,to(a,n.precedence,e));return t.instance}function to(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,p=0;p<a.length;p++){var v=a[p];if(v.dataset.precedence===t)i=v;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var no=null;function Km(e,t,n){if(no===null){var a=new Map,s=no=new Map;s.set(n,a)}else s=no,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Xn]||i[Ut]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var p=i.getAttribute(t)||"";p=e+p;var v=a.get(p);v?v.push(i):a.set(p,[i])}}return a}function Qm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function x0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ym(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function v0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Di(a.href),i=t.querySelector(zr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ao.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,tn(i);return}i=t.ownerDocument||t,a=Hm(a),(s=da.get(s))&&xf(a,s),i=i.createElement("link"),tn(i);var p=i;p._p=new Promise(function(v,C){p.onload=v,p.onerror=C}),Nn(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ao.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Sf=0;function S0(e,t){return e.stylesheets&&e.count===0&&so(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&so(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Sf===0&&(Sf=62500*t0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&so(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Sf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lo=null;function so(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lo=new Map,t.forEach(j0,e),lo=null,ao.call(e))}function j0(e,t){if(!(t.state.loading&4)){var n=lo.get(e);if(n)var a=n.get(null);else{n=new Map,lo.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var p=s[i];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}s=t.instance,p=s.getAttribute("data-precedence"),i=n.get(p)||a,i===a&&n.set(null,s),n.set(p,s),this.count++,a=ao.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:Ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function w0(e,t,n,a,s,i,p,v,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Xm(e,t,n,a,s,i,p,v,C,F,le,re){return e=new w0(e,t,n,p,C,F,le,re,v),t=1,i===!0&&(t|=24),i=Fn(3,null,null,t),e.current=i,i.stateNode=e,t=Io(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},ac(i),e}function Gm(e){return e?(e=ui,e):ui}function Vm(e,t,n,a,s,i){s=Gm(s),a.context===null?a.context=s:a.pendingContext=s,a=Ul(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Hl(e,a,t),n!==null&&(Ln(n,e,t),mr(n,e,t))}function Fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jf(e,t){Fm(e,t),(e=e.alternate)&&Fm(e,t)}function Zm(e){if(e.tag===13||e.tag===31){var t=Ct(e,67108864);t!==null&&Ln(t,e,67108864),jf(e,67108864)}}function $m(e){if(e.tag===13||e.tag===31){var t=Wn();t=Ki(t);var n=Ct(e,t);n!==null&&Ln(n,e,t),jf(e,t)}}var io=!0;function N0(e,t,n,a){var s=Y.T;Y.T=null;var i=ue.p;try{ue.p=2,wf(e,t,n,a)}finally{ue.p=i,Y.T=s}}function _0(e,t,n,a){var s=Y.T;Y.T=null;var i=ue.p;try{ue.p=8,wf(e,t,n,a)}finally{ue.p=i,Y.T=s}}function wf(e,t,n,a){if(io){var s=Nf(a);if(s===null)of(e,t,a,ro,n),Pm(e,a);else if(C0(s,e,t,n,a))a.stopPropagation();else if(Pm(e,a),t&4&&-1<E0.indexOf(e)){for(;s!==null;){var i=Tt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var p=ga(i.pendingLanes);if(p!==0){var v=i;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var C=1<<31-ze(p);v.entanglements[1]|=C,p&=~C}qa(i),(_t&6)===0&&(Yu=at()+500,Dr(0))}}break;case 31:case 13:v=Ct(i,2),v!==null&&Ln(v,i,2),Gu(),jf(i,2)}if(i=Nf(a),i===null&&of(e,t,a,ro,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else of(e,t,a,null,n)}}function Nf(e){return e=Gs(e),_f(e)}var ro=null;function _f(e){if(ro=null,e=Ca(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ro=e,null}function Jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case Et:return 2;case Te:return 8;case qe:case gt:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var Ef=!1,Jl=null,Pl=null,Wl=null,qr=new Map,Ur=new Map,Il=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Hr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Tt(t),t!==null&&Zm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function C0(e,t,n,a,s){switch(t){case"focusin":return Jl=Hr(Jl,e,t,n,a,s),!0;case"dragenter":return Pl=Hr(Pl,e,t,n,a,s),!0;case"mouseover":return Wl=Hr(Wl,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,Hr(qr.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,Hr(Ur.get(i)||null,e,t,n,a,s)),!0}return!1}function Wm(e){var t=Ca(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,fs(e.priority,function(){$m(n)});return}}else if(t===31){if(t=w(n),t!==null){e.blockedOn=t,fs(e.priority,function(){$m(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);aa=a,n.target.dispatchEvent(a),aa=null}else return t=Tt(n),t!==null&&Zm(t),e.blockedOn=n,!1;t.shift()}return!0}function Im(e,t,n){uo(e)&&n.delete(t)}function A0(){Ef=!1,Jl!==null&&uo(Jl)&&(Jl=null),Pl!==null&&uo(Pl)&&(Pl=null),Wl!==null&&uo(Wl)&&(Wl=null),qr.forEach(Im),Ur.forEach(Im)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,A0)))}var co=null;function ep(e){co!==e&&(co=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){co===e&&(co=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(_f(a||n)===null)continue;break}var i=Tt(n);i!==null&&(e.splice(t,3),t-=3,wc(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Mi(e){function t(C){return oo(C,e)}Jl!==null&&oo(Jl,e),Pl!==null&&oo(Pl,e),Wl!==null&&oo(Wl,e),qr.forEach(t),Ur.forEach(t);for(var n=0;n<Il.length;n++){var a=Il[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Wm(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],p=s[en]||null;if(typeof i=="function")p||ep(n);else if(p){var v=null;if(i&&i.hasAttribute("formAction")){if(s=i,p=i[en]||null)v=p.formAction;else if(_f(s)!==null)continue}else v=p.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),ep(n)}}}function tp(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(p){return s=p})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Cf(e){this._internalRoot=e}fo.prototype.render=Cf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Wn();Vm(n,a,e,t,null,null)},fo.prototype.unmount=Cf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vm(e.current,2,null,e,null,null),Gu(),t[Tn]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=cs();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Wm(e)}};var np=c.version;if(np!=="19.2.4")throw Error(d(527,np,"19.2.4"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(t),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var O0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{Pt=ho.inject(O0),Wt=ho}catch{}}return Lr.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",s=oh,i=ch,p=fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Xm(e,1,!1,null,null,n,a,null,s,i,p,tp),e[Tn]=t.current,uf(e),new Cf(t)},Lr.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,s="",i=oh,p=ch,v=fh,C=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(C=n.formState)),t=Xm(e,1,!0,t,n??null,a,s,C,i,p,v,tp),t.context=Gm(null),n=t.current,a=Wn(),a=Ki(a),s=Ul(a),s.callback=null,Hl(n,s,a),n=a,t.current.lanes=n,ta(t,n),qa(t),e[Tn]=t.current,uf(e),new fo(t)},Lr.version="19.2.4",Lr}var ip;function F0(){if(ip)return Af.exports;ip=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Af.exports=V0(),Af.exports}var Z0=F0();const rp=r=>{let c;const m=new Set,d=(E,B)=>{const _=typeof E=="function"?E(c):E;if(!Object.is(_,c)){const $=c;c=B??(typeof _!="object"||_===null)?_:Object.assign({},c,_),m.forEach(be=>be(c,$))}},g=()=>c,w={setState:d,getState:g,getInitialState:()=>z,subscribe:E=>(m.add(E),()=>m.delete(E))},z=c=r(d,g,w);return w},$0=(r=>r?rp(r):rp),J0=r=>r;function P0(r,c=J0){const m=mo.useSyncExternalStore(r.subscribe,mo.useCallback(()=>c(r.getState()),[r,c]),mo.useCallback(()=>c(r.getInitialState()),[r,c]));return mo.useDebugValue(m),m}const up=r=>{const c=$0(r),m=d=>P0(c,d);return Object.assign(m,c),m},W0=(r=>r?up(r):up);function I0(r,c){let m;try{m=r()}catch{return}return{getItem:g=>{var x;const S=z=>z===null?null:JSON.parse(z,void 0),w=(x=m.getItem(g))!=null?x:null;return w instanceof Promise?w.then(S):S(w)},setItem:(g,x)=>m.setItem(g,JSON.stringify(x,void 0)),removeItem:g=>m.removeItem(g)}}const Bf=r=>c=>{try{const m=r(c);return m instanceof Promise?m:{then(d){return Bf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Bf(d)(m)}}}},eg=(r,c)=>(m,d,g)=>{let x={storage:I0(()=>window.localStorage),partialize:I=>I,version:0,merge:(I,ce)=>({...ce,...I}),...c},S=!1,w=0;const z=new Set,E=new Set;let B=x.storage;if(!B)return r((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${x.name}', the given storage is currently unavailable.`),m(...I)},d,g);const _=()=>{const I=x.partialize({...d()});return B.setItem(x.name,{state:I,version:x.version})},$=g.setState;g.setState=(I,ce)=>($(I,ce),_());const be=r((...I)=>(m(...I),_()),d,g);g.getInitialState=()=>be;let Z;const oe=()=>{var I,ce;if(!B)return;const fe=++w;S=!1,z.forEach(he=>{var Oe;return he((Oe=d())!=null?Oe:be)});const Ne=((ce=x.onRehydrateStorage)==null?void 0:ce.call(x,(I=d())!=null?I:be))||void 0;return Bf(B.getItem.bind(B))(x.name).then(he=>{if(he)if(typeof he.version=="number"&&he.version!==x.version){if(x.migrate){const Oe=x.migrate(he.state,he.version);return Oe instanceof Promise?Oe.then(Se=>[!0,Se]):[!0,Oe]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,he.state];return[!1,void 0]}).then(he=>{var Oe;if(fe!==w)return;const[Se,ve]=he;if(Z=x.merge(ve,(Oe=d())!=null?Oe:be),m(Z,!0),Se)return _()}).then(()=>{fe===w&&(Ne?.(Z,void 0),Z=d(),S=!0,E.forEach(he=>he(Z)))}).catch(he=>{fe===w&&Ne?.(void 0,he)})};return g.persist={setOptions:I=>{x={...x,...I},I.storage&&(B=I.storage)},clearStorage:()=>{B?.removeItem(x.name)},getOptions:()=>x,rehydrate:()=>oe(),hasHydrated:()=>S,onHydrate:I=>(z.add(I),()=>{z.delete(I)}),onFinishHydration:I=>(E.add(I),()=>{E.delete(I)})},x.skipHydration||oe(),Z||be},tg=eg,ls=W0(tg(r=>({token:null,setToken:c=>r({token:c}),logout:()=>r({token:null})}),{name:"wisemark-auth",partialize:r=>({token:r.token})}));function Lp(r,c){return function(){return r.apply(c,arguments)}}const{toString:ng}=Object.prototype,{getPrototypeOf:Ff}=Object,{iterator:Co,toStringTag:Kp}=Symbol,Ao=(r=>c=>{const m=ng.call(c);return r[m]||(r[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),wa=r=>(r=r.toLowerCase(),c=>Ao(c)===r),Oo=r=>c=>typeof c===r,{isArray:Hi}=Array,Ri=Oo("undefined");function $r(r){return r!==null&&!Ri(r)&&r.constructor!==null&&!Ri(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Qp=wa("ArrayBuffer");function ag(r){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(r):c=r&&r.buffer&&Qp(r.buffer),c}const lg=Oo("string"),Kn=Oo("function"),Yp=Oo("number"),Jr=r=>r!==null&&typeof r=="object",sg=r=>r===!0||r===!1,go=r=>{if(Ao(r)!=="object")return!1;const c=Ff(r);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Kp in r)&&!(Co in r)},ig=r=>{if(!Jr(r)||$r(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},rg=wa("Date"),ug=wa("File"),og=wa("Blob"),cg=wa("FileList"),fg=r=>Jr(r)&&Kn(r.pipe),dg=r=>{let c;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((c=Ao(r))==="formdata"||c==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},hg=wa("URLSearchParams"),[mg,pg,yg,gg]=["ReadableStream","Request","Response","Headers"].map(wa),bg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pr(r,c,{allOwnKeys:m=!1}={}){if(r===null||typeof r>"u")return;let d,g;if(typeof r!="object"&&(r=[r]),Hi(r))for(d=0,g=r.length;d<g;d++)c.call(null,r[d],d,r);else{if($r(r))return;const x=m?Object.getOwnPropertyNames(r):Object.keys(r),S=x.length;let w;for(d=0;d<S;d++)w=x[d],c.call(null,r[w],w,r)}}function Xp(r,c){if($r(r))return null;c=c.toLowerCase();const m=Object.keys(r);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gp=r=>!Ri(r)&&r!==qs;function qf(){const{caseless:r,skipUndefined:c}=Gp(this)&&this||{},m={},d=(g,x)=>{if(x==="__proto__"||x==="constructor"||x==="prototype")return;const S=r&&Xp(m,x)||x;go(m[S])&&go(g)?m[S]=qf(m[S],g):go(g)?m[S]=qf({},g):Hi(g)?m[S]=g.slice():(!c||!Ri(g))&&(m[S]=g)};for(let g=0,x=arguments.length;g<x;g++)arguments[g]&&Pr(arguments[g],d);return m}const xg=(r,c,m,{allOwnKeys:d}={})=>(Pr(c,(g,x)=>{m&&Kn(g)?Object.defineProperty(r,x,{value:Lp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,x,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),r),vg=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Sg=(r,c,m,d)=>{r.prototype=Object.create(c.prototype,d),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:c.prototype}),m&&Object.assign(r.prototype,m)},jg=(r,c,m,d)=>{let g,x,S;const w={};if(c=c||{},r==null)return c;do{for(g=Object.getOwnPropertyNames(r),x=g.length;x-- >0;)S=g[x],(!d||d(S,r,c))&&!w[S]&&(c[S]=r[S],w[S]=!0);r=m!==!1&&Ff(r)}while(r&&(!m||m(r,c))&&r!==Object.prototype);return c},wg=(r,c,m)=>{r=String(r),(m===void 0||m>r.length)&&(m=r.length),m-=c.length;const d=r.indexOf(c,m);return d!==-1&&d===m},Ng=r=>{if(!r)return null;if(Hi(r))return r;let c=r.length;if(!Yp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=r[c];return m},_g=(r=>c=>r&&c instanceof r)(typeof Uint8Array<"u"&&Ff(Uint8Array)),Eg=(r,c)=>{const d=(r&&r[Co]).call(r);let g;for(;(g=d.next())&&!g.done;){const x=g.value;c.call(r,x[0],x[1])}},Cg=(r,c)=>{let m;const d=[];for(;(m=r.exec(c))!==null;)d.push(m);return d},Ag=wa("HTMLFormElement"),Og=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),op=(({hasOwnProperty:r})=>(c,m)=>r.call(c,m))(Object.prototype),Dg=wa("RegExp"),Vp=(r,c)=>{const m=Object.getOwnPropertyDescriptors(r),d={};Pr(m,(g,x)=>{let S;(S=c(g,x,r))!==!1&&(d[x]=S||g)}),Object.defineProperties(r,d)},Tg=r=>{Vp(r,(c,m)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=r[m];if(Kn(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Mg=(r,c)=>{const m={},d=g=>{g.forEach(x=>{m[x]=!0})};return Hi(r)?d(r):d(String(r).split(c)),m},kg=()=>{},zg=(r,c)=>r!=null&&Number.isFinite(r=+r)?r:c;function Rg(r){return!!(r&&Kn(r.append)&&r[Kp]==="FormData"&&r[Co])}const Bg=r=>{const c=new Array(10),m=(d,g)=>{if(Jr(d)){if(c.indexOf(d)>=0)return;if($r(d))return d;if(!("toJSON"in d)){c[g]=d;const x=Hi(d)?[]:{};return Pr(d,(S,w)=>{const z=m(S,g+1);!Ri(z)&&(x[w]=z)}),c[g]=void 0,x}}return d};return m(r,0)},qg=wa("AsyncFunction"),Ug=r=>r&&(Jr(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),Fp=((r,c)=>r?setImmediate:c?((m,d)=>(qs.addEventListener("message",({source:g,data:x})=>{g===qs&&x===m&&d.length&&d.shift()()},!1),g=>{d.push(g),qs.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Kn(qs.postMessage)),Hg=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||Fp,Lg=r=>r!=null&&Kn(r[Co]),ee={isArray:Hi,isArrayBuffer:Qp,isBuffer:$r,isFormData:dg,isArrayBufferView:ag,isString:lg,isNumber:Yp,isBoolean:sg,isObject:Jr,isPlainObject:go,isEmptyObject:ig,isReadableStream:mg,isRequest:pg,isResponse:yg,isHeaders:gg,isUndefined:Ri,isDate:rg,isFile:ug,isBlob:og,isRegExp:Dg,isFunction:Kn,isStream:fg,isURLSearchParams:hg,isTypedArray:_g,isFileList:cg,forEach:Pr,merge:qf,extend:xg,trim:bg,stripBOM:vg,inherits:Sg,toFlatObject:jg,kindOf:Ao,kindOfTest:wa,endsWith:wg,toArray:Ng,forEachEntry:Eg,matchAll:Cg,isHTMLForm:Ag,hasOwnProperty:op,hasOwnProp:op,reduceDescriptors:Vp,freezeMethods:Tg,toObjectSet:Mg,toCamelCase:Og,noop:kg,toFiniteNumber:zg,findKey:Xp,global:qs,isContextDefined:Gp,isSpecCompliantForm:Rg,toJSONObject:Bg,isAsyncFn:qg,isThenable:Ug,setImmediate:Fp,asap:Hg,isIterable:Lg};let Ie=class Zp extends Error{static from(c,m,d,g,x,S){const w=new Zp(c.message,m||c.code,d,g,x);return w.cause=c,w.name=c.name,S&&Object.assign(w,S),w}constructor(c,m,d,g,x){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),x&&(this.response=x,this.status=x.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}};Ie.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ie.ERR_BAD_OPTION="ERR_BAD_OPTION";Ie.ECONNABORTED="ECONNABORTED";Ie.ETIMEDOUT="ETIMEDOUT";Ie.ERR_NETWORK="ERR_NETWORK";Ie.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ie.ERR_DEPRECATED="ERR_DEPRECATED";Ie.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ie.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ie.ERR_CANCELED="ERR_CANCELED";Ie.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ie.ERR_INVALID_URL="ERR_INVALID_URL";const Kg=null;function Uf(r){return ee.isPlainObject(r)||ee.isArray(r)}function $p(r){return ee.endsWith(r,"[]")?r.slice(0,-2):r}function cp(r,c,m){return r?r.concat(c).map(function(g,x){return g=$p(g),!m&&x?"["+g+"]":g}).join(m?".":""):c}function Qg(r){return ee.isArray(r)&&!r.some(Uf)}const Yg=ee.toFlatObject(ee,{},null,function(c){return/^is[A-Z]/.test(c)});function Do(r,c,m){if(!ee.isObject(r))throw new TypeError("target must be an object");c=c||new FormData,m=ee.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(oe,I){return!ee.isUndefined(I[oe])});const d=m.metaTokens,g=m.visitor||B,x=m.dots,S=m.indexes,z=(m.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(c);if(!ee.isFunction(g))throw new TypeError("visitor must be a function");function E(Z){if(Z===null)return"";if(ee.isDate(Z))return Z.toISOString();if(ee.isBoolean(Z))return Z.toString();if(!z&&ee.isBlob(Z))throw new Ie("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(Z)||ee.isTypedArray(Z)?z&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function B(Z,oe,I){let ce=Z;if(Z&&!I&&typeof Z=="object"){if(ee.endsWith(oe,"{}"))oe=d?oe:oe.slice(0,-2),Z=JSON.stringify(Z);else if(ee.isArray(Z)&&Qg(Z)||(ee.isFileList(Z)||ee.endsWith(oe,"[]"))&&(ce=ee.toArray(Z)))return oe=$p(oe),ce.forEach(function(Ne,he){!(ee.isUndefined(Ne)||Ne===null)&&c.append(S===!0?cp([oe],he,x):S===null?oe:oe+"[]",E(Ne))}),!1}return Uf(Z)?!0:(c.append(cp(I,oe,x),E(Z)),!1)}const _=[],$=Object.assign(Yg,{defaultVisitor:B,convertValue:E,isVisitable:Uf});function be(Z,oe){if(!ee.isUndefined(Z)){if(_.indexOf(Z)!==-1)throw Error("Circular reference detected in "+oe.join("."));_.push(Z),ee.forEach(Z,function(ce,fe){(!(ee.isUndefined(ce)||ce===null)&&g.call(c,ce,ee.isString(fe)?fe.trim():fe,oe,$))===!0&&be(ce,oe?oe.concat(fe):[fe])}),_.pop()}}if(!ee.isObject(r))throw new TypeError("data must be an object");return be(r),c}function fp(r){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Zf(r,c){this._pairs=[],r&&Do(r,this,c)}const Jp=Zf.prototype;Jp.append=function(c,m){this._pairs.push([c,m])};Jp.toString=function(c){const m=c?function(d){return c.call(this,d,fp)}:fp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Xg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pp(r,c,m){if(!c)return r;const d=m&&m.encode||Xg,g=ee.isFunction(m)?{serialize:m}:m,x=g&&g.serialize;let S;if(x?S=x(c,g):S=ee.isURLSearchParams(c)?c.toString():new Zf(c,g).toString(d),S){const w=r.indexOf("#");w!==-1&&(r=r.slice(0,w)),r+=(r.indexOf("?")===-1?"?":"&")+S}return r}class dp{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){ee.forEach(this.handlers,function(d){d!==null&&c(d)})}}const $f={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Gg=typeof URLSearchParams<"u"?URLSearchParams:Zf,Vg=typeof FormData<"u"?FormData:null,Fg=typeof Blob<"u"?Blob:null,Zg={isBrowser:!0,classes:{URLSearchParams:Gg,FormData:Vg,Blob:Fg},protocols:["http","https","file","blob","url","data"]},Jf=typeof window<"u"&&typeof document<"u",Hf=typeof navigator=="object"&&navigator||void 0,$g=Jf&&(!Hf||["ReactNative","NativeScript","NS"].indexOf(Hf.product)<0),Jg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pg=Jf&&window.location.href||"http://localhost",Wg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jf,hasStandardBrowserEnv:$g,hasStandardBrowserWebWorkerEnv:Jg,navigator:Hf,origin:Pg},Symbol.toStringTag,{value:"Module"})),Dn={...Wg,...Zg};function Ig(r,c){return Do(r,new Dn.classes.URLSearchParams,{visitor:function(m,d,g,x){return Dn.isNode&&ee.isBuffer(m)?(this.append(d,m.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)},...c})}function eb(r){return ee.matchAll(/\w+|\[(\w*)]/g,r).map(c=>c[0]==="[]"?"":c[1]||c[0])}function tb(r){const c={},m=Object.keys(r);let d;const g=m.length;let x;for(d=0;d<g;d++)x=m[d],c[x]=r[x];return c}function Wp(r){function c(m,d,g,x){let S=m[x++];if(S==="__proto__")return!0;const w=Number.isFinite(+S),z=x>=m.length;return S=!S&&ee.isArray(g)?g.length:S,z?(ee.hasOwnProp(g,S)?g[S]=[g[S],d]:g[S]=d,!w):((!g[S]||!ee.isObject(g[S]))&&(g[S]=[]),c(m,d,g[S],x)&&ee.isArray(g[S])&&(g[S]=tb(g[S])),!w)}if(ee.isFormData(r)&&ee.isFunction(r.entries)){const m={};return ee.forEachEntry(r,(d,g)=>{c(eb(d),g,m,0)}),m}return null}function nb(r,c,m){if(ee.isString(r))try{return(c||JSON.parse)(r),ee.trim(r)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(r)}const Wr={transitional:$f,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,x=ee.isObject(c);if(x&&ee.isHTMLForm(c)&&(c=new FormData(c)),ee.isFormData(c))return g?JSON.stringify(Wp(c)):c;if(ee.isArrayBuffer(c)||ee.isBuffer(c)||ee.isStream(c)||ee.isFile(c)||ee.isBlob(c)||ee.isReadableStream(c))return c;if(ee.isArrayBufferView(c))return c.buffer;if(ee.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let w;if(x){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Ig(c,this.formSerializer).toString();if((w=ee.isFileList(c))||d.indexOf("multipart/form-data")>-1){const z=this.env&&this.env.FormData;return Do(w?{"files[]":c}:c,z&&new z,this.formSerializer)}}return x||g?(m.setContentType("application/json",!1),nb(c)):c}],transformResponse:[function(c){const m=this.transitional||Wr.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(ee.isResponse(c)||ee.isReadableStream(c))return c;if(c&&ee.isString(c)&&(d&&!this.responseType||g)){const S=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(w){if(S)throw w.name==="SyntaxError"?Ie.from(w,Ie.ERR_BAD_RESPONSE,this,null,this.response):w}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dn.classes.FormData,Blob:Dn.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],r=>{Wr.headers[r]={}});const ab=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lb=r=>{const c={};let m,d,g;return r&&r.split(`
`).forEach(function(S){g=S.indexOf(":"),m=S.substring(0,g).trim().toLowerCase(),d=S.substring(g+1).trim(),!(!m||c[m]&&ab[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},hp=Symbol("internals");function Kr(r){return r&&String(r).trim().toLowerCase()}function bo(r){return r===!1||r==null?r:ee.isArray(r)?r.map(bo):String(r)}function sb(r){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(r);)c[d[1]]=d[2];return c}const ib=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Tf(r,c,m,d,g){if(ee.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!ee.isString(c)){if(ee.isString(d))return c.indexOf(d)!==-1;if(ee.isRegExp(d))return d.test(c)}}function rb(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function ub(r,c){const m=ee.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(r,d+m,{value:function(g,x,S){return this[d].call(this,c,g,x,S)},configurable:!0})})}let Qn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function x(w,z,E){const B=Kr(z);if(!B)throw new Error("header name must be a non-empty string");const _=ee.findKey(g,B);(!_||g[_]===void 0||E===!0||E===void 0&&g[_]!==!1)&&(g[_||z]=bo(w))}const S=(w,z)=>ee.forEach(w,(E,B)=>x(E,B,z));if(ee.isPlainObject(c)||c instanceof this.constructor)S(c,m);else if(ee.isString(c)&&(c=c.trim())&&!ib(c))S(lb(c),m);else if(ee.isObject(c)&&ee.isIterable(c)){let w={},z,E;for(const B of c){if(!ee.isArray(B))throw TypeError("Object iterator must return a key-value pair");w[E=B[0]]=(z=w[E])?ee.isArray(z)?[...z,B[1]]:[z,B[1]]:B[1]}S(w,m)}else c!=null&&x(m,c,d);return this}get(c,m){if(c=Kr(c),c){const d=ee.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return sb(g);if(ee.isFunction(m))return m.call(this,g,d);if(ee.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Kr(c),c){const d=ee.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||Tf(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function x(S){if(S=Kr(S),S){const w=ee.findKey(d,S);w&&(!m||Tf(d,d[w],w,m))&&(delete d[w],g=!0)}}return ee.isArray(c)?c.forEach(x):x(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const x=m[d];(!c||Tf(this,this[x],x,c,!0))&&(delete this[x],g=!0)}return g}normalize(c){const m=this,d={};return ee.forEach(this,(g,x)=>{const S=ee.findKey(d,x);if(S){m[S]=bo(g),delete m[x];return}const w=c?rb(x):String(x).trim();w!==x&&delete m[x],m[w]=bo(g),d[w]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return ee.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&ee.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[hp]=this[hp]={accessors:{}}).accessors,g=this.prototype;function x(S){const w=Kr(S);d[w]||(ub(g,S),d[w]=!0)}return ee.isArray(c)?c.forEach(x):x(c),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Qn.prototype,({value:r},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>r,set(d){this[m]=d}}});ee.freezeMethods(Qn);function Mf(r,c){const m=this||Wr,d=c||m,g=Qn.from(d.headers);let x=d.data;return ee.forEach(r,function(w){x=w.call(m,x,g.normalize(),c?c.status:void 0)}),g.normalize(),x}function Ip(r){return!!(r&&r.__CANCEL__)}let Ir=class extends Ie{constructor(c,m,d){super(c??"canceled",Ie.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function ey(r,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?r(m):c(new Ie("Request failed with status code "+m.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function ob(r){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return c&&c[1]||""}function cb(r,c){r=r||10;const m=new Array(r),d=new Array(r);let g=0,x=0,S;return c=c!==void 0?c:1e3,function(z){const E=Date.now(),B=d[x];S||(S=E),m[g]=z,d[g]=E;let _=x,$=0;for(;_!==g;)$+=m[_++],_=_%r;if(g=(g+1)%r,g===x&&(x=(x+1)%r),E-S<c)return;const be=B&&E-B;return be?Math.round($*1e3/be):void 0}}function fb(r,c){let m=0,d=1e3/c,g,x;const S=(E,B=Date.now())=>{m=B,g=null,x&&(clearTimeout(x),x=null),r(...E)};return[(...E)=>{const B=Date.now(),_=B-m;_>=d?S(E,B):(g=E,x||(x=setTimeout(()=>{x=null,S(g)},d-_)))},()=>g&&S(g)]}const jo=(r,c,m=3)=>{let d=0;const g=cb(50,250);return fb(x=>{const S=x.loaded,w=x.lengthComputable?x.total:void 0,z=S-d,E=g(z),B=S<=w;d=S;const _={loaded:S,total:w,progress:w?S/w:void 0,bytes:z,rate:E||void 0,estimated:E&&w&&B?(w-S)/E:void 0,event:x,lengthComputable:w!=null,[c?"download":"upload"]:!0};r(_)},m)},mp=(r,c)=>{const m=r!=null;return[d=>c[0]({lengthComputable:m,total:r,loaded:d}),c[1]]},pp=r=>(...c)=>ee.asap(()=>r(...c)),db=Dn.hasStandardBrowserEnv?((r,c)=>m=>(m=new URL(m,Dn.origin),r.protocol===m.protocol&&r.host===m.host&&(c||r.port===m.port)))(new URL(Dn.origin),Dn.navigator&&/(msie|trident)/i.test(Dn.navigator.userAgent)):()=>!0,hb=Dn.hasStandardBrowserEnv?{write(r,c,m,d,g,x,S){if(typeof document>"u")return;const w=[`${r}=${encodeURIComponent(c)}`];ee.isNumber(m)&&w.push(`expires=${new Date(m).toUTCString()}`),ee.isString(d)&&w.push(`path=${d}`),ee.isString(g)&&w.push(`domain=${g}`),x===!0&&w.push("secure"),ee.isString(S)&&w.push(`SameSite=${S}`),document.cookie=w.join("; ")},read(r){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mb(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function pb(r,c){return c?r.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):r}function ty(r,c,m){let d=!mb(c);return r&&(d||m==!1)?pb(r,c):c}const yp=r=>r instanceof Qn?{...r}:r;function Ls(r,c){c=c||{};const m={};function d(E,B,_,$){return ee.isPlainObject(E)&&ee.isPlainObject(B)?ee.merge.call({caseless:$},E,B):ee.isPlainObject(B)?ee.merge({},B):ee.isArray(B)?B.slice():B}function g(E,B,_,$){if(ee.isUndefined(B)){if(!ee.isUndefined(E))return d(void 0,E,_,$)}else return d(E,B,_,$)}function x(E,B){if(!ee.isUndefined(B))return d(void 0,B)}function S(E,B){if(ee.isUndefined(B)){if(!ee.isUndefined(E))return d(void 0,E)}else return d(void 0,B)}function w(E,B,_){if(_ in c)return d(E,B);if(_ in r)return d(void 0,E)}const z={url:x,method:x,data:x,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:w,headers:(E,B,_)=>g(yp(E),yp(B),_,!0)};return ee.forEach(Object.keys({...r,...c}),function(B){if(B==="__proto__"||B==="constructor"||B==="prototype")return;const _=ee.hasOwnProp(z,B)?z[B]:g,$=_(r[B],c[B],B);ee.isUndefined($)&&_!==w||(m[B]=$)}),m}const ny=r=>{const c=Ls({},r);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:x,headers:S,auth:w}=c;if(c.headers=S=Qn.from(S),c.url=Pp(ty(c.baseURL,c.url,c.allowAbsoluteUrls),r.params,r.paramsSerializer),w&&S.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),ee.isFormData(m)){if(Dn.hasStandardBrowserEnv||Dn.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(ee.isFunction(m.getHeaders)){const z=m.getHeaders(),E=["content-type","content-length"];Object.entries(z).forEach(([B,_])=>{E.includes(B.toLowerCase())&&S.set(B,_)})}}if(Dn.hasStandardBrowserEnv&&(d&&ee.isFunction(d)&&(d=d(c)),d||d!==!1&&db(c.url))){const z=g&&x&&hb.read(x);z&&S.set(g,z)}return c},yb=typeof XMLHttpRequest<"u",gb=yb&&function(r){return new Promise(function(m,d){const g=ny(r);let x=g.data;const S=Qn.from(g.headers).normalize();let{responseType:w,onUploadProgress:z,onDownloadProgress:E}=g,B,_,$,be,Z;function oe(){be&&be(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(B),g.signal&&g.signal.removeEventListener("abort",B)}let I=new XMLHttpRequest;I.open(g.method.toUpperCase(),g.url,!0),I.timeout=g.timeout;function ce(){if(!I)return;const Ne=Qn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),Oe={data:!w||w==="text"||w==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:Ne,config:r,request:I};ey(function(ve){m(ve),oe()},function(ve){d(ve),oe()},Oe),I=null}"onloadend"in I?I.onloadend=ce:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(ce)},I.onabort=function(){I&&(d(new Ie("Request aborted",Ie.ECONNABORTED,r,I)),I=null)},I.onerror=function(he){const Oe=he&&he.message?he.message:"Network Error",Se=new Ie(Oe,Ie.ERR_NETWORK,r,I);Se.event=he||null,d(Se),I=null},I.ontimeout=function(){let he=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const Oe=g.transitional||$f;g.timeoutErrorMessage&&(he=g.timeoutErrorMessage),d(new Ie(he,Oe.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,r,I)),I=null},x===void 0&&S.setContentType(null),"setRequestHeader"in I&&ee.forEach(S.toJSON(),function(he,Oe){I.setRequestHeader(Oe,he)}),ee.isUndefined(g.withCredentials)||(I.withCredentials=!!g.withCredentials),w&&w!=="json"&&(I.responseType=g.responseType),E&&([$,Z]=jo(E,!0),I.addEventListener("progress",$)),z&&I.upload&&([_,be]=jo(z),I.upload.addEventListener("progress",_),I.upload.addEventListener("loadend",be)),(g.cancelToken||g.signal)&&(B=Ne=>{I&&(d(!Ne||Ne.type?new Ir(null,r,I):Ne),I.abort(),I=null)},g.cancelToken&&g.cancelToken.subscribe(B),g.signal&&(g.signal.aborted?B():g.signal.addEventListener("abort",B)));const fe=ob(g.url);if(fe&&Dn.protocols.indexOf(fe)===-1){d(new Ie("Unsupported protocol "+fe+":",Ie.ERR_BAD_REQUEST,r));return}I.send(x||null)})},bb=(r,c)=>{const{length:m}=r=r?r.filter(Boolean):[];if(c||m){let d=new AbortController,g;const x=function(E){if(!g){g=!0,w();const B=E instanceof Error?E:this.reason;d.abort(B instanceof Ie?B:new Ir(B instanceof Error?B.message:B))}};let S=c&&setTimeout(()=>{S=null,x(new Ie(`timeout of ${c}ms exceeded`,Ie.ETIMEDOUT))},c);const w=()=>{r&&(S&&clearTimeout(S),S=null,r.forEach(E=>{E.unsubscribe?E.unsubscribe(x):E.removeEventListener("abort",x)}),r=null)};r.forEach(E=>E.addEventListener("abort",x));const{signal:z}=d;return z.unsubscribe=()=>ee.asap(w),z}},xb=function*(r,c){let m=r.byteLength;if(m<c){yield r;return}let d=0,g;for(;d<m;)g=d+c,yield r.slice(d,g),d=g},vb=async function*(r,c){for await(const m of Sb(r))yield*xb(m,c)},Sb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const c=r.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},gp=(r,c,m,d)=>{const g=vb(r,c);let x=0,S,w=z=>{S||(S=!0,d&&d(z))};return new ReadableStream({async pull(z){try{const{done:E,value:B}=await g.next();if(E){w(),z.close();return}let _=B.byteLength;if(m){let $=x+=_;m($)}z.enqueue(new Uint8Array(B))}catch(E){throw w(E),E}},cancel(z){return w(z),g.return()}},{highWaterMark:2})},bp=64*1024,{isFunction:po}=ee,jb=(({Request:r,Response:c})=>({Request:r,Response:c}))(ee.global),{ReadableStream:xp,TextEncoder:vp}=ee.global,Sp=(r,...c)=>{try{return!!r(...c)}catch{return!1}},wb=r=>{r=ee.merge.call({skipUndefined:!0},jb,r);const{fetch:c,Request:m,Response:d}=r,g=c?po(c):typeof fetch=="function",x=po(m),S=po(d);if(!g)return!1;const w=g&&po(xp),z=g&&(typeof vp=="function"?(Z=>oe=>Z.encode(oe))(new vp):async Z=>new Uint8Array(await new m(Z).arrayBuffer())),E=x&&w&&Sp(()=>{let Z=!1;const oe=new m(Dn.origin,{body:new xp,method:"POST",get duplex(){return Z=!0,"half"}}).headers.has("Content-Type");return Z&&!oe}),B=S&&w&&Sp(()=>ee.isReadableStream(new d("").body)),_={stream:B&&(Z=>Z.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(Z=>{!_[Z]&&(_[Z]=(oe,I)=>{let ce=oe&&oe[Z];if(ce)return ce.call(oe);throw new Ie(`Response type '${Z}' is not supported`,Ie.ERR_NOT_SUPPORT,I)})});const $=async Z=>{if(Z==null)return 0;if(ee.isBlob(Z))return Z.size;if(ee.isSpecCompliantForm(Z))return(await new m(Dn.origin,{method:"POST",body:Z}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(Z)||ee.isArrayBuffer(Z))return Z.byteLength;if(ee.isURLSearchParams(Z)&&(Z=Z+""),ee.isString(Z))return(await z(Z)).byteLength},be=async(Z,oe)=>{const I=ee.toFiniteNumber(Z.getContentLength());return I??$(oe)};return async Z=>{let{url:oe,method:I,data:ce,signal:fe,cancelToken:Ne,timeout:he,onDownloadProgress:Oe,onUploadProgress:Se,responseType:ve,headers:Pe,withCredentials:Ze="same-origin",fetchOptions:ft}=ny(Z),Qe=c||fetch;ve=ve?(ve+"").toLowerCase():"text";let We=bb([fe,Ne&&Ne.toAbortSignal()],he),ut=null;const _e=We&&We.unsubscribe&&(()=>{We.unsubscribe()});let He;try{if(Se&&E&&I!=="get"&&I!=="head"&&(He=await be(Pe,ce))!==0){let W=new m(oe,{method:"POST",body:ce,duplex:"half"}),ie;if(ee.isFormData(ce)&&(ie=W.headers.get("content-type"))&&Pe.setContentType(ie),W.body){const[Q,we]=mp(He,jo(pp(Se)));ce=gp(W.body,bp,Q,we)}}ee.isString(Ze)||(Ze=Ze?"include":"omit");const Y=x&&"credentials"in m.prototype,ue={...ft,signal:We,method:I.toUpperCase(),headers:Pe.normalize().toJSON(),body:ce,duplex:"half",credentials:Y?Ze:void 0};ut=x&&new m(oe,ue);let ge=await(x?Qe(ut,ft):Qe(oe,ue));const Ee=B&&(ve==="stream"||ve==="response");if(B&&(Oe||Ee&&_e)){const W={};["status","statusText","headers"].forEach(Le=>{W[Le]=ge[Le]});const ie=ee.toFiniteNumber(ge.headers.get("content-length")),[Q,we]=Oe&&mp(ie,jo(pp(Oe),!0))||[];ge=new d(gp(ge.body,bp,Q,()=>{we&&we(),_e&&_e()}),W)}ve=ve||"text";let G=await _[ee.findKey(_,ve)||"text"](ge,Z);return!Ee&&_e&&_e(),await new Promise((W,ie)=>{ey(W,ie,{data:G,headers:Qn.from(ge.headers),status:ge.status,statusText:ge.statusText,config:Z,request:ut})})}catch(Y){throw _e&&_e(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,Z,ut,Y&&Y.response),{cause:Y.cause||Y}):Ie.from(Y,Y&&Y.code,Z,ut,Y&&Y.response)}}},Nb=new Map,ay=r=>{let c=r&&r.env||{};const{fetch:m,Request:d,Response:g}=c,x=[d,g,m];let S=x.length,w=S,z,E,B=Nb;for(;w--;)z=x[w],E=B.get(z),E===void 0&&B.set(z,E=w?new Map:wb(c)),B=E;return E};ay();const Pf={http:Kg,xhr:gb,fetch:{get:ay}};ee.forEach(Pf,(r,c)=>{if(r){try{Object.defineProperty(r,"name",{value:c})}catch{}Object.defineProperty(r,"adapterName",{value:c})}});const jp=r=>`- ${r}`,_b=r=>ee.isFunction(r)||r===null||r===!1;function Eb(r,c){r=ee.isArray(r)?r:[r];const{length:m}=r;let d,g;const x={};for(let S=0;S<m;S++){d=r[S];let w;if(g=d,!_b(d)&&(g=Pf[(w=String(d)).toLowerCase()],g===void 0))throw new Ie(`Unknown adapter '${w}'`);if(g&&(ee.isFunction(g)||(g=g.get(c))))break;x[w||"#"+S]=g}if(!g){const S=Object.entries(x).map(([z,E])=>`adapter ${z} `+(E===!1?"is not supported by the environment":"is not available in the build"));let w=m?S.length>1?`since :
`+S.map(jp).join(`
`):" "+jp(S[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return g}const ly={getAdapter:Eb,adapters:Pf};function kf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ir(null,r)}function wp(r){return kf(r),r.headers=Qn.from(r.headers),r.data=Mf.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ly.getAdapter(r.adapter||Wr.adapter,r)(r).then(function(d){return kf(r),d.data=Mf.call(r,r.transformResponse,d),d.headers=Qn.from(d.headers),d},function(d){return Ip(d)||(kf(r),d&&d.response&&(d.response.data=Mf.call(r,r.transformResponse,d.response),d.response.headers=Qn.from(d.response.headers))),Promise.reject(d)})}const sy="1.13.5",To={};["object","boolean","number","function","string","symbol"].forEach((r,c)=>{To[r]=function(d){return typeof d===r||"a"+(c<1?"n ":" ")+r}});const Np={};To.transitional=function(c,m,d){function g(x,S){return"[Axios v"+sy+"] Transitional option '"+x+"'"+S+(d?". "+d:"")}return(x,S,w)=>{if(c===!1)throw new Ie(g(S," has been removed"+(m?" in "+m:"")),Ie.ERR_DEPRECATED);return m&&!Np[S]&&(Np[S]=!0,console.warn(g(S," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(x,S,w):!0}};To.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function Cb(r,c,m){if(typeof r!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const d=Object.keys(r);let g=d.length;for(;g-- >0;){const x=d[g],S=c[x];if(S){const w=r[x],z=w===void 0||S(w,x,r);if(z!==!0)throw new Ie("option "+x+" must be "+z,Ie.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Ie("Unknown option "+x,Ie.ERR_BAD_OPTION)}}const xo={assertOptions:Cb,validators:To},ha=xo.validators;let Us=class{constructor(c){this.defaults=c||{},this.interceptors={request:new dp,response:new dp}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const x=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?x&&!String(d.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+x):d.stack=x}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Ls(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:x}=m;d!==void 0&&xo.assertOptions(d,{silentJSONParsing:ha.transitional(ha.boolean),forcedJSONParsing:ha.transitional(ha.boolean),clarifyTimeoutError:ha.transitional(ha.boolean),legacyInterceptorReqResOrdering:ha.transitional(ha.boolean)},!1),g!=null&&(ee.isFunction(g)?m.paramsSerializer={serialize:g}:xo.assertOptions(g,{encode:ha.function,serialize:ha.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),xo.assertOptions(m,{baseUrl:ha.spelling("baseURL"),withXsrfToken:ha.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=x&&ee.merge(x.common,x[m.method]);x&&ee.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete x[Z]}),m.headers=Qn.concat(S,x);const w=[];let z=!0;this.interceptors.request.forEach(function(oe){if(typeof oe.runWhen=="function"&&oe.runWhen(m)===!1)return;z=z&&oe.synchronous;const I=m.transitional||$f;I&&I.legacyInterceptorReqResOrdering?w.unshift(oe.fulfilled,oe.rejected):w.push(oe.fulfilled,oe.rejected)});const E=[];this.interceptors.response.forEach(function(oe){E.push(oe.fulfilled,oe.rejected)});let B,_=0,$;if(!z){const Z=[wp.bind(this),void 0];for(Z.unshift(...w),Z.push(...E),$=Z.length,B=Promise.resolve(m);_<$;)B=B.then(Z[_++],Z[_++]);return B}$=w.length;let be=m;for(;_<$;){const Z=w[_++],oe=w[_++];try{be=Z(be)}catch(I){oe.call(this,I);break}}try{B=wp.call(this,be)}catch(Z){return Promise.reject(Z)}for(_=0,$=E.length;_<$;)B=B.then(E[_++],E[_++]);return B}getUri(c){c=Ls(this.defaults,c);const m=ty(c.baseURL,c.url,c.allowAbsoluteUrls);return Pp(m,c.params,c.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(c){Us.prototype[c]=function(m,d){return this.request(Ls(d||{},{method:c,url:m,data:(d||{}).data}))}});ee.forEach(["post","put","patch"],function(c){function m(d){return function(x,S,w){return this.request(Ls(w||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:x,data:S}))}}Us.prototype[c]=m(),Us.prototype[c+"Form"]=m(!0)});let Ab=class iy{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(x){m=x});const d=this;this.promise.then(g=>{if(!d._listeners)return;let x=d._listeners.length;for(;x-- >0;)d._listeners[x](g);d._listeners=null}),this.promise.then=g=>{let x;const S=new Promise(w=>{d.subscribe(w),x=w}).then(g);return S.cancel=function(){d.unsubscribe(x)},S},c(function(x,S,w){d.reason||(d.reason=new Ir(x,S,w),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new iy(function(g){c=g}),cancel:c}}};function Ob(r){return function(m){return r.apply(null,m)}}function Db(r){return ee.isObject(r)&&r.isAxiosError===!0}const Lf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lf).forEach(([r,c])=>{Lf[c]=r});function ry(r){const c=new Us(r),m=Lp(Us.prototype.request,c);return ee.extend(m,Us.prototype,c,{allOwnKeys:!0}),ee.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return ry(Ls(r,g))},m}const sn=ry(Wr);sn.Axios=Us;sn.CanceledError=Ir;sn.CancelToken=Ab;sn.isCancel=Ip;sn.VERSION=sy;sn.toFormData=Do;sn.AxiosError=Ie;sn.Cancel=sn.CanceledError;sn.all=function(c){return Promise.all(c)};sn.spread=Ob;sn.isAxiosError=Db;sn.mergeConfig=Ls;sn.AxiosHeaders=Qn;sn.formToJSON=r=>Wp(ee.isHTMLForm(r)?new FormData(r):r);sn.getAdapter=ly.getAdapter;sn.HttpStatusCode=Lf;sn.default=sn;const{Axios:fv,AxiosError:dv,CanceledError:hv,isCancel:mv,CancelToken:pv,VERSION:yv,all:gv,Cancel:bv,isAxiosError:xv,spread:vv,toFormData:Sv,AxiosHeaders:jv,HttpStatusCode:wv,formToJSON:Nv,getAdapter:_v,mergeConfig:Ev}=sn,St=sn.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});St.interceptors.request.use(r=>{const c=ls.getState().token;return c&&(r.headers.Authorization=`Token ${c}`),r.data instanceof FormData&&delete r.headers["Content-Type"],r});St.interceptors.response.use(r=>r,r=>(r.response?.status===401&&ls.getState().logout(),Promise.reject(r)));const Bi={login:(r,c)=>St.post("/auth/login/",{email:r,password:c}),register:r=>St.post("/auth/register/",r),logout:()=>St.post("/auth/logout/"),me:()=>St.get("/auth/me/"),deleteAccount:()=>St.post("/auth/me/delete/")},Yr={list:()=>St.get("/projects/"),get:r=>St.get(`/projects/${r}/`),create:r=>St.post("/projects/",r),update:(r,c)=>St.patch(`/projects/${r}/`,c),delete:r=>St.delete(`/projects/${r}/`)},In={list:()=>St.get("/lenses/"),get:r=>St.get(`/lenses/${r}/`),create:r=>St.post("/lenses/",r),update:(r,c)=>St.patch(`/lenses/${r}/`,c),delete:r=>St.delete(`/lenses/${r}/`),addColor:(r,c)=>St.post(`/lenses/${r}/colors/`,c),updateColor:(r,c,m)=>St.patch(`/lenses/${r}/colors/${c}/`,m),removeColor:(r,c)=>St.delete(`/lenses/${r}/colors/${c}/`)},Tb={get:()=>St.get("/library/")},ln={list:r=>St.get("/documents/",{params:r}),get:r=>St.get(`/documents/${r}/`),create:r=>St.post("/documents/",r),createWithFile:r=>St.post("/documents/",r),getPdf:r=>St.get(`/documents/${r}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(r,c)=>St.post(`/documents/${r}/upload_pdf/`,c),update:(r,c)=>St.patch(`/documents/${r}/`,c),delete:r=>St.delete(`/documents/${r}/`),highlights:r=>St.get(`/documents/${r}/highlights/`),createHighlight:(r,c)=>St.post(`/documents/${r}/highlights/`,c),updateHighlight:(r,c,m)=>St.patch(`/documents/${r}/highlights/${c}/`,m),deleteHighlight:(r,c)=>St.delete(`/documents/${r}/highlights/${c}/`)},Mb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Xe={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},ya={default:"border-slate-200"},Hs="min-h-screen p-6",uy="bg-white border-b border-slate-200",Gr="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",Qr="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",_p="w-px h-6 bg-slate-200",Ha=Mb;function kb(){const r=bl(),c=ls(_=>_.setToken),[m,d]=U.useState(""),[g,x]=U.useState(""),[S,w]=U.useState(""),[z,E]=U.useState(!1),B=async _=>{_.preventDefault(),w(""),E(!0);try{const{data:$}=await Bi.login(m,g);c($.token),r("/",{replace:!0})}catch($){w($.response?.data?.detail||$.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return o.jsx("div",{className:`${Hs} ${Ha.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Xe.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Xe.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:_=>d(_.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Xe.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:_=>x(_.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:z,className:Gr,children:z?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Xe.muted}`,children:["No account? ",o.jsx(Hp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function zb(){const r=bl(),c=ls(_=>_.setToken),[m,d]=U.useState(""),[g,x]=U.useState(""),[S,w]=U.useState(""),[z,E]=U.useState(!1),B=async _=>{_.preventDefault(),w(""),E(!0);try{await Bi.register({email:m,password:g});const{data:$}=await Bi.login(m,g);c($.token),r("/",{replace:!0})}catch($){const be=$.response?.data;w(be?.email?.[0]||be?.password?.[0]||"Registration failed")}finally{E(!1)}};return o.jsx("div",{className:`${Hs} ${Ha.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Xe.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:B,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Xe.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:_=>d(_.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Xe.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:_=>x(_.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:z,className:Gr,children:z?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Xe.muted}`,children:["Already have an account? ",o.jsx(Hp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const oy=(...r)=>r.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const Rb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Bb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const Ep=r=>{const c=Bb(r);return c.charAt(0).toUpperCase()+c.slice(1)};var qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ub=r=>{for(const c in r)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const Hb=U.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:x,iconNode:S,...w},z)=>U.createElement("svg",{ref:z,...qb,width:c,height:c,stroke:r,strokeWidth:d?Number(m)*24/Number(c):m,className:oy("lucide",g),...!x&&!Ub(w)&&{"aria-hidden":"true"},...w},[...S.map(([E,B])=>U.createElement(E,B)),...Array.isArray(x)?x:[x]]));const Ht=(r,c)=>{const m=U.forwardRef(({className:d,...g},x)=>U.createElement(Hb,{ref:x,iconNode:c,className:oy(`lucide-${Rb(Ep(r))}`,`lucide-${r}`,d),...g}));return m.displayName=Ep(r),m};const Lb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wf=Ht("arrow-left",Lb);const Kb=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Qb=Ht("bookmark",Kb);const Yb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Xb=Ht("braces",Yb);const Gb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vb=Ht("chart-column",Gb);const Fb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vr=Ht("check",Fb);const Zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xr=Ht("chevron-down",Zb);const $b=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fr=Ht("chevron-right",$b);const Jb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],If=Ht("copy",Jb);const Pb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Wb=Ht("file-down",Pb);const Ib=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],ex=Ht("file-stack",Ib);const tx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Ht("file-text",tx);const nx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Kf=Ht("folder-open",nx);const ax=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pa=Ht("loader-circle",ax);const lx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sx=Ht("log-out",lx);const ix=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cy=Ht("palette",ix);const rx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],ux=Ht("panel-right-close",rx);const ox=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],cx=Ht("panel-right-open",ox);const fx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mo=Ht("pencil",fx);const dx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cp=Ht("plus",dx);const hx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zr=Ht("search",hx);const mx=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],px=Ht("settings-2",mx);const yx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ss=Ht("trash-2",yx);const gx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wo=Ht("upload",gx);const bx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=Ht("x",bx);const xx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],vx=Ht("zoom-in",xx);const Sx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jx=Ht("zoom-out",Sx);function ko({showBack:r=!1,backTo:c="/app"}){const m=bl(),d=R0(),g=ls(E=>E.logout),{data:x}=zn({queryKey:["me"],queryFn:async()=>(await Bi.me()).data}),S=(x?.email?.[0]||x?.username?.[0]||"?").toUpperCase(),w=()=>{g(),m("/login",{replace:!0})},z=(E,B)=>{const _=d.pathname===E||E==="/app"&&d.pathname==="/app";return o.jsx("button",{type:"button",onClick:()=>m(E),className:`text-sm font-medium px-3 py-1.5 rounded-lg transition-colors ${_?"text-slate-900 bg-slate-100":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"}`,style:{fontFamily:"'DM Sans', sans-serif"},children:B})};return o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between shrink-0 sticky top-0 z-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("button",{type:"button",onClick:()=>m(c),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back",children:o.jsx(Wf,{className:"w-4 h-4"})}),o.jsxs("button",{type:"button",onClick:()=>m("/app"),className:"flex items-center gap-2 hover:opacity-90 transition-opacity",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[z("/app","Projects"),z("/app/library","Library"),o.jsx("button",{type:"button",onClick:w,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(sx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>m("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:S})]})]})}const Ap=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],ki=5,Op=3;function fy(){const r=Ui(),[c,m]=U.useState(0),[d,g]=U.useState(""),[x,S]=U.useState([]),[w,z]=U.useState(null),[E,B]=U.useState(""),[_,$]=U.useState(null),[be,Z]=U.useState(null),[oe,I]=U.useState(null),[ce,fe]=U.useState(null),[Ne,he]=U.useState(""),[Oe,Se]=U.useState(null),[ve,Pe]=U.useState(""),{data:Ze=[]}=zn({queryKey:["lenses"],queryFn:async()=>{const{data:Q}=await In.list();return Q}}),ft=Ze.filter(Q=>!Q.is_system),Qe=()=>{m(0),g(""),S([]),z(null),B("")},We=On({mutationFn:Q=>In.create(Q),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Qe()}}),ut=On({mutationFn:Q=>In.delete(Q),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),$(null),Z(null)},onError:Q=>{const we=Q?.response?.data?.detail??"This lens cannot be deleted because it is linked to one or more PDFs. Remove the lens from those documents first.";Z(we)}}),_e=On({mutationFn:({lensId:Q,data:we})=>In.addColor(Q,we),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),I(null),fe(null),he("")}}),He=On({mutationFn:({lensId:Q,colorId:we})=>In.removeColor(Q,we),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),Y=On({mutationFn:({lensId:Q,colorId:we,displayName:Le})=>In.updateColor(Q,we,{display_name:Le}),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Se(null),Pe("")}}),ue=()=>{!oe||!ce||!Ne.trim()||_e.mutate({lensId:oe,data:{key:`custom_${Date.now()}`,display_name:Ne.trim(),hex:ce}})},ge=new Set(x.map(Q=>Q.hex.toLowerCase())),Ee=Ap.filter(Q=>!ge.has(Q.toLowerCase())),G=()=>{!w||!E.trim()||(S(Q=>[...Q,{key:`color_${Date.now()}_${Q.length}`,display_name:E.trim(),hex:w}]),z(null),B(""))},W=Q=>{S(we=>we.filter((Le,Ve)=>Ve!==Q))},ie=()=>{!d.trim()||x.length<1||We.mutate({name:d.trim(),colors:x})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(cy,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",ki," colour categories. You can create up to ",Op," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:Ze.map(Q=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:Q.name}),Q.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!Q.is_system&&o.jsx("button",{type:"button",onClick:()=>$(Q),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(Q.colors??[]).map(we=>{const Le=Oe?.lensId===Q.id&&Oe?.colorId===we.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:we.hex}}),Le?o.jsx("input",{type:"text",value:ve,onChange:Ve=>Pe(Ve.target.value),onBlur:()=>{const Ve=ve.trim();Ve&&Ve!==we.display_name?Y.mutate({lensId:Q.id,colorId:we.id,displayName:Ve}):(Se(null),Pe(""))},onKeyDown:Ve=>{if(Ve.key==="Enter"){const yt=ve.trim();yt&&Y.mutate({lensId:Q.id,colorId:we.id,displayName:yt})}Ve.key==="Escape"&&(Se(null),Pe(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{Q.is_system||(Se({lensId:Q.id,colorId:we.id}),Pe(we.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${Q.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:we.display_name}),!Q.is_system&&(Q.colors?.length??0)>1&&!Le&&o.jsx("button",{type:"button",onClick:Ve=>{Ve.stopPropagation(),He.mutate({lensId:Q.id,colorId:we.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(as,{className:"w-3 h-3",strokeWidth:2.5})})]},we.id)}),!Q.is_system&&(Q.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!Q.is_system&&(Q.colors?.length??0)<ki&&o.jsx("button",{type:"button",onClick:()=>{I(Q.id),fe(null),he("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(Cp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},Q.id))}),ft.length<Op&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(Cp,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!We.isPending&&Qe(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:Q=>Q.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:Q=>g(Q.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:Q=>{Q.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:Qe,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",x.length,"/",ki,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",ki," colours and give each a label."]}),x.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:x.map((Q,we)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:Q.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:Q.display_name}),o.jsx("button",{type:"button",onClick:()=>W(we),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]},we))}),x.length<ki&&o.jsx(o.Fragment,{children:w?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:w}}),o.jsx("input",{type:"text",value:E,onChange:Q=>B(Q.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:Q=>{Q.key==="Enter"&&G()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:G,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",x.length+1," of ",ki]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map(Q=>o.jsx("button",{type:"button",onClick:()=>{z(Q),B("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:Q}},Q))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),z(null),B("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:ie,disabled:x.length<1||We.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:We.isPending?"Creating":"Create lens"})]})]})]})}),oe&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!_e.isPending&&I(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:Q=>Q.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ce?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ce}}),o.jsx("input",{type:"text",value:Ne,onChange:Q=>he(Q.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:Q=>{Q.key==="Enter"&&ue()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const Q=Ze.find(Le=>Le.id===oe),we=new Set((Q?.colors??[]).map(Le=>Le.hex.toLowerCase()));return Ap.filter(Le=>!we.has(Le.toLowerCase()))})().map(Q=>o.jsx("button",{type:"button",onClick:()=>fe(Q),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:Q}},Q))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{ce?(fe(null),he("")):I(null)},disabled:_e.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ce?"Back":"Cancel"}),ce&&o.jsx("button",{type:"button",onClick:ue,disabled:!Ne.trim()||_e.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:_e.isPending?"Adding":"Add"})]})]})}),be&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>Z(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Q=>Q.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Cannot delete lens"}),o.jsx("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:be}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",onClick:()=>{Z(null),$(null)},className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-slate-800 hover:bg-slate-700",children:"OK"})})]})}),_&&!be&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ut.isPending&&$(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Q=>Q.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:_.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>$(null),disabled:ut.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>ut.mutate(_.id),disabled:ut.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:ut.isPending?"Deleting":"Delete lens"})]})]})})]})}const yl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function wx(r){if(!r)return"";const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:x<24?`${x} hour${x===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function Nx({project:r,onOpen:c}){const[m,d]=U.useState(!1),g=r.document_count??0,x=r.annotation_count??0,S=r.color&&yl.includes(r.color)?r.color:yl[r.id%yl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(r.id),role:"button",tabIndex:0,onKeyDown:w=>w.key==="Enter"&&c(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:wx(r.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:x>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[x," note",x!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Fr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function _x({onClose:r,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,x]=U.useState(""),[S,w]=U.useState(yl[d%yl.length]),z=()=>{const E=g.trim();E&&(c(E,S),x(""),w(yl[d%yl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:E=>x(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:yl.map(E=>o.jsx("button",{type:"button",onClick:()=>w(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:S===E?"#1e293b":"transparent",outline:S===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:z,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function Ex(){const r=bl(),c=Ui(),[m,d]=U.useState(!1),[g,x]=U.useState(!1),[S,w]=U.useState(""),{data:z}=zn({queryKey:["me"],queryFn:async()=>{const{data:ce}=await Bi.me();return ce}}),{data:E,isLoading:B}=zn({queryKey:["projects"],queryFn:async()=>{const{data:ce}=await Yr.list();return ce}}),_=Array.isArray(E)?E:E?.results??[],$=_.filter(ce=>ce.name.toLowerCase().includes(S.toLowerCase())),be=_.reduce((ce,fe)=>ce+(fe.document_count??0),0),Z=_.reduce((ce,fe)=>ce+(fe.annotation_count??0),0),oe=On({mutationFn:({name:ce,color:fe})=>Yr.create({name:ce.trim(),color:fe}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),d(!1)}}),I=(ce,fe)=>{oe.mutate({name:ce,color:fe})};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsx(ko,{}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>d(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>r("/app/library"),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Zr,{className:"w-4 h-4"}),"Library"]}),o.jsxs("button",{type:"button",onClick:()=>x(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(cy,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[_.length," project",_.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[be," document",be!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[Z," annotation",Z!==1?"s":""]})]}),_.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:S,onChange:ce=>w(ce.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),B?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(pa,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:$.map(ce=>o.jsx(Nx,{project:ce,onOpen:fe=>r(`/project/${fe}`)},ce.id))}),!B&&$.length===0&&S&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',S,'"']}),!B&&_.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),m&&o.jsx(_x,{onClose:()=>d(!1),onCreate:I,isPending:oe.isPending,defaultColorIndex:_.length%yl.length}),g&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>x(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:ce=>ce.stopPropagation(),children:o.jsx(fy,{})})})]})}var vo={exports:{}},Cx=vo.exports,Dp;function Ax(){return Dp||(Dp=1,(function(r,c){((m,d)=>{r.exports=d()})(Cx,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var x=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:B0,S=Object.keys,w=Array.isArray;function z(l,u){return typeof u=="object"&&S(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||x.Promise||(x.Promise=Promise);var E=Object.getPrototypeOf,B={}.hasOwnProperty;function _(l,u){return B.call(l,u)}function $(l,u){typeof u=="function"&&(u=u(E(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(u).forEach(function(f){Z(l,f,u[f])})}var be=Object.defineProperty;function Z(l,u,f,h){be(l,u,z(f&&_(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function oe(l){return{from:function(u){return l.prototype=Object.create(u.prototype),Z(l.prototype,"constructor",l),{extend:$.bind(null,l.prototype)}}}}var I=Object.getOwnPropertyDescriptor,ce=[].slice;function fe(l,u,f){return ce.call(l,u,f)}function Ne(l,u){return u(l)}function he(l){if(!l)throw new Error("Assertion Failed")}function Oe(l){x.setImmediate?setImmediate(l):setTimeout(l,0)}function Se(l,u){if(typeof u=="string"&&_(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=Se(l,u[h]);f.push(b)}return f}var j,N=u.indexOf(".");return N===-1||(j=l[u.substr(0,N)])==null?void 0:Se(j,u.substr(N+1))}function ve(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){he(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)ve(l,u[h],f[h])}else{var b,j,N=u.indexOf(".");N!==-1?(b=u.substr(0,N),(N=u.substr(N+1))===""?f===void 0?w(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:ve(j=(j=l[b])&&_(l,b)?j:l[b]={},N,f)):f===void 0?w(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Pe(l){var u,f={};for(u in l)_(l,u)&&(f[u]=l[u]);return f}var Ze=[].concat;function ft(l){return Ze.apply([],l)}var ie="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ft([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return x[l]}),Qe=new Set(ie.map(function(l){return x[l]})),We=null;function ut(l){return We=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=We.get(f);if(h)return h;if(w(f)){h=[],We.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(Qe.has(f.constructor))h=f;else{var j,N=E(f);for(j in h=N===Object.prototype?{}:Object.create(N),We.set(f,h),f)_(f,j)&&(h[j]=u(f[j]))}return h})(l),We=null,l}var _e={}.toString;function He(l){return _e.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof Y=="symbol"?function(l){var u;return l!=null&&(u=l[Y])&&u.apply(l)}:function(){return null};function ge(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var Ee={};function G(l){var u,f,h,y;if(arguments.length===1){if(w(l))return l.slice();if(this===Ee&&typeof l=="string")return[l];if(y=ue(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var W=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ie=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ie),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function we(l,u){this.name=l,this.message=u}function Le(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function Ve(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Le(l,u)}function yt(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Le(l,this.failures)}oe(we).from(Error).extend({toString:function(){return this.name+": "+this.message}}),oe(Ve).from(we),oe(yt).from(we);var Gt=Et.reduce(function(l,u){return l[u]=u+"Error",l},{}),dn=we,je=Et.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Q[u]||f,this.inner=null)}return oe(h).from(dn),l[u]=h,l},{}),dt=(je.Syntax=SyntaxError,je.Type=TypeError,je.Range=RangeError,ie.reduce(function(l,u){return l[u+"Error"]=je[u],l},{}));ie=Et.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=je[u]),l},{});function Fe(){}function ht(l){return l}function Vt(l,u){return l==null||l===ht?u:function(f){return u(l(f))}}function At(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Yn(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?At(h,this.onsuccess):h),y&&(this.onerror=this.onerror?At(y,this.onerror):y),b!==void 0?b:f}}function ea(l,u){return l===Fe?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?At(f,this.onsuccess):f),h&&(this.onerror=this.onerror?At(h,this.onerror):h)}}function ye(l,u){return l===Fe?u:function(y){var h=l.apply(this,arguments),y=(z(y,h),this.onsuccess),b=this.onerror,j=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?At(y,this.onsuccess):y),b&&(this.onerror=this.onerror?At(b,this.onerror):b),h===void 0?j===void 0?void 0:j:z(h,j)}}function st(l,u){return l===Fe?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ne(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}ie.ModifyError=Ve,ie.DexieError=we,ie.BulkError=yt;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(l){ke=l}var $e={},at=100,vt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[vt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(vt),Et]:[Et,E(Et),Et]),Et=vt[0],Ia=vt[1],Ia=Ia&&Ia.then,Te=Et&&Et.constructor,qe=!!vt[2],gt=function(l,u){is.push([l,u]),Jt&&(queueMicrotask(eu),Jt=!1)},Lt=!0,Jt=!0,hn=[],Pt=[],Wt=ht,xn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},ze=xn,is=[],Ka=0,Ks=[];function De(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=ze;if(typeof l!="function"){if(l!==$e)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ga(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var j=h._lib&&Na();b&&typeof b.then=="function"?f(h,function(N,O){b instanceof De?b._then(N,O):b.then(N,O)}):(h._state=!0,h._value=b,us(h)),j&&ta()}},ga.bind(null,h))}catch(b){ga(h,b)}})(this,l)}var xl={get:function(){var l=ze,u=fs;function f(h,y){var b=this,j=!l.global&&(l!==ze||u!==fs),N=j&&!Tn(),O=new De(function(L,D){Qa(b,new rs(Qs(h,l,j,N),Qs(y,l,j,N),L,D,l))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return f.prototype=$e,f},set:function(l){Z(this,"then",l&&l.prototype===$e?xl:{get:function(){return l},set:xl.set})}};function rs(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ga(l,u){var f,h;Pt.push(u),l._state===null&&(f=l._lib&&Na(),u=Wt(u),l._state=!1,l._value=u,h=l,hn.some(function(y){return y._value===h._value})||hn.push(h),us(l),f)&&ta()}function us(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Qa(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Ka===0&&(++Ka,gt(function(){--Ka==0&&Li()},[]))}function Qa(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Ka,gt(zo,[f,l,u])}}function zo(l,u,f){try{var h,y=u._value;!u._state&&Pt.length&&(Pt=[]),h=ke&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||Pt.indexOf(y)!==-1||(b=>{for(var j=hn.length;j;)if(hn[--j]._value===b._value)return hn.splice(j,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Ka==0&&Li(),--f.psd.ref||f.psd.finalize()}}function eu(){Xn(xn,function(){Na()&&ta()})}function Na(){var l=Lt;return Jt=Lt=!1,l}function ta(){var l,u,f;do for(;0<is.length;)for(l=is,is=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<is.length);Jt=Lt=!0}function Li(){for(var l=hn,u=(hn=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Ks.slice(0)),f=u.length;f;)u[--f]()}function os(l){return new De($e,!1,l)}function Bt(l,u){var f=ze;return function(){var h=Na(),y=ze;try{return Ea(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Ea(y,!1),h&&ta()}}}$(De.prototype,{then:xl,_then:function(l,u){Qa(this,new rs(null,null,l,u,ze))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:os)(h)}):this.then(null,function(h){return(h&&h.name===u?f:os)(h)}))},finally:function(l){return this.then(function(u){return De.resolve(l()).then(function(){return u})},function(u){return De.resolve(l()).then(function(){return os(u)})})},timeout:function(l,u){var f=this;return l<1/0?new De(function(h,y){var b=setTimeout(function(){return y(new je.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Z(De.prototype,Symbol.toStringTag,"Dexie.Promise"),xn.env=Qi(),$(De,{all:function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return De.resolve(y).then(function(j){l[b]=j,--h||u(l)},f)})})},resolve:function(l){return l instanceof De?l:l&&typeof l.then=="function"?new De(function(u,f){l.then(u,f)}):new De($e,!0,l)},reject:os,race:function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.map(function(h){return De.resolve(h).then(u,f)})})},PSD:{get:function(){return ze},set:function(l){return ze=l}},totalEchoes:{get:function(){return fs}},newPSD:Ut,usePSD:Xn,scheduler:{get:function(){return gt},set:function(l){gt=l}},rejectionMapper:{get:function(){return Wt},set:function(l){Wt=l}},follow:function(l,u){return new De(function(f,h){return Ut(function(y,b){var j=ze;j.unhandleds=[],j.onunhandled=b,j.finalize=At(function(){var N,O=this;N=function(){O.unhandleds.length===0?y():b(O.unhandleds[0])},Ks.push(function L(){N(),Ks.splice(Ks.indexOf(L),1)}),++Ka,gt(function(){--Ka==0&&Li()},[])},j.finalize),l()},u,f,h)})}}),Te&&(Te.allSettled&&Z(De,"allSettled",function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return De.resolve(y).then(function(j){return h[b]={status:"fulfilled",value:j}},function(j){return h[b]={status:"rejected",reason:j}}).then(function(){return--f||u(h)})})})}),Te.any&&typeof AggregateError<"u"&&Z(De,"any",function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,j){return De.resolve(b).then(function(N){return u(N)},function(N){y[j]=N,--h||f(new AggregateError(y))})})})}),Te.withResolvers)&&(De.withResolvers=Te.withResolvers);var It={awaits:0,echoes:0,id:0},Ki=0,vl=[],cs=0,fs=0,_a=0;function Ut(l,j,f,h){var y=ze,b=Object.create(y),j=(b.parent=y,b.ref=0,b.global=!1,b.id=++_a,xn.env,b.env=qe?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},j&&z(b,j),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Xn(b,l,f,h));return b.ref===0&&b.finalize(),j}function en(){return It.id||(It.id=++Ki),++It.awaits,It.echoes+=at,It.id}function Tn(){return!!It.awaits&&(--It.awaits==0&&(It.id=0),It.echoes=It.awaits*at,!0)}function Sl(l){return It.echoes&&l&&l.constructor===Te?(en(),l.then(function(u){return Tn(),u},function(u){return Tn(),Tt(u)})):l}function Ro(){var l=vl[vl.length-1];vl.pop(),Ea(l,!1)}function Ea(l,u){var f,h,y=ze;(u?!It.echoes||cs++&&l===ze:!cs||--cs&&l===ze)||queueMicrotask(u?(function(b){++fs,It.echoes&&--It.echoes!=0||(It.echoes=It.awaits=It.id=0),vl.push(ze),Ea(b,!0)}).bind(null,l):Ro),l!==ze&&(ze=l,y===xn&&(xn.env=Qi()),qe)&&(f=xn.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(x,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Qi(){var l=x.Promise;return qe?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(x,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Xn(l,u,f,h,y){var b=ze;try{return Ea(l,!0),u(f,h,y)}finally{Ea(b,!1)}}function Qs(l,u,f,h){return typeof l!="function"?l:function(){var y=ze;f&&en(),Ea(u,!0);try{return l.apply(this,arguments)}finally{Ea(y,!1),h&&queueMicrotask(Tn)}}}function Ca(l){Promise===Te&&It.echoes===0?cs===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Ia).indexOf("[native code]")===-1&&(en=Tn=Fe);var Tt=De.reject,Gn="",_n="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tn="String expected.",Ya=[],ds="__dbnames",ba="readonly",Aa="readwrite";function Xa(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Yi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hs(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=ut(u))[l],u}}function tu(){throw je.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(l,u){try{var f=ms(l),h=ms(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=na(l),b=na(u),j=y.length,N=b.length,O=j<N?j:N,L=0;L<O;++L)if(y[L]!==b[L])return y[L]<b[L]?-1:1;return j===N?0:j<N?-1:1;case"Array":for(var D=l,A=u,k=D.length,q=A.length,T=k<q?k:q,M=0;M<T;++M){var X=it(D[M],A[M]);if(X!==0)return X}return k===q?0:k<q?-1:1}}catch{}return NaN}function ms(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=He(l))==="ArrayBuffer")?"binary":u}function na(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function vn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}nu.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(w(f))return g(g([],w(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(w(h))return w(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var jl=nu;function nu(l){this["@@propmod"]=l}function Ys(l,u){for(var f=S(u),h=f.length,y=!1,b=0;b<h;++b){var j=f[b],N=u[j],O=Se(l,j);N instanceof jl?(ve(l,j,N.execute(O)),y=!0):O!==N&&(ve(l,j,N),y=!0)}return y}Nt.prototype._trans=function(l,u,f){var h=this._tx||ze.trans,y=this.name,b=ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(L,D,A){if(A.schema[y])return u(A.idbtrans,A);throw new je.NotFound("Table "+y+" not part of transaction")}var N=Na();try{var O=h&&h.db._novip===this.db._novip?h===ze.trans?h._promise(l,j,f):Ut(function(){return h._promise(l,j,f)},{trans:h,transless:ze.transless||ze}):(function L(D,A,k,q){if(D.idbdb&&(D._state.openComplete||ze.letThrough||D._vip)){var T=D._createTransaction(A,k,D._dbSchema);try{T.create(),D._state.PR1398_maxLoop=3}catch(M){return M.name===Gt.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return L(D,A,k,q)})):Tt(M)}return T._promise(A,function(M,X){return Ut(function(){return ze.trans=T,q(M,X,T)})}).then(function(M){if(A==="readwrite")try{T.idbtrans.commit()}catch{}return A==="readonly"?M:T._completion.then(function(){return M})})}if(D._state.openComplete)return Tt(new je.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return Tt(new je.DatabaseClosed);D.open().catch(Fe)}return D._state.dbReadyPromise.then(function(){return L(D,A,k,q)})})(this.db,l,[this.name],j);return b&&(O._consoleTask=b,O=O.catch(function(L){return console.trace(L),Tt(L)})),O}finally{N&&ta()}},Nt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Tt(new je.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(w(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=S(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(L){return 0<=N.keyPath.indexOf(L)})){for(var O=0;O<u.length;++O)if(u.indexOf(N.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(N,O){return N.keyPath.length-O.keyPath.length})[0];if(f&&this.db._maxKey!==Gn)return j=f.keyPath.slice(0,u.length),this.where(j).equals(j.map(function(N){return l[N]}));!f&&ke&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(N,O){return it(N,O)===0}var j=u.reduce(function(D,O){var L=D[0],D=D[1],A=h[O],k=l[O];return[L||A,L||!A?Xa(D,A&&A.multi?function(q){return q=Se(q,O),w(q)&&q.some(function(T){return y(k,T)})}:function(q){return y(k,Se(q,O))}):D]},[null,null]),b=j[0],j=j[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(j):f?this.filter(j):this.where(u).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,w(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof tu&&(l=(j=>{var N=D,O=j;if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function L(){this.constructor=N}function D(){return j!==null&&j.apply(this,arguments)||this}return m(N,O),N.prototype=O===null?Object.create(O):(L.prototype=O.prototype,new L),Object.defineProperty(D.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),D.prototype.table=function(){return f},D})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(j){return h.add(j)});function b(j){if(!j)return j;var N,O=Object.create(l.prototype);for(N in j)if(!h.has(N))try{O[N]=j[N]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){z(this,l)})},Nt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=hs(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:u!=null?[u]:null,values:[j]})}).then(function(N){return N.numFailures?De.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{ve(l,b,N)}catch{}return N})},Nt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var j=b??{};return Ys(j,u),h&&ve(j,h,l),f.core.mutate({trans:y,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(N){return N.numFailures?De.reject(N.failures[0]):!!b})})})},Nt.prototype.update=function(l,u){return typeof l!="object"||w(l)?this.where(":id").equals(l).modify(u):(l=Se(l,this.schema.primKey.keyPath))===void 0?Tt(new je.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},Nt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=hs(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[j],keys:u!=null?[u]:null})}).then(function(N){return N.numFailures?De.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{ve(l,b,N)}catch{}return N})},Nt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return vn(u,[l],h)}).then(function(h){return h.numFailures?De.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Yi}).then(function(f){return vn(l,null,f)})}).then(function(u){return u.numFailures?De.reject(u.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,L=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,L=N&&L?l.map(hs(N)):l;return h.core.mutate({trans:j,type:"add",keys:y,values:L,wantResults:b}).then(function(D){var A=D.numFailures,k=D.failures;if(A===0)return b?D.results:D.lastResult;throw new yt("".concat(h.name,".bulkAdd(): ").concat(A," of ").concat(O," operations failed"),k)})})},Nt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,L=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,L=N&&L?l.map(hs(N)):l;return h.core.mutate({trans:j,type:"put",keys:y,values:L,wantResults:b}).then(function(D){var A=D.numFailures,k=D.failures;if(A===0)return b?D.results:D.lastResult;throw new yt("".concat(h.name,".bulkPut(): ").concat(A," of ").concat(O," operations failed"),k)})})},Nt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(j){return j.key}),y=l.map(function(j){return j.changes}),b=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:h,cache:"clone"}).then(function(N){var O=[],L=[],D=(l.forEach(function(A,k){var q=A.key,T=A.changes,M=N[k];if(M){for(var X=0,J=Object.keys(T);X<J.length;X++){var K=J[X],ae=T[K];if(K===u.schema.primKey.keyPath){if(it(ae,q)!==0)throw new je.Constraint("Cannot update primary key in bulkUpdate()")}else ve(M,K,ae)}b.push(k),O.push(q),L.push(M)}}),O.length);return f.mutate({trans:j,type:"put",keys:O,values:L,updates:{keys:h,changeSpecs:y}}).then(function(A){var k=A.numFailures,q=A.failures;if(k===0)return D;for(var T=0,M=Object.keys(q);T<M.length;T++){var X,J=M[T],K=b[Number(J)];K!=null&&(X=q[J],delete q[J],q[K]=X)}throw new yt("".concat(u.name,".bulkUpdate(): ").concat(k," of ").concat(D," operations failed"),q)})})})},Nt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return vn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new yt("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Xi=Nt;function Nt(){}function ps(l){function u(j,N){if(N){for(var O=arguments.length,L=new Array(O-1);--O;)L[O-1]=arguments[O];return f[j].subscribe.apply(null,L),l}if(typeof j=="string")return f[j]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(j,N,O){var L,D;if(typeof j!="object")return N=N||st,D={subscribers:[],fire:O=O||Fe,subscribe:function(A){D.subscribers.indexOf(A)===-1&&(D.subscribers.push(A),D.fire=N(D.fire,A))},unsubscribe:function(A){D.subscribers=D.subscribers.filter(function(k){return k!==A}),D.fire=D.subscribers.reduce(N,O)}},f[j]=u[j]=D;S(L=j).forEach(function(A){var k=L[A];if(w(k))b(A,L[A][0],L[A][1]);else{if(k!=="asap")throw new je.InvalidArgument("Invalid event config");var q=b(A,ht,function(){for(var T=arguments.length,M=new Array(T);T--;)M[T]=arguments[T];q.subscribers.forEach(function(X){Oe(function(){X.apply(null,M)})})})}})}}function pn(l,u){return oe(u).from({prototype:l}),u}function Oa(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Xs(l,u){l.filter=Xa(l.filter,u)}function ys(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Xa(h(),u())}:u,l.justLimit=f&&!h}function xa(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new je.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Gi(l,u,f){var h=xa(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function gs(l,u,f,h){var y,b,j=l.replayFilter?Xa(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(N,O,L){var D,A;j&&!j(O,L,function(k){return O.stop(k)},function(k){return O.fail(k)})||((A=""+(D=O.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(D)),_(y,A))||(y[A]=!0,u(N,O,L))},Promise.all([l.or._iterate(b,f),Ga(Gi(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ga(Gi(l,h,f),Xa(l.algorithm,j),u,!l.keysOnly&&l.valueMapper)}function Ga(l,u,f,h){var y=Bt(h?function(b,j,N){return f(h(b),j,N)}:f);return l.then(function(b){if(b)return b.start(function(){var j=function(){return b.continue()};u&&!u(b,function(N){return j=N},function(N){b.stop(N),j=Fe},function(N){b.fail(N),j=Fe})||y(b.value,b,function(N){return j=N}),j()})})}bt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Tt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},bt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Tt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},bt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Xa(u.algorithm,l)},bt.prototype._iterate=function(l,u){return gs(this._ctx,l,u,this._ctx.table.core)},bt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&z(f,l),u._ctx=f,u},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return gs(u,l,f,u.table.core)})},bt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Oa(y,!0)?b.count({trans:f,query:{index:xa(y,b.schema),range:y.range}}).then(function(j){return Math.min(j,y.limit)}):(h=0,gs(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},bt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(O,L){return L?b(O[f[L]],L-1):O[h]}var j=this._ctx.dir==="next"?1:-1;function N(O,L){return it(b(O,y),b(L,y))*j}return this.toArray(function(O){return O.sort(N)}).then(u)},bt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,j=u._ctx;return j.dir==="next"&&Oa(j,!0)&&0<j.limit?(h=j.valueMapper,y=xa(j,j.table.core.schema),j.table.core.query({trans:f,limit:j.limit,values:!0,query:{index:y,range:j.range}}).then(function(N){return N=N.result,h?N.map(h):N})):(b=[],gs(j,function(N){return b.push(N)},f,j.table.core).then(function(){return b}))},l)},bt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Oa(u)?ys(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ys(u,function(){var f=l;return function(){return--f<0}})),this},bt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ys(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},bt.prototype.until=function(l,u){return Xs(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},bt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},bt.prototype.last=function(l){return this.reverse().first(l)},bt.prototype.filter=function(l){var u;return Xs(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Xa(u.isMatch,l),this},bt.prototype.and=function(l){return this.filter(l)},bt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},bt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},bt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},bt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},bt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Oa(u,!0)&&0<u.limit)return this._read(function(h){var y=xa(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},bt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},bt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},bt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},bt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Xs(this._ctx,function(h){var h=h.primaryKey.toString(),y=_(l,h);return l[h]=!0,!y})),this},bt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(M,X){var J=X.failures;k+=M-X.numFailures;for(var K=0,ae=S(J);K<ae.length;K++){var de=ae[K];A.push(J[de])}}var b=typeof l=="function"?l:function(M){return Ys(M,l)},j=f.table.core,D=j.schema.primaryKey,N=D.outbound,O=D.extractKey,L=200,D=u.db._options.modifyChunkSize,A=(D&&(L=typeof D=="object"?D[j.name]||D["*"]||200:D),[]),k=0,q=[],T=l===Vi;return u.clone().primaryKeys().then(function(M){function X(K){var ae=Math.min(L,M.length-K),de=M.slice(K,K+ae);return(T?Promise.resolve([]):j.getMany({trans:h,keys:de,cache:"immutable"})).then(function(Ce){var Ae=[],me=[],Re=N?[]:null,Me=T?de:[];if(!T)for(var pe=0;pe<ae;++pe){var Be=Ce[pe],et={value:ut(Be),primKey:M[K+pe]};b.call(et,et.value,et)!==!1&&(et.value==null?Me.push(M[K+pe]):N||it(O(Be),O(et.value))===0?(me.push(et.value),N&&Re.push(M[K+pe])):(Me.push(M[K+pe]),Ae.push(et.value)))}return Promise.resolve(0<Ae.length&&j.mutate({trans:h,type:"add",values:Ae}).then(function(rt){for(var Ye in rt.failures)Me.splice(parseInt(Ye),1);y(Ae.length,rt)})).then(function(){return(0<me.length||J&&typeof l=="object")&&j.mutate({trans:h,type:"put",keys:Re,values:me,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<K}).then(function(rt){return y(me.length,rt)})}).then(function(){return(0<Me.length||J&&T)&&j.mutate({trans:h,type:"delete",keys:Me,criteria:J,isAdditionalChunk:0<K}).then(function(rt){return vn(f.table,Me,rt)}).then(function(rt){return y(Me.length,rt)})}).then(function(){return M.length>K+ae&&X(K+L)})})}var J=Oa(f)&&f.limit===1/0&&(typeof l!="function"||T)&&{index:f.index,range:f.range};return X(0).then(function(){if(0<A.length)throw new Ve("Error modifying one or more objects",A,k,q);return M.length})})})},bt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Oa(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Vi):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(O){var N=O.failures,O=O.numFailures;if(O)throw new Ve("Could not delete some values",Object.keys(N).map(function(L){return N[L]}),b-O);return b-O})})})};var Bo=bt;function bt(){}var Vi=function(l,u){return u.value=null};function Fi(l,u){return l<u?-1:l===u?0:1}function qo(l,u){return u<l?-1:l===u?0:1}function Mn(l,u,f){return l=l instanceof Va?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function va(l){return new l.Collection(l,function(){return Gs("")}).limit(0)}function Rn(q,u,f,h){var y,b,j,N,O,L,D,A=f.length;if(!f.every(function(M){return typeof M=="string"}))return Mn(q,tn);function k(M){y=M==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=M==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},j=M==="next"?Fi:qo;var X=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,K){return j(J.lower,K.lower)});N=X.map(function(J){return J.upper}),O=X.map(function(J){return J.lower}),D=(L=M)==="next"?"":h}k("next");var q=new q.Collection(q,function(){return aa(N[0],O[A-1]+h)}),T=(q._ondirectionchange=function(M){k(M)},0);return q._addAlgorithm(function(M,X,J){var K=M.key;if(typeof K=="string"){var ae=b(K);if(u(ae,O,T))return!0;for(var de=null,Ce=T;Ce<A;++Ce){var Ae=((me,Re,Me,pe,Be,et)=>{for(var rt=Math.min(me.length,pe.length),Ye=-1,tt=0;tt<rt;++tt){var Mt=Re[tt];if(Mt!==pe[tt])return Be(me[tt],Me[tt])<0?me.substr(0,tt)+Me[tt]+Me.substr(tt+1):Be(me[tt],pe[tt])<0?me.substr(0,tt)+pe[tt]+Me.substr(tt+1):0<=Ye?me.substr(0,Ye)+Re[Ye]+Me.substr(Ye+1):null;Be(me[tt],Mt)<0&&(Ye=tt)}return rt<pe.length&&et==="next"?me+Me.substr(me.length):rt<me.length&&et==="prev"?me.substr(0,Me.length):Ye<0?null:me.substr(0,Ye)+pe[Ye]+Me.substr(Ye+1)})(K,ae,N[Ce],O[Ce],j,L);Ae===null&&de===null?T=Ce+1:(de===null||0<j(de,Ae))&&(de=Ae)}X(de!==null?function(){M.continue(de+D)}:J)}return!1}),q}function aa(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Gs(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?va(this):new this.Collection(this,function(){return aa(l,u,!f,!h)})}catch{return Mn(this,_n)}},Kt.prototype.equals=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return Gs(l)})},Kt.prototype.above=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return aa(l,void 0,!0)})},Kt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return aa(l,void 0,!1)})},Kt.prototype.below=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return aa(void 0,l,!1,!0)})},Kt.prototype.belowOrEqual=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return aa(void 0,l)})},Kt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,tn):this.between(l,l+Gn,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Rn(this,function(u,f){return u.indexOf(f[0])===0},[l],Gn)},Kt.prototype.equalsIgnoreCase=function(l){return Rn(this,function(u,f){return u===f[0]},[l],"")},Kt.prototype.anyOfIgnoreCase=function(){var l=G.apply(Ee,arguments);return l.length===0?va(this):Rn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var l=G.apply(Ee,arguments);return l.length===0?va(this):Rn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Gn)},Kt.prototype.anyOf=function(){var l,u,f=this,h=G.apply(Ee,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,_n)}return h.length===0?va(this):((l=new this.Collection(this,function(){return aa(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,j,N){for(var O=b.key;0<y(O,h[u]);)if(++u===h.length)return j(N),!1;return y(O,h[u])===0||(j(function(){b.continue(h[u])}),!1)}),l)},Kt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var l=G.apply(Ee,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,_n)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,j=this._min,N=this._max;if(l.length===0)return va(this);if(!l.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&y(K[0],K[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",je.InvalidArgument);var O=!J||J.includeLowers!==!1,L=J&&J.includeUppers===!0,D,A=y;function k(K,ae){return A(K[0],ae[0])}try{(D=l.reduce(function(K,ae){for(var de=0,Ce=K.length;de<Ce;++de){var Ae=K[de];if(h(ae[0],Ae[1])<0&&0<h(ae[1],Ae[0])){Ae[0]=j(Ae[0],ae[0]),Ae[1]=N(Ae[1],ae[1]);break}}return de===Ce&&K.push(ae),K},[])).sort(k)}catch{return Mn(this,_n)}var q=0,T=L?function(K){return 0<y(K,D[q][1])}:function(K){return 0<=y(K,D[q][1])},M=O?function(K){return 0<b(K,D[q][0])}:function(K){return 0<=b(K,D[q][0])},X=T,J=new this.Collection(this,function(){return aa(D[0][0],D[D.length-1][1],!O,!L)});return J._ondirectionchange=function(K){A=K==="next"?(X=T,y):(X=M,b),D.sort(k)},J._addAlgorithm(function(K,ae,de){for(var Ce,Ae=K.key;X(Ae);)if(++q===D.length)return ae(de),!1;return!T(Ce=Ae)&&!M(Ce)||(f._cmp(Ae,D[q][1])===0||f._cmp(Ae,D[q][0])===0||ae(function(){A===y?K.continue(D[q][0]):K.continue(D[q][1])}),!1)}),J},Kt.prototype.startsWithAnyOf=function(){var l=G.apply(Ee,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?va(this):this.inAnyRange(l.map(function(u){return[u,u+Gn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Va=Kt;function Kt(){}function Vn(l){return Bt(function(u){return Fa(u),l(u.target.error),!1})}function Fa(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var wl="storagemutated",Za="x-storagemutated-1",yn=ps(null,wl),Zi=(En.prototype._lock=function(){return he(!ze.global),++this._reculock,this._reculock!==1||ze.global||(ze.lockOwnerFor=this),this},En.prototype._unlock=function(){if(he(!ze.global),--this._reculock==0)for(ze.global||(ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Xn(l[1],l[0])}catch{}}return this},En.prototype._locked=function(){return this._reculock&&ze.lockOwnerFor!==this},En.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(he(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new je.DatabaseClosed(h);case"MissingAPIError":throw new je.MissingAPI(h.message,h);default:throw new je.OpenFailed(h)}if(!this.active)throw new je.TransactionInactive;he(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(y){Fa(y),u._reject(l.error)}),l.onabort=Bt(function(y){Fa(y),u.active&&u._reject(new je.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Bt(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},En.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Tt(new je.ReadOnly("Transaction is readonly")):this.active?this._locked()?new De(function(b,j){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,j)},ze])}):f?Ut(function(){var b=new De(function(j,N){y._lock();var O=u(j,N,y);O&&O.then&&O.then(j,N)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new De(function(b,j){var N=u(b,j,y);N&&N.then&&N.then(b,j)}))._lib=!0,h):Tt(new je.TransactionInactive)},En.prototype._root=function(){return this.parent?this.parent._root():this},En.prototype.waitFor=function(l){var u,f=this._root(),h=De.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new De(function(b,j){h.then(function(N){return f._waitingQueue.push(Bt(b.bind(null,N)))},function(N){return f._waitingQueue.push(Bt(j.bind(null,N)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},En.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new je.Abort))},En.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(_(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new je.NotFound("Table "+l+" not part of transaction")},En);function En(){}function la(l,u,f,h,y,b,j,N){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!j?"&":"")+(h?"*":"")+(y?"++":"")+Vs(u),type:N}}function Vs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Nl(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,j){return b=h(b,j),b&&(y[b[0]]=b[1]),y},{}))};var h}var _l=function(l){try{return l.only([[]]),_l=function(){return[[]]},[[]]}catch{return _l=function(){return Gn},Gn}};function El(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return Se(f,u)}:function(f){return Se(f,l)};var u}function bs(l){return[].slice.call(l)}var au=0;function rn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function $a(l,u,O){function h(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var A=T.lower,k=T.upper,q=T.lowerOpen,T=T.upperOpen;return A===void 0?k===void 0?null:u.upperBound(k,!!T):k===void 0?u.lowerBound(A,!!q):u.bound(A,k,!!q,!!T)}function y(D){var A,k=D.name;return{name:k,schema:D,mutate:function(q){var T=q.trans,M=q.type,X=q.keys,J=q.values,K=q.range;return new Promise(function(ae,de){ae=Bt(ae);var Ce=T.objectStore(k),Ae=Ce.keyPath==null,me=M==="put"||M==="add";if(!me&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var Re,Me=(X||J||{length:1}).length;if(X&&J&&X.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function pe(Ct){++rt,Fa(Ct)}var Be=[],et=[],rt=0;if(M==="deleteRange"){if(K.type===4)return ae({numFailures:rt,failures:et,results:[],lastResult:void 0});K.type===3?Be.push(Re=Ce.clear()):Be.push(Re=Ce.delete(h(K)))}else{var Ae=me?Ae?[J,X]:[J,null]:[X,null],Ye=Ae[0],tt=Ae[1];if(me)for(var Mt=0;Mt<Me;++Mt)Be.push(Re=tt&&tt[Mt]!==void 0?Ce[M](Ye[Mt],tt[Mt]):Ce[M](Ye[Mt])),Re.onerror=pe;else for(Mt=0;Mt<Me;++Mt)Be.push(Re=Ce[M](Ye[Mt])),Re.onerror=pe}function An(Ct){Ct=Ct.target.result,Be.forEach(function(ka,Ml){return ka.error!=null&&(et[Ml]=ka.error)}),ae({numFailures:rt,failures:et,results:M==="delete"?X:Be.map(function(ka){return ka.result}),lastResult:Ct})}Re.onerror=function(Ct){pe(Ct),An(Ct)},Re.onsuccess=An})},getMany:function(q){var T=q.trans,M=q.keys;return new Promise(function(X,J){X=Bt(X);for(var K,ae=T.objectStore(k),de=M.length,Ce=new Array(de),Ae=0,me=0,Re=function(Be){Be=Be.target,Ce[Be._pos]=Be.result,++me===Ae&&X(Ce)},Me=Vn(J),pe=0;pe<de;++pe)M[pe]!=null&&((K=ae.get(M[pe]))._pos=pe,K.onsuccess=Re,K.onerror=Me,++Ae);Ae===0&&X(Ce)})},get:function(q){var T=q.trans,M=q.key;return new Promise(function(X,J){X=Bt(X);var K=T.objectStore(k).get(M);K.onsuccess=function(ae){return X(ae.target.result)},K.onerror=Vn(J)})},query:(A=N,function(q){return new Promise(function(T,M){T=Bt(T);var X,J,K,me=q.trans,ae=q.values,de=q.limit,Ae=q.query,Ce=de===1/0?void 0:de,Re=Ae.index,Ae=Ae.range,me=me.objectStore(k),me=Re.isPrimaryKey?me:me.index(Re.name),Re=h(Ae);if(de===0)return T({result:[]});A?((Ae=ae?me.getAll(Re,Ce):me.getAllKeys(Re,Ce)).onsuccess=function(Me){return T({result:Me.target.result})},Ae.onerror=Vn(M)):(X=0,J=!ae&&"openKeyCursor"in me?me.openKeyCursor(Re):me.openCursor(Re),K=[],J.onsuccess=function(Me){var pe=J.result;return!pe||(K.push(ae?pe.value:pe.primaryKey),++X===de)?T({result:K}):void pe.continue()},J.onerror=Vn(M))})}),openCursor:function(q){var T=q.trans,M=q.values,X=q.query,J=q.reverse,K=q.unique;return new Promise(function(ae,de){ae=Bt(ae);var me=X.index,Ce=X.range,Ae=T.objectStore(k),Ae=me.isPrimaryKey?Ae:Ae.index(me.name),me=J?K?"prevunique":"prev":K?"nextunique":"next",Re=!M&&"openKeyCursor"in Ae?Ae.openKeyCursor(h(Ce),me):Ae.openCursor(h(Ce),me);Re.onerror=Vn(de),Re.onsuccess=Bt(function(Me){var pe,Be,et,rt,Ye=Re.result;Ye?(Ye.___id=++au,Ye.done=!1,pe=Ye.continue.bind(Ye),Be=(Be=Ye.continuePrimaryKey)&&Be.bind(Ye),et=Ye.advance.bind(Ye),rt=function(){throw new Error("Cursor not stopped")},Ye.trans=T,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Bt(de),Ye.next=function(){var tt=this,Mt=1;return this.start(function(){return Mt--?tt.continue():tt.stop()}).then(function(){return tt})},Ye.start=function(tt){function Mt(){if(Re.result)try{tt()}catch(Ct){Ye.fail(Ct)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var An=new Promise(function(Ct,ka){Ct=Bt(Ct),Re.onerror=Vn(ka),Ye.fail=ka,Ye.stop=function(Ml){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=rt,Ct(Ml)}});return Re.onsuccess=Bt(function(Ct){Re.onsuccess=Mt,Mt()}),Ye.continue=pe,Ye.continuePrimaryKey=Be,Ye.advance=et,Mt(),An},ae(Ye)):ae(null)},de)})},count:function(q){var T=q.query,M=q.trans,X=T.index,J=T.range;return new Promise(function(K,ae){var de=M.objectStore(k),de=X.isPrimaryKey?de:de.index(X.name),Ce=h(J),Ce=Ce?de.count(Ce):de.count();Ce.onsuccess=Bt(function(Ae){return K(Ae.target.result)}),Ce.onerror=Vn(ae)})}}}b=O,j=bs((O=l).objectStoreNames);var b,O={schema:{name:O.name,tables:j.map(function(D){return b.objectStore(D)}).map(function(D){var A=D.keyPath,k=D.autoIncrement,T=w(A),q={},T={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A==null,compound:T,keyPath:A,autoIncrement:k,unique:!0,extractKey:El(A)},indexes:bs(D.indexNames).map(function(M){return D.index(M)}).map(function(K){var ae=K.name,X=K.unique,J=K.multiEntry,K=K.keyPath,ae={name:ae,compound:w(K),keyPath:K,unique:X,multiEntry:J,extractKey:El(K)};return q[rn(K)]=ae}),getIndexByKeyPath:function(M){return q[rn(M)]}};return q[":id"]=T.primaryKey,A!=null&&(q[rn(A)]=T.primaryKey),T})},hasGetAll:0<j.length&&"getAll"in b.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},j=O.schema,N=O.hasGetAll,O=j.tables.map(y),L={};return O.forEach(function(D){return L[D.name]=D}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(D){if(L[D])return L[D];throw new Error("Table '".concat(D,"' not found"))},MIN_KEY:-1/0,MAX_KEY:_l(u),schema:j}}function Fs(l,u,f,h){return f=f.IDBKeyRange,u=$a(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Da(l,u){var f=u.db,f=Fs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Zs(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(j){var N=(function O(L,D){return I(L,D)||(L=E(L))&&O(L,D)})(j,y);(!N||"value"in N&&N.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?Z(j,y,{get:function(){return this.table(y)},set:function(O){be(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):j[y]=new l.Table(y,b))})})}function xs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function $i(l,u){return l._cfg.version-u._cfg.version}function vs(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Nl("$meta",su("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),j=(b.create(f),b._completion.catch(h),b._reject.bind(b)),N=ze.transless||ze;Ut(function(){if(ze.trans=b,ze.transless=N,u!==0)return Da(l,f),L=u,((O=b).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(D){return D??L}):De.resolve(L)).then(function(X){var A=l,k=X,q=b,T=f,M=[],X=A._versions,J=A._dbSchema=Cl(0,A.idbdb,T);return(X=X.filter(function(K){return K._cfg.version>=k})).length===0?De.resolve():(X.forEach(function(K){M.push(function(){var ae,de,Ce,Ae=J,me=K._cfg.dbschema,Re=(Ws(A,Ae,T),Ws(A,me,T),J=A._dbSchema=me,Js(Ae,me)),Me=(Re.add.forEach(function(pe){Ji(T,pe[0],pe[1].primKey,pe[1].indexes)}),Re.change.forEach(function(pe){if(pe.recreate)throw new je.Upgrade("Not yet support for changing primary key");var Be=T.objectStore(pe.name);pe.add.forEach(function(et){return Ps(Be,et)}),pe.change.forEach(function(et){Be.deleteIndex(et.name),Ps(Be,et)}),pe.del.forEach(function(et){return Be.deleteIndex(et)})}),K._cfg.contentUpgrade);if(Me&&K._cfg.version>k)return Da(A,T),q._memoizedTables={},ae=Pe(me),Re.del.forEach(function(pe){ae[pe]=Ae[pe]}),xs(A,[A.Transaction.prototype]),Zs(A,[A.Transaction.prototype],S(ae),ae),q.schema=ae,(de=W(Me))&&en(),me=De.follow(function(){var pe;(Ce=Me(q))&&de&&(pe=Tn.bind(null,null),Ce.then(pe,pe))}),Ce&&typeof Ce.then=="function"?De.resolve(Ce):me.then(function(){return Ce})}),M.push(function(ae){var de,Ce,Ae=K._cfg.dbschema;de=Ae,Ce=ae,[].slice.call(Ce.db.objectStoreNames).forEach(function(me){return de[me]==null&&Ce.db.deleteObjectStore(me)}),xs(A,[A.Transaction.prototype]),Zs(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),q.schema=A._dbSchema}),M.push(function(ae){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===K._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(de){return de!=="$meta"})):ae.objectStore("$meta").put(K._cfg.version,"version"))})}),(function K(){return M.length?De.resolve(M.shift()(q.idbtrans)).then(K):De.resolve()})().then(function(){lu(J,T)}))}).catch(j);var O,L;S(y).forEach(function(D){Ji(f,D,y[D].primKey,y[D].indexes)}),Da(l,f),De.follow(function(){return l.on.populate.fire(b)}).catch(j)})}function $s(l,u){lu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Cl(0,l.idbdb,u);Ws(l,l._dbSchema,u);for(var h=0,y=Js(f,l._dbSchema).change;h<y.length;h++){var b=(j=>{if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(j.name);j.add.forEach(function(O){ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(O.src)),Ps(N,O)})})(y[h]);if(typeof b=="object")return b.value}}function Js(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var j={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)j.recreate=!0,h.change.push(j);else{var N=y.idxByName,O=b.idxByName,L=void 0;for(L in N)O[L]||j.del.push(L);for(L in O){var D=N[L],A=O[L];D?D.src!==A.src&&j.change.push(A):j.add.push(A)}(0<j.del.length||0<j.add.length||0<j.change.length)&&h.change.push(j)}}else h.add.push([f,b])}return h}function Ji(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Ps(y,b)})}function lu(l,u){S(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(ke&&console.debug("Dexie: Creating missing table",f),Ji(u,f,l[f].primKey,l[f].indexes))})}function Ps(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Cl(l,u,f){var h={};return fe(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),j=la(Vs(L=b.keyPath),L||"",!0,!1,!!b.autoIncrement,L&&typeof L!="string",!0),N=[],O=0;O<b.indexNames.length;++O){var D=b.index(b.indexNames[O]),L=D.keyPath,D=la(D.name,L,!!D.unique,!!D.multiEntry,!1,L&&typeof L!="string",!1);N.push(D)}h[y]=Nl(y,j,N)}),h}function Ws(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],j=f.objectStore(b);l._hasGetAll="getAll"in j;for(var N=0;N<j.indexNames.length;++N){var O,L=j.indexNames[N],D=j.index(L).keyPath,D=typeof D=="string"?D:"["+fe(D).join("+")+"]";u[b]&&(O=u[b].idxByName[D])&&(O.name=L,delete u[b].idxByName[D],u[b].idxByName[L]=O)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&x.WorkerGlobalScope&&x instanceof x.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function su(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return la(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),w(b),f===0,h)})}Al.prototype._createTableSchema=Nl,Al.prototype._parseIndexSyntax=su,Al.prototype._parseStoresSpec=function(l,u){var f=this;S(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new je.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new je.Schema("Primary key cannot be multiEntry*");y.forEach(function(j){if(j.auto)throw new je.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new je.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},Al.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?z(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){z(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,xs(u,[u._allTables,u,u.Transaction.prototype]),Zs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],S(y),y),u._storeNames=S(y),this},Al.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Fe,l),this};var Uo=Al;function Al(){}function Pi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new sa(ds,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Is(l){return l&&typeof l.databases=="function"}function Wi(l){return Ut(function(){return ze.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var gn=function(l,u){var f;if(!this)return f=new gn,l&&"d"in l&&z(f,l),f;z(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function Ss(l,u,f){var h=it(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return z(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(it(f,l.from)<0)return h?Ss(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},ru(l);if(0<it(u,l.to))return y?Ss(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},ru(l);it(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<it(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Ja(l,h),y&&u&&Ja(l,y)}}function Ja(l,u){Ii(u)||(function f(h,y){var b=y.from,j=y.l,N=y.r;Ss(h,b,y.to),j&&f(h,j),N&&f(h,N)})(l,u)}function iu(l,u){var f=ei(u),h=f.next();if(!h.done)for(var y=h.value,b=ei(l),j=b.next(y.from),N=j.value;!h.done&&!j.done;){if(it(N.from,y.to)<=0&&0<=it(N.to,y.from))return!0;it(y.from,N.from)<0?y=(h=f.next(N.from)).value:N=(j=b.next(y.from)).value}return!1}function ei(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&it(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||it(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function ru(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=er(f)),l.d=er(l)}function er(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function ti(l,u){return S(u).forEach(function(f){l[f]?Ja(l[f],u[f]):l[f]=(function h(y){var b,j,N={};for(b in y)_(y,b)&&(j=y[b],N[b]=!j||typeof j!="object"||Qe.has(j.constructor)?j:h(j));return N})(u[f])}),l}function tr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&iu(u[f],l[f])})}$(gn.prototype,((Et={add:function(l){return Ja(this,l),this},addKey:function(l){return Ss(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return Ss(u,f,f)}),this},hasKey:function(l){var u=ei(this).next(l).value;return u&&it(u.from,l)<=0&&0<=it(u.to,l)}})[Y]=function(){return ei(this)},Et));var Pa={},nr={},ar=!1;function ni(l){ti(nr,l),ar||(ar=!0,setTimeout(function(){ar=!1,lr(nr,!(nr={}))},0))}function lr(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Pa);h<y.length;h++)uu(N=y[h],l,f,u);else for(var b in l){var j,N,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(j=b[1],b=b[2],N=Pa["idb://".concat(j,"/").concat(b)])&&uu(N,l,f,u)}f.forEach(function(O){return O()})}function uu(l,u,f,h){for(var y=[],b=0,j=Object.entries(l.queries.query);b<j.length;b++){for(var N=j[b],O=N[0],L=[],D=0,A=N[1];D<A.length;D++){var k=A[D];tr(u,k.obsSet)?k.subscribers.forEach(function(X){return f.add(X)}):h&&L.push(k)}h&&y.push([O,L])}if(h)for(var q=0,T=y;q<T.length;q++){var M=T[q],O=M[0],L=M[1];l.queries.query[O]=L}}function Ho(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Tt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function j(){if(u.openCanceller!==h)throw new je.DatabaseClosed("db.open() was cancelled")}function N(){return new De(function(k,q){if(j(),!f)throw new je.MissingAPI;var T=l.name,M=u.autoSchema||!y?f.open(T):f.open(T,y);if(!M)throw new je.MissingAPI;M.onerror=Vn(q),M.onblocked=Bt(l._fireOnBlocked),M.onupgradeneeded=Bt(function(X){var J;D=M.transaction,u.autoSchema&&!l._options.allowEmptyDB?(M.onerror=Fa,D.abort(),M.result.close(),(J=f.deleteDatabase(T)).onsuccess=J.onerror=Bt(function(){q(new je.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(D.onerror=Vn(q),J=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,A=J<1,l.idbdb=M.result,b&&$s(l,D),vs(l,J/10,D,q))},q),M.onsuccess=Bt(function(){D=null;var X,J,K,ae,de,Ce,Ae=l.idbdb=M.result,me=fe(Ae.objectStoreNames);if(0<me.length)try{var Re=Ae.transaction((de=me).length===1?de[0]:de,"readonly");if(u.autoSchema)Ce=Ae,ae=Re,(K=l).verno=Ce.version/10,ae=K._dbSchema=Cl(0,Ce,ae),K._storeNames=fe(Ce.objectStoreNames,0),Zs(K,[K._allTables],S(ae),ae);else if(Ws(l,l._dbSchema,Re),J=Re,((J=Js(Cl(0,(X=l).idbdb,J),X._dbSchema)).add.length||J.change.some(function(Me){return Me.add.length||Me.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ae.close(),y=Ae.version+1,b=!0,k(N());Da(l,Re)}catch{}Ya.push(l),Ae.onversionchange=Bt(function(Me){u.vcFired=!0,l.on("versionchange").fire(Me)}),Ae.onclose=Bt(function(){l.close({disableAutoOpen:!1})}),A&&(me=l._deps,de=T,Is(Ce=me.indexedDB)||de===ds||Pi(Ce,me.IDBKeyRange).put({name:de}).catch(Fe)),k()},q)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<y)return y=0,N()}return De.reject(k)})}var O,L=u.dbReadyResolve,D=null,A=!1;return De.race([h,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function q(){return indexedDB.databases().finally(k)}O=setInterval(q,100),q()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(N)]).then(function(){return j(),u.onReadyBeingFired=[],De.resolve(Wi(function(){return l.on.ready.fire(l.vip)})).then(function k(){var q;if(0<u.onReadyBeingFired.length)return q=u.onReadyBeingFired.reduce(ne,Fe),u.onReadyBeingFired=[],De.resolve(Wi(function(){return q(l.vip)})).then(k)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(k){u.dbOpenError=k;try{D&&D.abort()}catch{}return h===u.openCanceller&&l._close(),Tt(k)}).finally(function(){u.openComplete=!0,L()}).then(function(){var k;return A&&(k={},l.tables.forEach(function(q){q.schema.indexes.forEach(function(T){T.name&&(k["idb://".concat(l.name,"/").concat(q.name,"/").concat(T.name)]=new gn(-1/0,[[[]]]))}),k["idb://".concat(l.name,"/").concat(q.name,"/")]=k["idb://".concat(l.name,"/").concat(q.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(wl).fire(k),lr(k,!0)),l})}function js(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(N){var N=b(N),O=N.value;return N.done?O:O&&typeof O.then=="function"?O.then(f,h):w(O)?Promise.all(O).then(f,h):f(O)}}return y(u)()}function Ta(l,u,f){for(var h=w(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Lo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function j(k,q,T){var K=rn(k),M=y[K]=y[K]||[],X=k==null?0:typeof k=="string"?1:k.length,J=0<q,K=d(d({},T),{name:J?"".concat(K,"(virtual-from:").concat(T.name,")"):T.name,lowLevelIndex:T,isVirtual:J,keyTail:q,keyLength:X,extractKey:El(k),unique:!J&&T.unique});return M.push(K),K.isPrimaryKey||b.push(K),1<X&&j(X===2?k[0]:k.slice(0,X-1),q+1,T),M.sort(function(ae,de){return ae.keyTail-de.keyTail}),K}var N=j(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[N];for(var O=0,L=h.indexes;O<L.length;O++){var D=L[O];j(D.keyPath,0,D)}function A(k){var q,T=k.query.index;return T.isVirtual?d(d({},k),{query:{index:T.lowLevelIndex,range:(q=k.query.range,T=T.keyTail,{type:q.type===1?2:q.type,lower:Ta(q.lower,q.lowerOpen?l.MAX_KEY:l.MIN_KEY,T),lowerOpen:!0,upper:Ta(q.upper,q.upperOpen?l.MIN_KEY:l.MAX_KEY,T),upperOpen:!0})}}):k}return d(d({},f),{schema:d(d({},h),{primaryKey:N,indexes:b,getIndexByKeyPath:function(k){return(k=y[rn(k)])&&k[0]}}),count:function(k){return f.count(A(k))},query:function(k){return f.query(A(k))},openCursor:function(k){var q=k.query.index,T=q.keyTail,M=q.keyLength;return q.isVirtual?f.openCursor(A(k)).then(function(J){return J&&X(J)}):f.openCursor(k);function X(J){return Object.create(J,{continue:{value:function(K){K!=null?J.continue(Ta(K,k.reverse?l.MAX_KEY:l.MIN_KEY,T)):k.unique?J.continue(J.key.slice(0,M).concat(k.reverse?l.MIN_KEY:l.MAX_KEY,T)):J.continue()}},continuePrimaryKey:{value:function(K,ae){J.continuePrimaryKey(Ta(K,l.MAX_KEY,T),ae)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var K=J.key;return M===1?K[0]:K.slice(0,M)}},value:{get:function(){return J.value}}})}}})}})}};function ai(l,u,f,h){return f=f||{},h=h||"",S(l).forEach(function(y){var b,j,N;_(u,y)?(b=l[y],j=u[y],typeof b=="object"&&typeof j=="object"&&b&&j?(N=He(b))!==He(j)?f[h+y]=u[y]:N==="Object"?ai(b,j,f,h+y+"."):b!==j&&(f[h+y]=u[y]):b!==j&&(f[h+y]=u[y])):f[h+y]=void 0}),S(u).forEach(function(y){_(l,y)||(f[h+y]=u[y])}),f}function li(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ou={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=ze.trans,j=b.table(u).hook,N=j.deleting,O=j.creating,L=j.updating;switch(y.type){case"add":if(O.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"put":if(O.fire===Fe&&L.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"delete":if(N.fire===Fe)break;return b._promise("readwrite",function(){return D(y)},!0);case"deleteRange":if(N.fire===Fe)break;return b._promise("readwrite",function(){return(function A(k,q,T){return f.query({trans:k,values:!1,query:{index:h,range:q},limit:T}).then(function(M){var X=M.result;return D({type:"delete",keys:X,trans:k}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):X.length<T?{failures:[],numFailures:0,lastResult:void 0}:A(k,d(d({},q),{lower:X[X.length-1],lowerOpen:!0}),T)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function D(A){var k,q,T,M=ze.trans,X=A.keys||li(h,A);if(X)return(A=A.type==="add"||A.type==="put"?d(d({},A),{keys:X}):d({},A)).type!=="delete"&&(A.values=g([],A.values)),A.keys&&(A.keys=g([],A.keys)),k=f,T=X,((q=A).type==="add"?Promise.resolve([]):k.getMany({trans:q.trans,keys:T,cache:"immutable"})).then(function(J){var K=X.map(function(ae,de){var Ce,Ae,me,Re=J[de],Me={onerror:null,onsuccess:null};return A.type==="delete"?N.fire.call(Me,ae,Re,M):A.type==="add"||Re===void 0?(Ce=O.fire.call(Me,ae,A.values[de],M),ae==null&&Ce!=null&&(A.keys[de]=ae=Ce,h.outbound||ve(A.values[de],h.keyPath,ae))):(Ce=ai(Re,A.values[de]),(Ae=L.fire.call(Me,Ce,ae,Re,M))&&(me=A.values[de],Object.keys(Ae).forEach(function(pe){_(me,pe)?me[pe]=Ae[pe]:ve(me,pe,Ae[pe])}))),Me});return f.mutate(A).then(function(ae){for(var de=ae.failures,Ce=ae.results,Ae=ae.numFailures,ae=ae.lastResult,me=0;me<X.length;++me){var Re=(Ce||X)[me],Me=K[me];Re==null?Me.onerror&&Me.onerror(de[me]):Me.onsuccess&&Me.onsuccess(A.type==="put"&&J[me]?A.values[me]:Re)}return{failures:de,results:Ce,numFailures:Ae,lastResult:ae}}).catch(function(ae){return K.forEach(function(de){return de.onerror&&de.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function sr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)it(u.keys[y],l[b])===0&&(h.push(f?ut(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var cu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=sr(h.keys,h.trans._cache,h.cache==="clone"))?De.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?ut(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Wa(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function fu(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ko={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(ze.subscr&&y!=="readonly")throw new je.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ze.querier));return l.transaction(h,y,b)},table:function(h){function y(X){var M,X=X.query;return[M=X.index,new gn((M=(X=X.range).lower)!=null?M:l.MIN_KEY,(M=X.upper)!=null?M:l.MAX_KEY)]}var b=l.table(h),j=b.schema,N=j.primaryKey,O=j.indexes,L=N.extractKey,D=N.outbound,A=N.autoIncrement&&O.filter(function(T){return T.compound&&T.keyPath.includes(N.keyPath)}),k=d(d({},b),{mutate:function(T){function M(Be){return Be="idb://".concat(u,"/").concat(h,"/").concat(Be),de[Be]||(de[Be]=new gn)}var X,J,K,ae=T.trans,de=T.mutatedParts||(T.mutatedParts={}),Ce=M(""),Ae=M(":dels"),me=T.type,Me=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[li(N,T).filter(function(Be){return Be}),T.values]:[],Re=Me[0],Me=Me[1],pe=T.trans._cache;return w(Re)?(Ce.addKeys(Re),(me=me==="delete"||Re.length===Me.length?sr(Re,pe):null)||Ae.addKeys(Re),(me||Me)&&(X=M,J=me,K=Me,j.indexes.forEach(function(Be){var et=X(Be.name||"");function rt(tt){return tt!=null?Be.extractKey(tt):null}function Ye(tt){Be.multiEntry&&w(tt)?tt.forEach(function(Mt){return et.addKey(Mt)}):et.addKey(tt)}(J||K).forEach(function(tt,Ct){var An=J&&rt(J[Ct]),Ct=K&&rt(K[Ct]);it(An,Ct)!==0&&(An!=null&&Ye(An),Ct!=null)&&Ye(Ct)})}))):Re?(Me={from:(pe=Re.lower)!=null?pe:l.MIN_KEY,to:(me=Re.upper)!=null?me:l.MAX_KEY},Ae.add(Me),Ce.add(Me)):(Ce.add(f),Ae.add(f),j.indexes.forEach(function(Be){return M(Be.name).add(f)})),b.mutate(T).then(function(Be){return!Re||T.type!=="add"&&T.type!=="put"||(Ce.addKeys(Be.results),A&&A.forEach(function(et){for(var rt=T.values.map(function(An){return et.extractKey(An)}),Ye=et.keyPath.findIndex(function(An){return An===N.keyPath}),tt=0,Mt=Be.results.length;tt<Mt;++tt)rt[tt][Ye]=Be.results[tt];M(et.name).addKeys(rt)})),ae.mutatedParts=ti(ae.mutatedParts||{},de),Be})}}),q={get:function(T){return[N,new gn(T.key)]},getMany:function(T){return[N,new gn().addKeys(T.keys)]},count:y,query:y,openCursor:y};return S(q).forEach(function(T){k[T]=function(M){var X=ze.subscr,J=!!X,K=Wa(ze,b)&&fu(T,M)?M.obsSet={}:X;if(J){var ae,X=function(Me){return Me="idb://".concat(u,"/").concat(h,"/").concat(Me),K[Me]||(K[Me]=new gn)},de=X(""),Ce=X(":dels"),J=q[T](M),Ae=J[0],J=J[1];if((T==="query"&&Ae.isPrimaryKey&&!M.values?Ce:X(Ae.name||"")).add(J),!Ae.isPrimaryKey){if(T!=="count")return ae=T==="query"&&D&&M.values&&b.query(d(d({},M),{values:!1})),b[T].apply(this,arguments).then(function(Me){if(T==="query"){if(D&&M.values)return ae.then(function(rt){return rt=rt.result,de.addKeys(rt),Me});var pe=M.values?Me.result.map(L):Me.result;(M.values?de:Ce).addKeys(pe)}else{var Be,et;if(T==="openCursor")return et=M.values,(Be=Me)&&Object.create(Be,{key:{get:function(){return Ce.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var rt=Be.primaryKey;return Ce.addKey(rt),rt}},value:{get:function(){return et&&de.addKey(Be.primaryKey),Be.value}}})}return Me});Ce.add(f)}}return b[T].apply(this,arguments)}}),k}})}};function du(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),w(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&w(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function si(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<it(f,h.lower):0<=it(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?it(f,h.upper)<0:it(f,h.upper)<=0));var f,h}function ir(l,u,f,h,y,b){var j,N,O,L,D,A;return!f||f.length===0||(j=u.query.index,N=j.multiEntry,O=u.query.range,L=h.schema.primaryKey.extractKey,D=j.extractKey,A=(j.lowLevelIndex||j).extractKey,(h=f.reduce(function(k,q){var T=k,M=[];if(q.type==="add"||q.type==="put")for(var X=new gn,J=q.values.length-1;0<=J;--J){var K,ae=q.values[J],de=L(ae);!X.hasKey(de)&&(K=D(ae),N&&w(K)?K.some(function(Me){return si(Me,O)}):si(K,O))&&(X.addKey(de),M.push(ae))}switch(q.type){case"add":var Ce=new gn().addKeys(u.values?k.map(function(pe){return L(pe)}):k),T=k.concat(u.values?M.filter(function(pe){return pe=L(pe),!Ce.hasKey(pe)&&(Ce.addKey(pe),!0)}):M.map(function(pe){return L(pe)}).filter(function(pe){return!Ce.hasKey(pe)&&(Ce.addKey(pe),!0)}));break;case"put":var Ae=new gn().addKeys(q.values.map(function(pe){return L(pe)}));T=k.filter(function(pe){return!Ae.hasKey(u.values?L(pe):pe)}).concat(u.values?M:M.map(function(pe){return L(pe)}));break;case"delete":var me=new gn().addKeys(q.keys);T=k.filter(function(pe){return!me.hasKey(u.values?L(pe):pe)});break;case"deleteRange":var Re=q.range;T=k.filter(function(pe){return!si(L(pe),Re)})}return T},l))===l)?l:(h.sort(function(k,q){return it(A(k),A(q))||it(L(k),L(q))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Ol(l,u){return it(l.lower,u.lower)===0&&it(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function ws(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Qo(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&ge(b,y)},3e3))})}var ii={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,j,N=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,N.addEventListener("abort",(j=function(O){return function(){if(b.abort(),h==="readwrite"){for(var L=new Set,D=0,A=f;D<A.length;D++){var k=A[D],q=Pa["idb://".concat(u,"/").concat(k)];if(q){var T=l.table(k),M=q.optimisticOps.filter(function(Be){return Be.trans===N});if(N._explicit&&O&&N.mutatedParts)for(var X=0,J=Object.values(q.queries.query);X<J.length;X++)for(var K=0,ae=(Ae=J[X]).slice();K<ae.length;K++)tr((me=ae[K]).obsSet,N.mutatedParts)&&(ge(Ae,me),me.subscribers.forEach(function(Be){return L.add(Be)}));else if(0<M.length){q.optimisticOps=q.optimisticOps.filter(function(Be){return Be.trans!==N});for(var de=0,Ce=Object.values(q.queries.query);de<Ce.length;de++)for(var Ae,me,Re,Me=0,pe=(Ae=Ce[de]).slice();Me<pe.length;Me++)(me=pe[Me]).res!=null&&N.mutatedParts&&(O&&!me.dirty?(Re=Object.isFrozen(me.res),Re=ir(me.res,me.req,M,T,me,Re),me.dirty?(ge(Ae,me),me.subscribers.forEach(function(Be){return L.add(Be)})):Re!==me.res&&(me.res=Re,me.promise=De.resolve({result:Re}))):(me.dirty&&ge(Ae,me),me.subscribers.forEach(function(Be){return L.add(Be)})))}}}L.forEach(function(Be){return Be()})}}})(!1),{signal:y}),N.addEventListener("error",j(!1),{signal:y}),N.addEventListener("complete",j(!0),{signal:y})),N},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var j,N=ze.trans;return!y.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(j=Pa["idb://".concat(u,"/").concat(f)])?(N=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||li(y,b).some(function(O){return O==null}))?(j.optimisticOps.push(b),b.mutatedParts&&ni(b.mutatedParts),N.then(function(O){0<O.numFailures&&(ge(j.optimisticOps,b),(O=du(0,b,O))&&j.optimisticOps.push(O),b.mutatedParts)&&ni(b.mutatedParts)}),N.catch(function(){ge(j.optimisticOps,b),b.mutatedParts&&ni(b.mutatedParts)})):N.then(function(O){var L=du(0,d(d({},b),{values:b.values.map(function(D,A){var k;return O.failures[A]?D:(ve(k=(k=y.keyPath)!=null&&k.includes(".")?ut(D):d({},D),y.keyPath,O.results[A]),k)})}),O);j.optimisticOps.push(L),queueMicrotask(function(){return b.mutatedParts&&ni(b.mutatedParts)})}),N):h.mutate(b)},query:function(b){var j,N,O,L,D,A,k;return Wa(ze,h)&&fu("query",b)?(j=((O=ze.trans)==null?void 0:O.db._options.cache)==="immutable",N=(O=ze).requery,O=O.signal,A=((q,T,M,X)=>{var J=Pa["idb://".concat(q,"/").concat(T)];if(!J)return[];if(!(q=J.queries[M]))return[null,!1,J,null];var K=q[(X.query?X.query.index.name:null)||""];if(!K)return[null,!1,J,null];switch(M){case"query":var ae=K.find(function(de){return de.req.limit===X.limit&&de.req.values===X.values&&Ol(de.req.query.range,X.query.range)});return ae?[ae,!0,J,K]:[K.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=X.limit&&(!X.values||de.req.values)&&ws(de.req.query.range,X.query.range)}),!1,J,K];case"count":return ae=K.find(function(de){return Ol(de.req.query.range,X.query.range)}),[ae,!!ae,J,K]}})(u,f,"query",b),k=A[0],L=A[2],D=A[3],k&&A[1]?k.obsSet=b.obsSet:(A=h.query(b).then(function(q){var T=q.result;if(k&&(k.res=T),j){for(var M=0,X=T.length;M<X;++M)Object.freeze(T[M]);Object.freeze(T)}else q.result=ut(T);return q}).catch(function(q){return D&&k&&ge(D,k),Promise.reject(q)}),k={obsSet:b.obsSet,promise:A,subscribers:new Set,type:"query",req:b,dirty:!1},D?D.push(k):(D=[k],(L=L||(Pa["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=D)),Qo(k,D,N,O),k.promise.then(function(q){return{result:ir(q.result,b,L?.optimisticOps,h,k,j)}})):h.query(b)}})}})}};function Ns(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Qt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new je.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort($i),f.stores({}),this._state.autoSchema=!1),f},Qt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||ze.letThrough||this._vip)?l():new De(function(f,h){if(u._state.openComplete)return h(new je.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new je.DatabaseClosed);u.open().catch(Fe)}u._state.dbReadyPromise.then(f,h)}).then(l)},Qt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(j,N){return j.level-N.level}),this},Qt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Qt.prototype.open=function(){var l=this;return Xn(xn,function(){return Ho(l)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Ya.indexOf(this);if(0<=u&&Ya.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new De(function(f){l.dbReadyResolve=f}),l.openCanceller=new De(function(f,h){l.cancelOpen=h}))},Qt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new je.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new je.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Qt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new De(function(y,b){function j(){u.close(l);var N=u._deps.indexedDB.deleteDatabase(u.name);N.onsuccess=Bt(function(){var O,L,D;O=u._deps,L=u.name,Is(D=O.indexedDB)||L===ds||Pi(D,O.IDBKeyRange).delete(L).catch(Fe),y()}),N.onerror=Vn(b),N.onblocked=u._fireOnBlocked}if(f)throw new je.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(j):j()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new je.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,ft(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Qt.prototype._transaction=function(l,u,f){var h,y,b=this,j=ze.trans,N=(j&&j.db===this&&l.indexOf("!")===-1||(j=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(L){if(L=L instanceof b.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),l=="r"||l===ba)h=ba;else{if(l!="rw"&&l!=Aa)throw new je.InvalidArgument("Invalid transaction mode: "+l);h=Aa}if(j){if(j.mode===ba&&h===Aa){if(!N)throw new je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&y.forEach(function(L){if(j&&j.storeNames.indexOf(L)===-1){if(!N)throw new je.SubTransaction("Table "+L+" not included in parent transaction.");j=null}}),N&&j&&!j.active&&(j=null)}}catch(L){return j?j._promise(null,function(D,A){A(L)}):Tt(L)}var O=(function L(D,A,k,q,T){return De.resolve().then(function(){var K=ze.transless||ze,M=D._createTransaction(A,k,D._dbSchema,q),K=(M.explicit=!0,{trans:M,transless:K});if(q)M.idbtrans=q.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(ae){return ae.name===Gt.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return L(D,A,k,null,T)})):Tt(ae)}var X,J=W(T),K=(J&&en(),De.follow(function(){var ae;(X=T.call(M,M))&&(J?(ae=Tn.bind(null,null),X.then(ae,ae)):typeof X.next=="function"&&typeof X.throw=="function"&&(X=js(X)))},K));return(X&&typeof X.then=="function"?De.resolve(X).then(function(ae){return M.active?ae:Tt(new je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return X})).then(function(ae){return q&&M._resolve(),M._completion.then(function(){return ae})}).catch(function(ae){return M._reject(ae),Tt(ae)})})}).bind(null,this,h,y,j,f);return j?j._promise(h,O,"lock"):ze.trans?Xn(ze.transless,function(){return b._whenReady(O)}):this._whenReady(O)},Qt.prototype.table=function(l){if(_(this._allTables,l))return this._allTables[l];throw new je.InvalidTable("Table ".concat(l," does not exist"))};var sa=Qt;function Qt(l,u){var f,h,y,b,j,N=this,O=(this._middlewares={},this.verno=0,Qt.dependencies),O=(this._options=u=d({addons:Qt.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),L=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),D=(L.dbReadyPromise=new De(function(A){L.dbReadyResolve=A}),L.openCanceller=new De(function(A,k){L.cancelOpen=k}),this._state=L,this.name=l,this.on=ps(this,"populate","blocked","versionchange","close",{ready:[ne,Fe]}),this.once=function(A,k){var q=function(){for(var T=[],M=0;M<arguments.length;M++)T[M]=arguments[M];N.on(A).unsubscribe(q),k.apply(N,T)};return N.on(A,q)},this.on.ready.subscribe=Ne(this.on.ready.subscribe,function(A){return function(k,q){Qt.vip(function(){var T,M=N._state;M.openComplete?(M.dbOpenError||De.resolve().then(k),q&&A(k)):M.onReadyBeingFired?(M.onReadyBeingFired.push(k),q&&A(k)):(A(k),T=N,q||A(function X(){T.on.ready.unsubscribe(k),T.on.ready.unsubscribe(X)}))})}}),this.Collection=(f=this,pn(Bo.prototype,function(X,M){this.db=f;var q=Yi,T=null;if(M)try{q=M()}catch(K){T=K}var M=X._ctx,X=M.table,J=X.hook.reading.fire;this._ctx={table:X,index:M.index,isPrimKey:!M.index||X.schema.primKey.keyPath&&M.index===X.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:M.or,valueMapper:J!==ht?J:null}})),this.Table=(h=this,pn(Xi.prototype,function(A,k,q){this.db=h,this._tx=q,this.name=A,this.schema=k,this.hook=h._allTables[A]?h._allTables[A].hook:ps(null,{creating:[Yn,Fe],reading:[Vt,ht],updating:[ye,Fe],deleting:[ea,Fe]})})),this.Transaction=(y=this,pn(Zi.prototype,function(A,k,q,T,M){var X=this;A!=="readonly"&&k.forEach(function(J){J=(J=q[J])==null?void 0:J.yProps,J&&(k=k.concat(J.map(function(K){return K.updatesTable})))}),this.db=y,this.mode=A,this.storeNames=k,this.schema=q,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=ps(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(J,K){X._resolve=J,X._reject=K}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(J){var K=X.active;return X.active=!1,X.on.error.fire(J),X.parent?X.parent._reject(J):K&&X.idbtrans&&X.idbtrans.abort(),Tt(J)})})),this.Version=(b=this,pn(Uo.prototype,function(A){this.db=b,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,pn(Va.prototype,function(A,k,q){if(this.db=j,this._ctx={table:A,index:k===":id"?null:k,or:q},this._cmp=this._ascending=it,this._descending=function(T,M){return it(M,T)},this._max=function(T,M){return 0<it(T,M)?T:M},this._min=function(T,M){return it(T,M)<0?T:M},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new je.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=_l(u.IDBKeyRange),this._createTransaction=function(A,k,q,T){return new N.Transaction(A,k,q,N._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(A){N.on("blocked").fire(A),Ya.filter(function(k){return k.name===N.name&&k!==N&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(A)})},this.use(cu),this.use(ii),this.use(Ko),this.use(Lo),this.use(ou),new Proxy(this,{get:function(A,k,q){var T;return k==="_vip"||(k==="table"?function(M){return Ns(N.table(M),D)}:(T=Reflect.get(A,k,q))instanceof Xi?Ns(T,D):k==="tables"?T.map(function(M){return Ns(M,D)}):k==="_createTransaction"?function(){return Ns(T.apply(this,arguments),D)}:T)}}));this.vip=D,O.forEach(function(A){return A(N)})}var Dl,Ia=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",hu=(ri.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ri.prototype[Ia]=function(){return this},ri);function ri(l){this._subscribe=l}try{Dl={indexedDB:x.indexedDB||x.mozIndexedDB||x.webkitIndexedDB||x.msIndexedDB,IDBKeyRange:x.IDBKeyRange||x.webkitIDBKeyRange}}catch{Dl={indexedDB:null,IDBKeyRange:null}}function mu(l){var u,f=!1,h=new hu(function(y){var b=W(l),j,N=!1,O={},L={},D={get closed(){return N},unsubscribe:function(){N||(N=!0,j&&j.abort(),A&&yn.storagemutated.unsubscribe(q))}},A=(y.start&&y.start(D),!1),k=function(){return Ca(T)},q=function(M){ti(O,M),tr(L,O)&&k()},T=function(){var M,X,J;!N&&Dl.indexedDB&&(O={},M={},j&&j.abort(),j=new AbortController,J=(K=>{var ae=Na();try{b&&en();var de=Ut(l,K);return de=b?de.finally(Tn):de}finally{ae&&ta()}})(X={subscr:M,signal:j.signal,requery:k,querier:l,trans:null}),Promise.resolve(J).then(function(K){f=!0,u=K,N||X.signal.aborted||(O={},(ae=>{for(var de in ae)if(_(ae,de))return;return 1})(L=M)||A||(yn(wl,q),A=!0),Ca(function(){return!N&&y.next&&y.next(K)}))},function(K){f=!1,["DatabaseClosedError","AbortError"].includes(K?.name)||N||Ca(function(){N||y.error&&y.error(K)})}))};return setTimeout(k,0),D});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var el=sa;function rr(l){var u=Ma;try{Ma=!0,yn.storagemutated.fire(l),lr(l,!0)}finally{Ma=u}}$(el,d(d({},ie),{delete:function(l){return new el(l,{addons:[]}).delete()},exists:function(l){return new el(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=el.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Is(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ds})}):Pi(f,u).toCollection().primaryKeys()).then(l)}catch{return Tt(new je.MissingAPI)}var u,f},defineClass:function(){return function(l){z(this,l)}},ignoreTransaction:function(l){return ze.trans?Xn(ze.transless,l):l()},vip:Wi,async:function(l){return function(){try{var u=js(l.apply(this,arguments));return u&&typeof u.then=="function"?u:De.resolve(u)}catch(f){return Tt(f)}}},spawn:function(l,u,f){try{var h=js(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:De.resolve(h)}catch(y){return Tt(y)}},currentTransaction:{get:function(){return ze.trans||null}},waitFor:function(l,u){return l=De.resolve(typeof l=="function"?el.ignoreTransaction(l):l).timeout(u||6e4),ze.trans?ze.trans.waitFor(l):l},Promise:De,debug:{get:function(){return ke},set:function(l){xe(l)}},derive:oe,extend:z,props:$,override:Ne,Events:ps,on:yn,liveQuery:mu,extendObservabilitySet:ti,getByKeyPath:Se,setByKeyPath:ve,delByKeyPath:function(l,u){typeof u=="string"?ve(l,u,void 0):"length"in u&&[].map.call(u,function(f){ve(l,f,void 0)})},shallowClone:Pe,deepClone:ut,getObjectDiff:ai,cmp:it,asap:Oe,minKey:-1/0,addons:[],connections:Ya,errnames:Gt,dependencies:Dl,cache:Pa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),el.maxKey=_l(el.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(wl,function(l){Ma||(l=new CustomEvent(Za,{detail:l}),Ma=!0,dispatchEvent(l),Ma=!1)}),addEventListener(Za,function(l){l=l.detail,Ma||rr(l)}));var Tl,Ma=!1,Cn=function(){};return typeof BroadcastChannel<"u"&&((Cn=function(){(Tl=new BroadcastChannel(Za)).onmessage=function(l){return l.data&&rr(l.data)}})(),typeof Tl.unref=="function"&&Tl.unref(),yn(wl,function(l){Ma||Tl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!sa.disableBfCache&&l.persisted){ke&&console.debug("Dexie: handling persisted pagehide"),Tl?.close();for(var u=0,f=Ya;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!sa.disableBfCache&&l.persisted&&(ke&&console.debug("Dexie: handling persisted pageshow"),Cn(),rr({all:new gn(-1/0,[[]])}))})),De.rejectionMapper=function(l,u){return!l||l instanceof we||l instanceof TypeError||l instanceof SyntaxError||!l.name||!dt[l.name]?l:(u=new dt[l.name](u||l.message,l),"stack"in l&&Z(u,"stack",{get:function(){return this.inner.stack}}),u)},xe(ke),d(sa,Object.freeze({__proto__:null,Dexie:sa,Entity:tu,PropModification:jl,RangeSet:gn,add:function(l){return new jl({add:l})},cmp:it,default:sa,liveQuery:mu,mergeRanges:Ja,rangesOverlap:iu,remove:function(l){return new jl({remove:l})},replacePrefix:function(l,u){return new jl({replacePrefix:[l,u]})}}),{default:sa}),sa})})(vo)),vo.exports}var Ox=Ax();const Qf=q0(Ox),Tp=Symbol.for("Dexie"),No=globalThis[Tp]||(globalThis[Tp]=Qf);if(Qf.semVer!==No.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qf.semVer} and ${No.semVer}`);const{liveQuery:Cv,mergeRanges:Av,rangesOverlap:Ov,RangeSet:Dv,cmp:Tv,Entity:Mv,PropModification:kv,replacePrefix:zv,add:Rv,remove:Bv,DexieYProvider:qv}=No,ed=new No("WiseMarkDB");ed.version(1).stores({pdfs:"hash, filename, size, blob"});async function Yf(r){const c=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function td(r,c,m,d){await ed.pdfs.put({hash:r,filename:c,size:m,blob:d})}async function Dx(r){const c=await ed.pdfs.get(r);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function Tx(r){if(!r?.pdf_hash)return null;try{const{data:c}=await ln.getPdf(r.id),m=(c instanceof ArrayBuffer,c),d=r.file_size??m?.byteLength??0;return await td(r.pdf_hash,r.filename||"",d,m),{data:m,filename:r.filename||"",size:d}}catch{const c=await Dx(r.pdf_hash);return c||null}}function _o({value:r,options:c,onChange:m,placeholder:d="Select",minWidth:g="120px",className:x=""}){const[S,w]=U.useState(!1),z=U.useRef(null);U.useEffect(()=>{const _=$=>{z.current&&!z.current.contains($.target)&&w(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const E=c.find(_=>_.value===r),B=E?E.label:d;return o.jsxs("div",{ref:z,className:`relative ${x}`,children:[o.jsxs("button",{type:"button",onClick:()=>w(_=>!_),className:"flex items-center gap-2 px-3 py-1.5 rounded-full border-[1.5px] border-slate-200 bg-white hover:border-slate-300 hover:bg-slate-50 transition-all text-xs font-medium justify-between w-full",style:{fontFamily:"'DM Sans', sans-serif",color:E?"#1E293B":"#64748B",minWidth:g},children:[o.jsx("span",{className:"truncate",children:B}),o.jsx(Xr,{className:`w-3.5 h-3.5 shrink-0 text-slate-400 transition-transform ${S?"rotate-180":""}`})]}),S&&o.jsx("div",{className:"absolute left-0 top-full mt-1 z-50 py-1 bg-white rounded-[10px] border border-slate-200 shadow-lg",style:{fontFamily:"'DM Sans', sans-serif",minWidth:g},children:c.map(_=>o.jsxs("button",{type:"button",onClick:()=>{m(_.value),w(!1)},className:`w-full flex items-center gap-2 px-3 py-2 text-left text-xs font-medium transition-colors ${r===_.value?"bg-slate-100 text-slate-900":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[r===_.value?o.jsx(Vr,{className:"w-3.5 h-3.5 shrink-0 text-slate-700"}):o.jsx("span",{className:"w-3.5"}),_.label]},_.value??"empty"))})]})}const ma=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Mp(r){if(!r)return null;const c=new Date(r);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function Mx(r){if(!r)return null;const c=new Date(r);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:x<24?`${x}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function kx({doc:r,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:x,onOpen:S,onRename:w,onDelete:z}){const E=c[r.highlight_preset]??c._default,B=E?.colors?.[0]?.hex??"#94a3b8",_=r.color&&ma.includes(r.color)?r.color:m,$=r.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(r.id),onMouseLeave:x,onClick:()=>S(r.id),role:"button",tabIndex:0,onKeyDown:be=>be.key==="Enter"&&S(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${_}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[E&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:B,background:`${B}14`},children:E.name}),Mp(r.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Mp(r.created_at)})]}),r.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",Mx(r.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:$>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[$," note",$!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),w(r)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(Mo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),z(r)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsx(Fr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function zx(){const{projectId:r}=Vf(),c=bl(),m=Ui(),[d,g]=U.useState(!1),[x,S]=U.useState(""),[w,z]=U.useState(null),[E,B]=U.useState(""),[_,$]=U.useState(!1),[be,Z]=U.useState(""),[oe,I]=U.useState(null),[ce,fe]=U.useState(""),[Ne,he]=U.useState(null),[Oe,Se]=U.useState(ma[0]),ve=U.useRef(null),Pe=U.useRef(null),Ze=U.useRef(null),[ft,Qe]=U.useState(0),[We,ut]=U.useState(null),[_e,He]=U.useState("recent"),[Y,ue]=U.useState(!1),[ge,Ee]=U.useState(null),[G,W]=U.useState(!1),{data:ie,isLoading:Q}=zn({queryKey:["project",r],queryFn:async()=>(await Yr.get(r)).data,enabled:!!r}),{data:we,isLoading:Le}=zn({queryKey:["documents",r],queryFn:async()=>(await ln.list({project:r})).data,enabled:!!r}),Ve=Array.isArray(we)?we:we?.results??[],{data:yt=[]}=zn({queryKey:["lenses"],queryFn:async()=>(await In.list()).data}),Gt=U.useMemo(()=>{const Te={};yt.forEach(gt=>{Te[gt.id]=gt});const qe=yt.find(gt=>gt.is_system)??yt[0];return qe&&(Te._default=qe),Te},[yt]),dn=U.useMemo(()=>{const Te=[...Ve];return _e==="recent"?Te.sort((qe,gt)=>{const Lt=qe.last_opened_at||qe.updated_at||qe.created_at||"";return(gt.last_opened_at||gt.updated_at||gt.created_at||"").localeCompare(Lt)}):_e==="uploaded"?Te.sort((qe,gt)=>(gt.created_at||"").localeCompare(qe.created_at||"")):_e==="name"?Te.sort((qe,gt)=>(qe.filename||"").localeCompare(gt.filename||"")):_e==="annotations"&&Te.sort((qe,gt)=>(gt.annotation_count??0)-(qe.annotation_count??0)),Te},[Ve,_e]),je=Ve.reduce((Te,qe)=>Te+(qe.annotation_count??0),0),dt=On({mutationFn:({id:Te,name:qe})=>Yr.update(Te,{name:qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",r]}),m.invalidateQueries({queryKey:["projects"]}),$(!1)}}),Fe=On({mutationFn:({id:Te,filename:qe})=>ln.update(Te,{filename:qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),z(null),B("")}}),ht=On({mutationFn:Te=>ln.delete(Te),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),Ee(null)}}),Vt=On({mutationFn:Te=>Yr.delete(Te),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),At=async Te=>{const qe=Te.target.files?.[0];if(!qe||!qe.type.includes("pdf"))return;S(""),I(qe);const gt=qe.name.replace(/\.pdf$/i,"")||qe.name;fe(gt),Se(ma[Ve.length%ma.length]),he(null),ve.current=null;try{const Lt=await qe.arrayBuffer(),Jt=await Yf(Lt),hn={arrayBuffer:Lt,hash:Jt,size:qe.size};he(hn),ve.current={...hn,suggestedName:gt}}catch(Lt){S(Lt.message||"Could not read file"),I(null),fe("")}},Yn=async Te=>{Te.preventDefault(),ue(!1);const qe=Te.dataTransfer?.files?.[0];if(!qe||!qe.type.includes("pdf"))return;S(""),I(qe);const gt=qe.name.replace(/\.pdf$/i,"")||qe.name;fe(gt),Se(ma[Ve.length%ma.length]),he(null),ve.current=null;try{const Lt=await qe.arrayBuffer(),Jt=await Yf(Lt),hn={arrayBuffer:Lt,hash:Jt,size:qe.size};he(hn),ve.current={...hn,suggestedName:gt}}catch(Lt){S(Lt.message||"Could not read file"),I(null),fe("")}},ea=()=>{I(null),fe(""),he(null),Se(ma[0]),S(""),ve.current=null,Qe(Te=>Te+1)},ye=()=>Ze.current?.click(),st=async Te=>{Te.preventDefault();const qe=r,Lt=Pe.current?.value?.trim()||ce?.trim()||ve.current?.suggestedName?.trim()||"",Jt=ve.current||Ne;if(!qe){S("Project not found.");return}if(!Lt){S("Please enter a name for the PDF.");return}if(!Jt||!Jt.hash||!Jt.arrayBuffer){S("File data missing. Please close and select the file again.");return}const hn=Lt.toLowerCase().endsWith(".pdf")?Lt:`${Lt}.pdf`;S(""),g(!0);try{const Pt=new FormData;Pt.append("project",String(qe)),Pt.append("filename",hn),Pt.append("color",Oe),Pt.append("file",new Blob([Jt.arrayBuffer]),hn),await ln.createWithFile(Pt),await td(Jt.hash,hn,Jt.size,Jt.arrayBuffer),m.invalidateQueries({queryKey:["documents",qe]}),I(null),fe(""),he(null),ve.current=null,Qe(Wt=>Wt+1)}catch(Pt){const Wt=Pt.response?.data?.detail||typeof Pt.response?.data=="object"&&Object.values(Pt.response?.data||{}).flat().join(" ")||Pt.message||"Upload failed";S(String(Wt))}finally{g(!1)}},ne=Te=>{z(Te.id),B(Te.filename||"")},ke=()=>{if(w==null||!E.trim()){z(null);return}Fe.mutate({id:w,filename:E.trim()})},xe=()=>{z(null),B("")},$e=()=>{Z(ie?.name??""),$(!0)},at=()=>{const Te=be.trim();if(!Te||Te===ie?.name){$(!1);return}dt.mutate({id:r,name:Te})},vt=()=>{$(!1),Z("")},Et=ie?.color&&ma.includes(ie.color)?ie.color:ie?ma[ie.id%ma.length]:ma[0];return Q||!ie?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(pa,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsx(ko,{showBack:!0,backTo:"/app"}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:_?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:be,onChange:Te=>Z(Te.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:Te=>{Te.key==="Enter"&&at(),Te.key==="Escape"&&vt()}}),o.jsx("button",{type:"button",onClick:at,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(Vr,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:vt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:ie.name})}),!_&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:$e,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(Mo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>W(!0),disabled:Vt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[Ve.length," document",Ve.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[je," annotation",je!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(_o,{value:_e,options:[{value:"recent",label:"Recently opened"},{value:"uploaded",label:"Date uploaded"},{value:"name",label:"Name AZ"},{value:"annotations",label:"Most annotated"}],onChange:He,minWidth:"140px"}),o.jsxs("button",{type:"button",onClick:ye,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(wo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:Ze,type:"file",accept:".pdf",onChange:At,className:"hidden","aria-hidden":"true",tabIndex:-1},ft),x&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:x}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(pa,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Le?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(pa,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):Ve.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(qi,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(Te=>w===Te.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:E,onChange:qe=>B(qe.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:qe=>{qe.key==="Enter"&&ke(),qe.key==="Escape"&&xe()}}),o.jsx("button",{type:"button",onClick:ke,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(Vr,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:xe,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-4 h-4"})})]},Te.id):o.jsx(kx,{doc:Te,lensMap:Gt,projectColor:Et,hovered:We===Te.id,onHover:ut,onLeave:()=>ut(null),onOpen:qe=>c(`/document/${qe}`),onRename:ne,onDelete:qe=>Ee(qe)},Te.id))}),Ve.length>0&&o.jsxs("div",{onDragOver:Te=>{Te.preventDefault(),ue(!0)},onDragLeave:()=>ue(!1),onDrop:Yn,onClick:ye,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${Y?"#2563eb":"#e2e8f0"}`,background:Y?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:Y?"#dbeafe":"#f1f5f9"},children:o.jsx(wo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:Y?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),oe&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ea,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:Te=>Te.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),Ne?o.jsxs("div",{className:"space-y-4",children:[x&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:x}),o.jsx("input",{ref:Pe,type:"text",value:ce,onChange:Te=>fe(Te.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:ma.map(Te=>o.jsx("button",{type:"button",onClick:()=>Se(Te),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:Te,borderColor:Oe===Te?"#1e293b":"transparent",outline:Oe===Te?"2px solid #fff":"none",outlineOffset:-4}},Te))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ea,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:st,disabled:d||!ce.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(pa,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(pa,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),ge&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ht.isPending&&Ee(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Te=>Te.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:ge.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Ee(null),disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>ht.mutate(ge.id),disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:ht.isPending?"Deleting":"Delete"})]})]})}),G&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Vt.isPending&&W(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Te=>Te.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:ie.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>W(!1),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Vt.mutate(r),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Vt.isPending?"Deleting":"Delete project"})]})]})})]})}const gl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Eo=Object.keys(gl);function La(r,c=1){if(!r||!r.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(r.slice(1),16),d=m>>16&255,g=m>>8&255,x=m&255;return`rgba(${d},${g},${x},${c})`}function ts(r,c={},m){if(c&&typeof c[r]=="string"&&c[r].trim())return c[r].trim();if(m?.length){const d=m.find(g=>g.key===r);if(d?.display_name)return d.display_name}return gl[r]&&gl[r].name||r}K0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const Rx=()=>typeof window<"u"&&window.devicePixelRatio||1;function Bx(r,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,x=g,S=typeof r.width=="number"&&r.width>0?r.width*d:(r.str?.length||1)*x*.5,w=c[4],z=c[5]-g*.85;return{x:w,y:z,w:S,h:x}}function qx(r,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),x=[];let S=0,w=-999;const z=4;let E=0;return r.items.forEach(B=>{if(!B.str||B.str.trim()==="")return;const _=Y0.transform(c.transform,B.transform),$=Bx(B,_);Math.abs($.y-w)>z&&(S+=1,w=$.y);const be=$.h,Z=typeof B.width=="number"&&B.width>0?B.width*m:$.w,oe=B.str.split(/(\s+)/);if(!g||oe.length===0){x.push({id:E++,text:B.str,x:$.x,y:$.y,w:$.w,h:$.h,fontSize:$.h,lineIndex:S});return}g.font=`${be}px sans-serif`;const I=oe.map(he=>({text:he,measured:g.measureText(he).width,isSpace:/^\s+$/.test(he)||he===""})),ce=I.reduce((he,Oe)=>he+Oe.measured,0),fe=ce>0?Z/ce:1;let Ne=0;I.forEach(he=>{const Oe=he.measured*fe;if(he.text===""||he.isSpace){Ne+=Oe;return}x.push({id:E,text:he.text,x:$.x+Ne,y:$.y,w:Oe,h:be,fontSize:be,lineIndex:S}),E+=1,Ne+=Oe})}),x}function dy(r){const c={};return r.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function kp(r,c,m){let x=null,S=1/0;for(const w of r){if(!(m>=w.y-6&&m<=w.y+w.h+6))continue;if(c>=w.x-4&&c<=w.x+w.w+4)return w;const B=c<w.x?w.x-c:c-(w.x+w.w);B<S&&B<40&&(S=B,x=w)}return x}function Ux(r){if(!r.length)return"";const c=[];for(let x=1;x<r.length;x++){const S=r[x],w=r[x-1];(S.lineIndex??0)!==(w.lineIndex??0)&&S.y>w.y&&c.push(S.y-w.y)}const m=c.length?[...c].sort((x,S)=>x-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let x=0;x<r.length;x++){const S=r[x];if(x>0){const w=r[x-1],z=(S.lineIndex??0)===(w.lineIndex??0),E=S.y-w.y,B=Math.max(8,(w.h+S.h)/2),_=d!=null?d*1.4:B*1.5,$=!z&&E>=_;z?S.x-(w.x+w.w)>1&&(g+=" "):$?g+=`

`:g+=`
`}g+=S.text}return g.trim()}function Hx(r,c){return r.length?dy(r).map(d=>{const g=Math.min(...d.map(_=>_.x)),x=Math.max(...d.map(_=>_.x+_.w)),S=d.map(_=>_.y),w=S.sort((_,$)=>_-$)[Math.floor(S.length/2)],z=Math.max(...d.map(_=>_.h)),E=2;return{x:(g-1)/c,y:(w-E)/c,width:(x-g+2)/c,height:(z+E+3)/c}}):[]}function Lx({pdfData:r,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:x=null,lensColors:S=[],onSelectionComplete:w,onNumPages:z,onHighlightHover:E,onHighlightHoverEnd:B,onHighlightEdit:_,onHighlightDelete:$}){const[be,Z]=U.useState(null),[oe,I]=U.useState(0),[ce,fe]=U.useState(!0);return U.useEffect(()=>{if(!r)return;let Ne=!1;return(async()=>{fe(!0);try{const Oe=r.slice(0),Se=await Q0({data:Oe}).promise;Ne||(Z(Se),I(Se.numPages),z?.(Se.numPages))}catch(Oe){console.error("Failed to load PDF",Oe)}Ne||fe(!1)})(),()=>{Ne=!0}},[r,z]),ce?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(pa,{className:"w-6 h-6 text-slate-400 animate-spin"})}):be?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:oe},(Ne,he)=>o.jsx(Kx,{pdf:be,pageNumber:he+1,scale:c,pageHighlights:m.filter(Oe=>Oe.page_number===he+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:x,lensColors:S,onSelectionComplete:w,onHighlightHover:E,onHighlightHoverEnd:B,onHighlightEdit:_,onHighlightDelete:$},he))}):null}function Kx({pdf:r,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:x,selectionForPicker:S,lensColors:w=[],onSelectionComplete:z,onHighlightHover:E,onHighlightHoverEnd:B,onHighlightEdit:_,onHighlightDelete:$}){const be=U.useRef(null),Z=U.useRef(null),oe=U.useRef(null),I=U.useRef(null),[ce,fe]=U.useState({width:0,height:0}),[Ne,he]=U.useState([]),[Oe,Se]=U.useState(null),[ve,Pe]=U.useState(null),[Ze,ft]=U.useState(!1),Qe=U.useRef(null),We=U.useRef(null),ut=U.useCallback(()=>{We.current&&clearTimeout(We.current),We.current=setTimeout(()=>{B?.(),We.current=null},1e3)},[B]),_e=U.useCallback(W=>{We.current&&(clearTimeout(We.current),We.current=null),E?.(W)},[E]);U.useEffect(()=>()=>{We.current&&clearTimeout(We.current)},[]),U.useEffect(()=>{let W=!1;return(async()=>{const Q=await r.getPage(c),we=Rx(),Le=Q.getViewport({scale:m}),Ve=Q.getViewport({scale:m*we}),yt=Z.current;if(!yt||W)return;const Gt=yt.getContext("2d",{alpha:!1});Gt.imageSmoothingEnabled=!0,Gt.imageSmoothingQuality="high",yt.width=Ve.width,yt.height=Ve.height,yt.style.width=`${Le.width}px`,yt.style.height=`${Le.height}px`,fe({width:Le.width,height:Le.height}),await Q.render({canvasContext:Gt,viewport:Ve}).promise;const dn=await Q.getTextContent();if(W)return;const je=qx(dn,Le,m);he(je);const dt=oe.current;!dt||W||(dt.innerHTML="",dt.style.width=`${Le.width}px`,dt.style.height=`${Le.height}px`,je.forEach(Fe=>{const ht=document.createElement("span");ht.textContent=Fe.text,ht.style.position="absolute",ht.style.left=`${Fe.x}px`,ht.style.top=`${Fe.y}px`,ht.style.width=`${Fe.w}px`,ht.style.height=`${Fe.h}px`,ht.style.fontSize=`${Fe.fontSize}px`,ht.style.fontFamily="sans-serif",ht.style.color="transparent",ht.style.whiteSpace="pre",ht.style.pointerEvents="none",ht.style.lineHeight="1",dt.appendChild(ht)}))})(),()=>{W=!0}},[r,c,m]);const He=U.useMemo(()=>{if(S&&S.pageNumber===c){const Q=Math.min(S.spanStart,S.spanEnd),we=Math.max(S.spanStart,S.spanEnd);return Ne.filter(Le=>Le.id>=Q&&Le.id<=we)}if(Oe==null||ve==null)return[];const W=Math.min(Oe,ve),ie=Math.max(Oe,ve);return Ne.filter(Q=>Q.id>=W&&Q.id<=ie)},[Ne,S,c,Oe,ve]);U.useEffect(()=>{S===null&&Qe.current?.pageNumber===c&&(Se(null),Pe(null)),Qe.current=S},[S,c]);const Y=U.useCallback((W,ie)=>{const Q=be.current?.getBoundingClientRect();return Q?{x:W-Q.left,y:ie-Q.top}:{x:0,y:0}},[]),ue=U.useCallback(W=>{if(W.button!==0||!Ne.length)return;const{x:ie,y:Q}=Y(W.clientX,W.clientY),we=kp(Ne,ie,Q);we?(Se(we.id),Pe(we.id),ft(!0)):(Se(null),Pe(null))},[Ne,Y]),ge=U.useCallback(W=>{if(!Ze)return;const{x:ie,y:Q}=Y(W.clientX,W.clientY),we=kp(Ne,ie,Q);we&&Pe(we.id)},[Ze,Ne,Y]),Ee=U.useCallback(W=>{if(W.button!==0||!Ze)return;if(ft(!1),He.length<2){Se(null),Pe(null);return}if(!z)return;const ie=be.current?.getBoundingClientRect();if(!ie)return;const Q={rects:Hx(He,m)},we=Ux(He),Le=He[He.length-1],Ve={x:ie.left+(Le.x+Le.w/2),y:ie.top+(Le.y-8)};z({pageNumber:c,position_data:Q,highlighted_text:we,spanStart:Math.min(Oe,ve),spanEnd:Math.max(Oe,ve),pickerPosition:Ve})},[Ze,He,Oe,ve,m,c,z]);U.useEffect(()=>{const W=I.current||be.current;if(W)return W.addEventListener("mousedown",ue),W.addEventListener("mousemove",ge),W.addEventListener("mouseup",Ee),W.addEventListener("mouseleave",Ee),()=>{W.removeEventListener("mousedown",ue),W.removeEventListener("mousemove",ge),W.removeEventListener("mouseup",Ee),W.removeEventListener("mouseleave",Ee)}},[ue,ge,Ee]);const G=U.useMemo(()=>dy(He),[He]);return o.jsxs("div",{ref:be,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:ce.width||0,height:ce.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:Z,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:I,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(W=>{const ie=W.position_data?.rects||[],Q=(w??[]).find(dt=>dt.key===W.color),we=gl[W.color]||gl.yellow,Le=Q?.hex??we?.hex??we?.solid,Ve=g!=null&&String(W.id)===String(g),yt=x!=null&&String(W.id)===String(x),Gt=Ve||yt?La(Le,.38):La(Le,.18),dn=_||$;let je=null;if(ie.length>0){const dt=Math.min(...ie.map(At=>At.x))*m,Fe=Math.min(...ie.map(At=>At.y))*m,ht=Math.max(...ie.map(At=>(At.x||0)+(At.width||0)))*m,Vt=Math.max(...ie.map(At=>(At.y||0)+(At.height||4)))*m;je={left:dt,top:Fe,width:ht-dt,height:Vt-Fe}}return je?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:je.left,top:je.top,width:je.width,height:je.height,pointerEvents:"auto"},onMouseEnter:()=>_e(W.id),onMouseLeave:ut,children:[ie.map((dt,Fe)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(dt.x||0)*m-je.left,top:(dt.y||0)*m-je.top,width:Math.max(0,(dt.width||0)*m),height:Math.max(4,(dt.height||0)*m),backgroundColor:Gt,pointerEvents:"none"}},Fe)),dn&&Ve&&je&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>_e(W.id),onMouseLeave:ut,children:[_&&o.jsx("button",{type:"button",onClick:dt=>{dt.stopPropagation(),_(W.id,dt)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(Mo,{className:"w-3.5 h-3.5",strokeWidth:2})}),$&&o.jsx("button",{type:"button",onClick:dt=>{dt.stopPropagation(),$(W.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},W.id):null}),G.map((W,ie)=>{const Q=Math.min(...W.map(je=>je.x)),we=Math.max(...W.map(je=>je.x+je.w)),Le=W.map(je=>je.y).sort((je,dt)=>je-dt),Ve=Le[Math.floor(Le.length/2)],yt=Math.max(...W.map(je=>je.h)),Gt=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${Q-1}px`,top:`${Ve-Gt}px`,width:`${we-Q+2}px`,height:`${yt+Gt+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},ie)})]}),o.jsx("div",{ref:oe,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function ns(r){return!r||typeof r!="string"?r:r.split(/(?:\r?\n\s*){2,}/).map(c=>c.replace(/\r\n|\r|\n/g," ").replace(/\s+/g," ").trim()).filter(c=>c.length>0).join(`

`)}function Qx({highlights:r,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:x,onHighlightClick:S,onHighlightHover:w,onHighlightHoverEnd:z,onClearActive:E,documentId:B,onHighlightNoteUpdate:_,onHighlightDelete:$,openEditForHighlightId:be,onClearOpenEditForHighlightId:Z}){const oe=m?.length>0?m.map(_e=>_e.key):d?.length>0?d:Eo,[I,ce]=U.useState("all"),[fe,Ne]=U.useState(!1),[he,Oe]=U.useState(""),[Se,ve]=U.useState(null),[Pe,Ze]=U.useState("");U.useEffect(()=>{if(be==null||!r?.length)return;const _e=r.find(He=>String(He.id)===String(be));_e&&(ve(_e.id),Ze(_e.note?.content??"")),Z?.()},[be,r,Z]);const ft=U.useMemo(()=>{let _e=r||[];if(I!=="all"&&(_e=_e.filter(He=>He.color===I)),he.trim()){const He=he.trim().toLowerCase();_e=_e.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(He)||Y.note?.content&&Y.note.content.toLowerCase().includes(He))}return _e},[r,I,he]),Qe=_e=>{ve(_e.id),Ze(_e.note?.content??"")},We=async()=>{if(Se==null||!B||!_){ve(null);return}await _(Se,Pe.trim()||""),ve(null)},ut=()=>{ve(null),Ze("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${ya.default} ${Ha.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${ya.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Xe.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Xe.muted} mb-4`,children:[ft.length," highlight",ft.length!==1?"s":"",r?.length!==ft.length&&` of ${r?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{ce("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${I==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Xe.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ne(_e=>!_e),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Xe.secondary} hover:text-slate-800 transition-colors`,children:[fe?o.jsx(Fr,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(Xr,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!fe&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:oe.map(_e=>{const He=(r||[]).filter(W=>W.color===_e).length,Y=gl[_e],ge=m?.find(W=>W.key===_e)?.hex??Y?.hex??Y?.solid??"#94a3b8",Ee=ts(_e,c,m),G=I===_e;return o.jsxs("button",{type:"button",onClick:()=>{ce(G?"all":_e),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${G?"border-transparent":`border-slate-200 ${Xe.secondary} hover:bg-slate-50`}`,style:G?{backgroundColor:`${ge}25`,color:ge}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ge,opacity:1}}),o.jsx("span",{children:Ee}),o.jsxs("span",{className:G?"opacity-80":Xe.muted,children:["(",He,")"]})]},_e)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Zr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:he,onChange:_e=>Oe(_e.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${ya.default} rounded-lg bg-slate-50 outline-none ${Xe.body} placeholder:${Xe.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:r?.length?ft.length?o.jsx("ul",{className:"space-y-1.5",children:ft.map(_e=>{const He=gl[_e.color]||gl.yellow,ue=m?.find(G=>G.key===_e.color)?.hex??He?.hex??He?.solid??"#94a3b8",ge=_e.note?.content,Ee=g!=null&&String(_e.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ee?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(_e.id),x?.(_e.page_number)},onKeyDown:G=>{G.target.tagName==="TEXTAREA"||G.target.tagName==="INPUT"||G.target.isContentEditable||(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),S?.(_e.id),x?.(_e.page_number))},onMouseEnter:()=>w?.(_e.id),onMouseLeave:z,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:ue,opacity:Ee?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Xe.body} whitespace-pre-line`,children:ns(_e.highlighted_text)||"(No text captured)"})})]}),Se===_e.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Pe,onChange:G=>Ze(G.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${ya.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Xe.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:We,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:ut,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[ge&&o.jsx("p",{className:`text-[11.5px] ${Xe.muted} mt-2 pl-3.5 leading-snug italic whitespace-pre-line`,children:ns(ge)}),B&&_&&o.jsx("button",{type:"button",onClick:()=>Qe(_e),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:ge?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:ue,backgroundColor:`${ue}12`},children:ts(_e.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",_e.page_number]}),B&&$&&o.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),$(_e.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},_e.id)})}):o.jsx("div",{className:`py-6 text-center ${Xe.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Xe.muted} text-sm`,children:[o.jsx(qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Xf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Yx(r,c){return r?.length?[...r].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Xf.find(d=>d.colorKey===m)).filter(Boolean):Xf}function Xx({position:r,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:x=[]}){const S=U.useRef(null),w=U.useRef(null),[z,E]=U.useState(null),[B,_]=U.useState(""),[$,be]=U.useState(!1),[Z,oe]=U.useState(!1),I=U.useMemo(()=>Yx(x,g),[x,g]),ce=I.length>0?I:Xf,fe=U.useCallback(Se=>ts(Se,d,x),[d,x]);U.useEffect(()=>{$&&w.current&&w.current.focus()},[$]);const Ne=U.useCallback(Se=>{E(Se.colorKey),$||(c(Se.colorKey,""),m())},[$,c,m]),he=U.useCallback(()=>{z&&(c(z,B.trim()||void 0),m())},[z,B,c,m]);if(U.useEffect(()=>{const Se=ve=>{if(ve.key==="Escape"){m();return}if(!$){const Pe=parseInt(ve.key,10);if(Pe>=1&&Pe<=ce.length){const Ze=ce[Pe-1];Ze&&Ne(Ze)}}$&&ve.key==="Enter"&&(ve.metaKey||ve.ctrlKey)&&(ve.preventDefault(),he())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[$,z,B,m,Ne,he,ce]),U.useEffect(()=>{const Se=ve=>{S.current&&!S.current.contains(ve.target)&&m()};return document.addEventListener("mousedown",Se),()=>document.removeEventListener("mousedown",Se)},[m]),U.useEffect(()=>{_(""),E(null),be(!1),oe(!1)},[r]),!r)return null;const Oe=z?ce.find(Se=>Se.colorKey===z):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:r.x,top:r.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:Z?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:Oe?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:$?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[ce.map((Se,ve)=>o.jsx("button",{type:"button",onClick:()=>Ne(Se),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:z===Se.colorKey?`${Se.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:Se.color,boxShadow:z===Se.colorKey?`0 0 0 2px ${Se.color}80`:"none",transform:z===Se.colorKey?"scale(1.15)":"scale(1)"}})},Se.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>be(!$),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${$?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),$&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!Oe&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),Oe&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:Oe.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:fe(Oe.colorKey)})]}),o.jsx("textarea",{ref:w,value:B,onChange:Se=>_(Se.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:he,disabled:!Oe,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Gx=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],zp=5;function Vx({lens:r,documentId:c,onClose:m}){const d=Ui(),g=r?.colors??[],x=!r||r.is_system,[S,w]=U.useState(null),[z,E]=U.useState(""),B=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},_=On({mutationFn:fe=>In.addColor(r.id,fe),onSuccess:()=>{B(),w(null),E("")}}),$=On({mutationFn:fe=>In.removeColor(r.id,fe),onSuccess:B}),be=On({mutationFn:({colorId:fe,data:Ne})=>In.updateColor(r.id,fe,Ne),onSuccess:B}),Z=new Set(g.map(fe=>fe.hex.toLowerCase())),oe=Gx.filter(fe=>!Z.has(fe.toLowerCase())),I=()=>{!S||!z.trim()||_.mutate({key:`custom_${Date.now()}`,display_name:z.trim(),hex:S})},ce=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Ha.surface} rounded-xl shadow-xl border ${ya.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:fe=>fe.stopPropagation(),onMouseDown:fe=>fe.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Xe.heading}`,children:"Edit lens"}),r&&o.jsx("p",{className:`text-xs ${Xe.muted} mt-0.5`,children:r.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:x?o.jsx("p",{className:`text-sm ${Xe.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Xe.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",zp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(fe=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:fe.hex}}),o.jsx("input",{type:"text",defaultValue:fe.display_name,placeholder:"Label",onBlur:Ne=>{const he=Ne.target.value.trim();he&&he!==fe.display_name&&be.mutate({colorId:fe.id,data:{display_name:he}})},className:`flex-1 min-w-0 rounded-lg border ${ya.default} px-2.5 py-1.5 text-sm ${Xe.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>$.mutate(fe.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:$.isPending,children:o.jsx(as,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},fe.id))}),o.jsx("p",{className:`text-xs ${Xe.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<zp&&oe.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:z,onChange:fe=>E(fe.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:fe=>{fe.key==="Enter"&&I()},className:`flex-1 min-w-0 rounded-lg border ${ya.default} px-2.5 py-1.5 text-sm ${Xe.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{w(null),E("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:I,disabled:!z.trim()||_.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:_.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Xe.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(fe=>o.jsx("button",{type:"button",onClick:()=>{w(fe),E("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:fe}},fe))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?ce:U0.createPortal(ce,document.body)}function Fx({position:r,initialValue:c="",onSave:m,onClose:d}){const[g,x]=U.useState(c),S=U.useRef(null),w=U.useRef(null);return U.useEffect(()=>{x(c)},[c,r]),U.useEffect(()=>{w.current?.focus()},[r]),U.useEffect(()=>{const z=E=>{E.key==="Escape"&&d(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[g,m,d]),U.useEffect(()=>{const z=E=>{S.current&&!S.current.contains(E.target)&&d()};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[d]),r?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:r.x,top:r.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:w,value:g,onChange:z=>x(z.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Zx(){const{id:r}=Vf(),c=bl(),m=Ui(),[d,g]=U.useState(null),[x,S]=U.useState(!1),[w,z]=U.useState(!0),[E,B]=U.useState(1.3),[_,$]=U.useState(!0),[be,Z]=U.useState(null),[oe,I]=U.useState(null),[ce,fe]=U.useState(null),[Ne,he]=U.useState(null),[Oe,Se]=U.useState(null),[ve,Pe]=U.useState(0),[Ze,ft]=U.useState(1),[Qe,We]=U.useState(!1),[ut,_e]=U.useState(null),[He,Y]=U.useState(null),[ue,ge]=U.useState(null),{data:Ee,isLoading:G,isError:W}=zn({queryKey:["document",r],queryFn:async()=>{const{data:ye}=await ln.get(r);return ye},enabled:!!r});U.useEffect(()=>{if(!Ee||!r)return;let ye=!1;return(async()=>{z(!0);try{const ne=await Tx(Ee);ye||(ne?g(ne.data):S(!0))}finally{ye||z(!1)}})(),()=>{ye=!0}},[Ee,r]);const{data:ie=[]}=zn({queryKey:["highlights",r],queryFn:async()=>{const{data:ye}=await ln.highlights(r);return ye},enabled:!!r}),{data:Q=[]}=zn({queryKey:["lenses"],queryFn:async()=>{const{data:ye}=await In.list();return ye}}),we=U.useMemo(()=>Q.length?Ee?.highlight_preset!=null?Q.find(ye=>ye.id===Ee.highlight_preset)??null:Q.find(ye=>ye.is_system)??Q[0]??null:null,[Q,Ee?.highlight_preset]),Le=U.useMemo(()=>we?.colors??Ee?.highlight_preset_detail?.colors??[],[we?.colors,Ee?.highlight_preset_detail?.colors]),Ve=U.useMemo(()=>{if(Le?.length)return Le.map(st=>st.key);const ye=Object.keys(Ee?.color_labels||{});return ye.length>0?ye:[...Eo]},[Le,Ee?.color_labels]),yt=On({mutationFn:({documentId:ye,payload:st})=>ln.update(ye,st),onSuccess:(ye,{documentId:st})=>{m.invalidateQueries({queryKey:["document",st]})}}),Gt=U.useCallback(async ye=>{if(!r)return;const st=`_opt_${Date.now()}`,ne={id:st,page_number:ye.page_number,position_data:ye.position_data,highlighted_text:ye.highlighted_text,color:ye.color,note:ye.comment?{id:st,content:ye.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",r],(ke=[])=>[...ke,ne]),fe(null),he(null),Se(null);try{await ln.createHighlight(r,ye),m.invalidateQueries({queryKey:["highlights",r]})}catch(ke){console.error("Failed to save highlight",ke),m.setQueryData(["highlights",r],(xe=[])=>xe.filter($e=>$e.id!==st))}},[r,m]),dn=U.useCallback(ye=>{fe({page_number:ye.pageNumber,position_data:ye.position_data,highlighted_text:ye.highlighted_text}),he(ye.pickerPosition),Se({pageNumber:ye.pageNumber,spanStart:ye.spanStart,spanEnd:ye.spanEnd})},[]),je=U.useCallback((ye,st)=>{ce&&Gt({...ce,color:ye,comment:st})},[ce,Gt]),dt=U.useCallback(()=>{fe(null),he(null),Se(null)},[]),Fe=U.useCallback(ye=>{ft(ye),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${ye}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),ht=U.useCallback(ye=>{I(st=>st!=null&&String(st)===String(ye)?null:ye)},[]),Vt=U.useCallback(ye=>Pe(ye??0),[]),At=U.useCallback(()=>{if(Ze<=1)return;const ye=Ze-1;ft(ye),Fe(ye)},[Ze,Fe]),Yn=U.useCallback(()=>{if(Ze>=ve)return;const ye=Ze+1;ft(ye),Fe(ye)},[Ze,ve,Fe]),ea=async ye=>{const st=ye.target.files?.[0];if(!st||!Ee||!r)return;const ne=await st.arrayBuffer(),ke=await Yf(ne);if(ke!==Ee.pdf_hash){alert("This file does not match the original document.");return}try{const xe=new FormData;xe.append("file",new Blob([ne],{type:"application/pdf"}),st.name||Ee.filename||"document.pdf"),await ln.uploadPdf(r,xe)}catch(xe){const $e=xe.response?.data?.detail??xe.message??"Upload failed";alert(typeof $e=="string"?$e:JSON.stringify($e));return}await td(ke,Ee.filename||st.name,st.size,ne),g(ne),S(!1)};return r?G||w?o.jsx("div",{className:`${Hs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(pa,{className:`w-8 h-8 ${Xe.muted} animate-spin`})}):W||!Ee&&!G?o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Xe.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Xe.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Ee?.project?`/project/${Ee.project}`:"/"),className:Gr,children:"Back to project"})]}):x?o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center`,children:[o.jsx(wo,{className:`w-12 h-12 ${Xe.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Xe.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Xe.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:Ee?.filename}),"."]}),o.jsxs("label",{className:`${Gr} inline-flex items-center gap-2`,children:[o.jsx(wo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ea,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(Ee?.project?`/project/${Ee.project}`:"/"),className:`mt-4 text-sm ${Xe.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${Ha.page} overflow-hidden`,children:[o.jsxs("header",{className:`${uy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Ee?.project?`/project/${Ee.project}`:"/"),className:Qr,title:"Back to project",children:o.jsx(Wf,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Xe.heading} truncate max-w-xs`,children:Ee?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Q.length>0&&o.jsx(_o,{value:Ee?.highlight_preset!=null?Ee.highlight_preset:Q.find(ye=>ye.is_system)?.id??Q[0]?.id,options:Q.map(ye=>({value:ye.id,label:ye.name})),onChange:ye=>{r&&(ie.length>0?ge(ye):yt.mutate({documentId:r,payload:{highlight_preset:ye}}))},minWidth:"140px",className:"max-w-44"}),o.jsx("button",{type:"button",onClick:()=>We(!0),className:Qr,title:"Edit lens",children:o.jsx(px,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${r}/summary`),className:Qr,title:"Summary",children:o.jsx(ex,{className:"w-4 h-4"})}),o.jsx("div",{className:_p}),o.jsxs("div",{className:`flex items-center gap-1 ${Ha.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>B(ye=>Math.max(.5,ye-.1)),className:`p-1.5 ${Xe.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(jx,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Xe.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>B(ye=>Math.min(3,ye+.1)),className:`p-1.5 ${Xe.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(vx,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:_p}),o.jsx("button",{type:"button",onClick:()=>$(ye=>!ye),className:Qr,title:_?"Close annotations":"Open annotations",children:_?o.jsx(ux,{className:"w-4 h-4"}):o.jsx(cx,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(Lx,{pdfData:d,scale:E,highlights:ie,hoveredHighlightId:be,activeHighlightId:oe,selectionForPicker:Oe,lensColors:Le,onSelectionComplete:dn,onNumPages:Vt,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onHighlightEdit:(ye,st)=>{const ne=st?.target?.getBoundingClientRect?.();ne?Y({highlightId:ye,x:ne.left+ne.width/2,y:ne.bottom}):(_e(ye),$(!0))},onHighlightDelete:async ye=>{if(!r)return;const st=m.getQueryData(["highlights",r]);m.setQueryData(["highlights",r],(ne=[])=>ne.filter(ke=>String(ke.id)!==String(ye))),String(oe)===String(ye)&&I(null),String(be)===String(ye)&&Z(null);try{await ln.deleteHighlight(r,ye),m.invalidateQueries({queryKey:["highlights",r]})}catch(ne){console.error("Failed to delete highlight",ne),m.setQueryData(["highlights",r],st)}}}),Ne&&o.jsx(Xx,{position:Ne,onSelect:je,onClose:dt,colorLabels:Ee?.color_labels,documentColorKeys:Ve,lensColors:Le}),He&&o.jsx(Fx,{position:{x:He.x,y:He.y},initialValue:(ie||[]).find(ye=>String(ye.id)===String(He.highlightId))?.note?.content??"",onSave:async ye=>{r&&(await ln.updateHighlight(r,He.highlightId,{note:ye}),m.invalidateQueries({queryKey:["highlights",r]}),Y(null))},onClose:()=>Y(null)}),Qe&&o.jsx(Vx,{lens:we,documentId:r,onClose:()=>We(!1)}),ue!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>ge(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ye=>ye.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:ie.length})," highlight",ie.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ge(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const ye=ue;ge(null);for(const st of ie)await ln.deleteHighlight(r,st.id);m.invalidateQueries({queryKey:["highlights",r]}),I(null),Z(null),yt.mutate({documentId:r,payload:{highlight_preset:ye}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),_&&o.jsx(Qx,{highlights:ie,colorLabels:Ee?.color_labels,lensColors:Le,documentColorKeys:Ve,activeHighlightId:oe,onScrollToPage:Fe,onHighlightClick:ht,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onClearActive:()=>I(null),documentId:r,openEditForHighlightId:ut,onClearOpenEditForHighlightId:()=>_e(null),onHighlightNoteUpdate:async(ye,st)=>{r&&(await ln.updateHighlight(r,ye,{note:st}),m.invalidateQueries({queryKey:["highlights",r]}))},onHighlightDelete:async ye=>{r&&(await ln.deleteHighlight(r,ye),m.invalidateQueries({queryKey:["highlights",r]}),String(oe)===String(ye)&&I(null),String(be)===String(ye)&&Z(null))}})]}),ve>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${_?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:At,disabled:Ze<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ze," of ",ve]}),o.jsx("button",{type:"button",onClick:Yn,disabled:Ze>=ve,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const $x="modulepreload",Jx=function(r){return"/static/frontend/"+r},Rp={},yo=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let z=function(E){return Promise.all(E.map(B=>Promise.resolve(B).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),w=S?.nonce||S?.getAttribute("nonce");g=z(m.map(E=>{if(E=Jx(E),E in Rp)return;Rp[E]=!0;const B=E.endsWith(".css"),_=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${_}`))return;const $=document.createElement("link");if($.rel=B?"stylesheet":$x,B||($.as="script"),$.crossOrigin="",$.href=E,w&&$.setAttribute("nonce",w),document.head.appendChild($),B)return new Promise((be,Z)=>{$.addEventListener("load",be),$.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${E}`)))})}))}function x(S){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=S,window.dispatchEvent(w),!w.defaultPrevented)throw S}return g.then(S=>{for(const w of S||[])w.status==="rejected"&&x(w.reason);return c().catch(x)})};function Gf(r,c){return c?.find(m=>m.key===r)?.hex??gl[r]?.hex??"#94a3b8"}function zf({highlight:r,selected:c,onToggleSelect:m,lensColors:d,colorLabels:g,editingNoteId:x,editingNoteValue:S,onStartEdit:w,onSaveNote:z,onCancelEdit:E,onEditValueChange:B,onCopy:_,onDelete:$}){const be=r.color,Z=Gf(be,d),oe=ts(be,g,d),I=x===r.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${c?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:()=>m(r.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Xe.body} whitespace-pre-line`,children:ns(r.highlighted_text)||"(No text captured)"}),I?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:ce=>B(ce.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${ya.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Xe.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>z(r.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(Vr,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:E,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[r.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Xe.muted} mt-2 leading-snug italic whitespace-pre-line`,children:ns(r.note.content)}),o.jsxs("button",{type:"button",onClick:()=>w(r),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(Mo,{className:"w-3 h-3"}),r.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:Z,backgroundColor:La(Z,.08)},children:oe}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",r.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>_(r),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(If,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>$(r.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Px(){const{id:r}=Vf(),c=bl(),m=Ui(),[d,g]=U.useState("sequence"),[x,S]=U.useState(""),[w,z]=U.useState(new Set),[E,B]=U.useState(new Set),[_,$]=U.useState(()=>new Set),[be,Z]=U.useState(!1),[oe,I]=U.useState(!1),[ce,fe]=U.useState(null),[Ne,he]=U.useState(!1),[Oe,Se]=U.useState(!1),[ve,Pe]=U.useState(null),[Ze,ft]=U.useState(""),{data:Qe,isLoading:We,isError:ut}=zn({queryKey:["document",r],queryFn:async()=>{const{data:ne}=await ln.get(r);return ne},enabled:!!r}),{data:_e=[]}=zn({queryKey:["highlights",r],queryFn:async()=>{const{data:ne}=await ln.highlights(r);return ne},enabled:!!r}),{data:He=[]}=zn({queryKey:["lenses"],queryFn:async()=>{const{data:ne}=await In.list();return ne}}),Y=U.useMemo(()=>He.length?Qe?.highlight_preset!=null?He.find(ne=>ne.id===Qe.highlight_preset)??null:He.find(ne=>ne.is_system)??He[0]??null:null,[He,Qe?.highlight_preset]),ue=U.useMemo(()=>Y?.colors??Qe?.highlight_preset_detail?.colors??[],[Y?.colors,Qe?.highlight_preset_detail?.colors]),ge=U.useMemo(()=>{if(ue?.length)return ue.map(ke=>ke.key);const ne=Object.keys(Qe?.color_labels||{});return ne.length>0?ne:[...Eo]},[ue,Qe?.color_labels]);On({mutationFn:({documentId:ne,highlightId:ke})=>ln.deleteHighlight(ne,ke),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}});const Ee=On({mutationFn:({documentId:ne,highlightId:ke,note:xe})=>ln.updateHighlight(ne,ke,{note:xe}),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}}),G=U.useMemo(()=>{let ne=_e||[];const ke=x.trim().toLowerCase();return ke&&(ne=ne.filter(xe=>xe.highlighted_text&&xe.highlighted_text.toLowerCase().includes(ke)||xe.note?.content&&xe.note.content.toLowerCase().includes(ke))),w.size>0&&(ne=ne.filter(xe=>w.has(xe.color))),ne},[_e,x,w]),W=U.useMemo(()=>G,[G]),ie=U.useMemo(()=>{const ne={};for(const ke of G){const xe=ke.color??"uncategorized";ne[xe]||(ne[xe]=[]),ne[xe].push(ke)}return ne},[G]),Q=U.useMemo(()=>{const ne={};for(const xe of G){const $e=`page-${xe.page_number??0}`;ne[$e]||(ne[$e]=[]),ne[$e].push(xe)}return Object.keys(ne).sort((xe,$e)=>parseInt(xe.replace("page-",""),10)-parseInt($e.replace("page-",""),10)).map(xe=>({key:xe,page:parseInt(xe.replace("page-",""),10),items:ne[xe]}))},[G]),we=U.useCallback(ne=>{z(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),Le=U.useCallback(ne=>{B(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),Ve=U.useCallback(ne=>{$(ke=>{const xe=new Set(ke),$e=String(ne);return xe.has($e)?xe.delete($e):xe.add($e),xe})},[]),yt=U.useCallback(async()=>{const ke=_e.filter(xe=>_.has(String(xe.id))).map(xe=>`${xe.highlighted_text||""}${xe.note?.content?`
  Note: ${xe.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(ke),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(xe){console.error("Failed to copy",xe)}},[_e,_]),Gt=U.useCallback(async()=>{r&&he(!0)},[r]),dn=U.useCallback(async()=>{if(r){Se(!0);try{for(const ne of _)await ln.deleteHighlight(r,ne);m.invalidateQueries({queryKey:["highlights",r]}),$(new Set),he(!1)}catch(ne){console.error("Failed to delete highlights",ne)}finally{Se(!1)}}},[r,_,m]),je=U.useCallback(()=>{const ne={filename:Qe?.filename,exportedAt:new Date().toISOString(),highlights:G.map(at=>({id:at.id,page_number:at.page_number,color:at.color,highlighted_text:at.highlighted_text,note:at.note?.content,created_at:at.created_at,updated_at:at.updated_at}))},ke=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),xe=URL.createObjectURL(ke),$e=window.document.createElement("a");$e.href=xe,$e.download=`${(Qe?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,$e.click(),URL.revokeObjectURL(xe),I(!1)},[Qe?.filename,G]),dt=U.useCallback(async()=>{try{const{Document:ne,Packer:ke,Paragraph:xe,TextRun:$e}=await yo(async()=>{const{Document:qe,Packer:gt,Paragraph:Lt,TextRun:Jt}=await import("./index-CMhXIFeh.js");return{Document:qe,Packer:gt,Paragraph:Lt,TextRun:Jt}},[]),{saveAs:at}=await yo(async()=>{const{saveAs:qe}=await import("./FileSaver.min-BE5RUbGT.js").then(gt=>gt.F);return{saveAs:qe}},__vite__mapDeps([0,1])),vt=[new xe({children:[new $e({text:Qe?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const qe of G){const gt=ts(qe.color,Qe?.color_labels,ue);vt.push(new xe({children:[new $e({text:`[${gt}] p.${qe.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new xe({children:[new $e({text:qe.highlighted_text||"",size:22})],spacing:{after:60}})),qe.note?.content&&vt.push(new xe({children:[new $e({text:`Note: ${qe.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ne({sections:[{children:vt}]}),Te=await ke.toBlob(Et);at(Te,`${(Qe?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),I(!1)}catch(ne){console.error("Export docx failed",ne)}},[Qe?.filename,Qe?.color_labels,G,ue]),Fe=U.useCallback(async()=>{try{const{jsPDF:ne}=await yo(async()=>{const{jsPDF:vt}=await import("./jspdf.es.min-Cz_oesWQ.js").then(Et=>Et.j);return{jsPDF:vt}},[]),{saveAs:ke}=await yo(async()=>{const{saveAs:vt}=await import("./FileSaver.min-BE5RUbGT.js").then(Et=>Et.F);return{saveAs:vt}},__vite__mapDeps([0,1])),xe=new ne;let $e=20;xe.setFontSize(16),xe.text(Qe?.filename??"Document Summary",20,$e),$e+=12;for(const vt of G){const Et=ts(vt.color,Qe?.color_labels,ue);$e>270&&(xe.addPage(),$e=20),xe.setFontSize(10),xe.setFont(void 0,"bold"),xe.text(`[${Et}] p.${vt.page_number}`,20,$e),$e+=6,xe.setFont(void 0,"normal");const Te=xe.splitTextToSize(vt.highlighted_text||"",170);xe.text(Te,20,$e),$e+=Te.length*5+4,vt.note?.content&&(xe.setFont(void 0,"italic"),xe.text(`Note: ${vt.note.content}`,20,$e),$e+=6,xe.setFont(void 0,"normal")),$e+=8}const at=xe.output("blob");ke(at,`${(Qe?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),I(!1)}catch(ne){console.error("Export pdf failed",ne)}},[Qe?.filename,Qe?.color_labels,G,ue]),ht=ne=>{Pe(ne.id),ft(ne.note?.content??"")},Vt=ne=>{r&&(Ee.mutate({documentId:r,highlightId:ne,note:Ze.trim()||""}),Pe(null),ft(""))},At=()=>{Pe(null),ft("")},Yn=ne=>{const ke=`${ne.highlighted_text||""}${ne.note?.content?`
  Note: ${ne.note.content}`:""}`;navigator.clipboard?.writeText(ke).catch(console.error)},ea=ne=>{fe(ne)},ye=U.useCallback(async()=>{!r||!ce||(await ln.deleteHighlight(r,ce),m.invalidateQueries({queryKey:["highlights",r]}),$(ne=>{const ke=new Set(ne);return ke.delete(String(ce)),ke}),fe(null))},[r,ce,m]);if(!r)return c("/",{replace:!0}),null;if(We)return o.jsx("div",{className:`${Hs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(pa,{className:`w-8 h-8 ${Xe.muted} animate-spin`})});if(ut||!Qe&&!We)return o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Xe.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Xe.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Qe?.project?`/project/${Qe.project}`:"/"),className:Gr,children:"Back to project"})]});const st=ue?.length>0?ue.map(ne=>ne.key):ge?.length>0?ge:Eo;return o.jsxs("div",{className:`min-h-screen ${Ha.page}`,children:[o.jsx("header",{className:`${uy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Qe?.project?`/project/${Qe.project}`:`/document/${r}`),className:Qr,title:"Back",children:o.jsx(Wf,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Xe.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Xe.muted} truncate max-w-xs`,children:Qe?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ne,label:ke})=>o.jsx("button",{type:"button",onClick:()=>g(ne),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ne?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Xe.secondary} hover:text-slate-700`}`,children:ke},ne))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(Zr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:x,onChange:ne=>S(ne.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${ya.default} rounded-lg ${Ha.surface} outline-none ${Xe.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>I(ne=>!ne),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${ya.default} ${Ha.surface} hover:bg-slate-50 ${Xe.body}`,children:["Export",o.jsx(Xr,{className:"w-4 h-4"})]}),oe&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>I(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${ya.default} ${Ha.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:dt,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qi,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Fe,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Wb,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:je,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Xb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),_.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Xe.secondary}`,children:[_.size," selected"]}),o.jsxs("button",{type:"button",onClick:yt,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(If,{className:"w-3.5 h-3.5"}),be?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Gt,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(ss,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>$(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:st.map(ne=>{const ke=(_e||[]).filter(vt=>vt.color===ne).length;if(!ke)return null;const xe=Gf(ne,ue),$e=ts(ne,Qe?.color_labels,ue),at=w.size===0||w.has(ne);return o.jsxs("button",{type:"button",onClick:()=>we(ne),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:at?xe:"#E2E8F0",background:at?La(xe,.08):"#fff",opacity:at?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:xe}}),o.jsx("span",{children:$e}),o.jsxs("span",{className:"opacity-80",children:["(",ke,")"]})]},ne)})}),o.jsx("div",{className:"space-y-4",children:G.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:W.map(ne=>o.jsx("li",{children:o.jsx(zf,{highlight:ne,selected:_.has(String(ne.id)),onToggleSelect:Ve,lensColors:ue,colorLabels:Qe?.color_labels,editingNoteId:ve,editingNoteValue:Ze,onStartEdit:ht,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:ft,onCopy:Yn,onDelete:ea})},ne.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(ie).map(([ne,ke])=>{const xe=Gf(ne,ue),$e=ts(ne,Qe?.color_labels,ue),at=`topic-${ne}`,vt=E.has(at);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:La(xe,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>Le(at),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:La(xe,.1)},children:[vt?o.jsx(Fr,{className:"w-4 h-4 shrink-0"}):o.jsx(Xr,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:xe},children:$e}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",ke.length,")"]})]}),!vt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ke.map(Et=>o.jsx("li",{children:o.jsx(zf,{highlight:Et,selected:_.has(String(Et.id)),onToggleSelect:Ve,lensColors:ue,colorLabels:Qe?.color_labels,editingNoteId:ve,editingNoteValue:Ze,onStartEdit:ht,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:ft,onCopy:Yn,onDelete:ea})},Et.id))})]},ne)})}):o.jsx("div",{className:"space-y-4",children:Q.map(({key:ne,page:ke,items:xe})=>{const $e=`page-${ke}`,at=E.has($e);return o.jsxs("div",{className:`border ${ya.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>Le($e),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[at?o.jsx(Fr,{className:"w-4 h-4 shrink-0"}):o.jsx(Xr,{className:"w-4 h-4 shrink-0"}),"Page ",ke,o.jsxs("span",{className:`text-xs ${Xe.muted}`,children:["(",xe.length,")"]})]}),!at&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:xe.map(vt=>o.jsx("li",{children:o.jsx(zf,{highlight:vt,selected:_.has(String(vt.id)),onToggleSelect:Ve,lensColors:ue,colorLabels:Qe?.color_labels,editingNoteId:ve,editingNoteValue:Ze,onStartEdit:ht,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:ft,onCopy:Yn,onDelete:ea})},vt.id))})]},ne)})}):o.jsxs("div",{className:`py-12 text-center ${Xe.muted} text-sm`,children:[o.jsx(qi,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),ce&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>fe(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>fe(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),Ne&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!Oe&&he(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",_.size," highlight",_.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>he(!1),disabled:Oe,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:Oe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[Oe&&o.jsx(pa,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function Wx({onClose:r,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:r,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(pa,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Ix(){const r=bl(),c=ls(E=>E.logout),[m,d]=U.useState(!1),[g,x]=U.useState(!1),[S,w]=U.useState(""),z=async()=>{w(""),x(!0);try{await Bi.deleteAccount(),c(),r("/",{replace:!0})}catch(E){w(E.response?.data?.detail||E.message||"Something went wrong."),x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsx(ko,{showBack:!0,backTo:"/app"}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(fy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx(Wx,{onClose:()=>!g&&d(!1),onConfirm:z,isDeleting:g})]})}function Bp(r,c){if(!c||c.length<2)return r;const m=new RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(m).map((g,x)=>m.test(g)?o.jsx("mark",{className:"bg-yellow-200 rounded-sm px-px",children:g},x):g)}const hy="wisemark_saved_searches";function ev(){try{const r=localStorage.getItem(hy);if(r){const c=JSON.parse(r);if(Array.isArray(c)&&c.length>0)return c}}catch{}return[{id:"s1",name:"Margin compression",query:"margin compression",filters:{categories:[]}}]}function qp(r){localStorage.setItem(hy,JSON.stringify(r))}function Rf({ann:r,query:c,hovered:m,onHover:d,onLeave:g,showDoc:x,onNavigate:S}){const[w,z]=U.useState(!1),E=r.color_hex||"#94a3b8",B=$=>{$.stopPropagation();const be=`"${ns(r.highlighted_text)}"${r.note?.content?`
  Note: ${ns(r.note.content)}`:""}`;navigator.clipboard?.writeText(be),z(!0),setTimeout(()=>z(!1),1500)},_=m?"#D1D9E2":"#EDF0F4";return o.jsx("div",{onMouseEnter:()=>d(r.id),onMouseLeave:g,onClick:()=>S(r.document_id),className:"bg-white rounded-[10px] transition-all cursor-pointer",style:{borderTop:`1px solid ${_}`,borderRight:`1px solid ${_}`,borderBottom:`1px solid ${_}`,borderLeft:`3px solid ${E}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none"},children:o.jsxs("div",{className:"px-4 py-3.5",children:[o.jsxs("p",{className:`text-xs leading-snug ${Xe.body} whitespace-pre-line`,style:{fontFamily:"'DM Sans', sans-serif"},children:["",Bp(ns(r.highlighted_text),c),""]}),r.note?.content&&o.jsx("p",{className:`mt-2 text-[11.5px] ${Xe.muted} leading-snug italic whitespace-pre-line`,style:{fontFamily:"'DM Sans', sans-serif"},children:Bp(ns(r.note.content),c)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100 flex-wrap",children:[o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:E,background:La(E,.08)},children:r.color_display_name}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",r.page_number]}),x&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-500 font-medium truncate max-w-[220px] flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 shrink-0"}),r.document_name?.replace(/\.pdf$/i,"")]})]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Kf,{className:"w-2.5 h-2.5 shrink-0"}),r.project_name]}),o.jsx("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:m?1:0},children:o.jsxs("button",{onClick:B,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:w?"#16A34A":"#64748B"},children:[w?o.jsx(Vr,{className:"w-3 h-3"}):o.jsx(If,{className:"w-3 h-3"}),w?"Copied":"Copy"]})})]})]})})}function tv({results:r,colorMap:c}){const m={},d={},g={};r.forEach(w=>{m[w.color]=(m[w.color]||0)+1,d[w.document_id]=(d[w.document_id]||0)+1,g[w.project_id]=(g[w.project_id]||0)+1});const x=Object.entries(d).sort(([,w],[,z])=>z-w).slice(0,4),S=x.length?x[0][1]:1;return o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[10px] p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2.5 text-xs font-semibold text-slate-600",children:[o.jsx(Vb,{className:"w-3.5 h-3.5"})," Search insights"]}),o.jsx("div",{className:"flex gap-1 flex-wrap mb-2.5",children:Object.entries(m).sort(([,w],[,z])=>z-w).map(([w,z])=>{const E=c[w],B=E?.hex||"#94a3b8";return o.jsxs("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded flex items-center gap-1",style:{color:B,background:La(B,.08)},children:[o.jsx("strong",{children:z})," ",E?.name||w]},w)})}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:[o.jsxs("span",{className:"font-semibold",children:["Across ",Object.keys(d).length," documents"]}),o.jsxs("span",{className:"text-slate-400",children:[" in ",Object.keys(g).length," projects"]}),o.jsx("div",{className:"mt-1.5 flex flex-col gap-1",children:x.map(([w,z])=>{const E=r.find(B=>B.document_id===Number(w));return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-1 rounded bg-slate-300",style:{width:Math.max(12,z/S*80)}}),o.jsxs("span",{className:"text-[11px] text-slate-500 truncate max-w-[260px]",children:[E?.document_name?.replace(/\.pdf$/i,"")," (",z,")"]})]},w)})})]})]})}function nv(){const r=bl(),c=U.useRef(null),[m,d]=U.useState(""),[g,x]=U.useState(""),[S,w]=U.useState([]),[z,E]=U.useState([]),[B,_]=U.useState("flat"),[$,be]=U.useState(null),{data:Z,isLoading:oe}=zn({queryKey:["library"],queryFn:async()=>{const{data:G}=await Tb.get();return G}}),{data:I=[]}=zn({queryKey:["lenses"],queryFn:async()=>{const{data:G}=await In.list();return G}}),[ce,fe]=U.useState(null),[Ne,he]=U.useState(ev),Oe=Z?.highlights||[],Se=Z?.projects||[],ve=I;U.useEffect(()=>{c.current?.focus()},[]);const Pe=U.useMemo(()=>ce==null?null:ve.find(G=>G.id===ce)??null,[ve,ce]),Ze=U.useMemo(()=>{if(Pe?.colors?.length){const W={};return Pe.colors.forEach(ie=>{W[ie.key]={name:ie.display_name||ie.key,hex:ie.hex||"#94a3b8"}}),W}const G={};return Oe.forEach(W=>{G[W.color]||(G[W.color]={name:W.color_display_name,hex:W.color_hex})}),G},[Pe,Oe]);U.useCallback(G=>{d(G),x(G)},[]);const ft=U.useCallback(G=>{d(G.query),x(G.query),G.filters?.categories?.length&&w(G.filters.categories),G.filters?.projects?.length&&E(G.filters.projects)},[]),Qe=U.useCallback(()=>{const G=g||"Untitled search",W={id:"s"+Date.now(),name:G,query:g,filters:{categories:[...S],projects:[...z]}},ie=[...Ne.filter(Q=>Q.query!==g),W];he(ie),qp(ie)},[g,S,z,Ne]),We=U.useCallback((G,W)=>{W?.stopPropagation?.();const ie=Ne.filter(Q=>Q.id!==G);he(ie),qp(ie)},[Ne]),ut=U.useCallback(G=>{w(W=>W.includes(G)?W.filter(ie=>ie!==G):[...W,G])},[]),_e=U.useCallback(G=>{E(W=>W.includes(G)?W.filter(ie=>ie!==G):[...W,G])},[]),He=U.useMemo(()=>{let G=Oe;if(g){const W=g.toLowerCase();G=G.filter(ie=>ie.highlighted_text?.toLowerCase().includes(W)||ie.note?.content?.toLowerCase().includes(W)||ie.color_display_name?.toLowerCase().includes(W))}return S.length>0&&(G=G.filter(W=>S.includes(W.color))),z.length>0&&(G=G.filter(W=>z.includes(W.project_id))),G},[Oe,g,S,z]),Y=U.useMemo(()=>{if(B==="document"){const G={};return He.forEach(W=>{G[W.document_id]||(G[W.document_id]=[]),G[W.document_id].push(W)}),G}if(B==="category"){const G={};return He.forEach(W=>{G[W.color]||(G[W.color]=[]),G[W.color].push(W)}),G}return null},[B,He]),ue=S.length>0||z.length>0,ge=g||ue,Ee=U.useMemo(()=>new Set(Oe.map(W=>W.document_id)).size,[Oe]);return oe?o.jsx("div",{className:"min-h-screen bg-[#F8FAFB] flex items-center justify-center",children:o.jsx(pa,{className:"w-8 h-8 text-slate-400 animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx(ko,{showBack:!0,backTo:"/app"}),o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-[65px] z-40",children:o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("h1",{className:"text-[17px] font-semibold text-slate-900 tracking-tight",children:"Library"}),o.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:[Oe.length," annotations across ",Ee," documents"]})]})}),o.jsxs("div",{className:"flex items-center gap-2.5 bg-slate-50 border-[1.5px] border-slate-200 rounded-[10px] px-3.5 py-2.5 mb-3.5 focus-within:border-slate-400 transition-colors",children:[o.jsx(Zr,{className:"w-[18px] h-[18px] text-slate-400 shrink-0"}),o.jsx("input",{ref:c,value:m,onChange:G=>d(G.target.value),onKeyDown:G=>{G.key==="Enter"&&x(m)},placeholder:"Search across all your annotations...",className:"border-0 bg-transparent outline-none text-[15px] text-slate-900 w-full placeholder:text-slate-400"}),m&&o.jsx("button",{onClick:()=>{d(""),x("")},className:"bg-slate-200 rounded p-0.5 text-slate-500 hover:bg-slate-300 shrink-0",children:o.jsx(as,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>x(m),className:"bg-slate-800 text-white rounded-lg px-4 py-1.5 text-[13px] font-medium hover:bg-slate-700 shrink-0",children:"Search"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mb-3 flex-wrap",children:[o.jsxs("span",{className:"text-[11px] text-slate-400 font-medium mr-1 flex items-center gap-1",children:[o.jsx(Qb,{className:"w-3 h-3"}),"Saved:"]}),Ne.map(G=>o.jsxs("div",{className:"flex items-center gap-0.5 group",children:[o.jsx("button",{onClick:()=>ft(G),className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-full pl-3 pr-2 py-1 hover:border-slate-400 hover:text-slate-900 transition-colors",children:G.name}),o.jsx("button",{onClick:W=>We(G.id,W),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-600 transition-all",title:"Delete saved search",children:o.jsx(ss,{className:"w-2.5 h-2.5"})})]},G.id)),ge&&o.jsx("button",{onClick:Qe,className:"text-xs text-slate-500 border border-dashed border-slate-300 rounded-full px-3 py-1 hover:border-slate-400 hover:text-slate-700",children:"Save this search"})]}),o.jsxs("div",{className:"flex items-center gap-2 pb-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[o.jsx("span",{className:"text-[11px] text-slate-400 font-medium",children:"Lens:"}),o.jsx(_o,{value:ce,options:[{value:null,label:"No lens"},...ve.map(G=>({value:G.id,label:G.name}))],onChange:fe,placeholder:"No lens",minWidth:"120px"})]}),Object.entries(Ze).map(([G,W])=>{const ie=S.includes(G),Q=W.hex;return o.jsxs("button",{onClick:()=>ut(G),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:ie?La(Q,.5):"#E8ECF0",background:ie?La(Q,.08):"#FAFBFC",opacity:ie?1:S.length>0?.4:.7},children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{background:Q}}),o.jsx("span",{className:"text-xs font-medium",style:{color:ie?"#374151":"#94A3B8"},children:W.name})]},G)}),Object.keys(Ze).length>0&&Se.length>0&&o.jsx("div",{className:"w-px h-[18px] bg-slate-200 mx-1"}),Se.map(G=>{const W=z.includes(G.id);return o.jsxs("button",{onClick:()=>_e(G.id),className:"flex items-center gap-1 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:W?"#475569":"#E8ECF0",background:W?"#F1F5F9":"#FAFBFC",opacity:W?1:z.length>0?.4:.7},children:[o.jsx(Kf,{className:"w-2.5 h-2.5"}),o.jsx("span",{className:"text-xs font-medium",style:{color:W?"#1E293B":"#94A3B8"},children:G.name})]},G.id)}),ue&&o.jsx("button",{onClick:()=>{w([]),E([])},className:"text-xs text-slate-400 border border-dashed border-slate-300 rounded-full px-2.5 py-1 hover:text-slate-600",children:"Clear all"})]})]})}),o.jsxs("div",{className:"relative px-7 py-5 pb-20",children:[o.jsxs("div",{className:"max-w-[860px] mx-auto",children:[ge&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[13px] text-slate-500",children:[o.jsx("strong",{className:"text-slate-900",children:He.length})," result",He.length!==1&&"s",g&&o.jsxs(o.Fragment,{children:[" for ",o.jsx("strong",{className:"text-slate-900",children:g}),""]}),ue&&o.jsx("span",{className:"text-slate-400",children:" (filtered)"})]}),o.jsx(_o,{value:B,options:[{value:"flat",label:"No grouping"},{value:"document",label:"Group by document"},{value:"category",label:"Group by category"}],onChange:_,minWidth:"140px"})]}),!ge&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Zr,{className:"w-10 h-10 mx-auto mb-3 text-slate-200"}),o.jsx("p",{className:"text-[15px] text-slate-600 font-medium mb-1.5",children:"Search across all your annotations"}),o.jsx("p",{className:"text-[13px] text-slate-400 max-w-[380px] mx-auto",children:"Find patterns across deals, surface past insights, and build on your own analysis."})]}),ge&&He.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400 text-sm",children:"No annotations match your search. Try different keywords or clear your filters."}),ge&&B==="flat"&&He.length>0&&o.jsx("div",{className:"flex flex-col gap-2",children:He.map(G=>o.jsx(Rf,{ann:G,query:g,hovered:$===G.id,onHover:be,onLeave:()=>be(null),showDoc:!0,onNavigate:W=>r(`/document/${W}`)},G.id))}),ge&&B==="document"&&Y&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(Y).map(([G,W])=>{const ie=W[0];return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qi,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:ie?.document_name?.replace(/\.pdf$/i,"")}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:W.length}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Kf,{className:"w-2.5 h-2.5"})," ",ie?.project_name]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:W.map(Q=>o.jsx(Rf,{ann:Q,query:g,hovered:$===Q.id,onHover:be,onLeave:()=>be(null),showDoc:!1,onNavigate:we=>r(`/document/${we}`)},Q.id))})]},G)})}),ge&&B==="category"&&Y&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(Ze).map(([G,W])=>{const ie=Y[G];return!ie||ie.length===0?null:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:W.hex}}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:W.name}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:ie.length})]}),o.jsx("div",{className:"flex flex-col gap-2",children:ie.map(Q=>o.jsx(Rf,{ann:Q,query:g,hovered:$===Q.id,onHover:be,onLeave:()=>be(null),showDoc:!0,onNavigate:we=>r(`/document/${we}`)},Q.id))})]},G)})})]}),ge&&He.length>3&&o.jsx("div",{className:"absolute right-7 top-5 w-[260px]",children:o.jsx("div",{className:"sticky top-24",children:o.jsx(tv,{results:He,colorMap:Ze})})})]})]})}const av=new T0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function zi({children:r}){return ls(m=>m.token)?r:o.jsx(So,{to:"/login",replace:!0})}function Up({children:r}){return ls(m=>m.token)?o.jsx(So,{to:"/app",replace:!0}):r}function lv(){return o.jsx(M0,{client:av,children:o.jsx(H0,{children:o.jsxs(L0,{children:[o.jsx(Ua,{path:"/login",element:o.jsx(Up,{children:o.jsx(kb,{})})}),o.jsx(Ua,{path:"/register",element:o.jsx(Up,{children:o.jsx(zb,{})})}),o.jsx(Ua,{path:"/",element:o.jsx(So,{to:"/app",replace:!0})}),o.jsx(Ua,{path:"/app",element:o.jsx(zi,{children:o.jsx(Ex,{})})}),o.jsx(Ua,{path:"/app/library",element:o.jsx(zi,{children:o.jsx(nv,{})})}),o.jsx(Ua,{path:"/app/settings",element:o.jsx(zi,{children:o.jsx(Ix,{})})}),o.jsx(Ua,{path:"/project/:projectId",element:o.jsx(zi,{children:o.jsx(zx,{})})}),o.jsx(Ua,{path:"/document/:id",element:o.jsx(zi,{children:o.jsx(Zx,{})})}),o.jsx(Ua,{path:"/document/:id/summary",element:o.jsx(zi,{children:o.jsx(Px,{})})}),o.jsx(Ua,{path:"*",element:o.jsx(So,{to:"/app",replace:!0})})]})})})}Z0.createRoot(document.getElementById("root")).render(o.jsx(U.StrictMode,{children:o.jsx(lv,{})}));export{yo as _};
