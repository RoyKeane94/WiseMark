const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as o,u as Ui,a as kn,b as An,Q as D0,c as T0}from"./query-CQ1uvarX.js";import{a as M0,b as z0,R as fo,u as ls,r as H,L as Up,c as k0,g as R0,d as Gf,e as B0,B as q0,f as U0,h as La,N as So}from"./react-OW7IPSYu.js";import{G as H0,g as L0,U as K0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const S of v.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=m(g);fetch(g.href,v)}})();var Cf={exports:{}},Lr={},Af={exports:{}},Of={};var np;function Q0(){return np||(np=1,(function(r){function c(X,ue){var me=X.length;X.push(ue);e:for(;0<me;){var Ne=me-1>>>1,G=X[Ne];if(0<g(G,ue))X[Ne]=ue,X[me]=G,me=Ne;else break e}}function m(X){return X.length===0?null:X[0]}function d(X){if(X.length===0)return null;var ue=X[0],me=X.pop();if(me!==ue){X[0]=me;e:for(var Ne=0,G=X.length,E=G>>>1;Ne<E;){var te=2*(Ne+1)-1,ce=X[te],Me=te+1,Ze=X[Me];if(0>g(ce,me))Me<G&&0>g(Ze,ce)?(X[Ne]=Ze,X[Me]=me,Ne=Me):(X[Ne]=ce,X[te]=me,Ne=te);else if(Me<G&&0>g(Ze,me))X[Ne]=Ze,X[Me]=me,Ne=Me;else break e}}return ue}function g(X,ue){var me=X.sortIndex-ue.sortIndex;return me!==0?me:X.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;r.unstable_now=function(){return v.now()}}else{var S=Date,w=S.now();r.unstable_now=function(){return S.now()-w}}var U=[],C=[],R=1,A=null,Z=3,ye=!1,$=!1,oe=!1,W=!1,_e=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var ue=m(C);ue!==null;){if(ue.callback===null)d(C);else if(ue.startTime<=X)d(C),ue.sortIndex=ue.expirationTime,c(U,ue);else break;ue=m(C)}}function be(X){if(oe=!1,se(X),!$)if(m(U)!==null)$=!0,ve||(ve=!0,$e());else{var ue=m(C);ue!==null&&qe(be,ue.startTime-X)}}var ve=!1,Se=-1,Ie=5,Ve=-1;function rt(){return W?!0:!(r.unstable_now()-Ve<Ie)}function He(){if(W=!1,ve){var X=r.unstable_now();Ve=X;var ue=!0;try{e:{$=!1,oe&&(oe=!1,ge(Se),Se=-1),ye=!0;var me=Z;try{t:{for(se(X),A=m(U);A!==null&&!(A.expirationTime>X&&rt());){var Ne=A.callback;if(typeof Ne=="function"){A.callback=null,Z=A.priorityLevel;var G=Ne(A.expirationTime<=X);if(X=r.unstable_now(),typeof G=="function"){A.callback=G,se(X),ue=!0;break t}A===m(U)&&d(U),se(X)}else d(U);A=m(U)}if(A!==null)ue=!0;else{var E=m(C);E!==null&&qe(be,E.startTime-X),ue=!1}}break e}finally{A=null,Z=me,ye=!1}ue=void 0}}finally{ue?$e():ve=!1}}}var $e;if(typeof we=="function")$e=function(){we(He)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Ae=gt.port2;gt.port1.onmessage=He,$e=function(){Ae.postMessage(null)}}else $e=function(){_e(He,0)};function qe(X,ue){Se=_e(function(){X(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return Z},r.unstable_next=function(X){switch(Z){case 1:case 2:case 3:var ue=3;break;default:ue=Z}var me=Z;Z=ue;try{return X()}finally{Z=me}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=Z;Z=X;try{return ue()}finally{Z=me}},r.unstable_scheduleCallback=function(X,ue,me){var Ne=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=me+G,X={id:R++,callback:ue,priorityLevel:X,startTime:me,expirationTime:G,sortIndex:-1},me>Ne?(X.sortIndex=me,c(C,X),m(U)===null&&X===m(C)&&(oe?(ge(Se),Se=-1):oe=!0,qe(be,me-Ne))):(X.sortIndex=G,c(U,X),$||ye||($=!0,ve||(ve=!0,$e()))),X},r.unstable_shouldYield=rt,r.unstable_wrapCallback=function(X){var ue=Z;return function(){var me=Z;Z=ue;try{return X.apply(this,arguments)}finally{Z=me}}}})(Of)),Of}var ap;function Y0(){return ap||(ap=1,Af.exports=Q0()),Af.exports}var lp;function X0(){if(lp)return Lr;lp=1;var r=Y0(),c=M0(),m=z0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(v(e)!==e)throw Error(d(188))}function C(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U(s),e;if(i===a)return U(s),t;i=i.sibling}throw Error(d(188))}if(n.return!==a.return)n=s,a=i;else{for(var p=!1,x=s.child;x;){if(x===n){p=!0,n=s,a=i;break}if(x===a){p=!0,a=s,n=i;break}x=x.sibling}if(!p){for(x=i.child;x;){if(x===n){p=!0,n=i,a=s;break}if(x===a){p=!0,a=i,n=s;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,Z=Symbol.for("react.element"),ye=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),we=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ve=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case _e:return"Profiler";case W:return"StrictMode";case be:return"Suspense";case ve:return"SuspenseList";case Ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case we:return e.displayName||"Context";case ge:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var qe=Array.isArray,X=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ne=[],G=-1;function E(e){return{current:e}}function te(e){0>G||(e.current=Ne[G],Ne[G]=null,G--)}function ce(e,t){G++,Ne[G]=e.current,e.current=t}var Me=E(null),Ze=E(null),at=E(null),vt=E(null);function Ft(e,t){switch(ce(at,t),ce(Ze,e),ce(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_m(t),e=Em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(Me),ce(Me,e)}function dn(){te(Me),te(Ze),te(at)}function je(e){e.memoizedState!==null&&ce(vt,e);var t=Me.current,n=Em(t,e.type);t!==n&&(ce(Ze,e),ce(Me,n))}function ft(e){Ze.current===e&&(te(Me),te(Ze)),vt.current===e&&(te(vt),Br._currentValue=me)}var Ge,dt;function Zt(e){if(Ge===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",dt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+dt}var Ot=!1;function Yn(e,t){if(!e||Ot)return"";Ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ee){var P=ee}Reflect.construct(e,[],re)}else{try{re.call()}catch(ee){P=ee}e.call(re.prototype)}}else{try{throw Error()}catch(ee){P=ee}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ee){if(ee&&P&&typeof ee.stack=="string")return[ee.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),p=i[0],x=i[1];if(p&&x){var _=p.split(`
`),F=x.split(`
`);for(s=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;s<F.length&&!F[s].includes("DetermineComponentFrameRoot");)s++;if(a===_.length||s===F.length)for(a=_.length-1,s=F.length-1;1<=a&&0<=s&&_[a]!==F[s];)s--;for(;1<=a&&0<=s;a--,s--)if(_[a]!==F[s]){if(a!==1||s!==1)do if(a--,s--,0>s||_[a]!==F[s]){var le=`
`+_[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=s);break}}}finally{Ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zt(n):""}function ta(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Yn(e.type,!1);case 11:return Yn(e.type.render,!1);case 1:return Yn(e.type,!0);case 31:return Zt("Activity");default:return""}}function pe(e){try{var t="",n=null;do t+=ta(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var tt=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,xe=r.unstable_shouldYield,Fe=r.unstable_requestPaint,lt=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,mn=r.unstable_UserBlockingPriority,sn=r.unstable_NormalPriority,Dn=r.unstable_LowPriority,ze=r.unstable_IdlePriority,Qe=r.log,wt=r.unstable_setDisableYieldValue,qt=null,Ct=null;function Ut(e){if(typeof Qe=="function"&&wt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(qt,e)}catch{}}var Oe=Math.clz32?Math.clz32:Ls,ga=Math.log,Qa=Math.LN2;function Ls(e){return e>>>=0,e===0?32:31-(ga(e)/Qa|0)|0}var De=256,vl=262144,is=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rs(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~i,a!==0?s=ba(a):(p&=x,p!==0?s=ba(p):n||(n=x&~e,n!==0&&(s=ba(n))))):(x=a&~i,x!==0?s=ba(x):p!==0?s=ba(p):n||(n=a&~e,n!==0&&(s=ba(n)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function Ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,t,n,a,s,i){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,F=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-Oe(n),re=1<<le;x[le]=0,_[le]=-1;var P=F[le];if(P!==null)for(F[le]=null,le=0;le<P.length;le++){var ee=P[le];ee!==null&&(ee.lane&=-536870913)}n&=~re}a!==0&&us(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(p&~t))}function us(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Oe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Oe(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Wt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ki(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function os(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:$m(e.type))}function cs(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var Ca=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ca,It="__reactProps$"+Ca,Tn="__reactContainer$"+Ca,jl="__reactEvents$"+Ca,ko="__reactListeners$"+Ca,Aa="__reactHandles$"+Ca,Qi="__reactResources$"+Ca,Xn="__reactMarker$"+Ca;function Ks(e){delete e[Kt],delete e[It],delete e[jl],delete e[ko],delete e[Aa]}function Oa(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zm(e);e!==null;){if(n=e[Kt])return n;e=zm(e)}return t}e=n,n=e.parentNode}return null}function Mt(e){if(e=e[Kt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Nn(e){var t=e[Qi];return t||(t=e[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function en(e){e[Xn]=!0}var Xa=new Set,fs={};function xa(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(fs[e]=t,e=0;e<t.length;e++)Xa.add(t[e])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},ds={};function Ir(e){return tt.call(ds,e)?!0:tt.call(Yi,e)?!1:Ga.test(e)?ds[e]=!0:(Yi[e]=!0,!1)}function it(e,t,n){if(Ir(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function aa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eu(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){n=""+p,i.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){if(!e._valueTracker){var t=wl(e)?"checked":"value";e._valueTracker=eu(e,t,""+e[t])}}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function pn(e){return e.replace(ms,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ta(e,t,n,a,s,i,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ps(e,p,xn(t)):n!=null?ps(e,p,xn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+xn(x):e.removeAttribute("name")}function Ys(e,t,n,a,s,i,p,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Qs(e);return}n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qs(e)}function ps(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gi(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function ys(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(qe(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Qs(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ro.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vi(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&pt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&pt(e,i,t[i])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var la=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Yt=null;function Vn(e){var t=Mt(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ta(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[It]||null;if(!s)throw Error(d(90));Ta(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xi(a)}break e;case"textarea":Gi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Za=!1;function Nl(e,t,n){if(Za)return e(t,n);Za=!0;try{var a=e(t);return a}finally{if(Za=!1,(Fa!==null||Yt!==null)&&(Yu(),Fa&&(t=Fa,e=Yt,Yt=Fa=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var a=n[It]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(yn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Zi=!1}var sa=null,Gs=null,_l=null;function El(){if(_l)return _l;var e,t=Gs,n=t.length,a,s="value"in sa?sa.value:sa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===s[i-a];a++);return _l=s.slice(e,1<a?1-a:void 0)}function Cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function tu(){return!1}function rn(e){function t(n,a,s,i,p){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gs:tu,this.isPropagationStopped=tu,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=rn(Ja),Ma=A({},Ja,{view:0,detail:0}),Fs=rn(Ma),bs,$i,xs,Zs=A({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(bs=e.screenX-xs.screenX,$i=e.screenY-xs.screenY):$i=bs=0,xs=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),$s=rn(Zs),Ji=A({},Zs,{dataTransfer:0}),nu=rn(Ji),Js=A({},Ma,{relatedTarget:0}),Al=rn(Js),Ps=A({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),au=rn(Ps),qo=A({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ol=rn(qo),Pi=A({},Ja,{data:0}),Ws=rn(Pi),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Pa(){return vs}var lu=A({},Ma,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Is=rn(lu),su=A({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=rn(su),ei=A({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),tr=rn(ei),Wa=A({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=rn(Wa),ar=A({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ti=rn(ar),lr=A({},Ja,{newState:0,oldState:0}),iu=rn(lr),Uo=[9,13,27,32],Ss=yn&&"CompositionEvent"in window,za=null;yn&&"documentMode"in document&&(za=document.documentMode);var Ho=yn&&"TextEvent"in window&&!za,ni=yn&&(!Ss||za&&8<za&&11>=za),ai=" ",ru=!1;function sr(e,t){switch(e){case"keyup":return Uo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function ou(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ru=!0,ai);case"textInput":return e=t.data,e===ai&&ru?null:e;default:return null}}function Lo(e,t){if(Ia)return e==="compositionend"||!Ss&&sr(e,t)?(e=El(),_l=Gs=sa=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ni&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ir(e,t,n,a){Fa?Yt?Yt.push(a):Yt=[a]:Fa=a,t=Ju(t,"onChange"),0<t.length&&(n=new Vs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Dl=null,js=null;function Ko(e){xm(e,0)}function si(e){var t=Gn(e);if(Xi(t))return e}function ws(e,t){if(e==="change")return t}var ia=!1;if(yn){var Xt;if(yn){var Tl="oninput"in document;if(!Tl){var el=document.createElement("div");el.setAttribute("oninput","return;"),Tl=typeof el.oninput=="function"}Xt=Tl}else Xt=!1;ia=Xt&&(!document.documentMode||9<document.documentMode)}function fu(){Dl&&(Dl.detachEvent("onpropertychange",ii),js=Dl=null)}function ii(e){if(e.propertyName==="value"&&si(js)){var t=[];ir(t,js,e,Xs(e)),Nl(Ko,t)}}function du(e,t,n){e==="focusin"?(fu(),Dl=t,js=n,Dl.attachEvent("onpropertychange",ii)):e==="focusout"&&fu()}function tl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(js)}function rr(e,t){if(e==="click")return si(t)}function Ml(e,t){if(e==="input"||e==="change")return si(t)}function ka(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:ka;function l(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!tt.call(t,s)||!En(e[s],t[s]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=yn&&"documentMode"in document&&11>=document.documentMode,N=null,D=null,K=null,T=!1;function O(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T||N==null||N!==Nt(a)||(a=N,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),K&&l(K,a)||(K=a,a=Ju(D,"onSelect"),0<a.length&&(t=new Vs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=N)))}function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var q={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionrun:k("Transition","TransitionRun"),transitionstart:k("Transition","TransitionStart"),transitioncancel:k("Transition","TransitionCancel"),transitionend:k("Transition","TransitionEnd")},M={},z={};yn&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function Y(e){if(M[e])return M[e];if(!q[e])return e;var t=q[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z)return M[e]=t[n];return e}var J=Y("animationend"),Q=Y("animationiteration"),ae=Y("animationstart"),fe=Y("transitionrun"),Ee=Y("transitionstart"),Ce=Y("transitioncancel"),de=Y("transitionend"),Re=new Map,Te="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Te.push("scrollEnd");function he(e,t){Re.set(e,t),xa(t,[e])}var Be=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],ut=0,Ye=0;function et(){for(var e=ut,t=Ye=ut=0;t<e;){var n=We[t];We[t++]=null;var a=We[t];We[t++]=null;var s=We[t];We[t++]=null;var i=We[t];if(We[t++]=null,a!==null&&s!==null){var p=a.pending;p===null?s.next=s:(s.next=p.next,p.next=s),a.pending=s}i!==0&&Ra(n,s,i)}}function zt(e,t,n,a){We[ut++]=e,We[ut++]=t,We[ut++]=n,We[ut++]=a,Ye|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cn(e,t,n,a){return zt(e,t,n,a),zl(e)}function At(e,t){return zt(e,null,null,t),zl(e)}function Ra(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-Oe(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function zl(e){if(50<Or)throw Or=0,Jc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ri={};function hy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,a){return new hy(e,t,n,a)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function td(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hu(e,t,n,a,s,i){var p=0;if(a=e,typeof e=="function")Qo(e)&&(p=1);else if(typeof e=="string")p=b0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ve:return e=Fn(31,n,t,s),e.elementType=Ve,e.lanes=i,e;case oe:return Ns(n.children,s,i,t);case W:p=8,s|=24;break;case _e:return e=Fn(12,n,t,s|2),e.elementType=_e,e.lanes=i,e;case be:return e=Fn(13,n,t,s),e.elementType=be,e.lanes=i,e;case ve:return e=Fn(19,n,t,s),e.elementType=ve,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:p=10;break e;case ge:p=9;break e;case se:p=11;break e;case Se:p=14;break e;case Ie:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Fn(p,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ns(e,t,n,a){return e=Fn(7,e,a,t),e.lanes=n,e}function Yo(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function nd(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Xo(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ad=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var n=ad.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pe(t)},ad.set(e,t),t)}return{value:e,source:t,stack:pe(t)}}var ui=[],oi=0,mu=null,ur=0,ua=[],oa=0,kl=null,Ba=1,qa="";function al(e,t){ui[oi++]=ur,ui[oi++]=mu,mu=e,ur=t}function ld(e,t,n){ua[oa++]=Ba,ua[oa++]=qa,ua[oa++]=kl,kl=e;var a=Ba;e=qa;var s=32-Oe(a)-1;a&=~(1<<s),n+=1;var i=32-Oe(t)+s;if(30<i){var p=s-s%5;i=(a&(1<<p)-1).toString(32),a>>=p,s-=p,Ba=1<<32-Oe(t)+s|n<<s|a,qa=i+e}else Ba=1<<i|n<<s|a,qa=e}function Go(e){e.return!==null&&(al(e,1),ld(e,1,0))}function Vo(e){for(;e===mu;)mu=ui[--oi],ui[oi]=null,ur=ui[--oi],ui[oi]=null;for(;e===kl;)kl=ua[--oa],ua[oa]=null,qa=ua[--oa],ua[oa]=null,Ba=ua[--oa],ua[oa]=null}function sd(e,t){ua[oa++]=Ba,ua[oa++]=qa,ua[oa++]=kl,Ba=t.id,qa=t.overflow,kl=e}var vn=null,Gt=null,yt=!1,Rl=null,ca=!1,Fo=Error(d(519));function Bl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(ra(t,e)),Fo}function id(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Kt]=e,t[It]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)ct(Tr[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Ys(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),ys(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||wm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Bl(e,!0)}function rd(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:vn=vn.return}}function ci(e){if(e!==vn)return!1;if(!yt)return rd(e),yt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||df(e.type,e.memoizedProps)),n=!n),n&&Gt&&Bl(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Gt=Mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Gt=Mm(e)}else t===27?(t=Gt,Jl(e.type)?(e=gf,gf=null,Gt=e):Gt=t):Gt=vn?da(e.stateNode.nextSibling):null;return!0}function _s(){Gt=vn=null,yt=!1}function Zo(){var e=Rl;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),Rl=null),e}function or(e){Rl===null?Rl=[e]:Rl.push(e)}var $o=E(null),Es=null,ll=null;function ql(e,t,n){ce($o,t._currentValue),t._currentValue=n}function sl(e){e._currentValue=$o.current,te($o)}function Jo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Po(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var p=s.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=s;for(var _=0;_<t.length;_++)if(x.context===t[_]){i.lanes|=n,x=i.alternate,x!==null&&(x.lanes|=n),Jo(i.return,n,e),a||(p=null);break e}i=x.next}}else if(s.tag===18){if(p=s.return,p===null)throw Error(d(341));p.lanes|=n,i=p.alternate,i!==null&&(i.lanes|=n),Jo(p,n,e),p=null}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===e){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}}function fi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var p=s.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=s.type;En(s.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(s===vt.current){if(p=s.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}s=s.return}e!==null&&Po(t,e,n,a),t.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Es=e,ll=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return ud(Es,e)}function yu(e,t){return Es===null&&Cs(e),ud(e,t)}function ud(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ll===null){if(e===null)throw Error(d(308));ll=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ll=ll.next=t;return n}var my=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},py=r.unstable_scheduleCallback,yy=r.unstable_NormalPriority,un={$$typeof:we,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new my,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&py(yy,function(){e.controller.abort()})}var fr=null,Io=0,di=0,hi=null;function gy(e,t){if(fr===null){var n=fr=[];Io=0,di=nf(),hi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Io++,t.then(od,od),t}function od(){if(--Io===0&&fr!==null){hi!==null&&(hi.status="fulfilled");var e=fr;fr=null,di=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function by(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var cd=X.S;X.S=function(e,t){Fh=lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gy(e,t),cd!==null&&cd(e,t)};var As=E(null);function ec(){var e=As.current;return e!==null?e:Lt.pooledCache}function gu(e,t){t===null?ce(As,As.current):ce(As,t.pool)}function fd(){var e=ec();return e===null?null:{parent:un._currentValue,pool:e}}var mi=Error(d(460)),tc=Error(d(474)),bu=Error(d(542)),xu={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rn,Rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw Ds=t,mi}}function Os(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ds=n,mi):n}}var Ds=null;function md(){if(Ds===null)throw Error(d(459));var e=Ds;return Ds=null,e}function pd(e){if(e===mi||e===bu)throw Error(d(483))}var pi=null,dr=0;function vu(e){var t=dr;return dr+=1,pi===null&&(pi=[]),hd(pi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Su(e,t){throw t.$$typeof===Z?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yd(e){function t(L,B){if(e){var V=L.deletions;V===null?(L.deletions=[B],L.flags|=16):V.push(B)}}function n(L,B){if(!e)return null;for(;B!==null;)t(L,B),B=B.sibling;return null}function a(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function s(L,B){return L=nl(L,B),L.index=0,L.sibling=null,L}function i(L,B,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<B?(L.flags|=67108866,B):V):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function x(L,B,V,ie){return B===null||B.tag!==6?(B=Yo(V,L.mode,ie),B.return=L,B):(B=s(B,V),B.return=L,B)}function _(L,B,V,ie){var Xe=V.type;return Xe===oe?le(L,B,V.props.children,ie,V.key):B!==null&&(B.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ie&&Os(Xe)===B.type)?(B=s(B,V.props),hr(B,V),B.return=L,B):(B=hu(V.type,V.key,V.props,null,L.mode,ie),hr(B,V),B.return=L,B)}function F(L,B,V,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=Xo(V,L.mode,ie),B.return=L,B):(B=s(B,V.children||[]),B.return=L,B)}function le(L,B,V,ie,Xe){return B===null||B.tag!==7?(B=Ns(V,L.mode,ie,Xe),B.return=L,B):(B=s(B,V),B.return=L,B)}function re(L,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Yo(""+B,L.mode,V),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ye:return V=hu(B.type,B.key,B.props,null,L.mode,V),hr(V,B),V.return=L,V;case $:return B=Xo(B,L.mode,V),B.return=L,B;case Ie:return B=Os(B),re(L,B,V)}if(qe(B)||$e(B))return B=Ns(B,L.mode,V,null),B.return=L,B;if(typeof B.then=="function")return re(L,vu(B),V);if(B.$$typeof===we)return re(L,yu(L,B),V);Su(L,B)}return null}function P(L,B,V,ie){var Xe=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Xe!==null?null:x(L,B,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ye:return V.key===Xe?_(L,B,V,ie):null;case $:return V.key===Xe?F(L,B,V,ie):null;case Ie:return V=Os(V),P(L,B,V,ie)}if(qe(V)||$e(V))return Xe!==null?null:le(L,B,V,ie,null);if(typeof V.then=="function")return P(L,B,vu(V),ie);if(V.$$typeof===we)return P(L,B,yu(L,V),ie);Su(L,V)}return null}function ee(L,B,V,ie,Xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return L=L.get(V)||null,x(B,L,""+ie,Xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ye:return L=L.get(ie.key===null?V:ie.key)||null,_(B,L,ie,Xe);case $:return L=L.get(ie.key===null?V:ie.key)||null,F(B,L,ie,Xe);case Ie:return ie=Os(ie),ee(L,B,V,ie,Xe)}if(qe(ie)||$e(ie))return L=L.get(V)||null,le(B,L,ie,Xe,null);if(typeof ie.then=="function")return ee(L,B,V,vu(ie),Xe);if(ie.$$typeof===we)return ee(L,B,V,yu(B,ie),Xe);Su(B,ie)}return null}function Ue(L,B,V,ie){for(var Xe=null,St=null,Le=B,st=B=0,mt=null;Le!==null&&st<V.length;st++){Le.index>st?(mt=Le,Le=null):mt=Le.sibling;var jt=P(L,Le,V[st],ie);if(jt===null){Le===null&&(Le=mt);break}e&&Le&&jt.alternate===null&&t(L,Le),B=i(jt,B,st),St===null?Xe=jt:St.sibling=jt,St=jt,Le=mt}if(st===V.length)return n(L,Le),yt&&al(L,st),Xe;if(Le===null){for(;st<V.length;st++)Le=re(L,V[st],ie),Le!==null&&(B=i(Le,B,st),St===null?Xe=Le:St.sibling=Le,St=Le);return yt&&al(L,st),Xe}for(Le=a(Le);st<V.length;st++)mt=ee(Le,L,st,V[st],ie),mt!==null&&(e&&mt.alternate!==null&&Le.delete(mt.key===null?st:mt.key),B=i(mt,B,st),St===null?Xe=mt:St.sibling=mt,St=mt);return e&&Le.forEach(function(ts){return t(L,ts)}),yt&&al(L,st),Xe}function Je(L,B,V,ie){if(V==null)throw Error(d(151));for(var Xe=null,St=null,Le=B,st=B=0,mt=null,jt=V.next();Le!==null&&!jt.done;st++,jt=V.next()){Le.index>st?(mt=Le,Le=null):mt=Le.sibling;var ts=P(L,Le,jt.value,ie);if(ts===null){Le===null&&(Le=mt);break}e&&Le&&ts.alternate===null&&t(L,Le),B=i(ts,B,st),St===null?Xe=ts:St.sibling=ts,St=ts,Le=mt}if(jt.done)return n(L,Le),yt&&al(L,st),Xe;if(Le===null){for(;!jt.done;st++,jt=V.next())jt=re(L,jt.value,ie),jt!==null&&(B=i(jt,B,st),St===null?Xe=jt:St.sibling=jt,St=jt);return yt&&al(L,st),Xe}for(Le=a(Le);!jt.done;st++,jt=V.next())jt=ee(Le,L,st,jt.value,ie),jt!==null&&(e&&jt.alternate!==null&&Le.delete(jt.key===null?st:jt.key),B=i(jt,B,st),St===null?Xe=jt:St.sibling=jt,St=jt);return e&&Le.forEach(function(O0){return t(L,O0)}),yt&&al(L,st),Xe}function Bt(L,B,V,ie){if(typeof V=="object"&&V!==null&&V.type===oe&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case ye:e:{for(var Xe=V.key;B!==null;){if(B.key===Xe){if(Xe=V.type,Xe===oe){if(B.tag===7){n(L,B.sibling),ie=s(B,V.props.children),ie.return=L,L=ie;break e}}else if(B.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ie&&Os(Xe)===B.type){n(L,B.sibling),ie=s(B,V.props),hr(ie,V),ie.return=L,L=ie;break e}n(L,B);break}else t(L,B);B=B.sibling}V.type===oe?(ie=Ns(V.props.children,L.mode,ie,V.key),ie.return=L,L=ie):(ie=hu(V.type,V.key,V.props,null,L.mode,ie),hr(ie,V),ie.return=L,L=ie)}return p(L);case $:e:{for(Xe=V.key;B!==null;){if(B.key===Xe)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){n(L,B.sibling),ie=s(B,V.children||[]),ie.return=L,L=ie;break e}else{n(L,B);break}else t(L,B);B=B.sibling}ie=Xo(V,L.mode,ie),ie.return=L,L=ie}return p(L);case Ie:return V=Os(V),Bt(L,B,V,ie)}if(qe(V))return Ue(L,B,V,ie);if($e(V)){if(Xe=$e(V),typeof Xe!="function")throw Error(d(150));return V=Xe.call(V),Je(L,B,V,ie)}if(typeof V.then=="function")return Bt(L,B,vu(V),ie);if(V.$$typeof===we)return Bt(L,B,yu(L,V),ie);Su(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(n(L,B.sibling),ie=s(B,V),ie.return=L,L=ie):(n(L,B),ie=Yo(V,L.mode,ie),ie.return=L,L=ie),p(L)):n(L,B)}return function(L,B,V,ie){try{dr=0;var Xe=Bt(L,B,V,ie);return pi=null,Xe}catch(Le){if(Le===mi||Le===bu)throw Le;var St=Fn(29,Le,null,L.mode);return St.lanes=ie,St.return=L,St}}}var Ts=yd(!0),gd=yd(!1),Ul=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=zl(e),Ra(e,null,n),t}return zt(e,a,t,n),zl(e)}function mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}function lc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=p:i=i.next=p,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var sc=!1;function pr(){if(sc){var e=hi;if(e!==null)throw e}}function yr(e,t,n,a){sc=!1;var s=e.updateQueue;Ul=!1;var i=s.firstBaseUpdate,p=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var _=x,F=_.next;_.next=null,p===null?i=F:p.next=F,p=_;var le=e.alternate;le!==null&&(le=le.updateQueue,x=le.lastBaseUpdate,x!==p&&(x===null?le.firstBaseUpdate=F:x.next=F,le.lastBaseUpdate=_))}if(i!==null){var re=s.baseState;p=0,le=F=_=null,x=i;do{var P=x.lane&-536870913,ee=P!==x.lane;if(ee?(ht&P)===P:(a&P)===P){P!==0&&P===di&&(sc=!0),le!==null&&(le=le.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ue=e,Je=x;P=t;var Bt=n;switch(Je.tag){case 1:if(Ue=Je.payload,typeof Ue=="function"){re=Ue.call(Bt,re,P);break e}re=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Je.payload,P=typeof Ue=="function"?Ue.call(Bt,re,P):Ue,P==null)break e;re=A({},re,P);break e;case 2:Ul=!0}}P=x.callback,P!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=s.callbacks,ee===null?s.callbacks=[P]:ee.push(P))}else ee={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},le===null?(F=le=ee,_=re):le=le.next=ee,p|=P;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,s.lastBaseUpdate=ee,s.shared.pending=null}}while(!0);le===null&&(_=re),s.baseState=_,s.firstBaseUpdate=F,s.lastBaseUpdate=le,i===null&&(s.shared.lanes=0),Gl|=p,e.lanes=p,e.memoizedState=re}}function bd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function xd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bd(n[e],t)}var yi=E(null),ju=E(0);function vd(e,t){e=ml,ce(ju,e),ce(yi,t),ml=e|t.baseLanes}function ic(){ce(ju,ml),ce(yi,yi.current)}function rc(){ml=ju.current,te(yi),te(ju)}var Zn=E(null),fa=null;function Kl(e){var t=e.alternate;ce(tn,tn.current&1),ce(Zn,e),fa===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(fa=e)}function uc(e){ce(tn,tn.current),ce(Zn,e),fa===null&&(fa=e)}function Sd(e){e.tag===22?(ce(tn,tn.current),ce(Zn,e),fa===null&&(fa=e)):Ql()}function Ql(){ce(tn,tn.current),ce(Zn,Zn.current)}function $n(e){te(Zn),fa===e&&(fa=null),te(tn)}var tn=E(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pf(n)||yf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=0,nt=null,kt=null,on=null,Nu=!1,gi=!1,Ms=!1,_u=0,gr=0,bi=null,xy=0;function Jt(){throw Error(d(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function cc(e,t,n,a,s,i){return il=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?lh:_c,Ms=!1,i=n(a,s),Ms=!1,gi&&(i=wd(t,n,a,s)),jd(e),i}function jd(e){X.H=vr;var t=kt!==null&&kt.next!==null;if(il=0,on=kt=nt=null,Nu=!1,gr=0,bi=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&pu(e)&&(cn=!0))}function wd(e,t,n,a){nt=e;var s=0;do{if(gi&&(bi=null),gr=0,gi=!1,25<=s)throw Error(d(301));if(s+=1,on=kt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}X.H=sh,i=t(n,a)}while(gi);return i}function vy(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(nt.flags|=1024),t}function fc(){var e=_u!==0;return _u=0,e}function dc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hc(e){if(Nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nu=!1}il=0,on=kt=nt=null,gi=!1,gr=_u=0,bi=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=e:on=on.next=e,on}function nn(){if(kt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=on===null?nt.memoizedState:on.next;if(t!==null)on=t,kt=e;else{if(e===null)throw nt.alternate===null?Error(d(467)):Error(d(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?nt.memoizedState=on=e:on=on.next=e}return on}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=gr;return gr+=1,bi===null&&(bi=[]),e=hd(bi,e,t),t=nt,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?lh:_c),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===we)return Sn(e)}throw Error(d(438,String(e)))}function mc(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Eu(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=rt;return t.index++,n}function rl(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=nn();return pc(t,kt,e)}function pc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var p=s.next;s.next=i.next,i.next=p}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var x=p=null,_=null,F=t,le=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(ht&re)===re:(il&re)===re){var P=F.revertLane;if(P===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===di&&(le=!0);else if((il&P)===P){F=F.next,P===di&&(le=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=re,p=i):_=_.next=re,nt.lanes|=P,Gl|=P;re=F.action,Ms&&n(i,re),i=F.hasEagerState?F.eagerState:n(i,re)}else P={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=P,p=i):_=_.next=P,nt.lanes|=re,Gl|=re;F=F.next}while(F!==null&&F!==t);if(_===null?p=i:_.next=x,!En(i,e.memoizedState)&&(cn=!0,le&&(n=hi,n!==null)))throw n;e.memoizedState=i,e.baseState=p,e.baseQueue=_,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function yc(e){var t=nn(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var p=s=s.next;do i=e(i,p.action),p=p.next;while(p!==s);En(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Nd(e,t,n){var a=nt,s=nn(),i=yt;if(i){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!En((kt||s).memoizedState,n);if(p&&(s.memoizedState=n,cn=!0),s=s.queue,xc(Cd.bind(null,a,s,e),[e]),s.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,xi(9,{destroy:void 0},Ed.bind(null,a,s,n,t),null),Lt===null)throw Error(d(349));i||(il&127)!==0||_d(a,t,n)}return n}function _d(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Eu(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ed(e,t,n,a){t.value=n,t.getSnapshot=a,Ad(t)&&Od(e)}function Cd(e,t,n){return n(function(){Ad(t)&&Od(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function Od(e){var t=At(e,2);t!==null&&Ln(t,e,2)}function gc(e){var t=zn();if(typeof e=="function"){var n=e;if(e=n(),Ms){Ut(!0);try{n()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function Dd(e,t,n,a){return e.baseState=n,pc(e,kt,typeof a=="function"?a:rl)}function Sy(e,t,n,a,s){if(Tu(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){i.listeners.push(p)}};X.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Td(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Td(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=X.T,p={};X.T=p;try{var x=n(s,a),_=X.S;_!==null&&_(p,x),Md(e,t,x)}catch(F){bc(e,t,F)}finally{i!==null&&p.types!==null&&(i.types=p.types),X.T=i}}else try{i=n(s,a),Md(e,t,i)}catch(F){bc(e,t,F)}}function Md(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){zd(e,t,a)},function(a){return bc(e,t,a)}):zd(e,t,n)}function zd(e,t,n){t.status="fulfilled",t.value=n,kd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Td(e,n)))}function bc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,kd(t),t=t.next;while(t!==a)}e.action=null}function kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rd(e,t){return t}function Bd(e,t){if(yt){var n=Lt.formState;if(n!==null){e:{var a=nt;if(yt){if(Gt){t:{for(var s=Gt,i=ca;s.nodeType!==8;){if(!i){s=null;break t}if(s=da(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Gt=da(s.nextSibling),a=s.data==="F!";break e}}Bl(a)}a=!1}a&&(t=n[0])}}return n=zn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},n.queue=a,n=th.bind(null,nt,a),a.dispatch=n,a=gc(!1),i=Nc.bind(null,nt,!1,a.queue),a=zn(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Sy.bind(null,nt,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function qd(e){var t=nn();return Ud(t,kt,e)}function Ud(e,t,n){if(t=pc(e,t,Rd)[0],e=Au(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=br(t)}catch(p){throw p===mi?bu:p}else a=t;t=nn();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,xi(9,{destroy:void 0},jy.bind(null,s,n),null)),[a,i,e]}function jy(e,t){e.action=t}function Hd(e){var t=nn(),n=kt;if(n!==null)return Ud(t,n,e);nn(),t=t.memoizedState,n=nn();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function xi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Eu(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ld(){return nn().memoizedState}function Ou(e,t,n,a){var s=zn();nt.flags|=e,s.memoizedState=xi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Du(e,t,n,a){var s=nn();a=a===void 0?null:a;var i=s.memoizedState.inst;kt!==null&&a!==null&&oc(a,kt.memoizedState.deps)?s.memoizedState=xi(t,i,n,a):(nt.flags|=e,s.memoizedState=xi(1|t,i,n,a))}function Kd(e,t){Ou(8390656,8,e,t)}function xc(e,t){Du(2048,8,e,t)}function wy(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=Eu(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qd(e){var t=nn().memoizedState;return wy({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return Du(4,2,e,t)}function Xd(e,t){return Du(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){n=n!=null?n.concat([e]):null,Du(4,4,Gd.bind(null,t,e),n)}function vc(){}function Fd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&oc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Zd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&oc(t,a[1]))return a[0];if(a=e(),Ms){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a}function Sc(e,t,n){return n===void 0||(il&1073741824)!==0&&(ht&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=$h(),nt.lanes|=e,Gl|=e,n)}function $d(e,t,n,a){return En(n,t)?n:yi.current!==null?(e=Sc(e,n,a),En(e,t)||(cn=!0),e):(il&42)===0||(il&1073741824)!==0&&(ht&261930)===0?(cn=!0,e.memoizedState=n):(e=$h(),nt.lanes|=e,Gl|=e,t)}function Jd(e,t,n,a,s){var i=ue.p;ue.p=i!==0&&8>i?i:8;var p=X.T,x={};X.T=x,Nc(e,!1,t,n);try{var _=s(),F=X.S;if(F!==null&&F(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var le=by(_,a);xr(e,t,le,Wn(e))}else xr(e,t,a,Wn(e))}catch(re){xr(e,t,{then:function(){},status:"rejected",reason:re},Wn())}finally{ue.p=i,p!==null&&x.types!==null&&(p.types=x.types),X.T=p}}function Ny(){}function jc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var s=Pd(e).queue;Jd(e,s,t,me,n===null?Ny:function(){return Wd(e),n(a)})}function Pd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:me},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wd(e){var t=Pd(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},Wn())}function wc(){return Sn(Br)}function Id(){return nn().memoizedState}function eh(){return nn().memoizedState}function _y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Wn();e=Hl(n);var a=Ll(t,e,n);a!==null&&(Ln(a,t,n),mr(a,t,n)),t={cache:Wo()},e.payload=t;return}t=t.return}}function Ey(e,t,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(e)?nh(t,n):(n=Cn(e,t,n,a),n!==null&&(Ln(n,e,a),ah(n,t,a)))}function th(e,t,n){var a=Wn();xr(e,t,n,a)}function xr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))nh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var p=t.lastRenderedState,x=i(p,n);if(s.hasEagerState=!0,s.eagerState=x,En(x,p))return zt(e,t,s,0),Lt===null&&et(),!1}catch{}if(n=Cn(e,t,s,a),n!==null)return Ln(n,e,a),ah(n,t,a),!0}return!1}function Nc(e,t,n,a){if(a={lane:2,revertLane:nf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(t)throw Error(d(479))}else t=Cn(e,n,a,2),t!==null&&Ln(t,e,2)}function Tu(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function nh(e,t){gi=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ah(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}var vr={readContext:Sn,use:Cu,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};vr.useEffectEvent=Jt;var lh={readContext:Sn,use:Cu,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ou(4194308,4,Gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var n=zn();t=t===void 0?null:t;var a=e();if(Ms){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zn();if(n!==void 0){var s=n(t);if(Ms){Ut(!0);try{n(t)}finally{Ut(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Ey.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=gc(e);var t=e.queue,n=th.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vc,useDeferredValue:function(e,t){var n=zn();return Sc(n,e,t)},useTransition:function(){var e=gc(!1);return e=Jd.bind(null,nt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=nt,s=zn();if(yt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Lt===null)throw Error(d(349));(ht&127)!==0||_d(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kd(Cd.bind(null,a,i,e),[e]),a.flags|=2048,xi(9,{destroy:void 0},Ed.bind(null,a,i,n,t),null),n},useId:function(){var e=zn(),t=Lt.identifierPrefix;if(yt){var n=qa,a=Ba;n=(a&~(1<<32-Oe(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=xy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wc,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nc.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:mc,useCacheRefresh:function(){return zn().memoizedState=_y.bind(null,nt)},useEffectEvent:function(e){var t=zn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},_c={readContext:Sn,use:Cu,useCallback:Fd,useContext:Sn,useEffect:xc,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Zd,useReducer:Au,useRef:Ld,useState:function(){return Au(rl)},useDebugValue:vc,useDeferredValue:function(e,t){var n=nn();return $d(n,kt.memoizedState,e,t)},useTransition:function(){var e=Au(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:Nd,useId:Id,useHostTransitionStatus:wc,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var n=nn();return Dd(n,kt,e,t)},useMemoCache:mc,useCacheRefresh:eh};_c.useEffectEvent=Qd;var sh={readContext:Sn,use:Cu,useCallback:Fd,useContext:Sn,useEffect:xc,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Zd,useReducer:yc,useRef:Ld,useState:function(){return yc(rl)},useDebugValue:vc,useDeferredValue:function(e,t){var n=nn();return kt===null?Sc(n,e,t):$d(n,kt.memoizedState,e,t)},useTransition:function(){var e=yc(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:Nd,useId:Id,useHostTransitionStatus:wc,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var n=nn();return kt!==null?Dd(n,kt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mc,useCacheRefresh:eh};sh.useEffectEvent=Qd;function Ec(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),a=Hl(n);a.tag=2,t!=null&&(a.callback=t),t=Ll(e,a,n),t!==null&&(Ln(t,e,n),mr(t,e,n))}};function ih(e,t,n,a,s,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(s,i):!0}function rh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Cc.enqueueReplaceState(t,t.state,null)}function zs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function uh(e){Be(e)}function oh(e){console.error(e)}function ch(e){Be(e)}function Mu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function fh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ac(e,t,n){return n=Hl(n),n.tag=3,n.payload={element:null},n.callback=function(){Mu(e,t)},n}function dh(e){return e=Hl(e),e.tag=3,e}function hh(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){fh(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){fh(t,n,a),typeof s!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function Cy(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&fi(t,n,s,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return fa===null?Xu():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ic(e,a,s)),!1;case 22:return n.flags|=65536,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ic(e,a,s)),!1}throw Error(d(435,n.tag))}return Ic(e,a,s),Xu(),!1}if(yt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Fo&&(e=Error(d(422),{cause:a}),or(ra(e,n)))):(a!==Fo&&(t=Error(d(423),{cause:a}),or(ra(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ra(a,n),s=Ac(e.stateNode,a,s),lc(e,s),Pt!==4&&(Pt=2)),!1;var i=Error(d(520),{cause:a});if(i=ra(i,n),Ar===null?Ar=[i]:Ar.push(i),Pt!==4&&(Pt=2),t===null)return!0;a=ra(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Ac(n.stateNode,a,e),lc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=dh(s),hh(s,e,n,a),lc(n,s),!1}n=n.return}while(n!==null);return!1}var Oc=Error(d(461)),cn=!1;function jn(e,t,n,a){t.child=e===null?gd(t,null,n,a):Ts(t,e.child,n,a)}function mh(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return Cs(t),a=cc(e,t,n,p,i,s),x=fc(),e!==null&&!cn?(dc(e,t,s),ul(e,t,s)):(yt&&x&&Go(t),t.flags|=1,jn(e,t,a,s),t.child)}function ph(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Qo(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,yh(e,t,i,a,s)):(e=hu(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!qc(e,s)){var p=i.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return ul(e,t,s)}return t.flags|=1,e=nl(i,a),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(l(i,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=i,qc(e,s))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,ul(e,t,s)}return Dc(e,t,n,a,s)}function gh(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return bh(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,i!==null?i.cachePool:null),i!==null?vd(t,i):ic(),Sd(t);else return a=t.lanes=536870912,bh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(gu(t,i.cachePool),vd(t,i),Ql(),t.memoizedState=null):(e!==null&&gu(t,null),ic(),Ql());return jn(e,t,s,n),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(e,t,n,a,s){var i=ec();return i=i===null?null:{parent:un._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&gu(t,null),ic(),Sd(t),e!==null&&fi(e,t,a,!0),t.childLanes=s,null}function zu(e,t){return t=Ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xh(e,t,n){return Ts(t,e.child,null,n),e=zu(t,t.pendingProps),e.flags|=2,$n(t),t.memoizedState=null,e}function Ay(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(yt){if(a.mode==="hidden")return e=zu(t,a),t.lanes=536870912,Sr(null,e);if(uc(t),(e=Gt)?(e=Tm(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,vn=t,Gt=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return zu(t,a)}var i=e.memoizedState;if(i!==null){var p=i.dehydrated;if(uc(t),s)if(t.flags&256)t.flags&=-257,t=xh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||fi(e,t,n,!1),s=(n&e.childLanes)!==0,cn||s){if(a=Lt,a!==null&&(p=Wt(a,n),p!==0&&p!==i.retryLane))throw i.retryLane=p,At(e,p),Ln(a,e,p),Oc;Xu(),t=xh(e,t,n)}else e=i.treeContext,Gt=da(p.nextSibling),vn=t,yt=!0,Rl=null,ca=!1,e!==null&&sd(t,e),t=zu(t,a),t.flags|=4096;return t}return e=nl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dc(e,t,n,a,s){return Cs(t),n=cc(e,t,n,a,void 0,s),a=fc(),e!==null&&!cn?(dc(e,t,s),ul(e,t,s)):(yt&&a&&Go(t),t.flags|=1,jn(e,t,n,s),t.child)}function vh(e,t,n,a,s,i){return Cs(t),t.updateQueue=null,n=wd(t,a,n,s),jd(e),a=fc(),e!==null&&!cn?(dc(e,t,i),ul(e,t,i)):(yt&&a&&Go(t),t.flags|=1,jn(e,t,n,i),t.child)}function Sh(e,t,n,a,s){if(Cs(t),t.stateNode===null){var i=ri,p=n.contextType;typeof p=="object"&&p!==null&&(i=Sn(p)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},nc(t),p=n.contextType,i.context=typeof p=="object"&&p!==null?Sn(p):ri,i.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ec(t,n,p,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(p=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),p!==i.state&&Cc.enqueueReplaceState(i,i.state,null),yr(t,a,i,s),pr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,_=zs(n,x);i.props=_;var F=i.context,le=n.contextType;p=ri,typeof le=="object"&&le!==null&&(p=Sn(le));var re=n.getDerivedStateFromProps;le=typeof re=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,le||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||F!==p)&&rh(t,i,a,p),Ul=!1;var P=t.memoizedState;i.state=P,yr(t,a,i,s),pr(),F=t.memoizedState,x||P!==F||Ul?(typeof re=="function"&&(Ec(t,n,re,a),F=t.memoizedState),(_=Ul||ih(t,n,_,a,P,F,p))?(le||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=F),i.props=a,i.state=F,i.context=p,a=_):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,ac(e,t),p=t.memoizedProps,le=zs(n,p),i.props=le,re=t.pendingProps,P=i.context,F=n.contextType,_=ri,typeof F=="object"&&F!==null&&(_=Sn(F)),x=n.getDerivedStateFromProps,(F=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p!==re||P!==_)&&rh(t,i,a,_),Ul=!1,P=t.memoizedState,i.state=P,yr(t,a,i,s),pr();var ee=t.memoizedState;p!==re||P!==ee||Ul||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof x=="function"&&(Ec(t,n,x,a),ee=t.memoizedState),(le=Ul||ih(t,n,le,a,P,ee,_)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(F||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,ee,_),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,ee,_)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ee),i.props=a,i.state=ee,i.context=_,a=le):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ku(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,n,s)):jn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ul(e,t,s),e}function jh(e,t,n,a){return _s(),t.flags|=256,jn(e,t,n,a),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:fd()}}function zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function wh(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,p;if((p=i)||(p=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),p&&(s=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(yt){if(s?Kl(t):Ql(),(e=Gt)?(e=Tm(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,vn=t,Gt=null)):e=null,e===null)throw Bl(t);return yf(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,s?(Ql(),s=t.mode,x=Ru({mode:"hidden",children:x},s),a=Ns(a,s,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Mc(n),a.childLanes=zc(e,p,n),t.memoizedState=Tc,Sr(null,a)):(Kl(t),kc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(i)t.flags&256?(Kl(t),t.flags&=-257,t=Rc(e,t,n)):t.memoizedState!==null?(Ql(),t.child=e.child,t.flags|=128,t=null):(Ql(),x=a.fallback,s=t.mode,a=Ru({mode:"visible",children:a.children},s),x=Ns(x,s,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ts(t,e.child,null,n),a=t.child,a.memoizedState=Mc(n),a.childLanes=zc(e,p,n),t.memoizedState=Tc,t=Sr(null,a));else if(Kl(t),yf(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var F=p.dgst;p=F,a=Error(d(419)),a.stack="",a.digest=p,or({value:a,source:null,stack:null}),t=Rc(e,t,n)}else if(cn||fi(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=Lt,p!==null&&(a=Wt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,At(e,a),Ln(p,e,a),Oc;pf(x)||Xu(),t=Rc(e,t,n)}else pf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Gt=da(x.nextSibling),vn=t,yt=!0,Rl=null,ca=!1,e!==null&&sd(t,e),t=kc(t,a.children),t.flags|=4096);return t}return s?(Ql(),x=a.fallback,s=t.mode,_=e.child,F=_.sibling,a=nl(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,F!==null?x=nl(F,x):(x=Ns(x,s,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,Sr(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Mc(n):(s=x.cachePool,s!==null?(_=un._currentValue,s=s.parent!==_?{parent:_,pool:_}:s):s=fd(),x={baseLanes:x.baseLanes|n,cachePool:s}),a.memoizedState=x,a.childLanes=zc(e,p,n),t.memoizedState=Tc,Sr(e.child,a)):(Kl(t),n=e.child,e=n.sibling,n=nl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function kc(e,t){return t=Ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ru(e,t){return e=Fn(22,e,null,t),e.lanes=0,e}function Rc(e,t,n){return Ts(t,e.child,null,n),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Jo(e.return,t,n)}function Bc(e,t,n,a,s,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=s,p.treeForkCount=i)}function _h(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var p=tn.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,ce(tn,p),jn(e,t,a,n),a=yt?ur:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nh(e,n,t);else if(e.tag===19)Nh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bc(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bc(t,!0,n,null,i,a);break;case"together":Bc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ul(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(fi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Oy(e,t,n){switch(t.tag){case 3:Ft(t,t.stateNode.containerInfo),ql(t,un,e.memoizedState.cache),_s();break;case 27:case 5:je(t);break;case 4:Ft(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?wh(e,t,n):(Kl(t),e=ul(e,t,n),e!==null?e.sibling:null);Kl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(fi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return _h(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(tn,tn.current),a)break;return null;case 22:return t.lanes=0,gh(e,t,n,t.pendingProps);case 24:ql(t,un,e.memoizedState.cache)}return ul(e,t,n)}function Eh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!qc(e,n)&&(t.flags&128)===0)return cn=!1,Oy(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,yt&&(t.flags&1048576)!==0&&ld(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Os(t.elementType),t.type=e,typeof e=="function")Qo(e)?(a=zs(e,a),t.tag=1,t=Sh(null,t,e,a,n)):(t.tag=0,t=Dc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===se){t.tag=11,t=mh(null,t,e,a,n);break e}else if(s===Se){t.tag=14,t=ph(null,t,e,a,n);break e}}throw t=Ae(e)||e,Error(d(306,t,""))}}return t;case 0:return Dc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=zs(a,t.pendingProps),Sh(e,t,a,s,n);case 3:e:{if(Ft(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,ac(e,t),yr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,ql(t,un,a),a!==i.cache&&Po(t,[un],n,!0),pr(),a=p.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=jh(e,t,a,n);break e}else if(a!==s){s=ra(Error(d(424)),t),or(s),t=jh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Gt=da(e.firstChild),vn=t,yt=!0,Rl=null,ca=!0,n=gd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),a===s){t=ul(e,t,n);break e}jn(e,t,a,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=qm(t.type,null,t.pendingProps,null))?t.memoizedState=n:yt||(n=t.type,e=t.pendingProps,a=Pu(at.current).createElement(n),a[Kt]=t,a[It]=e,wn(a,n,e),en(a),t.stateNode=a):t.memoizedState=qm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&yt&&(a=t.stateNode=km(t.type,t.pendingProps,at.current),vn=t,ca=!0,s=Gt,Jl(t.type)?(gf=s,Gt=da(a.firstChild)):Gt=s),jn(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&yt&&((s=a=Gt)&&(a=s0(a,t.type,t.pendingProps,ca),a!==null?(t.stateNode=a,vn=t,Gt=da(a.firstChild),ca=!1,s=!0):s=!1),s||Bl(t)),je(t),s=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,a=i.children,df(s,i)?a=null:p!==null&&df(s,p)&&(t.flags|=32),t.memoizedState!==null&&(s=cc(e,t,vy,null,null,n),Br._currentValue=s),ku(e,t),jn(e,t,a,n),t.child;case 6:return e===null&&yt&&((e=n=Gt)&&(n=i0(n,t.pendingProps,ca),n!==null?(t.stateNode=n,vn=t,Gt=null,e=!0):e=!1),e||Bl(t)),null;case 13:return wh(e,t,n);case 4:return Ft(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ts(t,null,a,n):jn(e,t,a,n),t.child;case 11:return mh(e,t,t.type,t.pendingProps,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ql(t,t.type,a.value),jn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Cs(t),s=Sn(s),a=a(s),t.flags|=1,jn(e,t,a,n),t.child;case 14:return ph(e,t,t.type,t.pendingProps,n);case 15:return yh(e,t,t.type,t.pendingProps,n);case 19:return _h(e,t,n);case 31:return Ay(e,t,n);case 22:return gh(e,t,n,t.pendingProps);case 24:return Cs(t),a=Sn(un),e===null?(s=ec(),s===null&&(s=Lt,i=Wo(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},nc(t),ql(t,un,s)):((e.lanes&n)!==0&&(ac(e,t),yr(t,null,null,n),pr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ql(t,un,a)):(a=i.cache,ql(t,un,a),a!==s.cache&&Po(t,[un],n,!0))),jn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ol(e){e.flags|=4}function Uc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Ih())e.flags|=8192;else throw Ds=xu,tc}else e.flags&=-16777217}function Ch(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qm(t))if(Ih())e.flags|=8192;else throw Ds=xu,tc}function Bu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wr():536870912,e.lanes|=t,wi|=t)}function jr(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Dy(e,t,n){var a=t.pendingProps;switch(Vo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sl(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ci(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zo())),Vt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ol(t),i!==null?(Vt(t),Ch(t,i)):(Vt(t),Uc(t,s,null,a,n))):i?i!==e.memoizedState?(ol(t),Vt(t),Ch(t,i)):(Vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ol(t),Vt(t),Uc(t,s,e,a,n)),null;case 27:if(ft(t),n=at.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Vt(t),null}e=Me.current,ci(t)?id(t):(e=km(s,a,n),t.stateNode=e,ol(t))}return Vt(t),null;case 5:if(ft(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Vt(t),null}if(i=Me.current,ci(t))id(t);else{var p=Pu(at.current);switch(i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?p.createElement(s,{is:a.is}):p.createElement(s)}}i[Kt]=t,i[It]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=i;e:switch(wn(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ol(t)}}return Vt(t),Uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=at.current,ci(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=vn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||wm(e.nodeValue,n)),e||Bl(t,!0)}else e=Pu(e).createTextNode(a),e[Kt]=t,t.stateNode=e}return Vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ci(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Kt]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),e=!1}else n=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($n(t),t):($n(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ci(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Kt]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else s=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?($n(t),t):($n(t),null)}return $n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bu(t,t.updateQueue),Vt(t),null);case 4:return dn(),e===null&&rf(t.stateNode.containerInfo),Vt(t),null;case 10:return sl(t.type),Vt(t),null;case 19:if(te(tn),a=t.memoizedState,a===null)return Vt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)jr(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wu(e),i!==null){for(t.flags|=128,jr(a,!1),e=i.updateQueue,t.updateQueue=e,Bu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)td(n,e),n=n.sibling;return ce(tn,tn.current&1|2),yt&&al(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&lt()>Ku&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=wu(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Bu(t,e),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!yt)return Vt(t),null}else 2*lt()-a.renderingStartTime>Ku&&n!==536870912&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lt(),e.sibling=null,n=tn.current,ce(tn,s?n&1|2:n&1),yt&&al(t,a.treeForkCount),e):(Vt(t),null);case 22:case 23:return $n(t),rc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),n=t.updateQueue,n!==null&&Bu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&te(As),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sl(un),Vt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Ty(e,t){switch(Vo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sl(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ft(t),null;case 31:if(t.memoizedState!==null){if($n(t),t.alternate===null)throw Error(d(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(tn),null;case 4:return dn(),null;case 10:return sl(t.type),null;case 22:case 23:return $n(t),rc(),e!==null&&te(As),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sl(un),null;case 25:return null;default:return null}}function Ah(e,t){switch(Vo(t),t.tag){case 3:sl(un),dn();break;case 26:case 27:case 5:ft(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&$n(t);break;case 13:$n(t);break;case 19:te(tn);break;case 10:sl(t.type);break;case 22:case 23:$n(t),rc(),e!==null&&te(As);break;case 24:sl(un)}}function wr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,p=n.inst;a=i(),p.destroy=a}n=n.next}while(n!==s)}}catch(x){Tt(t,t.return,x)}}function Yl(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,s=t;var _=n,F=x;try{F()}catch(le){Tt(s,_,le)}}}a=a.next}while(a!==i)}}catch(le){Tt(t,t.return,le)}}function Oh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xd(t,n)}catch(a){Tt(e,e.return,a)}}}function Dh(e,t,n){n.props=zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Tt(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Tt(e,t,s)}}function Ua(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Tt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Tt(e,t,s)}else n.current=null}function Th(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Tt(e,e.return,s)}}function Hc(e,t,n){try{var a=e.stateNode;Iy(a,e.type,n,t),a[It]=t}catch(s){Tt(e,e.return,s)}}function Mh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function qu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function zh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wn(t,a,n),t[Kt]=e,t[It]=n}catch(i){Tt(e,e.return,i)}}var cl=!1,fn=!1,Qc=!1,kh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function My(e,t){if(e=e.containerInfo,cf=lo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,F=0,le=0,re=e,P=null;t:for(;;){for(var ee;re!==n||s!==0&&re.nodeType!==3||(x=p+s),re!==i||a!==0&&re.nodeType!==3||(_=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(ee=re.firstChild)!==null;)P=re,re=ee;for(;;){if(re===e)break t;if(P===n&&++F===s&&(x=p),P===i&&++le===a&&(_=p),(ee=re.nextSibling)!==null)break;re=P,P=re.parentNode}re=ee}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(ff={focusedElem:e,selectionRange:n},lo=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var Ue=zs(n.type,s);e=a.getSnapshotBeforeUpdate(Ue,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Je){Tt(n,n.return,Je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function Rh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:dl(e,n),a&4&&wr(5,n);break;case 1:if(dl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Tt(n,n.return,p)}else{var s=zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Tt(n,n.return,p)}}a&64&&Oh(n),a&512&&Nr(n,n.return);break;case 3:if(dl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xd(e,t)}catch(p){Tt(n,n.return,p)}}break;case 27:t===null&&a&4&&zh(n);case 26:case 5:dl(e,n),t===null&&a&4&&Th(n),a&512&&Nr(n,n.return);break;case 12:dl(e,n);break;case 31:dl(e,n),a&4&&Uh(e,n);break;case 13:dl(e,n),a&4&&Hh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ky.bind(null,n),r0(e,n))));break;case 22:if(a=n.memoizedState!==null||cl,!a){t=t!==null&&t.memoizedState!==null||fn,s=cl;var i=fn;cl=a,(fn=t)&&!i?hl(e,n,(n.subtreeFlags&8772)!==0):dl(e,n),cl=s,fn=i}break;case 30:break;default:dl(e,n)}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Bn=!1;function fl(e,t,n){for(n=n.child;n!==null;)qh(e,t,n),n=n.sibling}function qh(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(qt,n)}catch{}switch(n.tag){case 26:fn||Ua(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ua(n,t);var a=$t,s=Bn;Jl(n.type)&&($t=n.stateNode,Bn=!1),fl(e,t,n),zr(n.stateNode),$t=a,Bn=s;break;case 5:fn||Ua(n,t);case 6:if(a=$t,s=Bn,$t=null,fl(e,t,n),$t=a,Bn=s,$t!==null)if(Bn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(n.stateNode)}catch(i){Tt(n,t,i)}else try{$t.removeChild(n.stateNode)}catch(i){Tt(n,t,i)}break;case 18:$t!==null&&(Bn?(e=$t,Om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ti(e)):Om($t,n.stateNode));break;case 4:a=$t,s=Bn,$t=n.stateNode.containerInfo,Bn=!0,fl(e,t,n),$t=a,Bn=s;break;case 0:case 11:case 14:case 15:Yl(2,n,t),fn||Yl(4,n,t),fl(e,t,n);break;case 1:fn||(Ua(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Dh(n,t,a)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,fl(e,t,n),fn=a;break;default:fl(e,t,n)}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(n){Tt(t,t.return,n)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(n){Tt(t,t.return,n)}}function zy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kh),t;default:throw Error(d(435,e.tag))}}function Uu(e,t){var n=zy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Qy.bind(null,e,a);a.then(s,s)}})}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Jl(x.type)){$t=x.stateNode,Bn=!1;break e}break;case 5:$t=x.stateNode,Bn=!1;break e;case 3:case 4:$t=x.stateNode.containerInfo,Bn=!0;break e}x=x.return}if($t===null)throw Error(d(160));qh(i,p,s),$t=null,Bn=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}var ja=null;function Lh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(t,e),Un(e),a&4&&(Yl(3,e,e.return),wr(3,e),Yl(5,e,e.return));break;case 1:qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),a&64&&cl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=ja;if(qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Xn]||i[Kt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),wn(i,a,n),i[Kt]=e,en(i),a=i;break e;case"link":var p=Lm("link","href",s).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(i=p[x],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;case"meta":if(p=Lm("meta","content",s).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(i=p[x],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;default:throw Error(d(468,a))}i[Kt]=e,en(i),a=i}e.stateNode=a}else Km(s,e.type,e.stateNode);else e.stateNode=Hm(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Km(s,e.type,e.stateNode):Hm(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,n.memoizedProps)}break;case 27:qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),n!==null&&a&4&&Hc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),e.flags&32){s=e.stateNode;try{Va(s,"")}catch(Ue){Tt(e,e.return,Ue)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Hc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Qc=!0);break;case 6:if(qn(t,e),Un(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Ue){Tt(e,e.return,Ue)}}break;case 3:if(eo=null,s=ja,ja=Wu(t.containerInfo),qn(t,e),ja=s,Un(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(Ue){Tt(e,e.return,Ue)}Qc&&(Qc=!1,Kh(e));break;case 4:a=ja,ja=Wu(e.stateNode.containerInfo),qn(t,e),Un(e),ja=a;break;case 12:qn(t,e),Un(e);break;case 31:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 13:qn(t,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lu=lt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 22:s=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,F=cl,le=fn;if(cl=F||s,fn=le||_,qn(t,e),fn=le,cl=F,Un(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||_||cl||fn||ks(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(i=_.stateNode,s)p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var re=_.memoizedProps.style,P=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Ue){Tt(_,_.return,Ue)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=s?"":_.memoizedProps}catch(Ue){Tt(_,_.return,Ue)}}}else if(t.tag===18){if(n===null){_=t;try{var ee=_.stateNode;s?Dm(ee,!0):Dm(_.stateNode,!1)}catch(Ue){Tt(_,_.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Uu(e,n))));break;case 19:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 30:break;case 21:break;default:qn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Mh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var s=n.stateNode,i=Lc(e);qu(e,i,s);break;case 5:var p=n.stateNode;n.flags&32&&(Va(p,""),n.flags&=-33);var x=Lc(e);qu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,F=Lc(e);Kc(e,F,_);break;default:throw Error(d(161))}}catch(le){Tt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rh(e,t.alternate,t),t=t.sibling}function ks(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),ks(t);break;case 1:Ua(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dh(t,t.return,n),ks(t);break;case 27:zr(t.stateNode);case 26:case 5:Ua(t,t.return),ks(t);break;case 22:t.memoizedState===null&&ks(t);break;case 30:ks(t);break;default:ks(t)}e=e.sibling}}function hl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,p=i.flags;switch(i.tag){case 0:case 11:case 15:hl(s,i,n),wr(4,i);break;case 1:if(hl(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(F){Tt(a,a.return,F)}if(a=i,s=a.updateQueue,s!==null){var x=a.stateNode;try{var _=s.shared.hiddenCallbacks;if(_!==null)for(s.shared.hiddenCallbacks=null,s=0;s<_.length;s++)bd(_[s],x)}catch(F){Tt(a,a.return,F)}}n&&p&64&&Oh(i),Nr(i,i.return);break;case 27:zh(i);case 26:case 5:hl(s,i,n),n&&a===null&&p&4&&Th(i),Nr(i,i.return);break;case 12:hl(s,i,n);break;case 31:hl(s,i,n),n&&p&4&&Uh(s,i);break;case 13:hl(s,i,n),n&&p&4&&Hh(s,i);break;case 22:i.memoizedState===null&&hl(s,i,n),Nr(i,i.return);break;case 30:break;default:hl(s,i,n)}t=t.sibling}}function Yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cr(n))}function Xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function wa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,n,a),t=t.sibling}function Qh(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,n,a),s&2048&&wr(9,t);break;case 1:wa(e,t,n,a);break;case 3:wa(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(s&2048){wa(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,p=i.id,x=i.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Tt(t,t.return,_)}}else wa(e,t,n,a);break;case 31:wa(e,t,n,a);break;case 13:wa(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,p=t.alternate,t.memoizedState!==null?i._visibility&2?wa(e,t,n,a):_r(e,t):i._visibility&2?wa(e,t,n,a):(i._visibility|=2,vi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Yc(p,t);break;case 24:wa(e,t,n,a),s&2048&&Xc(t.alternate,t);break;default:wa(e,t,n,a)}}function vi(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,p=t,x=n,_=a,F=p.flags;switch(p.tag){case 0:case 11:case 15:vi(i,p,x,_,s),wr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?vi(i,p,x,_,s):_r(i,p):(le._visibility|=2,vi(i,p,x,_,s)),s&&F&2048&&Yc(p.alternate,p);break;case 24:vi(i,p,x,_,s),s&&F&2048&&Xc(p.alternate,p);break;default:vi(i,p,x,_,s)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:_r(n,a),s&2048&&Yc(a.alternate,a);break;case 24:_r(n,a),s&2048&&Xc(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var Er=8192;function Si(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Yh(e,t,n),e=e.sibling}function Yh(e,t,n){switch(e.tag){case 26:Si(e,t,n),e.flags&Er&&e.memoizedState!==null&&x0(n,ja,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,n);break;case 3:case 4:var a=ja;ja=Wu(e.stateNode.containerInfo),Si(e,t,n),ja=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,Si(e,t,n),Er=a):Si(e,t,n));break;default:Si(e,t,n)}}function Xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Vh(a,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gh(e),e=e.sibling}function Gh(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Cr(e);break;default:Cr(e)}}function Hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Vh(a,e)}Xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function Vh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:cr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var s=a.sibling,i=a.return;if(Bh(a),a===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var ky={getCacheForType:function(e){var t=Sn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Sn(un).controller.signal}},Ry=typeof WeakMap=="function"?WeakMap:Map,_t=0,Lt=null,ot=null,ht=0,Dt=0,Jn=null,Xl=!1,ji=!1,Gc=!1,ml=0,Pt=0,Gl=0,Rs=0,Vc=0,Pn=0,wi=0,Ar=null,Hn=null,Fc=!1,Lu=0,Fh=0,Ku=1/0,Qu=null,Vl=null,hn=0,Fl=null,Ni=null,pl=0,Zc=0,$c=null,Zh=null,Or=0,Jc=null;function Wn(){return(_t&2)!==0&&ht!==0?ht&-ht:X.T!==null?nf():os()}function $h(){if(Pn===0)if((ht&536870912)===0||yt){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),Pn=e}else Pn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Pn}function Ln(e,t,n){(e===Lt&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)&&(_i(e,0),Zl(e,ht,Pn,!1)),na(e,n),((_t&2)===0||e!==Lt)&&(e===Lt&&((_t&2)===0&&(Rs|=n),Pt===4&&Zl(e,ht,Pn,!1)),Ha(e))}function Jh(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ya(e,t),s=a?Uy(e,t):Wc(e,t,!0),i=a;do{if(s===0){ji&&!a&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!By(n)){s=Wc(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;s=Ar;var _=x.current.memoizedState.isDehydrated;if(_&&(_i(x,p).flags|=256),p=Wc(x,p,!1),p!==2){if(Gc&&!_){x.errorRecoveryDisabledLanes|=i,Rs|=i,s=4;break e}i=Hn,Hn=s,i!==null&&(Hn===null?Hn=i:Hn.push.apply(Hn,i))}s=p}if(i=!1,s!==2)continue}}if(s===1){_i(e,0),Zl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Zl(a,t,Pn,!Xl);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Lu+300-lt(),10<s)){if(Zl(a,t,Pn,!Xl),rs(a,0,!0)!==0)break e;pl=t,a.timeoutHandle=Cm(Ph.bind(null,a,n,Hn,Qu,Fc,t,Pn,Rs,wi,Xl,i,"Throttled",-0,0),s);break e}Ph(a,n,Hn,Qu,Fc,t,Pn,Rs,wi,Xl,i,null,-0,0)}}break}while(!0);Ha(e)}function Ph(e,t,n,a,s,i,p,x,_,F,le,re,P,ee){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Yh(t,i,re);var Ue=(i&62914560)===i?Lu-lt():(i&4194048)===i?Fh-lt():0;if(Ue=v0(re,Ue),Ue!==null){pl=i,e.cancelPendingCommit=Ue(sm.bind(null,e,t,i,n,a,s,p,x,_,le,re,null,P,ee)),Zl(e,i,p,!F);return}}sm(e,t,i,n,a,s,p,x,_)}function By(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,a){t&=~Vc,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-Oe(s),p=1<<i;a[i]=-1,s&=~p}n!==0&&us(e,n,t)}function Yu(){return(_t&6)===0?(Dr(0),!1):!0}function Pc(){if(ot!==null){if(Dt===0)var e=ot.return;else e=ot,ll=Es=null,hc(e),pi=null,dr=0,e=ot;for(;e!==null;)Ah(e.alternate,e),e=e.return;ot=null}}function _i(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,n0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pl=0,Pc(),Lt=e,ot=n=nl(e.current,null),ht=t,Dt=0,Jn=null,Xl=!1,ji=Ya(e,t),Gc=!1,wi=Pn=Vc=Rs=Gl=Pt=0,Hn=Ar=null,Fc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Oe(a),i=1<<s;t|=e[s],a&=~i}return ml=t,et(),n}function Wh(e,t){nt=null,X.H=vr,t===mi||t===bu?(t=md(),Dt=3):t===tc?(t=md(),Dt=4):Dt=t===Oc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ot===null&&(Pt=1,Mu(e,ra(t,e.current)))}function Ih(){var e=Zn.current;return e===null?!0:(ht&4194048)===ht?fa===null:(ht&62914560)===ht||(ht&536870912)!==0?e===fa:!1}function em(){var e=X.H;return X.H=vr,e===null?vr:e}function tm(){var e=X.A;return X.A=ky,e}function Xu(){Pt=4,Xl||(ht&4194048)!==ht&&Zn.current!==null||(ji=!0),(Gl&134217727)===0&&(Rs&134217727)===0||Lt===null||Zl(Lt,ht,Pn,!1)}function Wc(e,t,n){var a=_t;_t|=2;var s=em(),i=tm();(Lt!==e||ht!==t)&&(Qu=null,_i(e,t)),t=!1;var p=Pt;e:do try{if(Dt!==0&&ot!==null){var x=ot,_=Jn;switch(Dt){case 8:Pc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var F=Dt;if(Dt=0,Jn=null,Ei(e,x,_,F),n&&ji){p=0;break e}break;default:F=Dt,Dt=0,Jn=null,Ei(e,x,_,F)}}qy(),p=Pt;break}catch(le){Wh(e,le)}while(!0);return t&&e.shellSuspendCounter++,ll=Es=null,_t=a,X.H=s,X.A=i,ot===null&&(Lt=null,ht=0,et()),p}function qy(){for(;ot!==null;)nm(ot)}function Uy(e,t){var n=_t;_t|=2;var a=em(),s=tm();Lt!==e||ht!==t?(Qu=null,Ku=lt()+500,_i(e,t)):ji=Ya(e,t);e:do try{if(Dt!==0&&ot!==null){t=ot;var i=Jn;t:switch(Dt){case 1:Dt=0,Jn=null,Ei(e,t,i,1);break;case 2:case 9:if(dd(i)){Dt=0,Jn=null,am(t);break}t=function(){Dt!==2&&Dt!==9||Lt!==e||(Dt=7),Ha(e)},i.then(t,t);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:dd(i)?(Dt=0,Jn=null,am(t)):(Dt=0,Jn=null,Ei(e,t,i,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var x=ot;if(p?Qm(p):x.stateNode.complete){Dt=0,Jn=null;var _=x.sibling;if(_!==null)ot=_;else{var F=x.return;F!==null?(ot=F,Gu(F)):ot=null}break t}}Dt=0,Jn=null,Ei(e,t,i,5);break;case 6:Dt=0,Jn=null,Ei(e,t,i,6);break;case 8:Pc(),Pt=6;break e;default:throw Error(d(462))}}Hy();break}catch(le){Wh(e,le)}while(!0);return ll=Es=null,X.H=a,X.A=s,_t=n,ot!==null?0:(Lt=null,ht=0,et(),Pt)}function Hy(){for(;ot!==null&&!xe();)nm(ot)}function nm(e){var t=Eh(e.alternate,e,ml);e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function am(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vh(n,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=vh(n,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:hc(t);default:Ah(n,t),t=ot=td(t,ml),t=Eh(n,t,ml)}e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function Ei(e,t,n,a){ll=Es=null,hc(t),pi=null,dr=0;var s=t.return;try{if(Cy(e,s,t,n,ht)){Pt=1,Mu(e,ra(n,e.current)),ot=null;return}}catch(i){if(s!==null)throw ot=s,i;Pt=1,Mu(e,ra(n,e.current)),ot=null;return}t.flags&32768?(yt||a===1?e=!0:ji||(ht&536870912)!==0?e=!1:(Xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),lm(t,e)):Gu(t)}function Gu(e){var t=e;do{if((t.flags&32768)!==0){lm(t,Xl);return}e=t.return;var n=Dy(t.alternate,t,ml);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Pt===0&&(Pt=5)}function lm(e,t){do{var n=Ty(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);Pt=6,ot=null}function sm(e,t,n,a,s,i,p,x,_){e.cancelPendingCommit=null;do Vu();while(hn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Ye,Li(e,n,i,p,x,_),e===Lt&&(ot=Lt=null,ht=0),Ni=t,Fl=e,pl=n,Zc=i,$c=s,Zh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(sn,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=X.T,X.T=null,s=ue.p,ue.p=2,p=_t,_t|=4;try{My(e,t,n)}finally{_t=p,ue.p=s,X.T=a}}hn=1,im(),rm(),um()}}function im(){if(hn===1){hn=0;var e=Fl,t=Ni,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{Lh(t,e);var i=ff,p=y(e.containerInfo),x=i.focusedElem,_=i.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var F=_.start,le=_.end;if(le===void 0&&(le=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(le,x.value.length);else{var re=x.ownerDocument||document,P=re&&re.defaultView||window;if(P.getSelection){var ee=P.getSelection(),Ue=x.textContent.length,Je=Math.min(_.start,Ue),Bt=_.end===void 0?Je:Math.min(_.end,Ue);!ee.extend&&Je>Bt&&(p=Bt,Bt=Je,Je=p);var L=f(x,Je),B=f(x,Bt);if(L&&B&&(ee.rangeCount!==1||ee.anchorNode!==L.node||ee.anchorOffset!==L.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var V=re.createRange();V.setStart(L.node,L.offset),ee.removeAllRanges(),Je>Bt?(ee.addRange(V),ee.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),ee.addRange(V))}}}}for(re=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var ie=re[x];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}lo=!!cf,ff=cf=null}finally{_t=s,ue.p=a,X.T=n}}e.current=t,hn=2}}function rm(){if(hn===2){hn=0;var e=Fl,t=Ni,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var a=ue.p;ue.p=2;var s=_t;_t|=4;try{Rh(e,t.alternate,t)}finally{_t=s,ue.p=a,X.T=n}}hn=3}}function um(){if(hn===4||hn===3){hn=0,Fe();var e=Fl,t=Ni,n=pl,a=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,Ni=Fl=null,om(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Vl=null),Sl(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=X.T,s=ue.p,ue.p=2,X.T=null;try{for(var i=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];i(x.value,{componentStack:x.stack})}}finally{X.T=t,ue.p=s}}(pl&3)!==0&&Vu(),Ha(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===Jc?Or++:(Or=0,Jc=e):Or=0,Dr(0)}}function om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Vu(){return im(),rm(),um(),cm()}function cm(){if(hn!==5)return!1;var e=Fl,t=Zc;Zc=0;var n=Sl(pl),a=X.T,s=ue.p;try{ue.p=32>n?32:n,X.T=null,n=$c,$c=null;var i=Fl,p=pl;if(hn=0,Ni=Fl=null,pl=0,(_t&6)!==0)throw Error(d(331));var x=_t;if(_t|=4,Gh(i.current),Qh(i,i.current,p,n),_t=x,Dr(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(qt,i)}catch{}return!0}finally{ue.p=s,X.T=a,om(e,t)}}function fm(e,t,n){t=ra(n,t),t=Ac(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(na(e,2),Ha(e))}function Tt(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vl===null||!Vl.has(a))){e=ra(n,e),n=dh(2),a=Ll(t,n,2),a!==null&&(hh(n,a,t,e),na(a,2),Ha(a));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ry;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Gc=!0,s.add(n),e=Ly.bind(null,e,t,n),t.then(e,e))}function Ly(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(ht&n)===n&&(Pt===4||Pt===3&&(ht&62914560)===ht&&300>lt()-Lu?(_t&2)===0&&_i(e,0):Vc|=n,wi===ht&&(wi=0)),Ha(e)}function dm(e,t){t===0&&(t=Wr()),e=At(e,t),e!==null&&(na(e,t),Ha(e))}function Ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dm(e,n)}function Qy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),dm(e,n)}function Yy(e,t){return ne(e,t)}var Fu=null,Ci=null,ef=!1,Zu=!1,tf=!1,$l=0;function Ha(e){e!==Ci&&e.next===null&&(Ci===null?Fu=Ci=e:Ci=Ci.next=e),Zu=!0,ef||(ef=!0,Gy())}function Dr(e,t){if(!tf&&Zu){tf=!0;do for(var n=!1,a=Fu;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var p=a.suspendedLanes,x=a.pingedLanes;i=(1<<31-Oe(42|e)+1)-1,i&=s&~(p&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,ym(a,i))}else i=ht,i=rs(a,a===Lt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ya(a,i)||(n=!0,ym(a,i));a=a.next}while(n);tf=!1}}function Xy(){hm()}function hm(){Zu=ef=!1;var e=0;$l!==0&&t0()&&(e=$l);for(var t=lt(),n=null,a=Fu;a!==null;){var s=a.next,i=mm(a,t);i===0?(a.next=null,n===null?Fu=s:n.next=s,s===null&&(Ci=n)):(n=a,(e!==0||(i&3)!==0)&&(Zu=!0)),a=s}hn!==0&&hn!==5||Dr(e),$l!==0&&($l=0)}function mm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var p=31-Oe(i),x=1<<p,_=s[p];_===-1?((x&n)===0||(x&a)!==0)&&(s[p]=zo(x,t)):_<=t&&(e.expiredLanes|=x),i&=~x}if(t=Lt,n=ht,n=rs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ke(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ya(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ke(a),Sl(n)){case 2:case 8:n=mn;break;case 32:n=sn;break;case 268435456:n=ze;break;default:n=sn}return a=pm.bind(null,e),n=ne(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ke(a),e.callbackPriority=2,e.callbackNode=null,2}function pm(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var a=ht;return a=rs(e,e===Lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Jh(e,a,t),mm(e,lt()),e.callbackNode!=null&&e.callbackNode===n?pm.bind(null,e):null)}function ym(e,t){if(Vu())return null;Jh(e,t,!0)}function Gy(){a0(function(){(_t&6)!==0?ne(Et,Xy):hm()})}function nf(){if($l===0){var e=di;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),$l=e}return $l}function gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Vy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=gm((s[It]||null).action),p=a.submitter;p&&(t=(t=p[It]||null)?gm(t.formAction):p.getAttribute("formAction"),t!==null&&(i=t,p=null));var x=new Vs("action","action",null,a,s);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($l!==0){var _=p?bm(s,p):new FormData(s);jc(n,{pending:!0,data:_,method:s.method,action:i},null,_)}}else typeof i=="function"&&(x.preventDefault(),_=p?bm(s,p):new FormData(s),jc(n,{pending:!0,data:_,method:s.method,action:i},i,_))},currentTarget:s}]})}}for(var af=0;af<Te.length;af++){var lf=Te[af],Fy=lf.toLowerCase(),Zy=lf[0].toUpperCase()+lf.slice(1);he(Fy,"on"+Zy)}he(J,"onAnimationEnd"),he(Q,"onAnimationIteration"),he(ae,"onAnimationStart"),he("dblclick","onDoubleClick"),he("focusin","onFocus"),he("focusout","onBlur"),he(fe,"onTransitionRun"),he(Ee,"onTransitionStart"),he(Ce,"onTransitionCancel"),he(de,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function xm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,F=x.currentTarget;if(x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,F=x.currentTarget,x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}}}}function ct(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var a=e+"__bubble";n.has(a)||(vm(t,e,2,!1),n.add(a))}function sf(e,t,n){var a=0;t&&(a|=4),vm(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[$u]){e[$u]=!0,Xa.forEach(function(n){n!=="selectionchange"&&($y.has(n)||sf(n,!1,e),sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,sf("selectionchange",!1,t))}}function vm(e,t,n,a){switch($m(t)){case 2:var s=w0;break;case 8:s=N0;break;default:s=jf}n=s.bind(null,t,n,e),s=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function uf(e,t,n,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===s)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===s)return;p=p.return}for(;x!==null;){if(p=Oa(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=i=p;continue e}x=x.parentNode}}a=a.return}Nl(function(){var F=i,le=Xs(n),re=[];e:{var P=Re.get(e);if(P!==void 0){var ee=Vs,Ue=e;switch(e){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":ee=Is;break;case"focusin":Ue="focus",ee=Al;break;case"focusout":Ue="blur",ee=Al;break;case"beforeblur":case"afterblur":ee=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=tr;break;case J:case Q:case ae:ee=au;break;case de:ee=nr;break;case"scroll":case"scrollend":ee=Fs;break;case"wheel":ee=ti;break;case"copy":case"cut":case"paste":ee=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=er;break;case"toggle":case"beforetoggle":ee=iu}var Je=(t&4)!==0,Bt=!Je&&(e==="scroll"||e==="scrollend"),L=Je?P!==null?P+"Capture":null:P;Je=[];for(var B=F,V;B!==null;){var ie=B;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||L===null||(ie=$a(B,L),ie!=null&&Je.push(Mr(B,ie,V))),Bt)break;B=B.return}0<Je.length&&(P=new ee(P,Ue,null,n,le),re.push({event:P,listeners:Je}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",P&&n!==la&&(Ue=n.relatedTarget||n.fromElement)&&(Oa(Ue)||Ue[Tn]))break e;if((ee||P)&&(P=le.window===le?le:(P=le.ownerDocument)?P.defaultView||P.parentWindow:window,ee?(Ue=n.relatedTarget||n.toElement,ee=F,Ue=Ue?Oa(Ue):null,Ue!==null&&(Bt=v(Ue),Je=Ue.tag,Ue!==Bt||Je!==5&&Je!==27&&Je!==6)&&(Ue=null)):(ee=null,Ue=F),ee!==Ue)){if(Je=$s,ie="onMouseLeave",L="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Je=er,ie="onPointerLeave",L="onPointerEnter",B="pointer"),Bt=ee==null?P:Gn(ee),V=Ue==null?P:Gn(Ue),P=new Je(ie,B+"leave",ee,n,le),P.target=Bt,P.relatedTarget=V,ie=null,Oa(le)===F&&(Je=new Je(L,B+"enter",Ue,n,le),Je.target=V,Je.relatedTarget=Bt,ie=Je),Bt=ie,ee&&Ue)t:{for(Je=Jy,L=ee,B=Ue,V=0,ie=L;ie;ie=Je(ie))V++;ie=0;for(var Xe=B;Xe;Xe=Je(Xe))ie++;for(;0<V-ie;)L=Je(L),V--;for(;0<ie-V;)B=Je(B),ie--;for(;V--;){if(L===B||B!==null&&L===B.alternate){Je=L;break t}L=Je(L),B=Je(B)}Je=null}else Je=null;ee!==null&&Sm(re,P,ee,Je,!1),Ue!==null&&Bt!==null&&Sm(re,Bt,Ue,Je,!0)}}e:{if(P=F?Gn(F):window,ee=P.nodeName&&P.nodeName.toLowerCase(),ee==="select"||ee==="input"&&P.type==="file")var St=ws;else if(li(P))if(ia)St=Ml;else{St=tl;var Le=du}else ee=P.nodeName,!ee||ee.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?F&&Fi(F.elementType)&&(St=ws):St=rr;if(St&&(St=St(e,F))){ir(re,St,n,le);break e}Le&&Le(e,P,F),e==="focusout"&&F&&P.type==="number"&&F.memoizedProps.value!=null&&ps(P,"number",P.value)}switch(Le=F?Gn(F):window,e){case"focusin":(li(Le)||Le.contentEditable==="true")&&(N=Le,D=F,K=null);break;case"focusout":K=D=N=null;break;case"mousedown":T=!0;break;case"contextmenu":case"mouseup":case"dragend":T=!1,O(re,n,le);break;case"selectionchange":if(j)break;case"keydown":case"keyup":O(re,n,le)}var st;if(Ss)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ia?sr(e,n)&&(mt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(mt="onCompositionStart");mt&&(ni&&n.locale!=="ko"&&(Ia||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ia&&(st=El()):(sa=le,Gs="value"in sa?sa.value:sa.textContent,Ia=!0)),Le=Ju(F,mt),0<Le.length&&(mt=new Ws(mt,e,null,n,le),re.push({event:mt,listeners:Le}),st?mt.data=st:(st=uu(n),st!==null&&(mt.data=st)))),(st=Ho?ou(e,n):Lo(e,n))&&(mt=Ju(F,"onBeforeInput"),0<mt.length&&(Le=new Ws("onBeforeInput","beforeinput",null,n,le),re.push({event:Le,listeners:mt}),Le.data=st)),Vy(re,e,F,n,le)}xm(re,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ju(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=$a(e,n),s!=null&&a.unshift(Mr(e,s,i)),s=$a(e,t),s!=null&&a.push(Mr(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,t,n,a,s){for(var i=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,F=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||F===null||(_=F,s?(F=$a(n,i),F!=null&&p.unshift(Mr(n,F,_))):s||(F=$a(n,i),F!=null&&p.push(Mr(n,F,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Py=/\r\n?/g,Wy=/\u0000|\uFFFD/g;function jm(e){return(typeof e=="string"?e:""+e).replace(Py,`
`).replace(Wy,"")}function wm(e,t){return t=jm(t),jm(e)===t}function Rt(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Va(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Va(e,""+a);break;case"className":hs(e,"class",a);break;case"tabIndex":hs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,n,a);break;case"style":Vi(e,a,i);break;case"data":if(t!=="object"){hs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Rt(e,t,"name",s.name,s,null),Rt(e,t,"formEncType",s.formEncType,s,null),Rt(e,t,"formMethod",s.formMethod,s,null),Rt(e,t,"formTarget",s.formTarget,s,null)):(Rt(e,t,"encType",s.encType,s,null),Rt(e,t,"method",s.method,s,null),Rt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),it(e,"popover",a);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Bo.get(n)||n,it(e,n,a))}}function of(e,t,n,a,s,i){switch(n){case"style":Vi(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Va(e,a):(typeof a=="number"||typeof a=="bigint")&&Va(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[It]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):it(e,n,a)}}}function wn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,i,p,n,null)}}s&&Rt(e,t,"srcSet",n.srcSet,n,null),a&&Rt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var x=i=p=s=null,_=null,F=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":s=le;break;case"type":p=le;break;case"checked":_=le;break;case"defaultChecked":F=le;break;case"value":i=le;break;case"defaultValue":x=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,t));break;default:Rt(e,t,a,le,n,null)}}Ys(e,i,x,_,F,p,s,!1);return;case"select":ct("invalid",e),a=p=i=null;for(s in n)if(n.hasOwnProperty(s)&&(x=n[s],x!=null))switch(s){case"value":i=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Rt(e,t,s,x,n,null)}t=i,n=p,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":ct("invalid",e),i=s=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":s=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Rt(e,t,p,x,n,null)}ys(e,a,s,i);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Rt(e,t,_,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ct(Tr[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,F,a,n,null)}return;default:if(Fi(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&of(e,t,le,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Rt(e,t,x,a,n,null))}function Iy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,p=null,x=null,_=null,F=null,le=null;for(ee in n){var re=n[ee];if(n.hasOwnProperty(ee)&&re!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":_=re;default:a.hasOwnProperty(ee)||Rt(e,t,ee,null,a,re)}}for(var P in a){var ee=a[P];if(re=n[P],a.hasOwnProperty(P)&&(ee!=null||re!=null))switch(P){case"type":i=ee;break;case"name":s=ee;break;case"checked":F=ee;break;case"defaultChecked":le=ee;break;case"value":p=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(d(137,t));break;default:ee!==re&&Rt(e,t,P,ee,a,re)}}Ta(e,p,x,_,F,le,i,s);return;case"select":ee=p=x=P=null;for(i in n)if(_=n[i],n.hasOwnProperty(i)&&_!=null)switch(i){case"value":break;case"multiple":ee=_;default:a.hasOwnProperty(i)||Rt(e,t,i,null,a,_)}for(s in a)if(i=a[s],_=n[s],a.hasOwnProperty(s)&&(i!=null||_!=null))switch(s){case"value":P=i;break;case"defaultValue":x=i;break;case"multiple":p=i;default:i!==_&&Rt(e,t,s,i,a,_)}t=x,n=p,a=ee,P!=null?va(e,!!n,P,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":ee=P=null;for(x in n)if(s=n[x],n.hasOwnProperty(x)&&s!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Rt(e,t,x,null,a,s)}for(p in a)if(s=a[p],i=n[p],a.hasOwnProperty(p)&&(s!=null||i!=null))switch(p){case"value":P=s;break;case"defaultValue":ee=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&Rt(e,t,p,s,a,i)}Gi(e,P,ee);return;case"option":for(var Ue in n)P=n[Ue],n.hasOwnProperty(Ue)&&P!=null&&!a.hasOwnProperty(Ue)&&(Ue==="selected"?e.selected=!1:Rt(e,t,Ue,null,a,P));for(_ in a)P=a[_],ee=n[_],a.hasOwnProperty(_)&&P!==ee&&(P!=null||ee!=null)&&(_==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Rt(e,t,_,P,a,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in n)P=n[Je],n.hasOwnProperty(Je)&&P!=null&&!a.hasOwnProperty(Je)&&Rt(e,t,Je,null,a,P);for(F in a)if(P=a[F],ee=n[F],a.hasOwnProperty(F)&&P!==ee&&(P!=null||ee!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(d(137,t));break;default:Rt(e,t,F,P,a,ee)}return;default:if(Fi(t)){for(var Bt in n)P=n[Bt],n.hasOwnProperty(Bt)&&P!==void 0&&!a.hasOwnProperty(Bt)&&of(e,t,Bt,void 0,a,P);for(le in a)P=a[le],ee=n[le],!a.hasOwnProperty(le)||P===ee||P===void 0&&ee===void 0||of(e,t,le,P,a,ee);return}}for(var L in n)P=n[L],n.hasOwnProperty(L)&&P!=null&&!a.hasOwnProperty(L)&&Rt(e,t,L,null,a,P);for(re in a)P=a[re],ee=n[re],!a.hasOwnProperty(re)||P===ee||P==null&&ee==null||Rt(e,t,re,P,a,ee)}function Nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,p=s.initiatorType,x=s.duration;if(i&&x&&Nm(p)){for(p=0,x=s.responseEnd,a+=1;a<n.length;a++){var _=n[a],F=_.startTime;if(F>x)break;var le=_.transferSize,re=_.initiatorType;le&&Nm(re)&&(_=_.responseEnd,p+=le*(_<x?1:(x-F)/(_-F)))}if(--a,t+=8*(i+p)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cf=null,ff=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function _m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hf=null;function t0(){var e=window.event;return e&&e.type==="popstate"?e===hf?!1:(hf=e,!0):(hf=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(l0)}:Cm;function l0(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function Om(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Ti(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")zr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zr(n);for(var i=n.firstChild;i;){var p=i.nextSibling,x=i.nodeName;i[Xn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=p}}else n==="body"&&zr(e.ownerDocument.body);n=s}while(n);Ti(t)}function Dm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mf(n),Ks(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function s0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function i0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=da(e.nextSibling),e===null))return null;return e}function Tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gf=null;function Mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return da(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function km(e,t,n){switch(t=Pu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ks(e)}var ha=new Map,Rm=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=ue.d;ue.d={f:u0,r:o0,D:c0,C:f0,L:d0,m:h0,X:p0,S:m0,M:y0};function u0(){var e=yl.f(),t=Yu();return e||t}function o0(e){var t=Mt(e);t!==null&&t.tag===5&&t.type==="form"?Wd(t):yl.r(e)}var Ai=typeof document>"u"?null:document;function Bm(e,t,n){var a=Ai;if(a&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Rm.has(s)||(Rm.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function c0(e){yl.D(e),Bm("dns-prefetch",e,null)}function f0(e,t){yl.C(e,t),Bm("preconnect",e,t)}function d0(e,t,n){yl.L(e,t,n);var a=Ai;if(a&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var i=s;switch(t){case"style":i=Oi(e);break;case"script":i=Di(e)}ha.has(i)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ha.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(kr(i))||t==="script"&&a.querySelector(Rr(i))||(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function h0(e,t){yl.m(e,t);var n=Ai;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Di(e)}if(!ha.has(i)&&(e=A({rel:"modulepreload",href:e},t),ha.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}a=n.createElement("link"),wn(a,"link",e),en(a),n.head.appendChild(a)}}}function m0(e,t,n){yl.S(e,t,n);var a=Ai;if(a&&e){var s=Nn(a).hoistableStyles,i=Oi(e);t=t||"default";var p=s.get(i);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(kr(i)))x.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ha.get(i))&&bf(e,n);var _=p=a.createElement("link");en(_),wn(_,"link",e),_._p=new Promise(function(F,le){_.onload=F,_.onerror=le}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Iu(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},s.set(i,p)}}}function p0(e,t){yl.X(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0},t),(t=ha.get(s))&&xf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function y0(e,t){yl.M(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0,type:"module"},t),(t=ha.get(s))&&xf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function qm(e,t,n,a){var s=(s=at.current)?Wu(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Oi(n.href),n=Nn(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Oi(n.href);var i=Nn(s).hoistableStyles,p=i.get(e);if(p||(s=s.ownerDocument||s,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,p),(i=s.querySelector(kr(e)))&&!i._p&&(p.instance=i,p.state.loading=5),ha.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ha.set(e,n),i||g0(s,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Di(n),n=Nn(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Oi(e){return'href="'+pn(e)+'"'}function kr(e){return'link[rel="stylesheet"]['+e+"]"}function Um(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function g0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),wn(t,"link",n),en(t),e.head.appendChild(t))}function Di(e){return'[src="'+pn(e)+'"]'}function Rr(e){return"script[async]"+e}function Hm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,en(a),a;var s=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),en(a),wn(a,"style",s),Iu(a,n.precedence,e),t.instance=a;case"stylesheet":s=Oi(n.href);var i=e.querySelector(kr(s));if(i)return t.state.loading|=4,t.instance=i,en(i),i;a=Um(n),(s=ha.get(s))&&bf(a,s),i=(e.ownerDocument||e).createElement("link"),en(i);var p=i;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=Di(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,en(s),s):(a=n,(s=ha.get(i))&&(a=A({},n),xf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),en(s),wn(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Iu(a,n.precedence,e));return t.instance}function Iu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)i=x;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Lm(e,t,n){if(eo===null){var a=new Map,s=eo=new Map;s.set(n,a)}else s=eo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Xn]||i[Kt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var p=i.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(i):a.set(p,[i])}}return a}function Km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function b0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function x0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Oi(a.href),i=t.querySelector(kr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,en(i);return}i=t.ownerDocument||t,a=Um(a),(s=ha.get(s))&&bf(a,s),i=i.createElement("link"),en(i);var p=i;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=to.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vf=0;function v0(e,t){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&vf===0&&(vf=62500*e0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>vf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(S0,e),no=null,to.call(e))}function S0(e,t){if(!(t.state.loading&4)){var n=no.get(e);if(n)var a=n.get(null);else{n=new Map,no.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var p=s[i];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}s=t.instance,p=s.getAttribute("data-precedence"),i=n.get(p)||a,i===a&&n.set(null,s),n.set(p,s),this.count++,a=to.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:we,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function j0(e,t,n,a,s,i,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ym(e,t,n,a,s,i,p,x,_,F,le,re){return e=new j0(e,t,n,p,_,F,le,re,x),t=1,i===!0&&(t|=24),i=Fn(3,null,null,t),e.current=i,i.stateNode=e,t=Wo(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},nc(i),e}function Xm(e){return e?(e=ri,e):ri}function Gm(e,t,n,a,s,i){s=Xm(s),a.context===null?a.context=s:a.pendingContext=s,a=Hl(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Ll(e,a,t),n!==null&&(Ln(n,e,t),mr(n,e,t))}function Vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sf(e,t){Vm(e,t),(e=e.alternate)&&Vm(e,t)}function Fm(e){if(e.tag===13||e.tag===31){var t=At(e,67108864);t!==null&&Ln(t,e,67108864),Sf(e,67108864)}}function Zm(e){if(e.tag===13||e.tag===31){var t=Wn();t=Ki(t);var n=At(e,t);n!==null&&Ln(n,e,t),Sf(e,t)}}var lo=!0;function w0(e,t,n,a){var s=X.T;X.T=null;var i=ue.p;try{ue.p=2,jf(e,t,n,a)}finally{ue.p=i,X.T=s}}function N0(e,t,n,a){var s=X.T;X.T=null;var i=ue.p;try{ue.p=8,jf(e,t,n,a)}finally{ue.p=i,X.T=s}}function jf(e,t,n,a){if(lo){var s=wf(a);if(s===null)uf(e,t,a,so,n),Jm(e,a);else if(E0(s,e,t,n,a))a.stopPropagation();else if(Jm(e,a),t&4&&-1<_0.indexOf(e)){for(;s!==null;){var i=Mt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var p=ba(i.pendingLanes);if(p!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Oe(p);x.entanglements[1]|=_,p&=~_}Ha(i),(_t&6)===0&&(Ku=lt()+500,Dr(0))}}break;case 31:case 13:x=At(i,2),x!==null&&Ln(x,i,2),Yu(),Sf(i,2)}if(i=wf(a),i===null&&uf(e,t,a,so,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else uf(e,t,a,null,n)}}function wf(e){return e=Xs(e),Nf(e)}var so=null;function Nf(e){if(so=null,e=Oa(e),e!==null){var t=v(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return so=e,null}function $m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Et:return 2;case mn:return 8;case sn:case Dn:return 32;case ze:return 268435456;default:return 32}default:return 32}}var _f=!1,Pl=null,Wl=null,Il=null,qr=new Map,Ur=new Map,es=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Hr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mt(t),t!==null&&Fm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E0(e,t,n,a,s){switch(t){case"focusin":return Pl=Hr(Pl,e,t,n,a,s),!0;case"dragenter":return Wl=Hr(Wl,e,t,n,a,s),!0;case"mouseover":return Il=Hr(Il,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,Hr(qr.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,Hr(Ur.get(i)||null,e,t,n,a,s)),!0}return!1}function Pm(e){var t=Oa(e.target);if(t!==null){var n=v(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,cs(e.priority,function(){Zm(n)});return}}else if(t===31){if(t=w(n),t!==null){e.blockedOn=t,cs(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);la=a,n.target.dispatchEvent(a),la=null}else return t=Mt(n),t!==null&&Fm(t),e.blockedOn=n,!1;t.shift()}return!0}function Wm(e,t,n){io(e)&&n.delete(t)}function C0(){_f=!1,Pl!==null&&io(Pl)&&(Pl=null),Wl!==null&&io(Wl)&&(Wl=null),Il!==null&&io(Il)&&(Il=null),qr.forEach(Wm),Ur.forEach(Wm)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,_f||(_f=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,C0)))}var uo=null;function Im(e){uo!==e&&(uo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Nf(a||n)===null)continue;break}var i=Mt(n);i!==null&&(e.splice(t,3),t-=3,jc(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Ti(e){function t(_){return ro(_,e)}Pl!==null&&ro(Pl,e),Wl!==null&&ro(Wl,e),Il!==null&&ro(Il,e),qr.forEach(t),Ur.forEach(t);for(var n=0;n<es.length;n++){var a=es[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<es.length&&(n=es[0],n.blockedOn===null);)Pm(n),n.blockedOn===null&&es.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],p=s[It]||null;if(typeof i=="function")p||Im(n);else if(p){var x=null;if(i&&i.hasAttribute("formAction")){if(s=i,p=i[It]||null)x=p.formAction;else if(Nf(s)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Im(n)}}}function ep(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(p){return s=p})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ef(e){this._internalRoot=e}oo.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Wn();Gm(n,a,e,t,null,null)},oo.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),Yu(),t[Tn]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=os();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&Pm(e)}};var tp=c.version;if(tp!=="19.2.4")throw Error(d(527,tp,"19.2.4"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=C(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var A0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{qt=co.inject(A0),Ct=co}catch{}}return Lr.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",s=uh,i=oh,p=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Ym(e,1,!1,null,null,n,a,null,s,i,p,ep),e[Tn]=t.current,rf(e),new Ef(t)},Lr.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,s="",i=uh,p=oh,x=ch,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Ym(e,1,!0,t,n??null,a,s,_,i,p,x,ep),t.context=Xm(null),n=t.current,a=Wn(),a=Ki(a),s=Hl(a),s.callback=null,Ll(n,s,a),n=a,t.current.lanes=n,na(t,n),Ha(t),e[Tn]=t.current,rf(e),new oo(t)},Lr.version="19.2.4",Lr}var sp;function G0(){if(sp)return Cf.exports;sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Cf.exports=X0(),Cf.exports}var V0=G0();const ip=r=>{let c;const m=new Set,d=(C,R)=>{const A=typeof C=="function"?C(c):C;if(!Object.is(A,c)){const Z=c;c=R??(typeof A!="object"||A===null)?A:Object.assign({},c,A),m.forEach(ye=>ye(c,Z))}},g=()=>c,w={setState:d,getState:g,getInitialState:()=>U,subscribe:C=>(m.add(C),()=>m.delete(C))},U=c=r(d,g,w);return w},F0=(r=>r?ip(r):ip),Z0=r=>r;function $0(r,c=Z0){const m=fo.useSyncExternalStore(r.subscribe,fo.useCallback(()=>c(r.getState()),[r,c]),fo.useCallback(()=>c(r.getInitialState()),[r,c]));return fo.useDebugValue(m),m}const rp=r=>{const c=F0(r),m=d=>$0(c,d);return Object.assign(m,c),m},J0=(r=>r?rp(r):rp);function P0(r,c){let m;try{m=r()}catch{return}return{getItem:g=>{var v;const S=U=>U===null?null:JSON.parse(U,void 0),w=(v=m.getItem(g))!=null?v:null;return w instanceof Promise?w.then(S):S(w)},setItem:(g,v)=>m.setItem(g,JSON.stringify(v,void 0)),removeItem:g=>m.removeItem(g)}}const Rf=r=>c=>{try{const m=r(c);return m instanceof Promise?m:{then(d){return Rf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Rf(d)(m)}}}},W0=(r,c)=>(m,d,g)=>{let v={storage:P0(()=>window.localStorage),partialize:W=>W,version:0,merge:(W,_e)=>({..._e,...W}),...c},S=!1,w=0;const U=new Set,C=new Set;let R=v.storage;if(!R)return r((...W)=>{console.warn(`[zustand persist middleware] Unable to update item '${v.name}', the given storage is currently unavailable.`),m(...W)},d,g);const A=()=>{const W=v.partialize({...d()});return R.setItem(v.name,{state:W,version:v.version})},Z=g.setState;g.setState=(W,_e)=>(Z(W,_e),A());const ye=r((...W)=>(m(...W),A()),d,g);g.getInitialState=()=>ye;let $;const oe=()=>{var W,_e;if(!R)return;const ge=++w;S=!1,U.forEach(se=>{var be;return se((be=d())!=null?be:ye)});const we=((_e=v.onRehydrateStorage)==null?void 0:_e.call(v,(W=d())!=null?W:ye))||void 0;return Rf(R.getItem.bind(R))(v.name).then(se=>{if(se)if(typeof se.version=="number"&&se.version!==v.version){if(v.migrate){const be=v.migrate(se.state,se.version);return be instanceof Promise?be.then(ve=>[!0,ve]):[!0,be]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,se.state];return[!1,void 0]}).then(se=>{var be;if(ge!==w)return;const[ve,Se]=se;if($=v.merge(Se,(be=d())!=null?be:ye),m($,!0),ve)return A()}).then(()=>{ge===w&&(we?.($,void 0),$=d(),S=!0,C.forEach(se=>se($)))}).catch(se=>{ge===w&&we?.(void 0,se)})};return g.persist={setOptions:W=>{v={...v,...W},W.storage&&(R=W.storage)},clearStorage:()=>{R?.removeItem(v.name)},getOptions:()=>v,rehydrate:()=>oe(),hasHydrated:()=>S,onHydrate:W=>(U.add(W),()=>{U.delete(W)}),onFinishHydration:W=>(C.add(W),()=>{C.delete(W)})},v.skipHydration||oe(),$||ye},I0=W0,xl=J0(I0(r=>({token:null,setToken:c=>r({token:c}),logout:()=>r({token:null})}),{name:"wisemark-auth",partialize:r=>({token:r.token})}));function Hp(r,c){return function(){return r.apply(c,arguments)}}const{toString:eg}=Object.prototype,{getPrototypeOf:Vf}=Object,{iterator:Co,toStringTag:Lp}=Symbol,Ao=(r=>c=>{const m=eg.call(c);return r[m]||(r[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),_a=r=>(r=r.toLowerCase(),c=>Ao(c)===r),Oo=r=>c=>typeof c===r,{isArray:Hi}=Array,Ri=Oo("undefined");function Vr(r){return r!==null&&!Ri(r)&&r.constructor!==null&&!Ri(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Kp=_a("ArrayBuffer");function tg(r){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(r):c=r&&r.buffer&&Kp(r.buffer),c}const ng=Oo("string"),Kn=Oo("function"),Qp=Oo("number"),Fr=r=>r!==null&&typeof r=="object",ag=r=>r===!0||r===!1,yo=r=>{if(Ao(r)!=="object")return!1;const c=Vf(r);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Lp in r)&&!(Co in r)},lg=r=>{if(!Fr(r)||Vr(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},sg=_a("Date"),ig=_a("File"),rg=_a("Blob"),ug=_a("FileList"),og=r=>Fr(r)&&Kn(r.pipe),cg=r=>{let c;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((c=Ao(r))==="formdata"||c==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},fg=_a("URLSearchParams"),[dg,hg,mg,pg]=["ReadableStream","Request","Response","Headers"].map(_a),yg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zr(r,c,{allOwnKeys:m=!1}={}){if(r===null||typeof r>"u")return;let d,g;if(typeof r!="object"&&(r=[r]),Hi(r))for(d=0,g=r.length;d<g;d++)c.call(null,r[d],d,r);else{if(Vr(r))return;const v=m?Object.getOwnPropertyNames(r):Object.keys(r),S=v.length;let w;for(d=0;d<S;d++)w=v[d],c.call(null,r[w],w,r)}}function Yp(r,c){if(Vr(r))return null;c=c.toLowerCase();const m=Object.keys(r);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xp=r=>!Ri(r)&&r!==Bs;function Bf(){const{caseless:r,skipUndefined:c}=Xp(this)&&this||{},m={},d=(g,v)=>{if(v==="__proto__"||v==="constructor"||v==="prototype")return;const S=r&&Yp(m,v)||v;yo(m[S])&&yo(g)?m[S]=Bf(m[S],g):yo(g)?m[S]=Bf({},g):Hi(g)?m[S]=g.slice():(!c||!Ri(g))&&(m[S]=g)};for(let g=0,v=arguments.length;g<v;g++)arguments[g]&&Zr(arguments[g],d);return m}const gg=(r,c,m,{allOwnKeys:d}={})=>(Zr(c,(g,v)=>{m&&Kn(g)?Object.defineProperty(r,v,{value:Hp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,v,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),r),bg=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),xg=(r,c,m,d)=>{r.prototype=Object.create(c.prototype,d),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:c.prototype}),m&&Object.assign(r.prototype,m)},vg=(r,c,m,d)=>{let g,v,S;const w={};if(c=c||{},r==null)return c;do{for(g=Object.getOwnPropertyNames(r),v=g.length;v-- >0;)S=g[v],(!d||d(S,r,c))&&!w[S]&&(c[S]=r[S],w[S]=!0);r=m!==!1&&Vf(r)}while(r&&(!m||m(r,c))&&r!==Object.prototype);return c},Sg=(r,c,m)=>{r=String(r),(m===void 0||m>r.length)&&(m=r.length),m-=c.length;const d=r.indexOf(c,m);return d!==-1&&d===m},jg=r=>{if(!r)return null;if(Hi(r))return r;let c=r.length;if(!Qp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=r[c];return m},wg=(r=>c=>r&&c instanceof r)(typeof Uint8Array<"u"&&Vf(Uint8Array)),Ng=(r,c)=>{const d=(r&&r[Co]).call(r);let g;for(;(g=d.next())&&!g.done;){const v=g.value;c.call(r,v[0],v[1])}},_g=(r,c)=>{let m;const d=[];for(;(m=r.exec(c))!==null;)d.push(m);return d},Eg=_a("HTMLFormElement"),Cg=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),up=(({hasOwnProperty:r})=>(c,m)=>r.call(c,m))(Object.prototype),Ag=_a("RegExp"),Gp=(r,c)=>{const m=Object.getOwnPropertyDescriptors(r),d={};Zr(m,(g,v)=>{let S;(S=c(g,v,r))!==!1&&(d[v]=S||g)}),Object.defineProperties(r,d)},Og=r=>{Gp(r,(c,m)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=r[m];if(Kn(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Dg=(r,c)=>{const m={},d=g=>{g.forEach(v=>{m[v]=!0})};return Hi(r)?d(r):d(String(r).split(c)),m},Tg=()=>{},Mg=(r,c)=>r!=null&&Number.isFinite(r=+r)?r:c;function zg(r){return!!(r&&Kn(r.append)&&r[Lp]==="FormData"&&r[Co])}const kg=r=>{const c=new Array(10),m=(d,g)=>{if(Fr(d)){if(c.indexOf(d)>=0)return;if(Vr(d))return d;if(!("toJSON"in d)){c[g]=d;const v=Hi(d)?[]:{};return Zr(d,(S,w)=>{const U=m(S,g+1);!Ri(U)&&(v[w]=U)}),c[g]=void 0,v}}return d};return m(r,0)},Rg=_a("AsyncFunction"),Bg=r=>r&&(Fr(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),Vp=((r,c)=>r?setImmediate:c?((m,d)=>(Bs.addEventListener("message",({source:g,data:v})=>{g===Bs&&v===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Bs.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Kn(Bs.postMessage)),qg=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||Vp,Ug=r=>r!=null&&Kn(r[Co]),I={isArray:Hi,isArrayBuffer:Kp,isBuffer:Vr,isFormData:cg,isArrayBufferView:tg,isString:ng,isNumber:Qp,isBoolean:ag,isObject:Fr,isPlainObject:yo,isEmptyObject:lg,isReadableStream:dg,isRequest:hg,isResponse:mg,isHeaders:pg,isUndefined:Ri,isDate:sg,isFile:ig,isBlob:rg,isRegExp:Ag,isFunction:Kn,isStream:og,isURLSearchParams:fg,isTypedArray:wg,isFileList:ug,forEach:Zr,merge:Bf,extend:gg,trim:yg,stripBOM:bg,inherits:xg,toFlatObject:vg,kindOf:Ao,kindOfTest:_a,endsWith:Sg,toArray:jg,forEachEntry:Ng,matchAll:_g,isHTMLForm:Eg,hasOwnProperty:up,hasOwnProp:up,reduceDescriptors:Gp,freezeMethods:Og,toObjectSet:Dg,toCamelCase:Cg,noop:Tg,toFiniteNumber:Mg,findKey:Yp,global:Bs,isContextDefined:Xp,isSpecCompliantForm:zg,toJSONObject:kg,isAsyncFn:Rg,isThenable:Bg,setImmediate:Vp,asap:qg,isIterable:Ug};let Pe=class Fp extends Error{static from(c,m,d,g,v,S){const w=new Fp(c.message,m||c.code,d,g,v);return w.cause=c,w.name=c.name,S&&Object.assign(w,S),w}constructor(c,m,d,g,v){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),v&&(this.response=v,this.status=v.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};Pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Pe.ERR_BAD_OPTION="ERR_BAD_OPTION";Pe.ECONNABORTED="ECONNABORTED";Pe.ETIMEDOUT="ETIMEDOUT";Pe.ERR_NETWORK="ERR_NETWORK";Pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Pe.ERR_DEPRECATED="ERR_DEPRECATED";Pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Pe.ERR_CANCELED="ERR_CANCELED";Pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Pe.ERR_INVALID_URL="ERR_INVALID_URL";const Hg=null;function qf(r){return I.isPlainObject(r)||I.isArray(r)}function Zp(r){return I.endsWith(r,"[]")?r.slice(0,-2):r}function op(r,c,m){return r?r.concat(c).map(function(g,v){return g=Zp(g),!m&&v?"["+g+"]":g}).join(m?".":""):c}function Lg(r){return I.isArray(r)&&!r.some(qf)}const Kg=I.toFlatObject(I,{},null,function(c){return/^is[A-Z]/.test(c)});function Do(r,c,m){if(!I.isObject(r))throw new TypeError("target must be an object");c=c||new FormData,m=I.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(oe,W){return!I.isUndefined(W[oe])});const d=m.metaTokens,g=m.visitor||R,v=m.dots,S=m.indexes,U=(m.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(c);if(!I.isFunction(g))throw new TypeError("visitor must be a function");function C($){if($===null)return"";if(I.isDate($))return $.toISOString();if(I.isBoolean($))return $.toString();if(!U&&I.isBlob($))throw new Pe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer($)||I.isTypedArray($)?U&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function R($,oe,W){let _e=$;if($&&!W&&typeof $=="object"){if(I.endsWith(oe,"{}"))oe=d?oe:oe.slice(0,-2),$=JSON.stringify($);else if(I.isArray($)&&Lg($)||(I.isFileList($)||I.endsWith(oe,"[]"))&&(_e=I.toArray($)))return oe=Zp(oe),_e.forEach(function(we,se){!(I.isUndefined(we)||we===null)&&c.append(S===!0?op([oe],se,v):S===null?oe:oe+"[]",C(we))}),!1}return qf($)?!0:(c.append(op(W,oe,v),C($)),!1)}const A=[],Z=Object.assign(Kg,{defaultVisitor:R,convertValue:C,isVisitable:qf});function ye($,oe){if(!I.isUndefined($)){if(A.indexOf($)!==-1)throw Error("Circular reference detected in "+oe.join("."));A.push($),I.forEach($,function(_e,ge){(!(I.isUndefined(_e)||_e===null)&&g.call(c,_e,I.isString(ge)?ge.trim():ge,oe,Z))===!0&&ye(_e,oe?oe.concat(ge):[ge])}),A.pop()}}if(!I.isObject(r))throw new TypeError("data must be an object");return ye(r),c}function cp(r){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Ff(r,c){this._pairs=[],r&&Do(r,this,c)}const $p=Ff.prototype;$p.append=function(c,m){this._pairs.push([c,m])};$p.toString=function(c){const m=c?function(d){return c.call(this,d,cp)}:cp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Qg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jp(r,c,m){if(!c)return r;const d=m&&m.encode||Qg,g=I.isFunction(m)?{serialize:m}:m,v=g&&g.serialize;let S;if(v?S=v(c,g):S=I.isURLSearchParams(c)?c.toString():new Ff(c,g).toString(d),S){const w=r.indexOf("#");w!==-1&&(r=r.slice(0,w)),r+=(r.indexOf("?")===-1?"?":"&")+S}return r}class fp{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){I.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Zf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Yg=typeof URLSearchParams<"u"?URLSearchParams:Ff,Xg=typeof FormData<"u"?FormData:null,Gg=typeof Blob<"u"?Blob:null,Vg={isBrowser:!0,classes:{URLSearchParams:Yg,FormData:Xg,Blob:Gg},protocols:["http","https","file","blob","url","data"]},$f=typeof window<"u"&&typeof document<"u",Uf=typeof navigator=="object"&&navigator||void 0,Fg=$f&&(!Uf||["ReactNative","NativeScript","NS"].indexOf(Uf.product)<0),Zg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$g=$f&&window.location.href||"http://localhost",Jg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$f,hasStandardBrowserEnv:Fg,hasStandardBrowserWebWorkerEnv:Zg,navigator:Uf,origin:$g},Symbol.toStringTag,{value:"Module"})),On={...Jg,...Vg};function Pg(r,c){return Do(r,new On.classes.URLSearchParams,{visitor:function(m,d,g,v){return On.isNode&&I.isBuffer(m)?(this.append(d,m.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)},...c})}function Wg(r){return I.matchAll(/\w+|\[(\w*)]/g,r).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Ig(r){const c={},m=Object.keys(r);let d;const g=m.length;let v;for(d=0;d<g;d++)v=m[d],c[v]=r[v];return c}function Pp(r){function c(m,d,g,v){let S=m[v++];if(S==="__proto__")return!0;const w=Number.isFinite(+S),U=v>=m.length;return S=!S&&I.isArray(g)?g.length:S,U?(I.hasOwnProp(g,S)?g[S]=[g[S],d]:g[S]=d,!w):((!g[S]||!I.isObject(g[S]))&&(g[S]=[]),c(m,d,g[S],v)&&I.isArray(g[S])&&(g[S]=Ig(g[S])),!w)}if(I.isFormData(r)&&I.isFunction(r.entries)){const m={};return I.forEachEntry(r,(d,g)=>{c(Wg(d),g,m,0)}),m}return null}function eb(r,c,m){if(I.isString(r))try{return(c||JSON.parse)(r),I.trim(r)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(r)}const $r={transitional:Zf,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,v=I.isObject(c);if(v&&I.isHTMLForm(c)&&(c=new FormData(c)),I.isFormData(c))return g?JSON.stringify(Pp(c)):c;if(I.isArrayBuffer(c)||I.isBuffer(c)||I.isStream(c)||I.isFile(c)||I.isBlob(c)||I.isReadableStream(c))return c;if(I.isArrayBufferView(c))return c.buffer;if(I.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let w;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Pg(c,this.formSerializer).toString();if((w=I.isFileList(c))||d.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return Do(w?{"files[]":c}:c,U&&new U,this.formSerializer)}}return v||g?(m.setContentType("application/json",!1),eb(c)):c}],transformResponse:[function(c){const m=this.transitional||$r.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(I.isResponse(c)||I.isReadableStream(c))return c;if(c&&I.isString(c)&&(d&&!this.responseType||g)){const S=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(w){if(S)throw w.name==="SyntaxError"?Pe.from(w,Pe.ERR_BAD_RESPONSE,this,null,this.response):w}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],r=>{$r.headers[r]={}});const tb=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nb=r=>{const c={};let m,d,g;return r&&r.split(`
`).forEach(function(S){g=S.indexOf(":"),m=S.substring(0,g).trim().toLowerCase(),d=S.substring(g+1).trim(),!(!m||c[m]&&tb[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},dp=Symbol("internals");function Kr(r){return r&&String(r).trim().toLowerCase()}function go(r){return r===!1||r==null?r:I.isArray(r)?r.map(go):String(r)}function ab(r){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(r);)c[d[1]]=d[2];return c}const lb=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Df(r,c,m,d,g){if(I.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!I.isString(c)){if(I.isString(d))return c.indexOf(d)!==-1;if(I.isRegExp(d))return d.test(c)}}function sb(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function ib(r,c){const m=I.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(r,d+m,{value:function(g,v,S){return this[d].call(this,c,g,v,S)},configurable:!0})})}let Qn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function v(w,U,C){const R=Kr(U);if(!R)throw new Error("header name must be a non-empty string");const A=I.findKey(g,R);(!A||g[A]===void 0||C===!0||C===void 0&&g[A]!==!1)&&(g[A||U]=go(w))}const S=(w,U)=>I.forEach(w,(C,R)=>v(C,R,U));if(I.isPlainObject(c)||c instanceof this.constructor)S(c,m);else if(I.isString(c)&&(c=c.trim())&&!lb(c))S(nb(c),m);else if(I.isObject(c)&&I.isIterable(c)){let w={},U,C;for(const R of c){if(!I.isArray(R))throw TypeError("Object iterator must return a key-value pair");w[C=R[0]]=(U=w[C])?I.isArray(U)?[...U,R[1]]:[U,R[1]]:R[1]}S(w,m)}else c!=null&&v(m,c,d);return this}get(c,m){if(c=Kr(c),c){const d=I.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return ab(g);if(I.isFunction(m))return m.call(this,g,d);if(I.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Kr(c),c){const d=I.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||Df(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function v(S){if(S=Kr(S),S){const w=I.findKey(d,S);w&&(!m||Df(d,d[w],w,m))&&(delete d[w],g=!0)}}return I.isArray(c)?c.forEach(v):v(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const v=m[d];(!c||Df(this,this[v],v,c,!0))&&(delete this[v],g=!0)}return g}normalize(c){const m=this,d={};return I.forEach(this,(g,v)=>{const S=I.findKey(d,v);if(S){m[S]=go(g),delete m[v];return}const w=c?sb(v):String(v).trim();w!==v&&delete m[v],m[w]=go(g),d[w]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return I.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&I.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[dp]=this[dp]={accessors:{}}).accessors,g=this.prototype;function v(S){const w=Kr(S);d[w]||(ib(g,S),d[w]=!0)}return I.isArray(c)?c.forEach(v):v(c),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Qn.prototype,({value:r},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>r,set(d){this[m]=d}}});I.freezeMethods(Qn);function Tf(r,c){const m=this||$r,d=c||m,g=Qn.from(d.headers);let v=d.data;return I.forEach(r,function(w){v=w.call(m,v,g.normalize(),c?c.status:void 0)}),g.normalize(),v}function Wp(r){return!!(r&&r.__CANCEL__)}let Jr=class extends Pe{constructor(c,m,d){super(c??"canceled",Pe.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Ip(r,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?r(m):c(new Pe("Request failed with status code "+m.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function rb(r){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return c&&c[1]||""}function ub(r,c){r=r||10;const m=new Array(r),d=new Array(r);let g=0,v=0,S;return c=c!==void 0?c:1e3,function(U){const C=Date.now(),R=d[v];S||(S=C),m[g]=U,d[g]=C;let A=v,Z=0;for(;A!==g;)Z+=m[A++],A=A%r;if(g=(g+1)%r,g===v&&(v=(v+1)%r),C-S<c)return;const ye=R&&C-R;return ye?Math.round(Z*1e3/ye):void 0}}function ob(r,c){let m=0,d=1e3/c,g,v;const S=(C,R=Date.now())=>{m=R,g=null,v&&(clearTimeout(v),v=null),r(...C)};return[(...C)=>{const R=Date.now(),A=R-m;A>=d?S(C,R):(g=C,v||(v=setTimeout(()=>{v=null,S(g)},d-A)))},()=>g&&S(g)]}const jo=(r,c,m=3)=>{let d=0;const g=ub(50,250);return ob(v=>{const S=v.loaded,w=v.lengthComputable?v.total:void 0,U=S-d,C=g(U),R=S<=w;d=S;const A={loaded:S,total:w,progress:w?S/w:void 0,bytes:U,rate:C||void 0,estimated:C&&w&&R?(w-S)/C:void 0,event:v,lengthComputable:w!=null,[c?"download":"upload"]:!0};r(A)},m)},hp=(r,c)=>{const m=r!=null;return[d=>c[0]({lengthComputable:m,total:r,loaded:d}),c[1]]},mp=r=>(...c)=>I.asap(()=>r(...c)),cb=On.hasStandardBrowserEnv?((r,c)=>m=>(m=new URL(m,On.origin),r.protocol===m.protocol&&r.host===m.host&&(c||r.port===m.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,fb=On.hasStandardBrowserEnv?{write(r,c,m,d,g,v,S){if(typeof document>"u")return;const w=[`${r}=${encodeURIComponent(c)}`];I.isNumber(m)&&w.push(`expires=${new Date(m).toUTCString()}`),I.isString(d)&&w.push(`path=${d}`),I.isString(g)&&w.push(`domain=${g}`),v===!0&&w.push("secure"),I.isString(S)&&w.push(`SameSite=${S}`),document.cookie=w.join("; ")},read(r){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function db(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function hb(r,c){return c?r.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):r}function ey(r,c,m){let d=!db(c);return r&&(d||m==!1)?hb(r,c):c}const pp=r=>r instanceof Qn?{...r}:r;function Hs(r,c){c=c||{};const m={};function d(C,R,A,Z){return I.isPlainObject(C)&&I.isPlainObject(R)?I.merge.call({caseless:Z},C,R):I.isPlainObject(R)?I.merge({},R):I.isArray(R)?R.slice():R}function g(C,R,A,Z){if(I.isUndefined(R)){if(!I.isUndefined(C))return d(void 0,C,A,Z)}else return d(C,R,A,Z)}function v(C,R){if(!I.isUndefined(R))return d(void 0,R)}function S(C,R){if(I.isUndefined(R)){if(!I.isUndefined(C))return d(void 0,C)}else return d(void 0,R)}function w(C,R,A){if(A in c)return d(C,R);if(A in r)return d(void 0,C)}const U={url:v,method:v,data:v,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:w,headers:(C,R,A)=>g(pp(C),pp(R),A,!0)};return I.forEach(Object.keys({...r,...c}),function(R){if(R==="__proto__"||R==="constructor"||R==="prototype")return;const A=I.hasOwnProp(U,R)?U[R]:g,Z=A(r[R],c[R],R);I.isUndefined(Z)&&A!==w||(m[R]=Z)}),m}const ty=r=>{const c=Hs({},r);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:S,auth:w}=c;if(c.headers=S=Qn.from(S),c.url=Jp(ey(c.baseURL,c.url,c.allowAbsoluteUrls),r.params,r.paramsSerializer),w&&S.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),I.isFormData(m)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(I.isFunction(m.getHeaders)){const U=m.getHeaders(),C=["content-type","content-length"];Object.entries(U).forEach(([R,A])=>{C.includes(R.toLowerCase())&&S.set(R,A)})}}if(On.hasStandardBrowserEnv&&(d&&I.isFunction(d)&&(d=d(c)),d||d!==!1&&cb(c.url))){const U=g&&v&&fb.read(v);U&&S.set(g,U)}return c},mb=typeof XMLHttpRequest<"u",pb=mb&&function(r){return new Promise(function(m,d){const g=ty(r);let v=g.data;const S=Qn.from(g.headers).normalize();let{responseType:w,onUploadProgress:U,onDownloadProgress:C}=g,R,A,Z,ye,$;function oe(){ye&&ye(),$&&$(),g.cancelToken&&g.cancelToken.unsubscribe(R),g.signal&&g.signal.removeEventListener("abort",R)}let W=new XMLHttpRequest;W.open(g.method.toUpperCase(),g.url,!0),W.timeout=g.timeout;function _e(){if(!W)return;const we=Qn.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),be={data:!w||w==="text"||w==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:we,config:r,request:W};Ip(function(Se){m(Se),oe()},function(Se){d(Se),oe()},be),W=null}"onloadend"in W?W.onloadend=_e:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(_e)},W.onabort=function(){W&&(d(new Pe("Request aborted",Pe.ECONNABORTED,r,W)),W=null)},W.onerror=function(se){const be=se&&se.message?se.message:"Network Error",ve=new Pe(be,Pe.ERR_NETWORK,r,W);ve.event=se||null,d(ve),W=null},W.ontimeout=function(){let se=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const be=g.transitional||Zf;g.timeoutErrorMessage&&(se=g.timeoutErrorMessage),d(new Pe(se,be.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,r,W)),W=null},v===void 0&&S.setContentType(null),"setRequestHeader"in W&&I.forEach(S.toJSON(),function(se,be){W.setRequestHeader(be,se)}),I.isUndefined(g.withCredentials)||(W.withCredentials=!!g.withCredentials),w&&w!=="json"&&(W.responseType=g.responseType),C&&([Z,$]=jo(C,!0),W.addEventListener("progress",Z)),U&&W.upload&&([A,ye]=jo(U),W.upload.addEventListener("progress",A),W.upload.addEventListener("loadend",ye)),(g.cancelToken||g.signal)&&(R=we=>{W&&(d(!we||we.type?new Jr(null,r,W):we),W.abort(),W=null)},g.cancelToken&&g.cancelToken.subscribe(R),g.signal&&(g.signal.aborted?R():g.signal.addEventListener("abort",R)));const ge=rb(g.url);if(ge&&On.protocols.indexOf(ge)===-1){d(new Pe("Unsupported protocol "+ge+":",Pe.ERR_BAD_REQUEST,r));return}W.send(v||null)})},yb=(r,c)=>{const{length:m}=r=r?r.filter(Boolean):[];if(c||m){let d=new AbortController,g;const v=function(C){if(!g){g=!0,w();const R=C instanceof Error?C:this.reason;d.abort(R instanceof Pe?R:new Jr(R instanceof Error?R.message:R))}};let S=c&&setTimeout(()=>{S=null,v(new Pe(`timeout of ${c}ms exceeded`,Pe.ETIMEDOUT))},c);const w=()=>{r&&(S&&clearTimeout(S),S=null,r.forEach(C=>{C.unsubscribe?C.unsubscribe(v):C.removeEventListener("abort",v)}),r=null)};r.forEach(C=>C.addEventListener("abort",v));const{signal:U}=d;return U.unsubscribe=()=>I.asap(w),U}},gb=function*(r,c){let m=r.byteLength;if(m<c){yield r;return}let d=0,g;for(;d<m;)g=d+c,yield r.slice(d,g),d=g},bb=async function*(r,c){for await(const m of xb(r))yield*gb(m,c)},xb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const c=r.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},yp=(r,c,m,d)=>{const g=bb(r,c);let v=0,S,w=U=>{S||(S=!0,d&&d(U))};return new ReadableStream({async pull(U){try{const{done:C,value:R}=await g.next();if(C){w(),U.close();return}let A=R.byteLength;if(m){let Z=v+=A;m(Z)}U.enqueue(new Uint8Array(R))}catch(C){throw w(C),C}},cancel(U){return w(U),g.return()}},{highWaterMark:2})},gp=64*1024,{isFunction:ho}=I,vb=(({Request:r,Response:c})=>({Request:r,Response:c}))(I.global),{ReadableStream:bp,TextEncoder:xp}=I.global,vp=(r,...c)=>{try{return!!r(...c)}catch{return!1}},Sb=r=>{r=I.merge.call({skipUndefined:!0},vb,r);const{fetch:c,Request:m,Response:d}=r,g=c?ho(c):typeof fetch=="function",v=ho(m),S=ho(d);if(!g)return!1;const w=g&&ho(bp),U=g&&(typeof xp=="function"?($=>oe=>$.encode(oe))(new xp):async $=>new Uint8Array(await new m($).arrayBuffer())),C=v&&w&&vp(()=>{let $=!1;const oe=new m(On.origin,{body:new bp,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!oe}),R=S&&w&&vp(()=>I.isReadableStream(new d("").body)),A={stream:R&&($=>$.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!A[$]&&(A[$]=(oe,W)=>{let _e=oe&&oe[$];if(_e)return _e.call(oe);throw new Pe(`Response type '${$}' is not supported`,Pe.ERR_NOT_SUPPORT,W)})});const Z=async $=>{if($==null)return 0;if(I.isBlob($))return $.size;if(I.isSpecCompliantForm($))return(await new m(On.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(I.isArrayBufferView($)||I.isArrayBuffer($))return $.byteLength;if(I.isURLSearchParams($)&&($=$+""),I.isString($))return(await U($)).byteLength},ye=async($,oe)=>{const W=I.toFiniteNumber($.getContentLength());return W??Z(oe)};return async $=>{let{url:oe,method:W,data:_e,signal:ge,cancelToken:we,timeout:se,onDownloadProgress:be,onUploadProgress:ve,responseType:Se,headers:Ie,withCredentials:Ve="same-origin",fetchOptions:rt}=ty($),He=c||fetch;Se=Se?(Se+"").toLowerCase():"text";let $e=yb([ge,we&&we.toAbortSignal()],se),gt=null;const Ae=$e&&$e.unsubscribe&&(()=>{$e.unsubscribe()});let qe;try{if(ve&&C&&W!=="get"&&W!=="head"&&(qe=await ye(Ie,_e))!==0){let E=new m(oe,{method:"POST",body:_e,duplex:"half"}),te;if(I.isFormData(_e)&&(te=E.headers.get("content-type"))&&Ie.setContentType(te),E.body){const[ce,Me]=hp(qe,jo(mp(ve)));_e=yp(E.body,gp,ce,Me)}}I.isString(Ve)||(Ve=Ve?"include":"omit");const X=v&&"credentials"in m.prototype,ue={...rt,signal:$e,method:W.toUpperCase(),headers:Ie.normalize().toJSON(),body:_e,duplex:"half",credentials:X?Ve:void 0};gt=v&&new m(oe,ue);let me=await(v?He(gt,rt):He(oe,ue));const Ne=R&&(Se==="stream"||Se==="response");if(R&&(be||Ne&&Ae)){const E={};["status","statusText","headers"].forEach(Ze=>{E[Ze]=me[Ze]});const te=I.toFiniteNumber(me.headers.get("content-length")),[ce,Me]=be&&hp(te,jo(mp(be),!0))||[];me=new d(yp(me.body,gp,ce,()=>{Me&&Me(),Ae&&Ae()}),E)}Se=Se||"text";let G=await A[I.findKey(A,Se)||"text"](me,$);return!Ne&&Ae&&Ae(),await new Promise((E,te)=>{Ip(E,te,{data:G,headers:Qn.from(me.headers),status:me.status,statusText:me.statusText,config:$,request:gt})})}catch(X){throw Ae&&Ae(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,$,gt,X&&X.response),{cause:X.cause||X}):Pe.from(X,X&&X.code,$,gt,X&&X.response)}}},jb=new Map,ny=r=>{let c=r&&r.env||{};const{fetch:m,Request:d,Response:g}=c,v=[d,g,m];let S=v.length,w=S,U,C,R=jb;for(;w--;)U=v[w],C=R.get(U),C===void 0&&R.set(U,C=w?new Map:Sb(c)),R=C;return C};ny();const Jf={http:Hg,xhr:pb,fetch:{get:ny}};I.forEach(Jf,(r,c)=>{if(r){try{Object.defineProperty(r,"name",{value:c})}catch{}Object.defineProperty(r,"adapterName",{value:c})}});const Sp=r=>`- ${r}`,wb=r=>I.isFunction(r)||r===null||r===!1;function Nb(r,c){r=I.isArray(r)?r:[r];const{length:m}=r;let d,g;const v={};for(let S=0;S<m;S++){d=r[S];let w;if(g=d,!wb(d)&&(g=Jf[(w=String(d)).toLowerCase()],g===void 0))throw new Pe(`Unknown adapter '${w}'`);if(g&&(I.isFunction(g)||(g=g.get(c))))break;v[w||"#"+S]=g}if(!g){const S=Object.entries(v).map(([U,C])=>`adapter ${U} `+(C===!1?"is not supported by the environment":"is not available in the build"));let w=m?S.length>1?`since :
`+S.map(Sp).join(`
`):" "+Sp(S[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return g}const ay={getAdapter:Nb,adapters:Jf};function Mf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Jr(null,r)}function jp(r){return Mf(r),r.headers=Qn.from(r.headers),r.data=Tf.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ay.getAdapter(r.adapter||$r.adapter,r)(r).then(function(d){return Mf(r),d.data=Tf.call(r,r.transformResponse,d),d.headers=Qn.from(d.headers),d},function(d){return Wp(d)||(Mf(r),d&&d.response&&(d.response.data=Tf.call(r,r.transformResponse,d.response),d.response.headers=Qn.from(d.response.headers))),Promise.reject(d)})}const ly="1.13.5",To={};["object","boolean","number","function","string","symbol"].forEach((r,c)=>{To[r]=function(d){return typeof d===r||"a"+(c<1?"n ":" ")+r}});const wp={};To.transitional=function(c,m,d){function g(v,S){return"[Axios v"+ly+"] Transitional option '"+v+"'"+S+(d?". "+d:"")}return(v,S,w)=>{if(c===!1)throw new Pe(g(S," has been removed"+(m?" in "+m:"")),Pe.ERR_DEPRECATED);return m&&!wp[S]&&(wp[S]=!0,console.warn(g(S," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(v,S,w):!0}};To.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function _b(r,c,m){if(typeof r!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const d=Object.keys(r);let g=d.length;for(;g-- >0;){const v=d[g],S=c[v];if(S){const w=r[v],U=w===void 0||S(w,v,r);if(U!==!0)throw new Pe("option "+v+" must be "+U,Pe.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Pe("Unknown option "+v,Pe.ERR_BAD_OPTION)}}const bo={assertOptions:_b,validators:To},ma=bo.validators;let qs=class{constructor(c){this.defaults=c||{},this.interceptors={request:new fp,response:new fp}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Hs(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:v}=m;d!==void 0&&bo.assertOptions(d,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean),legacyInterceptorReqResOrdering:ma.transitional(ma.boolean)},!1),g!=null&&(I.isFunction(g)?m.paramsSerializer={serialize:g}:bo.assertOptions(g,{encode:ma.function,serialize:ma.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),bo.assertOptions(m,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=v&&I.merge(v.common,v[m.method]);v&&I.forEach(["delete","get","head","post","put","patch","common"],$=>{delete v[$]}),m.headers=Qn.concat(S,v);const w=[];let U=!0;this.interceptors.request.forEach(function(oe){if(typeof oe.runWhen=="function"&&oe.runWhen(m)===!1)return;U=U&&oe.synchronous;const W=m.transitional||Zf;W&&W.legacyInterceptorReqResOrdering?w.unshift(oe.fulfilled,oe.rejected):w.push(oe.fulfilled,oe.rejected)});const C=[];this.interceptors.response.forEach(function(oe){C.push(oe.fulfilled,oe.rejected)});let R,A=0,Z;if(!U){const $=[jp.bind(this),void 0];for($.unshift(...w),$.push(...C),Z=$.length,R=Promise.resolve(m);A<Z;)R=R.then($[A++],$[A++]);return R}Z=w.length;let ye=m;for(;A<Z;){const $=w[A++],oe=w[A++];try{ye=$(ye)}catch(W){oe.call(this,W);break}}try{R=jp.call(this,ye)}catch($){return Promise.reject($)}for(A=0,Z=C.length;A<Z;)R=R.then(C[A++],C[A++]);return R}getUri(c){c=Hs(this.defaults,c);const m=ey(c.baseURL,c.url,c.allowAbsoluteUrls);return Jp(m,c.params,c.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(c){qs.prototype[c]=function(m,d){return this.request(Hs(d||{},{method:c,url:m,data:(d||{}).data}))}});I.forEach(["post","put","patch"],function(c){function m(d){return function(v,S,w){return this.request(Hs(w||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:S}))}}qs.prototype[c]=m(),qs.prototype[c+"Form"]=m(!0)});let Eb=class sy{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(v){m=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const S=new Promise(w=>{d.subscribe(w),v=w}).then(g);return S.cancel=function(){d.unsubscribe(v)},S},c(function(v,S,w){d.reason||(d.reason=new Jr(v,S,w),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new sy(function(g){c=g}),cancel:c}}};function Cb(r){return function(m){return r.apply(null,m)}}function Ab(r){return I.isObject(r)&&r.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hf).forEach(([r,c])=>{Hf[c]=r});function iy(r){const c=new qs(r),m=Hp(qs.prototype.request,c);return I.extend(m,qs.prototype,c,{allOwnKeys:!0}),I.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return iy(Hs(r,g))},m}const ln=iy($r);ln.Axios=qs;ln.CanceledError=Jr;ln.CancelToken=Eb;ln.isCancel=Wp;ln.VERSION=ly;ln.toFormData=Do;ln.AxiosError=Pe;ln.Cancel=ln.CanceledError;ln.all=function(c){return Promise.all(c)};ln.spread=Cb;ln.isAxiosError=Ab;ln.mergeConfig=Hs;ln.AxiosHeaders=Qn;ln.formToJSON=r=>Pp(I.isHTMLForm(r)?new FormData(r):r);ln.getAdapter=ay.getAdapter;ln.HttpStatusCode=Hf;ln.default=ln;const{Axios:uv,AxiosError:ov,CanceledError:cv,isCancel:fv,CancelToken:dv,VERSION:hv,all:mv,Cancel:pv,isAxiosError:yv,spread:gv,toFormData:bv,AxiosHeaders:xv,HttpStatusCode:vv,formToJSON:Sv,getAdapter:jv,mergeConfig:wv}=ln,xt=ln.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});xt.interceptors.request.use(r=>{const c=xl.getState().token;return c&&(r.headers.Authorization=`Token ${c}`),r.data instanceof FormData&&delete r.headers["Content-Type"],r});xt.interceptors.response.use(r=>r,r=>(r.response?.status===401&&xl.getState().logout(),Promise.reject(r)));const Bi={login:(r,c)=>xt.post("/auth/login/",{email:r,password:c}),register:r=>xt.post("/auth/register/",r),logout:()=>xt.post("/auth/logout/"),me:()=>xt.get("/auth/me/"),deleteAccount:()=>xt.post("/auth/me/delete/")},Qr={list:()=>xt.get("/projects/"),get:r=>xt.get(`/projects/${r}/`),create:r=>xt.post("/projects/",r),update:(r,c)=>xt.patch(`/projects/${r}/`,c),delete:r=>xt.delete(`/projects/${r}/`)},In={list:()=>xt.get("/lenses/"),get:r=>xt.get(`/lenses/${r}/`),create:r=>xt.post("/lenses/",r),update:(r,c)=>xt.patch(`/lenses/${r}/`,c),delete:r=>xt.delete(`/lenses/${r}/`),addColor:(r,c)=>xt.post(`/lenses/${r}/colors/`,c),updateColor:(r,c,m)=>xt.patch(`/lenses/${r}/colors/${c}/`,m),removeColor:(r,c)=>xt.delete(`/lenses/${r}/colors/${c}/`)},Ob={get:()=>xt.get("/library/")},an={list:r=>xt.get("/documents/",{params:r}),get:r=>xt.get(`/documents/${r}/`),create:r=>xt.post("/documents/",r),createWithFile:r=>xt.post("/documents/",r),getPdf:r=>xt.get(`/documents/${r}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(r,c)=>xt.post(`/documents/${r}/upload_pdf/`,c),update:(r,c)=>xt.patch(`/documents/${r}/`,c),delete:r=>xt.delete(`/documents/${r}/`),highlights:r=>xt.get(`/documents/${r}/highlights/`),createHighlight:(r,c)=>xt.post(`/documents/${r}/highlights/`,c),updateHighlight:(r,c,m)=>xt.patch(`/documents/${r}/highlights/${c}/`,m),deleteHighlight:(r,c)=>xt.delete(`/documents/${r}/highlights/${c}/`)},Db={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Ke={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},ea={default:"border-slate-200"},Us="min-h-screen p-6",ry="bg-white border-b border-slate-200",Yr="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",ki="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",Np="w-px h-6 bg-slate-200",Na=Db;function Tb(){const r=ls(),c=xl(A=>A.setToken),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState(""),[U,C]=H.useState(!1),R=async A=>{A.preventDefault(),w(""),C(!0);try{const{data:Z}=await Bi.login(m,g);c(Z.token),r("/",{replace:!0})}catch(Z){w(Z.response?.data?.detail||Z.response?.data?.email?.[0]||"Login failed")}finally{C(!1)}};return o.jsx("div",{className:`${Us} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ke.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ke.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ke.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>v(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Yr,children:U?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ke.muted}`,children:["No account? ",o.jsx(Up,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function Mb(){const r=ls(),c=xl(A=>A.setToken),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState(""),[U,C]=H.useState(!1),R=async A=>{A.preventDefault(),w(""),C(!0);try{await Bi.register({email:m,password:g});const{data:Z}=await Bi.login(m,g);c(Z.token),r("/",{replace:!0})}catch(Z){const ye=Z.response?.data;w(ye?.email?.[0]||ye?.password?.[0]||"Registration failed")}finally{C(!1)}};return o.jsx("div",{className:`${Us} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ke.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ke.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ke.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>v(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Yr,children:U?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ke.muted}`,children:["Already have an account? ",o.jsx(Up,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const uy=(...r)=>r.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const zb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const kb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const _p=r=>{const c=kb(r);return c.charAt(0).toUpperCase()+c.slice(1)};var Rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bb=r=>{for(const c in r)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const qb=H.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:v,iconNode:S,...w},U)=>H.createElement("svg",{ref:U,...Rb,width:c,height:c,stroke:r,strokeWidth:d?Number(m)*24/Number(c):m,className:uy("lucide",g),...!v&&!Bb(w)&&{"aria-hidden":"true"},...w},[...S.map(([C,R])=>H.createElement(C,R)),...Array.isArray(v)?v:[v]]));const Qt=(r,c)=>{const m=H.forwardRef(({className:d,...g},v)=>H.createElement(qb,{ref:v,iconNode:c,className:uy(`lucide-${zb(_p(r))}`,`lucide-${r}`,d),...g}));return m.displayName=_p(r),m};const Ub=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pr=Qt("arrow-left",Ub);const Hb=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Lb=Qt("bookmark",Hb);const Kb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Qb=Qt("braces",Kb);const Yb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xb=Qt("chart-column",Yb);const Gb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wo=Qt("check",Gb);const Vb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xo=Qt("chevron-down",Vb);const Fb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=Qt("chevron-right",Fb);const Zb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pf=Qt("copy",Zb);const $b=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Jb=Qt("file-down",$b);const Pb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Wb=Qt("file-stack",Pb);const Ib=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Qt("file-text",Ib);const ex=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lf=Qt("folder-open",ex);const tx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ya=Qt("loader-circle",tx);const nx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wf=Qt("log-out",nx);const ax=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oy=Qt("palette",ax);const lx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],sx=Qt("panel-right-close",lx);const ix=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],rx=Qt("panel-right-open",ix);const ux=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mo=Qt("pencil",ux);const ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ep=Qt("plus",ox);const cx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gr=Qt("search",cx);const fx=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],dx=Qt("settings-2",fx);const hx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ss=Qt("trash-2",hx);const mx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],No=Qt("upload",mx);const px=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=Qt("x",px);const yx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],gx=Qt("zoom-in",yx);const bx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],xx=Qt("zoom-out",bx),Cp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Mi=5,Ap=3;function cy(){const r=Ui(),[c,m]=H.useState(0),[d,g]=H.useState(""),[v,S]=H.useState([]),[w,U]=H.useState(null),[C,R]=H.useState(""),[A,Z]=H.useState(null),[ye,$]=H.useState(null),[oe,W]=H.useState(null),[_e,ge]=H.useState(""),[we,se]=H.useState(null),[be,ve]=H.useState(""),{data:Se=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:E}=await In.list();return E}}),Ie=Se.filter(E=>!E.is_system),Ve=()=>{m(0),g(""),S([]),U(null),R("")},rt=An({mutationFn:E=>In.create(E),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Ve()}}),He=An({mutationFn:E=>In.delete(E),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),$e=An({mutationFn:({lensId:E,data:te})=>In.addColor(E,te),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),$(null),W(null),ge("")}}),gt=An({mutationFn:({lensId:E,colorId:te})=>In.removeColor(E,te),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),Ae=An({mutationFn:({lensId:E,colorId:te,displayName:ce})=>In.updateColor(E,te,{display_name:ce}),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),se(null),ve("")}}),qe=()=>{!ye||!oe||!_e.trim()||$e.mutate({lensId:ye,data:{key:`custom_${Date.now()}`,display_name:_e.trim(),hex:oe}})},X=new Set(v.map(E=>E.hex.toLowerCase())),ue=Cp.filter(E=>!X.has(E.toLowerCase())),me=()=>{!w||!C.trim()||(S(E=>[...E,{key:`color_${Date.now()}_${E.length}`,display_name:C.trim(),hex:w}]),U(null),R(""))},Ne=E=>{S(te=>te.filter((ce,Me)=>Me!==E))},G=()=>{!d.trim()||v.length<1||rt.mutate({name:d.trim(),colors:v})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(oy,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Mi," colour categories. You can create up to ",Ap," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:Se.map(E=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:E.name}),E.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!E.is_system&&o.jsx("button",{type:"button",onClick:()=>Z(E),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(E.colors??[]).map(te=>{const ce=we?.lensId===E.id&&we?.colorId===te.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:te.hex}}),ce?o.jsx("input",{type:"text",value:be,onChange:Me=>ve(Me.target.value),onBlur:()=>{const Me=be.trim();Me&&Me!==te.display_name?Ae.mutate({lensId:E.id,colorId:te.id,displayName:Me}):(se(null),ve(""))},onKeyDown:Me=>{if(Me.key==="Enter"){const Ze=be.trim();Ze&&Ae.mutate({lensId:E.id,colorId:te.id,displayName:Ze})}Me.key==="Escape"&&(se(null),ve(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{E.is_system||(se({lensId:E.id,colorId:te.id}),ve(te.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${E.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:te.display_name}),!E.is_system&&(E.colors?.length??0)>1&&!ce&&o.jsx("button",{type:"button",onClick:Me=>{Me.stopPropagation(),gt.mutate({lensId:E.id,colorId:te.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(as,{className:"w-3 h-3",strokeWidth:2.5})})]},te.id)}),!E.is_system&&(E.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!E.is_system&&(E.colors?.length??0)<Mi&&o.jsx("button",{type:"button",onClick:()=>{$(E.id),W(null),ge("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(Ep,{className:"w-3 h-3",strokeWidth:2.5})})]})]},E.id))}),Ie.length<Ap&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(Ep,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!rt.isPending&&Ve(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:E=>E.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:E=>g(E.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:Ve,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",v.length,"/",Mi,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Mi," colours and give each a label."]}),v.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:v.map((E,te)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:E.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:E.display_name}),o.jsx("button",{type:"button",onClick:()=>Ne(te),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]},te))}),v.length<Mi&&o.jsx(o.Fragment,{children:w?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:w}}),o.jsx("input",{type:"text",value:C,onChange:E=>R(E.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&me()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:me,disabled:!C.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",v.length+1," of ",Mi]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(E=>o.jsx("button",{type:"button",onClick:()=>{U(E),R("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:E}},E))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),U(null),R("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:G,disabled:v.length<1||rt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:rt.isPending?"Creating":"Create lens"})]})]})]})}),ye&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!$e.isPending&&$(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:E=>E.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),oe?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:oe}}),o.jsx("input",{type:"text",value:_e,onChange:E=>ge(E.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&qe()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const E=Se.find(ce=>ce.id===ye),te=new Set((E?.colors??[]).map(ce=>ce.hex.toLowerCase()));return Cp.filter(ce=>!te.has(ce.toLowerCase()))})().map(E=>o.jsx("button",{type:"button",onClick:()=>W(E),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:E}},E))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{oe?(W(null),ge("")):$(null)},disabled:$e.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:oe?"Back":"Cancel"}),oe&&o.jsx("button",{type:"button",onClick:qe,disabled:!_e.trim()||$e.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:$e.isPending?"Adding":"Add"})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!He.isPending&&Z(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:E=>E.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:A.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Z(null),disabled:He.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{He.mutate(A.id,{onSuccess:()=>Z(null)})},disabled:He.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:He.isPending?"Deleting":"Delete lens"})]})]})})]})}const gl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function vx(r){if(!r)return"";const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:v<24?`${v} hour${v===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function Sx({project:r,onOpen:c}){const[m,d]=H.useState(!1),g=r.document_count??0,v=r.annotation_count??0,S=r.color&&gl.includes(r.color)?r.color:gl[r.id%gl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(r.id),role:"button",tabIndex:0,onKeyDown:w=>w.key==="Enter"&&c(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:vx(r.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:v>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[v," note",v!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function jx({onClose:r,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,v]=H.useState(""),[S,w]=H.useState(gl[d%gl.length]),U=()=>{const C=g.trim();C&&(c(C,S),v(""),w(gl[d%gl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:C=>C.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:C=>v(C.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:gl.map(C=>o.jsx("button",{type:"button",onClick:()=>w(C),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:C,borderColor:S===C?"#1e293b":"transparent",outline:S===C?"2px solid #fff":"none",outlineOffset:-4}},C))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:U,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function wx(){const r=ls(),c=Ui(),m=xl(se=>se.logout),[d,g]=H.useState(!1),[v,S]=H.useState(!1),[w,U]=H.useState(""),{data:C}=kn({queryKey:["me"],queryFn:async()=>{const{data:se}=await Bi.me();return se}}),{data:R,isLoading:A}=kn({queryKey:["projects"],queryFn:async()=>{const{data:se}=await Qr.list();return se}}),Z=Array.isArray(R)?R:R?.results??[],ye=Z.filter(se=>se.name.toLowerCase().includes(w.toLowerCase())),$=Z.reduce((se,be)=>se+(be.document_count??0),0),oe=Z.reduce((se,be)=>se+(be.annotation_count??0),0),W=An({mutationFn:({name:se,color:be})=>Qr.create({name:se.trim(),color:be}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),g(!1)}}),_e=(se,be)=>{W.mutate({name:se,color:be})},ge=()=>{m(),r("/login",{replace:!0})},we=(C?.email?.[0]||C?.username?.[0]||"?").toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:ge,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Wf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>r("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:we})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>r("/app/library"),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Gr,{className:"w-4 h-4"}),"Library"]}),o.jsxs("button",{type:"button",onClick:()=>S(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(oy,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[Z.length," project",Z.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[$," document",$!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[oe," annotation",oe!==1?"s":""]})]}),Z.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:w,onChange:se=>U(se.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),A?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:ye.map(se=>o.jsx(Sx,{project:se,onOpen:be=>r(`/project/${be}`)},se.id))}),!A&&ye.length===0&&w&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',w,'"']}),!A&&Z.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&o.jsx(jx,{onClose:()=>g(!1),onCreate:_e,isPending:W.isPending,defaultColorIndex:Z.length%gl.length}),v&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>S(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:se=>se.stopPropagation(),children:o.jsx(cy,{})})})]})}var vo={exports:{}},Nx=vo.exports,Op;function _x(){return Op||(Op=1,(function(r,c){((m,d)=>{r.exports=d()})(Nx,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:k0,S=Object.keys,w=Array.isArray;function U(l,u){return typeof u=="object"&&S(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var C=Object.getPrototypeOf,R={}.hasOwnProperty;function A(l,u){return R.call(l,u)}function Z(l,u){typeof u=="function"&&(u=u(C(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(u).forEach(function(f){$(l,f,u[f])})}var ye=Object.defineProperty;function $(l,u,f,h){ye(l,u,U(f&&A(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function oe(l){return{from:function(u){return l.prototype=Object.create(u.prototype),$(l.prototype,"constructor",l),{extend:Z.bind(null,l.prototype)}}}}var W=Object.getOwnPropertyDescriptor,_e=[].slice;function ge(l,u,f){return _e.call(l,u,f)}function we(l,u){return u(l)}function se(l){if(!l)throw new Error("Assertion Failed")}function be(l){v.setImmediate?setImmediate(l):setTimeout(l,0)}function ve(l,u){if(typeof u=="string"&&A(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=ve(l,u[h]);f.push(b)}return f}var j,N=u.indexOf(".");return N===-1||(j=l[u.substr(0,N)])==null?void 0:ve(j,u.substr(N+1))}function Se(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){se(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)Se(l,u[h],f[h])}else{var b,j,N=u.indexOf(".");N!==-1?(b=u.substr(0,N),(N=u.substr(N+1))===""?f===void 0?w(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:Se(j=(j=l[b])&&A(l,b)?j:l[b]={},N,f)):f===void 0?w(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ie(l){var u,f={};for(u in l)A(l,u)&&(f[u]=l[u]);return f}var Ve=[].concat;function rt(l){return Ve.apply([],l)}var te="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return v[l]}),He=new Set(te.map(function(l){return v[l]})),$e=null;function gt(l){return $e=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=$e.get(f);if(h)return h;if(w(f)){h=[],$e.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(He.has(f.constructor))h=f;else{var j,N=C(f);for(j in h=N===Object.prototype?{}:Object.create(N),$e.set(f,h),f)A(f,j)&&(h[j]=u(f[j]))}return h})(l),$e=null,l}var Ae={}.toString;function qe(l){return Ae.call(l).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ue=typeof X=="symbol"?function(l){var u;return l!=null&&(u=l[X])&&u.apply(l)}:function(){return null};function me(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var Ne={};function G(l){var u,f,h,y;if(arguments.length===1){if(w(l))return l.slice();if(this===Ne&&typeof l=="string")return[l];if(y=ue(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var E=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},te=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(te),ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(l,u){this.name=l,this.message=u}function Ze(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function at(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Ze(l,u)}function vt(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Ze(l,this.failures)}oe(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),oe(at).from(Me),oe(vt).from(Me);var Ft=Et.reduce(function(l,u){return l[u]=u+"Error",l},{}),dn=Me,je=Et.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=ce[u]||f,this.inner=null)}return oe(h).from(dn),l[u]=h,l},{}),ft=(je.Syntax=SyntaxError,je.Type=TypeError,je.Range=RangeError,te.reduce(function(l,u){return l[u+"Error"]=je[u],l},{}));te=Et.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=je[u]),l},{});function Ge(){}function dt(l){return l}function Zt(l,u){return l==null||l===dt?u:function(f){return u(l(f))}}function Ot(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Yn(l,u){return l===Ge?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Ot(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Ot(y,this.onerror):y),b!==void 0?b:f}}function ta(l,u){return l===Ge?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ot(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Ot(h,this.onerror):h)}}function pe(l,u){return l===Ge?u:function(y){var h=l.apply(this,arguments),y=(U(y,h),this.onsuccess),b=this.onerror,j=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Ot(y,this.onsuccess):y),b&&(this.onerror=this.onerror?Ot(b,this.onerror):b),h===void 0?j===void 0?void 0:j:U(h,j)}}function tt(l,u){return l===Ge?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ne(l,u){return l===Ge?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}te.ModifyError=at,te.DexieError=Me,te.BulkError=vt;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(l){ke=l}var Fe={},lt=100,bt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[bt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),C(bt),Et]:[Et,C(Et),Et]),Et=bt[0],el=bt[1],el=el&&el.then,mn=Et&&Et.constructor,sn=!!bt[2],Dn=function(l,u){ga.push([l,u]),Qe&&(queueMicrotask(Wr),Qe=!1)},ze=!0,Qe=!0,wt=[],qt=[],Ct=dt,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ge,pgp:!1,env:{},finalize:Ge},Oe=Ut,ga=[],Qa=0,Ls=[];function De(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Oe;if(typeof l!="function"){if(l!==Fe)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ba(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var j=h._lib&&Ea();b&&typeof b.then=="function"?f(h,function(N,D){b instanceof De?b._then(N,D):b.then(N,D)}):(h._state=!0,h._value=b,rs(h)),j&&na()}},ba.bind(null,h))}catch(b){ba(h,b)}})(this,l)}var vl={get:function(){var l=Oe,u=cs;function f(h,y){var b=this,j=!l.global&&(l!==Oe||u!==cs),N=j&&!Tn(),D=new De(function(K,T){Ya(b,new is(Ks(h,l,j,N),Ks(y,l,j,N),K,T,l))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return f.prototype=Fe,f},set:function(l){$(this,"then",l&&l.prototype===Fe?vl:{get:function(){return l},set:vl.set})}};function is(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ba(l,u){var f,h;qt.push(u),l._state===null&&(f=l._lib&&Ea(),u=Ct(u),l._state=!1,l._value=u,h=l,wt.some(function(y){return y._value===h._value})||wt.push(h),rs(l),f)&&na()}function rs(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Ya(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Qa===0&&(++Qa,Dn(function(){--Qa==0&&Li()},[]))}function Ya(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Qa,Dn(zo,[f,l,u])}}function zo(l,u,f){try{var h,y=u._value;!u._state&&qt.length&&(qt=[]),h=ke&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||qt.indexOf(y)!==-1||(b=>{for(var j=wt.length;j;)if(wt[--j]._value===b._value)return wt.splice(j,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Qa==0&&Li(),--f.psd.ref||f.psd.finalize()}}function Wr(){Xn(Ut,function(){Ea()&&na()})}function Ea(){var l=ze;return Qe=ze=!1,l}function na(){var l,u,f;do for(;0<ga.length;)for(l=ga,ga=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<ga.length);Qe=ze=!0}function Li(){for(var l=wt,u=(wt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Ls.slice(0)),f=u.length;f;)u[--f]()}function us(l){return new De(Fe,!1,l)}function Ht(l,u){var f=Oe;return function(){var h=Ea(),y=Oe;try{return Aa(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Aa(y,!1),h&&na()}}}Z(De.prototype,{then:vl,_then:function(l,u){Ya(this,new is(null,null,l,u,Oe))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:us)(h)}):this.then(null,function(h){return(h&&h.name===u?f:us)(h)}))},finally:function(l){return this.then(function(u){return De.resolve(l()).then(function(){return u})},function(u){return De.resolve(l()).then(function(){return us(u)})})},timeout:function(l,u){var f=this;return l<1/0?new De(function(h,y){var b=setTimeout(function(){return y(new je.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(De.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=Qi(),Z(De,{all:function(){var l=G.apply(null,arguments).map(jl);return new De(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return De.resolve(y).then(function(j){l[b]=j,--h||u(l)},f)})})},resolve:function(l){return l instanceof De?l:l&&typeof l.then=="function"?new De(function(u,f){l.then(u,f)}):new De(Fe,!0,l)},reject:us,race:function(){var l=G.apply(null,arguments).map(jl);return new De(function(u,f){l.map(function(h){return De.resolve(h).then(u,f)})})},PSD:{get:function(){return Oe},set:function(l){return Oe=l}},totalEchoes:{get:function(){return cs}},newPSD:Kt,usePSD:Xn,scheduler:{get:function(){return Dn},set:function(l){Dn=l}},rejectionMapper:{get:function(){return Ct},set:function(l){Ct=l}},follow:function(l,u){return new De(function(f,h){return Kt(function(y,b){var j=Oe;j.unhandleds=[],j.onunhandled=b,j.finalize=Ot(function(){var N,D=this;N=function(){D.unhandleds.length===0?y():b(D.unhandleds[0])},Ls.push(function K(){N(),Ls.splice(Ls.indexOf(K),1)}),++Qa,Dn(function(){--Qa==0&&Li()},[])},j.finalize),l()},u,f,h)})}}),mn&&(mn.allSettled&&$(De,"allSettled",function(){var l=G.apply(null,arguments).map(jl);return new De(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return De.resolve(y).then(function(j){return h[b]={status:"fulfilled",value:j}},function(j){return h[b]={status:"rejected",reason:j}}).then(function(){return--f||u(h)})})})}),mn.any&&typeof AggregateError<"u"&&$(De,"any",function(){var l=G.apply(null,arguments).map(jl);return new De(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,j){return De.resolve(b).then(function(N){return u(N)},function(N){y[j]=N,--h||f(new AggregateError(y))})})})}),mn.withResolvers)&&(De.withResolvers=mn.withResolvers);var Wt={awaits:0,echoes:0,id:0},Ki=0,Sl=[],os=0,cs=0,Ca=0;function Kt(l,j,f,h){var y=Oe,b=Object.create(y),j=(b.parent=y,b.ref=0,b.global=!1,b.id=++Ca,Ut.env,b.env=sn?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},j&&U(b,j),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Xn(b,l,f,h));return b.ref===0&&b.finalize(),j}function It(){return Wt.id||(Wt.id=++Ki),++Wt.awaits,Wt.echoes+=lt,Wt.id}function Tn(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*lt,!0)}function jl(l){return Wt.echoes&&l&&l.constructor===mn?(It(),l.then(function(u){return Tn(),u},function(u){return Tn(),Mt(u)})):l}function ko(){var l=Sl[Sl.length-1];Sl.pop(),Aa(l,!1)}function Aa(l,u){var f,h,y=Oe;(u?!Wt.echoes||os++&&l===Oe:!os||--os&&l===Oe)||queueMicrotask(u?(function(b){++cs,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Sl.push(Oe),Aa(b,!0)}).bind(null,l):ko),l!==Oe&&(Oe=l,y===Ut&&(Ut.env=Qi()),sn)&&(f=Ut.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(v,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Qi(){var l=v.Promise;return sn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Xn(l,u,f,h,y){var b=Oe;try{return Aa(l,!0),u(f,h,y)}finally{Aa(b,!1)}}function Ks(l,u,f,h){return typeof l!="function"?l:function(){var y=Oe;f&&It(),Aa(u,!0);try{return l.apply(this,arguments)}finally{Aa(y,!1),h&&queueMicrotask(Tn)}}}function Oa(l){Promise===mn&&Wt.echoes===0?os===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+el).indexOf("[native code]")===-1&&(It=Tn=Ge);var Mt=De.reject,Gn="",Nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Xa=[],fs="__dbnames",xa="readonly",Da="readwrite";function Ga(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Yi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ds(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=gt(u))[l],u}}function Ir(){throw je.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(l,u){try{var f=hs(l),h=hs(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=aa(l),b=aa(u),j=y.length,N=b.length,D=j<N?j:N,K=0;K<D;++K)if(y[K]!==b[K])return y[K]<b[K]?-1:1;return j===N?0:j<N?-1:1;case"Array":for(var T=l,O=u,k=T.length,q=O.length,M=k<q?k:q,z=0;z<M;++z){var Y=it(T[z],O[z]);if(Y!==0)return Y}return k===q?0:k<q?-1:1}}catch{}return NaN}function hs(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=qe(l))==="ArrayBuffer")?"binary":u}function aa(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function xn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}eu.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(w(f))return g(g([],w(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(w(h))return w(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var wl=eu;function eu(l){this["@@propmod"]=l}function Qs(l,u){for(var f=S(u),h=f.length,y=!1,b=0;b<h;++b){var j=f[b],N=u[j],D=ve(l,j);N instanceof wl?(Se(l,j,N.execute(D)),y=!0):D!==N&&(Se(l,j,N),y=!0)}return y}Nt.prototype._trans=function(l,u,f){var h=this._tx||Oe.trans,y=this.name,b=ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(K,T,O){if(O.schema[y])return u(O.idbtrans,O);throw new je.NotFound("Table "+y+" not part of transaction")}var N=Ea();try{var D=h&&h.db._novip===this.db._novip?h===Oe.trans?h._promise(l,j,f):Kt(function(){return h._promise(l,j,f)},{trans:h,transless:Oe.transless||Oe}):(function K(T,O,k,q){if(T.idbdb&&(T._state.openComplete||Oe.letThrough||T._vip)){var M=T._createTransaction(O,k,T._dbSchema);try{M.create(),T._state.PR1398_maxLoop=3}catch(z){return z.name===Ft.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,O,k,q)})):Mt(z)}return M._promise(O,function(z,Y){return Kt(function(){return Oe.trans=M,q(z,Y,M)})}).then(function(z){if(O==="readwrite")try{M.idbtrans.commit()}catch{}return O==="readonly"?z:M._completion.then(function(){return z})})}if(T._state.openComplete)return Mt(new je.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return Mt(new je.DatabaseClosed);T.open().catch(Ge)}return T._state.dbReadyPromise.then(function(){return K(T,O,k,q)})})(this.db,l,[this.name],j);return b&&(D._consoleTask=b,D=D.catch(function(K){return console.trace(K),Mt(K)})),D}finally{N&&na()}},Nt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Mt(new je.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(w(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=S(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(K){return 0<=N.keyPath.indexOf(K)})){for(var D=0;D<u.length;++D)if(u.indexOf(N.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(N,D){return N.keyPath.length-D.keyPath.length})[0];if(f&&this.db._maxKey!==Gn)return j=f.keyPath.slice(0,u.length),this.where(j).equals(j.map(function(N){return l[N]}));!f&&ke&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(N,D){return it(N,D)===0}var j=u.reduce(function(T,D){var K=T[0],T=T[1],O=h[D],k=l[D];return[K||O,K||!O?Ga(T,O&&O.multi?function(q){return q=ve(q,D),w(q)&&q.some(function(M){return y(k,M)})}:function(q){return y(k,ve(q,D))}):T]},[null,null]),b=j[0],j=j[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(j):f?this.filter(j):this.where(u).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,w(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Ir&&(l=(j=>{var N=T,D=j;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function K(){this.constructor=N}function T(){return j!==null&&j.apply(this,arguments)||this}return m(N,D),N.prototype=D===null?Object.create(D):(K.prototype=D.prototype,new K),Object.defineProperty(T.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),T.prototype.table=function(){return f},T})(l)),new Set),y=l.prototype;y;y=C(y))Object.getOwnPropertyNames(y).forEach(function(j){return h.add(j)});function b(j){if(!j)return j;var N,D=Object.create(l.prototype);for(N in j)if(!h.has(N))try{D[N]=j[N]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){U(this,l)})},Nt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=ds(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:u!=null?[u]:null,values:[j]})}).then(function(N){return N.numFailures?De.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{Se(l,b,N)}catch{}return N})},Nt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var j=b??{};return Qs(j,u),h&&Se(j,h,l),f.core.mutate({trans:y,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(N){return N.numFailures?De.reject(N.failures[0]):!!b})})})},Nt.prototype.update=function(l,u){return typeof l!="object"||w(l)?this.where(":id").equals(l).modify(u):(l=ve(l,this.schema.primKey.keyPath))===void 0?Mt(new je.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},Nt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=ds(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[j],keys:u!=null?[u]:null})}).then(function(N){return N.numFailures?De.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{Se(l,b,N)}catch{}return N})},Nt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return xn(u,[l],h)}).then(function(h){return h.numFailures?De.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Yi}).then(function(f){return xn(l,null,f)})}).then(function(u){return u.numFailures?De.reject(u.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=N&&K?l.map(ds(N)):l;return h.core.mutate({trans:j,type:"add",keys:y,values:K,wantResults:b}).then(function(T){var O=T.numFailures,k=T.failures;if(O===0)return b?T.results:T.lastResult;throw new vt("".concat(h.name,".bulkAdd(): ").concat(O," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=N&&K?l.map(ds(N)):l;return h.core.mutate({trans:j,type:"put",keys:y,values:K,wantResults:b}).then(function(T){var O=T.numFailures,k=T.failures;if(O===0)return b?T.results:T.lastResult;throw new vt("".concat(h.name,".bulkPut(): ").concat(O," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(j){return j.key}),y=l.map(function(j){return j.changes}),b=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:h,cache:"clone"}).then(function(N){var D=[],K=[],T=(l.forEach(function(O,k){var q=O.key,M=O.changes,z=N[k];if(z){for(var Y=0,J=Object.keys(M);Y<J.length;Y++){var Q=J[Y],ae=M[Q];if(Q===u.schema.primKey.keyPath){if(it(ae,q)!==0)throw new je.Constraint("Cannot update primary key in bulkUpdate()")}else Se(z,Q,ae)}b.push(k),D.push(q),K.push(z)}}),D.length);return f.mutate({trans:j,type:"put",keys:D,values:K,updates:{keys:h,changeSpecs:y}}).then(function(O){var k=O.numFailures,q=O.failures;if(k===0)return T;for(var M=0,z=Object.keys(q);M<z.length;M++){var Y,J=z[M],Q=b[Number(J)];Q!=null&&(Y=q[J],delete q[J],q[Q]=Y)}throw new vt("".concat(u.name,".bulkUpdate(): ").concat(k," of ").concat(T," operations failed"),q)})})})},Nt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return xn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new vt("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Xi=Nt;function Nt(){}function ms(l){function u(j,N){if(N){for(var D=arguments.length,K=new Array(D-1);--D;)K[D-1]=arguments[D];return f[j].subscribe.apply(null,K),l}if(typeof j=="string")return f[j]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(j,N,D){var K,T;if(typeof j!="object")return N=N||tt,T={subscribers:[],fire:D=D||Ge,subscribe:function(O){T.subscribers.indexOf(O)===-1&&(T.subscribers.push(O),T.fire=N(T.fire,O))},unsubscribe:function(O){T.subscribers=T.subscribers.filter(function(k){return k!==O}),T.fire=T.subscribers.reduce(N,D)}},f[j]=u[j]=T;S(K=j).forEach(function(O){var k=K[O];if(w(k))b(O,K[O][0],K[O][1]);else{if(k!=="asap")throw new je.InvalidArgument("Invalid event config");var q=b(O,dt,function(){for(var M=arguments.length,z=new Array(M);M--;)z[M]=arguments[M];q.subscribers.forEach(function(Y){be(function(){Y.apply(null,z)})})})}})}}function pn(l,u){return oe(u).from({prototype:l}),u}function Ta(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Ys(l,u){l.filter=Ga(l.filter,u)}function ps(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Ga(h(),u())}:u,l.justLimit=f&&!h}function va(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new je.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Gi(l,u,f){var h=va(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function ys(l,u,f,h){var y,b,j=l.replayFilter?Ga(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(N,D,K){var T,O;j&&!j(D,K,function(k){return D.stop(k)},function(k){return D.fail(k)})||((O=""+(T=D.primaryKey))=="[object ArrayBuffer]"&&(O=""+new Uint8Array(T)),A(y,O))||(y[O]=!0,u(N,D,K))},Promise.all([l.or._iterate(b,f),Va(Gi(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Va(Gi(l,h,f),Ga(l.algorithm,j),u,!l.keysOnly&&l.valueMapper)}function Va(l,u,f,h){var y=Ht(h?function(b,j,N){return f(h(b),j,N)}:f);return l.then(function(b){if(b)return b.start(function(){var j=function(){return b.continue()};u&&!u(b,function(N){return j=N},function(N){b.stop(N),j=Ge},function(N){b.fail(N),j=Ge})||y(b.value,b,function(N){return j=N}),j()})})}pt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Mt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},pt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Mt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},pt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Ga(u.algorithm,l)},pt.prototype._iterate=function(l,u){return ys(this._ctx,l,u,this._ctx.table.core)},pt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&U(f,l),u._ctx=f,u},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return ys(u,l,f,u.table.core)})},pt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Ta(y,!0)?b.count({trans:f,query:{index:va(y,b.schema),range:y.range}}).then(function(j){return Math.min(j,y.limit)}):(h=0,ys(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},pt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(D,K){return K?b(D[f[K]],K-1):D[h]}var j=this._ctx.dir==="next"?1:-1;function N(D,K){return it(b(D,y),b(K,y))*j}return this.toArray(function(D){return D.sort(N)}).then(u)},pt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,j=u._ctx;return j.dir==="next"&&Ta(j,!0)&&0<j.limit?(h=j.valueMapper,y=va(j,j.table.core.schema),j.table.core.query({trans:f,limit:j.limit,values:!0,query:{index:y,range:j.range}}).then(function(N){return N=N.result,h?N.map(h):N})):(b=[],ys(j,function(N){return b.push(N)},f,j.table.core).then(function(){return b}))},l)},pt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Ta(u)?ps(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ps(u,function(){var f=l;return function(){return--f<0}})),this},pt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ps(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},pt.prototype.until=function(l,u){return Ys(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},pt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},pt.prototype.last=function(l){return this.reverse().first(l)},pt.prototype.filter=function(l){var u;return Ys(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Ga(u.isMatch,l),this},pt.prototype.and=function(l){return this.filter(l)},pt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},pt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},pt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},pt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},pt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Ta(u,!0)&&0<u.limit)return this._read(function(h){var y=va(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},pt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},pt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},pt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},pt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Ys(this._ctx,function(h){var h=h.primaryKey.toString(),y=A(l,h);return l[h]=!0,!y})),this},pt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(z,Y){var J=Y.failures;k+=z-Y.numFailures;for(var Q=0,ae=S(J);Q<ae.length;Q++){var fe=ae[Q];O.push(J[fe])}}var b=typeof l=="function"?l:function(z){return Qs(z,l)},j=f.table.core,T=j.schema.primaryKey,N=T.outbound,D=T.extractKey,K=200,T=u.db._options.modifyChunkSize,O=(T&&(K=typeof T=="object"?T[j.name]||T["*"]||200:T),[]),k=0,q=[],M=l===Vi;return u.clone().primaryKeys().then(function(z){function Y(Q){var ae=Math.min(K,z.length-Q),fe=z.slice(Q,Q+ae);return(M?Promise.resolve([]):j.getMany({trans:h,keys:fe,cache:"immutable"})).then(function(Ee){var Ce=[],de=[],Re=N?[]:null,Te=M?fe:[];if(!M)for(var he=0;he<ae;++he){var Be=Ee[he],We={value:gt(Be),primKey:z[Q+he]};b.call(We,We.value,We)!==!1&&(We.value==null?Te.push(z[Q+he]):N||it(D(Be),D(We.value))===0?(de.push(We.value),N&&Re.push(z[Q+he])):(Te.push(z[Q+he]),Ce.push(We.value)))}return Promise.resolve(0<Ce.length&&j.mutate({trans:h,type:"add",values:Ce}).then(function(ut){for(var Ye in ut.failures)Te.splice(parseInt(Ye),1);y(Ce.length,ut)})).then(function(){return(0<de.length||J&&typeof l=="object")&&j.mutate({trans:h,type:"put",keys:Re,values:de,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Q}).then(function(ut){return y(de.length,ut)})}).then(function(){return(0<Te.length||J&&M)&&j.mutate({trans:h,type:"delete",keys:Te,criteria:J,isAdditionalChunk:0<Q}).then(function(ut){return xn(f.table,Te,ut)}).then(function(ut){return y(Te.length,ut)})}).then(function(){return z.length>Q+ae&&Y(Q+K)})})}var J=Ta(f)&&f.limit===1/0&&(typeof l!="function"||M)&&{index:f.index,range:f.range};return Y(0).then(function(){if(0<O.length)throw new at("Error modifying one or more objects",O,k,q);return z.length})})})},pt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Ta(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Vi):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(D){var N=D.failures,D=D.numFailures;if(D)throw new at("Could not delete some values",Object.keys(N).map(function(K){return N[K]}),b-D);return b-D})})})};var Ro=pt;function pt(){}var Vi=function(l,u){return u.value=null};function Fi(l,u){return l<u?-1:l===u?0:1}function Bo(l,u){return u<l?-1:l===u?0:1}function Mn(l,u,f){return l=l instanceof Fa?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function Sa(l){return new l.Collection(l,function(){return Xs("")}).limit(0)}function Rn(q,u,f,h){var y,b,j,N,D,K,T,O=f.length;if(!f.every(function(z){return typeof z=="string"}))return Mn(q,en);function k(z){y=z==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=z==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},j=z==="next"?Fi:Bo;var Y=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,Q){return j(J.lower,Q.lower)});N=Y.map(function(J){return J.upper}),D=Y.map(function(J){return J.lower}),T=(K=z)==="next"?"":h}k("next");var q=new q.Collection(q,function(){return la(N[0],D[O-1]+h)}),M=(q._ondirectionchange=function(z){k(z)},0);return q._addAlgorithm(function(z,Y,J){var Q=z.key;if(typeof Q=="string"){var ae=b(Q);if(u(ae,D,M))return!0;for(var fe=null,Ee=M;Ee<O;++Ee){var Ce=((de,Re,Te,he,Be,We)=>{for(var ut=Math.min(de.length,he.length),Ye=-1,et=0;et<ut;++et){var zt=Re[et];if(zt!==he[et])return Be(de[et],Te[et])<0?de.substr(0,et)+Te[et]+Te.substr(et+1):Be(de[et],he[et])<0?de.substr(0,et)+he[et]+Te.substr(et+1):0<=Ye?de.substr(0,Ye)+Re[Ye]+Te.substr(Ye+1):null;Be(de[et],zt)<0&&(Ye=et)}return ut<he.length&&We==="next"?de+Te.substr(de.length):ut<de.length&&We==="prev"?de.substr(0,Te.length):Ye<0?null:de.substr(0,Ye)+he[Ye]+Te.substr(Ye+1)})(Q,ae,N[Ee],D[Ee],j,K);Ce===null&&fe===null?M=Ee+1:(fe===null||0<j(fe,Ce))&&(fe=Ce)}Y(fe!==null?function(){z.continue(fe+T)}:J)}return!1}),q}function la(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Xs(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?Sa(this):new this.Collection(this,function(){return la(l,u,!f,!h)})}catch{return Mn(this,Nn)}},Yt.prototype.equals=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return Xs(l)})},Yt.prototype.above=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(l,void 0,!0)})},Yt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(l,void 0,!1)})},Yt.prototype.below=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(void 0,l,!1,!0)})},Yt.prototype.belowOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(void 0,l)})},Yt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,en):this.between(l,l+Gn,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Rn(this,function(u,f){return u.indexOf(f[0])===0},[l],Gn)},Yt.prototype.equalsIgnoreCase=function(l){return Rn(this,function(u,f){return u===f[0]},[l],"")},Yt.prototype.anyOfIgnoreCase=function(){var l=G.apply(Ne,arguments);return l.length===0?Sa(this):Rn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var l=G.apply(Ne,arguments);return l.length===0?Sa(this):Rn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Gn)},Yt.prototype.anyOf=function(){var l,u,f=this,h=G.apply(Ne,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,Nn)}return h.length===0?Sa(this):((l=new this.Collection(this,function(){return la(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,j,N){for(var D=b.key;0<y(D,h[u]);)if(++u===h.length)return j(N),!1;return y(D,h[u])===0||(j(function(){b.continue(h[u])}),!1)}),l)},Yt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var l=G.apply(Ne,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,Nn)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,j=this._min,N=this._max;if(l.length===0)return Sa(this);if(!l.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&y(Q[0],Q[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",je.InvalidArgument);var D=!J||J.includeLowers!==!1,K=J&&J.includeUppers===!0,T,O=y;function k(Q,ae){return O(Q[0],ae[0])}try{(T=l.reduce(function(Q,ae){for(var fe=0,Ee=Q.length;fe<Ee;++fe){var Ce=Q[fe];if(h(ae[0],Ce[1])<0&&0<h(ae[1],Ce[0])){Ce[0]=j(Ce[0],ae[0]),Ce[1]=N(Ce[1],ae[1]);break}}return fe===Ee&&Q.push(ae),Q},[])).sort(k)}catch{return Mn(this,Nn)}var q=0,M=K?function(Q){return 0<y(Q,T[q][1])}:function(Q){return 0<=y(Q,T[q][1])},z=D?function(Q){return 0<b(Q,T[q][0])}:function(Q){return 0<=b(Q,T[q][0])},Y=M,J=new this.Collection(this,function(){return la(T[0][0],T[T.length-1][1],!D,!K)});return J._ondirectionchange=function(Q){O=Q==="next"?(Y=M,y):(Y=z,b),T.sort(k)},J._addAlgorithm(function(Q,ae,fe){for(var Ee,Ce=Q.key;Y(Ce);)if(++q===T.length)return ae(fe),!1;return!M(Ee=Ce)&&!z(Ee)||(f._cmp(Ce,T[q][1])===0||f._cmp(Ce,T[q][0])===0||ae(function(){O===y?Q.continue(T[q][0]):Q.continue(T[q][1])}),!1)}),J},Yt.prototype.startsWithAnyOf=function(){var l=G.apply(Ne,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?Sa(this):this.inAnyRange(l.map(function(u){return[u,u+Gn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Fa=Yt;function Yt(){}function Vn(l){return Ht(function(u){return Za(u),l(u.target.error),!1})}function Za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Nl="storagemutated",$a="x-storagemutated-1",yn=ms(null,Nl),Zi=(_n.prototype._lock=function(){return se(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},_n.prototype._unlock=function(){if(se(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Xn(l[1],l[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},_n.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(se(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new je.DatabaseClosed(h);case"MissingAPIError":throw new je.MissingAPI(h.message,h);default:throw new je.OpenFailed(h)}if(!this.active)throw new je.TransactionInactive;se(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ht(function(y){Za(y),u._reject(l.error)}),l.onabort=Ht(function(y){Za(y),u.active&&u._reject(new je.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Ht(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},_n.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Mt(new je.ReadOnly("Transaction is readonly")):this.active?this._locked()?new De(function(b,j){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,j)},Oe])}):f?Kt(function(){var b=new De(function(j,N){y._lock();var D=u(j,N,y);D&&D.then&&D.then(j,N)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new De(function(b,j){var N=u(b,j,y);N&&N.then&&N.then(b,j)}))._lib=!0,h):Mt(new je.TransactionInactive)},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(l){var u,f=this._root(),h=De.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new De(function(b,j){h.then(function(N){return f._waitingQueue.push(Ht(b.bind(null,N)))},function(N){return f._waitingQueue.push(Ht(j.bind(null,N)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new je.Abort))},_n.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(A(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new je.NotFound("Table "+l+" not part of transaction")},_n);function _n(){}function sa(l,u,f,h,y,b,j,N){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!j?"&":"")+(h?"*":"")+(y?"++":"")+Gs(u),type:N}}function Gs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function _l(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,j){return b=h(b,j),b&&(y[b[0]]=b[1]),y},{}))};var h}var El=function(l){try{return l.only([[]]),El=function(){return[[]]},[[]]}catch{return El=function(){return Gn},Gn}};function Cl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return ve(f,u)}:function(f){return ve(f,l)};var u}function gs(l){return[].slice.call(l)}var tu=0;function rn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ja(l,u,D){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=M.lower,k=M.upper,q=M.lowerOpen,M=M.upperOpen;return O===void 0?k===void 0?null:u.upperBound(k,!!M):k===void 0?u.lowerBound(O,!!q):u.bound(O,k,!!q,!!M)}function y(T){var O,k=T.name;return{name:k,schema:T,mutate:function(q){var M=q.trans,z=q.type,Y=q.keys,J=q.values,Q=q.range;return new Promise(function(ae,fe){ae=Ht(ae);var Ee=M.objectStore(k),Ce=Ee.keyPath==null,de=z==="put"||z==="add";if(!de&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var Re,Te=(Y||J||{length:1}).length;if(Y&&J&&Y.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function he(At){++ut,Za(At)}var Be=[],We=[],ut=0;if(z==="deleteRange"){if(Q.type===4)return ae({numFailures:ut,failures:We,results:[],lastResult:void 0});Q.type===3?Be.push(Re=Ee.clear()):Be.push(Re=Ee.delete(h(Q)))}else{var Ce=de?Ce?[J,Y]:[J,null]:[Y,null],Ye=Ce[0],et=Ce[1];if(de)for(var zt=0;zt<Te;++zt)Be.push(Re=et&&et[zt]!==void 0?Ee[z](Ye[zt],et[zt]):Ee[z](Ye[zt])),Re.onerror=he;else for(zt=0;zt<Te;++zt)Be.push(Re=Ee[z](Ye[zt])),Re.onerror=he}function Cn(At){At=At.target.result,Be.forEach(function(Ra,zl){return Ra.error!=null&&(We[zl]=Ra.error)}),ae({numFailures:ut,failures:We,results:z==="delete"?Y:Be.map(function(Ra){return Ra.result}),lastResult:At})}Re.onerror=function(At){he(At),Cn(At)},Re.onsuccess=Cn})},getMany:function(q){var M=q.trans,z=q.keys;return new Promise(function(Y,J){Y=Ht(Y);for(var Q,ae=M.objectStore(k),fe=z.length,Ee=new Array(fe),Ce=0,de=0,Re=function(Be){Be=Be.target,Ee[Be._pos]=Be.result,++de===Ce&&Y(Ee)},Te=Vn(J),he=0;he<fe;++he)z[he]!=null&&((Q=ae.get(z[he]))._pos=he,Q.onsuccess=Re,Q.onerror=Te,++Ce);Ce===0&&Y(Ee)})},get:function(q){var M=q.trans,z=q.key;return new Promise(function(Y,J){Y=Ht(Y);var Q=M.objectStore(k).get(z);Q.onsuccess=function(ae){return Y(ae.target.result)},Q.onerror=Vn(J)})},query:(O=N,function(q){return new Promise(function(M,z){M=Ht(M);var Y,J,Q,de=q.trans,ae=q.values,fe=q.limit,Ce=q.query,Ee=fe===1/0?void 0:fe,Re=Ce.index,Ce=Ce.range,de=de.objectStore(k),de=Re.isPrimaryKey?de:de.index(Re.name),Re=h(Ce);if(fe===0)return M({result:[]});O?((Ce=ae?de.getAll(Re,Ee):de.getAllKeys(Re,Ee)).onsuccess=function(Te){return M({result:Te.target.result})},Ce.onerror=Vn(z)):(Y=0,J=!ae&&"openKeyCursor"in de?de.openKeyCursor(Re):de.openCursor(Re),Q=[],J.onsuccess=function(Te){var he=J.result;return!he||(Q.push(ae?he.value:he.primaryKey),++Y===fe)?M({result:Q}):void he.continue()},J.onerror=Vn(z))})}),openCursor:function(q){var M=q.trans,z=q.values,Y=q.query,J=q.reverse,Q=q.unique;return new Promise(function(ae,fe){ae=Ht(ae);var de=Y.index,Ee=Y.range,Ce=M.objectStore(k),Ce=de.isPrimaryKey?Ce:Ce.index(de.name),de=J?Q?"prevunique":"prev":Q?"nextunique":"next",Re=!z&&"openKeyCursor"in Ce?Ce.openKeyCursor(h(Ee),de):Ce.openCursor(h(Ee),de);Re.onerror=Vn(fe),Re.onsuccess=Ht(function(Te){var he,Be,We,ut,Ye=Re.result;Ye?(Ye.___id=++tu,Ye.done=!1,he=Ye.continue.bind(Ye),Be=(Be=Ye.continuePrimaryKey)&&Be.bind(Ye),We=Ye.advance.bind(Ye),ut=function(){throw new Error("Cursor not stopped")},Ye.trans=M,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Ht(fe),Ye.next=function(){var et=this,zt=1;return this.start(function(){return zt--?et.continue():et.stop()}).then(function(){return et})},Ye.start=function(et){function zt(){if(Re.result)try{et()}catch(At){Ye.fail(At)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var Cn=new Promise(function(At,Ra){At=Ht(At),Re.onerror=Vn(Ra),Ye.fail=Ra,Ye.stop=function(zl){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=ut,At(zl)}});return Re.onsuccess=Ht(function(At){Re.onsuccess=zt,zt()}),Ye.continue=he,Ye.continuePrimaryKey=Be,Ye.advance=We,zt(),Cn},ae(Ye)):ae(null)},fe)})},count:function(q){var M=q.query,z=q.trans,Y=M.index,J=M.range;return new Promise(function(Q,ae){var fe=z.objectStore(k),fe=Y.isPrimaryKey?fe:fe.index(Y.name),Ee=h(J),Ee=Ee?fe.count(Ee):fe.count();Ee.onsuccess=Ht(function(Ce){return Q(Ce.target.result)}),Ee.onerror=Vn(ae)})}}}b=D,j=gs((D=l).objectStoreNames);var b,D={schema:{name:D.name,tables:j.map(function(T){return b.objectStore(T)}).map(function(T){var O=T.keyPath,k=T.autoIncrement,M=w(O),q={},M={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:M,keyPath:O,autoIncrement:k,unique:!0,extractKey:Cl(O)},indexes:gs(T.indexNames).map(function(z){return T.index(z)}).map(function(Q){var ae=Q.name,Y=Q.unique,J=Q.multiEntry,Q=Q.keyPath,ae={name:ae,compound:w(Q),keyPath:Q,unique:Y,multiEntry:J,extractKey:Cl(Q)};return q[rn(Q)]=ae}),getIndexByKeyPath:function(z){return q[rn(z)]}};return q[":id"]=M.primaryKey,O!=null&&(q[rn(O)]=M.primaryKey),M})},hasGetAll:0<j.length&&"getAll"in b.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},j=D.schema,N=D.hasGetAll,D=j.tables.map(y),K={};return D.forEach(function(T){return K[T.name]=T}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(T){if(K[T])return K[T];throw new Error("Table '".concat(T,"' not found"))},MIN_KEY:-1/0,MAX_KEY:El(u),schema:j}}function Vs(l,u,f,h){return f=f.IDBKeyRange,u=Ja(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Ma(l,u){var f=u.db,f=Vs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Fs(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(j){var N=(function D(K,T){return W(K,T)||(K=C(K))&&D(K,T)})(j,y);(!N||"value"in N&&N.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?$(j,y,{get:function(){return this.table(y)},set:function(D){ye(this,y,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):j[y]=new l.Table(y,b))})})}function bs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function $i(l,u){return l._cfg.version-u._cfg.version}function xs(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=_l("$meta",au("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),j=(b.create(f),b._completion.catch(h),b._reject.bind(b)),N=Oe.transless||Oe;Kt(function(){if(Oe.trans=b,Oe.transless=N,u!==0)return Ma(l,f),K=u,((D=b).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(T){return T??K}):De.resolve(K)).then(function(Y){var O=l,k=Y,q=b,M=f,z=[],Y=O._versions,J=O._dbSchema=Al(0,O.idbdb,M);return(Y=Y.filter(function(Q){return Q._cfg.version>=k})).length===0?De.resolve():(Y.forEach(function(Q){z.push(function(){var ae,fe,Ee,Ce=J,de=Q._cfg.dbschema,Re=(Ps(O,Ce,M),Ps(O,de,M),J=O._dbSchema=de,$s(Ce,de)),Te=(Re.add.forEach(function(he){Ji(M,he[0],he[1].primKey,he[1].indexes)}),Re.change.forEach(function(he){if(he.recreate)throw new je.Upgrade("Not yet support for changing primary key");var Be=M.objectStore(he.name);he.add.forEach(function(We){return Js(Be,We)}),he.change.forEach(function(We){Be.deleteIndex(We.name),Js(Be,We)}),he.del.forEach(function(We){return Be.deleteIndex(We)})}),Q._cfg.contentUpgrade);if(Te&&Q._cfg.version>k)return Ma(O,M),q._memoizedTables={},ae=Ie(de),Re.del.forEach(function(he){ae[he]=Ce[he]}),bs(O,[O.Transaction.prototype]),Fs(O,[O.Transaction.prototype],S(ae),ae),q.schema=ae,(fe=E(Te))&&It(),de=De.follow(function(){var he;(Ee=Te(q))&&fe&&(he=Tn.bind(null,null),Ee.then(he,he))}),Ee&&typeof Ee.then=="function"?De.resolve(Ee):de.then(function(){return Ee})}),z.push(function(ae){var fe,Ee,Ce=Q._cfg.dbschema;fe=Ce,Ee=ae,[].slice.call(Ee.db.objectStoreNames).forEach(function(de){return fe[de]==null&&Ee.db.deleteObjectStore(de)}),bs(O,[O.Transaction.prototype]),Fs(O,[O.Transaction.prototype],O._storeNames,O._dbSchema),q.schema=O._dbSchema}),z.push(function(ae){O.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(O.idbdb.version/10)===Q._cfg.version?(O.idbdb.deleteObjectStore("$meta"),delete O._dbSchema.$meta,O._storeNames=O._storeNames.filter(function(fe){return fe!=="$meta"})):ae.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return z.length?De.resolve(z.shift()(q.idbtrans)).then(Q):De.resolve()})().then(function(){nu(J,M)}))}).catch(j);var D,K;S(y).forEach(function(T){Ji(f,T,y[T].primKey,y[T].indexes)}),Ma(l,f),De.follow(function(){return l.on.populate.fire(b)}).catch(j)})}function Zs(l,u){nu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Al(0,l.idbdb,u);Ps(l,l._dbSchema,u);for(var h=0,y=$s(f,l._dbSchema).change;h<y.length;h++){var b=(j=>{if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(j.name);j.add.forEach(function(D){ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(D.src)),Js(N,D)})})(y[h]);if(typeof b=="object")return b.value}}function $s(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var j={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)j.recreate=!0,h.change.push(j);else{var N=y.idxByName,D=b.idxByName,K=void 0;for(K in N)D[K]||j.del.push(K);for(K in D){var T=N[K],O=D[K];T?T.src!==O.src&&j.change.push(O):j.add.push(O)}(0<j.del.length||0<j.add.length||0<j.change.length)&&h.change.push(j)}}else h.add.push([f,b])}return h}function Ji(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Js(y,b)})}function nu(l,u){S(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(ke&&console.debug("Dexie: Creating missing table",f),Ji(u,f,l[f].primKey,l[f].indexes))})}function Js(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Al(l,u,f){var h={};return ge(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),j=sa(Gs(K=b.keyPath),K||"",!0,!1,!!b.autoIncrement,K&&typeof K!="string",!0),N=[],D=0;D<b.indexNames.length;++D){var T=b.index(b.indexNames[D]),K=T.keyPath,T=sa(T.name,K,!!T.unique,!!T.multiEntry,!1,K&&typeof K!="string",!1);N.push(T)}h[y]=_l(y,j,N)}),h}function Ps(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],j=f.objectStore(b);l._hasGetAll="getAll"in j;for(var N=0;N<j.indexNames.length;++N){var D,K=j.indexNames[N],T=j.index(K).keyPath,T=typeof T=="string"?T:"["+ge(T).join("+")+"]";u[b]&&(D=u[b].idxByName[T])&&(D.name=K,delete u[b].idxByName[T],u[b].idxByName[K]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function au(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return sa(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),w(b),f===0,h)})}Ol.prototype._createTableSchema=_l,Ol.prototype._parseIndexSyntax=au,Ol.prototype._parseStoresSpec=function(l,u){var f=this;S(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new je.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new je.Schema("Primary key cannot be multiEntry*");y.forEach(function(j){if(j.auto)throw new je.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new je.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},Ol.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?U(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){U(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,bs(u,[u._allTables,u,u.Transaction.prototype]),Fs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],S(y),y),u._storeNames=S(y),this},Ol.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Ge,l),this};var qo=Ol;function Ol(){}function Pi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new ia(fs,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ws(l){return l&&typeof l.databases=="function"}function Wi(l){return Kt(function(){return Oe.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var gn=function(l,u){var f;if(!this)return f=new gn,l&&"d"in l&&U(f,l),f;U(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function vs(l,u,f){var h=it(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return U(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(it(f,l.from)<0)return h?vs(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},su(l);if(0<it(u,l.to))return y?vs(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},su(l);it(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<it(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Pa(l,h),y&&u&&Pa(l,y)}}function Pa(l,u){Ii(u)||(function f(h,y){var b=y.from,j=y.l,N=y.r;vs(h,b,y.to),j&&f(h,j),N&&f(h,N)})(l,u)}function lu(l,u){var f=Is(u),h=f.next();if(!h.done)for(var y=h.value,b=Is(l),j=b.next(y.from),N=j.value;!h.done&&!j.done;){if(it(N.from,y.to)<=0&&0<=it(N.to,y.from))return!0;it(y.from,N.from)<0?y=(h=f.next(N.from)).value:N=(j=b.next(y.from)).value}return!1}function Is(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&it(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||it(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function su(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=er(f)),l.d=er(l)}function er(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function ei(l,u){return S(u).forEach(function(f){l[f]?Pa(l[f],u[f]):l[f]=(function h(y){var b,j,N={};for(b in y)A(y,b)&&(j=y[b],N[b]=!j||typeof j!="object"||He.has(j.constructor)?j:h(j));return N})(u[f])}),l}function tr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&lu(u[f],l[f])})}Z(gn.prototype,((Et={add:function(l){return Pa(this,l),this},addKey:function(l){return vs(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return vs(u,f,f)}),this},hasKey:function(l){var u=Is(this).next(l).value;return u&&it(u.from,l)<=0&&0<=it(u.to,l)}})[X]=function(){return Is(this)},Et));var Wa={},nr={},ar=!1;function ti(l){ei(nr,l),ar||(ar=!0,setTimeout(function(){ar=!1,lr(nr,!(nr={}))},0))}function lr(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Wa);h<y.length;h++)iu(N=y[h],l,f,u);else for(var b in l){var j,N,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(j=b[1],b=b[2],N=Wa["idb://".concat(j,"/").concat(b)])&&iu(N,l,f,u)}f.forEach(function(D){return D()})}function iu(l,u,f,h){for(var y=[],b=0,j=Object.entries(l.queries.query);b<j.length;b++){for(var N=j[b],D=N[0],K=[],T=0,O=N[1];T<O.length;T++){var k=O[T];tr(u,k.obsSet)?k.subscribers.forEach(function(Y){return f.add(Y)}):h&&K.push(k)}h&&y.push([D,K])}if(h)for(var q=0,M=y;q<M.length;q++){var z=M[q],D=z[0],K=z[1];l.queries.query[D]=K}}function Uo(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Mt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function j(){if(u.openCanceller!==h)throw new je.DatabaseClosed("db.open() was cancelled")}function N(){return new De(function(k,q){if(j(),!f)throw new je.MissingAPI;var M=l.name,z=u.autoSchema||!y?f.open(M):f.open(M,y);if(!z)throw new je.MissingAPI;z.onerror=Vn(q),z.onblocked=Ht(l._fireOnBlocked),z.onupgradeneeded=Ht(function(Y){var J;T=z.transaction,u.autoSchema&&!l._options.allowEmptyDB?(z.onerror=Za,T.abort(),z.result.close(),(J=f.deleteDatabase(M)).onsuccess=J.onerror=Ht(function(){q(new je.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(T.onerror=Vn(q),J=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,O=J<1,l.idbdb=z.result,b&&Zs(l,T),xs(l,J/10,T,q))},q),z.onsuccess=Ht(function(){T=null;var Y,J,Q,ae,fe,Ee,Ce=l.idbdb=z.result,de=ge(Ce.objectStoreNames);if(0<de.length)try{var Re=Ce.transaction((fe=de).length===1?fe[0]:fe,"readonly");if(u.autoSchema)Ee=Ce,ae=Re,(Q=l).verno=Ee.version/10,ae=Q._dbSchema=Al(0,Ee,ae),Q._storeNames=ge(Ee.objectStoreNames,0),Fs(Q,[Q._allTables],S(ae),ae);else if(Ps(l,l._dbSchema,Re),J=Re,((J=$s(Al(0,(Y=l).idbdb,J),Y._dbSchema)).add.length||J.change.some(function(Te){return Te.add.length||Te.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ce.close(),y=Ce.version+1,b=!0,k(N());Ma(l,Re)}catch{}Xa.push(l),Ce.onversionchange=Ht(function(Te){u.vcFired=!0,l.on("versionchange").fire(Te)}),Ce.onclose=Ht(function(){l.close({disableAutoOpen:!1})}),O&&(de=l._deps,fe=M,Ws(Ee=de.indexedDB)||fe===fs||Pi(Ee,de.IDBKeyRange).put({name:fe}).catch(Ge)),k()},q)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<y)return y=0,N()}return De.reject(k)})}var D,K=u.dbReadyResolve,T=null,O=!1;return De.race([h,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function q(){return indexedDB.databases().finally(k)}D=setInterval(q,100),q()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(N)]).then(function(){return j(),u.onReadyBeingFired=[],De.resolve(Wi(function(){return l.on.ready.fire(l.vip)})).then(function k(){var q;if(0<u.onReadyBeingFired.length)return q=u.onReadyBeingFired.reduce(ne,Ge),u.onReadyBeingFired=[],De.resolve(Wi(function(){return q(l.vip)})).then(k)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(k){u.dbOpenError=k;try{T&&T.abort()}catch{}return h===u.openCanceller&&l._close(),Mt(k)}).finally(function(){u.openComplete=!0,K()}).then(function(){var k;return O&&(k={},l.tables.forEach(function(q){q.schema.indexes.forEach(function(M){M.name&&(k["idb://".concat(l.name,"/").concat(q.name,"/").concat(M.name)]=new gn(-1/0,[[[]]]))}),k["idb://".concat(l.name,"/").concat(q.name,"/")]=k["idb://".concat(l.name,"/").concat(q.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(Nl).fire(k),lr(k,!0)),l})}function Ss(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(N){var N=b(N),D=N.value;return N.done?D:D&&typeof D.then=="function"?D.then(f,h):w(D)?Promise.all(D).then(f,h):f(D)}}return y(u)()}function za(l,u,f){for(var h=w(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function j(k,q,M){var Q=rn(k),z=y[Q]=y[Q]||[],Y=k==null?0:typeof k=="string"?1:k.length,J=0<q,Q=d(d({},M),{name:J?"".concat(Q,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:J,keyTail:q,keyLength:Y,extractKey:Cl(k),unique:!J&&M.unique});return z.push(Q),Q.isPrimaryKey||b.push(Q),1<Y&&j(Y===2?k[0]:k.slice(0,Y-1),q+1,M),z.sort(function(ae,fe){return ae.keyTail-fe.keyTail}),Q}var N=j(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[N];for(var D=0,K=h.indexes;D<K.length;D++){var T=K[D];j(T.keyPath,0,T)}function O(k){var q,M=k.query.index;return M.isVirtual?d(d({},k),{query:{index:M.lowLevelIndex,range:(q=k.query.range,M=M.keyTail,{type:q.type===1?2:q.type,lower:za(q.lower,q.lowerOpen?l.MAX_KEY:l.MIN_KEY,M),lowerOpen:!0,upper:za(q.upper,q.upperOpen?l.MIN_KEY:l.MAX_KEY,M),upperOpen:!0})}}):k}return d(d({},f),{schema:d(d({},h),{primaryKey:N,indexes:b,getIndexByKeyPath:function(k){return(k=y[rn(k)])&&k[0]}}),count:function(k){return f.count(O(k))},query:function(k){return f.query(O(k))},openCursor:function(k){var q=k.query.index,M=q.keyTail,z=q.keyLength;return q.isVirtual?f.openCursor(O(k)).then(function(J){return J&&Y(J)}):f.openCursor(k);function Y(J){return Object.create(J,{continue:{value:function(Q){Q!=null?J.continue(za(Q,k.reverse?l.MAX_KEY:l.MIN_KEY,M)):k.unique?J.continue(J.key.slice(0,z).concat(k.reverse?l.MIN_KEY:l.MAX_KEY,M)):J.continue()}},continuePrimaryKey:{value:function(Q,ae){J.continuePrimaryKey(za(Q,l.MAX_KEY,M),ae)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var Q=J.key;return z===1?Q[0]:Q.slice(0,z)}},value:{get:function(){return J.value}}})}}})}})}};function ni(l,u,f,h){return f=f||{},h=h||"",S(l).forEach(function(y){var b,j,N;A(u,y)?(b=l[y],j=u[y],typeof b=="object"&&typeof j=="object"&&b&&j?(N=qe(b))!==qe(j)?f[h+y]=u[y]:N==="Object"?ni(b,j,f,h+y+"."):b!==j&&(f[h+y]=u[y]):b!==j&&(f[h+y]=u[y])):f[h+y]=void 0}),S(u).forEach(function(y){A(l,y)||(f[h+y]=u[y])}),f}function ai(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Oe.trans,j=b.table(u).hook,N=j.deleting,D=j.creating,K=j.updating;switch(y.type){case"add":if(D.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"put":if(D.fire===Ge&&K.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"delete":if(N.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"deleteRange":if(N.fire===Ge)break;return b._promise("readwrite",function(){return(function O(k,q,M){return f.query({trans:k,values:!1,query:{index:h,range:q},limit:M}).then(function(z){var Y=z.result;return T({type:"delete",keys:Y,trans:k}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):Y.length<M?{failures:[],numFailures:0,lastResult:void 0}:O(k,d(d({},q),{lower:Y[Y.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function T(O){var k,q,M,z=Oe.trans,Y=O.keys||ai(h,O);if(Y)return(O=O.type==="add"||O.type==="put"?d(d({},O),{keys:Y}):d({},O)).type!=="delete"&&(O.values=g([],O.values)),O.keys&&(O.keys=g([],O.keys)),k=f,M=Y,((q=O).type==="add"?Promise.resolve([]):k.getMany({trans:q.trans,keys:M,cache:"immutable"})).then(function(J){var Q=Y.map(function(ae,fe){var Ee,Ce,de,Re=J[fe],Te={onerror:null,onsuccess:null};return O.type==="delete"?N.fire.call(Te,ae,Re,z):O.type==="add"||Re===void 0?(Ee=D.fire.call(Te,ae,O.values[fe],z),ae==null&&Ee!=null&&(O.keys[fe]=ae=Ee,h.outbound||Se(O.values[fe],h.keyPath,ae))):(Ee=ni(Re,O.values[fe]),(Ce=K.fire.call(Te,Ee,ae,Re,z))&&(de=O.values[fe],Object.keys(Ce).forEach(function(he){A(de,he)?de[he]=Ce[he]:Se(de,he,Ce[he])}))),Te});return f.mutate(O).then(function(ae){for(var fe=ae.failures,Ee=ae.results,Ce=ae.numFailures,ae=ae.lastResult,de=0;de<Y.length;++de){var Re=(Ee||Y)[de],Te=Q[de];Re==null?Te.onerror&&Te.onerror(fe[de]):Te.onsuccess&&Te.onsuccess(O.type==="put"&&J[de]?O.values[de]:Re)}return{failures:fe,results:Ee,numFailures:Ce,lastResult:ae}}).catch(function(ae){return Q.forEach(function(fe){return fe.onerror&&fe.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function sr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)it(u.keys[y],l[b])===0&&(h.push(f?gt(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var uu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=sr(h.keys,h.trans._cache,h.cache==="clone"))?De.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?gt(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Ia(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function ou(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Lo={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Oe.subscr&&y!=="readonly")throw new je.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return l.transaction(h,y,b)},table:function(h){function y(Y){var z,Y=Y.query;return[z=Y.index,new gn((z=(Y=Y.range).lower)!=null?z:l.MIN_KEY,(z=Y.upper)!=null?z:l.MAX_KEY)]}var b=l.table(h),j=b.schema,N=j.primaryKey,D=j.indexes,K=N.extractKey,T=N.outbound,O=N.autoIncrement&&D.filter(function(M){return M.compound&&M.keyPath.includes(N.keyPath)}),k=d(d({},b),{mutate:function(M){function z(Be){return Be="idb://".concat(u,"/").concat(h,"/").concat(Be),fe[Be]||(fe[Be]=new gn)}var Y,J,Q,ae=M.trans,fe=M.mutatedParts||(M.mutatedParts={}),Ee=z(""),Ce=z(":dels"),de=M.type,Te=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[ai(N,M).filter(function(Be){return Be}),M.values]:[],Re=Te[0],Te=Te[1],he=M.trans._cache;return w(Re)?(Ee.addKeys(Re),(de=de==="delete"||Re.length===Te.length?sr(Re,he):null)||Ce.addKeys(Re),(de||Te)&&(Y=z,J=de,Q=Te,j.indexes.forEach(function(Be){var We=Y(Be.name||"");function ut(et){return et!=null?Be.extractKey(et):null}function Ye(et){Be.multiEntry&&w(et)?et.forEach(function(zt){return We.addKey(zt)}):We.addKey(et)}(J||Q).forEach(function(et,At){var Cn=J&&ut(J[At]),At=Q&&ut(Q[At]);it(Cn,At)!==0&&(Cn!=null&&Ye(Cn),At!=null)&&Ye(At)})}))):Re?(Te={from:(he=Re.lower)!=null?he:l.MIN_KEY,to:(de=Re.upper)!=null?de:l.MAX_KEY},Ce.add(Te),Ee.add(Te)):(Ee.add(f),Ce.add(f),j.indexes.forEach(function(Be){return z(Be.name).add(f)})),b.mutate(M).then(function(Be){return!Re||M.type!=="add"&&M.type!=="put"||(Ee.addKeys(Be.results),O&&O.forEach(function(We){for(var ut=M.values.map(function(Cn){return We.extractKey(Cn)}),Ye=We.keyPath.findIndex(function(Cn){return Cn===N.keyPath}),et=0,zt=Be.results.length;et<zt;++et)ut[et][Ye]=Be.results[et];z(We.name).addKeys(ut)})),ae.mutatedParts=ei(ae.mutatedParts||{},fe),Be})}}),q={get:function(M){return[N,new gn(M.key)]},getMany:function(M){return[N,new gn().addKeys(M.keys)]},count:y,query:y,openCursor:y};return S(q).forEach(function(M){k[M]=function(z){var Y=Oe.subscr,J=!!Y,Q=Ia(Oe,b)&&ou(M,z)?z.obsSet={}:Y;if(J){var ae,Y=function(Te){return Te="idb://".concat(u,"/").concat(h,"/").concat(Te),Q[Te]||(Q[Te]=new gn)},fe=Y(""),Ee=Y(":dels"),J=q[M](z),Ce=J[0],J=J[1];if((M==="query"&&Ce.isPrimaryKey&&!z.values?Ee:Y(Ce.name||"")).add(J),!Ce.isPrimaryKey){if(M!=="count")return ae=M==="query"&&T&&z.values&&b.query(d(d({},z),{values:!1})),b[M].apply(this,arguments).then(function(Te){if(M==="query"){if(T&&z.values)return ae.then(function(ut){return ut=ut.result,fe.addKeys(ut),Te});var he=z.values?Te.result.map(K):Te.result;(z.values?fe:Ee).addKeys(he)}else{var Be,We;if(M==="openCursor")return We=z.values,(Be=Te)&&Object.create(Be,{key:{get:function(){return Ee.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var ut=Be.primaryKey;return Ee.addKey(ut),ut}},value:{get:function(){return We&&fe.addKey(Be.primaryKey),Be.value}}})}return Te});Ee.add(f)}}return b[M].apply(this,arguments)}}),k}})}};function cu(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),w(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&w(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function li(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<it(f,h.lower):0<=it(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?it(f,h.upper)<0:it(f,h.upper)<=0));var f,h}function ir(l,u,f,h,y,b){var j,N,D,K,T,O;return!f||f.length===0||(j=u.query.index,N=j.multiEntry,D=u.query.range,K=h.schema.primaryKey.extractKey,T=j.extractKey,O=(j.lowLevelIndex||j).extractKey,(h=f.reduce(function(k,q){var M=k,z=[];if(q.type==="add"||q.type==="put")for(var Y=new gn,J=q.values.length-1;0<=J;--J){var Q,ae=q.values[J],fe=K(ae);!Y.hasKey(fe)&&(Q=T(ae),N&&w(Q)?Q.some(function(Te){return li(Te,D)}):li(Q,D))&&(Y.addKey(fe),z.push(ae))}switch(q.type){case"add":var Ee=new gn().addKeys(u.values?k.map(function(he){return K(he)}):k),M=k.concat(u.values?z.filter(function(he){return he=K(he),!Ee.hasKey(he)&&(Ee.addKey(he),!0)}):z.map(function(he){return K(he)}).filter(function(he){return!Ee.hasKey(he)&&(Ee.addKey(he),!0)}));break;case"put":var Ce=new gn().addKeys(q.values.map(function(he){return K(he)}));M=k.filter(function(he){return!Ce.hasKey(u.values?K(he):he)}).concat(u.values?z:z.map(function(he){return K(he)}));break;case"delete":var de=new gn().addKeys(q.keys);M=k.filter(function(he){return!de.hasKey(u.values?K(he):he)});break;case"deleteRange":var Re=q.range;M=k.filter(function(he){return!li(K(he),Re)})}return M},l))===l)?l:(h.sort(function(k,q){return it(O(k),O(q))||it(K(k),K(q))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Dl(l,u){return it(l.lower,u.lower)===0&&it(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function js(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Ko(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&me(b,y)},3e3))})}var si={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,j,N=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,N.addEventListener("abort",(j=function(D){return function(){if(b.abort(),h==="readwrite"){for(var K=new Set,T=0,O=f;T<O.length;T++){var k=O[T],q=Wa["idb://".concat(u,"/").concat(k)];if(q){var M=l.table(k),z=q.optimisticOps.filter(function(Be){return Be.trans===N});if(N._explicit&&D&&N.mutatedParts)for(var Y=0,J=Object.values(q.queries.query);Y<J.length;Y++)for(var Q=0,ae=(Ce=J[Y]).slice();Q<ae.length;Q++)tr((de=ae[Q]).obsSet,N.mutatedParts)&&(me(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)}));else if(0<z.length){q.optimisticOps=q.optimisticOps.filter(function(Be){return Be.trans!==N});for(var fe=0,Ee=Object.values(q.queries.query);fe<Ee.length;fe++)for(var Ce,de,Re,Te=0,he=(Ce=Ee[fe]).slice();Te<he.length;Te++)(de=he[Te]).res!=null&&N.mutatedParts&&(D&&!de.dirty?(Re=Object.isFrozen(de.res),Re=ir(de.res,de.req,z,M,de,Re),de.dirty?(me(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)})):Re!==de.res&&(de.res=Re,de.promise=De.resolve({result:Re}))):(de.dirty&&me(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)})))}}}K.forEach(function(Be){return Be()})}}})(!1),{signal:y}),N.addEventListener("error",j(!1),{signal:y}),N.addEventListener("complete",j(!0),{signal:y})),N},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var j,N=Oe.trans;return!y.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(j=Wa["idb://".concat(u,"/").concat(f)])?(N=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||ai(y,b).some(function(D){return D==null}))?(j.optimisticOps.push(b),b.mutatedParts&&ti(b.mutatedParts),N.then(function(D){0<D.numFailures&&(me(j.optimisticOps,b),(D=cu(0,b,D))&&j.optimisticOps.push(D),b.mutatedParts)&&ti(b.mutatedParts)}),N.catch(function(){me(j.optimisticOps,b),b.mutatedParts&&ti(b.mutatedParts)})):N.then(function(D){var K=cu(0,d(d({},b),{values:b.values.map(function(T,O){var k;return D.failures[O]?T:(Se(k=(k=y.keyPath)!=null&&k.includes(".")?gt(T):d({},T),y.keyPath,D.results[O]),k)})}),D);j.optimisticOps.push(K),queueMicrotask(function(){return b.mutatedParts&&ti(b.mutatedParts)})}),N):h.mutate(b)},query:function(b){var j,N,D,K,T,O,k;return Ia(Oe,h)&&ou("query",b)?(j=((D=Oe.trans)==null?void 0:D.db._options.cache)==="immutable",N=(D=Oe).requery,D=D.signal,O=((q,M,z,Y)=>{var J=Wa["idb://".concat(q,"/").concat(M)];if(!J)return[];if(!(q=J.queries[z]))return[null,!1,J,null];var Q=q[(Y.query?Y.query.index.name:null)||""];if(!Q)return[null,!1,J,null];switch(z){case"query":var ae=Q.find(function(fe){return fe.req.limit===Y.limit&&fe.req.values===Y.values&&Dl(fe.req.query.range,Y.query.range)});return ae?[ae,!0,J,Q]:[Q.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=Y.limit&&(!Y.values||fe.req.values)&&js(fe.req.query.range,Y.query.range)}),!1,J,Q];case"count":return ae=Q.find(function(fe){return Dl(fe.req.query.range,Y.query.range)}),[ae,!!ae,J,Q]}})(u,f,"query",b),k=O[0],K=O[2],T=O[3],k&&O[1]?k.obsSet=b.obsSet:(O=h.query(b).then(function(q){var M=q.result;if(k&&(k.res=M),j){for(var z=0,Y=M.length;z<Y;++z)Object.freeze(M[z]);Object.freeze(M)}else q.result=gt(M);return q}).catch(function(q){return T&&k&&me(T,k),Promise.reject(q)}),k={obsSet:b.obsSet,promise:O,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(k):(T=[k],(K=K||(Wa["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=T)),Ko(k,T,N,D),k.promise.then(function(q){return{result:ir(q.result,b,K?.optimisticOps,h,k,j)}})):h.query(b)}})}})}};function ws(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Xt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new je.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort($i),f.stores({}),this._state.autoSchema=!1),f},Xt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?l():new De(function(f,h){if(u._state.openComplete)return h(new je.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new je.DatabaseClosed);u.open().catch(Ge)}u._state.dbReadyPromise.then(f,h)}).then(l)},Xt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(j,N){return j.level-N.level}),this},Xt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Xt.prototype.open=function(){var l=this;return Xn(Ut,function(){return Uo(l)})},Xt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Xa.indexOf(this);if(0<=u&&Xa.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new De(function(f){l.dbReadyResolve=f}),l.openCanceller=new De(function(f,h){l.cancelOpen=h}))},Xt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new je.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new je.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Xt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new De(function(y,b){function j(){u.close(l);var N=u._deps.indexedDB.deleteDatabase(u.name);N.onsuccess=Ht(function(){var D,K,T;D=u._deps,K=u.name,Ws(T=D.indexedDB)||K===fs||Pi(T,D.IDBKeyRange).delete(K).catch(Ge),y()}),N.onerror=Vn(b),N.onblocked=u._fireOnBlocked}if(f)throw new je.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(j):j()})},Xt.prototype.backendDB=function(){return this.idbdb},Xt.prototype.isOpen=function(){return this.idbdb!==null},Xt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Xt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new je.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,rt(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Xt.prototype._transaction=function(l,u,f){var h,y,b=this,j=Oe.trans,N=(j&&j.db===this&&l.indexOf("!")===-1||(j=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(K){if(K=K instanceof b.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),l=="r"||l===xa)h=xa;else{if(l!="rw"&&l!=Da)throw new je.InvalidArgument("Invalid transaction mode: "+l);h=Da}if(j){if(j.mode===xa&&h===Da){if(!N)throw new je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&y.forEach(function(K){if(j&&j.storeNames.indexOf(K)===-1){if(!N)throw new je.SubTransaction("Table "+K+" not included in parent transaction.");j=null}}),N&&j&&!j.active&&(j=null)}}catch(K){return j?j._promise(null,function(T,O){O(K)}):Mt(K)}var D=(function K(T,O,k,q,M){return De.resolve().then(function(){var Q=Oe.transless||Oe,z=T._createTransaction(O,k,T._dbSchema,q),Q=(z.explicit=!0,{trans:z,transless:Q});if(q)z.idbtrans=q.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ft.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,O,k,null,M)})):Mt(ae)}var Y,J=E(M),Q=(J&&It(),De.follow(function(){var ae;(Y=M.call(z,z))&&(J?(ae=Tn.bind(null,null),Y.then(ae,ae)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=Ss(Y)))},Q));return(Y&&typeof Y.then=="function"?De.resolve(Y).then(function(ae){return z.active?ae:Mt(new je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return Y})).then(function(ae){return q&&z._resolve(),z._completion.then(function(){return ae})}).catch(function(ae){return z._reject(ae),Mt(ae)})})}).bind(null,this,h,y,j,f);return j?j._promise(h,D,"lock"):Oe.trans?Xn(Oe.transless,function(){return b._whenReady(D)}):this._whenReady(D)},Xt.prototype.table=function(l){if(A(this._allTables,l))return this._allTables[l];throw new je.InvalidTable("Table ".concat(l," does not exist"))};var ia=Xt;function Xt(l,u){var f,h,y,b,j,N=this,D=(this._middlewares={},this.verno=0,Xt.dependencies),D=(this._options=u=d({addons:Xt.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ge,dbReadyPromise:null,cancelOpen:Ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),T=(K.dbReadyPromise=new De(function(O){K.dbReadyResolve=O}),K.openCanceller=new De(function(O,k){K.cancelOpen=k}),this._state=K,this.name=l,this.on=ms(this,"populate","blocked","versionchange","close",{ready:[ne,Ge]}),this.once=function(O,k){var q=function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];N.on(O).unsubscribe(q),k.apply(N,M)};return N.on(O,q)},this.on.ready.subscribe=we(this.on.ready.subscribe,function(O){return function(k,q){Xt.vip(function(){var M,z=N._state;z.openComplete?(z.dbOpenError||De.resolve().then(k),q&&O(k)):z.onReadyBeingFired?(z.onReadyBeingFired.push(k),q&&O(k)):(O(k),M=N,q||O(function Y(){M.on.ready.unsubscribe(k),M.on.ready.unsubscribe(Y)}))})}}),this.Collection=(f=this,pn(Ro.prototype,function(Y,z){this.db=f;var q=Yi,M=null;if(z)try{q=z()}catch(Q){M=Q}var z=Y._ctx,Y=z.table,J=Y.hook.reading.fire;this._ctx={table:Y,index:z.index,isPrimKey:!z.index||Y.schema.primKey.keyPath&&z.index===Y.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:z.or,valueMapper:J!==dt?J:null}})),this.Table=(h=this,pn(Xi.prototype,function(O,k,q){this.db=h,this._tx=q,this.name=O,this.schema=k,this.hook=h._allTables[O]?h._allTables[O].hook:ms(null,{creating:[Yn,Ge],reading:[Zt,dt],updating:[pe,Ge],deleting:[ta,Ge]})})),this.Transaction=(y=this,pn(Zi.prototype,function(O,k,q,M,z){var Y=this;O!=="readonly"&&k.forEach(function(J){J=(J=q[J])==null?void 0:J.yProps,J&&(k=k.concat(J.map(function(Q){return Q.updatesTable})))}),this.db=y,this.mode=O,this.storeNames=k,this.schema=q,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=ms(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(J,Q){Y._resolve=J,Y._reject=Q}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(J){var Q=Y.active;return Y.active=!1,Y.on.error.fire(J),Y.parent?Y.parent._reject(J):Q&&Y.idbtrans&&Y.idbtrans.abort(),Mt(J)})})),this.Version=(b=this,pn(qo.prototype,function(O){this.db=b,this._cfg={version:O,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,pn(Fa.prototype,function(O,k,q){if(this.db=j,this._ctx={table:O,index:k===":id"?null:k,or:q},this._cmp=this._ascending=it,this._descending=function(M,z){return it(z,M)},this._max=function(M,z){return 0<it(M,z)?M:z},this._min=function(M,z){return it(M,z)<0?M:z},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new je.MissingAPI})),this.on("versionchange",function(O){0<O.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(O){!O.newVersion||O.newVersion<O.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(O.oldVersion/10))}),this._maxKey=El(u.IDBKeyRange),this._createTransaction=function(O,k,q,M){return new N.Transaction(O,k,q,N._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(O){N.on("blocked").fire(O),Xa.filter(function(k){return k.name===N.name&&k!==N&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(O)})},this.use(uu),this.use(si),this.use(Lo),this.use(Ho),this.use(ru),new Proxy(this,{get:function(O,k,q){var M;return k==="_vip"||(k==="table"?function(z){return ws(N.table(z),T)}:(M=Reflect.get(O,k,q))instanceof Xi?ws(M,T):k==="tables"?M.map(function(z){return ws(z,T)}):k==="_createTransaction"?function(){return ws(M.apply(this,arguments),T)}:M)}}));this.vip=T,D.forEach(function(O){return O(N)})}var Tl,el=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",fu=(ii.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ii.prototype[el]=function(){return this},ii);function ii(l){this._subscribe=l}try{Tl={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{Tl={indexedDB:null,IDBKeyRange:null}}function du(l){var u,f=!1,h=new fu(function(y){var b=E(l),j,N=!1,D={},K={},T={get closed(){return N},unsubscribe:function(){N||(N=!0,j&&j.abort(),O&&yn.storagemutated.unsubscribe(q))}},O=(y.start&&y.start(T),!1),k=function(){return Oa(M)},q=function(z){ei(D,z),tr(K,D)&&k()},M=function(){var z,Y,J;!N&&Tl.indexedDB&&(D={},z={},j&&j.abort(),j=new AbortController,J=(Q=>{var ae=Ea();try{b&&It();var fe=Kt(l,Q);return fe=b?fe.finally(Tn):fe}finally{ae&&na()}})(Y={subscr:z,signal:j.signal,requery:k,querier:l,trans:null}),Promise.resolve(J).then(function(Q){f=!0,u=Q,N||Y.signal.aborted||(D={},(ae=>{for(var fe in ae)if(A(ae,fe))return;return 1})(K=z)||O||(yn(Nl,q),O=!0),Oa(function(){return!N&&y.next&&y.next(Q)}))},function(Q){f=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||N||Oa(function(){N||y.error&&y.error(Q)})}))};return setTimeout(k,0),T});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var tl=ia;function rr(l){var u=ka;try{ka=!0,yn.storagemutated.fire(l),lr(l,!0)}finally{ka=u}}Z(tl,d(d({},te),{delete:function(l){return new tl(l,{addons:[]}).delete()},exists:function(l){return new tl(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=tl.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Ws(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==fs})}):Pi(f,u).toCollection().primaryKeys()).then(l)}catch{return Mt(new je.MissingAPI)}var u,f},defineClass:function(){return function(l){U(this,l)}},ignoreTransaction:function(l){return Oe.trans?Xn(Oe.transless,l):l()},vip:Wi,async:function(l){return function(){try{var u=Ss(l.apply(this,arguments));return u&&typeof u.then=="function"?u:De.resolve(u)}catch(f){return Mt(f)}}},spawn:function(l,u,f){try{var h=Ss(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:De.resolve(h)}catch(y){return Mt(y)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(l,u){return l=De.resolve(typeof l=="function"?tl.ignoreTransaction(l):l).timeout(u||6e4),Oe.trans?Oe.trans.waitFor(l):l},Promise:De,debug:{get:function(){return ke},set:function(l){xe(l)}},derive:oe,extend:U,props:Z,override:we,Events:ms,on:yn,liveQuery:du,extendObservabilitySet:ei,getByKeyPath:ve,setByKeyPath:Se,delByKeyPath:function(l,u){typeof u=="string"?Se(l,u,void 0):"length"in u&&[].map.call(u,function(f){Se(l,f,void 0)})},shallowClone:Ie,deepClone:gt,getObjectDiff:ni,cmp:it,asap:be,minKey:-1/0,addons:[],connections:Xa,errnames:Ft,dependencies:Tl,cache:Wa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),tl.maxKey=El(tl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(Nl,function(l){ka||(l=new CustomEvent($a,{detail:l}),ka=!0,dispatchEvent(l),ka=!1)}),addEventListener($a,function(l){l=l.detail,ka||rr(l)}));var Ml,ka=!1,En=function(){};return typeof BroadcastChannel<"u"&&((En=function(){(Ml=new BroadcastChannel($a)).onmessage=function(l){return l.data&&rr(l.data)}})(),typeof Ml.unref=="function"&&Ml.unref(),yn(Nl,function(l){ka||Ml.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ia.disableBfCache&&l.persisted){ke&&console.debug("Dexie: handling persisted pagehide"),Ml?.close();for(var u=0,f=Xa;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ia.disableBfCache&&l.persisted&&(ke&&console.debug("Dexie: handling persisted pageshow"),En(),rr({all:new gn(-1/0,[[]])}))})),De.rejectionMapper=function(l,u){return!l||l instanceof Me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ft[l.name]?l:(u=new ft[l.name](u||l.message,l),"stack"in l&&$(u,"stack",{get:function(){return this.inner.stack}}),u)},xe(ke),d(ia,Object.freeze({__proto__:null,Dexie:ia,Entity:Ir,PropModification:wl,RangeSet:gn,add:function(l){return new wl({add:l})},cmp:it,default:ia,liveQuery:du,mergeRanges:Pa,rangesOverlap:lu,remove:function(l){return new wl({remove:l})},replacePrefix:function(l,u){return new wl({replacePrefix:[l,u]})}}),{default:ia}),ia})})(vo)),vo.exports}var Ex=_x();const Kf=R0(Ex),Dp=Symbol.for("Dexie"),_o=globalThis[Dp]||(globalThis[Dp]=Kf);if(Kf.semVer!==_o.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Kf.semVer} and ${_o.semVer}`);const{liveQuery:Nv,mergeRanges:_v,rangesOverlap:Ev,RangeSet:Cv,cmp:Av,Entity:Ov,PropModification:Dv,replacePrefix:Tv,add:Mv,remove:zv,DexieYProvider:kv}=_o,If=new _o("WiseMarkDB");If.version(1).stores({pdfs:"hash, filename, size, blob"});async function Qf(r){const c=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function ed(r,c,m,d){await If.pdfs.put({hash:r,filename:c,size:m,blob:d})}async function Cx(r){const c=await If.pdfs.get(r);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function Ax(r){if(!r?.pdf_hash)return null;try{const{data:c}=await an.getPdf(r.id),m=(c instanceof ArrayBuffer,c),d=r.file_size??m?.byteLength??0;return await ed(r.pdf_hash,r.filename||"",d,m),{data:m,filename:r.filename||"",size:d}}catch{const c=await Cx(r.pdf_hash);return c||null}}const pa=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Tp(r){if(!r)return null;const c=new Date(r);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function Ox(r){if(!r)return null;const c=new Date(r);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:v<24?`${v}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function Dx({doc:r,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:v,onOpen:S,onRename:w,onDelete:U}){const C=c[r.highlight_preset]??c._default,R=C?.colors?.[0]?.hex??"#94a3b8",A=r.color&&pa.includes(r.color)?r.color:m,Z=r.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(r.id),onMouseLeave:v,onClick:()=>S(r.id),role:"button",tabIndex:0,onKeyDown:ye=>ye.key==="Enter"&&S(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${A}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[C&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:R,background:`${R}14`},children:C.name}),Tp(r.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Tp(r.created_at)})]}),r.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",Ox(r.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:Z>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[Z," note",Z!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),w(r)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(Mo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),U(r)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Tx(){const{projectId:r}=Gf(),c=ls(),m=Ui(),[d,g]=H.useState(!1),[v,S]=H.useState(""),[w,U]=H.useState(null),[C,R]=H.useState(""),[A,Z]=H.useState(!1),[ye,$]=H.useState(""),[oe,W]=H.useState(null),[_e,ge]=H.useState(""),[we,se]=H.useState(null),[be,ve]=H.useState(pa[0]),Se=H.useRef(null),Ie=H.useRef(null),Ve=H.useRef(null),[rt,He]=H.useState(0),[$e,gt]=H.useState(null),[Ae,qe]=H.useState("recent"),[X,ue]=H.useState(!1),[me,Ne]=H.useState(null),[G,E]=H.useState(!1),{data:te,isLoading:ce}=kn({queryKey:["project",r],queryFn:async()=>(await Qr.get(r)).data,enabled:!!r}),{data:Me,isLoading:Ze}=kn({queryKey:["documents",r],queryFn:async()=>(await an.list({project:r})).data,enabled:!!r}),at=Array.isArray(Me)?Me:Me?.results??[],{data:vt=[]}=kn({queryKey:["lenses"],queryFn:async()=>(await In.list()).data}),Ft=H.useMemo(()=>{const ze={};vt.forEach(wt=>{ze[wt.id]=wt});const Qe=vt.find(wt=>wt.is_system)??vt[0];return Qe&&(ze._default=Qe),ze},[vt]),dn=H.useMemo(()=>{const ze=[...at];return Ae==="recent"?ze.sort((Qe,wt)=>{const qt=Qe.last_opened_at||Qe.updated_at||Qe.created_at||"";return(wt.last_opened_at||wt.updated_at||wt.created_at||"").localeCompare(qt)}):Ae==="uploaded"?ze.sort((Qe,wt)=>(wt.created_at||"").localeCompare(Qe.created_at||"")):Ae==="name"?ze.sort((Qe,wt)=>(Qe.filename||"").localeCompare(wt.filename||"")):Ae==="annotations"&&ze.sort((Qe,wt)=>(wt.annotation_count??0)-(Qe.annotation_count??0)),ze},[at,Ae]),je=at.reduce((ze,Qe)=>ze+(Qe.annotation_count??0),0),ft=An({mutationFn:({id:ze,name:Qe})=>Qr.update(ze,{name:Qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",r]}),m.invalidateQueries({queryKey:["projects"]}),Z(!1)}}),Ge=An({mutationFn:({id:ze,filename:Qe})=>an.update(ze,{filename:Qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),U(null),R("")}}),dt=An({mutationFn:ze=>an.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),Ne(null)}}),Zt=An({mutationFn:ze=>Qr.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),Ot=async ze=>{const Qe=ze.target.files?.[0];if(!Qe||!Qe.type.includes("pdf"))return;S(""),W(Qe);const wt=Qe.name.replace(/\.pdf$/i,"")||Qe.name;ge(wt),ve(pa[at.length%pa.length]),se(null),Se.current=null;try{const qt=await Qe.arrayBuffer(),Ct=await Qf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Qe.size};se(Ut),Se.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),W(null),ge("")}},Yn=async ze=>{ze.preventDefault(),ue(!1);const Qe=ze.dataTransfer?.files?.[0];if(!Qe||!Qe.type.includes("pdf"))return;S(""),W(Qe);const wt=Qe.name.replace(/\.pdf$/i,"")||Qe.name;ge(wt),ve(pa[at.length%pa.length]),se(null),Se.current=null;try{const qt=await Qe.arrayBuffer(),Ct=await Qf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Qe.size};se(Ut),Se.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),W(null),ge("")}},ta=()=>{W(null),ge(""),se(null),ve(pa[0]),S(""),Se.current=null,He(ze=>ze+1)},pe=()=>Ve.current?.click(),tt=async ze=>{ze.preventDefault();const Qe=r,qt=Ie.current?.value?.trim()||_e?.trim()||Se.current?.suggestedName?.trim()||"",Ct=Se.current||we;if(!Qe){S("Project not found.");return}if(!qt){S("Please enter a name for the PDF.");return}if(!Ct||!Ct.hash||!Ct.arrayBuffer){S("File data missing. Please close and select the file again.");return}const Ut=qt.toLowerCase().endsWith(".pdf")?qt:`${qt}.pdf`;S(""),g(!0);try{const Oe=new FormData;Oe.append("project",String(Qe)),Oe.append("filename",Ut),Oe.append("color",be),Oe.append("file",new Blob([Ct.arrayBuffer]),Ut),await an.createWithFile(Oe),await ed(Ct.hash,Ut,Ct.size,Ct.arrayBuffer),m.invalidateQueries({queryKey:["documents",Qe]}),W(null),ge(""),se(null),Se.current=null,He(ga=>ga+1)}catch(Oe){const ga=Oe.response?.data?.detail||typeof Oe.response?.data=="object"&&Object.values(Oe.response?.data||{}).flat().join(" ")||Oe.message||"Upload failed";S(String(ga))}finally{g(!1)}},ne=ze=>{U(ze.id),R(ze.filename||"")},ke=()=>{if(w==null||!C.trim()){U(null);return}Ge.mutate({id:w,filename:C.trim()})},xe=()=>{U(null),R("")},Fe=()=>{$(te?.name??""),Z(!0)},lt=()=>{const ze=ye.trim();if(!ze||ze===te?.name){Z(!1);return}ft.mutate({id:r,name:ze})},bt=()=>{Z(!1),$("")},Et=xl(ze=>ze.logout),{data:mn}=kn({queryKey:["me"],queryFn:async()=>(await Bi.me()).data}),sn=(mn?.email?.[0]||mn?.username?.[0]||"?").toUpperCase(),Dn=te?.color&&pa.includes(te.color)?te.color:te?pa[te.id%pa.length]:pa[0];return ce||!te?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>c("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{Et(),c("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Wf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:sn})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:A?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:ye,onChange:ze=>$(ze.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:ze=>{ze.key==="Enter"&&lt(),ze.key==="Escape"&&bt()}}),o.jsx("button",{type:"button",onClick:lt,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(wo,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:bt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:te.name})}),!A&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:Fe,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(Mo,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>E(!0),disabled:Zt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[at.length," document",at.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[je," annotation",je!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:Ae,onChange:ze=>qe(ze.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:pe,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(No,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:Ve,type:"file",accept:".pdf",onChange:Ot,className:"hidden","aria-hidden":"true",tabIndex:-1},rt),v&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:v}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Ze?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):at.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(qi,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(ze=>w===ze.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:C,onChange:Qe=>R(Qe.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Qe=>{Qe.key==="Enter"&&ke(),Qe.key==="Escape"&&xe()}}),o.jsx("button",{type:"button",onClick:ke,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(wo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:xe,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-4 h-4"})})]},ze.id):o.jsx(Dx,{doc:ze,lensMap:Ft,projectColor:Dn,hovered:$e===ze.id,onHover:gt,onLeave:()=>gt(null),onOpen:Qe=>c(`/document/${Qe}`),onRename:ne,onDelete:Qe=>Ne(Qe)},ze.id))}),at.length>0&&o.jsxs("div",{onDragOver:ze=>{ze.preventDefault(),ue(!0)},onDragLeave:()=>ue(!1),onDrop:Yn,onClick:pe,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${X?"#2563eb":"#e2e8f0"}`,background:X?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:X?"#dbeafe":"#f1f5f9"},children:o.jsx(No,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:X?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),oe&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ta,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),we?o.jsxs("div",{className:"space-y-4",children:[v&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:v}),o.jsx("input",{ref:Ie,type:"text",value:_e,onChange:ze=>ge(ze.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:pa.map(ze=>o.jsx("button",{type:"button",onClick:()=>ve(ze),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:ze,borderColor:be===ze?"#1e293b":"transparent",outline:be===ze?"2px solid #fff":"none",outlineOffset:-4}},ze))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ta,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:tt,disabled:d||!_e.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),me&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!dt.isPending&&Ne(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:me.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Ne(null),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>dt.mutate(me.id),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:dt.isPending?"Deleting":"Delete"})]})]})}),G&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Zt.isPending&&E(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:te.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Zt.mutate(r),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Zt.isPending?"Deleting":"Delete project"})]})]})})]})}const bl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Eo=Object.keys(bl);function Ka(r,c=1){if(!r||!r.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(r.slice(1),16),d=m>>16&255,g=m>>8&255,v=m&255;return`rgba(${d},${g},${v},${c})`}function ns(r,c={},m){if(c&&typeof c[r]=="string"&&c[r].trim())return c[r].trim();if(m?.length){const d=m.find(g=>g.key===r);if(d?.display_name)return d.display_name}return bl[r]&&bl[r].name||r}H0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const Mx=()=>typeof window<"u"&&window.devicePixelRatio||1;function zx(r,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,v=g,S=typeof r.width=="number"&&r.width>0?r.width*d:(r.str?.length||1)*v*.5,w=c[4],U=c[5]-g*.85;return{x:w,y:U,w:S,h:v}}function kx(r,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),v=[];let S=0,w=-999;const U=4;let C=0;return r.items.forEach(R=>{if(!R.str||R.str.trim()==="")return;const A=K0.transform(c.transform,R.transform),Z=zx(R,A);Math.abs(Z.y-w)>U&&(S+=1,w=Z.y);const ye=Z.h,$=typeof R.width=="number"&&R.width>0?R.width*m:Z.w,oe=R.str.split(/(\s+)/);if(!g||oe.length===0){v.push({id:C++,text:R.str,x:Z.x,y:Z.y,w:Z.w,h:Z.h,fontSize:Z.h,lineIndex:S});return}g.font=`${ye}px sans-serif`;const W=oe.map(se=>({text:se,measured:g.measureText(se).width,isSpace:/^\s+$/.test(se)||se===""})),_e=W.reduce((se,be)=>se+be.measured,0),ge=_e>0?$/_e:1;let we=0;W.forEach(se=>{const be=se.measured*ge;if(se.text===""||se.isSpace){we+=be;return}v.push({id:C,text:se.text,x:Z.x+we,y:Z.y,w:be,h:ye,fontSize:ye,lineIndex:S}),C+=1,we+=be})}),v}function fy(r){const c={};return r.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function Mp(r,c,m){let v=null,S=1/0;for(const w of r){if(!(m>=w.y-6&&m<=w.y+w.h+6))continue;if(c>=w.x-4&&c<=w.x+w.w+4)return w;const R=c<w.x?w.x-c:c-(w.x+w.w);R<S&&R<40&&(S=R,v=w)}return v}function Rx(r){if(!r.length)return"";const c=[];for(let v=1;v<r.length;v++){const S=r[v],w=r[v-1];(S.lineIndex??0)!==(w.lineIndex??0)&&S.y>w.y&&c.push(S.y-w.y)}const m=c.length?[...c].sort((v,S)=>v-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let v=0;v<r.length;v++){const S=r[v];if(v>0){const w=r[v-1],U=(S.lineIndex??0)===(w.lineIndex??0),C=S.y-w.y,R=Math.max(8,(w.h+S.h)/2),A=d!=null?d*1.4:R*1.5,Z=!U&&C>=A;U?S.x-(w.x+w.w)>1&&(g+=" "):Z?g+=`

`:g+=`
`}g+=S.text}return g.trim()}function Bx(r,c){return r.length?fy(r).map(d=>{const g=Math.min(...d.map(A=>A.x)),v=Math.max(...d.map(A=>A.x+A.w)),S=d.map(A=>A.y),w=S.sort((A,Z)=>A-Z)[Math.floor(S.length/2)],U=Math.max(...d.map(A=>A.h)),C=2;return{x:(g-1)/c,y:(w-C)/c,width:(v-g+2)/c,height:(U+C+3)/c}}):[]}function qx({pdfData:r,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:v=null,lensColors:S=[],onSelectionComplete:w,onNumPages:U,onHighlightHover:C,onHighlightHoverEnd:R,onHighlightEdit:A,onHighlightDelete:Z}){const[ye,$]=H.useState(null),[oe,W]=H.useState(0),[_e,ge]=H.useState(!0);return H.useEffect(()=>{if(!r)return;let we=!1;return(async()=>{ge(!0);try{const be=r.slice(0),ve=await L0({data:be}).promise;we||($(ve),W(ve.numPages),U?.(ve.numPages))}catch(be){console.error("Failed to load PDF",be)}we||ge(!1)})(),()=>{we=!0}},[r,U]),_e?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ya,{className:"w-6 h-6 text-slate-400 animate-spin"})}):ye?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:oe},(we,se)=>o.jsx(Ux,{pdf:ye,pageNumber:se+1,scale:c,pageHighlights:m.filter(be=>be.page_number===se+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:v,lensColors:S,onSelectionComplete:w,onHighlightHover:C,onHighlightHoverEnd:R,onHighlightEdit:A,onHighlightDelete:Z},se))}):null}function Ux({pdf:r,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:v,selectionForPicker:S,lensColors:w=[],onSelectionComplete:U,onHighlightHover:C,onHighlightHoverEnd:R,onHighlightEdit:A,onHighlightDelete:Z}){const ye=H.useRef(null),$=H.useRef(null),oe=H.useRef(null),W=H.useRef(null),[_e,ge]=H.useState({width:0,height:0}),[we,se]=H.useState([]),[be,ve]=H.useState(null),[Se,Ie]=H.useState(null),[Ve,rt]=H.useState(!1),He=H.useRef(null),$e=H.useRef(null),gt=H.useCallback(()=>{$e.current&&clearTimeout($e.current),$e.current=setTimeout(()=>{R?.(),$e.current=null},1e3)},[R]),Ae=H.useCallback(E=>{$e.current&&(clearTimeout($e.current),$e.current=null),C?.(E)},[C]);H.useEffect(()=>()=>{$e.current&&clearTimeout($e.current)},[]),H.useEffect(()=>{let E=!1;return(async()=>{const ce=await r.getPage(c),Me=Mx(),Ze=ce.getViewport({scale:m}),at=ce.getViewport({scale:m*Me}),vt=$.current;if(!vt||E)return;const Ft=vt.getContext("2d",{alpha:!1});Ft.imageSmoothingEnabled=!0,Ft.imageSmoothingQuality="high",vt.width=at.width,vt.height=at.height,vt.style.width=`${Ze.width}px`,vt.style.height=`${Ze.height}px`,ge({width:Ze.width,height:Ze.height}),await ce.render({canvasContext:Ft,viewport:at}).promise;const dn=await ce.getTextContent();if(E)return;const je=kx(dn,Ze,m);se(je);const ft=oe.current;!ft||E||(ft.innerHTML="",ft.style.width=`${Ze.width}px`,ft.style.height=`${Ze.height}px`,je.forEach(Ge=>{const dt=document.createElement("span");dt.textContent=Ge.text,dt.style.position="absolute",dt.style.left=`${Ge.x}px`,dt.style.top=`${Ge.y}px`,dt.style.width=`${Ge.w}px`,dt.style.height=`${Ge.h}px`,dt.style.fontSize=`${Ge.fontSize}px`,dt.style.fontFamily="sans-serif",dt.style.color="transparent",dt.style.whiteSpace="pre",dt.style.pointerEvents="none",dt.style.lineHeight="1",ft.appendChild(dt)}))})(),()=>{E=!0}},[r,c,m]);const qe=H.useMemo(()=>{if(S&&S.pageNumber===c){const ce=Math.min(S.spanStart,S.spanEnd),Me=Math.max(S.spanStart,S.spanEnd);return we.filter(Ze=>Ze.id>=ce&&Ze.id<=Me)}if(be==null||Se==null)return[];const E=Math.min(be,Se),te=Math.max(be,Se);return we.filter(ce=>ce.id>=E&&ce.id<=te)},[we,S,c,be,Se]);H.useEffect(()=>{S===null&&He.current?.pageNumber===c&&(ve(null),Ie(null)),He.current=S},[S,c]);const X=H.useCallback((E,te)=>{const ce=ye.current?.getBoundingClientRect();return ce?{x:E-ce.left,y:te-ce.top}:{x:0,y:0}},[]),ue=H.useCallback(E=>{if(E.button!==0||!we.length)return;const{x:te,y:ce}=X(E.clientX,E.clientY),Me=Mp(we,te,ce);Me?(ve(Me.id),Ie(Me.id),rt(!0)):(ve(null),Ie(null))},[we,X]),me=H.useCallback(E=>{if(!Ve)return;const{x:te,y:ce}=X(E.clientX,E.clientY),Me=Mp(we,te,ce);Me&&Ie(Me.id)},[Ve,we,X]),Ne=H.useCallback(E=>{if(E.button!==0||!Ve)return;if(rt(!1),qe.length<2){ve(null),Ie(null);return}if(!U)return;const te=ye.current?.getBoundingClientRect();if(!te)return;const ce={rects:Bx(qe,m)},Me=Rx(qe),Ze=qe[qe.length-1],at={x:te.left+(Ze.x+Ze.w/2),y:te.top+(Ze.y-8)};U({pageNumber:c,position_data:ce,highlighted_text:Me,spanStart:Math.min(be,Se),spanEnd:Math.max(be,Se),pickerPosition:at})},[Ve,qe,be,Se,m,c,U]);H.useEffect(()=>{const E=W.current||ye.current;if(E)return E.addEventListener("mousedown",ue),E.addEventListener("mousemove",me),E.addEventListener("mouseup",Ne),E.addEventListener("mouseleave",Ne),()=>{E.removeEventListener("mousedown",ue),E.removeEventListener("mousemove",me),E.removeEventListener("mouseup",Ne),E.removeEventListener("mouseleave",Ne)}},[ue,me,Ne]);const G=H.useMemo(()=>fy(qe),[qe]);return o.jsxs("div",{ref:ye,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:_e.width||0,height:_e.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:$,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:W,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(E=>{const te=E.position_data?.rects||[],ce=(w??[]).find(ft=>ft.key===E.color),Me=bl[E.color]||bl.yellow,Ze=ce?.hex??Me?.hex??Me?.solid,at=g!=null&&String(E.id)===String(g),vt=v!=null&&String(E.id)===String(v),Ft=at||vt?Ka(Ze,.38):Ka(Ze,.18),dn=A||Z;let je=null;if(te.length>0){const ft=Math.min(...te.map(Ot=>Ot.x))*m,Ge=Math.min(...te.map(Ot=>Ot.y))*m,dt=Math.max(...te.map(Ot=>(Ot.x||0)+(Ot.width||0)))*m,Zt=Math.max(...te.map(Ot=>(Ot.y||0)+(Ot.height||4)))*m;je={left:ft,top:Ge,width:dt-ft,height:Zt-Ge}}return je?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:je.left,top:je.top,width:je.width,height:je.height,pointerEvents:"auto"},onMouseEnter:()=>Ae(E.id),onMouseLeave:gt,children:[te.map((ft,Ge)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(ft.x||0)*m-je.left,top:(ft.y||0)*m-je.top,width:Math.max(0,(ft.width||0)*m),height:Math.max(4,(ft.height||0)*m),backgroundColor:Ft,pointerEvents:"none"}},Ge)),dn&&at&&je&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Ae(E.id),onMouseLeave:gt,children:[A&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),A(E.id,ft)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(Mo,{className:"w-3.5 h-3.5",strokeWidth:2})}),Z&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),Z(E.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},E.id):null}),G.map((E,te)=>{const ce=Math.min(...E.map(je=>je.x)),Me=Math.max(...E.map(je=>je.x+je.w)),Ze=E.map(je=>je.y).sort((je,ft)=>je-ft),at=Ze[Math.floor(Ze.length/2)],vt=Math.max(...E.map(je=>je.h)),Ft=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${ce-1}px`,top:`${at-Ft}px`,width:`${Me-ce+2}px`,height:`${vt+Ft+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},te)})]}),o.jsx("div",{ref:oe,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Hx({highlights:r,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:v,onHighlightClick:S,onHighlightHover:w,onHighlightHoverEnd:U,onClearActive:C,documentId:R,onHighlightNoteUpdate:A,onHighlightDelete:Z,openEditForHighlightId:ye,onClearOpenEditForHighlightId:$}){const oe=m?.length>0?m.map(Ae=>Ae.key):d?.length>0?d:Eo,[W,_e]=H.useState("all"),[ge,we]=H.useState(!1),[se,be]=H.useState(""),[ve,Se]=H.useState(null),[Ie,Ve]=H.useState("");H.useEffect(()=>{if(ye==null||!r?.length)return;const Ae=r.find(qe=>String(qe.id)===String(ye));Ae&&(Se(Ae.id),Ve(Ae.note?.content??"")),$?.()},[ye,r,$]);const rt=H.useMemo(()=>{let Ae=r||[];if(W!=="all"&&(Ae=Ae.filter(qe=>qe.color===W)),se.trim()){const qe=se.trim().toLowerCase();Ae=Ae.filter(X=>X.highlighted_text&&X.highlighted_text.toLowerCase().includes(qe)||X.note?.content&&X.note.content.toLowerCase().includes(qe))}return Ae},[r,W,se]),He=Ae=>{Se(Ae.id),Ve(Ae.note?.content??"")},$e=async()=>{if(ve==null||!R||!A){Se(null);return}await A(ve,Ie.trim()||""),Se(null)},gt=()=>{Se(null),Ve("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${ea.default} ${Na.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${ea.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Ke.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Ke.muted} mb-4`,children:[rt.length," highlight",rt.length!==1?"s":"",r?.length!==rt.length&&` of ${r?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{_e("all"),C?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${W==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Ke.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>we(Ae=>!Ae),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Ke.secondary} hover:text-slate-800 transition-colors`,children:[ge?o.jsx(Xr,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(xo,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ge&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:oe.map(Ae=>{const qe=(r||[]).filter(E=>E.color===Ae).length,X=bl[Ae],me=m?.find(E=>E.key===Ae)?.hex??X?.hex??X?.solid??"#94a3b8",Ne=ns(Ae,c,m),G=W===Ae;return o.jsxs("button",{type:"button",onClick:()=>{_e(G?"all":Ae),C?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${G?"border-transparent":`border-slate-200 ${Ke.secondary} hover:bg-slate-50`}`,style:G?{backgroundColor:`${me}25`,color:me}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:me,opacity:1}}),o.jsx("span",{children:Ne}),o.jsxs("span",{className:G?"opacity-80":Ke.muted,children:["(",qe,")"]})]},Ae)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:se,onChange:Ae=>be(Ae.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${ea.default} rounded-lg bg-slate-50 outline-none ${Ke.body} placeholder:${Ke.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:r?.length?rt.length?o.jsx("ul",{className:"space-y-1.5",children:rt.map(Ae=>{const qe=bl[Ae.color]||bl.yellow,ue=m?.find(G=>G.key===Ae.color)?.hex??qe?.hex??qe?.solid??"#94a3b8",me=Ae.note?.content,Ne=g!=null&&String(Ae.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${Ne?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(Ae.id),v?.(Ae.page_number)},onKeyDown:G=>{G.target.tagName==="TEXTAREA"||G.target.tagName==="INPUT"||G.target.isContentEditable||(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),S?.(Ae.id),v?.(Ae.page_number))},onMouseEnter:()=>w?.(Ae.id),onMouseLeave:U,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:ue,opacity:Ne?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Ke.body} whitespace-pre-wrap`,children:Ae.highlighted_text||"(No text captured)"})})]}),ve===Ae.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Ie,onChange:G=>Ve(G.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ke.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:$e,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:gt,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[me&&o.jsx("p",{className:`text-[11.5px] ${Ke.muted} mt-2 pl-3.5 leading-snug italic`,children:me}),R&&A&&o.jsx("button",{type:"button",onClick:()=>He(Ae),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:me?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:ue,backgroundColor:`${ue}12`},children:ns(Ae.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Ae.page_number]}),R&&Z&&o.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),Z(Ae.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Ae.id)})}):o.jsx("div",{className:`py-6 text-center ${Ke.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Ke.muted} text-sm`,children:[o.jsx(qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Yf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Lx(r,c){return r?.length?[...r].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Yf.find(d=>d.colorKey===m)).filter(Boolean):Yf}function Kx({position:r,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:v=[]}){const S=H.useRef(null),w=H.useRef(null),[U,C]=H.useState(null),[R,A]=H.useState(""),[Z,ye]=H.useState(!1),[$,oe]=H.useState(!1),W=H.useMemo(()=>Lx(v,g),[v,g]),_e=W.length>0?W:Yf,ge=H.useCallback(ve=>ns(ve,d,v),[d,v]);H.useEffect(()=>{Z&&w.current&&w.current.focus()},[Z]);const we=H.useCallback(ve=>{C(ve.colorKey),Z||(c(ve.colorKey,""),m())},[Z,c,m]),se=H.useCallback(()=>{U&&(c(U,R.trim()||void 0),m())},[U,R,c,m]);if(H.useEffect(()=>{const ve=Se=>{if(Se.key==="Escape"){m();return}if(!Z){const Ie=parseInt(Se.key,10);if(Ie>=1&&Ie<=_e.length){const Ve=_e[Ie-1];Ve&&we(Ve)}}Z&&Se.key==="Enter"&&(Se.metaKey||Se.ctrlKey)&&(Se.preventDefault(),se())};return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[Z,U,R,m,we,se,_e]),H.useEffect(()=>{const ve=Se=>{S.current&&!S.current.contains(Se.target)&&m()};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[m]),H.useEffect(()=>{A(""),C(null),ye(!1),oe(!1)},[r]),!r)return null;const be=U?_e.find(ve=>ve.colorKey===U):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:r.x,top:r.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:$?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:be?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:Z?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[_e.map((ve,Se)=>o.jsx("button",{type:"button",onClick:()=>we(ve),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:U===ve.colorKey?`${ve.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:ve.color,boxShadow:U===ve.colorKey?`0 0 0 2px ${ve.color}80`:"none",transform:U===ve.colorKey?"scale(1.15)":"scale(1)"}})},ve.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>ye(!Z),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${Z?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),Z&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!be&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),be&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:be.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ge(be.colorKey)})]}),o.jsx("textarea",{ref:w,value:R,onChange:ve=>A(ve.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:se,disabled:!be,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Qx=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],zp=5;function Yx({lens:r,documentId:c,onClose:m}){const d=Ui(),g=r?.colors??[],v=!r||r.is_system,[S,w]=H.useState(null),[U,C]=H.useState(""),R=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},A=An({mutationFn:ge=>In.addColor(r.id,ge),onSuccess:()=>{R(),w(null),C("")}}),Z=An({mutationFn:ge=>In.removeColor(r.id,ge),onSuccess:R}),ye=An({mutationFn:({colorId:ge,data:we})=>In.updateColor(r.id,ge,we),onSuccess:R}),$=new Set(g.map(ge=>ge.hex.toLowerCase())),oe=Qx.filter(ge=>!$.has(ge.toLowerCase())),W=()=>{!S||!U.trim()||A.mutate({key:`custom_${Date.now()}`,display_name:U.trim(),hex:S})},_e=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Na.surface} rounded-xl shadow-xl border ${ea.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ge=>ge.stopPropagation(),onMouseDown:ge=>ge.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Ke.heading}`,children:"Edit lens"}),r&&o.jsx("p",{className:`text-xs ${Ke.muted} mt-0.5`,children:r.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:v?o.jsx("p",{className:`text-sm ${Ke.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Ke.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",zp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(ge=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ge.hex}}),o.jsx("input",{type:"text",defaultValue:ge.display_name,placeholder:"Label",onBlur:we=>{const se=we.target.value.trim();se&&se!==ge.display_name&&ye.mutate({colorId:ge.id,data:{display_name:se}})},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Ke.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>Z.mutate(ge.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:Z.isPending,children:o.jsx(as,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ge.id))}),o.jsx("p",{className:`text-xs ${Ke.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<zp&&oe.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:U,onChange:ge=>C(ge.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ge=>{ge.key==="Enter"&&W()},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Ke.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{w(null),C("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:W,disabled:!U.trim()||A.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:A.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Ke.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(ge=>o.jsx("button",{type:"button",onClick:()=>{w(ge),C("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ge}},ge))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?_e:B0.createPortal(_e,document.body)}function Xx({position:r,initialValue:c="",onSave:m,onClose:d}){const[g,v]=H.useState(c),S=H.useRef(null),w=H.useRef(null);return H.useEffect(()=>{v(c)},[c,r]),H.useEffect(()=>{w.current?.focus()},[r]),H.useEffect(()=>{const U=C=>{C.key==="Escape"&&d(),C.key==="Enter"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[g,m,d]),H.useEffect(()=>{const U=C=>{S.current&&!S.current.contains(C.target)&&d()};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]),r?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:r.x,top:r.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:w,value:g,onChange:U=>v(U.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Gx(){const{id:r}=Gf(),c=ls(),m=Ui(),[d,g]=H.useState(null),[v,S]=H.useState(!1),[w,U]=H.useState(!0),[C,R]=H.useState(1.3),[A,Z]=H.useState(!0),[ye,$]=H.useState(null),[oe,W]=H.useState(null),[_e,ge]=H.useState(null),[we,se]=H.useState(null),[be,ve]=H.useState(null),[Se,Ie]=H.useState(0),[Ve,rt]=H.useState(1),[He,$e]=H.useState(!1),[gt,Ae]=H.useState(null),[qe,X]=H.useState(null),[ue,me]=H.useState(null),{data:Ne,isLoading:G,isError:E}=kn({queryKey:["document",r],queryFn:async()=>{const{data:pe}=await an.get(r);return pe},enabled:!!r});H.useEffect(()=>{if(!Ne||!r)return;let pe=!1;return(async()=>{U(!0);try{const ne=await Ax(Ne);pe||(ne?g(ne.data):S(!0))}finally{pe||U(!1)}})(),()=>{pe=!0}},[Ne,r]);const{data:te=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:pe}=await an.highlights(r);return pe},enabled:!!r}),{data:ce=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:pe}=await In.list();return pe}}),Me=H.useMemo(()=>ce.length?Ne?.highlight_preset!=null?ce.find(pe=>pe.id===Ne.highlight_preset)??null:ce.find(pe=>pe.is_system)??ce[0]??null:null,[ce,Ne?.highlight_preset]),Ze=H.useMemo(()=>Me?.colors??Ne?.highlight_preset_detail?.colors??[],[Me?.colors,Ne?.highlight_preset_detail?.colors]),at=H.useMemo(()=>{if(Ze?.length)return Ze.map(tt=>tt.key);const pe=Object.keys(Ne?.color_labels||{});return pe.length>0?pe:[...Eo]},[Ze,Ne?.color_labels]),vt=An({mutationFn:({documentId:pe,payload:tt})=>an.update(pe,tt),onSuccess:(pe,{documentId:tt})=>{m.invalidateQueries({queryKey:["document",tt]})}}),Ft=H.useCallback(async pe=>{if(!r)return;const tt=`_opt_${Date.now()}`,ne={id:tt,page_number:pe.page_number,position_data:pe.position_data,highlighted_text:pe.highlighted_text,color:pe.color,note:pe.comment?{id:tt,content:pe.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",r],(ke=[])=>[...ke,ne]),ge(null),se(null),ve(null);try{await an.createHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]})}catch(ke){console.error("Failed to save highlight",ke),m.setQueryData(["highlights",r],(xe=[])=>xe.filter(Fe=>Fe.id!==tt))}},[r,m]),dn=H.useCallback(pe=>{ge({page_number:pe.pageNumber,position_data:pe.position_data,highlighted_text:pe.highlighted_text}),se(pe.pickerPosition),ve({pageNumber:pe.pageNumber,spanStart:pe.spanStart,spanEnd:pe.spanEnd})},[]),je=H.useCallback((pe,tt)=>{_e&&Ft({..._e,color:pe,comment:tt})},[_e,Ft]),ft=H.useCallback(()=>{ge(null),se(null),ve(null)},[]),Ge=H.useCallback(pe=>{rt(pe),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${pe}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),dt=H.useCallback(pe=>{W(tt=>tt!=null&&String(tt)===String(pe)?null:pe)},[]),Zt=H.useCallback(pe=>Ie(pe??0),[]),Ot=H.useCallback(()=>{if(Ve<=1)return;const pe=Ve-1;rt(pe),Ge(pe)},[Ve,Ge]),Yn=H.useCallback(()=>{if(Ve>=Se)return;const pe=Ve+1;rt(pe),Ge(pe)},[Ve,Se,Ge]),ta=async pe=>{const tt=pe.target.files?.[0];if(!tt||!Ne||!r)return;const ne=await tt.arrayBuffer(),ke=await Qf(ne);if(ke!==Ne.pdf_hash){alert("This file does not match the original document.");return}try{const xe=new FormData;xe.append("file",new Blob([ne],{type:"application/pdf"}),tt.name||Ne.filename||"document.pdf"),await an.uploadPdf(r,xe)}catch(xe){const Fe=xe.response?.data?.detail??xe.message??"Upload failed";alert(typeof Fe=="string"?Fe:JSON.stringify(Fe));return}await ed(ke,Ne.filename||tt.name,tt.size,ne),g(ne),S(!1)};return r?G||w?o.jsx("div",{className:`${Us} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ke.muted} animate-spin`})}):E||!Ne&&!G?o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ke.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ke.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Ne?.project?`/project/${Ne.project}`:"/"),className:Yr,children:"Back to project"})]}):v?o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center`,children:[o.jsx(No,{className:`w-12 h-12 ${Ke.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Ke.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Ke.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:Ne?.filename}),"."]}),o.jsxs("label",{className:`${Yr} inline-flex items-center gap-2`,children:[o.jsx(No,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ta,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(Ne?.project?`/project/${Ne.project}`:"/"),className:`mt-4 text-sm ${Ke.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${Na.page} overflow-hidden`,children:[o.jsxs("header",{className:`${ry} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Ne?.project?`/project/${Ne.project}`:"/"),className:ki,title:"Back to project",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Ke.heading} truncate max-w-xs`,children:Ne?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ce.length>0&&o.jsx("select",{value:Ne?.highlight_preset!=null?String(Ne.highlight_preset):ce.find(pe=>pe.is_system)?.id??"",onChange:pe=>{const tt=pe.target.value,ne=tt===""?null:Number(tt);r&&(te.length>0?me(ne):vt.mutate({documentId:r,payload:{highlight_preset:ne}}))},className:`text-xs rounded-lg border ${ea.default} ${Na.surface} py-1.5 pl-2 pr-7 ${Ke.body} cursor-pointer max-w-44`,title:"Highlight lens",children:ce.map(pe=>o.jsx("option",{value:pe.id,children:pe.name},pe.id))}),o.jsx("button",{type:"button",onClick:()=>$e(!0),className:ki,title:"Edit lens",children:o.jsx(dx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${r}/summary`),className:ki,title:"Summary",children:o.jsx(Wb,{className:"w-4 h-4"})}),o.jsx("div",{className:Np}),o.jsxs("div",{className:`flex items-center gap-1 ${Na.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>R(pe=>Math.max(.5,pe-.1)),className:`p-1.5 ${Ke.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(xx,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Ke.secondary} w-12 text-center`,children:[Math.round(C*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>R(pe=>Math.min(3,pe+.1)),className:`p-1.5 ${Ke.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(gx,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:Np}),o.jsx("button",{type:"button",onClick:()=>Z(pe=>!pe),className:ki,title:A?"Close annotations":"Open annotations",children:A?o.jsx(sx,{className:"w-4 h-4"}):o.jsx(rx,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(qx,{pdfData:d,scale:C,highlights:te,hoveredHighlightId:ye,activeHighlightId:oe,selectionForPicker:be,lensColors:Ze,onSelectionComplete:dn,onNumPages:Zt,onHighlightHover:$,onHighlightHoverEnd:()=>$(null),onHighlightEdit:(pe,tt)=>{const ne=tt?.target?.getBoundingClientRect?.();ne?X({highlightId:pe,x:ne.left+ne.width/2,y:ne.bottom}):(Ae(pe),Z(!0))},onHighlightDelete:async pe=>{if(!r)return;const tt=m.getQueryData(["highlights",r]);m.setQueryData(["highlights",r],(ne=[])=>ne.filter(ke=>String(ke.id)!==String(pe))),String(oe)===String(pe)&&W(null),String(ye)===String(pe)&&$(null);try{await an.deleteHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]})}catch(ne){console.error("Failed to delete highlight",ne),m.setQueryData(["highlights",r],tt)}}}),we&&o.jsx(Kx,{position:we,onSelect:je,onClose:ft,colorLabels:Ne?.color_labels,documentColorKeys:at,lensColors:Ze}),qe&&o.jsx(Xx,{position:{x:qe.x,y:qe.y},initialValue:(te||[]).find(pe=>String(pe.id)===String(qe.highlightId))?.note?.content??"",onSave:async pe=>{r&&(await an.updateHighlight(r,qe.highlightId,{note:pe}),m.invalidateQueries({queryKey:["highlights",r]}),X(null))},onClose:()=>X(null)}),He&&o.jsx(Yx,{lens:Me,documentId:r,onClose:()=>$e(!1)}),ue!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>me(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:pe=>pe.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:te.length})," highlight",te.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>me(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const pe=ue;me(null);for(const tt of te)await an.deleteHighlight(r,tt.id);m.invalidateQueries({queryKey:["highlights",r]}),W(null),$(null),vt.mutate({documentId:r,payload:{highlight_preset:pe}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),A&&o.jsx(Hx,{highlights:te,colorLabels:Ne?.color_labels,lensColors:Ze,documentColorKeys:at,activeHighlightId:oe,onScrollToPage:Ge,onHighlightClick:dt,onHighlightHover:$,onHighlightHoverEnd:()=>$(null),onClearActive:()=>W(null),documentId:r,openEditForHighlightId:gt,onClearOpenEditForHighlightId:()=>Ae(null),onHighlightNoteUpdate:async(pe,tt)=>{r&&(await an.updateHighlight(r,pe,{note:tt}),m.invalidateQueries({queryKey:["highlights",r]}))},onHighlightDelete:async pe=>{r&&(await an.deleteHighlight(r,pe),m.invalidateQueries({queryKey:["highlights",r]}),String(oe)===String(pe)&&W(null),String(ye)===String(pe)&&$(null))}})]}),Se>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${A?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:Ot,disabled:Ve<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ve," of ",Se]}),o.jsx("button",{type:"button",onClick:Yn,disabled:Ve>=Se,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const Vx="modulepreload",Fx=function(r){return"/static/frontend/"+r},kp={},mo=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let U=function(C){return Promise.all(C.map(R=>Promise.resolve(R).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),w=S?.nonce||S?.getAttribute("nonce");g=U(m.map(C=>{if(C=Fx(C),C in kp)return;kp[C]=!0;const R=C.endsWith(".css"),A=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${A}`))return;const Z=document.createElement("link");if(Z.rel=R?"stylesheet":Vx,R||(Z.as="script"),Z.crossOrigin="",Z.href=C,w&&Z.setAttribute("nonce",w),document.head.appendChild(Z),R)return new Promise((ye,$)=>{Z.addEventListener("load",ye),Z.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${C}`)))})}))}function v(S){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=S,window.dispatchEvent(w),!w.defaultPrevented)throw S}return g.then(S=>{for(const w of S||[])w.status==="rejected"&&v(w.reason);return c().catch(v)})};function Xf(r,c){return c?.find(m=>m.key===r)?.hex??bl[r]?.hex??"#94a3b8"}function zf({highlight:r,selected:c,onToggleSelect:m,lensColors:d,colorLabels:g,editingNoteId:v,editingNoteValue:S,onStartEdit:w,onSaveNote:U,onCancelEdit:C,onEditValueChange:R,onCopy:A,onDelete:Z}){const ye=r.color,$=Xf(ye,d),oe=ns(ye,g,d),W=v===r.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${c?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:()=>m(r.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Ke.body} whitespace-pre-wrap`,children:r.highlighted_text||"(No text captured)"}),W?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:_e=>R(_e.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ke.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>U(r.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(wo,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:C,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[r.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Ke.muted} mt-2 leading-snug italic`,children:r.note.content}),o.jsxs("button",{type:"button",onClick:()=>w(r),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(Mo,{className:"w-3 h-3"}),r.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:$,backgroundColor:Ka($,.08)},children:oe}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",r.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>A(r),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(Pf,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>Z(r.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Zx(){const{id:r}=Gf(),c=ls(),m=Ui(),[d,g]=H.useState("sequence"),[v,S]=H.useState(""),[w,U]=H.useState(new Set),[C,R]=H.useState(new Set),[A,Z]=H.useState(()=>new Set),[ye,$]=H.useState(!1),[oe,W]=H.useState(!1),[_e,ge]=H.useState(null),[we,se]=H.useState(!1),[be,ve]=H.useState(!1),[Se,Ie]=H.useState(null),[Ve,rt]=H.useState(""),{data:He,isLoading:$e,isError:gt}=kn({queryKey:["document",r],queryFn:async()=>{const{data:ne}=await an.get(r);return ne},enabled:!!r}),{data:Ae=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:ne}=await an.highlights(r);return ne},enabled:!!r}),{data:qe=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:ne}=await In.list();return ne}}),X=H.useMemo(()=>qe.length?He?.highlight_preset!=null?qe.find(ne=>ne.id===He.highlight_preset)??null:qe.find(ne=>ne.is_system)??qe[0]??null:null,[qe,He?.highlight_preset]),ue=H.useMemo(()=>X?.colors??He?.highlight_preset_detail?.colors??[],[X?.colors,He?.highlight_preset_detail?.colors]),me=H.useMemo(()=>{if(ue?.length)return ue.map(ke=>ke.key);const ne=Object.keys(He?.color_labels||{});return ne.length>0?ne:[...Eo]},[ue,He?.color_labels]);An({mutationFn:({documentId:ne,highlightId:ke})=>an.deleteHighlight(ne,ke),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}});const Ne=An({mutationFn:({documentId:ne,highlightId:ke,note:xe})=>an.updateHighlight(ne,ke,{note:xe}),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}}),G=H.useMemo(()=>{let ne=Ae||[];const ke=v.trim().toLowerCase();return ke&&(ne=ne.filter(xe=>xe.highlighted_text&&xe.highlighted_text.toLowerCase().includes(ke)||xe.note?.content&&xe.note.content.toLowerCase().includes(ke))),w.size>0&&(ne=ne.filter(xe=>w.has(xe.color))),ne},[Ae,v,w]),E=H.useMemo(()=>G,[G]),te=H.useMemo(()=>{const ne={};for(const ke of G){const xe=ke.color??"uncategorized";ne[xe]||(ne[xe]=[]),ne[xe].push(ke)}return ne},[G]),ce=H.useMemo(()=>{const ne={};for(const xe of G){const Fe=`page-${xe.page_number??0}`;ne[Fe]||(ne[Fe]=[]),ne[Fe].push(xe)}return Object.keys(ne).sort((xe,Fe)=>parseInt(xe.replace("page-",""),10)-parseInt(Fe.replace("page-",""),10)).map(xe=>({key:xe,page:parseInt(xe.replace("page-",""),10),items:ne[xe]}))},[G]),Me=H.useCallback(ne=>{U(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),Ze=H.useCallback(ne=>{R(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),at=H.useCallback(ne=>{Z(ke=>{const xe=new Set(ke),Fe=String(ne);return xe.has(Fe)?xe.delete(Fe):xe.add(Fe),xe})},[]),vt=H.useCallback(async()=>{const ke=Ae.filter(xe=>A.has(String(xe.id))).map(xe=>`${xe.highlighted_text||""}${xe.note?.content?`
  Note: ${xe.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(ke),$(!0),setTimeout(()=>$(!1),2e3)}catch(xe){console.error("Failed to copy",xe)}},[Ae,A]),Ft=H.useCallback(async()=>{r&&se(!0)},[r]),dn=H.useCallback(async()=>{if(r){ve(!0);try{for(const ne of A)await an.deleteHighlight(r,ne);m.invalidateQueries({queryKey:["highlights",r]}),Z(new Set),se(!1)}catch(ne){console.error("Failed to delete highlights",ne)}finally{ve(!1)}}},[r,A,m]),je=H.useCallback(()=>{const ne={filename:He?.filename,exportedAt:new Date().toISOString(),highlights:G.map(lt=>({id:lt.id,page_number:lt.page_number,color:lt.color,highlighted_text:lt.highlighted_text,note:lt.note?.content,created_at:lt.created_at,updated_at:lt.updated_at}))},ke=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),xe=URL.createObjectURL(ke),Fe=window.document.createElement("a");Fe.href=xe,Fe.download=`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,Fe.click(),URL.revokeObjectURL(xe),W(!1)},[He?.filename,G]),ft=H.useCallback(async()=>{try{const{Document:ne,Packer:ke,Paragraph:xe,TextRun:Fe}=await mo(async()=>{const{Document:sn,Packer:Dn,Paragraph:ze,TextRun:Qe}=await import("./index-CMhXIFeh.js");return{Document:sn,Packer:Dn,Paragraph:ze,TextRun:Qe}},[]),{saveAs:lt}=await mo(async()=>{const{saveAs:sn}=await import("./FileSaver.min-rgW_m_5v.js").then(Dn=>Dn.F);return{saveAs:sn}},__vite__mapDeps([0,1])),bt=[new xe({children:[new Fe({text:He?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const sn of G){const Dn=ns(sn.color,He?.color_labels,ue);bt.push(new xe({children:[new Fe({text:`[${Dn}] p.${sn.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new xe({children:[new Fe({text:sn.highlighted_text||"",size:22})],spacing:{after:60}})),sn.note?.content&&bt.push(new xe({children:[new Fe({text:`Note: ${sn.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ne({sections:[{children:bt}]}),mn=await ke.toBlob(Et);lt(mn,`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),W(!1)}catch(ne){console.error("Export docx failed",ne)}},[He?.filename,He?.color_labels,G,ue]),Ge=H.useCallback(async()=>{try{const{jsPDF:ne}=await mo(async()=>{const{jsPDF:bt}=await import("./jspdf.es.min-Iwr6vEs8.js").then(Et=>Et.j);return{jsPDF:bt}},[]),{saveAs:ke}=await mo(async()=>{const{saveAs:bt}=await import("./FileSaver.min-rgW_m_5v.js").then(Et=>Et.F);return{saveAs:bt}},__vite__mapDeps([0,1])),xe=new ne;let Fe=20;xe.setFontSize(16),xe.text(He?.filename??"Document Summary",20,Fe),Fe+=12;for(const bt of G){const Et=ns(bt.color,He?.color_labels,ue);Fe>270&&(xe.addPage(),Fe=20),xe.setFontSize(10),xe.setFont(void 0,"bold"),xe.text(`[${Et}] p.${bt.page_number}`,20,Fe),Fe+=6,xe.setFont(void 0,"normal");const mn=xe.splitTextToSize(bt.highlighted_text||"",170);xe.text(mn,20,Fe),Fe+=mn.length*5+4,bt.note?.content&&(xe.setFont(void 0,"italic"),xe.text(`Note: ${bt.note.content}`,20,Fe),Fe+=6,xe.setFont(void 0,"normal")),Fe+=8}const lt=xe.output("blob");ke(lt,`${(He?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),W(!1)}catch(ne){console.error("Export pdf failed",ne)}},[He?.filename,He?.color_labels,G,ue]),dt=ne=>{Ie(ne.id),rt(ne.note?.content??"")},Zt=ne=>{r&&(Ne.mutate({documentId:r,highlightId:ne,note:Ve.trim()||""}),Ie(null),rt(""))},Ot=()=>{Ie(null),rt("")},Yn=ne=>{const ke=`${ne.highlighted_text||""}${ne.note?.content?`
  Note: ${ne.note.content}`:""}`;navigator.clipboard?.writeText(ke).catch(console.error)},ta=ne=>{ge(ne)},pe=H.useCallback(async()=>{!r||!_e||(await an.deleteHighlight(r,_e),m.invalidateQueries({queryKey:["highlights",r]}),Z(ne=>{const ke=new Set(ne);return ke.delete(String(_e)),ke}),ge(null))},[r,_e,m]);if(!r)return c("/",{replace:!0}),null;if($e)return o.jsx("div",{className:`${Us} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ke.muted} animate-spin`})});if(gt||!He&&!$e)return o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ke.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ke.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(He?.project?`/project/${He.project}`:"/"),className:Yr,children:"Back to project"})]});const tt=ue?.length>0?ue.map(ne=>ne.key):me?.length>0?me:Eo;return o.jsxs("div",{className:`min-h-screen ${Na.page}`,children:[o.jsx("header",{className:`${ry} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(He?.project?`/project/${He.project}`:`/document/${r}`),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Ke.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Ke.muted} truncate max-w-xs`,children:He?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ne,label:ke})=>o.jsx("button",{type:"button",onClick:()=>g(ne),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ne?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Ke.secondary} hover:text-slate-700`}`,children:ke},ne))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:v,onChange:ne=>S(ne.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${ea.default} rounded-lg ${Na.surface} outline-none ${Ke.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>W(ne=>!ne),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${ea.default} ${Na.surface} hover:bg-slate-50 ${Ke.body}`,children:["Export",o.jsx(xo,{className:"w-4 h-4"})]}),oe&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>W(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${ea.default} ${Na.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:ft,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qi,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Ge,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Jb,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:je,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Qb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),A.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Ke.secondary}`,children:[A.size," selected"]}),o.jsxs("button",{type:"button",onClick:vt,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(Pf,{className:"w-3.5 h-3.5"}),ye?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Ft,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(ss,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>Z(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:tt.map(ne=>{const ke=(Ae||[]).filter(bt=>bt.color===ne).length;if(!ke)return null;const xe=Xf(ne,ue),Fe=ns(ne,He?.color_labels,ue),lt=w.size===0||w.has(ne);return o.jsxs("button",{type:"button",onClick:()=>Me(ne),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:lt?xe:"#E2E8F0",background:lt?Ka(xe,.08):"#fff",opacity:lt?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:xe}}),o.jsx("span",{children:Fe}),o.jsxs("span",{className:"opacity-80",children:["(",ke,")"]})]},ne)})}),o.jsx("div",{className:"space-y-4",children:G.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:E.map(ne=>o.jsx("li",{children:o.jsx(zf,{highlight:ne,selected:A.has(String(ne.id)),onToggleSelect:at,lensColors:ue,colorLabels:He?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},ne.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(te).map(([ne,ke])=>{const xe=Xf(ne,ue),Fe=ns(ne,He?.color_labels,ue),lt=`topic-${ne}`,bt=C.has(lt);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:Ka(xe,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>Ze(lt),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:Ka(xe,.1)},children:[bt?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(xo,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:xe},children:Fe}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",ke.length,")"]})]}),!bt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ke.map(Et=>o.jsx("li",{children:o.jsx(zf,{highlight:Et,selected:A.has(String(Et.id)),onToggleSelect:at,lensColors:ue,colorLabels:He?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},Et.id))})]},ne)})}):o.jsx("div",{className:"space-y-4",children:ce.map(({key:ne,page:ke,items:xe})=>{const Fe=`page-${ke}`,lt=C.has(Fe);return o.jsxs("div",{className:`border ${ea.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>Ze(Fe),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[lt?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(xo,{className:"w-4 h-4 shrink-0"}),"Page ",ke,o.jsxs("span",{className:`text-xs ${Ke.muted}`,children:["(",xe.length,")"]})]}),!lt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:xe.map(bt=>o.jsx("li",{children:o.jsx(zf,{highlight:bt,selected:A.has(String(bt.id)),onToggleSelect:at,lensColors:ue,colorLabels:He?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},bt.id))})]},ne)})}):o.jsxs("div",{className:`py-12 text-center ${Ke.muted} text-sm`,children:[o.jsx(qi,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),_e&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>ge(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ge(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:pe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),we&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!be&&se(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",A.size," highlight",A.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>se(!1),disabled:be,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:be,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[be&&o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function $x({onClose:r,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:r,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ya,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Jx(){const r=ls(),c=xl(R=>R.logout),[m,d]=H.useState(!1),[g,v]=H.useState(!1),[S,w]=H.useState(""),U=()=>{c(),r("/login",{replace:!0})},C=async()=>{w(""),v(!0);try{await Bi.deleteAccount(),c(),r("/",{replace:!0})}catch(R){w(R.response?.data?.detail||R.message||"Something went wrong."),v(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsx("button",{type:"button",onClick:U,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:o.jsx(Wf,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(cy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx($x,{onClose:()=>!g&&d(!1),onConfirm:C,isDeleting:g})]})}function po(r){return!r||typeof r!="string"?r:r.replace(/\r\n|\r|\n/g," ").replace(/\s+/g," ").trim()}function Rp(r,c){if(!c||c.length<2)return r;const m=new RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(m).map((g,v)=>m.test(g)?o.jsx("mark",{className:"bg-yellow-200 rounded-sm px-px",children:g},v):g)}const dy="wisemark_saved_searches";function Px(){try{const r=localStorage.getItem(dy);if(r){const c=JSON.parse(r);if(Array.isArray(c)&&c.length>0)return c}}catch{}return[{id:"s1",name:"Margin compression",query:"margin compression",filters:{categories:[]}}]}function Bp(r){localStorage.setItem(dy,JSON.stringify(r))}function kf({ann:r,query:c,hovered:m,onHover:d,onLeave:g,showDoc:v,onNavigate:S}){const[w,U]=H.useState(!1),C=r.color_hex||"#94a3b8",R=Z=>{Z.stopPropagation();const ye=`"${po(r.highlighted_text)}"${r.note?.content?`
  Note: ${po(r.note.content)}`:""}`;navigator.clipboard?.writeText(ye),U(!0),setTimeout(()=>U(!1),1500)},A=m?"#D1D9E2":"#EDF0F4";return o.jsx("div",{onMouseEnter:()=>d(r.id),onMouseLeave:g,onClick:()=>S(r.document_id),className:"bg-white rounded-[10px] transition-all cursor-pointer",style:{borderTop:`1px solid ${A}`,borderRight:`1px solid ${A}`,borderBottom:`1px solid ${A}`,borderLeft:`3px solid ${C}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none"},children:o.jsxs("div",{className:"px-4 py-3.5",children:[o.jsxs("p",{className:`text-xs leading-snug ${Ke.body}`,style:{fontFamily:"'DM Sans', sans-serif"},children:["",Rp(po(r.highlighted_text),c),""]}),r.note?.content&&o.jsx("p",{className:`mt-2 text-[11.5px] ${Ke.muted} leading-snug italic`,style:{fontFamily:"'DM Sans', sans-serif"},children:Rp(po(r.note.content),c)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100 flex-wrap",children:[o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:C,background:Ka(C,.08)},children:r.color_display_name}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",r.page_number]}),v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-500 font-medium truncate max-w-[220px] flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 shrink-0"}),r.document_name?.replace(/\.pdf$/i,"")]})]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Lf,{className:"w-2.5 h-2.5 shrink-0"}),r.project_name]}),o.jsx("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:m?1:0},children:o.jsxs("button",{onClick:R,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:w?"#16A34A":"#64748B"},children:[w?o.jsx(wo,{className:"w-3 h-3"}):o.jsx(Pf,{className:"w-3 h-3"}),w?"Copied":"Copy"]})})]})]})})}function Wx({results:r,colorMap:c}){const m={},d={},g={};r.forEach(w=>{m[w.color]=(m[w.color]||0)+1,d[w.document_id]=(d[w.document_id]||0)+1,g[w.project_id]=(g[w.project_id]||0)+1});const v=Object.entries(d).sort(([,w],[,U])=>U-w).slice(0,4),S=v.length?v[0][1]:1;return o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[10px] p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2.5 text-xs font-semibold text-slate-600",children:[o.jsx(Xb,{className:"w-3.5 h-3.5"})," Search insights"]}),o.jsx("div",{className:"flex gap-1 flex-wrap mb-2.5",children:Object.entries(m).sort(([,w],[,U])=>U-w).map(([w,U])=>{const C=c[w],R=C?.hex||"#94a3b8";return o.jsxs("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded flex items-center gap-1",style:{color:R,background:Ka(R,.08)},children:[o.jsx("strong",{children:U})," ",C?.name||w]},w)})}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:[o.jsxs("span",{className:"font-semibold",children:["Across ",Object.keys(d).length," documents"]}),o.jsxs("span",{className:"text-slate-400",children:[" in ",Object.keys(g).length," projects"]}),o.jsx("div",{className:"mt-1.5 flex flex-col gap-1",children:v.map(([w,U])=>{const C=r.find(R=>R.document_id===Number(w));return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-1 rounded bg-slate-300",style:{width:Math.max(12,U/S*80)}}),o.jsxs("span",{className:"text-[11px] text-slate-500 truncate max-w-[260px]",children:[C?.document_name?.replace(/\.pdf$/i,"")," (",U,")"]})]},w)})})]})]})}function Ix(){const r=ls(),c=H.useRef(null),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState([]),[U,C]=H.useState([]),[R,A]=H.useState("flat"),[Z,ye]=H.useState(null),{data:$,isLoading:oe}=kn({queryKey:["library"],queryFn:async()=>{const{data:G}=await Ob.get();return G}}),{data:W=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:G}=await In.list();return G}}),[_e,ge]=H.useState(null),[we,se]=H.useState(Px),be=$?.highlights||[],ve=$?.projects||[],Se=W;H.useEffect(()=>{c.current?.focus()},[]);const Ie=H.useMemo(()=>_e==null?null:Se.find(G=>G.id===_e)??null,[Se,_e]),Ve=H.useMemo(()=>{if(Ie?.colors?.length){const E={};return Ie.colors.forEach(te=>{E[te.key]={name:te.display_name||te.key,hex:te.hex||"#94a3b8"}}),E}const G={};return be.forEach(E=>{G[E.color]||(G[E.color]={name:E.color_display_name,hex:E.color_hex})}),G},[Ie,be]);H.useCallback(G=>{d(G),v(G)},[]);const rt=H.useCallback(G=>{d(G.query),v(G.query),G.filters?.categories?.length&&w(G.filters.categories),G.filters?.projects?.length&&C(G.filters.projects)},[]),He=H.useCallback(()=>{const G=g||"Untitled search",E={id:"s"+Date.now(),name:G,query:g,filters:{categories:[...S],projects:[...U]}},te=[...we.filter(ce=>ce.query!==g),E];se(te),Bp(te)},[g,S,U,we]),$e=H.useCallback((G,E)=>{E?.stopPropagation?.();const te=we.filter(ce=>ce.id!==G);se(te),Bp(te)},[we]),gt=H.useCallback(G=>{w(E=>E.includes(G)?E.filter(te=>te!==G):[...E,G])},[]),Ae=H.useCallback(G=>{C(E=>E.includes(G)?E.filter(te=>te!==G):[...E,G])},[]),qe=H.useMemo(()=>{let G=be;if(g){const E=g.toLowerCase();G=G.filter(te=>te.highlighted_text?.toLowerCase().includes(E)||te.note?.content?.toLowerCase().includes(E)||te.color_display_name?.toLowerCase().includes(E))}return S.length>0&&(G=G.filter(E=>S.includes(E.color))),U.length>0&&(G=G.filter(E=>U.includes(E.project_id))),G},[be,g,S,U]),X=H.useMemo(()=>{if(R==="document"){const G={};return qe.forEach(E=>{G[E.document_id]||(G[E.document_id]=[]),G[E.document_id].push(E)}),G}if(R==="category"){const G={};return qe.forEach(E=>{G[E.color]||(G[E.color]=[]),G[E.color].push(E)}),G}return null},[R,qe]),ue=S.length>0||U.length>0,me=g||ue,Ne=H.useMemo(()=>new Set(be.map(E=>E.document_id)).size,[be]);return oe?o.jsx("div",{className:"min-h-screen bg-[#F8FAFB] flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 text-slate-400 animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-[17px] font-semibold text-slate-900 tracking-tight",children:"Library"}),o.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:[be.length," annotations across ",Ne," documents"]})]})}),o.jsxs("div",{className:"flex items-center gap-2.5 bg-slate-50 border-[1.5px] border-slate-200 rounded-[10px] px-3.5 py-2.5 mb-3.5 focus-within:border-slate-400 transition-colors",children:[o.jsx(Gr,{className:"w-[18px] h-[18px] text-slate-400 shrink-0"}),o.jsx("input",{ref:c,value:m,onChange:G=>d(G.target.value),onKeyDown:G=>{G.key==="Enter"&&v(m)},placeholder:"Search across all your annotations...",className:"border-0 bg-transparent outline-none text-[15px] text-slate-900 w-full placeholder:text-slate-400"}),m&&o.jsx("button",{onClick:()=>{d(""),v("")},className:"bg-slate-200 rounded p-0.5 text-slate-500 hover:bg-slate-300 shrink-0",children:o.jsx(as,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>v(m),className:"bg-slate-800 text-white rounded-lg px-4 py-1.5 text-[13px] font-medium hover:bg-slate-700 shrink-0",children:"Search"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mb-3 flex-wrap",children:[o.jsxs("span",{className:"text-[11px] text-slate-400 font-medium mr-1 flex items-center gap-1",children:[o.jsx(Lb,{className:"w-3 h-3"}),"Saved:"]}),we.map(G=>o.jsxs("div",{className:"flex items-center gap-0.5 group",children:[o.jsx("button",{onClick:()=>rt(G),className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-full pl-3 pr-2 py-1 hover:border-slate-400 hover:text-slate-900 transition-colors",children:G.name}),o.jsx("button",{onClick:E=>$e(G.id,E),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-600 transition-all",title:"Delete saved search",children:o.jsx(ss,{className:"w-2.5 h-2.5"})})]},G.id)),me&&o.jsx("button",{onClick:He,className:"text-xs text-slate-500 border border-dashed border-slate-300 rounded-full px-3 py-1 hover:border-slate-400 hover:text-slate-700",children:"Save this search"})]}),o.jsxs("div",{className:"flex items-center gap-2 pb-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[o.jsx("span",{className:"text-[11px] text-slate-400 font-medium",children:"Lens:"}),o.jsxs("select",{value:_e??"",onChange:G=>{const E=G.target.value;ge(E===""?null:Number(E))},className:"text-xs text-slate-700 bg-white border border-slate-200 rounded-lg px-2.5 py-1.5 cursor-pointer outline-none focus:ring-1 focus:ring-slate-300",children:[o.jsx("option",{value:"",children:"No lens"}),Se.map(G=>o.jsx("option",{value:G.id,children:G.name},G.id))]})]}),Object.entries(Ve).map(([G,E])=>{const te=S.includes(G),ce=E.hex;return o.jsxs("button",{onClick:()=>gt(G),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:te?Ka(ce,.5):"#E8ECF0",background:te?Ka(ce,.08):"#FAFBFC",opacity:te?1:S.length>0?.4:.7},children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{background:ce}}),o.jsx("span",{className:"text-xs font-medium",style:{color:te?"#374151":"#94A3B8"},children:E.name})]},G)}),Object.keys(Ve).length>0&&ve.length>0&&o.jsx("div",{className:"w-px h-[18px] bg-slate-200 mx-1"}),ve.map(G=>{const E=U.includes(G.id);return o.jsxs("button",{onClick:()=>Ae(G.id),className:"flex items-center gap-1 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:E?"#475569":"#E8ECF0",background:E?"#F1F5F9":"#FAFBFC",opacity:E?1:U.length>0?.4:.7},children:[o.jsx(Lf,{className:"w-2.5 h-2.5"}),o.jsx("span",{className:"text-xs font-medium",style:{color:E?"#1E293B":"#94A3B8"},children:G.name})]},G.id)}),ue&&o.jsx("button",{onClick:()=>{w([]),C([])},className:"text-xs text-slate-400 border border-dashed border-slate-300 rounded-full px-2.5 py-1 hover:text-slate-600",children:"Clear all"})]})]})}),o.jsxs("div",{className:"relative px-7 py-5 pb-20",children:[o.jsxs("div",{className:"max-w-[860px] mx-auto",children:[me&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[13px] text-slate-500",children:[o.jsx("strong",{className:"text-slate-900",children:qe.length})," result",qe.length!==1&&"s",g&&o.jsxs(o.Fragment,{children:[" for ",o.jsx("strong",{className:"text-slate-900",children:g}),""]}),ue&&o.jsx("span",{className:"text-slate-400",children:" (filtered)"})]}),o.jsxs("select",{value:R,onChange:G=>A(G.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"flat",children:"No grouping"}),o.jsx("option",{value:"document",children:"Group by document"}),o.jsx("option",{value:"category",children:"Group by category"})]})]}),!me&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Gr,{className:"w-10 h-10 mx-auto mb-3 text-slate-200"}),o.jsx("p",{className:"text-[15px] text-slate-600 font-medium mb-1.5",children:"Search across all your annotations"}),o.jsx("p",{className:"text-[13px] text-slate-400 max-w-[380px] mx-auto",children:"Find patterns across deals, surface past insights, and build on your own analysis."})]}),me&&qe.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400 text-sm",children:"No annotations match your search. Try different keywords or clear your filters."}),me&&R==="flat"&&qe.length>0&&o.jsx("div",{className:"flex flex-col gap-2",children:qe.map(G=>o.jsx(kf,{ann:G,query:g,hovered:Z===G.id,onHover:ye,onLeave:()=>ye(null),showDoc:!0,onNavigate:E=>r(`/document/${E}`)},G.id))}),me&&R==="document"&&X&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(X).map(([G,E])=>{const te=E[0];return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qi,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:te?.document_name?.replace(/\.pdf$/i,"")}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:E.length}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Lf,{className:"w-2.5 h-2.5"})," ",te?.project_name]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:E.map(ce=>o.jsx(kf,{ann:ce,query:g,hovered:Z===ce.id,onHover:ye,onLeave:()=>ye(null),showDoc:!1,onNavigate:Me=>r(`/document/${Me}`)},ce.id))})]},G)})}),me&&R==="category"&&X&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(Ve).map(([G,E])=>{const te=X[G];return!te||te.length===0?null:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:E.hex}}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:E.name}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:te.length})]}),o.jsx("div",{className:"flex flex-col gap-2",children:te.map(ce=>o.jsx(kf,{ann:ce,query:g,hovered:Z===ce.id,onHover:ye,onLeave:()=>ye(null),showDoc:!0,onNavigate:Me=>r(`/document/${Me}`)},ce.id))})]},G)})})]}),me&&qe.length>3&&o.jsx("div",{className:"absolute right-7 top-5 w-[260px]",children:o.jsx("div",{className:"sticky top-24",children:o.jsx(Wx,{results:qe,colorMap:Ve})})})]})]})}const ev=new D0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function zi({children:r}){return xl(m=>m.token)?r:o.jsx(So,{to:"/login",replace:!0})}function qp({children:r}){return xl(m=>m.token)?o.jsx(So,{to:"/app",replace:!0}):r}function tv(){return o.jsx(T0,{client:ev,children:o.jsx(q0,{children:o.jsxs(U0,{children:[o.jsx(La,{path:"/login",element:o.jsx(qp,{children:o.jsx(Tb,{})})}),o.jsx(La,{path:"/register",element:o.jsx(qp,{children:o.jsx(Mb,{})})}),o.jsx(La,{path:"/",element:o.jsx(So,{to:"/app",replace:!0})}),o.jsx(La,{path:"/app",element:o.jsx(zi,{children:o.jsx(wx,{})})}),o.jsx(La,{path:"/app/library",element:o.jsx(zi,{children:o.jsx(Ix,{})})}),o.jsx(La,{path:"/app/settings",element:o.jsx(zi,{children:o.jsx(Jx,{})})}),o.jsx(La,{path:"/project/:projectId",element:o.jsx(zi,{children:o.jsx(Tx,{})})}),o.jsx(La,{path:"/document/:id",element:o.jsx(zi,{children:o.jsx(Gx,{})})}),o.jsx(La,{path:"/document/:id/summary",element:o.jsx(zi,{children:o.jsx(Zx,{})})}),o.jsx(La,{path:"*",element:o.jsx(So,{to:"/app",replace:!0})})]})})})}V0.createRoot(document.getElementById("root")).render(o.jsx(H.StrictMode,{children:o.jsx(tv,{})}));export{mo as _};
