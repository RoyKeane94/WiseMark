const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as c,u as Rr,a as Jn,b as jn,Q as S0,c as w0}from"./query-CQ1uvarX.js";import{a as j0,b as N0,R as so,u as Bi,r as X,L as Dp,c as _0,g as E0,d as Uf,e as C0,B as A0,f as O0,h as dl,N as po}from"./react-OW7IPSYu.js";import{G as D0,g as T0,U as M0}from"./pdf-omjxc98r.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const v of S.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function m(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function d(g){if(g.ep)return;g.ep=!0;const S=m(g);fetch(g.href,S)}})();var wf={exports:{}},qs={},jf={exports:{}},Nf={};var $m;function z0(){return $m||($m=1,(function(u){function o(Y,me){var ge=Y.length;Y.push(me);e:for(;0<ge;){var je=ge-1>>>1,ke=Y[je];if(0<g(ke,me))Y[je]=me,Y[ge]=ke,ge=je;else break e}}function m(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var me=Y[0],ge=Y.pop();if(ge!==me){Y[0]=ge;e:for(var je=0,ke=Y.length,G=ke>>>1;je<G;){var se=2*(je+1)-1,Ne=Y[se],Me=se+1,Le=Y[Me];if(0>g(Ne,ge))Me<ke&&0>g(Le,Ne)?(Y[je]=Le,Y[Me]=ge,je=Me):(Y[je]=Ne,Y[se]=ge,je=se);else if(Me<ke&&0>g(Le,ge))Y[je]=Le,Y[Me]=ge,je=Me;else break e}}return me}function g(Y,me){var ge=Y.sortIndex-me.sortIndex;return ge!==0?ge:Y.id-me.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;u.unstable_now=function(){return S.now()}}else{var v=Date,N=v.now();u.unstable_now=function(){return v.now()-N}}var q=[],E=[],M=1,z=null,$=3,ye=!1,V=!1,ie=!1,P=!1,Ae=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function te(Y){for(var me=m(E);me!==null;){if(me.callback===null)d(E);else if(me.startTime<=Y)d(E),me.sortIndex=me.expirationTime,o(q,me);else break;me=m(E)}}function we(Y){if(ie=!1,te(Y),!V)if(m(q)!==null)V=!0,be||(be=!0,Ye());else{var me=m(E);me!==null&&Ue(we,me.startTime-Y)}}var be=!1,xe=-1,He=5,Ze=-1;function dt(){return P?!0:!(u.unstable_now()-Ze<He)}function Pe(){if(P=!1,be){var Y=u.unstable_now();Ze=Y;var me=!0;try{e:{V=!1,ie&&(ie=!1,oe(xe),xe=-1),ye=!0;var ge=$;try{t:{for(te(Y),z=m(q);z!==null&&!(z.expirationTime>Y&&dt());){var je=z.callback;if(typeof je=="function"){z.callback=null,$=z.priorityLevel;var ke=je(z.expirationTime<=Y);if(Y=u.unstable_now(),typeof ke=="function"){z.callback=ke,te(Y),me=!0;break t}z===m(q)&&d(q),te(Y)}else d(q);z=m(q)}if(z!==null)me=!0;else{var G=m(E);G!==null&&Ue(we,G.startTime-Y),me=!1}}break e}finally{z=null,$=ge,ye=!1}me=void 0}}finally{me?Ye():be=!1}}}var Ye;if(typeof ve=="function")Ye=function(){ve(Pe)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Se=at.port2;at.port1.onmessage=Pe,Ye=function(){Se.postMessage(null)}}else Ye=function(){Ae(Pe,0)};function Ue(Y,me){xe=Ae(function(){Y(u.unstable_now())},me)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Y){Y.callback=null},u.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<Y?Math.floor(1e3/Y):5},u.unstable_getCurrentPriorityLevel=function(){return $},u.unstable_next=function(Y){switch($){case 1:case 2:case 3:var me=3;break;default:me=$}var ge=$;$=me;try{return Y()}finally{$=ge}},u.unstable_requestPaint=function(){P=!0},u.unstable_runWithPriority=function(Y,me){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=$;$=Y;try{return me()}finally{$=ge}},u.unstable_scheduleCallback=function(Y,me,ge){var je=u.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Y){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ge+ke,Y={id:M++,callback:me,priorityLevel:Y,startTime:ge,expirationTime:ke,sortIndex:-1},ge>je?(Y.sortIndex=ge,o(E,Y),m(q)===null&&Y===m(E)&&(ie?(oe(xe),xe=-1):ie=!0,Ue(we,ge-je))):(Y.sortIndex=ke,o(q,Y),V||ye||(V=!0,be||(be=!0,Ye()))),Y},u.unstable_shouldYield=dt,u.unstable_wrapCallback=function(Y){var me=$;return function(){var ge=$;$=me;try{return Y.apply(this,arguments)}finally{$=ge}}}})(Nf)),Nf}var Pm;function R0(){return Pm||(Pm=1,jf.exports=z0()),jf.exports}var Wm;function k0(){if(Wm)return qs;Wm=1;var u=R0(),o=j0(),m=N0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(S(e)!==e)throw Error(d(188))}function E(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return q(i),e;if(r===a)return q(i),t;r=r.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,x=i.child;x;){if(x===n){p=!0,n=i,a=r;break}if(x===a){p=!0,a=i,n=r;break}x=x.sibling}if(!p){for(x=r.child;x;){if(x===n){p=!0,n=r,a=i;break}if(x===a){p=!0,a=r,n=i;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function M(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M(e),t!==null)return t;e=e.sibling}return null}var z=Object.assign,$=Symbol.for("react.element"),ye=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ze=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function Ye(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case Ae:return"Profiler";case P:return"StrictMode";case we:return"Suspense";case be:return"SuspenseList";case Ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case ve:return e.displayName||"Context";case oe:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}var Ue=Array.isArray,Y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],ke=-1;function G(e){return{current:e}}function se(e){0>ke||(e.current=je[ke],je[ke]=null,ke--)}function Ne(e,t){ke++,je[ke]=e.current,e.current=t}var Me=G(null),Le=G(null),lt=G(null),pt=G(null);function Yt(e,t){switch(Ne(lt,t),Ne(Le,e),Ne(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(Me),Ne(Me,e)}function Gt(){se(Me),se(Le),se(lt)}function U(e){e.memoizedState!==null&&Ne(pt,e);var t=Me.current,n=xm(t,e.type);t!==n&&(Ne(Le,e),Ne(Me,n))}function ue(e){Le.current===e&&(se(Me),se(Le)),pt.current===e&&(se(pt),zs._currentValue=ge)}var fe,Ve;function it(e){if(fe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fe=t&&t[1]||"",Ve=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+e+Ve}var ot=!1;function Un(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ee){var W=ee}Reflect.construct(e,[],re)}else{try{re.call()}catch(ee){W=ee}e.call(re.prototype)}}else{try{throw Error()}catch(ee){W=ee}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ee){if(ee&&W&&typeof ee.stack=="string")return[ee.stack,W.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],x=r[1];if(p&&x){var _=p.split(`
`),Z=x.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<Z.length&&!Z[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===Z.length)for(a=_.length-1,i=Z.length-1;1<=a&&0<=i&&_[a]!==Z[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==Z[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==Z[i]){var ae=`
`+_[a].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=a&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function yl(e,t){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==t&&t!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Un(e.type,!1);case 11:return Un(e.type.render,!1);case 1:return Un(e.type,!0);case 31:return it("Activity");default:return""}}function pe(e){try{var t="",n=null;do t+=yl(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ie=Object.prototype.hasOwnProperty,yt=u.unstable_scheduleCallback,Bt=u.unstable_cancelCallback,_n=u.unstable_shouldYield,En=u.unstable_requestPaint,rn=u.unstable_now,va=u.unstable_getCurrentPriorityLevel,on=u.unstable_ImmediatePriority,Hn=u.unstable_UserBlockingPriority,xa=u.unstable_NormalPriority,Ba=u.unstable_LowPriority,Te=u.unstable_IdlePriority,Xe=u.log,xt=u.unstable_setDisableYieldValue,Mt=null,jt=null;function zt(e){if(typeof Xe=="function"&&xt(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Mt,e)}catch{}}var Ce=Math.clz32?Math.clz32:qi,fa=Math.log,qa=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-(fa(e)/qa|0)|0}var Oe=256,gl=262144,ti=4194304;function da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~r,a!==0?i=da(a):(p&=x,p!==0?i=da(p):n||(n=x&~e,n!==0&&(i=da(n))))):(x=a&~r,x!==0?i=da(x):p!==0?i=da(p):n||(n=a&~e,n!==0&&(i=da(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Ua(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function Sa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $n(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qr(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,Z=e.hiddenUpdates;for(n=p&~n;0<n;){var ae=31-Ce(n),re=1<<ae;x[ae]=0,_[ae]=-1;var W=Z[ae];if(W!==null)for(Z[ae]=null,ae=0;ae<W.length;ae++){var ee=W[ae];ee!==null&&(ee.lane&=-536870913)}n&=~re}a!==0&&ai(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function ai(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ce(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Rt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ce(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Zt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ur(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function li(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ii(e,t){var n=me.p;try{return me.p=e,t()}finally{me.p=n}}var wa=Math.random().toString(36).slice(2),qt="__reactFiber$"+wa,Jt="__reactProps$"+wa,Cn="__reactContainer$"+wa,vl="__reactEvents$"+wa,Oo="__reactListeners$"+wa,ja="__reactHandles$"+wa,Hr="__reactResources$"+wa,Ln="__reactMarker$"+wa;function Ui(e){delete e[qt],delete e[Jt],delete e[vl],delete e[Oo],delete e[ja]}function Na(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cm(e);e!==null;){if(n=e[qt])return n;e=Cm(e)}return t}e=n,n=e.parentNode}return null}function Ct(e){if(e=e[qt]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function vn(e){var t=e[Hr];return t||(t=e[Hr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[Ln]=!0}var Ha=new Set,ri={};function ha(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(ri[e]=t,e=0;e<t.length;e++)Ha.add(t[e])}var La=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},si={};function Js(e){return Ie.call(si,e)?!0:Ie.call(Lr,e)?!1:La.test(e)?si[e]=!0:(Lr[e]=!0,!1)}function nt(e,t,n){if(Js(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ui(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $s(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){if(!e._valueTracker){var t=xl(e)?"checked":"value";e._valueTracker=$s(e,t,""+e[t])}}function Kr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function St(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oi=/[\n"\\]/g;function cn(e){return e.replace(oi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ea(e,t,n,a,i,r,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mn(t)):e.value!==""+mn(t)&&(e.value=""+mn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ci(e,p,mn(t)):n!=null?ci(e,p,mn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+mn(x):e.removeAttribute("name")}function Li(e,t,n,a,i,r,p,x){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Hi(e);return}n=n!=null?""+mn(n):"",t=t!=null?""+mn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hi(e)}function ci(e,t,n){t==="number"&&St(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ma(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yr(e,t,n){if(t!=null&&(t=""+mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mn(n):""}function fi(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ue(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=mn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Hi(e)}function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ht(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Do.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&ht(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&ht(e,r,t[r])}function Xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),An=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return An.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Wn=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,Ut=null;function Yn(e){var t=Ct(e);if(t&&(e=t.stateNode)){var n=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ea(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Jt]||null;if(!i)throw Error(d(90));Ea(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Kr(a)}break e;case"textarea":Yr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ma(e,!!n.multiple,t,!1)}}}var Qa=!1;function Sl(e,t,n){if(Qa)return e(t,n);Qa=!0;try{var a=e(t);return a}finally{if(Qa=!1,(Ya!==null||Ut!==null)&&(Hu(),Ya&&(t=Ya,e=Ut,Ut=Ya=null,Yn(t),e)))for(t=0;t<e.length;t++)Yn(e[t])}}function Xa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Jt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(fn)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Gr=!1}var In=null,Yi=null,wl=null;function jl(){if(wl)return wl;var e,t=Yi,n=t.length,a,i="value"in In?In.value:In.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return wl=i.slice(e,1<a?1-a:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Ps(){return!1}function en(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(r):r[x]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?di:Ps,this.isPropagationStopped=Ps,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=en(Ga),Ca=z({},Ga,{view:0,detail:0}),Xi=en(Ca),hi,Vr,mi,Gi=z({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hi=e.screenX-mi.screenX,Vr=e.screenY-mi.screenY):Vr=hi=0,mi=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),Vi=en(Gi),Fr=z({},Gi,{dataTransfer:0}),Ws=en(Fr),Fi=z({},Ca,{relatedTarget:0}),_l=en(Fi),Zi=z({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=en(Zi),Mo=z({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),El=en(Mo),Zr=z({},Ga,{data:0}),Ji=en(Zr),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dn[e])?!!t[e]:!1}function Va(){return pi}var eu=z({},Ca,{key:function(e){if(e.key){var t=Jr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=en(eu),tu=z({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=en(tu),Pi=z({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Wr=en(Pi),Fa=z({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ir=en(Fa),es=z({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wi=en(es),ts=z({},Ga,{newState:0,oldState:0}),nu=en(ts),zo=[9,13,27,32],yi=fn&&"CompositionEvent"in window,Aa=null;fn&&"documentMode"in document&&(Aa=document.documentMode);var Ro=fn&&"TextEvent"in window&&!Aa,Ii=fn&&(!yi||Aa&&8<Aa&&11>=Aa),er=" ",au=!1;function ns(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function iu(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(au=!0,er);case"textInput":return e=t.data,e===er&&au?null:e;default:return null}}function ko(e,t){if(Za)return e==="compositionend"||!yi&&ns(e,t)?(e=jl(),wl=Yi=In=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ru[e.type]:t==="textarea"}function as(e,t,n,a){Ya?Ut?Ut.push(a):Ut=[a]:Ya=a,t=Vu(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Cl=null,gi=null;function Bo(e){hm(e,0)}function nr(e){var t=Kn(e);if(Kr(t))return e}function bi(e,t){if(e==="change")return t}var ea=!1;if(fn){var Ht;if(fn){var Al="oninput"in document;if(!Al){var Ja=document.createElement("div");Ja.setAttribute("oninput","return;"),Al=typeof Ja.oninput=="function"}Ht=Al}else Ht=!1;ea=Ht&&(!document.documentMode||9<document.documentMode)}function su(){Cl&&(Cl.detachEvent("onpropertychange",ar),gi=Cl=null)}function ar(e){if(e.propertyName==="value"&&nr(gi)){var t=[];as(t,gi,e,Ki(e)),Sl(Bo,t)}}function uu(e,t,n){e==="focusin"?(su(),Cl=t,gi=n,Cl.attachEvent("onpropertychange",ar)):e==="focusout"&&su()}function $a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(gi)}function ls(e,t){if(e==="click")return nr(t)}function Ol(e,t){if(e==="input"||e==="change")return nr(t)}function Oa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Oa;function l(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ie.call(t,i)||!Sn(e[i],t[i]))return!1}return!0}function s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=s(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=St(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=St(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=fn&&"documentMode"in document&&11>=document.documentMode,j=null,A=null,L=null,O=!1;function C(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;O||j==null||j!==St(a)||(a=j,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),L&&l(L,a)||(L=a,a=Vu(A,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function R(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:R("Animation","AnimationEnd"),animationiteration:R("Animation","AnimationIteration"),animationstart:R("Animation","AnimationStart"),transitionrun:R("Transition","TransitionRun"),transitionstart:R("Transition","TransitionStart"),transitioncancel:R("Transition","TransitionCancel"),transitionend:R("Transition","TransitionEnd")},D={},T={};fn&&(T=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Q(e){if(D[e])return D[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T)return D[e]=t[n];return e}var J=Q("animationend"),K=Q("animationiteration"),ne=Q("animationstart"),ce=Q("transitionrun"),_e=Q("transitionstart"),Ee=Q("transitioncancel"),de=Q("transitionend"),ze=new Map,De="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");De.push("scrollEnd");function he(e,t){ze.set(e,t),ha(t,[e])}var Re=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Je=[],rt=0,Ke=0;function $e(){for(var e=rt,t=Ke=rt=0;t<e;){var n=Je[t];Je[t++]=null;var a=Je[t];Je[t++]=null;var i=Je[t];Je[t++]=null;var r=Je[t];if(Je[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&Da(n,i,r)}}function At(e,t,n,a){Je[rt++]=e,Je[rt++]=t,Je[rt++]=n,Je[rt++]=a,Ke|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wn(e,t,n,a){return At(e,t,n,a),Dl(e)}function Nt(e,t){return At(e,null,null,t),Dl(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Ce(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Dl(e){if(50<Es)throw Es=0,Gc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function ly(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,a){return new ly(e,t,n,a)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pa(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ou(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")qo(e)&&(p=1);else if(typeof e=="string")p=o0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ze:return e=Qn(31,n,t,i),e.elementType=Ze,e.lanes=r,e;case ie:return vi(n.children,i,r,t);case P:p=8,i|=24;break;case Ae:return e=Qn(12,n,t,i|2),e.elementType=Ae,e.lanes=r,e;case we:return e=Qn(13,n,t,i),e.elementType=we,e.lanes=r,e;case be:return e=Qn(19,n,t,i),e.elementType=be,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:p=10;break e;case oe:p=9;break e;case te:p=11;break e;case xe:p=14;break e;case He:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Qn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function vi(e,t,n,a){return e=Qn(7,e,a,t),e.lanes=n,e}function Uo(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function $f(e){var t=Qn(18,null,null,0);return t.stateNode=e,t}function Ho(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pf=new WeakMap;function ta(e,t){if(typeof e=="object"&&e!==null){var n=Pf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pe(t)},Pf.set(e,t),t)}return{value:e,source:t,stack:pe(t)}}var ir=[],rr=0,cu=null,is=0,na=[],aa=0,Tl=null,Ta=1,Ma="";function Wa(e,t){ir[rr++]=is,ir[rr++]=cu,cu=e,is=t}function Wf(e,t,n){na[aa++]=Ta,na[aa++]=Ma,na[aa++]=Tl,Tl=e;var a=Ta;e=Ma;var i=32-Ce(a)-1;a&=~(1<<i),n+=1;var r=32-Ce(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Ta=1<<32-Ce(t)+i|n<<i|a,Ma=r+e}else Ta=1<<r|n<<i|a,Ma=e}function Lo(e){e.return!==null&&(Wa(e,1),Wf(e,1,0))}function Ko(e){for(;e===cu;)cu=ir[--rr],ir[rr]=null,is=ir[--rr],ir[rr]=null;for(;e===Tl;)Tl=na[--aa],na[aa]=null,Ma=na[--aa],na[aa]=null,Ta=na[--aa],na[aa]=null}function If(e,t){na[aa++]=Ta,na[aa++]=Ma,na[aa++]=Tl,Ta=t.id,Ma=t.overflow,Tl=e}var pn=null,Lt=null,mt=!1,Ml=null,la=!1,Yo=Error(d(519));function zl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(ta(t,e)),Yo}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[qt]=e,t[Jt]=a,n){case"dialog":ut("cancel",t),ut("close",t);break;case"iframe":case"object":case"embed":ut("load",t);break;case"video":case"audio":for(n=0;n<As.length;n++)ut(As[n],t);break;case"source":ut("error",t);break;case"img":case"image":case"link":ut("error",t),ut("load",t);break;case"details":ut("toggle",t);break;case"input":ut("invalid",t),Li(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ut("invalid",t);break;case"textarea":ut("invalid",t),fi(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gm(t.textContent,n)?(a.popover!=null&&(ut("beforetoggle",t),ut("toggle",t)),a.onScroll!=null&&ut("scroll",t),a.onScrollEnd!=null&&ut("scrollend",t),a.onClick!=null&&(t.onclick=Dn),t=!0):t=!1,t||zl(e,!0)}function td(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:pn=pn.return}}function sr(e){if(e!==pn)return!1;if(!mt)return td(e),mt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sf(e.type,e.memoizedProps)),n=!n),n&&Lt&&zl(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Lt=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Lt=Em(e)}else t===27?(t=Lt,Fl(e.type)?(e=df,df=null,Lt=e):Lt=t):Lt=pn?ra(e.stateNode.nextSibling):null;return!0}function xi(){Lt=pn=null,mt=!1}function Qo(){var e=Ml;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Ml=null),e}function rs(e){Ml===null?Ml=[e]:Ml.push(e)}var Xo=G(null),Si=null,Ia=null;function Rl(e,t,n){Ne(Xo,t._currentValue),t._currentValue=n}function el(e){e._currentValue=Xo.current,se(Xo)}function Go(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var x=r;r=i;for(var _=0;_<t.length;_++)if(x.context===t[_]){r.lanes|=n,x=r.alternate,x!==null&&(x.lanes|=n),Go(r.return,n,e),a||(p=null);break e}r=x.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Go(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ur(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=i.type;Sn(i.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(i===pt.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(zs):e=[zs])}i=i.return}e!==null&&Vo(t,e,n,a),t.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Si=e,Ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return nd(Si,e)}function du(e,t){return Si===null&&wi(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ia===null){if(e===null)throw Error(d(308));Ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ia=Ia.next=t;return n}var iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ry=u.unstable_scheduleCallback,sy=u.unstable_NormalPriority,tn={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new iy,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&ry(sy,function(){e.controller.abort()})}var us=null,Zo=0,or=0,cr=null;function uy(e,t){if(us===null){var n=us=[];Zo=0,or=Pc(),cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Zo++,t.then(ad,ad),t}function ad(){if(--Zo===0&&us!==null){cr!==null&&(cr.status="fulfilled");var e=us;us=null,or=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=Y.S;Y.S=function(e,t){Kh=rn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),ld!==null&&ld(e,t)};var ji=G(null);function Jo(){var e=ji.current;return e!==null?e:kt.pooledCache}function hu(e,t){t===null?Ne(ji,ji.current):Ne(ji,t.pool)}function id(){var e=Jo();return e===null?null:{parent:tn._currentValue,pool:e}}var fr=Error(d(460)),$o=Error(d(474)),mu=Error(d(542)),pu={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Dn,Dn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(Dn,Dn);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw _i=t,fr}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_i=n,fr):n}}var _i=null;function ud(){if(_i===null)throw Error(d(459));var e=_i;return _i=null,e}function od(e){if(e===fr||e===mu)throw Error(d(483))}var dr=null,os=0;function yu(e){var t=os;return os+=1,dr===null&&(dr=[]),sd(dr,e,t)}function cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gu(e,t){throw t.$$typeof===$?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cd(e){function t(H,k){if(e){var F=H.deletions;F===null?(H.deletions=[k],H.flags|=16):F.push(k)}}function n(H,k){if(!e)return null;for(;k!==null;)t(H,k),k=k.sibling;return null}function a(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function i(H,k){return H=Pa(H,k),H.index=0,H.sibling=null,H}function r(H,k,F){return H.index=F,e?(F=H.alternate,F!==null?(F=F.index,F<k?(H.flags|=67108866,k):F):(H.flags|=67108866,k)):(H.flags|=1048576,k)}function p(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function x(H,k,F,le){return k===null||k.tag!==6?(k=Uo(F,H.mode,le),k.return=H,k):(k=i(k,F),k.return=H,k)}function _(H,k,F,le){var Qe=F.type;return Qe===ie?ae(H,k,F.props.children,le,F.key):k!==null&&(k.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===He&&Ni(Qe)===k.type)?(k=i(k,F.props),cs(k,F),k.return=H,k):(k=ou(F.type,F.key,F.props,null,H.mode,le),cs(k,F),k.return=H,k)}function Z(H,k,F,le){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Ho(F,H.mode,le),k.return=H,k):(k=i(k,F.children||[]),k.return=H,k)}function ae(H,k,F,le,Qe){return k===null||k.tag!==7?(k=vi(F,H.mode,le,Qe),k.return=H,k):(k=i(k,F),k.return=H,k)}function re(H,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uo(""+k,H.mode,F),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ye:return F=ou(k.type,k.key,k.props,null,H.mode,F),cs(F,k),F.return=H,F;case V:return k=Ho(k,H.mode,F),k.return=H,k;case He:return k=Ni(k),re(H,k,F)}if(Ue(k)||Ye(k))return k=vi(k,H.mode,F,null),k.return=H,k;if(typeof k.then=="function")return re(H,yu(k),F);if(k.$$typeof===ve)return re(H,du(H,k),F);gu(H,k)}return null}function W(H,k,F,le){var Qe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Qe!==null?null:x(H,k,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ye:return F.key===Qe?_(H,k,F,le):null;case V:return F.key===Qe?Z(H,k,F,le):null;case He:return F=Ni(F),W(H,k,F,le)}if(Ue(F)||Ye(F))return Qe!==null?null:ae(H,k,F,le,null);if(typeof F.then=="function")return W(H,k,yu(F),le);if(F.$$typeof===ve)return W(H,k,du(H,F),le);gu(H,F)}return null}function ee(H,k,F,le,Qe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return H=H.get(F)||null,x(k,H,""+le,Qe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case ye:return H=H.get(le.key===null?F:le.key)||null,_(k,H,le,Qe);case V:return H=H.get(le.key===null?F:le.key)||null,Z(k,H,le,Qe);case He:return le=Ni(le),ee(H,k,F,le,Qe)}if(Ue(le)||Ye(le))return H=H.get(F)||null,ae(k,H,le,Qe,null);if(typeof le.then=="function")return ee(H,k,F,yu(le),Qe);if(le.$$typeof===ve)return ee(H,k,F,du(k,le),Qe);gu(k,le)}return null}function Be(H,k,F,le){for(var Qe=null,gt=null,qe=k,et=k=0,ft=null;qe!==null&&et<F.length;et++){qe.index>et?(ft=qe,qe=null):ft=qe.sibling;var bt=W(H,qe,F[et],le);if(bt===null){qe===null&&(qe=ft);break}e&&qe&&bt.alternate===null&&t(H,qe),k=r(bt,k,et),gt===null?Qe=bt:gt.sibling=bt,gt=bt,qe=ft}if(et===F.length)return n(H,qe),mt&&Wa(H,et),Qe;if(qe===null){for(;et<F.length;et++)qe=re(H,F[et],le),qe!==null&&(k=r(qe,k,et),gt===null?Qe=qe:gt.sibling=qe,gt=qe);return mt&&Wa(H,et),Qe}for(qe=a(qe);et<F.length;et++)ft=ee(qe,H,et,F[et],le),ft!==null&&(e&&ft.alternate!==null&&qe.delete(ft.key===null?et:ft.key),k=r(ft,k,et),gt===null?Qe=ft:gt.sibling=ft,gt=ft);return e&&qe.forEach(function(Wl){return t(H,Wl)}),mt&&Wa(H,et),Qe}function Ge(H,k,F,le){if(F==null)throw Error(d(151));for(var Qe=null,gt=null,qe=k,et=k=0,ft=null,bt=F.next();qe!==null&&!bt.done;et++,bt=F.next()){qe.index>et?(ft=qe,qe=null):ft=qe.sibling;var Wl=W(H,qe,bt.value,le);if(Wl===null){qe===null&&(qe=ft);break}e&&qe&&Wl.alternate===null&&t(H,qe),k=r(Wl,k,et),gt===null?Qe=Wl:gt.sibling=Wl,gt=Wl,qe=ft}if(bt.done)return n(H,qe),mt&&Wa(H,et),Qe;if(qe===null){for(;!bt.done;et++,bt=F.next())bt=re(H,bt.value,le),bt!==null&&(k=r(bt,k,et),gt===null?Qe=bt:gt.sibling=bt,gt=bt);return mt&&Wa(H,et),Qe}for(qe=a(qe);!bt.done;et++,bt=F.next())bt=ee(qe,H,et,bt.value,le),bt!==null&&(e&&bt.alternate!==null&&qe.delete(bt.key===null?et:bt.key),k=r(bt,k,et),gt===null?Qe=bt:gt.sibling=bt,gt=bt);return e&&qe.forEach(function(x0){return t(H,x0)}),mt&&Wa(H,et),Qe}function Tt(H,k,F,le){if(typeof F=="object"&&F!==null&&F.type===ie&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case ye:e:{for(var Qe=F.key;k!==null;){if(k.key===Qe){if(Qe=F.type,Qe===ie){if(k.tag===7){n(H,k.sibling),le=i(k,F.props.children),le.return=H,H=le;break e}}else if(k.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===He&&Ni(Qe)===k.type){n(H,k.sibling),le=i(k,F.props),cs(le,F),le.return=H,H=le;break e}n(H,k);break}else t(H,k);k=k.sibling}F.type===ie?(le=vi(F.props.children,H.mode,le,F.key),le.return=H,H=le):(le=ou(F.type,F.key,F.props,null,H.mode,le),cs(le,F),le.return=H,H=le)}return p(H);case V:e:{for(Qe=F.key;k!==null;){if(k.key===Qe)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){n(H,k.sibling),le=i(k,F.children||[]),le.return=H,H=le;break e}else{n(H,k);break}else t(H,k);k=k.sibling}le=Ho(F,H.mode,le),le.return=H,H=le}return p(H);case He:return F=Ni(F),Tt(H,k,F,le)}if(Ue(F))return Be(H,k,F,le);if(Ye(F)){if(Qe=Ye(F),typeof Qe!="function")throw Error(d(150));return F=Qe.call(F),Ge(H,k,F,le)}if(typeof F.then=="function")return Tt(H,k,yu(F),le);if(F.$$typeof===ve)return Tt(H,k,du(H,F),le);gu(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(n(H,k.sibling),le=i(k,F),le.return=H,H=le):(n(H,k),le=Uo(F,H.mode,le),le.return=H,H=le),p(H)):n(H,k)}return function(H,k,F,le){try{os=0;var Qe=Tt(H,k,F,le);return dr=null,Qe}catch(qe){if(qe===fr||qe===mu)throw qe;var gt=Qn(29,qe,null,H.mode);return gt.lanes=le,gt.return=H,gt}}}var Ei=cd(!0),fd=cd(!1),kl=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ql(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(wt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Dl(e),Da(e,null,n),t}return At(e,a,t,n),Dl(e)}function fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Rt(e,n)}}function Io(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function ds(){if(ec){var e=cr;if(e!==null)throw e}}function hs(e,t,n,a){ec=!1;var i=e.updateQueue;kl=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var _=x,Z=_.next;_.next=null,p===null?r=Z:p.next=Z,p=_;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==p&&(x===null?ae.firstBaseUpdate=Z:x.next=Z,ae.lastBaseUpdate=_))}if(r!==null){var re=i.baseState;p=0,ae=Z=_=null,x=r;do{var W=x.lane&-536870913,ee=W!==x.lane;if(ee?(ct&W)===W:(a&W)===W){W!==0&&W===or&&(ec=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Be=e,Ge=x;W=t;var Tt=n;switch(Ge.tag){case 1:if(Be=Ge.payload,typeof Be=="function"){re=Be.call(Tt,re,W);break e}re=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ge.payload,W=typeof Be=="function"?Be.call(Tt,re,W):Be,W==null)break e;re=z({},re,W);break e;case 2:kl=!0}}W=x.callback,W!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=i.callbacks,ee===null?i.callbacks=[W]:ee.push(W))}else ee={lane:W,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(Z=ae=ee,_=re):ae=ae.next=ee,p|=W;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,i.lastBaseUpdate=ee,i.shared.pending=null}}while(!0);ae===null&&(_=re),i.baseState=_,i.firstBaseUpdate=Z,i.lastBaseUpdate=ae,r===null&&(i.shared.lanes=0),Yl|=p,e.lanes=p,e.memoizedState=re}}function dd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var hr=G(null),bu=G(0);function md(e,t){e=ol,Ne(bu,e),Ne(hr,t),ol=e|t.baseLanes}function tc(){Ne(bu,ol),Ne(hr,hr.current)}function nc(){ol=bu.current,se(hr),se(bu)}var Xn=G(null),ia=null;function Ul(e){var t=e.alternate;Ne(Pt,Pt.current&1),Ne(Xn,e),ia===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(ia=e)}function ac(e){Ne(Pt,Pt.current),Ne(Xn,e),ia===null&&(ia=e)}function pd(e){e.tag===22?(Ne(Pt,Pt.current),Ne(Xn,e),ia===null&&(ia=e)):Hl()}function Hl(){Ne(Pt,Pt.current),Ne(Xn,Xn.current)}function Gn(e){se(Xn),ia===e&&(ia=null),se(Pt)}var Pt=G(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||ff(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=0,We=null,Ot=null,nn=null,xu=!1,mr=!1,Ci=!1,Su=0,ms=0,pr=null,cy=0;function Vt(){throw Error(d(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function ic(e,t,n,a,i,r){return tl=r,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Wd:xc,Ci=!1,r=n(a,i),Ci=!1,mr&&(r=gd(t,n,a,i)),yd(e),r}function yd(e){Y.H=gs;var t=Ot!==null&&Ot.next!==null;if(tl=0,nn=Ot=We=null,xu=!1,ms=0,pr=null,t)throw Error(d(300));e===null||an||(e=e.dependencies,e!==null&&fu(e)&&(an=!0))}function gd(e,t,n,a){We=e;var i=0;do{if(mr&&(pr=null),ms=0,mr=!1,25<=i)throw Error(d(301));if(i+=1,nn=Ot=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Y.H=Id,r=t(n,a)}while(mr);return r}function fy(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?ps(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(We.flags|=1024),t}function rc(){var e=Su!==0;return Su=0,e}function sc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function uc(e){if(xu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xu=!1}tl=0,nn=Ot=We=null,mr=!1,ms=Su=0,pr=null}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?We.memoizedState=nn=e:nn=nn.next=e,nn}function Wt(){if(Ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=nn===null?We.memoizedState:nn.next;if(t!==null)nn=t,Ot=e;else{if(e===null)throw We.alternate===null?Error(d(467)):Error(d(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},nn===null?We.memoizedState=nn=e:nn=nn.next=e}return nn}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(e){var t=ms;return ms+=1,pr===null&&(pr=[]),e=sd(pr,e,t),t=We,(nn===null?t.memoizedState:nn.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Wd:xc),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ps(e);if(e.$$typeof===ve)return yn(e)}throw Error(d(438,String(e)))}function oc(e){var t=null,n=We.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=We.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wu(),We.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=dt;return t.index++,n}function nl(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=Wt();return cc(t,Ot,e)}function cc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var x=p=null,_=null,Z=t,ae=!1;do{var re=Z.lane&-536870913;if(re!==Z.lane?(ct&re)===re:(tl&re)===re){var W=Z.revertLane;if(W===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),re===or&&(ae=!0);else if((tl&W)===W){Z=Z.next,W===or&&(ae=!0);continue}else re={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=re,p=r):_=_.next=re,We.lanes|=W,Yl|=W;re=Z.action,Ci&&n(r,re),r=Z.hasEagerState?Z.eagerState:n(r,re)}else W={lane:re,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=W,p=r):_=_.next=W,We.lanes|=re,Yl|=re;Z=Z.next}while(Z!==null&&Z!==t);if(_===null?p=r:_.next=x,!Sn(r,e.memoizedState)&&(an=!0,ae&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fc(e){var t=Wt(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);Sn(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function bd(e,t,n){var a=We,i=Wt(),r=mt;if(r){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Sn((Ot||i).memoizedState,n);if(p&&(i.memoizedState=n,an=!0),i=i.queue,mc(Sd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||nn!==null&&nn.memoizedState.tag&1){if(a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),kt===null)throw Error(d(349));r||(tl&127)!==0||vd(a,t,n)}return n}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t=wu(),We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,wd(t)&&jd(e)}function Sd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function jd(e){var t=Nt(e,2);t!==null&&kn(t,e,2)}function dc(e){var t=On();if(typeof e=="function"){var n=e;if(e=n(),Ci){zt(!0);try{n()}finally{zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,cc(e,Ot,typeof a=="function"?a:nl)}function dy(e,t,n,a,i){if(Cu(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};Y.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=Y.T,p={};Y.T=p;try{var x=n(i,a),_=Y.S;_!==null&&_(p,x),Ed(e,t,x)}catch(Z){hc(e,t,Z)}finally{r!==null&&p.types!==null&&(r.types=p.types),Y.T=r}}else try{r=n(i,a),Ed(e,t,r)}catch(Z){hc(e,t,Z)}}function Ed(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return hc(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function hc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==a)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function Dd(e,t){if(mt){var n=kt.formState;if(n!==null){e:{var a=We;if(mt){if(Lt){t:{for(var i=Lt,r=la;i.nodeType!==8;){if(!r){i=null;break t}if(i=ra(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Lt=ra(i.nextSibling),a=i.data==="F!";break e}}zl(a)}a=!1}a&&(t=n[0])}}return n=On(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},n.queue=a,n=Jd.bind(null,We,a),a.dispatch=n,a=dc(!1),r=vc.bind(null,We,!1,a.queue),a=On(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=dy.bind(null,We,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Td(e){var t=Wt();return Md(t,Ot,e)}function Md(e,t,n){if(t=cc(e,t,Od)[0],e=Nu(nl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ps(t)}catch(p){throw p===fr?mu:p}else a=t;t=Wt();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(We.flags|=2048,yr(9,{destroy:void 0},hy.bind(null,i,n),null)),[a,r,e]}function hy(e,t){e.action=t}function zd(e){var t=Wt(),n=Ot;if(n!==null)return Md(t,n,e);Wt(),t=t.memoizedState,n=Wt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function yr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=We.updateQueue,t===null&&(t=wu(),We.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return Wt().memoizedState}function _u(e,t,n,a){var i=On();We.flags|=e,i.memoizedState=yr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Eu(e,t,n,a){var i=Wt();a=a===void 0?null:a;var r=i.memoizedState.inst;Ot!==null&&a!==null&&lc(a,Ot.memoizedState.deps)?i.memoizedState=yr(t,r,n,a):(We.flags|=e,i.memoizedState=yr(1|t,r,n,a))}function kd(e,t){_u(8390656,8,e,t)}function mc(e,t){Eu(2048,8,e,t)}function my(e){We.flags|=4;var t=We.updateQueue;if(t===null)t=wu(),We.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=Wt().memoizedState;return my({ref:t,nextImpl:e}),function(){if((wt&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return Eu(4,2,e,t)}function Ud(e,t){return Eu(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,Eu(4,4,Hd.bind(null,t,e),n)}function pc(){}function Kd(e,t){var n=Wt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=Wt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lc(t,a[1]))return a[0];if(a=e(),Ci){zt(!0);try{e()}finally{zt(!1)}}return n.memoizedState=[a,t],a}function yc(e,t,n){return n===void 0||(tl&1073741824)!==0&&(ct&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qh(),We.lanes|=e,Yl|=e,n)}function Qd(e,t,n,a){return Sn(n,t)?n:hr.current!==null?(e=yc(e,n,a),Sn(e,t)||(an=!0),e):(tl&42)===0||(tl&1073741824)!==0&&(ct&261930)===0?(an=!0,e.memoizedState=n):(e=Qh(),We.lanes|=e,Yl|=e,t)}function Xd(e,t,n,a,i){var r=me.p;me.p=r!==0&&8>r?r:8;var p=Y.T,x={};Y.T=x,vc(e,!1,t,n);try{var _=i(),Z=Y.S;if(Z!==null&&Z(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ae=oy(_,a);ys(e,t,ae,Zn(e))}else ys(e,t,a,Zn(e))}catch(re){ys(e,t,{then:function(){},status:"rejected",reason:re},Zn())}finally{me.p=r,p!==null&&x.types!==null&&(p.types=x.types),Y.T=p}}function py(){}function gc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Gd(e).queue;Xd(e,i,t,ge,n===null?py:function(){return Vd(e),n(a)})}function Gd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:ge},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Gd(e);t.next===null&&(t=e.alternate.memoizedState),ys(e,t.next.queue,{},Zn())}function bc(){return yn(zs)}function Fd(){return Wt().memoizedState}function Zd(){return Wt().memoizedState}function yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Zn();e=Bl(n);var a=ql(t,e,n);a!==null&&(kn(a,t,n),fs(a,t,n)),t={cache:Fo()},e.payload=t;return}t=t.return}}function gy(e,t,n){var a=Zn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cu(e)?$d(t,n):(n=wn(e,t,n,a),n!==null&&(kn(n,e,a),Pd(n,t,a)))}function Jd(e,t,n){var a=Zn();ys(e,t,n,a)}function ys(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))$d(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,x=r(p,n);if(i.hasEagerState=!0,i.eagerState=x,Sn(x,p))return At(e,t,i,0),kt===null&&$e(),!1}catch{}if(n=wn(e,t,i,a),n!==null)return kn(n,e,a),Pd(n,t,a),!0}return!1}function vc(e,t,n,a){if(a={lane:2,revertLane:Pc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(t)throw Error(d(479))}else t=wn(e,n,a,2),t!==null&&kn(t,e,2)}function Cu(e){var t=e.alternate;return e===We||t!==null&&t===We}function $d(e,t){mr=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Rt(e,n)}}var gs={readContext:yn,use:ju,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};gs.useEffectEvent=Vt;var Wd={readContext:yn,use:ju,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=On();t=t===void 0?null:t;var a=e();if(Ci){zt(!0);try{e()}finally{zt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=On();if(n!==void 0){var i=n(t);if(Ci){zt(!0);try{n(t)}finally{zt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gy.bind(null,We,e),[a.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:function(e){e=dc(e);var t=e.queue,n=Jd.bind(null,We,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:pc,useDeferredValue:function(e,t){var n=On();return yc(n,e,t)},useTransition:function(){var e=dc(!1);return e=Xd.bind(null,We,e.queue,!0,!1),On().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=We,i=On();if(mt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),kt===null)throw Error(d(349));(ct&127)!==0||vd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,kd(Sd.bind(null,a,r,e),[e]),a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,r,n,t),null),n},useId:function(){var e=On(),t=kt.identifierPrefix;if(mt){var n=Ma,a=Ta;n=(a&~(1<<32-Ce(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Su++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e){var t=On();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vc.bind(null,We,!0,n),n.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return On().memoizedState=yy.bind(null,We)},useEffectEvent:function(e){var t=On(),n={impl:e};return t.memoizedState=n,function(){if((wt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},xc={readContext:yn,use:ju,useCallback:Kd,useContext:yn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:Nu,useRef:Rd,useState:function(){return Nu(nl)},useDebugValue:pc,useDeferredValue:function(e,t){var n=Wt();return Qd(n,Ot.memoizedState,e,t)},useTransition:function(){var e=Nu(nl)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var n=Wt();return Nd(n,Ot,e,t)},useMemoCache:oc,useCacheRefresh:Zd};xc.useEffectEvent=Bd;var Id={readContext:yn,use:ju,useCallback:Kd,useContext:yn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:fc,useRef:Rd,useState:function(){return fc(nl)},useDebugValue:pc,useDeferredValue:function(e,t){var n=Wt();return Ot===null?yc(n,e,t):Qd(n,Ot.memoizedState,e,t)},useTransition:function(){var e=fc(nl)[0],t=Wt().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=Wt();return Ot!==null?Nd(n,Ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Zd};Id.useEffectEvent=Bd;function Sc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Zn(),i=Bl(a);i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(kn(t,e,a),fs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Zn(),i=Bl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(kn(t,e,a),fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),a=Bl(n);a.tag=2,t!=null&&(a.callback=t),t=ql(e,a,n),t!==null&&(kn(t,e,n),fs(t,e,n))}};function eh(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function th(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wc.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=z({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nh(e){Re(e)}function ah(e){console.error(e)}function lh(e){Re(e)}function Au(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ih(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function jc(e,t,n){return n=Bl(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(e,t)},n}function rh(e){return e=Bl(e),e.tag=3,e}function sh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ih(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,a),typeof i!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function by(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ur(t,n,i,!0),n=Xn.current,n!==null){switch(n.tag){case 31:case 13:return ia===null?Lu():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Zc(e,a,i)),!1;case 22:return n.flags|=65536,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Zc(e,a,i)),!1}throw Error(d(435,n.tag))}return Zc(e,a,i),Lu(),!1}if(mt)return t=Xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Yo&&(e=Error(d(422),{cause:a}),rs(ta(e,n)))):(a!==Yo&&(t=Error(d(423),{cause:a}),rs(ta(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=ta(a,n),i=jc(e.stateNode,a,i),Io(e,i),Ft!==4&&(Ft=2)),!1;var r=Error(d(520),{cause:a});if(r=ta(r,n),_s===null?_s=[r]:_s.push(r),Ft!==4&&(Ft=2),t===null)return!0;a=ta(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=jc(n.stateNode,a,e),Io(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ql===null||!Ql.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rh(i),sh(i,e,n,a),Io(n,i),!1}n=n.return}while(n!==null);return!1}var Nc=Error(d(461)),an=!1;function gn(e,t,n,a){t.child=e===null?fd(t,null,n,a):Ei(t,e.child,n,a)}function uh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return wi(t),a=ic(e,t,n,p,r,i),x=rc(),e!==null&&!an?(sc(e,t,i),al(e,t,i)):(mt&&x&&Lo(t),t.flags|=1,gn(e,t,a,i),t.child)}function oh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!qo(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ch(e,t,r,a,i)):(e=ou(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Mc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,e=Pa(r,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(an=!1,t.pendingProps=a=r,Mc(e,i))(e.flags&131072)!==0&&(an=!0);else return t.lanes=e.lanes,al(e,t,i)}return _c(e,t,n,a,i)}function fh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return dh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(t,r!==null?r.cachePool:null),r!==null?md(t,r):tc(),pd(t);else return a=t.lanes=536870912,dh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(hu(t,r.cachePool),md(t,r),Hl(),t.memoizedState=null):(e!==null&&hu(t,null),tc(),Hl());return gn(e,t,i,n),t.child}function bs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,i){var r=Jo();return r=r===null?null:{parent:tn._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&hu(t,null),tc(),pd(t),e!==null&&ur(e,t,a,!0),t.childLanes=i,null}function Ou(e,t){return t=Tu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return Ei(t,e.child,null,n),e=Ou(t,t.pendingProps),e.flags|=2,Gn(t),t.memoizedState=null,e}function vy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(mt){if(a.mode==="hidden")return e=Ou(t,a),t.lanes=536870912,bs(null,e);if(ac(t),(e=Lt)?(e=_m(e,la),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Ta,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,pn=t,Lt=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Ou(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(ac(t),i)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(an||ur(e,t,n,!1),i=(n&e.childLanes)!==0,an||i){if(a=kt,a!==null&&(p=Zt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,Nt(e,p),kn(a,e,p),Nc;Lu(),t=hh(e,t,n)}else e=r.treeContext,Lt=ra(p.nextSibling),pn=t,mt=!0,Ml=null,la=!1,e!==null&&If(t,e),t=Ou(t,a),t.flags|=4096;return t}return e=Pa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Du(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function _c(e,t,n,a,i){return wi(t),n=ic(e,t,n,a,void 0,i),a=rc(),e!==null&&!an?(sc(e,t,i),al(e,t,i)):(mt&&a&&Lo(t),t.flags|=1,gn(e,t,n,i),t.child)}function mh(e,t,n,a,i,r){return wi(t),t.updateQueue=null,n=gd(t,a,n,i),yd(e),a=rc(),e!==null&&!an?(sc(e,t,r),al(e,t,r)):(mt&&a&&Lo(t),t.flags|=1,gn(e,t,n,r),t.child)}function ph(e,t,n,a,i){if(wi(t),t.stateNode===null){var r=lr,p=n.contextType;typeof p=="object"&&p!==null&&(r=yn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Po(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?yn(p):lr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&wc.enqueueReplaceState(r,r.state,null),hs(t,a,r,i),ds(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var x=t.memoizedProps,_=Ai(n,x);r.props=_;var Z=r.context,ae=n.contextType;p=lr,typeof ae=="object"&&ae!==null&&(p=yn(ae));var re=n.getDerivedStateFromProps;ae=typeof re=="function"||typeof r.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ae||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x||Z!==p)&&th(t,r,a,p),kl=!1;var W=t.memoizedState;r.state=W,hs(t,a,r,i),ds(),Z=t.memoizedState,x||W!==Z||kl?(typeof re=="function"&&(Sc(t,n,re,a),Z=t.memoizedState),(_=kl||eh(t,n,_,a,W,Z,p))?(ae||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),r.props=a,r.state=Z,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Wo(e,t),p=t.memoizedProps,ae=Ai(n,p),r.props=ae,re=t.pendingProps,W=r.context,Z=n.contextType,_=lr,typeof Z=="object"&&Z!==null&&(_=yn(Z)),x=n.getDerivedStateFromProps,(Z=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==re||W!==_)&&th(t,r,a,_),kl=!1,W=t.memoizedState,r.state=W,hs(t,a,r,i),ds();var ee=t.memoizedState;p!==re||W!==ee||kl||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof x=="function"&&(Sc(t,n,x,a),ee=t.memoizedState),(ae=kl||eh(t,n,ae,a,W,ee,_)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(Z||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,ee,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,ee,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ee),r.props=a,r.state=ee,r.context=_,a=ae):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Du(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):gn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=al(e,t,i),e}function yh(e,t,n,a){return xi(),t.flags|=256,gn(e,t,n,a),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:id()}}function Ac(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Fn),e}function gh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(mt){if(i?Ul(t):Hl(),(e=Lt)?(e=_m(e,la),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Ta,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,pn=t,Lt=null)):e=null,e===null)throw zl(t);return ff(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,i?(Hl(),i=t.mode,x=Tu({mode:"hidden",children:x},i),a=vi(a,i,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,bs(null,a)):(Ul(t),Oc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(r)t.flags&256?(Ul(t),t.flags&=-257,t=Dc(e,t,n)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),x=a.fallback,i=t.mode,a=Tu({mode:"visible",children:a.children},i),x=vi(x,i,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ei(t,e.child,null,n),a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,t=bs(null,a));else if(Ul(t),ff(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var Z=p.dgst;p=Z,a=Error(d(419)),a.stack="",a.digest=p,rs({value:a,source:null,stack:null}),t=Dc(e,t,n)}else if(an||ur(e,t,n,!1),p=(n&e.childLanes)!==0,an||p){if(p=kt,p!==null&&(a=Zt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,Nt(e,a),kn(p,e,a),Nc;cf(x)||Lu(),t=Dc(e,t,n)}else cf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Lt=ra(x.nextSibling),pn=t,mt=!0,Ml=null,la=!1,e!==null&&If(t,e),t=Oc(t,a.children),t.flags|=4096);return t}return i?(Hl(),x=a.fallback,i=t.mode,_=e.child,Z=_.sibling,a=Pa(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,Z!==null?x=Pa(Z,x):(x=vi(x,i,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,bs(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Cc(n):(i=x.cachePool,i!==null?(_=tn._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=id(),x={baseLanes:x.baseLanes|n,cachePool:i}),a.memoizedState=x,a.childLanes=Ac(e,p,n),t.memoizedState=Ec,bs(e.child,a)):(Ul(t),n=e.child,e=n.sibling,n=Pa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Oc(e,t){return t=Tu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tu(e,t){return e=Qn(22,e,null,t),e.lanes=0,e}function Dc(e,t,n){return Ei(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Go(e.return,t,n)}function Tc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=Pt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,Ne(Pt,p),gn(e,t,a,n),a=mt?is:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tc(t,!0,n,null,r,a);break;case"together":Tc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ur(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Pa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function xy(e,t,n){switch(t.tag){case 3:Yt(t,t.stateNode.containerInfo),Rl(t,tn,e.memoizedState.cache),xi();break;case 27:case 5:U(t);break;case 4:Yt(t,t.stateNode.containerInfo);break;case 10:Rl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ac(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ul(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gh(e,t,n):(Ul(t),e=al(e,t,n),e!==null?e.sibling:null);Ul(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ur(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Pt,Pt.current),a)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Rl(t,tn,e.memoizedState.cache)}return al(e,t,n)}function xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)an=!0;else{if(!Mc(e,n)&&(t.flags&128)===0)return an=!1,xy(e,t,n);an=(e.flags&131072)!==0}else an=!1,mt&&(t.flags&1048576)!==0&&Wf(t,is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")qo(e)?(a=Ai(e,a),t.tag=1,t=ph(null,t,e,a,n)):(t.tag=0,t=_c(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===te){t.tag=11,t=uh(null,t,e,a,n);break e}else if(i===xe){t.tag=14,t=oh(null,t,e,a,n);break e}}throw t=Se(e)||e,Error(d(306,t,""))}}return t;case 0:return _c(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ai(a,t.pendingProps),ph(e,t,a,i,n);case 3:e:{if(Yt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Wo(e,t),hs(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Rl(t,tn,a),a!==r.cache&&Vo(t,[tn],n,!0),ds(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yh(e,t,a,n);break e}else if(a!==i){i=ta(Error(d(424)),t),rs(i),t=yh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Lt=ra(e.firstChild),pn=t,mt=!0,Ml=null,la=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),a===i){t=al(e,t,n);break e}gn(e,t,a,n)}t=t.child}return t;case 26:return Du(e,t),e===null?(n=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=n:mt||(n=t.type,e=t.pendingProps,a=Fu(lt.current).createElement(n),a[qt]=t,a[Jt]=e,bn(a,n,e),$t(a),t.stateNode=a):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return U(t),e===null&&mt&&(a=t.stateNode=Am(t.type,t.pendingProps,lt.current),pn=t,la=!0,i=Lt,Fl(t.type)?(df=i,Lt=ra(a.firstChild)):Lt=i),gn(e,t,t.pendingProps.children,n),Du(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&mt&&((i=a=Lt)&&(a=$y(a,t.type,t.pendingProps,la),a!==null?(t.stateNode=a,pn=t,Lt=ra(a.firstChild),la=!1,i=!0):i=!1),i||zl(t)),U(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,sf(i,r)?a=null:p!==null&&sf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ic(e,t,fy,null,null,n),zs._currentValue=i),Du(e,t),gn(e,t,a,n),t.child;case 6:return e===null&&mt&&((e=n=Lt)&&(n=Py(n,t.pendingProps,la),n!==null?(t.stateNode=n,pn=t,Lt=null,e=!0):e=!1),e||zl(t)),null;case 13:return gh(e,t,n);case 4:return Yt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ei(t,null,a,n):gn(e,t,a,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return gn(e,t,t.pendingProps,n),t.child;case 8:return gn(e,t,t.pendingProps.children,n),t.child;case 12:return gn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Rl(t,t.type,a.value),gn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,wi(t),i=yn(i),a=a(i),t.flags|=1,gn(e,t,a,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return vy(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return wi(t),a=yn(tn),e===null?(i=Jo(),i===null&&(i=kt,r=Fo(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Po(t),Rl(t,tn,i)):((e.lanes&n)!==0&&(Wo(e,t),hs(t,null,null,n),ds()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Rl(t,tn,a)):(a=r.cache,Rl(t,tn,a),a!==i.cache&&Vo(t,[tn],n,!0))),gn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ll(e){e.flags|=4}function zc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fh())e.flags|=8192;else throw _i=pu,$o}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(t))if(Fh())e.flags|=8192;else throw _i=pu,$o}function Mu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zs():536870912,e.lanes|=t,xr|=t)}function vs(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Sy(e,t,n){var a=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return Kt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),el(tn),Gt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sr(t)?ll(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qo())),Kt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(ll(t),r!==null?(Kt(t),Sh(t,r)):(Kt(t),zc(t,i,null,a,n))):r?r!==e.memoizedState?(ll(t),Kt(t),Sh(t,r)):(Kt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ll(t),Kt(t),zc(t,i,e,a,n)),null;case 27:if(ue(t),n=lt.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Kt(t),null}e=Me.current,sr(t)?ed(t):(e=Am(i,a,n),t.stateNode=e,ll(t))}return Kt(t),null;case 5:if(ue(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Kt(t),null}if(r=Me.current,sr(t))ed(t);else{var p=Fu(lt.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[qt]=t,r[Jt]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(bn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ll(t)}}return Kt(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ll(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=lt.current,sr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=pn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[qt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,n)),e||zl(t,!0)}else e=Fu(e).createTextNode(a),e[qt]=t,t.stateNode=e}return Kt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=sr(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[qt]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Kt(t),e=!1}else n=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Gn(t),t):(Gn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Kt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=sr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[qt]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Kt(t),i=!1}else i=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Gn(t),t):(Gn(t),null)}return Gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Mu(t,t.updateQueue),Kt(t),null);case 4:return Gt(),e===null&&tf(t.stateNode.containerInfo),Kt(t),null;case 10:return el(t.type),Kt(t),null;case 19:if(se(Pt),a=t.memoizedState,a===null)return Kt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)vs(a,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=vu(e),r!==null){for(t.flags|=128,vs(a,!1),e=r.updateQueue,t.updateQueue=e,Mu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return Ne(Pt,Pt.current&1|2),mt&&Wa(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&rn()>qu&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304)}else{if(!i)if(e=vu(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Mu(t,e),vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!mt)return Kt(t),null}else 2*rn()-a.renderingStartTime>qu&&n!==536870912&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=rn(),e.sibling=null,n=Pt.current,Ne(Pt,i?n&1|2:n&1),mt&&Wa(t,a.treeForkCount),e):(Kt(t),null);case 22:case 23:return Gn(t),nc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),n=t.updateQueue,n!==null&&Mu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&se(ji),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),el(tn),Kt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function wy(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return el(tn),Gt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ue(t),null;case 31:if(t.memoizedState!==null){if(Gn(t),t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(Pt),null;case 4:return Gt(),null;case 10:return el(t.type),null;case 22:case 23:return Gn(t),nc(),e!==null&&se(ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return el(tn),null;case 25:return null;default:return null}}function wh(e,t){switch(Ko(t),t.tag){case 3:el(tn),Gt();break;case 26:case 27:case 5:ue(t);break;case 4:Gt();break;case 31:t.memoizedState!==null&&Gn(t);break;case 13:Gn(t);break;case 19:se(Pt);break;case 10:el(t.type);break;case 22:case 23:Gn(t),nc(),e!==null&&se(ji);break;case 24:el(tn)}}function xs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(x){Et(t,t.return,x)}}function Ll(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,i=t;var _=n,Z=x;try{Z()}catch(ae){Et(i,_,ae)}}}a=a.next}while(a!==r)}}catch(ae){Et(t,t.return,ae)}}function jh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){Et(e,e.return,a)}}}function Nh(e,t,n){n.props=Ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Et(e,t,a)}}function Ss(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Et(e,t,i)}}function za(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Et(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Et(e,t,i)}else n.current=null}function _h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Et(e,e.return,i)}}function Rc(e,t,n){try{var a=e.stateNode;Xy(a,e.type,n,t),a[Jt]=t}catch(i){Et(e,e.return,i)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dn));else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Ch(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bn(t,a,n),t[qt]=e,t[Jt]=n}catch(r){Et(e,e.return,r)}}var il=!1,ln=!1,qc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,hn=null;function jy(e,t){if(e=e.containerInfo,lf=eo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,Z=0,ae=0,re=e,W=null;t:for(;;){for(var ee;re!==n||i!==0&&re.nodeType!==3||(x=p+i),re!==r||a!==0&&re.nodeType!==3||(_=p+a),re.nodeType===3&&(p+=re.nodeValue.length),(ee=re.firstChild)!==null;)W=re,re=ee;for(;;){if(re===e)break t;if(W===n&&++Z===i&&(x=p),W===r&&++ae===a&&(_=p),(ee=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=ee}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(rf={focusedElem:e,selectionRange:n},eo=!1,hn=t;hn!==null;)if(t=hn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,hn=e;else for(;hn!==null;){switch(t=hn,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Be=Ai(n.type,i);e=a.getSnapshotBeforeUpdate(Be,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){Et(n,n.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)of(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,hn=e;break}hn=t.return}}function Oh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:sl(e,n),a&4&&xs(5,n);break;case 1:if(sl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Et(n,n.return,p)}else{var i=Ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Et(n,n.return,p)}}a&64&&jh(n),a&512&&Ss(n,n.return);break;case 3:if(sl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){Et(n,n.return,p)}}break;case 27:t===null&&a&4&&Ch(n);case 26:case 5:sl(e,n),t===null&&a&4&&_h(n),a&512&&Ss(n,n.return);break;case 12:sl(e,n);break;case 31:sl(e,n),a&4&&Mh(e,n);break;case 13:sl(e,n),a&4&&zh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=My.bind(null,n),Wy(e,n))));break;case 22:if(a=n.memoizedState!==null||il,!a){t=t!==null&&t.memoizedState!==null||ln,i=il;var r=ln;il=a,(ln=t)&&!r?ul(e,n,(n.subtreeFlags&8772)!==0):sl(e,n),il=i,ln=r}break;case 30:break;default:sl(e,n)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qt=null,Tn=!1;function rl(e,t,n){for(n=n.child;n!==null;)Th(e,t,n),n=n.sibling}function Th(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Mt,n)}catch{}switch(n.tag){case 26:ln||za(n,t),rl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ln||za(n,t);var a=Qt,i=Tn;Fl(n.type)&&(Qt=n.stateNode,Tn=!1),rl(e,t,n),Ds(n.stateNode),Qt=a,Tn=i;break;case 5:ln||za(n,t);case 6:if(a=Qt,i=Tn,Qt=null,rl(e,t,n),Qt=a,Tn=i,Qt!==null)if(Tn)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(n.stateNode)}catch(r){Et(n,t,r)}else try{Qt.removeChild(n.stateNode)}catch(r){Et(n,t,r)}break;case 18:Qt!==null&&(Tn?(e=Qt,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ar(e)):jm(Qt,n.stateNode));break;case 4:a=Qt,i=Tn,Qt=n.stateNode.containerInfo,Tn=!0,rl(e,t,n),Qt=a,Tn=i;break;case 0:case 11:case 14:case 15:Ll(2,n,t),ln||Ll(4,n,t),rl(e,t,n);break;case 1:ln||(za(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nh(n,t,a)),rl(e,t,n);break;case 21:rl(e,t,n);break;case 22:ln=(a=ln)||n.memoizedState!==null,rl(e,t,n),ln=a;break;default:rl(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(n){Et(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(n){Et(t,t.return,n)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(d(435,e.tag))}}function Ru(e,t){var n=Ny(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=zy.bind(null,e,a);a.then(i,i)}})}function Mn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Fl(x.type)){Qt=x.stateNode,Tn=!1;break e}break;case 5:Qt=x.stateNode,Tn=!1;break e;case 3:case 4:Qt=x.stateNode.containerInfo,Tn=!0;break e}x=x.return}if(Qt===null)throw Error(d(160));Th(r,p,i),Qt=null,Tn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var ya=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(t,e),zn(e),a&4&&(Ll(3,e,e.return),xs(3,e),Ll(5,e,e.return));break;case 1:Mn(t,e),zn(e),a&512&&(ln||n===null||za(n,n.return)),a&64&&il&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ya;if(Mn(t,e),zn(e),a&512&&(ln||n===null||za(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Ln]||r[qt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),bn(r,a,n),r[qt]=e,$t(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(r=p[x],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}r=i.createElement(a),bn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(r=p[x],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}r=i.createElement(a),bn(r,a,n),i.head.appendChild(r);break;default:throw Error(d(468,a))}r[qt]=e,$t(r),a=r}e.stateNode=a}else km(i,e.type,e.stateNode);else e.stateNode=zm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?km(i,e.type,e.stateNode):zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Mn(t,e),zn(e),a&512&&(ln||n===null||za(n,n.return)),n!==null&&a&4&&Rc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Mn(t,e),zn(e),a&512&&(ln||n===null||za(n,n.return)),e.flags&32){i=e.stateNode;try{Ka(i,"")}catch(Be){Et(e,e.return,Be)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Rc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(qc=!0);break;case 6:if(Mn(t,e),zn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Be){Et(e,e.return,Be)}}break;case 3:if($u=null,i=ya,ya=Zu(t.containerInfo),Mn(t,e),ya=i,zn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(Be){Et(e,e.return,Be)}qc&&(qc=!1,kh(e));break;case 4:a=ya,ya=Zu(e.stateNode.containerInfo),Mn(t,e),zn(e),ya=a;break;case 12:Mn(t,e),zn(e);break;case 31:Mn(t,e),zn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 13:Mn(t,e),zn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bu=rn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,Z=il,ae=ln;if(il=Z||i,ln=ae||_,Mn(t,e),ln=ae,il=Z,zn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||il||ln||Oi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var re=_.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null;x.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Be){Et(_,_.return,Be)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(Be){Et(_,_.return,Be)}}}else if(t.tag===18){if(n===null){_=t;try{var ee=_.stateNode;i?Nm(ee,!0):Nm(_.stateNode,!1)}catch(Be){Et(_,_.return,Be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ru(e,n))));break;case 19:Mn(t,e),zn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 30:break;case 21:break;default:Mn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Eh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,r=kc(e);zu(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ka(p,""),n.flags&=-33);var x=kc(e);zu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,Z=kc(e);Bc(e,Z,_);break;default:throw Error(d(161))}}catch(ae){Et(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Oh(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),Oi(t);break;case 1:za(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nh(t,t.return,n),Oi(t);break;case 27:Ds(t.stateNode);case 26:case 5:za(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function ul(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:ul(i,r,n),xs(4,r);break;case 1:if(ul(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(Z){Et(a,a.return,Z)}if(a=r,i=a.updateQueue,i!==null){var x=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)dd(_[i],x)}catch(Z){Et(a,a.return,Z)}}n&&p&64&&jh(r),Ss(r,r.return);break;case 27:Ch(r);case 26:case 5:ul(i,r,n),n&&a===null&&p&4&&_h(r),Ss(r,r.return);break;case 12:ul(i,r,n);break;case 31:ul(i,r,n),n&&p&4&&Mh(i,r);break;case 13:ul(i,r,n),n&&p&4&&zh(i,r);break;case 22:r.memoizedState===null&&ul(i,r,n),Ss(r,r.return);break;case 30:break;default:ul(i,r,n)}t=t.sibling}}function Uc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ss(n))}function Hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e))}function ga(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,a),t=t.sibling}function Bh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ga(e,t,n,a),i&2048&&xs(9,t);break;case 1:ga(e,t,n,a);break;case 3:ga(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e)));break;case 12:if(i&2048){ga(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,x=r.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Et(t,t.return,_)}}else ga(e,t,n,a);break;case 31:ga(e,t,n,a);break;case 13:ga(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?ga(e,t,n,a):ws(e,t):r._visibility&2?ga(e,t,n,a):(r._visibility|=2,gr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Uc(p,t);break;case 24:ga(e,t,n,a),i&2048&&Hc(t.alternate,t);break;default:ga(e,t,n,a)}}function gr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,x=n,_=a,Z=p.flags;switch(p.tag){case 0:case 11:case 15:gr(r,p,x,_,i),xs(8,p);break;case 23:break;case 22:var ae=p.stateNode;p.memoizedState!==null?ae._visibility&2?gr(r,p,x,_,i):ws(r,p):(ae._visibility|=2,gr(r,p,x,_,i)),i&&Z&2048&&Uc(p.alternate,p);break;case 24:gr(r,p,x,_,i),i&&Z&2048&&Hc(p.alternate,p);break;default:gr(r,p,x,_,i)}t=t.sibling}}function ws(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ws(n,a),i&2048&&Uc(a.alternate,a);break;case 24:ws(n,a),i&2048&&Hc(a.alternate,a);break;default:ws(n,a)}t=t.sibling}}var js=8192;function br(e,t,n){if(e.subtreeFlags&js)for(e=e.child;e!==null;)qh(e,t,n),e=e.sibling}function qh(e,t,n){switch(e.tag){case 26:br(e,t,n),e.flags&js&&e.memoizedState!==null&&c0(n,ya,e.memoizedState,e.memoizedProps);break;case 5:br(e,t,n);break;case 3:case 4:var a=ya;ya=Zu(e.stateNode.containerInfo),br(e,t,n),ya=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=js,js=16777216,br(e,t,n),js=a):br(e,t,n));break;default:br(e,t,n)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];hn=a,Lh(a,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ku(e)):Ns(e);break;default:Ns(e)}}function ku(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];hn=a,Lh(a,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),ku(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ku(t));break;default:ku(t)}e=e.sibling}}function Lh(e,t){for(;hn!==null;){var n=hn;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ss(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,hn=a;else e:for(n=e;hn!==null;){a=hn;var i=a.sibling,r=a.return;if(Dh(a),a===n){hn=null;break e}if(i!==null){i.return=r,hn=i;break e}hn=r}}}var _y={getCacheForType:function(e){var t=yn(tn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yn(tn).controller.signal}},Ey=typeof WeakMap=="function"?WeakMap:Map,wt=0,kt=null,st=null,ct=0,_t=0,Vn=null,Kl=!1,vr=!1,Lc=!1,ol=0,Ft=0,Yl=0,Di=0,Kc=0,Fn=0,xr=0,_s=null,Rn=null,Yc=!1,Bu=0,Kh=0,qu=1/0,Uu=null,Ql=null,sn=0,Xl=null,Sr=null,cl=0,Qc=0,Xc=null,Yh=null,Es=0,Gc=null;function Zn(){return(wt&2)!==0&&ct!==0?ct&-ct:Y.T!==null?Pc():li()}function Qh(){if(Fn===0)if((ct&536870912)===0||mt){var e=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),Fn=e}else Fn=536870912;return e=Xn.current,e!==null&&(e.flags|=32),Fn}function kn(e,t,n){(e===kt&&(_t===2||_t===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Gl(e,ct,Fn,!1)),$n(e,n),((wt&2)===0||e!==kt)&&(e===kt&&((wt&2)===0&&(Di|=n),Ft===4&&Gl(e,ct,Fn,!1)),Ra(e))}function Xh(e,t,n){if((wt&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ua(e,t),i=a?Oy(e,t):Fc(e,t,!0),r=a;do{if(i===0){vr&&!a&&Gl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Cy(n)){i=Fc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;i=_s;var _=x.current.memoizedState.isDehydrated;if(_&&(wr(x,p).flags|=256),p=Fc(x,p,!1),p!==2){if(Lc&&!_){x.errorRecoveryDisabledLanes|=r,Di|=r,i=4;break e}r=Rn,Rn=i,r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){wr(e,0),Gl(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Gl(a,t,Fn,!Kl);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Bu+300-rn(),10<i)){if(Gl(a,t,Fn,!Kl),ni(a,0,!0)!==0)break e;cl=t,a.timeoutHandle=Sm(Gh.bind(null,a,n,Rn,Uu,Yc,t,Fn,Di,xr,Kl,r,"Throttled",-0,0),i);break e}Gh(a,n,Rn,Uu,Yc,t,Fn,Di,xr,Kl,r,null,-0,0)}}break}while(!0);Ra(e)}function Gh(e,t,n,a,i,r,p,x,_,Z,ae,re,W,ee){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},qh(t,r,re);var Be=(r&62914560)===r?Bu-rn():(r&4194048)===r?Kh-rn():0;if(Be=f0(re,Be),Be!==null){cl=r,e.cancelPendingCommit=Be(Ih.bind(null,e,t,r,n,a,i,p,x,_,ae,re,null,W,ee)),Gl(e,r,p,!Z);return}}Ih(e,t,r,n,a,i,p,x,_)}function Cy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!Sn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gl(e,t,n,a){t&=~Kc,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Ce(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&ai(e,n,t)}function Hu(){return(wt&6)===0?(Cs(0),!1):!0}function Vc(){if(st!==null){if(_t===0)var e=st.return;else e=st,Ia=Si=null,uc(e),dr=null,os=0,e=st;for(;e!==null;)wh(e.alternate,e),e=e.return;st=null}}function wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cl=0,Vc(),kt=e,st=n=Pa(e.current,null),ct=t,_t=0,Vn=null,Kl=!1,vr=Ua(e,t),Lc=!1,xr=Fn=Kc=Di=Yl=Ft=0,Rn=_s=null,Yc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ce(a),r=1<<i;t|=e[i],a&=~r}return ol=t,$e(),n}function Vh(e,t){We=null,Y.H=gs,t===fr||t===mu?(t=ud(),_t=3):t===$o?(t=ud(),_t=4):_t=t===Nc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vn=t,st===null&&(Ft=1,Au(e,ta(t,e.current)))}function Fh(){var e=Xn.current;return e===null?!0:(ct&4194048)===ct?ia===null:(ct&62914560)===ct||(ct&536870912)!==0?e===ia:!1}function Zh(){var e=Y.H;return Y.H=gs,e===null?gs:e}function Jh(){var e=Y.A;return Y.A=_y,e}function Lu(){Ft=4,Kl||(ct&4194048)!==ct&&Xn.current!==null||(vr=!0),(Yl&134217727)===0&&(Di&134217727)===0||kt===null||Gl(kt,ct,Fn,!1)}function Fc(e,t,n){var a=wt;wt|=2;var i=Zh(),r=Jh();(kt!==e||ct!==t)&&(Uu=null,wr(e,t)),t=!1;var p=Ft;e:do try{if(_t!==0&&st!==null){var x=st,_=Vn;switch(_t){case 8:Vc(),p=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(t=!0);var Z=_t;if(_t=0,Vn=null,jr(e,x,_,Z),n&&vr){p=0;break e}break;default:Z=_t,_t=0,Vn=null,jr(e,x,_,Z)}}Ay(),p=Ft;break}catch(ae){Vh(e,ae)}while(!0);return t&&e.shellSuspendCounter++,Ia=Si=null,wt=a,Y.H=i,Y.A=r,st===null&&(kt=null,ct=0,$e()),p}function Ay(){for(;st!==null;)$h(st)}function Oy(e,t){var n=wt;wt|=2;var a=Zh(),i=Jh();kt!==e||ct!==t?(Uu=null,qu=rn()+500,wr(e,t)):vr=Ua(e,t);e:do try{if(_t!==0&&st!==null){t=st;var r=Vn;t:switch(_t){case 1:_t=0,Vn=null,jr(e,t,r,1);break;case 2:case 9:if(rd(r)){_t=0,Vn=null,Ph(t);break}t=function(){_t!==2&&_t!==9||kt!==e||(_t=7),Ra(e)},r.then(t,t);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:rd(r)?(_t=0,Vn=null,Ph(t)):(_t=0,Vn=null,jr(e,t,r,7));break;case 5:var p=null;switch(st.tag){case 26:p=st.memoizedState;case 5:case 27:var x=st;if(p?Bm(p):x.stateNode.complete){_t=0,Vn=null;var _=x.sibling;if(_!==null)st=_;else{var Z=x.return;Z!==null?(st=Z,Ku(Z)):st=null}break t}}_t=0,Vn=null,jr(e,t,r,5);break;case 6:_t=0,Vn=null,jr(e,t,r,6);break;case 8:Vc(),Ft=6;break e;default:throw Error(d(462))}}Dy();break}catch(ae){Vh(e,ae)}while(!0);return Ia=Si=null,Y.H=a,Y.A=i,wt=n,st!==null?0:(kt=null,ct=0,$e(),Ft)}function Dy(){for(;st!==null&&!_n();)$h(st)}function $h(e){var t=xh(e.alternate,e,ol);e.memoizedProps=e.pendingProps,t===null?Ku(e):st=t}function Ph(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,ct);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,ct);break;case 5:uc(t);default:wh(n,t),t=st=Jf(t,ol),t=xh(n,t,ol)}e.memoizedProps=e.pendingProps,t===null?Ku(e):st=t}function jr(e,t,n,a){Ia=Si=null,uc(t),dr=null,os=0;var i=t.return;try{if(by(e,i,t,n,ct)){Ft=1,Au(e,ta(n,e.current)),st=null;return}}catch(r){if(i!==null)throw st=i,r;Ft=1,Au(e,ta(n,e.current)),st=null;return}t.flags&32768?(mt||a===1?e=!0:vr||(ct&536870912)!==0?e=!1:(Kl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Xn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wh(t,e)):Ku(t)}function Ku(e){var t=e;do{if((t.flags&32768)!==0){Wh(t,Kl);return}e=t.return;var n=Sy(t.alternate,t,ol);if(n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Ft===0&&(Ft=5)}function Wh(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,st=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=n}while(e!==null);Ft=6,st=null}function Ih(e,t,n,a,i,r,p,x,_){e.cancelPendingCommit=null;do Yu();while(sn!==0);if((wt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Ke,qr(e,n,r,p,x,_),e===kt&&(st=kt=null,ct=0),Sr=t,Xl=e,cl=n,Qc=r,Xc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(xa,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null,i=me.p,me.p=2,p=wt,wt|=4;try{jy(e,t,n)}finally{wt=p,me.p=i,Y.T=a}}sn=1,em(),tm(),nm()}}function em(){if(sn===1){sn=0;var e=Xl,t=Sr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var a=me.p;me.p=2;var i=wt;wt|=4;try{Rh(t,e);var r=rf,p=y(e.containerInfo),x=r.focusedElem,_=r.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var Z=_.start,ae=_.end;if(ae===void 0&&(ae=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(ae,x.value.length);else{var re=x.ownerDocument||document,W=re&&re.defaultView||window;if(W.getSelection){var ee=W.getSelection(),Be=x.textContent.length,Ge=Math.min(_.start,Be),Tt=_.end===void 0?Ge:Math.min(_.end,Be);!ee.extend&&Ge>Tt&&(p=Tt,Tt=Ge,Ge=p);var H=f(x,Ge),k=f(x,Tt);if(H&&k&&(ee.rangeCount!==1||ee.anchorNode!==H.node||ee.anchorOffset!==H.offset||ee.focusNode!==k.node||ee.focusOffset!==k.offset)){var F=re.createRange();F.setStart(H.node,H.offset),ee.removeAllRanges(),Ge>Tt?(ee.addRange(F),ee.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),ee.addRange(F))}}}}for(re=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<re.length;x++){var le=re[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}eo=!!lf,rf=lf=null}finally{wt=i,me.p=a,Y.T=n}}e.current=t,sn=2}}function tm(){if(sn===2){sn=0;var e=Xl,t=Sr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var a=me.p;me.p=2;var i=wt;wt|=4;try{Oh(e,t.alternate,t)}finally{wt=i,me.p=a,Y.T=n}}sn=3}}function nm(){if(sn===4||sn===3){sn=0,En();var e=Xl,t=Sr,n=cl,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?sn=5:(sn=0,Sr=Xl=null,am(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ql=null),bl(n),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Mt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Y.T,i=me.p,me.p=2,Y.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];r(x.value,{componentStack:x.stack})}}finally{Y.T=t,me.p=i}}(cl&3)!==0&&Yu(),Ra(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Gc?Es++:(Es=0,Gc=e):Es=0,Cs(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ss(t)))}function Yu(){return em(),tm(),nm(),lm()}function lm(){if(sn!==5)return!1;var e=Xl,t=Qc;Qc=0;var n=bl(cl),a=Y.T,i=me.p;try{me.p=32>n?32:n,Y.T=null,n=Xc,Xc=null;var r=Xl,p=cl;if(sn=0,Sr=Xl=null,cl=0,(wt&6)!==0)throw Error(d(331));var x=wt;if(wt|=4,Hh(r.current),Bh(r,r.current,p,n),wt=x,Cs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Mt,r)}catch{}return!0}finally{me.p=i,Y.T=a,am(e,t)}}function im(e,t,n){t=ta(n,t),t=jc(e.stateNode,t,2),e=ql(e,t,2),e!==null&&($n(e,2),Ra(e))}function Et(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ql===null||!Ql.has(a))){e=ta(n,e),n=rh(2),a=ql(t,n,2),a!==null&&(sh(n,a,t,e),$n(a,2),Ra(a));break}}t=t.return}}function Zc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ey;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Lc=!0,i.add(n),e=Ty.bind(null,e,t,n),t.then(e,e))}function Ty(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,kt===e&&(ct&n)===n&&(Ft===4||Ft===3&&(ct&62914560)===ct&&300>rn()-Bu?(wt&2)===0&&wr(e,0):Kc|=n,xr===ct&&(xr=0)),Ra(e)}function rm(e,t){t===0&&(t=Zs()),e=Nt(e,t),e!==null&&($n(e,t),Ra(e))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),rm(e,n)}function Ry(e,t){return yt(e,t)}var Qu=null,Nr=null,Jc=!1,Xu=!1,$c=!1,Vl=0;function Ra(e){e!==Nr&&e.next===null&&(Nr===null?Qu=Nr=e:Nr=Nr.next=e),Xu=!0,Jc||(Jc=!0,By())}function Cs(e,t){if(!$c&&Xu){$c=!0;do for(var n=!1,a=Qu;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,x=a.pingedLanes;r=(1<<31-Ce(42|e)+1)-1,r&=i&~(p&~x),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cm(a,r))}else r=ct,r=ni(a,a===kt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Ua(a,r)||(n=!0,cm(a,r));a=a.next}while(n);$c=!1}}function ky(){sm()}function sm(){Xu=Jc=!1;var e=0;Vl!==0&&Vy()&&(e=Vl);for(var t=rn(),n=null,a=Qu;a!==null;){var i=a.next,r=um(a,t);r===0?(a.next=null,n===null?Qu=i:n.next=i,i===null&&(Nr=n)):(n=a,(e!==0||(r&3)!==0)&&(Xu=!0)),a=i}sn!==0&&sn!==5||Cs(e),Vl!==0&&(Vl=0)}function um(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-Ce(r),x=1<<p,_=i[p];_===-1?((x&n)===0||(x&a)!==0)&&(i[p]=Ao(x,t)):_<=t&&(e.expiredLanes|=x),r&=~x}if(t=kt,n=ct,n=ni(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(_t===2||_t===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Bt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ua(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Bt(a),bl(n)){case 2:case 8:n=Hn;break;case 32:n=xa;break;case 268435456:n=Te;break;default:n=xa}return a=om.bind(null,e),n=yt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Bt(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var a=ct;return a=ni(e,e===kt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Xh(e,a,t),um(e,rn()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Yu())return null;Xh(e,t,!0)}function By(){Zy(function(){(wt&6)!==0?yt(on,ky):sm()})}function Pc(){if(Vl===0){var e=or;e===0&&(e=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Vl=e}return Vl}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qy(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=fm((i[Jt]||null).action),p=a.submitter;p&&(t=(t=p[Jt]||null)?fm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var x=new Qi("action","action",null,a,i);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vl!==0){var _=p?dm(i,p):new FormData(i);gc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(x.preventDefault(),_=p?dm(i,p):new FormData(i),gc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var Wc=0;Wc<De.length;Wc++){var Ic=De[Wc],Uy=Ic.toLowerCase(),Hy=Ic[0].toUpperCase()+Ic.slice(1);he(Uy,"on"+Hy)}he(J,"onAnimationEnd"),he(K,"onAnimationIteration"),he(ne,"onAnimationStart"),he("dblclick","onDoubleClick"),he("focusin","onFocus"),he("focusout","onBlur"),he(ce,"onTransitionRun"),he(_e,"onTransitionStart"),he(Ee,"onTransitionCancel"),he(de,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,Z=x.currentTarget;if(x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=Z;try{r(i)}catch(ae){Re(ae)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,Z=x.currentTarget,x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=Z;try{r(i)}catch(ae){Re(ae)}i.currentTarget=null,r=_}}}}function ut(e,t){var n=t[vl];n===void 0&&(n=t[vl]=new Set);var a=e+"__bubble";n.has(a)||(mm(t,e,2,!1),n.add(a))}function ef(e,t,n){var a=0;t&&(a|=4),mm(n,e,a,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function tf(e){if(!e[Gu]){e[Gu]=!0,Ha.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||ef(n,!1,e),ef(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gu]||(t[Gu]=!0,ef("selectionchange",!1,t))}}function mm(e,t,n,a){switch(Qm(t)){case 2:var i=m0;break;case 8:i=p0;break;default:i=gf}n=i.bind(null,t,n,e),i=void 0,!Gr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nf(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;x!==null;){if(p=Na(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}x=x.parentNode}}a=a.return}Sl(function(){var Z=r,ae=Ki(n),re=[];e:{var W=ze.get(e);if(W!==void 0){var ee=Qi,Be=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":ee=$i;break;case"focusin":Be="focus",ee=_l;break;case"focusout":Be="blur",ee=_l;break;case"beforeblur":case"afterblur":ee=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Wr;break;case J:case K:case ne:ee=Is;break;case de:ee=Ir;break;case"scroll":case"scrollend":ee=Xi;break;case"wheel":ee=Wi;break;case"copy":case"cut":case"paste":ee=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Pr;break;case"toggle":case"beforetoggle":ee=nu}var Ge=(t&4)!==0,Tt=!Ge&&(e==="scroll"||e==="scrollend"),H=Ge?W!==null?W+"Capture":null:W;Ge=[];for(var k=Z,F;k!==null;){var le=k;if(F=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||F===null||H===null||(le=Xa(k,H),le!=null&&Ge.push(Os(k,le,F))),Tt)break;k=k.return}0<Ge.length&&(W=new ee(W,Be,null,n,ae),re.push({event:W,listeners:Ge}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",W&&n!==Wn&&(Be=n.relatedTarget||n.fromElement)&&(Na(Be)||Be[Cn]))break e;if((ee||W)&&(W=ae.window===ae?ae:(W=ae.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(Be=n.relatedTarget||n.toElement,ee=Z,Be=Be?Na(Be):null,Be!==null&&(Tt=S(Be),Ge=Be.tag,Be!==Tt||Ge!==5&&Ge!==27&&Ge!==6)&&(Be=null)):(ee=null,Be=Z),ee!==Be)){if(Ge=Vi,le="onMouseLeave",H="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=Pr,le="onPointerLeave",H="onPointerEnter",k="pointer"),Tt=ee==null?W:Kn(ee),F=Be==null?W:Kn(Be),W=new Ge(le,k+"leave",ee,n,ae),W.target=Tt,W.relatedTarget=F,le=null,Na(ae)===Z&&(Ge=new Ge(H,k+"enter",Be,n,ae),Ge.target=F,Ge.relatedTarget=Tt,le=Ge),Tt=le,ee&&Be)t:{for(Ge=Ky,H=ee,k=Be,F=0,le=H;le;le=Ge(le))F++;le=0;for(var Qe=k;Qe;Qe=Ge(Qe))le++;for(;0<F-le;)H=Ge(H),F--;for(;0<le-F;)k=Ge(k),le--;for(;F--;){if(H===k||k!==null&&H===k.alternate){Ge=H;break t}H=Ge(H),k=Ge(k)}Ge=null}else Ge=null;ee!==null&&pm(re,W,ee,Ge,!1),Be!==null&&Tt!==null&&pm(re,Tt,Be,Ge,!0)}}e:{if(W=Z?Kn(Z):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var gt=bi;else if(tr(W))if(ea)gt=Ol;else{gt=$a;var qe=uu}else ee=W.nodeName,!ee||ee.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&Xr(Z.elementType)&&(gt=bi):gt=ls;if(gt&&(gt=gt(e,Z))){as(re,gt,n,ae);break e}qe&&qe(e,W,Z),e==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&ci(W,"number",W.value)}switch(qe=Z?Kn(Z):window,e){case"focusin":(tr(qe)||qe.contentEditable==="true")&&(j=qe,A=Z,L=null);break;case"focusout":L=A=j=null;break;case"mousedown":O=!0;break;case"contextmenu":case"mouseup":case"dragend":O=!1,C(re,n,ae);break;case"selectionchange":if(w)break;case"keydown":case"keyup":C(re,n,ae)}var et;if(yi)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Za?ns(e,n)&&(ft="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ft="onCompositionStart");ft&&(Ii&&n.locale!=="ko"&&(Za||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Za&&(et=jl()):(In=ae,Yi="value"in In?In.value:In.textContent,Za=!0)),qe=Vu(Z,ft),0<qe.length&&(ft=new Ji(ft,e,null,n,ae),re.push({event:ft,listeners:qe}),et?ft.data=et:(et=lu(n),et!==null&&(ft.data=et)))),(et=Ro?iu(e,n):ko(e,n))&&(ft=Vu(Z,"onBeforeInput"),0<ft.length&&(qe=new Ji("onBeforeInput","beforeinput",null,n,ae),re.push({event:qe,listeners:ft}),qe.data=et)),qy(re,e,Z,n,ae)}hm(re,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Xa(e,n),i!=null&&a.unshift(Os(e,i,r)),i=Xa(e,t),i!=null&&a.push(Os(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,Z=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||Z===null||(_=Z,i?(Z=Xa(n,r),Z!=null&&p.unshift(Os(n,Z,_))):i||(Z=Xa(n,r),Z!=null&&p.push(Os(n,Z,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Yy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Qy,"")}function gm(e,t){return t=ym(t),ym(e)===t}function Dt(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ka(e,""+a);break;case"className":ui(e,"class",a);break;case"tabIndex":ui(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,n,a);break;case"style":Qr(e,a,r);break;case"data":if(t!=="object"){ui(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=pa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Dt(e,t,"name",i.name,i,null),Dt(e,t,"formEncType",i.formEncType,i,null),Dt(e,t,"formMethod",i.formMethod,i,null),Dt(e,t,"formTarget",i.formTarget,i,null)):(Dt(e,t,"encType",i.encType,i,null),Dt(e,t,"method",i.method,i,null),Dt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=pa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Dn);break;case"onScroll":a!=null&&ut("scroll",e);break;case"onScrollEnd":a!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=pa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ut("beforetoggle",e),ut("toggle",e),nt(e,"popover",a);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":nt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=To.get(n)||n,nt(e,n,a))}}function af(e,t,n,a,i,r){switch(n){case"style":Qr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ka(e,a):(typeof a=="number"||typeof a=="bigint")&&Ka(e,""+a);break;case"onScroll":a!=null&&ut("scroll",e);break;case"onScrollEnd":a!=null&&ut("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[Jt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):nt(e,n,a)}}}function bn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Dt(e,t,r,p,n,null)}}i&&Dt(e,t,"srcSet",n.srcSet,n,null),a&&Dt(e,t,"src",n.src,n,null);return;case"input":ut("invalid",e);var x=r=p=i=null,_=null,Z=null;for(a in n)if(n.hasOwnProperty(a)){var ae=n[a];if(ae!=null)switch(a){case"name":i=ae;break;case"type":p=ae;break;case"checked":_=ae;break;case"defaultChecked":Z=ae;break;case"value":r=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(d(137,t));break;default:Dt(e,t,a,ae,n,null)}}Li(e,r,x,_,Z,p,i,!1);return;case"select":ut("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(x=n[i],x!=null))switch(i){case"value":r=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Dt(e,t,i,x,n,null)}t=r,n=p,e.multiple=!!a,t!=null?ma(e,!!a,t,!1):n!=null&&ma(e,!!a,n,!0);return;case"textarea":ut("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":i=x;break;case"children":r=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Dt(e,t,p,x,n,null)}fi(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Dt(e,t,_,a,n,null));return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(a=0;a<As.length;a++)ut(As[a],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(a=n[Z],a!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Dt(e,t,Z,a,n,null)}return;default:if(Xr(t)){for(ae in n)n.hasOwnProperty(ae)&&(a=n[ae],a!==void 0&&af(e,t,ae,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Dt(e,t,x,a,n,null))}function Xy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,x=null,_=null,Z=null,ae=null;for(ee in n){var re=n[ee];if(n.hasOwnProperty(ee)&&re!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":_=re;default:a.hasOwnProperty(ee)||Dt(e,t,ee,null,a,re)}}for(var W in a){var ee=a[W];if(re=n[W],a.hasOwnProperty(W)&&(ee!=null||re!=null))switch(W){case"type":r=ee;break;case"name":i=ee;break;case"checked":Z=ee;break;case"defaultChecked":ae=ee;break;case"value":p=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(d(137,t));break;default:ee!==re&&Dt(e,t,W,ee,a,re)}}Ea(e,p,x,_,Z,ae,r,i);return;case"select":ee=p=x=W=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":ee=_;default:a.hasOwnProperty(r)||Dt(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":W=r;break;case"defaultValue":x=r;break;case"multiple":p=r;default:r!==_&&Dt(e,t,i,r,a,_)}t=x,n=p,a=ee,W!=null?ma(e,!!n,W,!1):!!a!=!!n&&(t!=null?ma(e,!!n,t,!0):ma(e,!!n,n?[]:"",!1));return;case"textarea":ee=W=null;for(x in n)if(i=n[x],n.hasOwnProperty(x)&&i!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Dt(e,t,x,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":W=i;break;case"defaultValue":ee=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&Dt(e,t,p,i,a,r)}Yr(e,W,ee);return;case"option":for(var Be in n)W=n[Be],n.hasOwnProperty(Be)&&W!=null&&!a.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:Dt(e,t,Be,null,a,W));for(_ in a)W=a[_],ee=n[_],a.hasOwnProperty(_)&&W!==ee&&(W!=null||ee!=null)&&(_==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Dt(e,t,_,W,a,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in n)W=n[Ge],n.hasOwnProperty(Ge)&&W!=null&&!a.hasOwnProperty(Ge)&&Dt(e,t,Ge,null,a,W);for(Z in a)if(W=a[Z],ee=n[Z],a.hasOwnProperty(Z)&&W!==ee&&(W!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(d(137,t));break;default:Dt(e,t,Z,W,a,ee)}return;default:if(Xr(t)){for(var Tt in n)W=n[Tt],n.hasOwnProperty(Tt)&&W!==void 0&&!a.hasOwnProperty(Tt)&&af(e,t,Tt,void 0,a,W);for(ae in a)W=a[ae],ee=n[ae],!a.hasOwnProperty(ae)||W===ee||W===void 0&&ee===void 0||af(e,t,ae,W,a,ee);return}}for(var H in n)W=n[H],n.hasOwnProperty(H)&&W!=null&&!a.hasOwnProperty(H)&&Dt(e,t,H,null,a,W);for(re in a)W=a[re],ee=n[re],!a.hasOwnProperty(re)||W===ee||W==null&&ee==null||Dt(e,t,re,W,a,ee)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,x=i.duration;if(r&&x&&bm(p)){for(p=0,x=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],Z=_.startTime;if(Z>x)break;var ae=_.transferSize,re=_.initiatorType;ae&&bm(re)&&(_=_.responseEnd,p+=ae*(_<x?1:(x-Z)/(_-Z)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,rf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===uf?!1:(uf=e,!0):(uf=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(Jy)}:Sm;function Jy(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function jm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ar(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ds(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ds(n);for(var r=n.firstChild;r;){var p=r.nextSibling,x=r.nodeName;r[Ln]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Ds(e.ownerDocument.body);n=i}while(n);Ar(t)}function Nm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":of(n),Ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $y(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ln])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ra(e.nextSibling),e===null)break}return null}function Py(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ra(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ra(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var df=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ra(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,n){switch(t=Fu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var sa=new Map,Om=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fl=me.d;me.d={f:Iy,r:e0,D:t0,C:n0,L:a0,m:l0,X:r0,S:i0,M:s0};function Iy(){var e=fl.f(),t=Hu();return e||t}function e0(e){var t=Ct(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):fl.r(e)}var _r=typeof document>"u"?null:document;function Dm(e,t,n){var a=_r;if(a&&typeof t=="string"&&t){var i=cn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Om.has(i)||(Om.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),bn(t,"link",e),$t(t),a.head.appendChild(t)))}}function t0(e){fl.D(e),Dm("dns-prefetch",e,null)}function n0(e,t){fl.C(e,t),Dm("preconnect",e,t)}function a0(e,t,n){fl.L(e,t,n);var a=_r;if(a&&e&&t){var i='link[rel="preload"][as="'+cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+cn(n.imageSizes)+'"]')):i+='[href="'+cn(e)+'"]';var r=i;switch(t){case"style":r=Er(e);break;case"script":r=Cr(e)}sa.has(r)||(e=z({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sa.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ts(r))||t==="script"&&a.querySelector(Ms(r))||(t=a.createElement("link"),bn(t,"link",e),$t(t),a.head.appendChild(t)))}}function l0(e,t){fl.m(e,t);var n=_r;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+cn(a)+'"][href="'+cn(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cr(e)}if(!sa.has(r)&&(e=z({rel:"modulepreload",href:e},t),sa.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ms(r)))return}a=n.createElement("link"),bn(a,"link",e),$t(a),n.head.appendChild(a)}}}function i0(e,t,n){fl.S(e,t,n);var a=_r;if(a&&e){var i=vn(a).hoistableStyles,r=Er(e);t=t||"default";var p=i.get(r);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(Ts(r)))x.loading=5;else{e=z({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sa.get(r))&&hf(e,n);var _=p=a.createElement("link");$t(_),bn(_,"link",e),_._p=new Promise(function(Z,ae){_.onload=Z,_.onerror=ae}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ju(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},i.set(r,p)}}}function r0(e,t){fl.X(e,t);var n=_r;if(n&&e){var a=vn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=z({src:e,async:!0},t),(t=sa.get(i))&&mf(e,t),r=n.createElement("script"),$t(r),bn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function s0(e,t){fl.M(e,t);var n=_r;if(n&&e){var a=vn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=z({src:e,async:!0,type:"module"},t),(t=sa.get(i))&&mf(e,t),r=n.createElement("script"),$t(r),bn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Tm(e,t,n,a){var i=(i=lt.current)?Zu(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Er(n.href),n=vn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Er(n.href);var r=vn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ts(e)))&&!r._p&&(p.instance=r,p.state.loading=5),sa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sa.set(e,n),r||u0(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=vn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Er(e){return'href="'+cn(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return z({},e,{"data-precedence":e.precedence,precedence:null})}function u0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),bn(t,"link",n),$t(t),e.head.appendChild(t))}function Cr(e){return'[src="'+cn(e)+'"]'}function Ms(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+cn(n.href)+'"]');if(a)return t.instance=a,$t(a),a;var i=z({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$t(a),bn(a,"style",i),Ju(a,n.precedence,e),t.instance=a;case"stylesheet":i=Er(n.href);var r=e.querySelector(Ts(i));if(r)return t.state.loading|=4,t.instance=r,$t(r),r;a=Mm(n),(i=sa.get(i))&&hf(a,i),r=(e.ownerDocument||e).createElement("link"),$t(r);var p=r;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),bn(r,"link",a),t.state.loading|=4,Ju(r,n.precedence,e),t.instance=r;case"script":return r=Cr(n.src),(i=e.querySelector(Ms(r)))?(t.instance=i,$t(i),i):(a=n,(i=sa.get(r))&&(a=z({},n),mf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),$t(i),bn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ju(a,n.precedence,e));return t.instance}function Ju(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)r=x;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $u=null;function Rm(e,t,n){if($u===null){var a=new Map,i=$u=new Map;i.set(n,a)}else i=$u,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Ln]||r[qt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(r):a.set(p,[r])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Er(a.href),r=t.querySelector(Ts(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,$t(r);return}r=t.ownerDocument||t,a=Mm(a),(i=sa.get(i))&&hf(a,i),r=r.createElement("link"),$t(r);var p=r;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),bn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Pu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pf=0;function f0(e,t){return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&pf===0&&(pf=62500*Gy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>pf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function Iu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(d0,e),Wu=null,Pu.call(e))}function d0(e,t){if(!(t.state.loading&4)){var n=Wu.get(e);if(n)var a=n.get(null);else{n=new Map,Wu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=Pu.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var zs={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function h0(e,t,n,a,i,r,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,n,a,i,r,p,x,_,Z,ae,re){return e=new h0(e,t,n,p,_,Z,ae,re,x),t=1,r===!0&&(t|=24),r=Qn(3,null,null,t),e.current=r,r.stateNode=e,t=Fo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Po(r),e}function Um(e){return e?(e=lr,e):lr}function Hm(e,t,n,a,i,r){i=Um(i),a.context===null?a.context=i:a.pendingContext=i,a=Bl(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ql(e,a,t),n!==null&&(kn(n,e,t),fs(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Km(e){if(e.tag===13||e.tag===31){var t=Nt(e,67108864);t!==null&&kn(t,e,67108864),yf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Zn();t=Ur(t);var n=Nt(e,t);n!==null&&kn(n,e,t),yf(e,t)}}var eo=!0;function m0(e,t,n,a){var i=Y.T;Y.T=null;var r=me.p;try{me.p=2,gf(e,t,n,a)}finally{me.p=r,Y.T=i}}function p0(e,t,n,a){var i=Y.T;Y.T=null;var r=me.p;try{me.p=8,gf(e,t,n,a)}finally{me.p=r,Y.T=i}}function gf(e,t,n,a){if(eo){var i=bf(a);if(i===null)nf(e,t,a,to,n),Xm(e,a);else if(g0(i,e,t,n,a))a.stopPropagation();else if(Xm(e,a),t&4&&-1<y0.indexOf(e)){for(;i!==null;){var r=Ct(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=da(r.pendingLanes);if(p!==0){var x=r;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Ce(p);x.entanglements[1]|=_,p&=~_}Ra(r),(wt&6)===0&&(qu=rn()+500,Cs(0))}}break;case 31:case 13:x=Nt(r,2),x!==null&&kn(x,r,2),Hu(),yf(r,2)}if(r=bf(a),r===null&&nf(e,t,a,to,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else nf(e,t,a,null,n)}}function bf(e){return e=Ki(e),vf(e)}var to=null;function vf(e){if(to=null,e=Na(e),e!==null){var t=S(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case on:return 2;case Hn:return 8;case xa:case Ba:return 32;case Te:return 268435456;default:return 32}default:return 32}}var xf=!1,Zl=null,Jl=null,$l=null,Rs=new Map,ks=new Map,Pl=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Bs(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Ct(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g0(e,t,n,a,i){switch(t){case"focusin":return Zl=Bs(Zl,e,t,n,a,i),!0;case"dragenter":return Jl=Bs(Jl,e,t,n,a,i),!0;case"mouseover":return $l=Bs($l,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Rs.set(r,Bs(Rs.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,ks.set(r,Bs(ks.get(r)||null,e,t,n,a,i)),!0}return!1}function Gm(e){var t=Na(e.target);if(t!==null){var n=S(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Wn=a,n.target.dispatchEvent(a),Wn=null}else return t=Ct(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){no(e)&&n.delete(t)}function b0(){xf=!1,Zl!==null&&no(Zl)&&(Zl=null),Jl!==null&&no(Jl)&&(Jl=null),$l!==null&&no($l)&&($l=null),Rs.forEach(Vm),ks.forEach(Vm)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,xf||(xf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,b0)))}var lo=null;function Fm(e){lo!==e&&(lo=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(vf(a||n)===null)continue;break}var r=Ct(n);r!==null&&(e.splice(t,3),t-=3,gc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ar(e){function t(_){return ao(_,e)}Zl!==null&&ao(Zl,e),Jl!==null&&ao(Jl,e),$l!==null&&ao($l,e),Rs.forEach(t),ks.forEach(t);for(var n=0;n<Pl.length;n++){var a=Pl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Gm(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[Jt]||null;if(typeof r=="function")p||Fm(n);else if(p){var x=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[Jt]||null)x=p.formAction;else if(vf(i)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Fm(n)}}}function Zm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Sf(e){this._internalRoot=e}io.prototype.render=Sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Zn();Hm(n,a,e,t,null,null)},io.prototype.unmount=Sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Hu(),t[Cn]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=li();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Gm(e)}};var Jm=o.version;if(Jm!=="19.2.4")throw Error(d(527,Jm,"19.2.4"));me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(t),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Mt=ro.inject(v0),jt=ro}catch{}}return qs.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",i=nh,r=ah,p=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qm(e,1,!1,null,null,n,a,null,i,r,p,Zm),e[Cn]=t.current,tf(e),new Sf(t)},qs.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,i="",r=nh,p=ah,x=lh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=qm(e,1,!0,t,n??null,a,i,_,r,p,x,Zm),t.context=Um(null),n=t.current,a=Zn(),a=Ur(a),i=Bl(a),i.callback=null,ql(n,i,a),n=a,t.current.lanes=n,$n(t,n),Ra(t),e[Cn]=t.current,tf(e),new io(t)},qs.version="19.2.4",qs}var Im;function B0(){if(Im)return wf.exports;Im=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(o){console.error(o)}}return u(),wf.exports=k0(),wf.exports}var q0=B0();const ep=u=>{let o;const m=new Set,d=(E,M)=>{const z=typeof E=="function"?E(o):E;if(!Object.is(z,o)){const $=o;o=M??(typeof z!="object"||z===null)?z:Object.assign({},o,z),m.forEach(ye=>ye(o,$))}},g=()=>o,N={setState:d,getState:g,getInitialState:()=>q,subscribe:E=>(m.add(E),()=>m.delete(E))},q=o=u(d,g,N);return N},U0=(u=>u?ep(u):ep),H0=u=>u;function L0(u,o=H0){const m=so.useSyncExternalStore(u.subscribe,so.useCallback(()=>o(u.getState()),[u,o]),so.useCallback(()=>o(u.getInitialState()),[u,o]));return so.useDebugValue(m),m}const tp=u=>{const o=U0(u),m=d=>L0(o,d);return Object.assign(m,o),m},K0=(u=>u?tp(u):tp);function Y0(u,o){let m;try{m=u()}catch{return}return{getItem:g=>{var S;const v=q=>q===null?null:JSON.parse(q,void 0),N=(S=m.getItem(g))!=null?S:null;return N instanceof Promise?N.then(v):v(N)},setItem:(g,S)=>m.setItem(g,JSON.stringify(S,void 0)),removeItem:g=>m.removeItem(g)}}const Of=u=>o=>{try{const m=u(o);return m instanceof Promise?m:{then(d){return Of(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Of(d)(m)}}}},Q0=(u,o)=>(m,d,g)=>{let S={storage:Y0(()=>window.localStorage),partialize:P=>P,version:0,merge:(P,Ae)=>({...Ae,...P}),...o},v=!1,N=0;const q=new Set,E=new Set;let M=S.storage;if(!M)return u((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${S.name}', the given storage is currently unavailable.`),m(...P)},d,g);const z=()=>{const P=S.partialize({...d()});return M.setItem(S.name,{state:P,version:S.version})},$=g.setState;g.setState=(P,Ae)=>($(P,Ae),z());const ye=u((...P)=>(m(...P),z()),d,g);g.getInitialState=()=>ye;let V;const ie=()=>{var P,Ae;if(!M)return;const oe=++N;v=!1,q.forEach(te=>{var we;return te((we=d())!=null?we:ye)});const ve=((Ae=S.onRehydrateStorage)==null?void 0:Ae.call(S,(P=d())!=null?P:ye))||void 0;return Of(M.getItem.bind(M))(S.name).then(te=>{if(te)if(typeof te.version=="number"&&te.version!==S.version){if(S.migrate){const we=S.migrate(te.state,te.version);return we instanceof Promise?we.then(be=>[!0,be]):[!0,we]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,te.state];return[!1,void 0]}).then(te=>{var we;if(oe!==N)return;const[be,xe]=te;if(V=S.merge(xe,(we=d())!=null?we:ye),m(V,!0),be)return z()}).then(()=>{oe===N&&(ve?.(V,void 0),V=d(),v=!0,E.forEach(te=>te(V)))}).catch(te=>{oe===N&&ve?.(void 0,te)})};return g.persist={setOptions:P=>{S={...S,...P},P.storage&&(M=P.storage)},clearStorage:()=>{M?.removeItem(S.name)},getOptions:()=>S,rehydrate:()=>ie(),hasHydrated:()=>v,onHydrate:P=>(q.add(P),()=>{q.delete(P)}),onFinishHydration:P=>(E.add(P),()=>{E.delete(P)})},S.skipHydration||ie(),V||ye},X0=Q0,pl=K0(X0(u=>({token:null,setToken:o=>u({token:o}),logout:()=>u({token:null})}),{name:"wisemark-auth",partialize:u=>({token:u.token})}));function Tp(u,o){return function(){return u.apply(o,arguments)}}const{toString:G0}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:So,toStringTag:Mp}=Symbol,wo=(u=>o=>{const m=G0.call(o);return u[m]||(u[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),ba=u=>(u=u.toLowerCase(),o=>wo(o)===u),jo=u=>o=>typeof o===u,{isArray:kr}=Array,Tr=jo("undefined");function Qs(u){return u!==null&&!Tr(u)&&u.constructor!==null&&!Tr(u.constructor)&&Bn(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const zp=ba("ArrayBuffer");function V0(u){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(u):o=u&&u.buffer&&zp(u.buffer),o}const F0=jo("string"),Bn=jo("function"),Rp=jo("number"),Xs=u=>u!==null&&typeof u=="object",Z0=u=>u===!0||u===!1,co=u=>{if(wo(u)!=="object")return!1;const o=Hf(u);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Mp in u)&&!(So in u)},J0=u=>{if(!Xs(u)||Qs(u))return!1;try{return Object.keys(u).length===0&&Object.getPrototypeOf(u)===Object.prototype}catch{return!1}},$0=ba("Date"),P0=ba("File"),W0=ba("Blob"),I0=ba("FileList"),eg=u=>Xs(u)&&Bn(u.pipe),tg=u=>{let o;return u&&(typeof FormData=="function"&&u instanceof FormData||Bn(u.append)&&((o=wo(u))==="formdata"||o==="object"&&Bn(u.toString)&&u.toString()==="[object FormData]"))},ng=ba("URLSearchParams"),[ag,lg,ig,rg]=["ReadableStream","Request","Response","Headers"].map(ba),sg=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gs(u,o,{allOwnKeys:m=!1}={}){if(u===null||typeof u>"u")return;let d,g;if(typeof u!="object"&&(u=[u]),kr(u))for(d=0,g=u.length;d<g;d++)o.call(null,u[d],d,u);else{if(Qs(u))return;const S=m?Object.getOwnPropertyNames(u):Object.keys(u),v=S.length;let N;for(d=0;d<v;d++)N=S[d],o.call(null,u[N],N,u)}}function kp(u,o){if(Qs(u))return null;o=o.toLowerCase();const m=Object.keys(u);let d=m.length,g;for(;d-- >0;)if(g=m[d],o===g.toLowerCase())return g;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bp=u=>!Tr(u)&&u!==Ti;function Df(){const{caseless:u,skipUndefined:o}=Bp(this)&&this||{},m={},d=(g,S)=>{if(S==="__proto__"||S==="constructor"||S==="prototype")return;const v=u&&kp(m,S)||S;co(m[v])&&co(g)?m[v]=Df(m[v],g):co(g)?m[v]=Df({},g):kr(g)?m[v]=g.slice():(!o||!Tr(g))&&(m[v]=g)};for(let g=0,S=arguments.length;g<S;g++)arguments[g]&&Gs(arguments[g],d);return m}const ug=(u,o,m,{allOwnKeys:d}={})=>(Gs(o,(g,S)=>{m&&Bn(g)?Object.defineProperty(u,S,{value:Tp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(u,S,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),u),og=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),cg=(u,o,m,d)=>{u.prototype=Object.create(o.prototype,d),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(u,"super",{value:o.prototype}),m&&Object.assign(u.prototype,m)},fg=(u,o,m,d)=>{let g,S,v;const N={};if(o=o||{},u==null)return o;do{for(g=Object.getOwnPropertyNames(u),S=g.length;S-- >0;)v=g[S],(!d||d(v,u,o))&&!N[v]&&(o[v]=u[v],N[v]=!0);u=m!==!1&&Hf(u)}while(u&&(!m||m(u,o))&&u!==Object.prototype);return o},dg=(u,o,m)=>{u=String(u),(m===void 0||m>u.length)&&(m=u.length),m-=o.length;const d=u.indexOf(o,m);return d!==-1&&d===m},hg=u=>{if(!u)return null;if(kr(u))return u;let o=u.length;if(!Rp(o))return null;const m=new Array(o);for(;o-- >0;)m[o]=u[o];return m},mg=(u=>o=>u&&o instanceof u)(typeof Uint8Array<"u"&&Hf(Uint8Array)),pg=(u,o)=>{const d=(u&&u[So]).call(u);let g;for(;(g=d.next())&&!g.done;){const S=g.value;o.call(u,S[0],S[1])}},yg=(u,o)=>{let m;const d=[];for(;(m=u.exec(o))!==null;)d.push(m);return d},gg=ba("HTMLFormElement"),bg=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),np=(({hasOwnProperty:u})=>(o,m)=>u.call(o,m))(Object.prototype),vg=ba("RegExp"),qp=(u,o)=>{const m=Object.getOwnPropertyDescriptors(u),d={};Gs(m,(g,S)=>{let v;(v=o(g,S,u))!==!1&&(d[S]=v||g)}),Object.defineProperties(u,d)},xg=u=>{qp(u,(o,m)=>{if(Bn(u)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=u[m];if(Bn(d)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Sg=(u,o)=>{const m={},d=g=>{g.forEach(S=>{m[S]=!0})};return kr(u)?d(u):d(String(u).split(o)),m},wg=()=>{},jg=(u,o)=>u!=null&&Number.isFinite(u=+u)?u:o;function Ng(u){return!!(u&&Bn(u.append)&&u[Mp]==="FormData"&&u[So])}const _g=u=>{const o=new Array(10),m=(d,g)=>{if(Xs(d)){if(o.indexOf(d)>=0)return;if(Qs(d))return d;if(!("toJSON"in d)){o[g]=d;const S=kr(d)?[]:{};return Gs(d,(v,N)=>{const q=m(v,g+1);!Tr(q)&&(S[N]=q)}),o[g]=void 0,S}}return d};return m(u,0)},Eg=ba("AsyncFunction"),Cg=u=>u&&(Xs(u)||Bn(u))&&Bn(u.then)&&Bn(u.catch),Up=((u,o)=>u?setImmediate:o?((m,d)=>(Ti.addEventListener("message",({source:g,data:S})=>{g===Ti&&S===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Ti.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Bn(Ti.postMessage)),Ag=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||Up,Og=u=>u!=null&&Bn(u[So]),I={isArray:kr,isArrayBuffer:zp,isBuffer:Qs,isFormData:tg,isArrayBufferView:V0,isString:F0,isNumber:Rp,isBoolean:Z0,isObject:Xs,isPlainObject:co,isEmptyObject:J0,isReadableStream:ag,isRequest:lg,isResponse:ig,isHeaders:rg,isUndefined:Tr,isDate:$0,isFile:P0,isBlob:W0,isRegExp:vg,isFunction:Bn,isStream:eg,isURLSearchParams:ng,isTypedArray:mg,isFileList:I0,forEach:Gs,merge:Df,extend:ug,trim:sg,stripBOM:og,inherits:cg,toFlatObject:fg,kindOf:wo,kindOfTest:ba,endsWith:dg,toArray:hg,forEachEntry:pg,matchAll:yg,isHTMLForm:gg,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:qp,freezeMethods:xg,toObjectSet:Sg,toCamelCase:bg,noop:wg,toFiniteNumber:jg,findKey:kp,global:Ti,isContextDefined:Bp,isSpecCompliantForm:Ng,toJSONObject:_g,isAsyncFn:Eg,isThenable:Cg,setImmediate:Up,asap:Ag,isIterable:Og};let Fe=class Hp extends Error{static from(o,m,d,g,S,v){const N=new Hp(o.message,m||o.code,d,g,S);return N.cause=o,N.name=o.name,v&&Object.assign(N,v),N}constructor(o,m,d,g,S){super(o),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),S&&(this.response=S,this.status=S.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};Fe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Fe.ERR_BAD_OPTION="ERR_BAD_OPTION";Fe.ECONNABORTED="ECONNABORTED";Fe.ETIMEDOUT="ETIMEDOUT";Fe.ERR_NETWORK="ERR_NETWORK";Fe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Fe.ERR_DEPRECATED="ERR_DEPRECATED";Fe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Fe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Fe.ERR_CANCELED="ERR_CANCELED";Fe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Fe.ERR_INVALID_URL="ERR_INVALID_URL";const Dg=null;function Tf(u){return I.isPlainObject(u)||I.isArray(u)}function Lp(u){return I.endsWith(u,"[]")?u.slice(0,-2):u}function ap(u,o,m){return u?u.concat(o).map(function(g,S){return g=Lp(g),!m&&S?"["+g+"]":g}).join(m?".":""):o}function Tg(u){return I.isArray(u)&&!u.some(Tf)}const Mg=I.toFlatObject(I,{},null,function(o){return/^is[A-Z]/.test(o)});function No(u,o,m){if(!I.isObject(u))throw new TypeError("target must be an object");o=o||new FormData,m=I.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ie,P){return!I.isUndefined(P[ie])});const d=m.metaTokens,g=m.visitor||M,S=m.dots,v=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(o);if(!I.isFunction(g))throw new TypeError("visitor must be a function");function E(V){if(V===null)return"";if(I.isDate(V))return V.toISOString();if(I.isBoolean(V))return V.toString();if(!q&&I.isBlob(V))throw new Fe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(V)||I.isTypedArray(V)?q&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function M(V,ie,P){let Ae=V;if(V&&!P&&typeof V=="object"){if(I.endsWith(ie,"{}"))ie=d?ie:ie.slice(0,-2),V=JSON.stringify(V);else if(I.isArray(V)&&Tg(V)||(I.isFileList(V)||I.endsWith(ie,"[]"))&&(Ae=I.toArray(V)))return ie=Lp(ie),Ae.forEach(function(ve,te){!(I.isUndefined(ve)||ve===null)&&o.append(v===!0?ap([ie],te,S):v===null?ie:ie+"[]",E(ve))}),!1}return Tf(V)?!0:(o.append(ap(P,ie,S),E(V)),!1)}const z=[],$=Object.assign(Mg,{defaultVisitor:M,convertValue:E,isVisitable:Tf});function ye(V,ie){if(!I.isUndefined(V)){if(z.indexOf(V)!==-1)throw Error("Circular reference detected in "+ie.join("."));z.push(V),I.forEach(V,function(Ae,oe){(!(I.isUndefined(Ae)||Ae===null)&&g.call(o,Ae,I.isString(oe)?oe.trim():oe,ie,$))===!0&&ye(Ae,ie?ie.concat(oe):[oe])}),z.pop()}}if(!I.isObject(u))throw new TypeError("data must be an object");return ye(u),o}function lp(u){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(d){return o[d]})}function Lf(u,o){this._pairs=[],u&&No(u,this,o)}const Kp=Lf.prototype;Kp.append=function(o,m){this._pairs.push([o,m])};Kp.toString=function(o){const m=o?function(d){return o.call(this,d,lp)}:lp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function zg(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yp(u,o,m){if(!o)return u;const d=m&&m.encode||zg,g=I.isFunction(m)?{serialize:m}:m,S=g&&g.serialize;let v;if(S?v=S(o,g):v=I.isURLSearchParams(o)?o.toString():new Lf(o,g).toString(d),v){const N=u.indexOf("#");N!==-1&&(u=u.slice(0,N)),u+=(u.indexOf("?")===-1?"?":"&")+v}return u}class ip{constructor(){this.handlers=[]}use(o,m,d){return this.handlers.push({fulfilled:o,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){I.forEach(this.handlers,function(d){d!==null&&o(d)})}}const Kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Rg=typeof URLSearchParams<"u"?URLSearchParams:Lf,kg=typeof FormData<"u"?FormData:null,Bg=typeof Blob<"u"?Blob:null,qg={isBrowser:!0,classes:{URLSearchParams:Rg,FormData:kg,Blob:Bg},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Mf=typeof navigator=="object"&&navigator||void 0,Ug=Yf&&(!Mf||["ReactNative","NativeScript","NS"].indexOf(Mf.product)<0),Hg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lg=Yf&&window.location.href||"http://localhost",Kg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:Ug,hasStandardBrowserWebWorkerEnv:Hg,navigator:Mf,origin:Lg},Symbol.toStringTag,{value:"Module"})),Nn={...Kg,...qg};function Yg(u,o){return No(u,new Nn.classes.URLSearchParams,{visitor:function(m,d,g,S){return Nn.isNode&&I.isBuffer(m)?(this.append(d,m.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)},...o})}function Qg(u){return I.matchAll(/\w+|\[(\w*)]/g,u).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Xg(u){const o={},m=Object.keys(u);let d;const g=m.length;let S;for(d=0;d<g;d++)S=m[d],o[S]=u[S];return o}function Qp(u){function o(m,d,g,S){let v=m[S++];if(v==="__proto__")return!0;const N=Number.isFinite(+v),q=S>=m.length;return v=!v&&I.isArray(g)?g.length:v,q?(I.hasOwnProp(g,v)?g[v]=[g[v],d]:g[v]=d,!N):((!g[v]||!I.isObject(g[v]))&&(g[v]=[]),o(m,d,g[v],S)&&I.isArray(g[v])&&(g[v]=Xg(g[v])),!N)}if(I.isFormData(u)&&I.isFunction(u.entries)){const m={};return I.forEachEntry(u,(d,g)=>{o(Qg(d),g,m,0)}),m}return null}function Gg(u,o,m){if(I.isString(u))try{return(o||JSON.parse)(u),I.trim(u)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(u)}const Vs={transitional:Kf,adapter:["xhr","http","fetch"],transformRequest:[function(o,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,S=I.isObject(o);if(S&&I.isHTMLForm(o)&&(o=new FormData(o)),I.isFormData(o))return g?JSON.stringify(Qp(o)):o;if(I.isArrayBuffer(o)||I.isBuffer(o)||I.isStream(o)||I.isFile(o)||I.isBlob(o)||I.isReadableStream(o))return o;if(I.isArrayBufferView(o))return o.buffer;if(I.isURLSearchParams(o))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let N;if(S){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Yg(o,this.formSerializer).toString();if((N=I.isFileList(o))||d.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return No(N?{"files[]":o}:o,q&&new q,this.formSerializer)}}return S||g?(m.setContentType("application/json",!1),Gg(o)):o}],transformResponse:[function(o){const m=this.transitional||Vs.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(I.isResponse(o)||I.isReadableStream(o))return o;if(o&&I.isString(o)&&(d&&!this.responseType||g)){const v=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(o,this.parseReviver)}catch(N){if(v)throw N.name==="SyntaxError"?Fe.from(N,Fe.ERR_BAD_RESPONSE,this,null,this.response):N}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],u=>{Vs.headers[u]={}});const Vg=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fg=u=>{const o={};let m,d,g;return u&&u.split(`
`).forEach(function(v){g=v.indexOf(":"),m=v.substring(0,g).trim().toLowerCase(),d=v.substring(g+1).trim(),!(!m||o[m]&&Vg[m])&&(m==="set-cookie"?o[m]?o[m].push(d):o[m]=[d]:o[m]=o[m]?o[m]+", "+d:d)}),o},rp=Symbol("internals");function Us(u){return u&&String(u).trim().toLowerCase()}function fo(u){return u===!1||u==null?u:I.isArray(u)?u.map(fo):String(u)}function Zg(u){const o=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(u);)o[d[1]]=d[2];return o}const Jg=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function _f(u,o,m,d,g){if(I.isFunction(d))return d.call(this,o,m);if(g&&(o=m),!!I.isString(o)){if(I.isString(d))return o.indexOf(d)!==-1;if(I.isRegExp(d))return d.test(o)}}function $g(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,m,d)=>m.toUpperCase()+d)}function Pg(u,o){const m=I.toCamelCase(" "+o);["get","set","has"].forEach(d=>{Object.defineProperty(u,d+m,{value:function(g,S,v){return this[d].call(this,o,g,S,v)},configurable:!0})})}let qn=class{constructor(o){o&&this.set(o)}set(o,m,d){const g=this;function S(N,q,E){const M=Us(q);if(!M)throw new Error("header name must be a non-empty string");const z=I.findKey(g,M);(!z||g[z]===void 0||E===!0||E===void 0&&g[z]!==!1)&&(g[z||q]=fo(N))}const v=(N,q)=>I.forEach(N,(E,M)=>S(E,M,q));if(I.isPlainObject(o)||o instanceof this.constructor)v(o,m);else if(I.isString(o)&&(o=o.trim())&&!Jg(o))v(Fg(o),m);else if(I.isObject(o)&&I.isIterable(o)){let N={},q,E;for(const M of o){if(!I.isArray(M))throw TypeError("Object iterator must return a key-value pair");N[E=M[0]]=(q=N[E])?I.isArray(q)?[...q,M[1]]:[q,M[1]]:M[1]}v(N,m)}else o!=null&&S(m,o,d);return this}get(o,m){if(o=Us(o),o){const d=I.findKey(this,o);if(d){const g=this[d];if(!m)return g;if(m===!0)return Zg(g);if(I.isFunction(m))return m.call(this,g,d);if(I.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,m){if(o=Us(o),o){const d=I.findKey(this,o);return!!(d&&this[d]!==void 0&&(!m||_f(this,this[d],d,m)))}return!1}delete(o,m){const d=this;let g=!1;function S(v){if(v=Us(v),v){const N=I.findKey(d,v);N&&(!m||_f(d,d[N],N,m))&&(delete d[N],g=!0)}}return I.isArray(o)?o.forEach(S):S(o),g}clear(o){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const S=m[d];(!o||_f(this,this[S],S,o,!0))&&(delete this[S],g=!0)}return g}normalize(o){const m=this,d={};return I.forEach(this,(g,S)=>{const v=I.findKey(d,S);if(v){m[v]=fo(g),delete m[S];return}const N=o?$g(S):String(S).trim();N!==S&&delete m[S],m[N]=fo(g),d[N]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const m=Object.create(null);return I.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=o&&I.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,m])=>o+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...m){const d=new this(o);return m.forEach(g=>d.set(g)),d}static accessor(o){const d=(this[rp]=this[rp]={accessors:{}}).accessors,g=this.prototype;function S(v){const N=Us(v);d[N]||(Pg(g,v),d[N]=!0)}return I.isArray(o)?o.forEach(S):S(o),this}};qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(qn.prototype,({value:u},o)=>{let m=o[0].toUpperCase()+o.slice(1);return{get:()=>u,set(d){this[m]=d}}});I.freezeMethods(qn);function Ef(u,o){const m=this||Vs,d=o||m,g=qn.from(d.headers);let S=d.data;return I.forEach(u,function(N){S=N.call(m,S,g.normalize(),o?o.status:void 0)}),g.normalize(),S}function Xp(u){return!!(u&&u.__CANCEL__)}let Fs=class extends Fe{constructor(o,m,d){super(o??"canceled",Fe.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Gp(u,o,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?u(m):o(new Fe("Request failed with status code "+m.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Wg(u){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return o&&o[1]||""}function Ig(u,o){u=u||10;const m=new Array(u),d=new Array(u);let g=0,S=0,v;return o=o!==void 0?o:1e3,function(q){const E=Date.now(),M=d[S];v||(v=E),m[g]=q,d[g]=E;let z=S,$=0;for(;z!==g;)$+=m[z++],z=z%u;if(g=(g+1)%u,g===S&&(S=(S+1)%u),E-v<o)return;const ye=M&&E-M;return ye?Math.round($*1e3/ye):void 0}}function eb(u,o){let m=0,d=1e3/o,g,S;const v=(E,M=Date.now())=>{m=M,g=null,S&&(clearTimeout(S),S=null),u(...E)};return[(...E)=>{const M=Date.now(),z=M-m;z>=d?v(E,M):(g=E,S||(S=setTimeout(()=>{S=null,v(g)},d-z)))},()=>g&&v(g)]}const yo=(u,o,m=3)=>{let d=0;const g=Ig(50,250);return eb(S=>{const v=S.loaded,N=S.lengthComputable?S.total:void 0,q=v-d,E=g(q),M=v<=N;d=v;const z={loaded:v,total:N,progress:N?v/N:void 0,bytes:q,rate:E||void 0,estimated:E&&N&&M?(N-v)/E:void 0,event:S,lengthComputable:N!=null,[o?"download":"upload"]:!0};u(z)},m)},sp=(u,o)=>{const m=u!=null;return[d=>o[0]({lengthComputable:m,total:u,loaded:d}),o[1]]},up=u=>(...o)=>I.asap(()=>u(...o)),tb=Nn.hasStandardBrowserEnv?((u,o)=>m=>(m=new URL(m,Nn.origin),u.protocol===m.protocol&&u.host===m.host&&(o||u.port===m.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,nb=Nn.hasStandardBrowserEnv?{write(u,o,m,d,g,S,v){if(typeof document>"u")return;const N=[`${u}=${encodeURIComponent(o)}`];I.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),I.isString(d)&&N.push(`path=${d}`),I.isString(g)&&N.push(`domain=${g}`),S===!0&&N.push("secure"),I.isString(v)&&N.push(`SameSite=${v}`),document.cookie=N.join("; ")},read(u){if(typeof document>"u")return null;const o=document.cookie.match(new RegExp("(?:^|; )"+u+"=([^;]*)"));return o?decodeURIComponent(o[1]):null},remove(u){this.write(u,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ab(u){return typeof u!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function lb(u,o){return o?u.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):u}function Vp(u,o,m){let d=!ab(o);return u&&(d||m==!1)?lb(u,o):o}const op=u=>u instanceof qn?{...u}:u;function Ri(u,o){o=o||{};const m={};function d(E,M,z,$){return I.isPlainObject(E)&&I.isPlainObject(M)?I.merge.call({caseless:$},E,M):I.isPlainObject(M)?I.merge({},M):I.isArray(M)?M.slice():M}function g(E,M,z,$){if(I.isUndefined(M)){if(!I.isUndefined(E))return d(void 0,E,z,$)}else return d(E,M,z,$)}function S(E,M){if(!I.isUndefined(M))return d(void 0,M)}function v(E,M){if(I.isUndefined(M)){if(!I.isUndefined(E))return d(void 0,E)}else return d(void 0,M)}function N(E,M,z){if(z in o)return d(E,M);if(z in u)return d(void 0,E)}const q={url:S,method:S,data:S,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:N,headers:(E,M,z)=>g(op(E),op(M),z,!0)};return I.forEach(Object.keys({...u,...o}),function(M){if(M==="__proto__"||M==="constructor"||M==="prototype")return;const z=I.hasOwnProp(q,M)?q[M]:g,$=z(u[M],o[M],M);I.isUndefined($)&&z!==N||(m[M]=$)}),m}const Fp=u=>{const o=Ri({},u);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:S,headers:v,auth:N}=o;if(o.headers=v=qn.from(v),o.url=Yp(Vp(o.baseURL,o.url,o.allowAbsoluteUrls),u.params,u.paramsSerializer),N&&v.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),I.isFormData(m)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if(I.isFunction(m.getHeaders)){const q=m.getHeaders(),E=["content-type","content-length"];Object.entries(q).forEach(([M,z])=>{E.includes(M.toLowerCase())&&v.set(M,z)})}}if(Nn.hasStandardBrowserEnv&&(d&&I.isFunction(d)&&(d=d(o)),d||d!==!1&&tb(o.url))){const q=g&&S&&nb.read(S);q&&v.set(g,q)}return o},ib=typeof XMLHttpRequest<"u",rb=ib&&function(u){return new Promise(function(m,d){const g=Fp(u);let S=g.data;const v=qn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:E}=g,M,z,$,ye,V;function ie(){ye&&ye(),V&&V(),g.cancelToken&&g.cancelToken.unsubscribe(M),g.signal&&g.signal.removeEventListener("abort",M)}let P=new XMLHttpRequest;P.open(g.method.toUpperCase(),g.url,!0),P.timeout=g.timeout;function Ae(){if(!P)return;const ve=qn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),we={data:!N||N==="text"||N==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:ve,config:u,request:P};Gp(function(xe){m(xe),ie()},function(xe){d(xe),ie()},we),P=null}"onloadend"in P?P.onloadend=Ae:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(Ae)},P.onabort=function(){P&&(d(new Fe("Request aborted",Fe.ECONNABORTED,u,P)),P=null)},P.onerror=function(te){const we=te&&te.message?te.message:"Network Error",be=new Fe(we,Fe.ERR_NETWORK,u,P);be.event=te||null,d(be),P=null},P.ontimeout=function(){let te=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const we=g.transitional||Kf;g.timeoutErrorMessage&&(te=g.timeoutErrorMessage),d(new Fe(te,we.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,u,P)),P=null},S===void 0&&v.setContentType(null),"setRequestHeader"in P&&I.forEach(v.toJSON(),function(te,we){P.setRequestHeader(we,te)}),I.isUndefined(g.withCredentials)||(P.withCredentials=!!g.withCredentials),N&&N!=="json"&&(P.responseType=g.responseType),E&&([$,V]=yo(E,!0),P.addEventListener("progress",$)),q&&P.upload&&([z,ye]=yo(q),P.upload.addEventListener("progress",z),P.upload.addEventListener("loadend",ye)),(g.cancelToken||g.signal)&&(M=ve=>{P&&(d(!ve||ve.type?new Fs(null,u,P):ve),P.abort(),P=null)},g.cancelToken&&g.cancelToken.subscribe(M),g.signal&&(g.signal.aborted?M():g.signal.addEventListener("abort",M)));const oe=Wg(g.url);if(oe&&Nn.protocols.indexOf(oe)===-1){d(new Fe("Unsupported protocol "+oe+":",Fe.ERR_BAD_REQUEST,u));return}P.send(S||null)})},sb=(u,o)=>{const{length:m}=u=u?u.filter(Boolean):[];if(o||m){let d=new AbortController,g;const S=function(E){if(!g){g=!0,N();const M=E instanceof Error?E:this.reason;d.abort(M instanceof Fe?M:new Fs(M instanceof Error?M.message:M))}};let v=o&&setTimeout(()=>{v=null,S(new Fe(`timeout of ${o}ms exceeded`,Fe.ETIMEDOUT))},o);const N=()=>{u&&(v&&clearTimeout(v),v=null,u.forEach(E=>{E.unsubscribe?E.unsubscribe(S):E.removeEventListener("abort",S)}),u=null)};u.forEach(E=>E.addEventListener("abort",S));const{signal:q}=d;return q.unsubscribe=()=>I.asap(N),q}},ub=function*(u,o){let m=u.byteLength;if(m<o){yield u;return}let d=0,g;for(;d<m;)g=d+o,yield u.slice(d,g),d=g},ob=async function*(u,o){for await(const m of cb(u))yield*ub(m,o)},cb=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const o=u.getReader();try{for(;;){const{done:m,value:d}=await o.read();if(m)break;yield d}}finally{await o.cancel()}},cp=(u,o,m,d)=>{const g=ob(u,o);let S=0,v,N=q=>{v||(v=!0,d&&d(q))};return new ReadableStream({async pull(q){try{const{done:E,value:M}=await g.next();if(E){N(),q.close();return}let z=M.byteLength;if(m){let $=S+=z;m($)}q.enqueue(new Uint8Array(M))}catch(E){throw N(E),E}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:uo}=I,fb=(({Request:u,Response:o})=>({Request:u,Response:o}))(I.global),{ReadableStream:dp,TextEncoder:hp}=I.global,mp=(u,...o)=>{try{return!!u(...o)}catch{return!1}},db=u=>{u=I.merge.call({skipUndefined:!0},fb,u);const{fetch:o,Request:m,Response:d}=u,g=o?uo(o):typeof fetch=="function",S=uo(m),v=uo(d);if(!g)return!1;const N=g&&uo(dp),q=g&&(typeof hp=="function"?(V=>ie=>V.encode(ie))(new hp):async V=>new Uint8Array(await new m(V).arrayBuffer())),E=S&&N&&mp(()=>{let V=!1;const ie=new m(Nn.origin,{body:new dp,method:"POST",get duplex(){return V=!0,"half"}}).headers.has("Content-Type");return V&&!ie}),M=v&&N&&mp(()=>I.isReadableStream(new d("").body)),z={stream:M&&(V=>V.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(V=>{!z[V]&&(z[V]=(ie,P)=>{let Ae=ie&&ie[V];if(Ae)return Ae.call(ie);throw new Fe(`Response type '${V}' is not supported`,Fe.ERR_NOT_SUPPORT,P)})});const $=async V=>{if(V==null)return 0;if(I.isBlob(V))return V.size;if(I.isSpecCompliantForm(V))return(await new m(Nn.origin,{method:"POST",body:V}).arrayBuffer()).byteLength;if(I.isArrayBufferView(V)||I.isArrayBuffer(V))return V.byteLength;if(I.isURLSearchParams(V)&&(V=V+""),I.isString(V))return(await q(V)).byteLength},ye=async(V,ie)=>{const P=I.toFiniteNumber(V.getContentLength());return P??$(ie)};return async V=>{let{url:ie,method:P,data:Ae,signal:oe,cancelToken:ve,timeout:te,onDownloadProgress:we,onUploadProgress:be,responseType:xe,headers:He,withCredentials:Ze="same-origin",fetchOptions:dt}=Fp(V),Pe=o||fetch;xe=xe?(xe+"").toLowerCase():"text";let Ye=sb([oe,ve&&ve.toAbortSignal()],te),at=null;const Se=Ye&&Ye.unsubscribe&&(()=>{Ye.unsubscribe()});let Ue;try{if(be&&E&&P!=="get"&&P!=="head"&&(Ue=await ye(He,Ae))!==0){let G=new m(ie,{method:"POST",body:Ae,duplex:"half"}),se;if(I.isFormData(Ae)&&(se=G.headers.get("content-type"))&&He.setContentType(se),G.body){const[Ne,Me]=sp(Ue,yo(up(be)));Ae=cp(G.body,fp,Ne,Me)}}I.isString(Ze)||(Ze=Ze?"include":"omit");const Y=S&&"credentials"in m.prototype,me={...dt,signal:Ye,method:P.toUpperCase(),headers:He.normalize().toJSON(),body:Ae,duplex:"half",credentials:Y?Ze:void 0};at=S&&new m(ie,me);let ge=await(S?Pe(at,dt):Pe(ie,me));const je=M&&(xe==="stream"||xe==="response");if(M&&(we||je&&Se)){const G={};["status","statusText","headers"].forEach(Le=>{G[Le]=ge[Le]});const se=I.toFiniteNumber(ge.headers.get("content-length")),[Ne,Me]=we&&sp(se,yo(up(we),!0))||[];ge=new d(cp(ge.body,fp,Ne,()=>{Me&&Me(),Se&&Se()}),G)}xe=xe||"text";let ke=await z[I.findKey(z,xe)||"text"](ge,V);return!je&&Se&&Se(),await new Promise((G,se)=>{Gp(G,se,{data:ke,headers:qn.from(ge.headers),status:ge.status,statusText:ge.statusText,config:V,request:at})})}catch(Y){throw Se&&Se(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,V,at,Y&&Y.response),{cause:Y.cause||Y}):Fe.from(Y,Y&&Y.code,V,at,Y&&Y.response)}}},hb=new Map,Zp=u=>{let o=u&&u.env||{};const{fetch:m,Request:d,Response:g}=o,S=[d,g,m];let v=S.length,N=v,q,E,M=hb;for(;N--;)q=S[N],E=M.get(q),E===void 0&&M.set(q,E=N?new Map:db(o)),M=E;return E};Zp();const Qf={http:Dg,xhr:rb,fetch:{get:Zp}};I.forEach(Qf,(u,o)=>{if(u){try{Object.defineProperty(u,"name",{value:o})}catch{}Object.defineProperty(u,"adapterName",{value:o})}});const pp=u=>`- ${u}`,mb=u=>I.isFunction(u)||u===null||u===!1;function pb(u,o){u=I.isArray(u)?u:[u];const{length:m}=u;let d,g;const S={};for(let v=0;v<m;v++){d=u[v];let N;if(g=d,!mb(d)&&(g=Qf[(N=String(d)).toLowerCase()],g===void 0))throw new Fe(`Unknown adapter '${N}'`);if(g&&(I.isFunction(g)||(g=g.get(o))))break;S[N||"#"+v]=g}if(!g){const v=Object.entries(S).map(([q,E])=>`adapter ${q} `+(E===!1?"is not supported by the environment":"is not available in the build"));let N=m?v.length>1?`since :
`+v.map(pp).join(`
`):" "+pp(v[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const Jp={getAdapter:pb,adapters:Qf};function Cf(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Fs(null,u)}function yp(u){return Cf(u),u.headers=qn.from(u.headers),u.data=Ef.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),Jp.getAdapter(u.adapter||Vs.adapter,u)(u).then(function(d){return Cf(u),d.data=Ef.call(u,u.transformResponse,d),d.headers=qn.from(d.headers),d},function(d){return Xp(d)||(Cf(u),d&&d.response&&(d.response.data=Ef.call(u,u.transformResponse,d.response),d.response.headers=qn.from(d.response.headers))),Promise.reject(d)})}const $p="1.13.5",_o={};["object","boolean","number","function","string","symbol"].forEach((u,o)=>{_o[u]=function(d){return typeof d===u||"a"+(o<1?"n ":" ")+u}});const gp={};_o.transitional=function(o,m,d){function g(S,v){return"[Axios v"+$p+"] Transitional option '"+S+"'"+v+(d?". "+d:"")}return(S,v,N)=>{if(o===!1)throw new Fe(g(v," has been removed"+(m?" in "+m:"")),Fe.ERR_DEPRECATED);return m&&!gp[v]&&(gp[v]=!0,console.warn(g(v," has been deprecated since v"+m+" and will be removed in the near future"))),o?o(S,v,N):!0}};_o.spelling=function(o){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${o}`),!0)};function yb(u,o,m){if(typeof u!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const d=Object.keys(u);let g=d.length;for(;g-- >0;){const S=d[g],v=o[S];if(v){const N=u[S],q=N===void 0||v(N,S,u);if(q!==!0)throw new Fe("option "+S+" must be "+q,Fe.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Fe("Unknown option "+S,Fe.ERR_BAD_OPTION)}}const ho={assertOptions:yb,validators:_o},ua=ho.validators;let Mi=class{constructor(o){this.defaults=o||{},this.interceptors={request:new ip,response:new ip}}async request(o,m){try{return await this._request(o,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const S=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?S&&!String(d.stack).endsWith(S.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+S):d.stack=S}catch{}}throw d}}_request(o,m){typeof o=="string"?(m=m||{},m.url=o):m=o||{},m=Ri(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:S}=m;d!==void 0&&ho.assertOptions(d,{silentJSONParsing:ua.transitional(ua.boolean),forcedJSONParsing:ua.transitional(ua.boolean),clarifyTimeoutError:ua.transitional(ua.boolean),legacyInterceptorReqResOrdering:ua.transitional(ua.boolean)},!1),g!=null&&(I.isFunction(g)?m.paramsSerializer={serialize:g}:ho.assertOptions(g,{encode:ua.function,serialize:ua.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),ho.assertOptions(m,{baseUrl:ua.spelling("baseURL"),withXsrfToken:ua.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let v=S&&I.merge(S.common,S[m.method]);S&&I.forEach(["delete","get","head","post","put","patch","common"],V=>{delete S[V]}),m.headers=qn.concat(v,S);const N=[];let q=!0;this.interceptors.request.forEach(function(ie){if(typeof ie.runWhen=="function"&&ie.runWhen(m)===!1)return;q=q&&ie.synchronous;const P=m.transitional||Kf;P&&P.legacyInterceptorReqResOrdering?N.unshift(ie.fulfilled,ie.rejected):N.push(ie.fulfilled,ie.rejected)});const E=[];this.interceptors.response.forEach(function(ie){E.push(ie.fulfilled,ie.rejected)});let M,z=0,$;if(!q){const V=[yp.bind(this),void 0];for(V.unshift(...N),V.push(...E),$=V.length,M=Promise.resolve(m);z<$;)M=M.then(V[z++],V[z++]);return M}$=N.length;let ye=m;for(;z<$;){const V=N[z++],ie=N[z++];try{ye=V(ye)}catch(P){ie.call(this,P);break}}try{M=yp.call(this,ye)}catch(V){return Promise.reject(V)}for(z=0,$=E.length;z<$;)M=M.then(E[z++],E[z++]);return M}getUri(o){o=Ri(this.defaults,o);const m=Vp(o.baseURL,o.url,o.allowAbsoluteUrls);return Yp(m,o.params,o.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(o){Mi.prototype[o]=function(m,d){return this.request(Ri(d||{},{method:o,url:m,data:(d||{}).data}))}});I.forEach(["post","put","patch"],function(o){function m(d){return function(S,v,N){return this.request(Ri(N||{},{method:o,headers:d?{"Content-Type":"multipart/form-data"}:{},url:S,data:v}))}}Mi.prototype[o]=m(),Mi.prototype[o+"Form"]=m(!0)});let gb=class Pp{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(S){m=S});const d=this;this.promise.then(g=>{if(!d._listeners)return;let S=d._listeners.length;for(;S-- >0;)d._listeners[S](g);d._listeners=null}),this.promise.then=g=>{let S;const v=new Promise(N=>{d.subscribe(N),S=N}).then(g);return v.cancel=function(){d.unsubscribe(S)},v},o(function(S,v,N){d.reason||(d.reason=new Fs(S,v,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const m=this._listeners.indexOf(o);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const o=new AbortController,m=d=>{o.abort(d)};return this.subscribe(m),o.signal.unsubscribe=()=>this.unsubscribe(m),o.signal}static source(){let o;return{token:new Pp(function(g){o=g}),cancel:o}}};function bb(u){return function(m){return u.apply(null,m)}}function vb(u){return I.isObject(u)&&u.isAxiosError===!0}const zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zf).forEach(([u,o])=>{zf[o]=u});function Wp(u){const o=new Mi(u),m=Tp(Mi.prototype.request,o);return I.extend(m,Mi.prototype,o,{allOwnKeys:!0}),I.extend(m,o,null,{allOwnKeys:!0}),m.create=function(g){return Wp(Ri(u,g))},m}const It=Wp(Vs);It.Axios=Mi;It.CanceledError=Fs;It.CancelToken=gb;It.isCancel=Xp;It.VERSION=$p;It.toFormData=No;It.AxiosError=Fe;It.Cancel=It.CanceledError;It.all=function(o){return Promise.all(o)};It.spread=bb;It.isAxiosError=vb;It.mergeConfig=Ri;It.AxiosHeaders=qn;It.formToJSON=u=>Qp(I.isHTMLForm(u)?new FormData(u):u);It.getAdapter=Jp.getAdapter;It.HttpStatusCode=zf;It.default=It;const{Axios:nx,AxiosError:ax,CanceledError:lx,isCancel:ix,CancelToken:rx,VERSION:sx,all:ux,Cancel:ox,isAxiosError:cx,spread:fx,toFormData:dx,AxiosHeaders:hx,HttpStatusCode:mx,formToJSON:px,getAdapter:yx,mergeConfig:gx}=It,vt=It.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});vt.interceptors.request.use(u=>{const o=pl.getState().token;return o&&(u.headers.Authorization=`Token ${o}`),u.data instanceof FormData&&delete u.headers["Content-Type"],u});vt.interceptors.response.use(u=>u,u=>(u.response?.status===401&&pl.getState().logout(),Promise.reject(u)));const Mr={login:(u,o)=>vt.post("/auth/login/",{email:u,password:o}),register:u=>vt.post("/auth/register/",u),logout:()=>vt.post("/auth/logout/"),me:()=>vt.get("/auth/me/"),deleteAccount:()=>vt.post("/auth/me/delete/")},Ls={list:()=>vt.get("/projects/"),get:u=>vt.get(`/projects/${u}/`),create:u=>vt.post("/projects/",u),update:(u,o)=>vt.patch(`/projects/${u}/`,o),delete:u=>vt.delete(`/projects/${u}/`)},ca={list:()=>vt.get("/lenses/"),get:u=>vt.get(`/lenses/${u}/`),create:u=>vt.post("/lenses/",u),update:(u,o)=>vt.patch(`/lenses/${u}/`,o),delete:u=>vt.delete(`/lenses/${u}/`),addColor:(u,o)=>vt.post(`/lenses/${u}/colors/`,o),updateColor:(u,o,m)=>vt.patch(`/lenses/${u}/colors/${o}/`,m),removeColor:(u,o)=>vt.delete(`/lenses/${u}/colors/${o}/`)},un={list:u=>vt.get("/documents/",{params:u}),get:u=>vt.get(`/documents/${u}/`),create:u=>vt.post("/documents/",u),createWithFile:u=>vt.post("/documents/",u),getPdf:u=>vt.get(`/documents/${u}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(u,o)=>vt.post(`/documents/${u}/upload_pdf/`,o),update:(u,o)=>vt.patch(`/documents/${u}/`,o),delete:u=>vt.delete(`/documents/${u}/`),highlights:u=>vt.get(`/documents/${u}/highlights/`),createHighlight:(u,o)=>vt.post(`/documents/${u}/highlights/`,o),updateHighlight:(u,o,m)=>vt.patch(`/documents/${u}/highlights/${o}/`,m),deleteHighlight:(u,o)=>vt.delete(`/documents/${u}/highlights/${o}/`)},xb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},tt={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},Il={default:"border-slate-200"},Ks="min-h-screen p-6",Sb="bg-white border-b border-slate-200",go="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",oo="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",bp="w-px h-6 bg-slate-200",zi=xb;function wb(){const u=Bi(),o=pl(z=>z.setToken),[m,d]=X.useState(""),[g,S]=X.useState(""),[v,N]=X.useState(""),[q,E]=X.useState(!1),M=async z=>{z.preventDefault(),N(""),E(!0);try{const{data:$}=await Mr.login(m,g);o($.token),u("/",{replace:!0})}catch($){N($.response?.data?.detail||$.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return c.jsx("div",{className:`${Ks} ${zi.page} flex items-center justify-center`,children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h1",{className:`text-2xl font-semibold ${tt.heading} mb-6`,children:"Sign in"}),c.jsxs("form",{onSubmit:M,className:"flex flex-col gap-4",children:[v&&c.jsx("p",{className:"text-sm text-red-600",children:v}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Email"}),c.jsx("input",{type:"email",value:m,onChange:z=>d(z.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Password"}),c.jsx("input",{type:"password",value:g,onChange:z=>S(z.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Signing in...":"Sign in"})]}),c.jsxs("p",{className:`mt-4 text-sm ${tt.muted}`,children:["No account? ",c.jsx(Dp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function jb(){const u=Bi(),o=pl(z=>z.setToken),[m,d]=X.useState(""),[g,S]=X.useState(""),[v,N]=X.useState(""),[q,E]=X.useState(!1),M=async z=>{z.preventDefault(),N(""),E(!0);try{await Mr.register({email:m,password:g});const{data:$}=await Mr.login(m,g);o($.token),u("/",{replace:!0})}catch($){const ye=$.response?.data;N(ye?.email?.[0]||ye?.password?.[0]||"Registration failed")}finally{E(!1)}};return c.jsx("div",{className:`${Ks} ${zi.page} flex items-center justify-center`,children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h1",{className:`text-2xl font-semibold ${tt.heading} mb-6`,children:"Create account"}),c.jsxs("form",{onSubmit:M,className:"flex flex-col gap-4",children:[v&&c.jsx("p",{className:"text-sm text-red-600",children:v}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Email"}),c.jsx("input",{type:"email",value:m,onChange:z=>d(z.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),c.jsxs("label",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:`text-sm ${tt.secondary}`,children:"Password"}),c.jsx("input",{type:"password",value:g,onChange:z=>S(z.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),c.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Creating account...":"Register"})]}),c.jsxs("p",{className:`mt-4 text-sm ${tt.muted}`,children:["Already have an account? ",c.jsx(Dp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const Ip=(...u)=>u.filter((o,m,d)=>!!o&&o.trim()!==""&&d.indexOf(o)===m).join(" ").trim();const Nb=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _b=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,m,d)=>d?d.toUpperCase():m.toLowerCase());const vp=u=>{const o=_b(u);return o.charAt(0).toUpperCase()+o.slice(1)};var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cb=u=>{for(const o in u)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const Ab=X.forwardRef(({color:u="currentColor",size:o=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:S,iconNode:v,...N},q)=>X.createElement("svg",{ref:q,...Eb,width:o,height:o,stroke:u,strokeWidth:d?Number(m)*24/Number(o):m,className:Ip("lucide",g),...!S&&!Cb(N)&&{"aria-hidden":"true"},...N},[...v.map(([E,M])=>X.createElement(E,M)),...Array.isArray(S)?S:[S]]));const Xt=(u,o)=>{const m=X.forwardRef(({className:d,...g},S)=>X.createElement(Ab,{ref:S,iconNode:o,className:Ip(`lucide-${Nb(vp(u))}`,`lucide-${u}`,d),...g}));return m.displayName=vp(u),m};const Ob=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eo=Xt("arrow-left",Ob);const Db=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Tb=Xt("braces",Db);const Mb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bo=Xt("check",Mb);const zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rb=Xt("chevron-down",zb);const kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ys=Xt("chevron-right",kb);const Bb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qb=Xt("copy",Bb);const Ub=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hb=Xt("download",Ub);const Lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Kb=Xt("file-down",Lb);const Yb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Qb=Xt("file-stack",Yb);const Xb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xf=Xt("file-text",Xb);const Gb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ka=Xt("loader-circle",Gb);const Vb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gf=Xt("log-out",Vb);const Fb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ey=Xt("palette",Fb);const Zb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Jb=Xt("panel-right-close",Zb);const $b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Pb=Xt("panel-right-open",$b);const Wb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Co=Xt("pencil",Wb);const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xp=Xt("plus",Ib);const ev=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ty=Xt("search",ev);const tv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],nv=Xt("settings-2",tv);const av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Br=Xt("trash-2",av);const lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vo=Xt("upload",lv);const iv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ki=Xt("x",iv);const rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sv=Xt("zoom-in",rv);const uv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ov=Xt("zoom-out",uv),Sp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Or=5,wp=3;function ny(){const u=Rr(),[o,m]=X.useState(0),[d,g]=X.useState(""),[S,v]=X.useState([]),[N,q]=X.useState(null),[E,M]=X.useState(""),[z,$]=X.useState(null),[ye,V]=X.useState(null),[ie,P]=X.useState(null),[Ae,oe]=X.useState(""),[ve,te]=X.useState(null),[we,be]=X.useState(""),{data:xe=[]}=Jn({queryKey:["lenses"],queryFn:async()=>{const{data:G}=await ca.list();return G}}),He=xe.filter(G=>!G.is_system),Ze=()=>{m(0),g(""),v([]),q(null),M("")},dt=jn({mutationFn:G=>ca.create(G),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),Ze()}}),Pe=jn({mutationFn:G=>ca.delete(G),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),Ye=jn({mutationFn:({lensId:G,data:se})=>ca.addColor(G,se),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),V(null),P(null),oe("")}}),at=jn({mutationFn:({lensId:G,colorId:se})=>ca.removeColor(G,se),onSuccess:()=>u.invalidateQueries({queryKey:["lenses"]})}),Se=jn({mutationFn:({lensId:G,colorId:se,displayName:Ne})=>ca.updateColor(G,se,{display_name:Ne}),onSuccess:()=>{u.invalidateQueries({queryKey:["lenses"]}),te(null),be("")}}),Ue=()=>{!ye||!ie||!Ae.trim()||Ye.mutate({lensId:ye,data:{key:`custom_${Date.now()}`,display_name:Ae.trim(),hex:ie}})},Y=new Set(S.map(G=>G.hex.toLowerCase())),me=Sp.filter(G=>!Y.has(G.toLowerCase())),ge=()=>{!N||!E.trim()||(v(G=>[...G,{key:`color_${Date.now()}_${G.length}`,display_name:E.trim(),hex:N}]),q(null),M(""))},je=G=>{v(se=>se.filter((Ne,Me)=>Me!==G))},ke=()=>{!d.trim()||S.length<1||dt.mutate({name:d.trim(),colors:S})};return c.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[c.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[c.jsx(ey,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),c.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Or," colour categories. You can create up to ",wp," custom lenses."]}),c.jsx("ul",{className:"space-y-2 mb-4",children:xe.map(G=>c.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"font-medium text-slate-800 truncate",children:G.name}),G.is_system&&c.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!G.is_system&&c.jsx("button",{type:"button",onClick:()=>$(G),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:c.jsx(Br,{className:"w-3.5 h-3.5"})})]}),c.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(G.colors??[]).map(se=>{const Ne=ve?.lensId===G.id&&ve?.colorId===se.id;return c.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[c.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:se.hex}}),Ne?c.jsx("input",{type:"text",value:we,onChange:Me=>be(Me.target.value),onBlur:()=>{const Me=we.trim();Me&&Me!==se.display_name?Se.mutate({lensId:G.id,colorId:se.id,displayName:Me}):(te(null),be(""))},onKeyDown:Me=>{if(Me.key==="Enter"){const Le=we.trim();Le&&Se.mutate({lensId:G.id,colorId:se.id,displayName:Le})}Me.key==="Escape"&&(te(null),be(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):c.jsx("button",{type:"button",onClick:()=>{G.is_system||(te({lensId:G.id,colorId:se.id}),be(se.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${G.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:se.display_name}),!G.is_system&&(G.colors?.length??0)>1&&!Ne&&c.jsx("button",{type:"button",onClick:Me=>{Me.stopPropagation(),at.mutate({lensId:G.id,colorId:se.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:c.jsx(ki,{className:"w-3 h-3",strokeWidth:2.5})})]},se.id)}),!G.is_system&&(G.colors?.length??0)>1&&c.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!G.is_system&&(G.colors?.length??0)<Or&&c.jsx("button",{type:"button",onClick:()=>{V(G.id),P(null),oe("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:c.jsx(xp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},G.id))}),He.length<wp&&c.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[c.jsx(xp,{className:"w-4 h-4"}),"Create lens"]}),o>0&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!dt.isPending&&Ze(),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:G=>G.stopPropagation(),children:[o===1&&c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),c.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),c.jsx("input",{type:"text",value:d,onChange:G=>g(G.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:Ze,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),o===2&&c.jsxs(c.Fragment,{children:[c.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",S.length,"/",Or,")"]}),c.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Or," colours and give each a label."]}),S.length>0&&c.jsx("div",{className:"space-y-1.5 mb-3",children:S.map((G,se)=>c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[c.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:G.hex}}),c.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:G.display_name}),c.jsx("button",{type:"button",onClick:()=>je(se),className:"text-slate-400 hover:text-red-500 shrink-0",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]},se))}),S.length<Or&&c.jsx(c.Fragment,{children:N?c.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),c.jsx("input",{type:"text",value:E,onChange:G=>M(G.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&ge()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),c.jsx("button",{type:"button",onClick:ge,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):c.jsxs("div",{className:"mb-3",children:[c.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",S.length+1," of ",Or]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(G=>c.jsx("button",{type:"button",onClick:()=>{q(G),M("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:G}},G))})]})}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{m(1),v([]),q(null),M("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),c.jsx("button",{type:"button",onClick:ke,disabled:S.length<1||dt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:dt.isPending?"Creating":"Create lens"})]})]})]})}),ye&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ye.isPending&&V(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:G=>G.stopPropagation(),children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ie?c.jsx("div",{className:"space-y-2.5",children:c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ie}}),c.jsx("input",{type:"text",value:Ae,onChange:G=>oe(G.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&Ue()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const G=xe.find(Ne=>Ne.id===ye),se=new Set((G?.colors??[]).map(Ne=>Ne.hex.toLowerCase()));return Sp.filter(Ne=>!se.has(Ne.toLowerCase()))})().map(G=>c.jsx("button",{type:"button",onClick:()=>P(G),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:G}},G))})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>{ie?(P(null),oe("")):V(null)},disabled:Ye.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ie?"Back":"Cancel"}),ie&&c.jsx("button",{type:"button",onClick:Ue,disabled:!Ae.trim()||Ye.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Ye.isPending?"Adding":"Add"})]})]})}),z&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Pe.isPending&&$(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:G=>G.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",c.jsx("strong",{children:z.name})," and remove it from any documents using it."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>$(null),disabled:Pe.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>{Pe.mutate(z.id,{onSuccess:()=>$(null)})},disabled:Pe.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Pe.isPending?"Deleting":"Delete lens"})]})]})})]})}const hl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function cv(u){if(!u)return"";const o=new Date(u);if(Number.isNaN(o.getTime()))return"";const m=new Date,d=m-o,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:S<24?`${S} hour${S===1?"":"s"} ago`:v===1?"Yesterday":v<7?`${v} days ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:o.getFullYear()!==m.getFullYear()?"numeric":void 0})}function fv({project:u,onOpen:o}){const[m,d]=X.useState(!1),g=u.document_count??0,S=u.annotation_count??0,v=u.color&&hl.includes(u.color)?u.color:hl[u.id%hl.length];return c.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>o(u.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&o(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${v}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[c.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:cv(u.updated_at)})]})]}),c.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:S>0?c.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[S," note",S!==1?"s":""]}):c.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),c.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function dv({onClose:u,onCreate:o,isPending:m,defaultColorIndex:d=0}){const[g,S]=X.useState(""),[v,N]=X.useState(hl[d%hl.length]),q=()=>{const E=g.trim();E&&(o(E,v),S(""),N(hl[d%hl.length]))};return c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:c.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[c.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),c.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),c.jsx("input",{type:"text",value:g,onChange:E=>S(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),c.jsx("div",{className:"flex gap-2",children:hl.map(E=>c.jsx("button",{type:"button",onClick:()=>N(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:v===E?"#1e293b":"transparent",outline:v===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),c.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function hv(){const u=Bi(),o=Rr(),m=pl(te=>te.logout),[d,g]=X.useState(!1),[S,v]=X.useState(!1),[N,q]=X.useState(""),{data:E}=Jn({queryKey:["me"],queryFn:async()=>{const{data:te}=await Mr.me();return te}}),{data:M,isLoading:z}=Jn({queryKey:["projects"],queryFn:async()=>{const{data:te}=await Ls.list();return te}}),$=Array.isArray(M)?M:M?.results??[],ye=$.filter(te=>te.name.toLowerCase().includes(N.toLowerCase())),V=$.reduce((te,we)=>te+(we.document_count??0),0),ie=$.reduce((te,we)=>te+(we.annotation_count??0),0),P=jn({mutationFn:({name:te,color:we})=>Ls.create({name:te.trim(),color:we}),onSuccess:()=>{o.invalidateQueries({queryKey:["projects"]}),g(!1)}}),Ae=(te,we)=>{P.mutate({name:te,color:we})},oe=()=>{m(),u("/login",{replace:!0})},ve=(E?.email?.[0]||E?.username?.[0]||"?").toUpperCase();return c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:oe,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>u("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:ve})]})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[c.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),c.jsxs("button",{type:"button",onClick:()=>v(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx(ey,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[c.jsxs("span",{children:[$.length," project",$.length!==1?"s":""]}),c.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),c.jsxs("span",{children:[V," document",V!==1?"s":""]}),c.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),c.jsxs("span",{children:[ie," annotation",ie!==1?"s":""]})]}),$.length>3&&c.jsxs("div",{className:"relative mb-4",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[c.jsx("circle",{cx:"11",cy:"11",r:"8"}),c.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),c.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:te=>q(te.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),z?c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx(ka,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):c.jsx("div",{className:"flex flex-col gap-2",children:ye.map(te=>c.jsx(fv,{project:te,onOpen:we=>u(`/project/${we}`)},te.id))}),!z&&ye.length===0&&N&&c.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!z&&$.length===0&&c.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:c.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),c.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),c.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&c.jsx(dv,{onClose:()=>g(!1),onCreate:Ae,isPending:P.isPending,defaultColorIndex:$.length%hl.length}),S&&c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>v(!1),children:c.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:te=>te.stopPropagation(),children:c.jsx(ny,{})})})]})}var mo={exports:{}},mv=mo.exports,jp;function pv(){return jp||(jp=1,(function(u,o){((m,d)=>{u.exports=d()})(mv,function(){var m=function(l,s){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,s)},d=function(){return(d=Object.assign||function(l){for(var s,f=1,h=arguments.length;f<h;f++)for(var y in s=arguments[f])Object.prototype.hasOwnProperty.call(s,y)&&(l[y]=s[y]);return l}).apply(this,arguments)};function g(l,s,f){for(var h,y=0,b=s.length;y<b;y++)!h&&y in s||((h=h||Array.prototype.slice.call(s,0,y))[y]=s[y]);return l.concat(h||Array.prototype.slice.call(s))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_0,v=Object.keys,N=Array.isArray;function q(l,s){return typeof s=="object"&&v(s).forEach(function(f){l[f]=s[f]}),l}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var E=Object.getPrototypeOf,M={}.hasOwnProperty;function z(l,s){return M.call(l,s)}function $(l,s){typeof s=="function"&&(s=s(E(l))),(typeof Reflect>"u"?v:Reflect.ownKeys)(s).forEach(function(f){V(l,f,s[f])})}var ye=Object.defineProperty;function V(l,s,f,h){ye(l,s,q(f&&z(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function ie(l){return{from:function(s){return l.prototype=Object.create(s.prototype),V(l.prototype,"constructor",l),{extend:$.bind(null,l.prototype)}}}}var P=Object.getOwnPropertyDescriptor,Ae=[].slice;function oe(l,s,f){return Ae.call(l,s,f)}function ve(l,s){return s(l)}function te(l){if(!l)throw new Error("Assertion Failed")}function we(l){S.setImmediate?setImmediate(l):setTimeout(l,0)}function be(l,s){if(typeof s=="string"&&z(l,s))return l[s];if(!s)return l;if(typeof s!="string"){for(var f=[],h=0,y=s.length;h<y;++h){var b=be(l,s[h]);f.push(b)}return f}var w,j=s.indexOf(".");return j===-1||(w=l[s.substr(0,j)])==null?void 0:be(w,s.substr(j+1))}function xe(l,s,f){if(l&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof s!="string"&&"length"in s){te(typeof f!="string"&&"length"in f);for(var h=0,y=s.length;h<y;++h)xe(l,s[h],f[h])}else{var b,w,j=s.indexOf(".");j!==-1?(b=s.substr(0,j),(j=s.substr(j+1))===""?f===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:xe(w=(w=l[b])&&z(l,b)?w:l[b]={},j,f)):f===void 0?N(l)&&!isNaN(parseInt(s))?l.splice(s,1):delete l[s]:l[s]=f}}function He(l){var s,f={};for(s in l)z(l,s)&&(f[s]=l[s]);return f}var Ze=[].concat;function dt(l){return Ze.apply([],l)}var se="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(dt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(s){return s+l+"Array"})}))).filter(function(l){return S[l]}),Pe=new Set(se.map(function(l){return S[l]})),Ye=null;function at(l){return Ye=new WeakMap,l=(function s(f){if(!f||typeof f!="object")return f;var h=Ye.get(f);if(h)return h;if(N(f)){h=[],Ye.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(s(f[y]))}else if(Pe.has(f.constructor))h=f;else{var w,j=E(f);for(w in h=j===Object.prototype?{}:Object.create(j),Ye.set(f,h),f)z(f,w)&&(h[w]=s(f[w]))}return h})(l),Ye=null,l}var Se={}.toString;function Ue(l){return Se.call(l).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",me=typeof Y=="symbol"?function(l){var s;return l!=null&&(s=l[Y])&&s.apply(l)}:function(){return null};function ge(l,s){s=l.indexOf(s),0<=s&&l.splice(s,1)}var je={};function ke(l){var s,f,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===je&&typeof l=="string")return[l];if(y=me(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(s=l.length)!="number")return[l];for(f=new Array(s);s--;)f[s]=l[s]}}else for(s=arguments.length,f=new Array(s);s--;)f[s]=arguments[s];return f}var G=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(se),Ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(l,s){this.name=l,this.message=s}function Le(l,s){return l+". Errors: "+Object.keys(s).map(function(f){return s[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function lt(l,s,f,h){this.failures=s,this.failedKeys=h,this.successCount=f,this.message=Le(l,s)}function pt(l,s){this.name="BulkError",this.failures=Object.keys(s).map(function(f){return s[f]}),this.failuresByPos=s,this.message=Le(l,this.failures)}ie(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ie(lt).from(Me),ie(pt).from(Me);var Yt=on.reduce(function(l,s){return l[s]=s+"Error",l},{}),Gt=Me,U=on.reduce(function(l,s){var f=s+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Ne[s]||f,this.inner=null)}return ie(h).from(Gt),l[s]=h,l},{}),ue=(U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError,se.reduce(function(l,s){return l[s+"Error"]=U[s],l},{}));se=on.reduce(function(l,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(l[s+"Error"]=U[s]),l},{});function fe(){}function Ve(l){return l}function it(l,s){return l==null||l===Ve?s:function(f){return s(l(f))}}function ot(l,s){return function(){l.apply(this,arguments),s.apply(this,arguments)}}function Un(l,s){return l===fe?s:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?ot(h,this.onsuccess):h),y&&(this.onerror=this.onerror?ot(y,this.onerror):y),b!==void 0?b:f}}function yl(l,s){return l===fe?s:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?ot(f,this.onsuccess):f),h&&(this.onerror=this.onerror?ot(h,this.onerror):h)}}function pe(l,s){return l===fe?s:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,w=(this.onsuccess=null,this.onerror=null,s.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?ot(y,this.onsuccess):y),b&&(this.onerror=this.onerror?ot(b,this.onerror):b),h===void 0?w===void 0?void 0:w:q(h,w)}}function Ie(l,s){return l===fe?s:function(){return s.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function yt(l,s){return l===fe?s:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return s.apply(h,b)})}return s.apply(this,arguments)}}se.ModifyError=lt,se.DexieError=Me,se.BulkError=pt;var Bt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _n(l){Bt=l}var En={},rn=100,va=typeof Promise>"u"?[]:(on=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[va=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(va),on]:[on,E(on),on]),on=va[0],Ja=va[1],Ja=Ja&&Ja.then,Hn=on&&on.constructor,xa=!!va[2],Ba=function(l,s){fa.push([l,s]),Xe&&(queueMicrotask(Zs),Xe=!1)},Te=!0,Xe=!0,xt=[],Mt=[],jt=Ve,zt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:fe,pgp:!1,env:{},finalize:fe},Ce=zt,fa=[],qa=0,qi=[];function Oe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=Ce;if(typeof l!="function"){if(l!==En)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&da(this,this._value)}else this._state=null,this._value=null,++s.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&Sa();b&&typeof b.then=="function"?f(h,function(j,A){b instanceof Oe?b._then(j,A):b.then(j,A)}):(h._state=!0,h._value=b,ni(h)),w&&$n()}},da.bind(null,h))}catch(b){da(h,b)}})(this,l)}var gl={get:function(){var l=Ce,s=ii;function f(h,y){var b=this,w=!l.global&&(l!==Ce||s!==ii),j=w&&!Cn(),A=new Oe(function(L,O){Ua(b,new ti(Ui(h,l,w,j),Ui(y,l,w,j),L,O,l))});return this._consoleTask&&(A._consoleTask=this._consoleTask),A}return f.prototype=En,f},set:function(l){V(this,"then",l&&l.prototype===En?gl:{get:function(){return l},set:gl.set})}};function ti(l,s,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof s=="function"?s:null,this.resolve=f,this.reject=h,this.psd=y}function da(l,s){var f,h;Mt.push(s),l._state===null&&(f=l._lib&&Sa(),s=jt(s),l._state=!1,l._value=s,h=l,xt.some(function(y){return y._value===h._value})||xt.push(h),ni(l),f)&&$n()}function ni(l){var s=l._listeners;l._listeners=[];for(var f=0,h=s.length;f<h;++f)Ua(l,s[f]);var y=l._PSD;--y.ref||y.finalize(),qa===0&&(++qa,Ba(function(){--qa==0&&qr()},[]))}function Ua(l,s){if(l._state===null)l._listeners.push(s);else{var f=l._state?s.onFulfilled:s.onRejected;if(f===null)return(l._state?s.resolve:s.reject)(l._value);++s.psd.ref,++qa,Ba(Ao,[f,l,s])}}function Ao(l,s,f){try{var h,y=s._value;!s._state&&Mt.length&&(Mt=[]),h=Bt&&s._consoleTask?s._consoleTask.run(function(){return l(y)}):l(y),s._state||Mt.indexOf(y)!==-1||(b=>{for(var w=xt.length;w;)if(xt[--w]._value===b._value)return xt.splice(w,1)})(s),f.resolve(h)}catch(b){f.reject(b)}finally{--qa==0&&qr(),--f.psd.ref||f.psd.finalize()}}function Zs(){Ln(zt,function(){Sa()&&$n()})}function Sa(){var l=Te;return Xe=Te=!1,l}function $n(){var l,s,f;do for(;0<fa.length;)for(l=fa,fa=[],f=l.length,s=0;s<f;++s){var h=l[s];h[0].apply(null,h[1])}while(0<fa.length);Xe=Te=!0}function qr(){for(var l=xt,s=(xt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),qi.slice(0)),f=s.length;f;)s[--f]()}function ai(l){return new Oe(En,!1,l)}function Rt(l,s){var f=Ce;return function(){var h=Sa(),y=Ce;try{return ja(f,!0),l.apply(this,arguments)}catch(b){s&&s(b)}finally{ja(y,!1),h&&$n()}}}$(Oe.prototype,{then:gl,_then:function(l,s){Ua(this,new ti(null,null,l,s,Ce))},catch:function(l){var s,f;return arguments.length===1?this.then(null,l):(s=l,f=arguments[1],typeof s=="function"?this.then(null,function(h){return(h instanceof s?f:ai)(h)}):this.then(null,function(h){return(h&&h.name===s?f:ai)(h)}))},finally:function(l){return this.then(function(s){return Oe.resolve(l()).then(function(){return s})},function(s){return Oe.resolve(l()).then(function(){return ai(s)})})},timeout:function(l,s){var f=this;return l<1/0?new Oe(function(h,y){var b=setTimeout(function(){return y(new U.Timeout(s))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&V(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),zt.env=Hr(),$(Oe,{all:function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.length===0&&s([]);var h=l.length;l.forEach(function(y,b){return Oe.resolve(y).then(function(w){l[b]=w,--h||s(l)},f)})})},resolve:function(l){return l instanceof Oe?l:l&&typeof l.then=="function"?new Oe(function(s,f){l.then(s,f)}):new Oe(En,!0,l)},reject:ai,race:function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.map(function(h){return Oe.resolve(h).then(s,f)})})},PSD:{get:function(){return Ce},set:function(l){return Ce=l}},totalEchoes:{get:function(){return ii}},newPSD:qt,usePSD:Ln,scheduler:{get:function(){return Ba},set:function(l){Ba=l}},rejectionMapper:{get:function(){return jt},set:function(l){jt=l}},follow:function(l,s){return new Oe(function(f,h){return qt(function(y,b){var w=Ce;w.unhandleds=[],w.onunhandled=b,w.finalize=ot(function(){var j,A=this;j=function(){A.unhandleds.length===0?y():b(A.unhandleds[0])},qi.push(function L(){j(),qi.splice(qi.indexOf(L),1)}),++qa,Ba(function(){--qa==0&&qr()},[])},w.finalize),l()},s,f,h)})}}),Hn&&(Hn.allSettled&&V(Oe,"allSettled",function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s){l.length===0&&s([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return Oe.resolve(y).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--f||s(h)})})})}),Hn.any&&typeof AggregateError<"u"&&V(Oe,"any",function(){var l=ke.apply(null,arguments).map(vl);return new Oe(function(s,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,w){return Oe.resolve(b).then(function(j){return s(j)},function(j){y[w]=j,--h||f(new AggregateError(y))})})})}),Hn.withResolvers)&&(Oe.withResolvers=Hn.withResolvers);var Zt={awaits:0,echoes:0,id:0},Ur=0,bl=[],li=0,ii=0,wa=0;function qt(l,w,f,h){var y=Ce,b=Object.create(y),w=(b.parent=y,b.ref=0,b.global=!1,b.id=++wa,zt.env,b.env=xa?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},w&&q(b,w),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Ln(b,l,f,h));return b.ref===0&&b.finalize(),w}function Jt(){return Zt.id||(Zt.id=++Ur),++Zt.awaits,Zt.echoes+=rn,Zt.id}function Cn(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*rn,!0)}function vl(l){return Zt.echoes&&l&&l.constructor===Hn?(Jt(),l.then(function(s){return Cn(),s},function(s){return Cn(),Ct(s)})):l}function Oo(){var l=bl[bl.length-1];bl.pop(),ja(l,!1)}function ja(l,s){var f,h,y=Ce;(s?!Zt.echoes||li++&&l===Ce:!li||--li&&l===Ce)||queueMicrotask(s?(function(b){++ii,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),bl.push(Ce),ja(b,!0)}).bind(null,l):Oo),l!==Ce&&(Ce=l,y===zt&&(zt.env=Hr()),xa)&&(f=zt.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(S,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Hr(){var l=S.Promise;return xa?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Ln(l,s,f,h,y){var b=Ce;try{return ja(l,!0),s(f,h,y)}finally{ja(b,!1)}}function Ui(l,s,f,h){return typeof l!="function"?l:function(){var y=Ce;f&&Jt(),ja(s,!0);try{return l.apply(this,arguments)}finally{ja(y,!1),h&&queueMicrotask(Cn)}}}function Na(l){Promise===Hn&&Zt.echoes===0?li===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Ja).indexOf("[native code]")===-1&&(Jt=Cn=fe);var Ct=Oe.reject,Kn="",vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",$t="String expected.",Ha=[],ri="__dbnames",ha="readonly",_a="readwrite";function La(l,s){return l?s?function(){return l.apply(this,arguments)&&s.apply(this,arguments)}:l:s}var Lr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function si(l){return typeof l!="string"||/\./.test(l)?function(s){return s}:function(s){return s[l]===void 0&&l in s&&delete(s=at(s))[l],s}}function Js(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(l,s){try{var f=ui(l),h=ui(s);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return s<l?1:l<s?-1:0;case"binary":for(var y=Pn(l),b=Pn(s),w=y.length,j=b.length,A=w<j?w:j,L=0;L<A;++L)if(y[L]!==b[L])return y[L]<b[L]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var O=l,C=s,R=O.length,B=C.length,D=R<B?R:B,T=0;T<D;++T){var Q=nt(O[T],C[T]);if(Q!==0)return Q}return R===B?0:R<B?-1:1}}catch{}return NaN}function ui(l){var s=typeof l;return s=="object"&&(ArrayBuffer.isView(l)||(s=Ue(l))==="ArrayBuffer")?"binary":s}function Pn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function mn(l,s,f){var h=l.schema.yProps;return h?(s&&0<f.numFailures&&(s=s.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,s?l.db.table(y).where("k").anyOf(s).delete():l.db.table(y).clear()})).then(function(){return f})):f}$s.prototype.execute=function(l){var s=this["@@propmod"];if(s.add!==void 0){var f=s.add;if(N(f))return g(g([],N(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(s.remove!==void 0){var h=s.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=s.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?s.replacePrefix[1]+l.substring(f.length):l};var xl=$s;function $s(l){this["@@propmod"]=l}function Hi(l,s){for(var f=v(s),h=f.length,y=!1,b=0;b<h;++b){var w=f[b],j=s[w],A=be(l,w);j instanceof xl?(xe(l,w,j.execute(A)),y=!0):A!==j&&(xe(l,w,j),y=!0)}return y}St.prototype._trans=function(l,s,f){var h=this._tx||Ce.trans,y=this.name,b=Bt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(L,O,C){if(C.schema[y])return s(C.idbtrans,C);throw new U.NotFound("Table "+y+" not part of transaction")}var j=Sa();try{var A=h&&h.db._novip===this.db._novip?h===Ce.trans?h._promise(l,w,f):qt(function(){return h._promise(l,w,f)},{trans:h,transless:Ce.transless||Ce}):(function L(O,C,R,B){if(O.idbdb&&(O._state.openComplete||Ce.letThrough||O._vip)){var D=O._createTransaction(C,R,O._dbSchema);try{D.create(),O._state.PR1398_maxLoop=3}catch(T){return T.name===Yt.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return L(O,C,R,B)})):Ct(T)}return D._promise(C,function(T,Q){return qt(function(){return Ce.trans=D,B(T,Q,D)})}).then(function(T){if(C==="readwrite")try{D.idbtrans.commit()}catch{}return C==="readonly"?T:D._completion.then(function(){return T})})}if(O._state.openComplete)return Ct(new U.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return Ct(new U.DatabaseClosed);O.open().catch(fe)}return O._state.dbReadyPromise.then(function(){return L(O,C,R,B)})})(this.db,l,[this.name],w);return b&&(A._consoleTask=b,A=A.catch(function(L){return console.trace(L),Ct(L)})),A}finally{j&&$n()}},St.prototype.get=function(l,s){var f=this;return l&&l.constructor===Object?this.where(l).first(s):l==null?Ct(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(s)},St.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var s=v(l);if(s.length===1)return this.where(s[0]).equals(l[s[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&s.every(function(L){return 0<=j.keyPath.indexOf(L)})){for(var A=0;A<s.length;++A)if(s.indexOf(j.keyPath[A])===-1)return!1;return!0}return!1}).sort(function(j,A){return j.keyPath.length-A.keyPath.length})[0];if(f&&this.db._maxKey!==Kn)return w=f.keyPath.slice(0,s.length),this.where(w).equals(w.map(function(j){return l[j]}));!f&&Bt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var h=this.schema.idxByName;function y(j,A){return nt(j,A)===0}var w=s.reduce(function(O,A){var L=O[0],O=O[1],C=h[A],R=l[A];return[L||C,L||!C?La(O,C&&C.multi?function(B){return B=be(B,A),N(B)&&B.some(function(D){return y(R,D)})}:function(B){return y(R,be(B,A))}):O]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(w):f?this.filter(w):this.where(s).equals("")},St.prototype.filter=function(l){return this.toCollection().and(l)},St.prototype.count=function(l){return this.toCollection().count(l)},St.prototype.offset=function(l){return this.toCollection().offset(l)},St.prototype.limit=function(l){return this.toCollection().limit(l)},St.prototype.each=function(l){return this.toCollection().each(l)},St.prototype.toArray=function(l){return this.toCollection().toArray(l)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(l){for(var s=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Js&&(l=(w=>{var j=O,A=w;if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function L(){this.constructor=j}function O(){return w!==null&&w.apply(this,arguments)||this}return m(j,A),j.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L),Object.defineProperty(O.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),O.prototype.table=function(){return f},O})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function b(w){if(!w)return w;var j,A=Object.create(l.prototype);for(j in w)if(!h.has(j))try{A[j]=w[j]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},St.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},St.prototype.add=function(l,s){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"add",keys:s!=null?[s]:null,values:[w]})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{xe(l,b,j)}catch{}return j})},St.prototype.upsert=function(l,s){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var w=b??{};return Hi(w,s),h&&xe(w,h,l),f.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[s]}}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):!!b})})})},St.prototype.update=function(l,s){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(s):(l=be(l,this.schema.primKey.keyPath))===void 0?Ct(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(s)},St.prototype.put=function(l,s){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"put",values:[w],keys:s!=null?[s]:null})}).then(function(j){return j.numFailures?Oe.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{xe(l,b,j)}catch{}return j})},St.prototype.delete=function(l){var s=this;return this._trans("readwrite",function(f){return s.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return mn(s,[l],h)}).then(function(h){return h.numFailures?Oe.reject(h.failures[0]):void 0})})},St.prototype.clear=function(){var l=this;return this._trans("readwrite",function(s){return l.core.mutate({trans:s,type:"deleteRange",range:Lr}).then(function(f){return mn(l,null,f)})}).then(function(s){return s.numFailures?Oe.reject(s.failures[0]):void 0})},St.prototype.bulkGet=function(l){var s=this;return this._trans("readonly",function(f){return s.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return s.hook.reading.fire(y)})})})},St.prototype.bulkAdd=function(l,s,f){var h=this,y=Array.isArray(s)?s:void 0,b=(f=f||(y?void 0:s))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,L=j.auto,j=j.keyPath;if(j&&y)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var A=l.length,L=j&&L?l.map(si(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:L,wantResults:b}).then(function(O){var C=O.numFailures,R=O.failures;if(C===0)return b?O.results:O.lastResult;throw new pt("".concat(h.name,".bulkAdd(): ").concat(C," of ").concat(A," operations failed"),R)})})},St.prototype.bulkPut=function(l,s,f){var h=this,y=Array.isArray(s)?s:void 0,b=(f=f||(y?void 0:s))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,L=j.auto,j=j.keyPath;if(j&&y)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var A=l.length,L=j&&L?l.map(si(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:L,wantResults:b}).then(function(O){var C=O.numFailures,R=O.failures;if(C===0)return b?O.results:O.lastResult;throw new pt("".concat(h.name,".bulkPut(): ").concat(C," of ").concat(A," operations failed"),R)})})},St.prototype.bulkUpdate=function(l){var s=this,f=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return f.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var A=[],L=[],O=(l.forEach(function(C,R){var B=C.key,D=C.changes,T=j[R];if(T){for(var Q=0,J=Object.keys(D);Q<J.length;Q++){var K=J[Q],ne=D[K];if(K===s.schema.primKey.keyPath){if(nt(ne,B)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else xe(T,K,ne)}b.push(R),A.push(B),L.push(T)}}),A.length);return f.mutate({trans:w,type:"put",keys:A,values:L,updates:{keys:h,changeSpecs:y}}).then(function(C){var R=C.numFailures,B=C.failures;if(R===0)return O;for(var D=0,T=Object.keys(B);D<T.length;D++){var Q,J=T[D],K=b[Number(J)];K!=null&&(Q=B[J],delete B[J],B[K]=Q)}throw new pt("".concat(s.name,".bulkUpdate(): ").concat(R," of ").concat(O," operations failed"),B)})})})},St.prototype.bulkDelete=function(l){var s=this,f=l.length;return this._trans("readwrite",function(h){return s.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return mn(s,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new pt("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Kr=St;function St(){}function oi(l){function s(w,j){if(j){for(var A=arguments.length,L=new Array(A-1);--A;)L[A-1]=arguments[A];return f[w].subscribe.apply(null,L),l}if(typeof w=="string")return f[w]}var f={};s.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return s;function b(w,j,A){var L,O;if(typeof w!="object")return j=j||Ie,O={subscribers:[],fire:A=A||fe,subscribe:function(C){O.subscribers.indexOf(C)===-1&&(O.subscribers.push(C),O.fire=j(O.fire,C))},unsubscribe:function(C){O.subscribers=O.subscribers.filter(function(R){return R!==C}),O.fire=O.subscribers.reduce(j,A)}},f[w]=s[w]=O;v(L=w).forEach(function(C){var R=L[C];if(N(R))b(C,L[C][0],L[C][1]);else{if(R!=="asap")throw new U.InvalidArgument("Invalid event config");var B=b(C,Ve,function(){for(var D=arguments.length,T=new Array(D);D--;)T[D]=arguments[D];B.subscribers.forEach(function(Q){we(function(){Q.apply(null,T)})})})}})}}function cn(l,s){return ie(s).from({prototype:l}),s}function Ea(l,s){return!(l.filter||l.algorithm||l.or)&&(s?l.justLimit:!l.replayFilter)}function Li(l,s){l.filter=La(l.filter,s)}function ci(l,s,f){var h=l.replayFilter;l.replayFilter=h?function(){return La(h(),s())}:s,l.justLimit=f&&!h}function ma(l,s){if(l.isPrimKey)return s.primaryKey;var f=s.getIndexByKeyPath(l.index);if(f)return f;throw new U.Schema("KeyPath "+l.index+" on object store "+s.name+" is not indexed")}function Yr(l,s,f){var h=ma(l,s.schema);return s.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function fi(l,s,f,h){var y,b,w=l.replayFilter?La(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(j,A,L){var O,C;w&&!w(A,L,function(R){return A.stop(R)},function(R){return A.fail(R)})||((C=""+(O=A.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(O)),z(y,C))||(y[C]=!0,s(j,A,L))},Promise.all([l.or._iterate(b,f),Ka(Yr(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ka(Yr(l,h,f),La(l.algorithm,w),s,!l.keysOnly&&l.valueMapper)}function Ka(l,s,f,h){var y=Rt(h?function(b,w,j){return f(h(b),w,j)}:f);return l.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};s&&!s(b,function(j){return w=j},function(j){b.stop(j),w=fe},function(j){b.fail(j),w=fe})||y(b.value,b,function(j){return w=j}),w()})})}ht.prototype._read=function(l,s){var f=this._ctx;return f.error?f.table._trans(null,Ct.bind(null,f.error)):f.table._trans("readonly",l).then(s)},ht.prototype._write=function(l){var s=this._ctx;return s.error?s.table._trans(null,Ct.bind(null,s.error)):s.table._trans("readwrite",l,"locked")},ht.prototype._addAlgorithm=function(l){var s=this._ctx;s.algorithm=La(s.algorithm,l)},ht.prototype._iterate=function(l,s){return fi(this._ctx,l,s,this._ctx.table.core)},ht.prototype.clone=function(l){var s=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&q(f,l),s._ctx=f,s},ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},ht.prototype.each=function(l){var s=this._ctx;return this._read(function(f){return fi(s,l,f,s.table.core)})},ht.prototype.count=function(l){var s=this;return this._read(function(f){var h,y=s._ctx,b=y.table.core;return Ea(y,!0)?b.count({trans:f,query:{index:ma(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,fi(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},ht.prototype.sortBy=function(l,s){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(A,L){return L?b(A[f[L]],L-1):A[h]}var w=this._ctx.dir==="next"?1:-1;function j(A,L){return nt(b(A,y),b(L,y))*w}return this.toArray(function(A){return A.sort(j)}).then(s)},ht.prototype.toArray=function(l){var s=this;return this._read(function(f){var h,y,b,w=s._ctx;return w.dir==="next"&&Ea(w,!0)&&0<w.limit?(h=w.valueMapper,y=ma(w,w.table.core.schema),w.table.core.query({trans:f,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(b=[],fi(w,function(j){return b.push(j)},f,w.table.core).then(function(){return b}))},l)},ht.prototype.offset=function(l){var s=this._ctx;return l<=0||(s.offset+=l,Ea(s)?ci(s,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ci(s,function(){var f=l;return function(){return--f<0}})),this},ht.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ci(this._ctx,function(){var s=l;return function(f,h,y){return--s<=0&&h(y),0<=s}},!0),this},ht.prototype.until=function(l,s){return Li(this._ctx,function(f,h,y){return!l(f.value)||(h(y),s)}),this},ht.prototype.first=function(l){return this.limit(1).toArray(function(s){return s[0]}).then(l)},ht.prototype.last=function(l){return this.reverse().first(l)},ht.prototype.filter=function(l){var s;return Li(this._ctx,function(f){return l(f.value)}),(s=this._ctx).isMatch=La(s.isMatch,l),this},ht.prototype.and=function(l){return this.filter(l)},ht.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ht.prototype.desc=function(){return this.reverse()},ht.prototype.eachKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(f,h){l(h.key,h)})},ht.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},ht.prototype.eachPrimaryKey=function(l){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},ht.prototype.keys=function(l){var s=this._ctx,f=(s.keysOnly=!s.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},ht.prototype.primaryKeys=function(l){var s=this._ctx;if(s.dir==="next"&&Ea(s,!0)&&0<s.limit)return this._read(function(h){var y=ma(s,s.table.core.schema);return s.table.core.query({trans:h,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(h){return h.result}).then(l);s.keysOnly=!s.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},ht.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},ht.prototype.firstKey=function(l){return this.limit(1).keys(function(s){return s[0]}).then(l)},ht.prototype.lastKey=function(l){return this.reverse().firstKey(l)},ht.prototype.distinct=function(){var l,s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];return s&&s.multi&&(l={},Li(this._ctx,function(h){var h=h.primaryKey.toString(),y=z(l,h);return l[h]=!0,!y})),this},ht.prototype.modify=function(l){var s=this,f=this._ctx;return this._write(function(h){function y(T,Q){var J=Q.failures;R+=T-Q.numFailures;for(var K=0,ne=v(J);K<ne.length;K++){var ce=ne[K];C.push(J[ce])}}var b=typeof l=="function"?l:function(T){return Hi(T,l)},w=f.table.core,O=w.schema.primaryKey,j=O.outbound,A=O.extractKey,L=200,O=s.db._options.modifyChunkSize,C=(O&&(L=typeof O=="object"?O[w.name]||O["*"]||200:O),[]),R=0,B=[],D=l===Qr;return s.clone().primaryKeys().then(function(T){function Q(K){var ne=Math.min(L,T.length-K),ce=T.slice(K,K+ne);return(D?Promise.resolve([]):w.getMany({trans:h,keys:ce,cache:"immutable"})).then(function(_e){var Ee=[],de=[],ze=j?[]:null,De=D?ce:[];if(!D)for(var he=0;he<ne;++he){var Re=_e[he],Je={value:at(Re),primKey:T[K+he]};b.call(Je,Je.value,Je)!==!1&&(Je.value==null?De.push(T[K+he]):j||nt(A(Re),A(Je.value))===0?(de.push(Je.value),j&&ze.push(T[K+he])):(De.push(T[K+he]),Ee.push(Je.value)))}return Promise.resolve(0<Ee.length&&w.mutate({trans:h,type:"add",values:Ee}).then(function(rt){for(var Ke in rt.failures)De.splice(parseInt(Ke),1);y(Ee.length,rt)})).then(function(){return(0<de.length||J&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:ze,values:de,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<K}).then(function(rt){return y(de.length,rt)})}).then(function(){return(0<De.length||J&&D)&&w.mutate({trans:h,type:"delete",keys:De,criteria:J,isAdditionalChunk:0<K}).then(function(rt){return mn(f.table,De,rt)}).then(function(rt){return y(De.length,rt)})}).then(function(){return T.length>K+ne&&Q(K+L)})})}var J=Ea(f)&&f.limit===1/0&&(typeof l!="function"||D)&&{index:f.index,range:f.range};return Q(0).then(function(){if(0<C.length)throw new lt("Error modifying one or more objects",C,R,B);return T.length})})})},ht.prototype.delete=function(){var l=this._ctx,s=l.range;return!Ea(l)||l.table.schema.yProps||!l.isPrimKey&&s.type!==3?this.modify(Qr):this._write(function(f){var h=l.table.core.schema.primaryKey,y=s;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(A){var j=A.failures,A=A.numFailures;if(A)throw new lt("Could not delete some values",Object.keys(j).map(function(L){return j[L]}),b-A);return b-A})})})};var Do=ht;function ht(){}var Qr=function(l,s){return s.value=null};function Xr(l,s){return l<s?-1:l===s?0:1}function To(l,s){return s<l?-1:l===s?0:1}function An(l,s,f){return l=l instanceof Ya?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(s),l}function pa(l){return new l.Collection(l,function(){return Ki("")}).limit(0)}function Dn(B,s,f,h){var y,b,w,j,A,L,O,C=f.length;if(!f.every(function(T){return typeof T=="string"}))return An(B,$t);function R(T){y=T==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=T==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},w=T==="next"?Xr:To;var Q=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,K){return w(J.lower,K.lower)});j=Q.map(function(J){return J.upper}),A=Q.map(function(J){return J.lower}),O=(L=T)==="next"?"":h}R("next");var B=new B.Collection(B,function(){return Wn(j[0],A[C-1]+h)}),D=(B._ondirectionchange=function(T){R(T)},0);return B._addAlgorithm(function(T,Q,J){var K=T.key;if(typeof K=="string"){var ne=b(K);if(s(ne,A,D))return!0;for(var ce=null,_e=D;_e<C;++_e){var Ee=((de,ze,De,he,Re,Je)=>{for(var rt=Math.min(de.length,he.length),Ke=-1,$e=0;$e<rt;++$e){var At=ze[$e];if(At!==he[$e])return Re(de[$e],De[$e])<0?de.substr(0,$e)+De[$e]+De.substr($e+1):Re(de[$e],he[$e])<0?de.substr(0,$e)+he[$e]+De.substr($e+1):0<=Ke?de.substr(0,Ke)+ze[Ke]+De.substr(Ke+1):null;Re(de[$e],At)<0&&(Ke=$e)}return rt<he.length&&Je==="next"?de+De.substr(de.length):rt<de.length&&Je==="prev"?de.substr(0,De.length):Ke<0?null:de.substr(0,Ke)+he[Ke]+De.substr(Ke+1)})(K,ne,j[_e],A[_e],w,L);Ee===null&&ce===null?D=_e+1:(ce===null||0<w(ce,Ee))&&(ce=Ee)}Q(ce!==null?function(){T.continue(ce+O)}:J)}return!1}),B}function Wn(l,s,f,h){return{type:2,lower:l,upper:s,lowerOpen:f,upperOpen:h}}function Ki(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Ut.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ut.prototype.between=function(l,s,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,s)||this._cmp(l,s)===0&&(f||h)&&(!f||!h)?pa(this):new this.Collection(this,function(){return Wn(l,s,!f,!h)})}catch{return An(this,vn)}},Ut.prototype.equals=function(l){return l==null?An(this,vn):new this.Collection(this,function(){return Ki(l)})},Ut.prototype.above=function(l){return l==null?An(this,vn):new this.Collection(this,function(){return Wn(l,void 0,!0)})},Ut.prototype.aboveOrEqual=function(l){return l==null?An(this,vn):new this.Collection(this,function(){return Wn(l,void 0,!1)})},Ut.prototype.below=function(l){return l==null?An(this,vn):new this.Collection(this,function(){return Wn(void 0,l,!1,!0)})},Ut.prototype.belowOrEqual=function(l){return l==null?An(this,vn):new this.Collection(this,function(){return Wn(void 0,l)})},Ut.prototype.startsWith=function(l){return typeof l!="string"?An(this,$t):this.between(l,l+Kn,!0,!0)},Ut.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Dn(this,function(s,f){return s.indexOf(f[0])===0},[l],Kn)},Ut.prototype.equalsIgnoreCase=function(l){return Dn(this,function(s,f){return s===f[0]},[l],"")},Ut.prototype.anyOfIgnoreCase=function(){var l=ke.apply(je,arguments);return l.length===0?pa(this):Dn(this,function(s,f){return f.indexOf(s)!==-1},l,"")},Ut.prototype.startsWithAnyOfIgnoreCase=function(){var l=ke.apply(je,arguments);return l.length===0?pa(this):Dn(this,function(s,f){return f.some(function(h){return s.indexOf(h)===0})},l,Kn)},Ut.prototype.anyOf=function(){var l,s,f=this,h=ke.apply(je,arguments),y=this._cmp;try{h.sort(y)}catch{return An(this,vn)}return h.length===0?pa(this):((l=new this.Collection(this,function(){return Wn(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},s=0,l._addAlgorithm(function(b,w,j){for(var A=b.key;0<y(A,h[s]);)if(++s===h.length)return w(j),!1;return y(A,h[s])===0||(w(function(){b.continue(h[s])}),!1)}),l)},Ut.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ut.prototype.noneOf=function(){var l=ke.apply(je,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return An(this,vn)}var s=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return s.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},Ut.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,w=this._min,j=this._max;if(l.length===0)return pa(this);if(!l.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&y(K[0],K[1])<=0}))return An(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var A=!J||J.includeLowers!==!1,L=J&&J.includeUppers===!0,O,C=y;function R(K,ne){return C(K[0],ne[0])}try{(O=l.reduce(function(K,ne){for(var ce=0,_e=K.length;ce<_e;++ce){var Ee=K[ce];if(h(ne[0],Ee[1])<0&&0<h(ne[1],Ee[0])){Ee[0]=w(Ee[0],ne[0]),Ee[1]=j(Ee[1],ne[1]);break}}return ce===_e&&K.push(ne),K},[])).sort(R)}catch{return An(this,vn)}var B=0,D=L?function(K){return 0<y(K,O[B][1])}:function(K){return 0<=y(K,O[B][1])},T=A?function(K){return 0<b(K,O[B][0])}:function(K){return 0<=b(K,O[B][0])},Q=D,J=new this.Collection(this,function(){return Wn(O[0][0],O[O.length-1][1],!A,!L)});return J._ondirectionchange=function(K){C=K==="next"?(Q=D,y):(Q=T,b),O.sort(R)},J._addAlgorithm(function(K,ne,ce){for(var _e,Ee=K.key;Q(Ee);)if(++B===O.length)return ne(ce),!1;return!D(_e=Ee)&&!T(_e)||(f._cmp(Ee,O[B][1])===0||f._cmp(Ee,O[B][0])===0||ne(function(){C===y?K.continue(O[B][0]):K.continue(O[B][1])}),!1)}),J},Ut.prototype.startsWithAnyOf=function(){var l=ke.apply(je,arguments);return l.every(function(s){return typeof s=="string"})?l.length===0?pa(this):this.inAnyRange(l.map(function(s){return[s,s+Kn]})):An(this,"startsWithAnyOf() only works with strings")};var Ya=Ut;function Ut(){}function Yn(l){return Rt(function(s){return Qa(s),l(s.target.error),!1})}function Qa(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Sl="storagemutated",Xa="x-storagemutated-1",fn=oi(null,Sl),Gr=(xn.prototype._lock=function(){return te(!Ce.global),++this._reculock,this._reculock!==1||Ce.global||(Ce.lockOwnerFor=this),this},xn.prototype._unlock=function(){if(te(!Ce.global),--this._reculock==0)for(Ce.global||(Ce.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Ln(l[1],l[0])}catch{}}return this},xn.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},xn.prototype.create=function(l){var s=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(te(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new U.DatabaseClosed(h);case"MissingAPIError":throw new U.MissingAPI(h.message,h);default:throw new U.OpenFailed(h)}if(!this.active)throw new U.TransactionInactive;te(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Rt(function(y){Qa(y),s._reject(l.error)}),l.onabort=Rt(function(y){Qa(y),s.active&&s._reject(new U.Abort(l.error)),s.active=!1,s.on("abort").fire(y)}),l.oncomplete=Rt(function(){s.active=!1,s._resolve(),"mutatedParts"in l&&fn.storagemutated.fire(l.mutatedParts)})}return this},xn.prototype._promise=function(l,s,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Ct(new U.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Oe(function(b,w){y._blockedFuncs.push([function(){y._promise(l,s,f).then(b,w)},Ce])}):f?qt(function(){var b=new Oe(function(w,j){y._lock();var A=s(w,j,y);A&&A.then&&A.then(w,j)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Oe(function(b,w){var j=s(b,w,y);j&&j.then&&j.then(b,w)}))._lib=!0,h):Ct(new U.TransactionInactive)},xn.prototype._root=function(){return this.parent?this.parent._root():this},xn.prototype.waitFor=function(l){var s,f=this._root(),h=Oe.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],s=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(s.get(-1/0).onsuccess=b)})()),f._waitingFor);return new Oe(function(b,w){h.then(function(j){return f._waitingQueue.push(Rt(b.bind(null,j)))},function(j){return f._waitingQueue.push(Rt(w.bind(null,j)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},xn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},xn.prototype.table=function(l){var s=this._memoizedTables||(this._memoizedTables={});if(z(s,l))return s[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),s[l]=f;throw new U.NotFound("Table "+l+" not part of transaction")},xn);function xn(){}function In(l,s,f,h,y,b,w,j){return{name:l,keyPath:s,unique:f,multi:h,auto:y,compound:b,src:(f&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Yi(s),type:j}}function Yi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function wl(l,s,f){return{name:l,primKey:s,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,w){return b=h(b,w),b&&(y[b[0]]=b[1]),y},{}))};var h}var jl=function(l){try{return l.only([[]]),jl=function(){return[[]]},[[]]}catch{return jl=function(){return Kn},Kn}};function Nl(l){return l==null?function(){}:typeof l=="string"?(s=l).split(".").length===1?function(f){return f[s]}:function(f){return be(f,s)}:function(f){return be(f,l)};var s}function di(l){return[].slice.call(l)}var Ps=0;function en(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ga(l,s,A){function h(D){if(D.type===3)return null;if(D.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=D.lower,R=D.upper,B=D.lowerOpen,D=D.upperOpen;return C===void 0?R===void 0?null:s.upperBound(R,!!D):R===void 0?s.lowerBound(C,!!B):s.bound(C,R,!!B,!!D)}function y(O){var C,R=O.name;return{name:R,schema:O,mutate:function(B){var D=B.trans,T=B.type,Q=B.keys,J=B.values,K=B.range;return new Promise(function(ne,ce){ne=Rt(ne);var _e=D.objectStore(R),Ee=_e.keyPath==null,de=T==="put"||T==="add";if(!de&&T!=="delete"&&T!=="deleteRange")throw new Error("Invalid operation type: "+T);var ze,De=(Q||J||{length:1}).length;if(Q&&J&&Q.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function he(Nt){++rt,Qa(Nt)}var Re=[],Je=[],rt=0;if(T==="deleteRange"){if(K.type===4)return ne({numFailures:rt,failures:Je,results:[],lastResult:void 0});K.type===3?Re.push(ze=_e.clear()):Re.push(ze=_e.delete(h(K)))}else{var Ee=de?Ee?[J,Q]:[J,null]:[Q,null],Ke=Ee[0],$e=Ee[1];if(de)for(var At=0;At<De;++At)Re.push(ze=$e&&$e[At]!==void 0?_e[T](Ke[At],$e[At]):_e[T](Ke[At])),ze.onerror=he;else for(At=0;At<De;++At)Re.push(ze=_e[T](Ke[At])),ze.onerror=he}function wn(Nt){Nt=Nt.target.result,Re.forEach(function(Da,Dl){return Da.error!=null&&(Je[Dl]=Da.error)}),ne({numFailures:rt,failures:Je,results:T==="delete"?Q:Re.map(function(Da){return Da.result}),lastResult:Nt})}ze.onerror=function(Nt){he(Nt),wn(Nt)},ze.onsuccess=wn})},getMany:function(B){var D=B.trans,T=B.keys;return new Promise(function(Q,J){Q=Rt(Q);for(var K,ne=D.objectStore(R),ce=T.length,_e=new Array(ce),Ee=0,de=0,ze=function(Re){Re=Re.target,_e[Re._pos]=Re.result,++de===Ee&&Q(_e)},De=Yn(J),he=0;he<ce;++he)T[he]!=null&&((K=ne.get(T[he]))._pos=he,K.onsuccess=ze,K.onerror=De,++Ee);Ee===0&&Q(_e)})},get:function(B){var D=B.trans,T=B.key;return new Promise(function(Q,J){Q=Rt(Q);var K=D.objectStore(R).get(T);K.onsuccess=function(ne){return Q(ne.target.result)},K.onerror=Yn(J)})},query:(C=j,function(B){return new Promise(function(D,T){D=Rt(D);var Q,J,K,de=B.trans,ne=B.values,ce=B.limit,Ee=B.query,_e=ce===1/0?void 0:ce,ze=Ee.index,Ee=Ee.range,de=de.objectStore(R),de=ze.isPrimaryKey?de:de.index(ze.name),ze=h(Ee);if(ce===0)return D({result:[]});C?((Ee=ne?de.getAll(ze,_e):de.getAllKeys(ze,_e)).onsuccess=function(De){return D({result:De.target.result})},Ee.onerror=Yn(T)):(Q=0,J=!ne&&"openKeyCursor"in de?de.openKeyCursor(ze):de.openCursor(ze),K=[],J.onsuccess=function(De){var he=J.result;return!he||(K.push(ne?he.value:he.primaryKey),++Q===ce)?D({result:K}):void he.continue()},J.onerror=Yn(T))})}),openCursor:function(B){var D=B.trans,T=B.values,Q=B.query,J=B.reverse,K=B.unique;return new Promise(function(ne,ce){ne=Rt(ne);var de=Q.index,_e=Q.range,Ee=D.objectStore(R),Ee=de.isPrimaryKey?Ee:Ee.index(de.name),de=J?K?"prevunique":"prev":K?"nextunique":"next",ze=!T&&"openKeyCursor"in Ee?Ee.openKeyCursor(h(_e),de):Ee.openCursor(h(_e),de);ze.onerror=Yn(ce),ze.onsuccess=Rt(function(De){var he,Re,Je,rt,Ke=ze.result;Ke?(Ke.___id=++Ps,Ke.done=!1,he=Ke.continue.bind(Ke),Re=(Re=Ke.continuePrimaryKey)&&Re.bind(Ke),Je=Ke.advance.bind(Ke),rt=function(){throw new Error("Cursor not stopped")},Ke.trans=D,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Rt(ce),Ke.next=function(){var $e=this,At=1;return this.start(function(){return At--?$e.continue():$e.stop()}).then(function(){return $e})},Ke.start=function($e){function At(){if(ze.result)try{$e()}catch(Nt){Ke.fail(Nt)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var wn=new Promise(function(Nt,Da){Nt=Rt(Nt),ze.onerror=Yn(Da),Ke.fail=Da,Ke.stop=function(Dl){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=rt,Nt(Dl)}});return ze.onsuccess=Rt(function(Nt){ze.onsuccess=At,At()}),Ke.continue=he,Ke.continuePrimaryKey=Re,Ke.advance=Je,At(),wn},ne(Ke)):ne(null)},ce)})},count:function(B){var D=B.query,T=B.trans,Q=D.index,J=D.range;return new Promise(function(K,ne){var ce=T.objectStore(R),ce=Q.isPrimaryKey?ce:ce.index(Q.name),_e=h(J),_e=_e?ce.count(_e):ce.count();_e.onsuccess=Rt(function(Ee){return K(Ee.target.result)}),_e.onerror=Yn(ne)})}}}b=A,w=di((A=l).objectStoreNames);var b,A={schema:{name:A.name,tables:w.map(function(O){return b.objectStore(O)}).map(function(O){var C=O.keyPath,R=O.autoIncrement,D=N(C),B={},D={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:D,keyPath:C,autoIncrement:R,unique:!0,extractKey:Nl(C)},indexes:di(O.indexNames).map(function(T){return O.index(T)}).map(function(K){var ne=K.name,Q=K.unique,J=K.multiEntry,K=K.keyPath,ne={name:ne,compound:N(K),keyPath:K,unique:Q,multiEntry:J,extractKey:Nl(K)};return B[en(K)]=ne}),getIndexByKeyPath:function(T){return B[en(T)]}};return B[":id"]=D.primaryKey,C!=null&&(B[en(C)]=D.primaryKey),D})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=A.schema,j=A.hasGetAll,A=w.tables.map(y),L={};return A.forEach(function(O){return L[O.name]=O}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(O){if(L[O])return L[O];throw new Error("Table '".concat(O,"' not found"))},MIN_KEY:-1/0,MAX_KEY:jl(s),schema:w}}function Qi(l,s,f,h){return f=f.IDBKeyRange,s=Ga(s,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},s)}}function Ca(l,s){var f=s.db,f=Qi(l._middlewares,f,l._deps,s);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Xi(l,s,f,h){f.forEach(function(y){var b=h[y];s.forEach(function(w){var j=(function A(L,O){return P(L,O)||(L=E(L))&&A(L,O)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?V(w,y,{get:function(){return this.table(y)},set:function(A){ye(this,y,{value:A,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,b))})})}function hi(l,s){s.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function Vr(l,s){return l._cfg.version-s._cfg.version}function mi(l,s,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=wl("$meta",Is("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(b.create(f),b._completion.catch(h),b._reject.bind(b)),j=Ce.transless||Ce;qt(function(){if(Ce.trans=b,Ce.transless=j,s!==0)return Ca(l,f),L=s,((A=b).storeNames.includes("$meta")?A.table("$meta").get("version").then(function(O){return O??L}):Oe.resolve(L)).then(function(Q){var C=l,R=Q,B=b,D=f,T=[],Q=C._versions,J=C._dbSchema=_l(0,C.idbdb,D);return(Q=Q.filter(function(K){return K._cfg.version>=R})).length===0?Oe.resolve():(Q.forEach(function(K){T.push(function(){var ne,ce,_e,Ee=J,de=K._cfg.dbschema,ze=(Zi(C,Ee,D),Zi(C,de,D),J=C._dbSchema=de,Vi(Ee,de)),De=(ze.add.forEach(function(he){Fr(D,he[0],he[1].primKey,he[1].indexes)}),ze.change.forEach(function(he){if(he.recreate)throw new U.Upgrade("Not yet support for changing primary key");var Re=D.objectStore(he.name);he.add.forEach(function(Je){return Fi(Re,Je)}),he.change.forEach(function(Je){Re.deleteIndex(Je.name),Fi(Re,Je)}),he.del.forEach(function(Je){return Re.deleteIndex(Je)})}),K._cfg.contentUpgrade);if(De&&K._cfg.version>R)return Ca(C,D),B._memoizedTables={},ne=He(de),ze.del.forEach(function(he){ne[he]=Ee[he]}),hi(C,[C.Transaction.prototype]),Xi(C,[C.Transaction.prototype],v(ne),ne),B.schema=ne,(ce=G(De))&&Jt(),de=Oe.follow(function(){var he;(_e=De(B))&&ce&&(he=Cn.bind(null,null),_e.then(he,he))}),_e&&typeof _e.then=="function"?Oe.resolve(_e):de.then(function(){return _e})}),T.push(function(ne){var ce,_e,Ee=K._cfg.dbschema;ce=Ee,_e=ne,[].slice.call(_e.db.objectStoreNames).forEach(function(de){return ce[de]==null&&_e.db.deleteObjectStore(de)}),hi(C,[C.Transaction.prototype]),Xi(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),B.schema=C._dbSchema}),T.push(function(ne){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===K._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(ce){return ce!=="$meta"})):ne.objectStore("$meta").put(K._cfg.version,"version"))})}),(function K(){return T.length?Oe.resolve(T.shift()(B.idbtrans)).then(K):Oe.resolve()})().then(function(){Ws(J,D)}))}).catch(w);var A,L;v(y).forEach(function(O){Fr(f,O,y[O].primKey,y[O].indexes)}),Ca(l,f),Oe.follow(function(){return l.on.populate.fire(b)}).catch(w)})}function Gi(l,s){Ws(l._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var f=_l(0,l.idbdb,s);Zi(l,l._dbSchema,s);for(var h=0,y=Vi(f,l._dbSchema).change;h<y.length;h++){var b=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=s.objectStore(w.name);w.add.forEach(function(A){Bt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(A.src)),Fi(j,A)})})(y[h]);if(typeof b=="object")return b.value}}function Vi(l,s){var f,h={del:[],add:[],change:[]};for(f in l)s[f]||h.del.push(f);for(f in s){var y=l[f],b=s[f];if(y){var w={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,A=b.idxByName,L=void 0;for(L in j)A[L]||w.del.push(L);for(L in A){var O=j[L],C=A[L];O?O.src!==C.src&&w.change.push(C):w.add.push(C)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([f,b])}return h}function Fr(l,s,f,h){var y=l.db.createObjectStore(s,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Fi(y,b)})}function Ws(l,s){v(l).forEach(function(f){s.db.objectStoreNames.contains(f)||(Bt&&console.debug("Dexie: Creating missing table",f),Fr(s,f,l[f].primKey,l[f].indexes))})}function Fi(l,s){l.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function _l(l,s,f){var h={};return oe(s.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),w=In(Yi(L=b.keyPath),L||"",!0,!1,!!b.autoIncrement,L&&typeof L!="string",!0),j=[],A=0;A<b.indexNames.length;++A){var O=b.index(b.indexNames[A]),L=O.keyPath,O=In(O.name,L,!!O.unique,!!O.multiEntry,!1,L&&typeof L!="string",!1);j.push(O)}h[y]=wl(y,w,j)}),h}function Zi(l,s,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],w=f.objectStore(b);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var A,L=w.indexNames[j],O=w.index(L).keyPath,O=typeof O=="string"?O:"["+oe(O).join("+")+"]";s[b]&&(A=s[b].idxByName[O])&&(A.name=L,delete s[b].idxByName[O],s[b].idxByName[L]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Is(l){return l.split(",").map(function(s,f){var y=s.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(s=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return In(y,b||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),N(b),f===0,h)})}El.prototype._createTableSchema=wl,El.prototype._parseIndexSyntax=Is,El.prototype._parseStoresSpec=function(l,s){var f=this;v(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new U.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new U.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),s[h]=b}})},El.prototype.stores=function(f){var s=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,f):f,s._versions),h={},y={};return f.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),s._dbSchema=y,hi(s,[s._allTables,s,s.Transaction.prototype]),Xi(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],v(y),y),s._storeNames=v(y),this},El.prototype.upgrade=function(l){return this._cfg.contentUpgrade=yt(this._cfg.contentUpgrade||fe,l),this};var Mo=El;function El(){}function Zr(l,s){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new ea(ri,{addons:[],indexedDB:l,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ji(l){return l&&typeof l.databases=="function"}function Jr(l){return qt(function(){return Ce.letThrough=!0,l()})}function $r(l){return!("from"in l)}var dn=function(l,s){var f;if(!this)return f=new dn,l&&"d"in l&&q(f,l),f;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?s:l}:{d:0})};function pi(l,s,f){var h=nt(s,f);if(!isNaN(h)){if(0<h)throw RangeError();if($r(l))return q(l,{from:s,to:f,d:1});var h=l.l,y=l.r;if(nt(f,l.from)<0)return h?pi(h,s,f):l.l={from:s,to:f,d:1,l:null,r:null},tu(l);if(0<nt(s,l.to))return y?pi(y,s,f):l.r={from:s,to:f,d:1,l:null,r:null},tu(l);nt(s,l.from)<0&&(l.from=s,l.l=null,l.d=y?y.d+1:1),0<nt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),s=!l.r,h&&!l.l&&Va(l,h),y&&s&&Va(l,y)}}function Va(l,s){$r(s)||(function f(h,y){var b=y.from,w=y.l,j=y.r;pi(h,b,y.to),w&&f(h,w),j&&f(h,j)})(l,s)}function eu(l,s){var f=$i(s),h=f.next();if(!h.done)for(var y=h.value,b=$i(l),w=b.next(y.from),j=w.value;!h.done&&!w.done;){if(nt(j.from,y.to)<=0&&0<=nt(j.to,y.from))return!0;nt(y.from,j.from)<0?y=(h=f.next(j.from)).value:j=(w=b.next(y.from)).value}return!1}function $i(l){var s=$r(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,h)for(;s.n.l&&nt(f,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!h||nt(f,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function tu(l){var s,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(s=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[s],(l[s]=f).d=Pr(f)),l.d=Pr(l)}function Pr(f){var s=f.r,f=f.l;return(s?f?Math.max(s.d,f.d):s.d:f?f.d:0)+1}function Pi(l,s){return v(s).forEach(function(f){l[f]?Va(l[f],s[f]):l[f]=(function h(y){var b,w,j={};for(b in y)z(y,b)&&(w=y[b],j[b]=!w||typeof w!="object"||Pe.has(w.constructor)?w:h(w));return j})(s[f])}),l}function Wr(l,s){return l.all||s.all||Object.keys(l).some(function(f){return s[f]&&eu(s[f],l[f])})}$(dn.prototype,((on={add:function(l){return Va(this,l),this},addKey:function(l){return pi(this,l,l),this},addKeys:function(l){var s=this;return l.forEach(function(f){return pi(s,f,f)}),this},hasKey:function(l){var s=$i(this).next(l).value;return s&&nt(s.from,l)<=0&&0<=nt(s.to,l)}})[Y]=function(){return $i(this)},on));var Fa={},Ir={},es=!1;function Wi(l){Pi(Ir,l),es||(es=!0,setTimeout(function(){es=!1,ts(Ir,!(Ir={}))},0))}function ts(l,s){s===void 0&&(s=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Fa);h<y.length;h++)nu(j=y[h],l,f,s);else for(var b in l){var w,j,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(w=b[1],b=b[2],j=Fa["idb://".concat(w,"/").concat(b)])&&nu(j,l,f,s)}f.forEach(function(A){return A()})}function nu(l,s,f,h){for(var y=[],b=0,w=Object.entries(l.queries.query);b<w.length;b++){for(var j=w[b],A=j[0],L=[],O=0,C=j[1];O<C.length;O++){var R=C[O];Wr(s,R.obsSet)?R.subscribers.forEach(function(Q){return f.add(Q)}):h&&L.push(R)}h&&y.push([A,L])}if(h)for(var B=0,D=y;B<D.length;B++){var T=D[B],A=T[0],L=T[1];l.queries.query[A]=L}}function zo(l){var s=l._state,f=l._deps.indexedDB;if(s.isBeingOpened||l.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?Ct(s.dbOpenError):l});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var h=s.openCanceller,y=Math.round(10*l.verno),b=!1;function w(){if(s.openCanceller!==h)throw new U.DatabaseClosed("db.open() was cancelled")}function j(){return new Oe(function(R,B){if(w(),!f)throw new U.MissingAPI;var D=l.name,T=s.autoSchema||!y?f.open(D):f.open(D,y);if(!T)throw new U.MissingAPI;T.onerror=Yn(B),T.onblocked=Rt(l._fireOnBlocked),T.onupgradeneeded=Rt(function(Q){var J;O=T.transaction,s.autoSchema&&!l._options.allowEmptyDB?(T.onerror=Qa,O.abort(),T.result.close(),(J=f.deleteDatabase(D)).onsuccess=J.onerror=Rt(function(){B(new U.NoSuchDatabase("Database ".concat(D," doesnt exist")))})):(O.onerror=Yn(B),J=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,C=J<1,l.idbdb=T.result,b&&Gi(l,O),mi(l,J/10,O,B))},B),T.onsuccess=Rt(function(){O=null;var Q,J,K,ne,ce,_e,Ee=l.idbdb=T.result,de=oe(Ee.objectStoreNames);if(0<de.length)try{var ze=Ee.transaction((ce=de).length===1?ce[0]:ce,"readonly");if(s.autoSchema)_e=Ee,ne=ze,(K=l).verno=_e.version/10,ne=K._dbSchema=_l(0,_e,ne),K._storeNames=oe(_e.objectStoreNames,0),Xi(K,[K._allTables],v(ne),ne);else if(Zi(l,l._dbSchema,ze),J=ze,((J=Vi(_l(0,(Q=l).idbdb,J),Q._dbSchema)).add.length||J.change.some(function(De){return De.add.length||De.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ee.close(),y=Ee.version+1,b=!0,R(j());Ca(l,ze)}catch{}Ha.push(l),Ee.onversionchange=Rt(function(De){s.vcFired=!0,l.on("versionchange").fire(De)}),Ee.onclose=Rt(function(){l.close({disableAutoOpen:!1})}),C&&(de=l._deps,ce=D,Ji(_e=de.indexedDB)||ce===ri||Zr(_e,de.IDBKeyRange).put({name:ce}).catch(fe)),R()},B)}).catch(function(R){switch(R?.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return Oe.reject(R)})}var A,L=s.dbReadyResolve,O=null,C=!1;return Oe.race([h,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(R){function B(){return indexedDB.databases().finally(R)}A=setInterval(B,100),B()}).finally(function(){return clearInterval(A)}):Promise.resolve()).then(j)]).then(function(){return w(),s.onReadyBeingFired=[],Oe.resolve(Jr(function(){return l.on.ready.fire(l.vip)})).then(function R(){var B;if(0<s.onReadyBeingFired.length)return B=s.onReadyBeingFired.reduce(yt,fe),s.onReadyBeingFired=[],Oe.resolve(Jr(function(){return B(l.vip)})).then(R)})}).finally(function(){s.openCanceller===h&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(R){s.dbOpenError=R;try{O&&O.abort()}catch{}return h===s.openCanceller&&l._close(),Ct(R)}).finally(function(){s.openComplete=!0,L()}).then(function(){var R;return C&&(R={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(D){D.name&&(R["idb://".concat(l.name,"/").concat(B.name,"/").concat(D.name)]=new dn(-1/0,[[[]]]))}),R["idb://".concat(l.name,"/").concat(B.name,"/")]=R["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new dn(-1/0,[[[]]])}),fn(Sl).fire(R),ts(R,!0)),l})}function yi(l){function s(b){return l.next(b)}var f=y(s),h=y(function(b){return l.throw(b)});function y(b){return function(j){var j=b(j),A=j.value;return j.done?A:A&&typeof A.then=="function"?A.then(f,h):N(A)?Promise.all(A).then(f,h):f(A)}}return y(s)()}function Aa(l,s,f){for(var h=N(l)?l.slice():[l],y=0;y<f;++y)h.push(s);return h}var Ro={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function w(R,B,D){var K=en(R),T=y[K]=y[K]||[],Q=R==null?0:typeof R=="string"?1:R.length,J=0<B,K=d(d({},D),{name:J?"".concat(K,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:J,keyTail:B,keyLength:Q,extractKey:Nl(R),unique:!J&&D.unique});return T.push(K),K.isPrimaryKey||b.push(K),1<Q&&w(Q===2?R[0]:R.slice(0,Q-1),B+1,D),T.sort(function(ne,ce){return ne.keyTail-ce.keyTail}),K}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var A=0,L=h.indexes;A<L.length;A++){var O=L[A];w(O.keyPath,0,O)}function C(R){var B,D=R.query.index;return D.isVirtual?d(d({},R),{query:{index:D.lowLevelIndex,range:(B=R.query.range,D=D.keyTail,{type:B.type===1?2:B.type,lower:Aa(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,D),lowerOpen:!0,upper:Aa(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,D),upperOpen:!0})}}):R}return d(d({},f),{schema:d(d({},h),{primaryKey:j,indexes:b,getIndexByKeyPath:function(R){return(R=y[en(R)])&&R[0]}}),count:function(R){return f.count(C(R))},query:function(R){return f.query(C(R))},openCursor:function(R){var B=R.query.index,D=B.keyTail,T=B.keyLength;return B.isVirtual?f.openCursor(C(R)).then(function(J){return J&&Q(J)}):f.openCursor(R);function Q(J){return Object.create(J,{continue:{value:function(K){K!=null?J.continue(Aa(K,R.reverse?l.MAX_KEY:l.MIN_KEY,D)):R.unique?J.continue(J.key.slice(0,T).concat(R.reverse?l.MIN_KEY:l.MAX_KEY,D)):J.continue()}},continuePrimaryKey:{value:function(K,ne){J.continuePrimaryKey(Aa(K,l.MAX_KEY,D),ne)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var K=J.key;return T===1?K[0]:K.slice(0,T)}},value:{get:function(){return J.value}}})}}})}})}};function Ii(l,s,f,h){return f=f||{},h=h||"",v(l).forEach(function(y){var b,w,j;z(s,y)?(b=l[y],w=s[y],typeof b=="object"&&typeof w=="object"&&b&&w?(j=Ue(b))!==Ue(w)?f[h+y]=s[y]:j==="Object"?Ii(b,w,f,h+y+"."):b!==w&&(f[h+y]=s[y]):b!==w&&(f[h+y]=s[y])):f[h+y]=void 0}),v(s).forEach(function(y){z(l,y)||(f[h+y]=s[y])}),f}function er(l,s){return s.type==="delete"?s.keys:s.keys||s.values.map(l.extractKey)}var au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(s){var f=l.table(s),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Ce.trans,w=b.table(s).hook,j=w.deleting,A=w.creating,L=w.updating;switch(y.type){case"add":if(A.fire===fe)break;return b._promise("readwrite",function(){return O(y)},!0);case"put":if(A.fire===fe&&L.fire===fe)break;return b._promise("readwrite",function(){return O(y)},!0);case"delete":if(j.fire===fe)break;return b._promise("readwrite",function(){return O(y)},!0);case"deleteRange":if(j.fire===fe)break;return b._promise("readwrite",function(){return(function C(R,B,D){return f.query({trans:R,values:!1,query:{index:h,range:B},limit:D}).then(function(T){var Q=T.result;return O({type:"delete",keys:Q,trans:R}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):Q.length<D?{failures:[],numFailures:0,lastResult:void 0}:C(R,d(d({},B),{lower:Q[Q.length-1],lowerOpen:!0}),D)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function O(C){var R,B,D,T=Ce.trans,Q=C.keys||er(h,C);if(Q)return(C=C.type==="add"||C.type==="put"?d(d({},C),{keys:Q}):d({},C)).type!=="delete"&&(C.values=g([],C.values)),C.keys&&(C.keys=g([],C.keys)),R=f,D=Q,((B=C).type==="add"?Promise.resolve([]):R.getMany({trans:B.trans,keys:D,cache:"immutable"})).then(function(J){var K=Q.map(function(ne,ce){var _e,Ee,de,ze=J[ce],De={onerror:null,onsuccess:null};return C.type==="delete"?j.fire.call(De,ne,ze,T):C.type==="add"||ze===void 0?(_e=A.fire.call(De,ne,C.values[ce],T),ne==null&&_e!=null&&(C.keys[ce]=ne=_e,h.outbound||xe(C.values[ce],h.keyPath,ne))):(_e=Ii(ze,C.values[ce]),(Ee=L.fire.call(De,_e,ne,ze,T))&&(de=C.values[ce],Object.keys(Ee).forEach(function(he){z(de,he)?de[he]=Ee[he]:xe(de,he,Ee[he])}))),De});return f.mutate(C).then(function(ne){for(var ce=ne.failures,_e=ne.results,Ee=ne.numFailures,ne=ne.lastResult,de=0;de<Q.length;++de){var ze=(_e||Q)[de],De=K[de];ze==null?De.onerror&&De.onerror(ce[de]):De.onsuccess&&De.onsuccess(C.type==="put"&&J[de]?C.values[de]:ze)}return{failures:ce,results:_e,numFailures:Ee,lastResult:ne}}).catch(function(ne){return K.forEach(function(ce){return ce.onerror&&ce.onerror(ne)}),Promise.reject(ne)})});throw new Error("Keys missing")}}})}})}};function ns(l,s,f){try{if(!s||s.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<s.keys.length&&b<l.length;++y)nt(s.keys[y],l[b])===0&&(h.push(f?at(s.values[y]):s.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var lu={stack:"dbcore",level:-1,create:function(l){return{table:function(s){var f=l.table(s);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=ns(h.keys,h.trans._cache,h.cache==="clone"))?Oe.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?at(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Za(l,s){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function iu(l,s){switch(l){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ko={stack:"dbcore",level:0,name:"Observability",create:function(l){var s=l.schema.name,f=new dn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Ce.subscr&&y!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return l.transaction(h,y,b)},table:function(h){function y(Q){var T,Q=Q.query;return[T=Q.index,new dn((T=(Q=Q.range).lower)!=null?T:l.MIN_KEY,(T=Q.upper)!=null?T:l.MAX_KEY)]}var b=l.table(h),w=b.schema,j=w.primaryKey,A=w.indexes,L=j.extractKey,O=j.outbound,C=j.autoIncrement&&A.filter(function(D){return D.compound&&D.keyPath.includes(j.keyPath)}),R=d(d({},b),{mutate:function(D){function T(Re){return Re="idb://".concat(s,"/").concat(h,"/").concat(Re),ce[Re]||(ce[Re]=new dn)}var Q,J,K,ne=D.trans,ce=D.mutatedParts||(D.mutatedParts={}),_e=T(""),Ee=T(":dels"),de=D.type,De=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[er(j,D).filter(function(Re){return Re}),D.values]:[],ze=De[0],De=De[1],he=D.trans._cache;return N(ze)?(_e.addKeys(ze),(de=de==="delete"||ze.length===De.length?ns(ze,he):null)||Ee.addKeys(ze),(de||De)&&(Q=T,J=de,K=De,w.indexes.forEach(function(Re){var Je=Q(Re.name||"");function rt($e){return $e!=null?Re.extractKey($e):null}function Ke($e){Re.multiEntry&&N($e)?$e.forEach(function(At){return Je.addKey(At)}):Je.addKey($e)}(J||K).forEach(function($e,Nt){var wn=J&&rt(J[Nt]),Nt=K&&rt(K[Nt]);nt(wn,Nt)!==0&&(wn!=null&&Ke(wn),Nt!=null)&&Ke(Nt)})}))):ze?(De={from:(he=ze.lower)!=null?he:l.MIN_KEY,to:(de=ze.upper)!=null?de:l.MAX_KEY},Ee.add(De),_e.add(De)):(_e.add(f),Ee.add(f),w.indexes.forEach(function(Re){return T(Re.name).add(f)})),b.mutate(D).then(function(Re){return!ze||D.type!=="add"&&D.type!=="put"||(_e.addKeys(Re.results),C&&C.forEach(function(Je){for(var rt=D.values.map(function(wn){return Je.extractKey(wn)}),Ke=Je.keyPath.findIndex(function(wn){return wn===j.keyPath}),$e=0,At=Re.results.length;$e<At;++$e)rt[$e][Ke]=Re.results[$e];T(Je.name).addKeys(rt)})),ne.mutatedParts=Pi(ne.mutatedParts||{},ce),Re})}}),B={get:function(D){return[j,new dn(D.key)]},getMany:function(D){return[j,new dn().addKeys(D.keys)]},count:y,query:y,openCursor:y};return v(B).forEach(function(D){R[D]=function(T){var Q=Ce.subscr,J=!!Q,K=Za(Ce,b)&&iu(D,T)?T.obsSet={}:Q;if(J){var ne,Q=function(De){return De="idb://".concat(s,"/").concat(h,"/").concat(De),K[De]||(K[De]=new dn)},ce=Q(""),_e=Q(":dels"),J=B[D](T),Ee=J[0],J=J[1];if((D==="query"&&Ee.isPrimaryKey&&!T.values?_e:Q(Ee.name||"")).add(J),!Ee.isPrimaryKey){if(D!=="count")return ne=D==="query"&&O&&T.values&&b.query(d(d({},T),{values:!1})),b[D].apply(this,arguments).then(function(De){if(D==="query"){if(O&&T.values)return ne.then(function(rt){return rt=rt.result,ce.addKeys(rt),De});var he=T.values?De.result.map(L):De.result;(T.values?ce:_e).addKeys(he)}else{var Re,Je;if(D==="openCursor")return Je=T.values,(Re=De)&&Object.create(Re,{key:{get:function(){return _e.addKey(Re.primaryKey),Re.key}},primaryKey:{get:function(){var rt=Re.primaryKey;return _e.addKey(rt),rt}},value:{get:function(){return Je&&ce.addKey(Re.primaryKey),Re.value}}})}return De});_e.add(f)}}return b[D].apply(this,arguments)}}),R}})}};function ru(l,s,f){var h;return f.numFailures===0?s:s.type==="deleteRange"||(h=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1,f.numFailures===h)?null:(h=d({},s),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function tr(l,s){return f=l,((h=s).lower===void 0||(h.lowerOpen?0<nt(f,h.lower):0<=nt(f,h.lower)))&&(f=l,(h=s).upper===void 0||(h.upperOpen?nt(f,h.upper)<0:nt(f,h.upper)<=0));var f,h}function as(l,s,f,h,y,b){var w,j,A,L,O,C;return!f||f.length===0||(w=s.query.index,j=w.multiEntry,A=s.query.range,L=h.schema.primaryKey.extractKey,O=w.extractKey,C=(w.lowLevelIndex||w).extractKey,(h=f.reduce(function(R,B){var D=R,T=[];if(B.type==="add"||B.type==="put")for(var Q=new dn,J=B.values.length-1;0<=J;--J){var K,ne=B.values[J],ce=L(ne);!Q.hasKey(ce)&&(K=O(ne),j&&N(K)?K.some(function(De){return tr(De,A)}):tr(K,A))&&(Q.addKey(ce),T.push(ne))}switch(B.type){case"add":var _e=new dn().addKeys(s.values?R.map(function(he){return L(he)}):R),D=R.concat(s.values?T.filter(function(he){return he=L(he),!_e.hasKey(he)&&(_e.addKey(he),!0)}):T.map(function(he){return L(he)}).filter(function(he){return!_e.hasKey(he)&&(_e.addKey(he),!0)}));break;case"put":var Ee=new dn().addKeys(B.values.map(function(he){return L(he)}));D=R.filter(function(he){return!Ee.hasKey(s.values?L(he):he)}).concat(s.values?T:T.map(function(he){return L(he)}));break;case"delete":var de=new dn().addKeys(B.keys);D=R.filter(function(he){return!de.hasKey(s.values?L(he):he)});break;case"deleteRange":var ze=B.range;D=R.filter(function(he){return!tr(L(he),ze)})}return D},l))===l)?l:(h.sort(function(R,B){return nt(C(R),C(B))||nt(L(R),L(B))}),s.limit&&s.limit<1/0&&(h.length>s.limit?h.length=s.limit:l.length===s.limit&&h.length<s.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Cl(l,s){return nt(l.lower,s.lower)===0&&nt(l.upper,s.upper)===0&&!!l.lowerOpen==!!s.lowerOpen&&!!l.upperOpen==!!s.upperOpen}function gi(l,s){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=nt(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,s.lower,l.lowerOpen,s.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=nt(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,s.upper,l.upperOpen,s.upperOpen)}function Bo(l,s,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=s,setTimeout(function(){y.subscribers.size===0&&ge(b,y)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(l){var s=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,w,j=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,j.addEventListener("abort",(w=function(A){return function(){if(b.abort(),h==="readwrite"){for(var L=new Set,O=0,C=f;O<C.length;O++){var R=C[O],B=Fa["idb://".concat(s,"/").concat(R)];if(B){var D=l.table(R),T=B.optimisticOps.filter(function(Re){return Re.trans===j});if(j._explicit&&A&&j.mutatedParts)for(var Q=0,J=Object.values(B.queries.query);Q<J.length;Q++)for(var K=0,ne=(Ee=J[Q]).slice();K<ne.length;K++)Wr((de=ne[K]).obsSet,j.mutatedParts)&&(ge(Ee,de),de.subscribers.forEach(function(Re){return L.add(Re)}));else if(0<T.length){B.optimisticOps=B.optimisticOps.filter(function(Re){return Re.trans!==j});for(var ce=0,_e=Object.values(B.queries.query);ce<_e.length;ce++)for(var Ee,de,ze,De=0,he=(Ee=_e[ce]).slice();De<he.length;De++)(de=he[De]).res!=null&&j.mutatedParts&&(A&&!de.dirty?(ze=Object.isFrozen(de.res),ze=as(de.res,de.req,T,D,de,ze),de.dirty?(ge(Ee,de),de.subscribers.forEach(function(Re){return L.add(Re)})):ze!==de.res&&(de.res=ze,de.promise=Oe.resolve({result:ze}))):(de.dirty&&ge(Ee,de),de.subscribers.forEach(function(Re){return L.add(Re)})))}}}L.forEach(function(Re){return Re()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var w,j=Ce.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=Fa["idb://".concat(s,"/").concat(f)])?(j=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||er(y,b).some(function(A){return A==null}))?(w.optimisticOps.push(b),b.mutatedParts&&Wi(b.mutatedParts),j.then(function(A){0<A.numFailures&&(ge(w.optimisticOps,b),(A=ru(0,b,A))&&w.optimisticOps.push(A),b.mutatedParts)&&Wi(b.mutatedParts)}),j.catch(function(){ge(w.optimisticOps,b),b.mutatedParts&&Wi(b.mutatedParts)})):j.then(function(A){var L=ru(0,d(d({},b),{values:b.values.map(function(O,C){var R;return A.failures[C]?O:(xe(R=(R=y.keyPath)!=null&&R.includes(".")?at(O):d({},O),y.keyPath,A.results[C]),R)})}),A);w.optimisticOps.push(L),queueMicrotask(function(){return b.mutatedParts&&Wi(b.mutatedParts)})}),j):h.mutate(b)},query:function(b){var w,j,A,L,O,C,R;return Za(Ce,h)&&iu("query",b)?(w=((A=Ce.trans)==null?void 0:A.db._options.cache)==="immutable",j=(A=Ce).requery,A=A.signal,C=((B,D,T,Q)=>{var J=Fa["idb://".concat(B,"/").concat(D)];if(!J)return[];if(!(B=J.queries[T]))return[null,!1,J,null];var K=B[(Q.query?Q.query.index.name:null)||""];if(!K)return[null,!1,J,null];switch(T){case"query":var ne=K.find(function(ce){return ce.req.limit===Q.limit&&ce.req.values===Q.values&&Cl(ce.req.query.range,Q.query.range)});return ne?[ne,!0,J,K]:[K.find(function(ce){return("limit"in ce.req?ce.req.limit:1/0)>=Q.limit&&(!Q.values||ce.req.values)&&gi(ce.req.query.range,Q.query.range)}),!1,J,K];case"count":return ne=K.find(function(ce){return Cl(ce.req.query.range,Q.query.range)}),[ne,!!ne,J,K]}})(s,f,"query",b),R=C[0],L=C[2],O=C[3],R&&C[1]?R.obsSet=b.obsSet:(C=h.query(b).then(function(B){var D=B.result;if(R&&(R.res=D),w){for(var T=0,Q=D.length;T<Q;++T)Object.freeze(D[T]);Object.freeze(D)}else B.result=at(D);return B}).catch(function(B){return O&&R&&ge(O,R),Promise.reject(B)}),R={obsSet:b.obsSet,promise:C,subscribers:new Set,type:"query",req:b,dirty:!1},O?O.push(R):(O=[R],(L=L||(Fa["idb://".concat(s,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=O)),Bo(R,O,j,A),R.promise.then(function(B){return{result:as(B.result,b,L?.optimisticOps,h,R,w)}})):h.query(b)}})}})}};function bi(l,s){return new Proxy(l,{get:function(f,h,y){return h==="db"?s:Reflect.get(f,h,y)}})}Ht.prototype.version=function(l){if(isNaN(l)||l<.1)throw new U.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var s=this._versions,f=s.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),s.push(f),s.sort(Vr),f.stores({}),this._state.autoSchema=!1),f},Ht.prototype._whenReady=function(l){var s=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?l():new Oe(function(f,h){if(s._state.openComplete)return h(new U.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void h(new U.DatabaseClosed);s.open().catch(fe)}s._state.dbReadyPromise.then(f,h)}).then(l)},Ht.prototype.use=function(y){var s=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:s,name:y}),this._middlewares[s]||(this._middlewares[s]=[]));return b.push({stack:s,create:f,level:h??10,name:y}),b.sort(function(w,j){return w.level-j.level}),this},Ht.prototype.unuse=function(l){var s=l.stack,f=l.name,h=l.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Ht.prototype.open=function(){var l=this;return Ln(zt,function(){return zo(l)})},Ht.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,s=Ha.indexOf(this);if(0<=s&&Ha.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Oe(function(f){l.dbReadyResolve=f}),l.openCanceller=new Oe(function(f,h){l.cancelOpen=h}))},Ht.prototype.close=function(s){var s=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,f=this._state;s?(f.isBeingOpened&&f.cancelOpen(new U.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new U.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Ht.prototype.delete=function(l){var s=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Oe(function(y,b){function w(){s.close(l);var j=s._deps.indexedDB.deleteDatabase(s.name);j.onsuccess=Rt(function(){var A,L,O;A=s._deps,L=s.name,Ji(O=A.indexedDB)||L===ri||Zr(O,A.IDBKeyRange).delete(L).catch(fe),y()}),j.onerror=Yn(b),j.onblocked=s._fireOnBlocked}if(f)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},Ht.prototype.backendDB=function(){return this.idbdb},Ht.prototype.isOpen=function(){return this.idbdb!==null},Ht.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Ht.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ht.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ht.prototype,"tables",{get:function(){var l=this;return v(this._allTables).map(function(s){return l._allTables[s]})},enumerable:!1,configurable:!0}),Ht.prototype.transaction=function(){var l=(function(s,f,h){var y=arguments.length;if(y<2)throw new U.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[s,dt(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Ht.prototype._transaction=function(l,s,f){var h,y,b=this,w=Ce.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=s.map(function(L){if(L=L instanceof b.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),l=="r"||l===ha)h=ha;else{if(l!="rw"&&l!=_a)throw new U.InvalidArgument("Invalid transaction mode: "+l);h=_a}if(w){if(w.mode===ha&&h===_a){if(!j)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(L){if(w&&w.storeNames.indexOf(L)===-1){if(!j)throw new U.SubTransaction("Table "+L+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(L){return w?w._promise(null,function(O,C){C(L)}):Ct(L)}var A=(function L(O,C,R,B,D){return Oe.resolve().then(function(){var K=Ce.transless||Ce,T=O._createTransaction(C,R,O._dbSchema,B),K=(T.explicit=!0,{trans:T,transless:K});if(B)T.idbtrans=B.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(ne){return ne.name===Yt.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return L(O,C,R,null,D)})):Ct(ne)}var Q,J=G(D),K=(J&&Jt(),Oe.follow(function(){var ne;(Q=D.call(T,T))&&(J?(ne=Cn.bind(null,null),Q.then(ne,ne)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=yi(Q)))},K));return(Q&&typeof Q.then=="function"?Oe.resolve(Q).then(function(ne){return T.active?ne:Ct(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return Q})).then(function(ne){return B&&T._resolve(),T._completion.then(function(){return ne})}).catch(function(ne){return T._reject(ne),Ct(ne)})})}).bind(null,this,h,y,w,f);return w?w._promise(h,A,"lock"):Ce.trans?Ln(Ce.transless,function(){return b._whenReady(A)}):this._whenReady(A)},Ht.prototype.table=function(l){if(z(this._allTables,l))return this._allTables[l];throw new U.InvalidTable("Table ".concat(l," does not exist"))};var ea=Ht;function Ht(l,s){var f,h,y,b,w,j=this,A=(this._middlewares={},this.verno=0,Ht.dependencies),A=(this._options=s=d({addons:Ht.addons,autoOpen:!0,indexedDB:A.indexedDB,IDBKeyRange:A.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},s.addons),L=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fe,dbReadyPromise:null,cancelOpen:fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen}),O=(L.dbReadyPromise=new Oe(function(C){L.dbReadyResolve=C}),L.openCanceller=new Oe(function(C,R){L.cancelOpen=R}),this._state=L,this.name=l,this.on=oi(this,"populate","blocked","versionchange","close",{ready:[yt,fe]}),this.once=function(C,R){var B=function(){for(var D=[],T=0;T<arguments.length;T++)D[T]=arguments[T];j.on(C).unsubscribe(B),R.apply(j,D)};return j.on(C,B)},this.on.ready.subscribe=ve(this.on.ready.subscribe,function(C){return function(R,B){Ht.vip(function(){var D,T=j._state;T.openComplete?(T.dbOpenError||Oe.resolve().then(R),B&&C(R)):T.onReadyBeingFired?(T.onReadyBeingFired.push(R),B&&C(R)):(C(R),D=j,B||C(function Q(){D.on.ready.unsubscribe(R),D.on.ready.unsubscribe(Q)}))})}}),this.Collection=(f=this,cn(Do.prototype,function(Q,T){this.db=f;var B=Lr,D=null;if(T)try{B=T()}catch(K){D=K}var T=Q._ctx,Q=T.table,J=Q.hook.reading.fire;this._ctx={table:Q,index:T.index,isPrimKey:!T.index||Q.schema.primKey.keyPath&&T.index===Q.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:D,or:T.or,valueMapper:J!==Ve?J:null}})),this.Table=(h=this,cn(Kr.prototype,function(C,R,B){this.db=h,this._tx=B,this.name=C,this.schema=R,this.hook=h._allTables[C]?h._allTables[C].hook:oi(null,{creating:[Un,fe],reading:[it,Ve],updating:[pe,fe],deleting:[yl,fe]})})),this.Transaction=(y=this,cn(Gr.prototype,function(C,R,B,D,T){var Q=this;C!=="readonly"&&R.forEach(function(J){J=(J=B[J])==null?void 0:J.yProps,J&&(R=R.concat(J.map(function(K){return K.updatesTable})))}),this.db=y,this.mode=C,this.storeNames=R,this.schema=B,this.chromeTransactionDurability=D,this.idbtrans=null,this.on=oi(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(J,K){Q._resolve=J,Q._reject=K}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(J){var K=Q.active;return Q.active=!1,Q.on.error.fire(J),Q.parent?Q.parent._reject(J):K&&Q.idbtrans&&Q.idbtrans.abort(),Ct(J)})})),this.Version=(b=this,cn(Mo.prototype,function(C){this.db=b,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,cn(Ya.prototype,function(C,R,B){if(this.db=w,this._ctx={table:C,index:R===":id"?null:R,or:B},this._cmp=this._ascending=nt,this._descending=function(D,T){return nt(T,D)},this._max=function(D,T){return 0<nt(D,T)?D:T},this._min=function(D,T){return nt(D,T)<0?D:T},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=jl(s.IDBKeyRange),this._createTransaction=function(C,R,B,D){return new j.Transaction(C,R,B,j._options.chromeTransactionDurability,D)},this._fireOnBlocked=function(C){j.on("blocked").fire(C),Ha.filter(function(R){return R.name===j.name&&R!==j&&!R._state.vcFired}).map(function(R){return R.on("versionchange").fire(C)})},this.use(lu),this.use(nr),this.use(ko),this.use(Ro),this.use(au),new Proxy(this,{get:function(C,R,B){var D;return R==="_vip"||(R==="table"?function(T){return bi(j.table(T),O)}:(D=Reflect.get(C,R,B))instanceof Kr?bi(D,O):R==="tables"?D.map(function(T){return bi(T,O)}):R==="_createTransaction"?function(){return bi(D.apply(this,arguments),O)}:D)}}));this.vip=O,A.forEach(function(C){return C(j)})}var Al,Ja=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",su=(ar.prototype.subscribe=function(l,s,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:s,complete:f})},ar.prototype[Ja]=function(){return this},ar);function ar(l){this._subscribe=l}try{Al={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{Al={indexedDB:null,IDBKeyRange:null}}function uu(l){var s,f=!1,h=new su(function(y){var b=G(l),w,j=!1,A={},L={},O={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),C&&fn.storagemutated.unsubscribe(B))}},C=(y.start&&y.start(O),!1),R=function(){return Na(D)},B=function(T){Pi(A,T),Wr(L,A)&&R()},D=function(){var T,Q,J;!j&&Al.indexedDB&&(A={},T={},w&&w.abort(),w=new AbortController,J=(K=>{var ne=Sa();try{b&&Jt();var ce=qt(l,K);return ce=b?ce.finally(Cn):ce}finally{ne&&$n()}})(Q={subscr:T,signal:w.signal,requery:R,querier:l,trans:null}),Promise.resolve(J).then(function(K){f=!0,s=K,j||Q.signal.aborted||(A={},(ne=>{for(var ce in ne)if(z(ne,ce))return;return 1})(L=T)||C||(fn(Sl,B),C=!0),Na(function(){return!j&&y.next&&y.next(K)}))},function(K){f=!1,["DatabaseClosedError","AbortError"].includes(K?.name)||j||Na(function(){j||y.error&&y.error(K)})}))};return setTimeout(R,0),O});return h.hasValue=function(){return f},h.getValue=function(){return s},h}var $a=ea;function ls(l){var s=Oa;try{Oa=!0,fn.storagemutated.fire(l),ts(l,!0)}finally{Oa=s}}$($a,d(d({},se),{delete:function(l){return new $a(l,{addons:[]}).delete()},exists:function(l){return new $a(l,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return s=$a.dependencies,f=s.indexedDB,s=s.IDBKeyRange,(Ji(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ri})}):Zr(f,s).toCollection().primaryKeys()).then(l)}catch{return Ct(new U.MissingAPI)}var s,f},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Ce.trans?Ln(Ce.transless,l):l()},vip:Jr,async:function(l){return function(){try{var s=yi(l.apply(this,arguments));return s&&typeof s.then=="function"?s:Oe.resolve(s)}catch(f){return Ct(f)}}},spawn:function(l,s,f){try{var h=yi(l.apply(f,s||[]));return h&&typeof h.then=="function"?h:Oe.resolve(h)}catch(y){return Ct(y)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(l,s){return l=Oe.resolve(typeof l=="function"?$a.ignoreTransaction(l):l).timeout(s||6e4),Ce.trans?Ce.trans.waitFor(l):l},Promise:Oe,debug:{get:function(){return Bt},set:function(l){_n(l)}},derive:ie,extend:q,props:$,override:ve,Events:oi,on:fn,liveQuery:uu,extendObservabilitySet:Pi,getByKeyPath:be,setByKeyPath:xe,delByKeyPath:function(l,s){typeof s=="string"?xe(l,s,void 0):"length"in s&&[].map.call(s,function(f){xe(l,f,void 0)})},shallowClone:He,deepClone:at,getObjectDiff:Ii,cmp:nt,asap:we,minKey:-1/0,addons:[],connections:Ha,errnames:Yt,dependencies:Al,cache:Fa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,s,f){return l+s/Math.pow(10,2*f)})})),$a.maxKey=jl($a.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fn(Sl,function(l){Oa||(l=new CustomEvent(Xa,{detail:l}),Oa=!0,dispatchEvent(l),Oa=!1)}),addEventListener(Xa,function(l){l=l.detail,Oa||ls(l)}));var Ol,Oa=!1,Sn=function(){};return typeof BroadcastChannel<"u"&&((Sn=function(){(Ol=new BroadcastChannel(Xa)).onmessage=function(l){return l.data&&ls(l.data)}})(),typeof Ol.unref=="function"&&Ol.unref(),fn(Sl,function(l){Oa||Ol.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ea.disableBfCache&&l.persisted){Bt&&console.debug("Dexie: handling persisted pagehide"),Ol?.close();for(var s=0,f=Ha;s<f.length;s++)f[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ea.disableBfCache&&l.persisted&&(Bt&&console.debug("Dexie: handling persisted pageshow"),Sn(),ls({all:new dn(-1/0,[[]])}))})),Oe.rejectionMapper=function(l,s){return!l||l instanceof Me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ue[l.name]?l:(s=new ue[l.name](s||l.message,l),"stack"in l&&V(s,"stack",{get:function(){return this.inner.stack}}),s)},_n(Bt),d(ea,Object.freeze({__proto__:null,Dexie:ea,Entity:Js,PropModification:xl,RangeSet:dn,add:function(l){return new xl({add:l})},cmp:nt,default:ea,liveQuery:uu,mergeRanges:Va,rangesOverlap:eu,remove:function(l){return new xl({remove:l})},replacePrefix:function(l,s){return new xl({replacePrefix:[l,s]})}}),{default:ea}),ea})})(mo)),mo.exports}var yv=pv();const Rf=E0(yv),Np=Symbol.for("Dexie"),xo=globalThis[Np]||(globalThis[Np]=Rf);if(Rf.semVer!==xo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rf.semVer} and ${xo.semVer}`);const{liveQuery:bx,mergeRanges:vx,rangesOverlap:xx,RangeSet:Sx,cmp:wx,Entity:jx,PropModification:Nx,replacePrefix:_x,add:Ex,remove:Cx,DexieYProvider:Ax}=xo,Vf=new xo("WiseMarkDB");Vf.version(1).stores({pdfs:"hash, filename, size, blob"});async function kf(u){const o=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(o)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Ff(u,o,m,d){await Vf.pdfs.put({hash:u,filename:o,size:m,blob:d})}async function gv(u){const o=await Vf.pdfs.get(u);return o?{data:o.blob,filename:o.filename,size:o.size}:null}async function bv(u){if(!u?.pdf_hash)return null;try{const{data:o}=await un.getPdf(u.id),m=(o instanceof ArrayBuffer,o),d=u.file_size??m?.byteLength??0;return await Ff(u.pdf_hash,u.filename||"",d,m),{data:m,filename:u.filename||"",size:d}}catch{const o=await gv(u.pdf_hash);return o||null}}const oa=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function _p(u){if(!u)return null;const o=new Date(u);return Number.isNaN(o.getTime())?null:o.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function vv(u){if(!u)return null;const o=new Date(u);if(Number.isNaN(o.getTime()))return null;const d=new Date-o,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:S<24?`${S}h ago`:v===1?"Yesterday":v<7?`${v}d ago`:o.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function xv({doc:u,lensMap:o,projectColor:m,hovered:d,onHover:g,onLeave:S,onOpen:v,onRename:N,onDelete:q}){const E=o[u.highlight_preset]??o._default,M=E?.colors?.[0]?.hex??"#94a3b8",z=u.color&&oa.includes(u.color)?u.color:m,$=u.annotation_count??0;return c.jsxs("div",{onMouseEnter:()=>g(u.id),onMouseLeave:S,onClick:()=>v(u.id),role:"button",tabIndex:0,onKeyDown:ye=>ye.key==="Enter"&&v(u.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${z}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:u.filename?.replace(/\.pdf$/i,"")}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[E&&c.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:M,background:`${M}14`},children:E.name}),_p(u.created_at)&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-slate-200",children:""}),c.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:_p(u.created_at)})]}),u.last_opened_at&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-slate-200",children:""}),c.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",vv(u.last_opened_at)]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:$>0?c.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[$," note",$!==1?"s":""]}):c.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),c.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[c.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),N(u)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:c.jsx(Co,{className:"w-3.5 h-3.5"})}),c.jsx("button",{type:"button",onClick:ye=>{ye.stopPropagation(),q(u)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:c.jsx(Br,{className:"w-3.5 h-3.5"})})]}),c.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Sv(){const{projectId:u}=Uf(),o=Bi(),m=Rr(),[d,g]=X.useState(!1),[S,v]=X.useState(""),[N,q]=X.useState(null),[E,M]=X.useState(""),[z,$]=X.useState(!1),[ye,V]=X.useState(""),[ie,P]=X.useState(null),[Ae,oe]=X.useState(""),[ve,te]=X.useState(null),[we,be]=X.useState(oa[0]),xe=X.useRef(null),He=X.useRef(null),Ze=X.useRef(null),[dt,Pe]=X.useState(0),[Ye,at]=X.useState(null),[Se,Ue]=X.useState("recent"),[Y,me]=X.useState(!1),[ge,je]=X.useState(null),[ke,G]=X.useState(!1),{data:se,isLoading:Ne}=Jn({queryKey:["project",u],queryFn:async()=>(await Ls.get(u)).data,enabled:!!u}),{data:Me,isLoading:Le}=Jn({queryKey:["documents",u],queryFn:async()=>(await un.list({project:u})).data,enabled:!!u}),lt=Array.isArray(Me)?Me:Me?.results??[],{data:pt=[]}=Jn({queryKey:["lenses"],queryFn:async()=>(await ca.list()).data}),Yt=X.useMemo(()=>{const Te={};pt.forEach(xt=>{Te[xt.id]=xt});const Xe=pt.find(xt=>xt.is_system)??pt[0];return Xe&&(Te._default=Xe),Te},[pt]),Gt=X.useMemo(()=>{const Te=[...lt];return Se==="recent"?Te.sort((Xe,xt)=>{const Mt=Xe.last_opened_at||Xe.updated_at||Xe.created_at||"";return(xt.last_opened_at||xt.updated_at||xt.created_at||"").localeCompare(Mt)}):Se==="uploaded"?Te.sort((Xe,xt)=>(xt.created_at||"").localeCompare(Xe.created_at||"")):Se==="name"?Te.sort((Xe,xt)=>(Xe.filename||"").localeCompare(xt.filename||"")):Se==="annotations"&&Te.sort((Xe,xt)=>(xt.annotation_count??0)-(Xe.annotation_count??0)),Te},[lt,Se]),U=lt.reduce((Te,Xe)=>Te+(Xe.annotation_count??0),0),ue=jn({mutationFn:({id:Te,name:Xe})=>Ls.update(Te,{name:Xe}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",u]}),m.invalidateQueries({queryKey:["projects"]}),$(!1)}}),fe=jn({mutationFn:({id:Te,filename:Xe})=>un.update(Te,{filename:Xe}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),q(null),M("")}}),Ve=jn({mutationFn:Te=>un.delete(Te),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",u]}),je(null)}}),it=jn({mutationFn:Te=>Ls.delete(Te),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),o("/app",{replace:!0})}}),ot=async Te=>{const Xe=Te.target.files?.[0];if(!Xe||!Xe.type.includes("pdf"))return;v(""),P(Xe);const xt=Xe.name.replace(/\.pdf$/i,"")||Xe.name;oe(xt),be(oa[lt.length%oa.length]),te(null),xe.current=null;try{const Mt=await Xe.arrayBuffer(),jt=await kf(Mt),zt={arrayBuffer:Mt,hash:jt,size:Xe.size};te(zt),xe.current={...zt,suggestedName:xt}}catch(Mt){v(Mt.message||"Could not read file"),P(null),oe("")}},Un=async Te=>{Te.preventDefault(),me(!1);const Xe=Te.dataTransfer?.files?.[0];if(!Xe||!Xe.type.includes("pdf"))return;v(""),P(Xe);const xt=Xe.name.replace(/\.pdf$/i,"")||Xe.name;oe(xt),be(oa[lt.length%oa.length]),te(null),xe.current=null;try{const Mt=await Xe.arrayBuffer(),jt=await kf(Mt),zt={arrayBuffer:Mt,hash:jt,size:Xe.size};te(zt),xe.current={...zt,suggestedName:xt}}catch(Mt){v(Mt.message||"Could not read file"),P(null),oe("")}},yl=()=>{P(null),oe(""),te(null),be(oa[0]),v(""),xe.current=null,Pe(Te=>Te+1)},pe=()=>Ze.current?.click(),Ie=async Te=>{Te.preventDefault();const Xe=u,Mt=He.current?.value?.trim()||Ae?.trim()||xe.current?.suggestedName?.trim()||"",jt=xe.current||ve;if(!Xe){v("Project not found.");return}if(!Mt){v("Please enter a name for the PDF.");return}if(!jt||!jt.hash||!jt.arrayBuffer){v("File data missing. Please close and select the file again.");return}const zt=Mt.toLowerCase().endsWith(".pdf")?Mt:`${Mt}.pdf`;v(""),g(!0);try{const Ce=new FormData;Ce.append("project",String(Xe)),Ce.append("filename",zt),Ce.append("color",we),Ce.append("file",new Blob([jt.arrayBuffer]),zt),await un.createWithFile(Ce),await Ff(jt.hash,zt,jt.size,jt.arrayBuffer),m.invalidateQueries({queryKey:["documents",Xe]}),P(null),oe(""),te(null),xe.current=null,Pe(fa=>fa+1)}catch(Ce){const fa=Ce.response?.data?.detail||typeof Ce.response?.data=="object"&&Object.values(Ce.response?.data||{}).flat().join(" ")||Ce.message||"Upload failed";v(String(fa))}finally{g(!1)}},yt=Te=>{q(Te.id),M(Te.filename||"")},Bt=()=>{if(N==null||!E.trim()){q(null);return}fe.mutate({id:N,filename:E.trim()})},_n=()=>{q(null),M("")},En=()=>{V(se?.name??""),$(!0)},rn=()=>{const Te=ye.trim();if(!Te||Te===se?.name){$(!1);return}ue.mutate({id:u,name:Te})},va=()=>{$(!1),V("")},on=pl(Te=>Te.logout),{data:Hn}=Jn({queryKey:["me"],queryFn:async()=>(await Mr.me()).data}),xa=(Hn?.email?.[0]||Hn?.username?.[0]||"?").toUpperCase(),Ba=se?.color&&oa.includes(se.color)?se.color:se?oa[se.id%oa.length]:oa[0];return Ne||!se?c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx(ka,{className:"w-8 h-8 animate-spin text-slate-400"})}):c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>o("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{on(),o("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:xa})]})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsx("div",{className:"flex items-center gap-2 min-w-0",children:z?c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"text",value:ye,onChange:Te=>V(Te.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:Te=>{Te.key==="Enter"&&rn(),Te.key==="Escape"&&va()}}),c.jsx("button",{type:"button",onClick:rn,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:c.jsx(bo,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",onClick:va,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:c.jsx(ki,{className:"w-5 h-5"})})]}):c.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:se.name})}),!z&&c.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[c.jsx("button",{type:"button",onClick:En,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:c.jsx(Co,{className:"w-3.5 h-3.5"})}),c.jsx("button",{type:"button",onClick:()=>G(!0),disabled:it.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:c.jsx(Br,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-[12.5px] text-slate-400 mb-6",children:[c.jsxs("span",{children:[lt.length," document",lt.length!==1?"s":""]}),c.jsx("span",{className:"text-slate-200",children:""}),c.jsxs("span",{children:[U," annotation",U!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("select",{value:Se,onChange:Te=>Ue(Te.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("option",{value:"recent",children:"Recently opened"}),c.jsx("option",{value:"uploaded",children:"Date uploaded"}),c.jsx("option",{value:"name",children:"Name AZ"}),c.jsx("option",{value:"annotations",children:"Most annotated"})]}),c.jsxs("button",{type:"button",onClick:pe,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[c.jsx(vo,{className:"w-4 h-4"}),"Add PDF"]})]}),c.jsx("input",{ref:Ze,type:"file",accept:".pdf",onChange:ot,className:"hidden","aria-hidden":"true",tabIndex:-1},dt),S&&c.jsx("p",{className:"text-sm text-red-600 mb-4",children:S}),d&&c.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[c.jsx(ka,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Le?c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[c.jsx(ka,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):lt.length===0?c.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[c.jsx(Xf,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),c.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):c.jsx("div",{className:"flex flex-col gap-1.5",children:Gt.map(Te=>N===Te.id?c.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[c.jsx("input",{type:"text",value:E,onChange:Xe=>M(Xe.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Xe=>{Xe.key==="Enter"&&Bt(),Xe.key==="Escape"&&_n()}}),c.jsx("button",{type:"button",onClick:Bt,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:c.jsx(bo,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:_n,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:c.jsx(ki,{className:"w-4 h-4"})})]},Te.id):c.jsx(xv,{doc:Te,lensMap:Yt,projectColor:Ba,hovered:Ye===Te.id,onHover:at,onLeave:()=>at(null),onOpen:Xe=>o(`/document/${Xe}`),onRename:yt,onDelete:Xe=>je(Xe)},Te.id))}),lt.length>0&&c.jsxs("div",{onDragOver:Te=>{Te.preventDefault(),me(!0)},onDragLeave:()=>me(!1),onDrop:Un,onClick:pe,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${Y?"#2563eb":"#e2e8f0"}`,background:Y?"#eff6ff":"transparent"},children:[c.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:Y?"#dbeafe":"#f1f5f9"},children:c.jsx(vo,{className:"w-4 h-4 text-slate-400"})}),c.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:Y?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),ie&&c.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:yl,children:c.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:Te=>Te.stopPropagation(),children:[c.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),ve?c.jsxs("div",{className:"space-y-4",children:[S&&c.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:S}),c.jsx("input",{ref:He,type:"text",value:Ae,onChange:Te=>oe(Te.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),c.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),c.jsx("div",{className:"flex gap-2",children:oa.map(Te=>c.jsx("button",{type:"button",onClick:()=>be(Te),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:Te,borderColor:we===Te?"#1e293b":"transparent",outline:we===Te?"2px solid #fff":"none",outlineOffset:-4}},Te))}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:yl,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:Ie,disabled:d||!Ae.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(ka,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[c.jsx(ka,{className:"w-5 h-5 animate-spin shrink-0"}),c.jsx("span",{children:"Reading file"})]})]})}),ge&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ve.isPending&&je(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Te=>Te.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",c.jsx("strong",{children:ge.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>je(null),disabled:Ve.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>Ve.mutate(ge.id),disabled:Ve.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Ve.isPending?"Deleting":"Delete"})]})]})}),ke&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!it.isPending&&G(!1),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Te=>Te.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",c.jsx("strong",{children:se.name})," and all its documents. This cannot be undone."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>G(!1),disabled:it.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>it.mutate(u),disabled:it.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:it.isPending?"Deleting":"Delete project"})]})]})})]})}const ml={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Zf=Object.keys(ml);function zr(u,o=1){if(!u||!u.startsWith("#"))return`rgba(148,163,184,${o})`;const m=parseInt(u.slice(1),16),d=m>>16&255,g=m>>8&255,S=m&255;return`rgba(${d},${g},${S},${o})`}function ei(u,o={},m){if(o&&typeof o[u]=="string"&&o[u].trim())return o[u].trim();if(m?.length){const d=m.find(g=>g.key===u);if(d?.display_name)return d.display_name}return ml[u]&&ml[u].name||u}D0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const wv=()=>typeof window<"u"&&window.devicePixelRatio||1;function jv(u,o){const m=Math.sqrt(o[2]*o[2]+o[3]*o[3]),d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),g=m,S=g,v=typeof u.width=="number"&&u.width>0?u.width*d:(u.str?.length||1)*S*.5,N=o[4],q=o[5]-g*.85;return{x:N,y:q,w:v,h:S}}function Nv(u,o,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),S=[];let v=0,N=-999;const q=4;let E=0;return u.items.forEach(M=>{if(!M.str||M.str.trim()==="")return;const z=M0.transform(o.transform,M.transform),$=jv(M,z);Math.abs($.y-N)>q&&(v+=1,N=$.y);const ye=$.h,V=typeof M.width=="number"&&M.width>0?M.width*m:$.w,ie=M.str.split(/(\s+)/);if(!g||ie.length===0){S.push({id:E++,text:M.str,x:$.x,y:$.y,w:$.w,h:$.h,fontSize:$.h,lineIndex:v});return}g.font=`${ye}px sans-serif`;const P=ie.map(te=>({text:te,measured:g.measureText(te).width,isSpace:/^\s+$/.test(te)||te===""})),Ae=P.reduce((te,we)=>te+we.measured,0),oe=Ae>0?V/Ae:1;let ve=0;P.forEach(te=>{const we=te.measured*oe;if(te.text===""||te.isSpace){ve+=we;return}S.push({id:E,text:te.text,x:$.x+ve,y:$.y,w:we,h:ye,fontSize:ye,lineIndex:v}),E+=1,ve+=we})}),S}function ay(u){const o={};return u.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;o[d]||(o[d]=[]),o[d].push(m)}),Object.values(o)}function Ep(u,o,m){let S=null,v=1/0;for(const N of u){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(o>=N.x-4&&o<=N.x+N.w+4)return N;const M=o<N.x?N.x-o:o-(N.x+N.w);M<v&&M<40&&(v=M,S=N)}return S}function _v(u){if(!u.length)return"";let o="";for(let m=0;m<u.length;m++){const d=u[m];if(m>0){const g=u[m-1],S=(d.lineIndex??0)===(g.lineIndex??0),v=d.y-g.y,N=Math.max(8,(g.h+d.h)/2),q=!S&&v>=N*2;S?d.x-(g.x+g.w)>1&&(o+=" "):q?o+=`

`:o+=`
`}o+=d.text}return o.trim()}function Ev(u,o){return u.length?ay(u).map(d=>{const g=Math.min(...d.map(z=>z.x)),S=Math.max(...d.map(z=>z.x+z.w)),v=d.map(z=>z.y),N=v.sort((z,$)=>z-$)[Math.floor(v.length/2)],q=Math.max(...d.map(z=>z.h)),E=2;return{x:(g-1)/o,y:(N-E)/o,width:(S-g+2)/o,height:(q+E+3)/o}}):[]}function Cv({pdfData:u,scale:o,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:S=null,lensColors:v=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:E,onHighlightHoverEnd:M,onHighlightEdit:z,onHighlightDelete:$}){const[ye,V]=X.useState(null),[ie,P]=X.useState(0),[Ae,oe]=X.useState(!0);return X.useEffect(()=>{if(!u)return;let ve=!1;return(async()=>{oe(!0);try{const we=u.slice(0),be=await T0({data:we}).promise;ve||(V(be),P(be.numPages),q?.(be.numPages))}catch(we){console.error("Failed to load PDF",we)}ve||oe(!1)})(),()=>{ve=!0}},[u,q]),Ae?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(ka,{className:"w-6 h-6 text-slate-400 animate-spin"})}):ye?c.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:ie},(ve,te)=>c.jsx(Av,{pdf:ye,pageNumber:te+1,scale:o,pageHighlights:m.filter(we=>we.page_number===te+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:S,lensColors:v,onSelectionComplete:N,onHighlightHover:E,onHighlightHoverEnd:M,onHighlightEdit:z,onHighlightDelete:$},te))}):null}function Av({pdf:u,pageNumber:o,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:S,selectionForPicker:v,lensColors:N=[],onSelectionComplete:q,onHighlightHover:E,onHighlightHoverEnd:M,onHighlightEdit:z,onHighlightDelete:$}){const ye=X.useRef(null),V=X.useRef(null),ie=X.useRef(null),P=X.useRef(null),[Ae,oe]=X.useState({width:0,height:0}),[ve,te]=X.useState([]),[we,be]=X.useState(null),[xe,He]=X.useState(null),[Ze,dt]=X.useState(!1),Pe=X.useRef(null),Ye=X.useRef(null),at=X.useCallback(()=>{Ye.current&&clearTimeout(Ye.current),Ye.current=setTimeout(()=>{M?.(),Ye.current=null},1e3)},[M]),Se=X.useCallback(G=>{Ye.current&&(clearTimeout(Ye.current),Ye.current=null),E?.(G)},[E]);X.useEffect(()=>()=>{Ye.current&&clearTimeout(Ye.current)},[]),X.useEffect(()=>{let G=!1;return(async()=>{const Ne=await u.getPage(o),Me=wv(),Le=Ne.getViewport({scale:m}),lt=Ne.getViewport({scale:m*Me}),pt=V.current;if(!pt||G)return;const Yt=pt.getContext("2d",{alpha:!1});Yt.imageSmoothingEnabled=!0,Yt.imageSmoothingQuality="high",pt.width=lt.width,pt.height=lt.height,pt.style.width=`${Le.width}px`,pt.style.height=`${Le.height}px`,oe({width:Le.width,height:Le.height}),await Ne.render({canvasContext:Yt,viewport:lt}).promise;const Gt=await Ne.getTextContent();if(G)return;const U=Nv(Gt,Le,m);te(U);const ue=ie.current;!ue||G||(ue.innerHTML="",ue.style.width=`${Le.width}px`,ue.style.height=`${Le.height}px`,U.forEach(fe=>{const Ve=document.createElement("span");Ve.textContent=fe.text,Ve.style.position="absolute",Ve.style.left=`${fe.x}px`,Ve.style.top=`${fe.y}px`,Ve.style.width=`${fe.w}px`,Ve.style.height=`${fe.h}px`,Ve.style.fontSize=`${fe.fontSize}px`,Ve.style.fontFamily="sans-serif",Ve.style.color="transparent",Ve.style.whiteSpace="pre",Ve.style.pointerEvents="none",Ve.style.lineHeight="1",ue.appendChild(Ve)}))})(),()=>{G=!0}},[u,o,m]);const Ue=X.useMemo(()=>{if(v&&v.pageNumber===o){const Ne=Math.min(v.spanStart,v.spanEnd),Me=Math.max(v.spanStart,v.spanEnd);return ve.filter(Le=>Le.id>=Ne&&Le.id<=Me)}if(we==null||xe==null)return[];const G=Math.min(we,xe),se=Math.max(we,xe);return ve.filter(Ne=>Ne.id>=G&&Ne.id<=se)},[ve,v,o,we,xe]);X.useEffect(()=>{v===null&&Pe.current?.pageNumber===o&&(be(null),He(null)),Pe.current=v},[v,o]);const Y=X.useCallback((G,se)=>{const Ne=ye.current?.getBoundingClientRect();return Ne?{x:G-Ne.left,y:se-Ne.top}:{x:0,y:0}},[]),me=X.useCallback(G=>{if(G.button!==0||!ve.length)return;const{x:se,y:Ne}=Y(G.clientX,G.clientY),Me=Ep(ve,se,Ne);Me?(be(Me.id),He(Me.id),dt(!0)):(be(null),He(null))},[ve,Y]),ge=X.useCallback(G=>{if(!Ze)return;const{x:se,y:Ne}=Y(G.clientX,G.clientY),Me=Ep(ve,se,Ne);Me&&He(Me.id)},[Ze,ve,Y]),je=X.useCallback(G=>{if(G.button!==0||!Ze)return;if(dt(!1),Ue.length<2){be(null),He(null);return}if(!q)return;const se=ye.current?.getBoundingClientRect();if(!se)return;const Ne={rects:Ev(Ue,m)},Me=_v(Ue),Le=Ue[Ue.length-1],lt={x:se.left+(Le.x+Le.w/2),y:se.top+(Le.y-8)};q({pageNumber:o,position_data:Ne,highlighted_text:Me,spanStart:Math.min(we,xe),spanEnd:Math.max(we,xe),pickerPosition:lt})},[Ze,Ue,we,xe,m,o,q]);X.useEffect(()=>{const G=P.current||ye.current;if(G)return G.addEventListener("mousedown",me),G.addEventListener("mousemove",ge),G.addEventListener("mouseup",je),G.addEventListener("mouseleave",je),()=>{G.removeEventListener("mousedown",me),G.removeEventListener("mousemove",ge),G.removeEventListener("mouseup",je),G.removeEventListener("mouseleave",je)}},[me,ge,je]);const ke=X.useMemo(()=>ay(Ue),[Ue]);return c.jsxs("div",{ref:ye,"data-page":o,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ae.width||0,height:Ae.height||0,cursor:"text"},title:"Drag to highlight text",children:[c.jsx("canvas",{ref:V,className:"block w-full h-full",style:{display:"block"}}),c.jsxs("div",{ref:P,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(G=>{const se=G.position_data?.rects||[],Ne=(N??[]).find(ue=>ue.key===G.color),Me=ml[G.color]||ml.yellow,Le=Ne?.hex??Me?.hex??Me?.solid,lt=g!=null&&String(G.id)===String(g),pt=S!=null&&String(G.id)===String(S),Yt=lt||pt?zr(Le,.38):zr(Le,.18),Gt=z||$;let U=null;if(se.length>0){const ue=Math.min(...se.map(ot=>ot.x))*m,fe=Math.min(...se.map(ot=>ot.y))*m,Ve=Math.max(...se.map(ot=>(ot.x||0)+(ot.width||0)))*m,it=Math.max(...se.map(ot=>(ot.y||0)+(ot.height||4)))*m;U={left:ue,top:fe,width:Ve-ue,height:it-fe}}return U?c.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:U.left,top:U.top,width:U.width,height:U.height,pointerEvents:"auto"},onMouseEnter:()=>Se(G.id),onMouseLeave:at,children:[se.map((ue,fe)=>c.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(ue.x||0)*m-U.left,top:(ue.y||0)*m-U.top,width:Math.max(0,(ue.width||0)*m),height:Math.max(4,(ue.height||0)*m),backgroundColor:Yt,pointerEvents:"none"}},fe)),Gt&&lt&&U&&c.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Se(G.id),onMouseLeave:at,children:[z&&c.jsx("button",{type:"button",onClick:ue=>{ue.stopPropagation(),z(G.id,ue)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:c.jsx(Co,{className:"w-3.5 h-3.5",strokeWidth:2})}),$&&c.jsx("button",{type:"button",onClick:ue=>{ue.stopPropagation(),$(G.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:c.jsx(Br,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},G.id):null}),ke.map((G,se)=>{const Ne=Math.min(...G.map(U=>U.x)),Me=Math.max(...G.map(U=>U.x+U.w)),Le=G.map(U=>U.y).sort((U,ue)=>U-ue),lt=Le[Math.floor(Le.length/2)],pt=Math.max(...G.map(U=>U.h)),Yt=2;return c.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${Ne-1}px`,top:`${lt-Yt}px`,width:`${Me-Ne+2}px`,height:`${pt+Yt+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},se)})]}),c.jsx("div",{ref:ie,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Ov({highlights:u,colorLabels:o,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:S,onHighlightClick:v,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:E,documentId:M,onHighlightNoteUpdate:z,onHighlightDelete:$,openEditForHighlightId:ye,onClearOpenEditForHighlightId:V}){const ie=m?.length>0?m.map(Se=>Se.key):d?.length>0?d:Zf,[P,Ae]=X.useState("all"),[oe,ve]=X.useState(!1),[te,we]=X.useState(""),[be,xe]=X.useState(null),[He,Ze]=X.useState("");X.useEffect(()=>{if(ye==null||!u?.length)return;const Se=u.find(Ue=>String(Ue.id)===String(ye));Se&&(xe(Se.id),Ze(Se.note?.content??"")),V?.()},[ye,u,V]);const dt=X.useMemo(()=>{let Se=u||[];if(P!=="all"&&(Se=Se.filter(Ue=>Ue.color===P)),te.trim()){const Ue=te.trim().toLowerCase();Se=Se.filter(Y=>Y.highlighted_text&&Y.highlighted_text.toLowerCase().includes(Ue)||Y.note?.content&&Y.note.content.toLowerCase().includes(Ue))}return Se},[u,P,te]),Pe=Se=>{xe(Se.id),Ze(Se.note?.content??"")},Ye=async()=>{if(be==null||!M||!z){xe(null);return}await z(be,He.trim()||""),xe(null)},at=()=>{xe(null),Ze("")};return c.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${Il.default} ${zi.surface}`,children:[c.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${Il.default}`,children:[c.jsx("h2",{className:`text-[15px] font-semibold ${tt.heading} mb-1`,children:"Annotations"}),c.jsxs("p",{className:`text-xs ${tt.muted} mb-4`,children:[dt.length," highlight",dt.length!==1?"s":"",u?.length!==dt.length&&` of ${u?.length||0}`]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsx("div",{children:c.jsx("button",{type:"button",onClick:()=>{Ae("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${P==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${tt.secondary} hover:bg-slate-50`}`,children:"All"})}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>ve(Se=>!Se),className:`flex items-center gap-1.5 text-[11px] font-semibold ${tt.secondary} hover:text-slate-800 transition-colors`,children:[oe?c.jsx(Ys,{className:"w-3.5 h-3.5 shrink-0"}):c.jsx(Rb,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!oe&&c.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:ie.map(Se=>{const Ue=(u||[]).filter(G=>G.color===Se).length,Y=ml[Se],ge=m?.find(G=>G.key===Se)?.hex??Y?.hex??Y?.solid??"#94a3b8",je=ei(Se,o,m),ke=P===Se;return c.jsxs("button",{type:"button",onClick:()=>{Ae(ke?"all":Se),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${ke?"border-transparent":`border-slate-200 ${tt.secondary} hover:bg-slate-50`}`,style:ke?{backgroundColor:`${ge}25`,color:ge}:void 0,children:[c.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ge,opacity:1}}),c.jsx("span",{children:je}),c.jsxs("span",{className:ke?"opacity-80":tt.muted,children:["(",Ue,")"]})]},Se)})})]})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsx(ty,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),c.jsx("input",{type:"text",placeholder:"Search highlights...",value:te,onChange:Se=>we(Se.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${Il.default} rounded-lg bg-slate-50 outline-none ${tt.body} placeholder:${tt.muted}`})]})]}),c.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:u?.length?dt.length?c.jsx("ul",{className:"space-y-1.5",children:dt.map(Se=>{const Ue=ml[Se.color]||ml.yellow,me=m?.find(ke=>ke.key===Se.color)?.hex??Ue?.hex??Ue?.solid??"#94a3b8",ge=Se.note?.content,je=g!=null&&String(Se.id)===String(g);return c.jsx("li",{children:c.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${je?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{v?.(Se.id),S?.(Se.page_number)},onKeyDown:ke=>{ke.target.tagName==="TEXTAREA"||ke.target.tagName==="INPUT"||ke.target.isContentEditable||(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),v?.(Se.id),S?.(Se.page_number))},onMouseEnter:()=>N?.(Se.id),onMouseLeave:q,children:[c.jsxs("div",{className:"flex gap-2.5",children:[c.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:me,opacity:je?1:.6}}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:`text-xs leading-snug ${tt.body} whitespace-pre-wrap`,children:Se.highlighted_text||"(No text captured)"})})]}),be===Se.id?c.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[c.jsx("textarea",{value:He,onChange:ke=>Ze(ke.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${Il.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${tt.body}`}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{type:"button",onClick:Ye,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),c.jsx("button",{type:"button",onClick:at,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):c.jsxs(c.Fragment,{children:[ge&&c.jsx("p",{className:`text-[11.5px] ${tt.muted} mt-2 pl-3.5 leading-snug italic`,children:ge}),M&&z&&c.jsx("button",{type:"button",onClick:()=>Pe(Se),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:ge?"Edit comment":"Add comment"})]}),c.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:me,backgroundColor:`${me}12`},children:ei(Se.color,o,m)}),c.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Se.page_number]}),M&&$&&c.jsx("button",{type:"button",onClick:ke=>{ke.stopPropagation(),$(Se.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:c.jsx(Br,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Se.id)})}):c.jsx("div",{className:`py-6 text-center ${tt.muted} text-sm`,children:"No matching highlights."}):c.jsxs("div",{className:`py-8 text-center ${tt.muted} text-sm`,children:[c.jsx(Xf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No highlights yet."}),c.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Bf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Dv(u,o){return u?.length?[...u].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):o?.length>0?o.map(m=>Bf.find(d=>d.colorKey===m)).filter(Boolean):Bf}function Tv({position:u,onSelect:o,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:S=[]}){const v=X.useRef(null),N=X.useRef(null),[q,E]=X.useState(null),[M,z]=X.useState(""),[$,ye]=X.useState(!1),[V,ie]=X.useState(!1),P=X.useMemo(()=>Dv(S,g),[S,g]),Ae=P.length>0?P:Bf,oe=X.useCallback(be=>ei(be,d,S),[d,S]);X.useEffect(()=>{$&&N.current&&N.current.focus()},[$]);const ve=X.useCallback(be=>{E(be.colorKey),$||(o(be.colorKey,""),m())},[$,o,m]),te=X.useCallback(()=>{q&&(o(q,M.trim()||void 0),m())},[q,M,o,m]);if(X.useEffect(()=>{const be=xe=>{if(xe.key==="Escape"){m();return}if(!$){const He=parseInt(xe.key,10);if(He>=1&&He<=Ae.length){const Ze=Ae[He-1];Ze&&ve(Ze)}}$&&xe.key==="Enter"&&(xe.metaKey||xe.ctrlKey)&&(xe.preventDefault(),te())};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[$,q,M,m,ve,te,Ae]),X.useEffect(()=>{const be=xe=>{v.current&&!v.current.contains(xe.target)&&m()};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[m]),X.useEffect(()=>{z(""),E(null),ye(!1),ie(!1)},[u]),!u)return null;const we=q?Ae.find(be=>be.colorKey===q):null;return c.jsx("div",{ref:v,className:"fixed z-1000",style:{left:u.x,top:u.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:V?c.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[c.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:we?.color??"#64748b"},children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:c.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):c.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:$?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[c.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ae.map((be,xe)=>c.jsx("button",{type:"button",onClick:()=>ve(be),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===be.colorKey?`${be.color}25`:"transparent"},children:c.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:be.color,boxShadow:q===be.colorKey?`0 0 0 2px ${be.color}80`:"none",transform:q===be.colorKey?"scale(1.15)":"scale(1)"}})},be.colorKey)),c.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),c.jsx("button",{type:"button",onClick:()=>ye(!$),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${$?"bg-slate-100":"hover:bg-slate-100"}`,children:c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[c.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M5.5 6H10.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),c.jsx("path",{d:"M5.5 8.5H8.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),c.jsx("path",{d:"M10 13.5V10H13.5",stroke:$?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),c.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:c.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),$&&c.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!we&&c.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),we&&c.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[c.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:we.color}}),c.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:oe(we.colorKey)})]}),c.jsx("textarea",{ref:N,value:M,onChange:be=>z(be.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),c.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:c.jsx("button",{type:"button",onClick:te,disabled:!we,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Mv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Cp=5;function zv({lens:u,documentId:o,onClose:m}){const d=Rr(),g=u?.colors??[],S=!u||u.is_system,[v,N]=X.useState(null),[q,E]=X.useState(""),M=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",o]})},z=jn({mutationFn:oe=>ca.addColor(u.id,oe),onSuccess:()=>{M(),N(null),E("")}}),$=jn({mutationFn:oe=>ca.removeColor(u.id,oe),onSuccess:M}),ye=jn({mutationFn:({colorId:oe,data:ve})=>ca.updateColor(u.id,oe,ve),onSuccess:M}),V=new Set(g.map(oe=>oe.hex.toLowerCase())),ie=Mv.filter(oe=>!V.has(oe.toLowerCase())),P=()=>{!v||!q.trim()||z.mutate({key:`custom_${Date.now()}`,display_name:q.trim(),hex:v})},Ae=c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:c.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${zi.surface} rounded-xl shadow-xl border ${Il.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:oe=>oe.stopPropagation(),onMouseDown:oe=>oe.stopPropagation(),children:[c.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[c.jsx("h3",{className:`text-base font-semibold ${tt.heading}`,children:"Edit lens"}),u&&c.jsx("p",{className:`text-xs ${tt.muted} mt-0.5`,children:u.name})]}),c.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:S?c.jsx("p",{className:`text-sm ${tt.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsxs("p",{className:`text-xs ${tt.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Cp,")"]}),c.jsx("div",{className:"space-y-2",children:g.map(oe=>c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:oe.hex}}),c.jsx("input",{type:"text",defaultValue:oe.display_name,placeholder:"Label",onBlur:ve=>{const te=ve.target.value.trim();te&&te!==oe.display_name&&ye.mutate({colorId:oe.id,data:{display_name:te}})},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${tt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&c.jsx("button",{type:"button",onClick:()=>$.mutate(oe.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:$.isPending,children:c.jsx(ki,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},oe.id))}),c.jsx("p",{className:`text-xs ${tt.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Cp&&ie.length>0&&c.jsx("div",{className:"pt-3 border-t border-slate-100",children:v?c.jsxs("div",{className:"space-y-2.5",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:v}}),c.jsx("input",{type:"text",value:q,onChange:oe=>E(oe.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:oe=>{oe.key==="Enter"&&P()},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${tt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{N(null),E("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:P,disabled:!q.trim()||z.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:z.isPending?"Adding":"Add"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:`text-xs ${tt.muted} mb-2`,children:"Add a colour"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(oe=>c.jsx("button",{type:"button",onClick:()=>{N(oe),E("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:oe}},oe))})]})})]})}),c.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:c.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?Ae:C0.createPortal(Ae,document.body)}function Rv({position:u,initialValue:o="",onSave:m,onClose:d}){const[g,S]=X.useState(o),v=X.useRef(null),N=X.useRef(null);return X.useEffect(()=>{S(o)},[o,u]),X.useEffect(()=>{N.current?.focus()},[u]),X.useEffect(()=>{const q=E=>{E.key==="Escape"&&d(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,d]),X.useEffect(()=>{const q=E=>{v.current&&!v.current.contains(E.target)&&d()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[d]),u?c.jsxs("div",{ref:v,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:u.x,top:u.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[c.jsx("textarea",{ref:N,value:g,onChange:q=>S(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),c.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function kv(){const{id:u}=Uf(),o=Bi(),m=Rr(),[d,g]=X.useState(null),[S,v]=X.useState(!1),[N,q]=X.useState(!0),[E,M]=X.useState(1.3),[z,$]=X.useState(!0),[ye,V]=X.useState(null),[ie,P]=X.useState(null),[Ae,oe]=X.useState(null),[ve,te]=X.useState(null),[we,be]=X.useState(null),[xe,He]=X.useState(0),[Ze,dt]=X.useState(1),[Pe,Ye]=X.useState(!1),[at,Se]=X.useState(null),[Ue,Y]=X.useState(null),[me,ge]=X.useState(null),{data:je,isLoading:ke,isError:G}=Jn({queryKey:["document",u],queryFn:async()=>{const{data:pe}=await un.get(u);return pe},enabled:!!u});X.useEffect(()=>{if(!je||!u)return;let pe=!1;return(async()=>{q(!0);try{const yt=await bv(je);pe||(yt?g(yt.data):v(!0))}finally{pe||q(!1)}})(),()=>{pe=!0}},[je,u]);const{data:se=[]}=Jn({queryKey:["highlights",u],queryFn:async()=>{const{data:pe}=await un.highlights(u);return pe},enabled:!!u}),{data:Ne=[]}=Jn({queryKey:["lenses"],queryFn:async()=>{const{data:pe}=await ca.list();return pe}}),Me=X.useMemo(()=>Ne.length?je?.highlight_preset!=null?Ne.find(pe=>pe.id===je.highlight_preset)??null:Ne.find(pe=>pe.is_system)??Ne[0]??null:null,[Ne,je?.highlight_preset]),Le=X.useMemo(()=>Me?.colors??je?.highlight_preset_detail?.colors??[],[Me?.colors,je?.highlight_preset_detail?.colors]),lt=X.useMemo(()=>{if(Le?.length)return Le.map(Ie=>Ie.key);const pe=Object.keys(je?.color_labels||{});return pe.length>0?pe:[...Zf]},[Le,je?.color_labels]),pt=jn({mutationFn:({documentId:pe,payload:Ie})=>un.update(pe,Ie),onSuccess:(pe,{documentId:Ie})=>{m.invalidateQueries({queryKey:["document",Ie]})}}),Yt=X.useCallback(async pe=>{if(!u)return;const Ie=`_opt_${Date.now()}`,yt={id:Ie,page_number:pe.page_number,position_data:pe.position_data,highlighted_text:pe.highlighted_text,color:pe.color,note:pe.comment?{id:Ie,content:pe.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",u],(Bt=[])=>[...Bt,yt]),oe(null),te(null),be(null);try{await un.createHighlight(u,pe),m.invalidateQueries({queryKey:["highlights",u]})}catch(Bt){console.error("Failed to save highlight",Bt),m.setQueryData(["highlights",u],(_n=[])=>_n.filter(En=>En.id!==Ie))}},[u,m]),Gt=X.useCallback(pe=>{oe({page_number:pe.pageNumber,position_data:pe.position_data,highlighted_text:pe.highlighted_text}),te(pe.pickerPosition),be({pageNumber:pe.pageNumber,spanStart:pe.spanStart,spanEnd:pe.spanEnd})},[]),U=X.useCallback((pe,Ie)=>{Ae&&Yt({...Ae,color:pe,comment:Ie})},[Ae,Yt]),ue=X.useCallback(()=>{oe(null),te(null),be(null)},[]),fe=X.useCallback(pe=>{dt(pe),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${pe}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),Ve=X.useCallback(pe=>{P(Ie=>Ie!=null&&String(Ie)===String(pe)?null:pe)},[]),it=X.useCallback(pe=>He(pe??0),[]),ot=X.useCallback(()=>{if(Ze<=1)return;const pe=Ze-1;dt(pe),fe(pe)},[Ze,fe]),Un=X.useCallback(()=>{if(Ze>=xe)return;const pe=Ze+1;dt(pe),fe(pe)},[Ze,xe,fe]),yl=async pe=>{const Ie=pe.target.files?.[0];if(!Ie||!je||!u)return;const yt=await Ie.arrayBuffer(),Bt=await kf(yt);if(Bt!==je.pdf_hash){alert("This file does not match the original document.");return}try{const _n=new FormData;_n.append("file",new Blob([yt],{type:"application/pdf"}),Ie.name||je.filename||"document.pdf"),await un.uploadPdf(u,_n)}catch(_n){const En=_n.response?.data?.detail??_n.message??"Upload failed";alert(typeof En=="string"?En:JSON.stringify(En));return}await Ff(Bt,je.filename||Ie.name,Ie.size,yt),g(yt),v(!1)};return u?ke||N?c.jsx("div",{className:`${Ks} flex items-center justify-center min-h-[50vh]`,children:c.jsx(ka,{className:`w-8 h-8 ${tt.muted} animate-spin`})}):G||!je&&!ke?c.jsxs("div",{className:`${Ks} flex flex-col items-center justify-center min-h-[50vh]`,children:[c.jsx("h2",{className:`text-lg font-semibold ${tt.heading} mb-2`,children:"Document not found"}),c.jsx("p",{className:`text-sm ${tt.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),c.jsx("button",{type:"button",onClick:()=>o(je?.project?`/project/${je.project}`:"/"),className:go,children:"Back to project"})]}):S?c.jsxs("div",{className:`${Ks} flex flex-col items-center justify-center`,children:[c.jsx(vo,{className:`w-12 h-12 ${tt.muted} mb-4`}),c.jsx("h2",{className:`text-lg font-semibold ${tt.heading} mb-2`,children:"PDF needed on this device"}),c.jsxs("p",{className:`text-sm ${tt.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",c.jsx("strong",{children:je?.filename}),"."]}),c.jsxs("label",{className:`${go} inline-flex items-center gap-2`,children:[c.jsx(vo,{className:"w-4 h-4"})," Upload PDF",c.jsx("input",{type:"file",accept:".pdf",onChange:yl,className:"hidden"})]}),c.jsx("button",{type:"button",onClick:()=>o(je?.project?`/project/${je.project}`:"/"),className:`mt-4 text-sm ${tt.muted} hover:underline`,children:"Back to project"})]}):c.jsxs("div",{className:`h-screen flex flex-col ${zi.page} overflow-hidden`,children:[c.jsxs("header",{className:`${Sb} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:()=>o(je?.project?`/project/${je.project}`:"/"),className:oo,title:"Back to project",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("p",{className:`text-sm font-medium ${tt.heading} truncate max-w-xs`,children:je?.filename})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[Ne.length>0&&c.jsx("select",{value:je?.highlight_preset!=null?String(je.highlight_preset):Ne.find(pe=>pe.is_system)?.id??"",onChange:pe=>{const Ie=pe.target.value,yt=Ie===""?null:Number(Ie);u&&(se.length>0?ge(yt):pt.mutate({documentId:u,payload:{highlight_preset:yt}}))},className:`text-xs rounded-lg border ${Il.default} ${zi.surface} py-1.5 pl-2 pr-7 ${tt.body} cursor-pointer max-w-44`,title:"Highlight lens",children:Ne.map(pe=>c.jsx("option",{value:pe.id,children:pe.name},pe.id))}),c.jsx("button",{type:"button",onClick:()=>Ye(!0),className:oo,title:"Edit lens",children:c.jsx(nv,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o(`/document/${u}/summary`),className:oo,title:"Summary",children:c.jsx(Qb,{className:"w-4 h-4"})}),c.jsx("div",{className:bp}),c.jsxs("div",{className:`flex items-center gap-1 ${zi.muted} rounded-lg px-1 py-0.5`,children:[c.jsx("button",{type:"button",onClick:()=>M(pe=>Math.max(.5,pe-.1)),className:`p-1.5 ${tt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:c.jsx(ov,{className:"w-3.5 h-3.5"})}),c.jsxs("span",{className:`text-xs ${tt.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),c.jsx("button",{type:"button",onClick:()=>M(pe=>Math.min(3,pe+.1)),className:`p-1.5 ${tt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:c.jsx(sv,{className:"w-3.5 h-3.5"})})]}),c.jsx("div",{className:bp}),c.jsx("button",{type:"button",onClick:()=>$(pe=>!pe),className:oo,title:z?"Close annotations":"Open annotations",children:z?c.jsx(Jb,{className:"w-4 h-4"}):c.jsx(Pb,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&c.jsx(Cv,{pdfData:d,scale:E,highlights:se,hoveredHighlightId:ye,activeHighlightId:ie,selectionForPicker:we,lensColors:Le,onSelectionComplete:Gt,onNumPages:it,onHighlightHover:V,onHighlightHoverEnd:()=>V(null),onHighlightEdit:(pe,Ie)=>{const yt=Ie?.target?.getBoundingClientRect?.();yt?Y({highlightId:pe,x:yt.left+yt.width/2,y:yt.bottom}):(Se(pe),$(!0))},onHighlightDelete:async pe=>{if(!u)return;const Ie=m.getQueryData(["highlights",u]);m.setQueryData(["highlights",u],(yt=[])=>yt.filter(Bt=>String(Bt.id)!==String(pe))),String(ie)===String(pe)&&P(null),String(ye)===String(pe)&&V(null);try{await un.deleteHighlight(u,pe),m.invalidateQueries({queryKey:["highlights",u]})}catch(yt){console.error("Failed to delete highlight",yt),m.setQueryData(["highlights",u],Ie)}}}),ve&&c.jsx(Tv,{position:ve,onSelect:U,onClose:ue,colorLabels:je?.color_labels,documentColorKeys:lt,lensColors:Le}),Ue&&c.jsx(Rv,{position:{x:Ue.x,y:Ue.y},initialValue:(se||[]).find(pe=>String(pe.id)===String(Ue.highlightId))?.note?.content??"",onSave:async pe=>{u&&(await un.updateHighlight(u,Ue.highlightId,{note:pe}),m.invalidateQueries({queryKey:["highlights",u]}),Y(null))},onClose:()=>Y(null)}),Pe&&c.jsx(zv,{lens:Me,documentId:u,onClose:()=>Ye(!1)}),me!==null&&c.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>ge(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:pe=>pe.stopPropagation(),children:[c.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),c.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",c.jsx("strong",{children:se.length})," highlight",se.length!==1?"s":"",". Switching lenses will ",c.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>ge(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"button",onClick:async()=>{const pe=me;ge(null);for(const Ie of se)await un.deleteHighlight(u,Ie.id);m.invalidateQueries({queryKey:["highlights",u]}),P(null),V(null),pt.mutate({documentId:u,payload:{highlight_preset:pe}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),z&&c.jsx(Ov,{highlights:se,colorLabels:je?.color_labels,lensColors:Le,documentColorKeys:lt,activeHighlightId:ie,onScrollToPage:fe,onHighlightClick:Ve,onHighlightHover:V,onHighlightHoverEnd:()=>V(null),onClearActive:()=>P(null),documentId:u,openEditForHighlightId:at,onClearOpenEditForHighlightId:()=>Se(null),onHighlightNoteUpdate:async(pe,Ie)=>{u&&(await un.updateHighlight(u,pe,{note:Ie}),m.invalidateQueries({queryKey:["highlights",u]}))},onHighlightDelete:async pe=>{u&&(await un.deleteHighlight(u,pe),m.invalidateQueries({queryKey:["highlights",u]}),String(ie)===String(pe)&&P(null),String(ye)===String(pe)&&V(null))}})]}),xe>0&&c.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${z?"right-80":"right-0"}`,children:[c.jsx("button",{type:"button",onClick:ot,disabled:Ze<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),c.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ze," of ",xe]}),c.jsx("button",{type:"button",onClick:Un,disabled:Ze>=xe,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(o("/",{replace:!0}),null)}const Bv="modulepreload",qv=function(u){return"/static/frontend/"+u},Ap={},qf=function(o,m,d){let g=Promise.resolve();if(m&&m.length>0){let q=function(E){return Promise.all(E.map(M=>Promise.resolve(M).then(z=>({status:"fulfilled",value:z}),z=>({status:"rejected",reason:z}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),N=v?.nonce||v?.getAttribute("nonce");g=q(m.map(E=>{if(E=qv(E),E in Ap)return;Ap[E]=!0;const M=E.endsWith(".css"),z=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${z}`))return;const $=document.createElement("link");if($.rel=M?"stylesheet":Bv,M||($.as="script"),$.crossOrigin="",$.href=E,N&&$.setAttribute("nonce",N),document.head.appendChild($),M)return new Promise((ye,V)=>{$.addEventListener("load",ye),$.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${E}`)))})}))}function S(v){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=v,window.dispatchEvent(N),!N.defaultPrevented)throw v}return g.then(v=>{for(const N of v||[])N.status==="rejected"&&S(N.reason);return o().catch(S)})};function Uv(u){return X.useMemo(()=>{const o={};return u?.length&&u.forEach(m=>{o[m.key]={hex:m.hex,displayName:m.display_name}}),o},[u])}function Dr(u,o){if(o[u])return o[u].hex;const m=ml[u];return m?.hex??m?.solid??"#94a3b8"}function Hv(u){const o=parseInt((u||"#94a3b8").replace("#",""),16);return[o>>16&255,o>>8&255,o&255]}function Lv(u,o,m,d,g){return[...u].sort((v,N)=>v.page_number!==N.page_number?v.page_number-N.page_number:new Date(v.created_at)-new Date(N.created_at)).map((v,N)=>({seq:N+1,text:v.highlighted_text||"",note:v.note?.content||"",page:v.page_number,category:ei(v.color,o,m),colorKey:v.color,hex:Dr(v.color,d)}))}function Kv(u,o,m,d,g){const S={};return u.forEach(v=>{(S[v.colorKey]??=[]).push(v)}),o.map(v=>({topic:ei(v,m,d),hex:Dr(v,g),items:S[v]||[]})).filter(v=>v.items.length>0)}async function Yv(u,o,m){const[{Document:d,Packer:g,Paragraph:S,TextRun:v,HeadingLevel:N,BorderStyle:q},{saveAs:E}]=await Promise.all([qf(()=>import("./index-CMhXIFeh.js"),[]),qf(()=>import("./FileSaver.min-rgW_m_5v.js").then(ye=>ye.F),__vite__mapDeps([0,1]))]),M=[];M.push(new S({text:u,heading:N.HEADING_1,spacing:{after:200}})),M.push(new S({text:`${o.length} annotations`,spacing:{after:300},style:"Subtitle"})),m.forEach(({topic:ye,hex:V,items:ie})=>{M.push(new S({spacing:{before:300,after:100},border:{bottom:{style:q.SINGLE,size:1,color:V.replace("#","")}},children:[new v({text:`${ye} (${ie.length})`,bold:!0,size:24,color:V.replace("#","")})]})),ie.forEach(P=>{M.push(new S({spacing:{before:120,after:40},children:[new v({text:`"${P.text}"`,italics:!0,size:21}),new v({text:`   p.${P.page}`,size:18,color:"94A3B8"})]})),P.note&&M.push(new S({spacing:{after:60},children:[new v({text:P.note,size:18,italics:!0,color:V.replace("#","")})]}))})});const z=new d({sections:[{children:M}]}),$=await g.toBlob(z);E($,`${u.replace(/\.pdf$/i,"")}  Summary.docx`)}async function Qv(u,o,m){const{jsPDF:d}=await qf(async()=>{const{jsPDF:M}=await import("./jspdf.es.min-GsV9FQds.js").then(z=>z.j);return{jsPDF:M}},[]),g=new d({unit:"mm",format:"a4"}),S=g.internal.pageSize.getWidth(),v=18,N=S-v*2;let q=v;const E=M=>{q+M>g.internal.pageSize.getHeight()-v&&(g.addPage(),q=v)};g.setFont("helvetica","bold"),g.setFontSize(16),g.text(u,v,q),q+=8,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100),g.text(`${o.length} annotations`,v,q),q+=12,m.forEach(({topic:M,hex:z,items:$})=>{E(18);const[ye,V,ie]=Hv(z);g.setDrawColor(ye,V,ie),g.setLineWidth(.5),g.line(v,q,v+N,q),q+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.setTextColor(ye,V,ie),g.text(`${M} (${$.length})`,v,q),q+=7,$.forEach(P=>{E(14),g.setFont("helvetica","italic"),g.setFontSize(9.5),g.setTextColor(30),g.splitTextToSize(`"${P.text}"`,N-10).forEach(oe=>{E(5),g.text(oe,v+2,q),q+=4.2}),g.setFont("helvetica","normal"),g.setFontSize(8),g.setTextColor(148,163,184),g.text(`p.${P.page}  #${P.seq}`,v+2,q),q+=4,P.note&&(E(5),g.setFont("helvetica","italic"),g.setFontSize(8.5),g.setTextColor(ye,V,ie),g.splitTextToSize(P.note,N-10).forEach(ve=>{E(4.5),g.text(ve,v+2,q),q+=4})),q+=3}),q+=4}),g.save(`${u.replace(/\.pdf$/i,"")}  Summary.pdf`)}function Xv(u,o){const m=new Blob([JSON.stringify({document:u,exported_at:new Date().toISOString(),annotations:o},null,2)],{type:"application/json"}),d=URL.createObjectURL(m);Object.assign(document.createElement("a"),{href:d,download:`${u.replace(/\.pdf$/i,"")}  Summary.json`}).click(),URL.revokeObjectURL(d)}function Gv(){const{id:u}=Uf(),o=Bi(),m=Rr(),[d,g]=X.useState("sequence"),[S,v]=X.useState(""),[N,q]=X.useState([]),[E,M]=X.useState(null),[z,$]=X.useState(new Set),[ye,V]=X.useState(!1),[ie,P]=X.useState(new Set),[Ae,oe]=X.useState(null),[ve,te]=X.useState(""),[we,be]=X.useState(!1),xe=X.useRef(null);X.useEffect(()=>{if(!we)return;const U=ue=>{xe.current&&!xe.current.contains(ue.target)&&be(!1)};return window.addEventListener("mousedown",U),()=>window.removeEventListener("mousedown",U)},[we]);const{data:He,isLoading:Ze,isError:dt}=Jn({queryKey:["document",u],queryFn:async()=>(await un.get(u)).data,enabled:!!u}),{data:Pe=[]}=Jn({queryKey:["highlights",u],queryFn:async()=>(await un.highlights(u)).data,enabled:!!u}),{data:Ye=[]}=Jn({queryKey:["lenses"],queryFn:async()=>(await ca.list()).data}),at=X.useMemo(()=>Ye.length?He?.highlight_preset!=null?Ye.find(U=>U.id===He.highlight_preset)??null:Ye.find(U=>U.is_system)??Ye[0]??null:null,[Ye,He?.highlight_preset]),Se=X.useMemo(()=>at?.colors??He?.highlight_preset_detail?.colors??[],[at?.colors,He?.highlight_preset_detail?.colors]),Ue=He?.color_labels||{},Y=Uv(Se),me=X.useMemo(()=>Se?.length?Se.map(U=>U.key):Zf,[Se]),ge=jn({mutationFn:U=>un.deleteHighlight(u,U),onSuccess:()=>m.invalidateQueries({queryKey:["highlights",u]})}),je=jn({mutationFn:({highlightId:U,note:ue})=>un.updateHighlight(u,U,{note:ue}),onSuccess:()=>{m.invalidateQueries({queryKey:["highlights",u]}),oe(null),te("")}}),ke=X.useCallback(U=>{q(ue=>ue.includes(U)?ue.filter(fe=>fe!==U):[...ue,U])},[]),G=X.useCallback(U=>{$(ue=>{const fe=new Set(ue);return fe.has(U)?fe.delete(U):fe.add(U),fe})},[]),se=X.useCallback(U=>{P(ue=>{const fe=new Set(ue);return fe.has(U)?fe.delete(U):fe.add(U),fe})},[]),Ne=X.useCallback(async U=>{be(!1);const ue=Lv(Pe,Ue,Se,Y),fe=Kv(ue,me,Ue,Se,Y),Ve=He?.filename||"Document";U==="docx"?await Yv(Ve,ue,fe):U==="pdf"?await Qv(Ve,ue,fe):Xv(Ve,ue)},[Pe,Ue,Se,Y,me,He?.filename]),Me=X.useMemo(()=>{const U={};return Pe.forEach(ue=>{U[ue.color]=(U[ue.color]||0)+1}),U},[Pe]),Le=X.useMemo(()=>Pe.filter(U=>{if(N.length>0&&!N.includes(U.color))return!1;if(S.trim()){const ue=S.toLowerCase();return U.highlighted_text?.toLowerCase().includes(ue)||U.note?.content?.toLowerCase().includes(ue)}return!0}),[Pe,N,S]),lt=X.useMemo(()=>[...Le].sort((U,ue)=>U.page_number!==ue.page_number?U.page_number-ue.page_number:new Date(U.created_at)-new Date(ue.created_at)),[Le]),pt=X.useMemo(()=>{if(d!=="topic")return[];const U={};return Le.forEach(ue=>{U[ue.color]||(U[ue.color]=[]),U[ue.color].push(ue)}),me.map(ue=>({colorKey:ue,topic:ei(ue,Ue,Se),hex:Dr(ue,Y),items:(U[ue]||[]).sort((fe,Ve)=>fe.page_number!==Ve.page_number?fe.page_number-Ve.page_number:new Date(fe.created_at)-new Date(Ve.created_at))})).filter(ue=>ue.items.length>0)},[d,Le,me,Ue,Se,Y]),Yt=X.useMemo(()=>{if(d!=="page")return[];const U={};return Le.forEach(ue=>{const fe=ue.page_number;U[fe]||(U[fe]=[]),U[fe].push(ue)}),Object.entries(U).map(([ue,fe])=>({page:Number(ue),items:fe.sort((Ve,it)=>new Date(Ve.created_at)-new Date(it.created_at))})).sort((ue,fe)=>ue.page-fe.page)},[d,Le]);if(!u)return o("/",{replace:!0}),null;if(Ze)return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsx(ka,{className:"w-8 h-8 text-slate-400 animate-spin"})});if(dt||!He)return c.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Document not found"}),c.jsx("button",{type:"button",onClick:()=>o("/"),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700",children:"Back"})]});const Gt=new Map;return[...Pe].sort((U,ue)=>U.page_number!==ue.page_number?U.page_number-ue.page_number:new Date(U.created_at)-new Date(ue.created_at)).forEach((U,ue)=>Gt.set(U.id,ue+1)),c.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[c.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",style:{padding:"16px 32px"},children:c.jsxs("div",{className:"max-w-[1060px] mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"text-slate-500 hover:text-slate-700 text-sm flex items-center gap-1",children:[c.jsx(Eo,{className:"w-4 h-4"}),"Back"]}),c.jsx("div",{className:"w-px h-5 bg-slate-200"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-[16px] font-semibold text-slate-900 tracking-tight",children:"Summary"}),c.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[300px]",children:He.filename})]})]}),c.jsxs("div",{className:"relative",ref:xe,children:[c.jsxs("button",{type:"button",onClick:()=>be(U=>!U),disabled:!Pe.length,className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-md bg-slate-800 text-white text-[13px] font-medium hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Hb,{className:"w-3.5 h-3.5"}),"Export"]}),we&&c.jsx("div",{className:"absolute right-0 top-full mt-1.5 bg-white border border-slate-200 rounded-lg shadow-lg py-1.5 z-50 min-w-[200px]",children:[{key:"docx",icon:Xf,label:"Word (.docx)",desc:"Formatted summary"},{key:"pdf",icon:Kb,label:"PDF (.pdf)",desc:"Print-ready export"},{key:"json",icon:Tb,label:"JSON (.json)",desc:"Structured data"}].map(U=>c.jsxs("button",{type:"button",onClick:()=>Ne(U.key),className:"flex items-center gap-2.5 w-full px-3 py-2 text-left hover:bg-slate-50 transition-colors",children:[c.jsx(U.icon,{className:"w-4 h-4 text-slate-400 shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[13px] font-medium text-slate-800",children:U.label}),c.jsx("div",{className:"text-[11px] text-slate-400",children:U.desc})]})]},U.key))})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-3 mb-3.5",children:[c.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[Pe.length," annotation",Pe.length!==1?"s":""]}),c.jsx("span",{className:"text-slate-300 mx-0.5",children:""}),me.map(U=>{const ue=Me[U]||0;if(!ue)return null;const fe=Dr(U,Y);return c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{backgroundColor:fe}}),c.jsx("span",{className:"text-[11px] text-slate-500",children:ue})]},U)})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx("div",{className:"flex bg-slate-100 rounded-md p-0.5",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(U=>c.jsx("button",{type:"button",onClick:()=>g(U.key),className:`px-3 py-1.5 rounded text-[12.5px] font-medium transition-all ${d===U.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:U.label},U.key))}),c.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 flex-1 max-w-[280px]",children:[c.jsx(ty,{className:"w-3.5 h-3.5 text-slate-400"}),c.jsx("input",{type:"text",value:S,onChange:U=>v(U.target.value),placeholder:"Search annotations...",className:"border-0 bg-transparent outline-none text-[12.5px] text-slate-900 w-full placeholder:text-slate-400"}),S&&c.jsx("button",{type:"button",onClick:()=>v(""),className:"text-slate-400 hover:text-slate-600",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]}),z.size>0&&c.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 rounded-md border border-blue-200",children:[c.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[z.size," selected"]}),c.jsx("button",{type:"button",onClick:async()=>{const ue=Pe.filter(fe=>z.has(fe.id)).map(fe=>`"${fe.highlighted_text}"  p.${fe.page_number}`).join(`

`);try{await navigator.clipboard?.writeText(ue),V(!0),setTimeout(()=>V(!1),2e3)}catch{}},className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-100",children:ye?"Copied":"Copy selected"}),c.jsx("button",{type:"button",onClick:()=>$(new Set),className:"text-blue-400 hover:text-blue-600",children:c.jsx(ki,{className:"w-3.5 h-3.5"})})]})]}),c.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:me.map(U=>{const ue=Me[U]||0;if(!ue)return null;const fe=Dr(U,Y),Ve=ei(U,Ue,Se),it=N.length===0||N.includes(U);return c.jsxs("button",{type:"button",onClick:()=>ke(U),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all",style:{borderColor:it?fe:"#E2E8F0",background:it?zr(fe,.08):"#fff",opacity:it?1:.5},children:[c.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:fe}}),c.jsx("span",{className:"text-xs font-medium",style:{color:it?fe:"#94A3B8"},children:Ve}),c.jsx("span",{className:"text-[11px] font-semibold px-1.5 rounded",style:{color:it?fe:"#CBD5E1",background:it?zr(fe,.1):"#F8FAFC"},children:ue})]},U)})})]})}),c.jsx("div",{className:"max-w-[1060px] mx-auto",style:{padding:"24px 32px 60px 64px"},children:Pe.length?Le.length===0?c.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:"No annotations match your search."}):d==="sequence"?c.jsx("div",{className:"flex flex-col gap-2",children:lt.map(U=>c.jsx(Af,{h:U,seq:Gt.get(U.id),showCategory:!0,lensColorMap:Y,colorLabels:Ue,lensColors:Se,hovered:E===U.id,selected:z.has(U.id),onHover:M,onLeave:()=>M(null),onSelect:G,onDelete:ue=>ge.mutate(ue),deleting:ge.isPending,editingNoteId:Ae,editingNoteValue:ve,onEditNote:ue=>{oe(ue),te(U.note?.content??"")},onChangeNote:te,onSaveNote:()=>je.mutate({highlightId:Ae,note:ve.trim()}),onCancelNote:()=>{oe(null),te("")},savingNote:je.isPending},U.id))}):d==="topic"?c.jsx("div",{className:"flex flex-col gap-5",children:pt.map(({colorKey:U,topic:ue,hex:fe,items:Ve})=>{const it=ie.has(U);return c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>se(U),className:"flex items-center gap-2 w-full pb-2.5 sticky top-[160px] z-10",children:[c.jsx(Ys,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:it?"rotate(0deg)":"rotate(90deg)"}}),c.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:fe}}),c.jsx("span",{className:"text-sm font-semibold text-slate-900",children:ue}),c.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:Ve.length})]}),!it&&c.jsx("div",{className:"flex flex-col gap-2",children:Ve.map(ot=>c.jsx(Af,{h:ot,seq:Gt.get(ot.id),showCategory:!1,lensColorMap:Y,colorLabels:Ue,lensColors:Se,hovered:E===ot.id,selected:z.has(ot.id),onHover:M,onLeave:()=>M(null),onSelect:G,onDelete:Un=>ge.mutate(Un),deleting:ge.isPending,editingNoteId:Ae,editingNoteValue:ve,onEditNote:Un=>{oe(Un),te(ot.note?.content??"")},onChangeNote:te,onSaveNote:()=>je.mutate({highlightId:Ae,note:ve.trim()}),onCancelNote:()=>{oe(null),te("")},savingNote:je.isPending},ot.id))})]},U)})}):c.jsx("div",{className:"flex flex-col gap-5",children:Yt.map(({page:U,items:ue})=>{const fe=`p${U}`,Ve=ie.has(fe);return c.jsxs("div",{children:[c.jsxs("button",{type:"button",onClick:()=>se(fe),className:"flex items-center gap-2 pb-2.5 sticky top-[160px] z-10",children:[c.jsx(Ys,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ve?"rotate(0deg)":"rotate(90deg)"}}),c.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Page ",U]}),c.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:ue.length})]}),!Ve&&c.jsx("div",{className:"flex flex-col gap-2",children:ue.map(it=>c.jsx(Af,{h:it,seq:Gt.get(it.id),showCategory:!0,lensColorMap:Y,colorLabels:Ue,lensColors:Se,hovered:E===it.id,selected:z.has(it.id),onHover:M,onLeave:()=>M(null),onSelect:G,onDelete:ot=>ge.mutate(ot),deleting:ge.isPending,editingNoteId:Ae,editingNoteValue:ve,onEditNote:ot=>{oe(ot),te(it.note?.content??"")},onChangeNote:te,onSaveNote:()=>je.mutate({highlightId:Ae,note:ve.trim()}),onCancelNote:()=>{oe(null),te("")},savingNote:je.isPending},it.id))})]},fe)})}):c.jsxs("div",{className:"text-center py-16 text-slate-400 text-sm",children:[c.jsx("p",{children:"No highlights yet."}),c.jsx("p",{className:"mt-1",children:"Select text in the document to create highlights, then return here."}),c.jsx("button",{type:"button",onClick:()=>o(`/document/${u}`),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 mt-4",children:"Open document"})]})})]})}function Af({h:u,seq:o,showCategory:m,lensColorMap:d,colorLabels:g,lensColors:S,hovered:v,selected:N,onHover:q,onLeave:E,onSelect:M,onDelete:z,editingNoteId:$,editingNoteValue:ye,onEditNote:V,onChangeNote:ie,onSaveNote:P,onCancelNote:Ae,savingNote:oe,deleting:ve}){const[te,we]=X.useState(!1),[be,xe]=X.useState(!1),He=Dr(u.color,d),Ze=ei(u.color,g,S),dt=$===u.id,Pe=at=>{at.stopPropagation(),navigator.clipboard?.writeText(`"${u.highlighted_text}"  p.${u.page_number}`),we(!0),setTimeout(()=>we(!1),1500)},Ye=be||dt;return c.jsxs("div",{className:"relative flex gap-2",children:[c.jsx("div",{className:"shrink-0 pt-[14px]",onMouseEnter:()=>q?.(u.id),onMouseLeave:()=>E?.(),children:c.jsx("div",{className:"transition-opacity w-[18px] h-[18px] rounded flex items-center justify-center cursor-pointer transition-all",style:{opacity:v||N?1:0,border:N?`2px solid ${He}`:"2px solid #CBD5E1",background:N?He:"#fff"},onClick:at=>{at.stopPropagation(),M?.(u.id)},children:N&&c.jsx(bo,{className:"w-3 h-3 text-white",strokeWidth:3})})}),c.jsxs("div",{className:"flex-1 min-w-0 rounded-lg bg-white transition-all",style:{border:`1px solid ${v?zr(He,.3):"#E8ECF0"}`,borderLeft:`3px solid ${He}`,padding:"14px 16px 12px 16px",boxShadow:v?"0 2px 8px rgba(0,0,0,0.06)":"none"},onMouseEnter:()=>{q?.(u.id),xe(!0)},onMouseLeave:()=>{E?.(),xe(!1)},children:[c.jsxs("p",{className:"text-[13.5px] leading-[1.55] text-slate-900 whitespace-pre-wrap",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",u.highlighted_text||"(No text captured)",""]}),dt?c.jsxs("div",{className:"mt-2 space-y-1.5",children:[c.jsx("textarea",{value:ye,onChange:at=>ie(at.target.value),rows:2,autoFocus:!0,className:"w-full text-[12.5px] border border-slate-200 rounded-lg px-2.5 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 text-slate-800",placeholder:"Add a note..."}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{type:"button",onClick:P,disabled:oe,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:oe?"Saving":"Save"}),c.jsx("button",{type:"button",onClick:Ae,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):u.note?.content?c.jsx("p",{className:"mt-2 text-[12.5px] leading-normal italic",style:{color:He},children:u.note.content}):Ye&&c.jsx("button",{type:"button",onClick:()=>V(u.id),className:"mt-2 text-xs text-slate-400 hover:text-slate-600 cursor-pointer",children:"+ Add a note..."}),c.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100",children:[m&&c.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:He,background:zr(He,.08)},children:Ze}),c.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",u.page_number]}),o!=null&&c.jsxs("span",{className:"text-[10px] text-slate-300",children:["#",o]}),c.jsxs("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:Ye?1:0},children:[c.jsxs("button",{type:"button",onClick:Pe,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:te?"#16A34A":"#64748B"},children:[te?c.jsx(bo,{className:"w-3 h-3"}):c.jsx(qb,{className:"w-3 h-3"}),te?"Copied":"Copy"]}),c.jsxs("button",{type:"button",onClick:()=>V(u.id),className:"flex items-center gap-1 text-[11px] text-slate-500 border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",children:[c.jsx(Co,{className:"w-3 h-3"}),"Edit"]}),z&&c.jsxs("button",{type:"button",onClick:()=>{window.confirm("Delete this highlight?")&&z(u.id)},disabled:ve,className:"flex items-center gap-1 text-[11px] text-red-600 border border-red-200 rounded px-2 py-0.5 hover:bg-red-50",children:[c.jsx(Br,{className:"w-3 h-3"}),"Delete"]})]})]})]})]})}function Vv({onClose:u,onConfirm:o,isDeleting:m}){return c.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:u,children:c.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[c.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),c.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:u,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),c.jsx("button",{type:"button",onClick:o,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?c.jsxs(c.Fragment,{children:[c.jsx(ka,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Fv(){const u=Bi(),o=pl(M=>M.logout),[m,d]=X.useState(!1),[g,S]=X.useState(!1),[v,N]=X.useState(""),q=()=>{o(),u("/login",{replace:!0})},E=async()=>{N(""),S(!0);try{await Mr.deleteAccount(),o(),u("/",{replace:!0})}catch(M){N(M.response?.data?.detail||M.message||"Something went wrong."),S(!1)}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[c.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),c.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>u("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:c.jsx(Eo,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),c.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:c.jsx(Gf,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[c.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),c.jsx("div",{className:"mt-8",children:c.jsx(ny,{})}),c.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[c.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),c.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),v&&c.jsx("p",{className:"mt-4 text-sm text-red-600",children:v})]}),m&&c.jsx(Vv,{onClose:()=>!g&&d(!1),onConfirm:E,isDeleting:g})]})}const Zv=new S0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function Hs({children:u}){return pl(m=>m.token)?u:c.jsx(po,{to:"/login",replace:!0})}function Op({children:u}){return pl(m=>m.token)?c.jsx(po,{to:"/app",replace:!0}):u}function Jv(){return c.jsx(w0,{client:Zv,children:c.jsx(A0,{children:c.jsxs(O0,{children:[c.jsx(dl,{path:"/login",element:c.jsx(Op,{children:c.jsx(wb,{})})}),c.jsx(dl,{path:"/register",element:c.jsx(Op,{children:c.jsx(jb,{})})}),c.jsx(dl,{path:"/",element:c.jsx(po,{to:"/app",replace:!0})}),c.jsx(dl,{path:"/app",element:c.jsx(Hs,{children:c.jsx(hv,{})})}),c.jsx(dl,{path:"/app/settings",element:c.jsx(Hs,{children:c.jsx(Fv,{})})}),c.jsx(dl,{path:"/project/:projectId",element:c.jsx(Hs,{children:c.jsx(Sv,{})})}),c.jsx(dl,{path:"/document/:id",element:c.jsx(Hs,{children:c.jsx(kv,{})})}),c.jsx(dl,{path:"/document/:id/summary",element:c.jsx(Hs,{children:c.jsx(Gv,{})})}),c.jsx(dl,{path:"*",element:c.jsx(po,{to:"/app",replace:!0})})]})})})}q0.createRoot(document.getElementById("root")).render(c.jsx(X.StrictMode,{children:c.jsx(Jv,{})}));export{qf as _};
