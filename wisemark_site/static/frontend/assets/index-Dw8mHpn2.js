const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as o,u as Rr,a as $n,b as En,Q as S0,c as w0}from"./query-CQ1uvarX.js";import{a as j0,b as N0,R as so,u as Bi,r as K,L as Dp,c as _0,g as E0,d as Uf,e as C0,B as A0,f as O0,h as hl,N as po}from"./react-OW7IPSYu.js";import{G as D0,g as T0,U as M0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const S of g)if(S.type==="childList")for(const v of S.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&d(v)}).observe(document,{childList:!0,subtree:!0});function m(g){const S={};return g.integrity&&(S.integrity=g.integrity),g.referrerPolicy&&(S.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?S.credentials="include":g.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function d(g){if(g.ep)return;g.ep=!0;const S=m(g);fetch(g.href,S)}})();var wf={exports:{}},qs={},jf={exports:{}},Nf={};var $m;function z0(){return $m||($m=1,(function(s){function c(X,oe){var pe=X.length;X.push(oe);e:for(;0<pe;){var je=pe-1>>>1,Te=X[je];if(0<g(Te,oe))X[je]=oe,X[pe]=Te,pe=je;else break e}}function m(X){return X.length===0?null:X[0]}function d(X){if(X.length===0)return null;var oe=X[0],pe=X.pop();if(pe!==oe){X[0]=pe;e:for(var je=0,Te=X.length,Y=Te>>>1;je<Y;){var re=2*(je+1)-1,ye=X[re],Ae=re+1,He=X[Ae];if(0>g(ye,pe))Ae<Te&&0>g(He,ye)?(X[je]=He,X[Ae]=pe,je=Ae):(X[je]=ye,X[re]=pe,je=re);else if(Ae<Te&&0>g(He,pe))X[je]=He,X[Ae]=pe,je=Ae;else break e}}return oe}function g(X,oe){var pe=X.sortIndex-oe.sortIndex;return pe!==0?pe:X.id-oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;s.unstable_now=function(){return S.now()}}else{var v=Date,N=v.now();s.unstable_now=function(){return v.now()-N}}var q=[],E=[],O=1,A=null,Z=3,me=!1,G=!1,ie=!1,$=!1,Ce=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function te(X){for(var oe=m(E);oe!==null;){if(oe.callback===null)d(E);else if(oe.startTime<=X)d(E),oe.sortIndex=oe.expirationTime,c(q,oe);else break;oe=m(E)}}function xe(X){if(ie=!1,te(X),!G)if(m(q)!==null)G=!0,ge||(ge=!0,Xe());else{var oe=m(E);oe!==null&&Ze(xe,oe.startTime-X)}}var ge=!1,Se=-1,Ge=5,$e=-1;function st(){return $?!0:!(s.unstable_now()-$e<Ge)}function ht(){if($=!1,ge){var X=s.unstable_now();$e=X;var oe=!0;try{e:{G=!1,ie&&(ie=!1,ce(Se),Se=-1),me=!0;var pe=Z;try{t:{for(te(X),A=m(q);A!==null&&!(A.expirationTime>X&&st());){var je=A.callback;if(typeof je=="function"){A.callback=null,Z=A.priorityLevel;var Te=je(A.expirationTime<=X);if(X=s.unstable_now(),typeof Te=="function"){A.callback=Te,te(X),oe=!0;break t}A===m(q)&&d(q),te(X)}else d(q);A=m(q)}if(A!==null)oe=!0;else{var Y=m(E);Y!==null&&Ze(xe,Y.startTime-X),oe=!1}}break e}finally{A=null,Z=pe,me=!1}oe=void 0}}finally{oe?Xe():ge=!1}}}var Xe;if(typeof ve=="function")Xe=function(){ve(ht)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,we=at.port2;at.port1.onmessage=ht,Xe=function(){we.postMessage(null)}}else Xe=function(){Ce(ht,0)};function Ze(X,oe){Se=Ce(function(){X(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return Z},s.unstable_next=function(X){switch(Z){case 1:case 2:case 3:var oe=3;break;default:oe=Z}var pe=Z;Z=oe;try{return X()}finally{Z=pe}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=Z;Z=X;try{return oe()}finally{Z=pe}},s.unstable_scheduleCallback=function(X,oe,pe){var je=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,X){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=pe+Te,X={id:O++,callback:oe,priorityLevel:X,startTime:pe,expirationTime:Te,sortIndex:-1},pe>je?(X.sortIndex=pe,c(E,X),m(q)===null&&X===m(E)&&(ie?(ce(Se),Se=-1):ie=!0,Ze(xe,pe-je))):(X.sortIndex=Te,c(q,X),G||me||(G=!0,ge||(ge=!0,Xe()))),X},s.unstable_shouldYield=st,s.unstable_wrapCallback=function(X){var oe=Z;return function(){var pe=Z;Z=oe;try{return X.apply(this,arguments)}finally{Z=pe}}}})(Nf)),Nf}var Pm;function R0(){return Pm||(Pm=1,jf.exports=z0()),jf.exports}var Wm;function k0(){if(Wm)return qs;Wm=1;var s=R0(),c=j0(),m=N0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(S(e)!==e)throw Error(d(188))}function E(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return q(i),e;if(r===a)return q(i),t;r=r.sibling}throw Error(d(188))}if(n.return!==a.return)n=i,a=r;else{for(var p=!1,x=i.child;x;){if(x===n){p=!0,n=i,a=r;break}if(x===a){p=!0,a=i,n=r;break}x=x.sibling}if(!p){for(x=r.child;x;){if(x===n){p=!0,n=r,a=i;break}if(x===a){p=!0,a=r,n=i;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function O(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=O(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,Z=Symbol.for("react.element"),me=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function Xe(e){return e===null||typeof e!="object"?null:(e=ht&&e[ht]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case Ce:return"Profiler";case $:return"StrictMode";case xe:return"Suspense";case ge:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ve:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case Ge:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var Ze=Array.isArray,X=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Te=-1;function Y(e){return{current:e}}function re(e){0>Te||(e.current=je[Te],je[Te]=null,Te--)}function ye(e,t){Te++,je[Te]=e.current,e.current=t}var Ae=Y(null),He=Y(null),it=Y(null),yt=Y(null);function Ht(e,t){switch(ye(it,t),ye(He,e),ye(Ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vm(t),e=xm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(Ae),ye(Ae,e)}function sn(){re(Ae),re(He),re(it)}function be(e){e.memoizedState!==null&&ye(yt,e);var t=Ae.current,n=xm(t,e.type);t!==n&&(ye(He,e),ye(Ae,n))}function Ie(e){He.current===e&&(re(Ae),re(He)),yt.current===e&&(re(yt),zs._currentValue=pe)}var Ye,gt;function Vt(e){if(Ye===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",gt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+e+gt}var Nt=!1;function ue(e,t){if(!e||Nt)return"";Nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ee){var P=ee}Reflect.construct(e,[],se)}else{try{se.call()}catch(ee){P=ee}e.call(se.prototype)}}else{try{throw Error()}catch(ee){P=ee}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ee){if(ee&&P&&typeof ee.stack=="string")return[ee.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),p=r[0],x=r[1];if(p&&x){var _=p.split(`
`),F=x.split(`
`);for(i=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;i<F.length&&!F[i].includes("DetermineComponentFrameRoot");)i++;if(a===_.length||i===F.length)for(a=_.length-1,i=F.length-1;1<=a&&0<=i&&_[a]!==F[i];)i--;for(;1<=a&&0<=i;a--,i--)if(_[a]!==F[i]){if(a!==1||i!==1)do if(a--,i--,0>i||_[a]!==F[i]){var ae=`
`+_[a].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=a&&0<=i);break}}}finally{Nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vt(n):""}function Oe(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return ue(e.type,!1);case 11:return ue(e.type.render,!1);case 1:return ue(e.type,!0);case 31:return Vt("Activity");default:return""}}function W(e){try{var t="",n=null;do t+=Oe(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ue=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ut=s.unstable_cancelCallback,un=s.unstable_shouldYield,An=s.unstable_requestPaint,on=s.unstable_now,xa=s.unstable_getCurrentPriorityLevel,dn=s.unstable_ImmediatePriority,Ln=s.unstable_UserBlockingPriority,Sa=s.unstable_NormalPriority,qa=s.unstable_LowPriority,ze=s.unstable_IdlePriority,Qe=s.log,St=s.unstable_setDisableYieldValue,Rt=null,_t=null;function kt(e){if(typeof Qe=="function"&&St(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Rt,e)}catch{}}var Ee=Math.clz32?Math.clz32:qi,da=Math.log,Ua=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-(da(e)/Ua|0)|0}var De=256,gl=262144,ti=4194304;function ha(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~r,a!==0?i=ha(a):(p&=x,p!==0?i=ha(p):n||(n=x&~e,n!==0&&(i=ha(n))))):(x=a&~r,x!==0?i=ha(x):p!==0?i=ha(p):n||(n=a&~e,n!==0&&(i=ha(n)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Ha(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ao(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),e}function wa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qr(e,t,n,a,i,r){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,F=e.hiddenUpdates;for(n=p&~n;0<n;){var ae=31-Ee(n),se=1<<ae;x[ae]=0,_[ae]=-1;var P=F[ae];if(P!==null)for(F[ae]=null,ae=0;ae<P.length;ae++){var ee=P[ae];ee!==null&&(ee.lane&=-536870913)}n&=~se}a!==0&&ai(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(p&~t))}function ai(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ee(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ee(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Jt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ur(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function li(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ii(e,t){var n=oe.p;try{return oe.p=e,t()}finally{oe.p=n}}var ja=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ja,$t="__reactProps$"+ja,On="__reactContainer$"+ja,vl="__reactEvents$"+ja,Oo="__reactListeners$"+ja,Na="__reactHandles$"+ja,Hr="__reactResources$"+ja,Kn="__reactMarker$"+ja;function Ui(e){delete e[Ut],delete e[$t],delete e[vl],delete e[Oo],delete e[Na]}function _a(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cm(e);e!==null;){if(n=e[Ut])return n;e=Cm(e)}return t}e=n,n=e.parentNode}return null}function Ot(e){if(e=e[Ut]||e[On]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function wn(e){var t=e[Hr];return t||(t=e[Hr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pt(e){e[Kn]=!0}var La=new Set,ri={};function ma(e,t){Ea(e,t),Ea(e+"Capture",t)}function Ea(e,t){for(ri[e]=t,e=0;e<t.length;e++)La.add(t[e])}var Ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},si={};function Js(e){return Ue.call(si,e)?!0:Ue.call(Lr,e)?!1:Ka.test(e)?si[e]=!0:(Lr[e]=!0,!1)}function lt(e,t,n){if(Js(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ui(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function gn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $s(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,r.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){if(!e._valueTracker){var t=xl(e)?"checked":"value";e._valueTracker=$s(e,t,""+e[t])}}function Kr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function wt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oi=/[\n"\\]/g;function hn(e){return e.replace(oi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ca(e,t,n,a,i,r,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gn(t)):e.value!==""+gn(t)&&(e.value=""+gn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ci(e,p,gn(t)):n!=null?ci(e,p,gn(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+gn(x):e.removeAttribute("name")}function Li(e,t,n,a,i,r,p,x){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Hi(e);return}n=n!=null?""+gn(n):"",t=t!=null?""+gn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hi(e)}function ci(e,t,n){t==="number"&&wt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function pa(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yr(e,t,n){if(t!=null&&(t=""+gn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+gn(n):""}function fi(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ze(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=gn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Hi(e)}function Ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Do.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qr(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&mt(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&mt(e,r,t[r])}function Gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return Dn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var In=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qa=null,Lt=null;function Qn(e){var t=Ot(e);if(t&&(e=t.stateNode)){var n=e[$t]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ca(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[$t]||null;if(!i)throw Error(d(90));Ca(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Kr(a)}break e;case"textarea":Yr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&pa(e,!!n.multiple,t,!1)}}}var Ga=!1;function Sl(e,t,n){if(Ga)return e(t,n);Ga=!0;try{var a=e(t);return a}finally{if(Ga=!1,(Qa!==null||Lt!==null)&&(Hu(),Qa&&(t=Qa,e=Lt,Lt=Qa=null,Qn(t),e)))for(t=0;t<e.length;t++)Qn(e[t])}}function Xa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[$t]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(mn)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Xr=!1}var ea=null,Yi=null,wl=null;function jl(){if(wl)return wl;var e,t=Yi,n=t.length,a,i="value"in ea?ea.value:ea.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[r-a];a++);return wl=i.slice(e,1<a?1-a:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function Ps(){return!1}function tn(e){function t(n,a,i,r,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(r):r[x]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?di:Ps,this.isPropagationStopped=Ps,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=tn(Va),Aa=A({},Va,{view:0,detail:0}),Gi=tn(Aa),hi,Vr,mi,Xi=A({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hi=e.screenX-mi.screenX,Vr=e.screenY-mi.screenY):Vr=hi=0,mi=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),Vi=tn(Xi),Fr=A({},Xi,{dataTransfer:0}),Ws=tn(Fr),Fi=A({},Aa,{relatedTarget:0}),_l=tn(Fi),Zi=A({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Is=tn(Zi),Mo=A({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),El=tn(Mo),Zr=A({},Va,{data:0}),Ji=tn(Zr),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pn[e])?!!t[e]:!1}function Fa(){return pi}var eu=A({},Aa,{key:function(e){if(e.key){var t=Jr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=tn(eu),tu=A({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=tn(tu),Pi=A({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Wr=tn(Pi),Za=A({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ir=tn(Za),es=A({},Xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wi=tn(es),ts=A({},Va,{newState:0,oldState:0}),nu=tn(ts),zo=[9,13,27,32],yi=mn&&"CompositionEvent"in window,Oa=null;mn&&"documentMode"in document&&(Oa=document.documentMode);var Ro=mn&&"TextEvent"in window&&!Oa,Ii=mn&&(!yi||Oa&&8<Oa&&11>=Oa),er=" ",au=!1;function ns(e,t){switch(e){case"keyup":return zo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function iu(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(au=!0,er);case"textInput":return e=t.data,e===er&&au?null:e;default:return null}}function ko(e,t){if(Ja)return e==="compositionend"||!yi&&ns(e,t)?(e=jl(),wl=Yi=ea=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ii&&t.locale!=="ko"?null:t.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ru[e.type]:t==="textarea"}function as(e,t,n,a){Qa?Lt?Lt.push(a):Lt=[a]:Qa=a,t=Vu(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Cl=null,gi=null;function Bo(e){hm(e,0)}function nr(e){var t=Yn(e);if(Kr(t))return e}function bi(e,t){if(e==="change")return t}var ta=!1;if(mn){var Kt;if(mn){var Al="oninput"in document;if(!Al){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Al=typeof $a.oninput=="function"}Kt=Al}else Kt=!1;ta=Kt&&(!document.documentMode||9<document.documentMode)}function su(){Cl&&(Cl.detachEvent("onpropertychange",ar),gi=Cl=null)}function ar(e){if(e.propertyName==="value"&&nr(gi)){var t=[];as(t,gi,e,Ki(e)),Sl(Bo,t)}}function uu(e,t,n){e==="focusin"?(su(),Cl=t,gi=n,Cl.attachEvent("onpropertychange",ar)):e==="focusout"&&su()}function Pa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(gi)}function ls(e,t){if(e==="click")return nr(t)}function Ol(e,t){if(e==="input"||e==="change")return nr(t)}function Da(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:Da;function l(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Ue.call(t,i)||!Nn(e[i],t[i]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=mn&&"documentMode"in document&&11>=document.documentMode,j=null,D=null,H=null,T=!1;function C(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T||j==null||j!==wt(a)||(a=j,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),H&&l(H,a)||(H=a,a=Vu(D,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=j)))}function R(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:R("Animation","AnimationEnd"),animationiteration:R("Animation","AnimationIteration"),animationstart:R("Animation","AnimationStart"),transitionrun:R("Transition","TransitionRun"),transitionstart:R("Transition","TransitionStart"),transitioncancel:R("Transition","TransitionCancel"),transitionend:R("Transition","TransitionEnd")},M={},z={};mn&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Q(e){if(M[e])return M[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z)return M[e]=t[n];return e}var J=Q("animationend"),L=Q("animationiteration"),ne=Q("animationstart"),fe=Q("transitionrun"),Ne=Q("transitionstart"),_e=Q("transitioncancel"),de=Q("transitionend"),Re=new Map,Me="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Me.push("scrollEnd");function he(e,t){Re.set(e,t),ma(t,[e])}var ke=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pe=[],rt=0,Le=0;function We(){for(var e=rt,t=Le=rt=0;t<e;){var n=Pe[t];Pe[t++]=null;var a=Pe[t];Pe[t++]=null;var i=Pe[t];Pe[t++]=null;var r=Pe[t];if(Pe[t++]=null,a!==null&&i!==null){var p=a.pending;p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i}r!==0&&Ta(n,i,r)}}function Dt(e,t,n,a){Pe[rt++]=e,Pe[rt++]=t,Pe[rt++]=n,Pe[rt++]=a,Le|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function _n(e,t,n,a){return Dt(e,t,n,a),Dl(e)}function Et(e,t){return Dt(e,null,null,t),Dl(e)}function Ta(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-Ee(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Dl(e){if(50<Es)throw Es=0,Xc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var lr={};function ly(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,a){return new ly(e,t,n,a)}function qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wa(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ou(e,t,n,a,i,r){var p=0;if(a=e,typeof e=="function")qo(e)&&(p=1);else if(typeof e=="string")p=o0(e,n,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=Gn(31,n,t,i),e.elementType=$e,e.lanes=r,e;case ie:return vi(n.children,i,r,t);case $:p=8,i|=24;break;case Ce:return e=Gn(12,n,t,i|2),e.elementType=Ce,e.lanes=r,e;case xe:return e=Gn(13,n,t,i),e.elementType=xe,e.lanes=r,e;case ge:return e=Gn(19,n,t,i),e.elementType=ge,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:p=10;break e;case ce:p=9;break e;case te:p=11;break e;case Se:p=14;break e;case Ge:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Gn(p,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function vi(e,t,n,a){return e=Gn(7,e,a,t),e.lanes=n,e}function Uo(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function $f(e){var t=Gn(18,null,null,0);return t.stateNode=e,t}function Ho(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pf=new WeakMap;function na(e,t){if(typeof e=="object"&&e!==null){var n=Pf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:W(t)},Pf.set(e,t),t)}return{value:e,source:t,stack:W(t)}}var ir=[],rr=0,cu=null,is=0,aa=[],la=0,Tl=null,Ma=1,za="";function Ia(e,t){ir[rr++]=is,ir[rr++]=cu,cu=e,is=t}function Wf(e,t,n){aa[la++]=Ma,aa[la++]=za,aa[la++]=Tl,Tl=e;var a=Ma;e=za;var i=32-Ee(a)-1;a&=~(1<<i),n+=1;var r=32-Ee(t)+i;if(30<r){var p=i-i%5;r=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Ma=1<<32-Ee(t)+i|n<<i|a,za=r+e}else Ma=1<<r|n<<i|a,za=e}function Lo(e){e.return!==null&&(Ia(e,1),Wf(e,1,0))}function Ko(e){for(;e===cu;)cu=ir[--rr],ir[rr]=null,is=ir[--rr],ir[rr]=null;for(;e===Tl;)Tl=aa[--la],aa[la]=null,za=aa[--la],aa[la]=null,Ma=aa[--la],aa[la]=null}function If(e,t){aa[la++]=Ma,aa[la++]=za,aa[la++]=Tl,Ma=t.id,za=t.overflow,Tl=e}var bn=null,Yt=null,pt=!1,Ml=null,ia=!1,Yo=Error(d(519));function zl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(na(t,e)),Yo}function ed(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[$t]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<As.length;n++)ct(As[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Li(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),fi(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||zl(e,!0)}function td(e){for(bn=e.return;bn;)switch(bn.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:bn=bn.return}}function sr(e){if(e!==bn)return!1;if(!pt)return td(e),pt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||sf(e.type,e.memoizedProps)),n=!n),n&&Yt&&zl(e),td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=Em(e)}else t===27?(t=Yt,Fl(e.type)?(e=df,df=null,Yt=e):Yt=t):Yt=bn?sa(e.stateNode.nextSibling):null;return!0}function xi(){Yt=bn=null,pt=!1}function Qo(){var e=Ml;return e!==null&&(Bn===null?Bn=e:Bn.push.apply(Bn,e),Ml=null),e}function rs(e){Ml===null?Ml=[e]:Ml.push(e)}var Go=Y(null),Si=null,el=null;function Rl(e,t,n){ye(Go,t._currentValue),t._currentValue=n}function tl(e){e._currentValue=Go.current,re(Go)}function Xo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var p=i.child;r=r.firstContext;e:for(;r!==null;){var x=r;r=i;for(var _=0;_<t.length;_++)if(x.context===t[_]){r.lanes|=n,x=r.alternate,x!==null&&(x.lanes|=n),Xo(r.return,n,e),a||(p=null);break e}r=x.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(d(341));p.lanes|=n,r=p.alternate,r!==null&&(r.lanes|=n),Xo(p,n,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function ur(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=i.type;Nn(i.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(i===yt.current){if(p=i.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(zs):e=[zs])}i=i.return}e!==null&&Vo(t,e,n,a),t.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Si=e,el=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vn(e){return nd(Si,e)}function du(e,t){return Si===null&&wi(e),nd(e,t)}function nd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},el===null){if(e===null)throw Error(d(308));el=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else el=el.next=t;return n}var iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ry=s.unstable_scheduleCallback,sy=s.unstable_NormalPriority,nn={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new iy,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&ry(sy,function(){e.controller.abort()})}var us=null,Zo=0,or=0,cr=null;function uy(e,t){if(us===null){var n=us=[];Zo=0,or=Pc(),cr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Zo++,t.then(ad,ad),t}function ad(){if(--Zo===0&&us!==null){cr!==null&&(cr.status="fulfilled");var e=us;us=null,or=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ld=X.S;X.S=function(e,t){Kh=on(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),ld!==null&&ld(e,t)};var ji=Y(null);function Jo(){var e=ji.current;return e!==null?e:qt.pooledCache}function hu(e,t){t===null?ye(ji,ji.current):ye(ji,t.pool)}function id(){var e=Jo();return e===null?null:{parent:nn._currentValue,pool:e}}var fr=Error(d(460)),$o=Error(d(474)),mu=Error(d(542)),pu={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Mn,Mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=qt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw _i=t,fr}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_i=n,fr):n}}var _i=null;function ud(){if(_i===null)throw Error(d(459));var e=_i;return _i=null,e}function od(e){if(e===fr||e===mu)throw Error(d(483))}var dr=null,os=0;function yu(e){var t=os;return os+=1,dr===null&&(dr=[]),sd(dr,e,t)}function cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gu(e,t){throw t.$$typeof===Z?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cd(e){function t(U,k){if(e){var V=U.deletions;V===null?(U.deletions=[k],U.flags|=16):V.push(k)}}function n(U,k){if(!e)return null;for(;k!==null;)t(U,k),k=k.sibling;return null}function a(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function i(U,k){return U=Wa(U,k),U.index=0,U.sibling=null,U}function r(U,k,V){return U.index=V,e?(V=U.alternate,V!==null?(V=V.index,V<k?(U.flags|=67108866,k):V):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,V,le){return k===null||k.tag!==6?(k=Uo(V,U.mode,le),k.return=U,k):(k=i(k,V),k.return=U,k)}function _(U,k,V,le){var Ke=V.type;return Ke===ie?ae(U,k,V.props.children,le,V.key):k!==null&&(k.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Ge&&Ni(Ke)===k.type)?(k=i(k,V.props),cs(k,V),k.return=U,k):(k=ou(V.type,V.key,V.props,null,U.mode,le),cs(k,V),k.return=U,k)}function F(U,k,V,le){return k===null||k.tag!==4||k.stateNode.containerInfo!==V.containerInfo||k.stateNode.implementation!==V.implementation?(k=Ho(V,U.mode,le),k.return=U,k):(k=i(k,V.children||[]),k.return=U,k)}function ae(U,k,V,le,Ke){return k===null||k.tag!==7?(k=vi(V,U.mode,le,Ke),k.return=U,k):(k=i(k,V),k.return=U,k)}function se(U,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Uo(""+k,U.mode,V),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case me:return V=ou(k.type,k.key,k.props,null,U.mode,V),cs(V,k),V.return=U,V;case G:return k=Ho(k,U.mode,V),k.return=U,k;case Ge:return k=Ni(k),se(U,k,V)}if(Ze(k)||Xe(k))return k=vi(k,U.mode,V,null),k.return=U,k;if(typeof k.then=="function")return se(U,yu(k),V);if(k.$$typeof===ve)return se(U,du(U,k),V);gu(U,k)}return null}function P(U,k,V,le){var Ke=k!==null?k.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ke!==null?null:x(U,k,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case me:return V.key===Ke?_(U,k,V,le):null;case G:return V.key===Ke?F(U,k,V,le):null;case Ge:return V=Ni(V),P(U,k,V,le)}if(Ze(V)||Xe(V))return Ke!==null?null:ae(U,k,V,le,null);if(typeof V.then=="function")return P(U,k,yu(V),le);if(V.$$typeof===ve)return P(U,k,du(U,V),le);gu(U,V)}return null}function ee(U,k,V,le,Ke){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return U=U.get(V)||null,x(k,U,""+le,Ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case me:return U=U.get(le.key===null?V:le.key)||null,_(k,U,le,Ke);case G:return U=U.get(le.key===null?V:le.key)||null,F(k,U,le,Ke);case Ge:return le=Ni(le),ee(U,k,V,le,Ke)}if(Ze(le)||Xe(le))return U=U.get(V)||null,ae(k,U,le,Ke,null);if(typeof le.then=="function")return ee(U,k,V,yu(le),Ke);if(le.$$typeof===ve)return ee(U,k,V,du(k,le),Ke);gu(k,le)}return null}function Be(U,k,V,le){for(var Ke=null,bt=null,qe=k,tt=k=0,dt=null;qe!==null&&tt<V.length;tt++){qe.index>tt?(dt=qe,qe=null):dt=qe.sibling;var vt=P(U,qe,V[tt],le);if(vt===null){qe===null&&(qe=dt);break}e&&qe&&vt.alternate===null&&t(U,qe),k=r(vt,k,tt),bt===null?Ke=vt:bt.sibling=vt,bt=vt,qe=dt}if(tt===V.length)return n(U,qe),pt&&Ia(U,tt),Ke;if(qe===null){for(;tt<V.length;tt++)qe=se(U,V[tt],le),qe!==null&&(k=r(qe,k,tt),bt===null?Ke=qe:bt.sibling=qe,bt=qe);return pt&&Ia(U,tt),Ke}for(qe=a(qe);tt<V.length;tt++)dt=ee(qe,U,tt,V[tt],le),dt!==null&&(e&&dt.alternate!==null&&qe.delete(dt.key===null?tt:dt.key),k=r(dt,k,tt),bt===null?Ke=dt:bt.sibling=dt,bt=dt);return e&&qe.forEach(function(Wl){return t(U,Wl)}),pt&&Ia(U,tt),Ke}function Fe(U,k,V,le){if(V==null)throw Error(d(151));for(var Ke=null,bt=null,qe=k,tt=k=0,dt=null,vt=V.next();qe!==null&&!vt.done;tt++,vt=V.next()){qe.index>tt?(dt=qe,qe=null):dt=qe.sibling;var Wl=P(U,qe,vt.value,le);if(Wl===null){qe===null&&(qe=dt);break}e&&qe&&Wl.alternate===null&&t(U,qe),k=r(Wl,k,tt),bt===null?Ke=Wl:bt.sibling=Wl,bt=Wl,qe=dt}if(vt.done)return n(U,qe),pt&&Ia(U,tt),Ke;if(qe===null){for(;!vt.done;tt++,vt=V.next())vt=se(U,vt.value,le),vt!==null&&(k=r(vt,k,tt),bt===null?Ke=vt:bt.sibling=vt,bt=vt);return pt&&Ia(U,tt),Ke}for(qe=a(qe);!vt.done;tt++,vt=V.next())vt=ee(qe,U,tt,vt.value,le),vt!==null&&(e&&vt.alternate!==null&&qe.delete(vt.key===null?tt:vt.key),k=r(vt,k,tt),bt===null?Ke=vt:bt.sibling=vt,bt=vt);return e&&qe.forEach(function(x0){return t(U,x0)}),pt&&Ia(U,tt),Ke}function zt(U,k,V,le){if(typeof V=="object"&&V!==null&&V.type===ie&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case me:e:{for(var Ke=V.key;k!==null;){if(k.key===Ke){if(Ke=V.type,Ke===ie){if(k.tag===7){n(U,k.sibling),le=i(k,V.props.children),le.return=U,U=le;break e}}else if(k.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Ge&&Ni(Ke)===k.type){n(U,k.sibling),le=i(k,V.props),cs(le,V),le.return=U,U=le;break e}n(U,k);break}else t(U,k);k=k.sibling}V.type===ie?(le=vi(V.props.children,U.mode,le,V.key),le.return=U,U=le):(le=ou(V.type,V.key,V.props,null,U.mode,le),cs(le,V),le.return=U,U=le)}return p(U);case G:e:{for(Ke=V.key;k!==null;){if(k.key===Ke)if(k.tag===4&&k.stateNode.containerInfo===V.containerInfo&&k.stateNode.implementation===V.implementation){n(U,k.sibling),le=i(k,V.children||[]),le.return=U,U=le;break e}else{n(U,k);break}else t(U,k);k=k.sibling}le=Ho(V,U.mode,le),le.return=U,U=le}return p(U);case Ge:return V=Ni(V),zt(U,k,V,le)}if(Ze(V))return Be(U,k,V,le);if(Xe(V)){if(Ke=Xe(V),typeof Ke!="function")throw Error(d(150));return V=Ke.call(V),Fe(U,k,V,le)}if(typeof V.then=="function")return zt(U,k,yu(V),le);if(V.$$typeof===ve)return zt(U,k,du(U,V),le);gu(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,k!==null&&k.tag===6?(n(U,k.sibling),le=i(k,V),le.return=U,U=le):(n(U,k),le=Uo(V,U.mode,le),le.return=U,U=le),p(U)):n(U,k)}return function(U,k,V,le){try{os=0;var Ke=zt(U,k,V,le);return dr=null,Ke}catch(qe){if(qe===fr||qe===mu)throw qe;var bt=Gn(29,qe,null,U.mode);return bt.lanes=le,bt.return=U,bt}}}var Ei=cd(!0),fd=cd(!1),kl=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ql(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(jt&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Dl(e),Ta(e,null,n),t}return Dt(e,a,t,n),Dl(e)}function fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}function Io(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=p:r=r.next=p,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function ds(){if(ec){var e=cr;if(e!==null)throw e}}function hs(e,t,n,a){ec=!1;var i=e.updateQueue;kl=!1;var r=i.firstBaseUpdate,p=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var _=x,F=_.next;_.next=null,p===null?r=F:p.next=F,p=_;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,x=ae.lastBaseUpdate,x!==p&&(x===null?ae.firstBaseUpdate=F:x.next=F,ae.lastBaseUpdate=_))}if(r!==null){var se=i.baseState;p=0,ae=F=_=null,x=r;do{var P=x.lane&-536870913,ee=P!==x.lane;if(ee?(ft&P)===P:(a&P)===P){P!==0&&P===or&&(ec=!0),ae!==null&&(ae=ae.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Be=e,Fe=x;P=t;var zt=n;switch(Fe.tag){case 1:if(Be=Fe.payload,typeof Be=="function"){se=Be.call(zt,se,P);break e}se=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Fe.payload,P=typeof Be=="function"?Be.call(zt,se,P):Be,P==null)break e;se=A({},se,P);break e;case 2:kl=!0}}P=x.callback,P!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=i.callbacks,ee===null?i.callbacks=[P]:ee.push(P))}else ee={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ae===null?(F=ae=ee,_=se):ae=ae.next=ee,p|=P;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;ee=x,x=ee.next,ee.next=null,i.lastBaseUpdate=ee,i.shared.pending=null}}while(!0);ae===null&&(_=se),i.baseState=_,i.firstBaseUpdate=F,i.lastBaseUpdate=ae,r===null&&(i.shared.lanes=0),Yl|=p,e.lanes=p,e.memoizedState=se}}function dd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function hd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)dd(n[e],t)}var hr=Y(null),bu=Y(0);function md(e,t){e=cl,ye(bu,e),ye(hr,t),cl=e|t.baseLanes}function tc(){ye(bu,cl),ye(hr,hr.current)}function nc(){cl=bu.current,re(hr),re(bu)}var Xn=Y(null),ra=null;function Ul(e){var t=e.alternate;ye(Wt,Wt.current&1),ye(Xn,e),ra===null&&(t===null||hr.current!==null||t.memoizedState!==null)&&(ra=e)}function ac(e){ye(Wt,Wt.current),ye(Xn,e),ra===null&&(ra=e)}function pd(e){e.tag===22?(ye(Wt,Wt.current),ye(Xn,e),ra===null&&(ra=e)):Hl()}function Hl(){ye(Wt,Wt.current),ye(Xn,Xn.current)}function Vn(e){re(Xn),ra===e&&(ra=null),re(Wt)}var Wt=Y(0);function vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||cf(n)||ff(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=0,et=null,Tt=null,an=null,xu=!1,mr=!1,Ci=!1,Su=0,ms=0,pr=null,cy=0;function Ft(){throw Error(d(321))}function lc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nn(e[n],t[n]))return!1;return!0}function ic(e,t,n,a,i,r){return nl=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?Wd:xc,Ci=!1,r=n(a,i),Ci=!1,mr&&(r=gd(t,n,a,i)),yd(e),r}function yd(e){X.H=gs;var t=Tt!==null&&Tt.next!==null;if(nl=0,an=Tt=et=null,xu=!1,ms=0,pr=null,t)throw Error(d(300));e===null||ln||(e=e.dependencies,e!==null&&fu(e)&&(ln=!0))}function gd(e,t,n,a){et=e;var i=0;do{if(mr&&(pr=null),ms=0,mr=!1,25<=i)throw Error(d(301));if(i+=1,an=Tt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}X.H=Id,r=t(n,a)}while(mr);return r}function fy(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?ps(t):t,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&(et.flags|=1024),t}function rc(){var e=Su!==0;return Su=0,e}function sc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function uc(e){if(xu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xu=!1}nl=0,an=Tt=et=null,mr=!1,ms=Su=0,pr=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?et.memoizedState=an=e:an=an.next=e,an}function It(){if(Tt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=an===null?et.memoizedState:an.next;if(t!==null)an=t,Tt=e;else{if(e===null)throw et.alternate===null?Error(d(467)):Error(d(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},an===null?et.memoizedState=an=e:an=an.next=e}return an}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(e){var t=ms;return ms+=1,pr===null&&(pr=[]),e=sd(pr,e,t),t=et,(an===null?t.memoizedState:an.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?Wd:xc),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ps(e);if(e.$$typeof===ve)return vn(e)}throw Error(d(438,String(e)))}function oc(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=et.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=wu(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=st;return t.index++,n}function al(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=It();return cc(t,Tt,e)}function cc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var p=i.next;i.next=r.next,r.next=p}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var x=p=null,_=null,F=t,ae=!1;do{var se=F.lane&-536870913;if(se!==F.lane?(ft&se)===se:(nl&se)===se){var P=F.revertLane;if(P===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),se===or&&(ae=!0);else if((nl&P)===P){F=F.next,P===or&&(ae=!0);continue}else se={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=se,p=r):_=_.next=se,et.lanes|=P,Yl|=P;se=F.action,Ci&&n(r,se),r=F.hasEagerState?F.eagerState:n(r,se)}else P={lane:se,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(x=_=P,p=r):_=_.next=P,et.lanes|=se,Yl|=se;F=F.next}while(F!==null&&F!==t);if(_===null?p=r:_.next=x,!Nn(r,e.memoizedState)&&(ln=!0,ae&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=p,e.baseQueue=_,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fc(e){var t=It(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do r=e(r,p.action),p=p.next;while(p!==i);Nn(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function bd(e,t,n){var a=et,i=It(),r=pt;if(r){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Nn((Tt||i).memoizedState,n);if(p&&(i.memoizedState=n,ln=!0),i=i.queue,mc(Sd.bind(null,a,i,e),[e]),i.getSnapshot!==t||p||an!==null&&an.memoizedState.tag&1){if(a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,i,n,t),null),qt===null)throw Error(d(349));r||(nl&127)!==0||vd(a,t,n)}return n}function vd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=wu(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,a){t.value=n,t.getSnapshot=a,wd(t)&&jd(e)}function Sd(e,t,n){return n(function(){wd(t)&&jd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nn(e,n)}catch{return!0}}function jd(e){var t=Et(e,2);t!==null&&qn(t,e,2)}function dc(e){var t=Tn();if(typeof e=="function"){var n=e;if(e=n(),Ci){kt(!0);try{n()}finally{kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t}function Nd(e,t,n,a){return e.baseState=n,cc(e,Tt,typeof a=="function"?a:al)}function dy(e,t,n,a,i){if(Cu(e))throw Error(d(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){r.listeners.push(p)}};X.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,_d(t,r)):(r.next=n.next,t.pending=n.next=r)}}function _d(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=X.T,p={};X.T=p;try{var x=n(i,a),_=X.S;_!==null&&_(p,x),Ed(e,t,x)}catch(F){hc(e,t,F)}finally{r!==null&&p.types!==null&&(r.types=p.types),X.T=r}}else try{r=n(i,a),Ed(e,t,r)}catch(F){hc(e,t,F)}}function Ed(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Cd(e,t,a)},function(a){return hc(e,t,a)}):Cd(e,t,n)}function Cd(e,t,n){t.status="fulfilled",t.value=n,Ad(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,_d(e,n)))}function hc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Ad(t),t=t.next;while(t!==a)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function Dd(e,t){if(pt){var n=qt.formState;if(n!==null){e:{var a=et;if(pt){if(Yt){t:{for(var i=Yt,r=ia;i.nodeType!==8;){if(!r){i=null;break t}if(i=sa(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Yt=sa(i.nextSibling),a=i.data==="F!";break e}}zl(a)}a=!1}a&&(t=n[0])}}return n=Tn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},n.queue=a,n=Jd.bind(null,et,a),a.dispatch=n,a=dc(!1),r=vc.bind(null,et,!1,a.queue),a=Tn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=dy.bind(null,et,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Td(e){var t=It();return Md(t,Tt,e)}function Md(e,t,n){if(t=cc(e,t,Od)[0],e=Nu(al)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ps(t)}catch(p){throw p===fr?mu:p}else a=t;t=It();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(et.flags|=2048,yr(9,{destroy:void 0},hy.bind(null,i,n),null)),[a,r,e]}function hy(e,t){e.action=t}function zd(e){var t=It(),n=Tt;if(n!==null)return Md(t,n,e);It(),t=t.memoizedState,n=It();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function yr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=et.updateQueue,t===null&&(t=wu(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return It().memoizedState}function _u(e,t,n,a){var i=Tn();et.flags|=e,i.memoizedState=yr(1|t,{destroy:void 0},n,a===void 0?null:a)}function Eu(e,t,n,a){var i=It();a=a===void 0?null:a;var r=i.memoizedState.inst;Tt!==null&&a!==null&&lc(a,Tt.memoizedState.deps)?i.memoizedState=yr(t,r,n,a):(et.flags|=e,i.memoizedState=yr(1|t,r,n,a))}function kd(e,t){_u(8390656,8,e,t)}function mc(e,t){Eu(2048,8,e,t)}function my(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=wu(),et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Bd(e){var t=It().memoizedState;return my({ref:t,nextImpl:e}),function(){if((jt&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function qd(e,t){return Eu(4,2,e,t)}function Ud(e,t){return Eu(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,n){n=n!=null?n.concat([e]):null,Eu(4,4,Hd.bind(null,t,e),n)}function pc(){}function Kd(e,t){var n=It();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Yd(e,t){var n=It();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lc(t,a[1]))return a[0];if(a=e(),Ci){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[a,t],a}function yc(e,t,n){return n===void 0||(nl&1073741824)!==0&&(ft&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qh(),et.lanes|=e,Yl|=e,n)}function Qd(e,t,n,a){return Nn(n,t)?n:hr.current!==null?(e=yc(e,n,a),Nn(e,t)||(ln=!0),e):(nl&42)===0||(nl&1073741824)!==0&&(ft&261930)===0?(ln=!0,e.memoizedState=n):(e=Qh(),et.lanes|=e,Yl|=e,t)}function Gd(e,t,n,a,i){var r=oe.p;oe.p=r!==0&&8>r?r:8;var p=X.T,x={};X.T=x,vc(e,!1,t,n);try{var _=i(),F=X.S;if(F!==null&&F(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ae=oy(_,a);ys(e,t,ae,Jn(e))}else ys(e,t,a,Jn(e))}catch(se){ys(e,t,{then:function(){},status:"rejected",reason:se},Jn())}finally{oe.p=r,p!==null&&x.types!==null&&(p.types=x.types),X.T=p}}function py(){}function gc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var i=Xd(e).queue;Gd(e,i,t,pe,n===null?py:function(){return Vd(e),n(a)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:pe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vd(e){var t=Xd(e);t.next===null&&(t=e.alternate.memoizedState),ys(e,t.next.queue,{},Jn())}function bc(){return vn(zs)}function Fd(){return It().memoizedState}function Zd(){return It().memoizedState}function yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Jn();e=Bl(n);var a=ql(t,e,n);a!==null&&(qn(a,t,n),fs(a,t,n)),t={cache:Fo()},e.payload=t;return}t=t.return}}function gy(e,t,n){var a=Jn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cu(e)?$d(t,n):(n=_n(e,t,n,a),n!==null&&(qn(n,e,a),Pd(n,t,a)))}function Jd(e,t,n){var a=Jn();ys(e,t,n,a)}function ys(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))$d(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var p=t.lastRenderedState,x=r(p,n);if(i.hasEagerState=!0,i.eagerState=x,Nn(x,p))return Dt(e,t,i,0),qt===null&&We(),!1}catch{}if(n=_n(e,t,i,a),n!==null)return qn(n,e,a),Pd(n,t,a),!0}return!1}function vc(e,t,n,a){if(a={lane:2,revertLane:Pc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(t)throw Error(d(479))}else t=_n(e,n,a,2),t!==null&&qn(t,e,2)}function Cu(e){var t=e.alternate;return e===et||t!==null&&t===et}function $d(e,t){mr=xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}var gs={readContext:vn,use:ju,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};gs.useEffectEvent=Ft;var Wd={readContext:vn,use:ju,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,Hd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=Tn();t=t===void 0?null:t;var a=e();if(Ci){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Tn();if(n!==void 0){var i=n(t);if(Ci){kt(!0);try{n(t)}finally{kt(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=gy.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:function(e){e=dc(e);var t=e.queue,n=Jd.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:pc,useDeferredValue:function(e,t){var n=Tn();return yc(n,e,t)},useTransition:function(){var e=dc(!1);return e=Gd.bind(null,et,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=et,i=Tn();if(pt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),qt===null)throw Error(d(349));(ft&127)!==0||vd(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,kd(Sd.bind(null,a,r,e),[e]),a.flags|=2048,yr(9,{destroy:void 0},xd.bind(null,a,r,n,t),null),n},useId:function(){var e=Tn(),t=qt.identifierPrefix;if(pt){var n=za,a=Ma;n=(a&~(1<<32-Ee(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Su++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:Dd,useActionState:Dd,useOptimistic:function(e){var t=Tn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vc.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return Tn().memoizedState=yy.bind(null,et)},useEffectEvent:function(e){var t=Tn(),n={impl:e};return t.memoizedState=n,function(){if((jt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},xc={readContext:vn,use:ju,useCallback:Kd,useContext:vn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:Nu,useRef:Rd,useState:function(){return Nu(al)},useDebugValue:pc,useDeferredValue:function(e,t){var n=It();return Qd(n,Tt.memoizedState,e,t)},useTransition:function(){var e=Nu(al)[0],t=It().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var n=It();return Nd(n,Tt,e,t)},useMemoCache:oc,useCacheRefresh:Zd};xc.useEffectEvent=Bd;var Id={readContext:vn,use:ju,useCallback:Kd,useContext:vn,useEffect:mc,useImperativeHandle:Ld,useInsertionEffect:qd,useLayoutEffect:Ud,useMemo:Yd,useReducer:fc,useRef:Rd,useState:function(){return fc(al)},useDebugValue:pc,useDeferredValue:function(e,t){var n=It();return Tt===null?yc(n,e,t):Qd(n,Tt.memoizedState,e,t)},useTransition:function(){var e=fc(al)[0],t=It().memoizedState;return[typeof e=="boolean"?e:ps(e),t]},useSyncExternalStore:bd,useId:Fd,useHostTransitionStatus:bc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var n=It();return Tt!==null?Nd(n,Tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:oc,useCacheRefresh:Zd};Id.useEffectEvent=Bd;function Sc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Jn(),i=Bl(a);i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(qn(t,e,a),fs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Jn(),i=Bl(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ql(e,i,a),t!==null&&(qn(t,e,a),fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jn(),a=Bl(n);a.tag=2,t!=null&&(a.callback=t),t=ql(e,a,n),t!==null&&(qn(t,e,n),fs(t,e,n))}};function eh(e,t,n,a,i,r,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(i,r):!0}function th(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wc.enqueueReplaceState(t,t.state,null)}function Ai(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function nh(e){ke(e)}function ah(e){console.error(e)}function lh(e){ke(e)}function Au(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ih(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function jc(e,t,n){return n=Bl(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(e,t)},n}function rh(e){return e=Bl(e),e.tag=3,e}function sh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){ih(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,a),typeof i!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function by(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ur(t,n,i,!0),n=Xn.current,n!==null){switch(n.tag){case 31:case 13:return ra===null?Lu():n.alternate===null&&Zt===0&&(Zt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Zc(e,a,i)),!1;case 22:return n.flags|=65536,a===pu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Zc(e,a,i)),!1}throw Error(d(435,n.tag))}return Zc(e,a,i),Lu(),!1}if(pt)return t=Xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Yo&&(e=Error(d(422),{cause:a}),rs(na(e,n)))):(a!==Yo&&(t=Error(d(423),{cause:a}),rs(na(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=na(a,n),i=jc(e.stateNode,a,i),Io(e,i),Zt!==4&&(Zt=2)),!1;var r=Error(d(520),{cause:a});if(r=na(r,n),_s===null?_s=[r]:_s.push(r),Zt!==4&&(Zt=2),t===null)return!0;a=na(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=jc(n.stateNode,a,e),Io(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ql===null||!Ql.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=rh(i),sh(i,e,n,a),Io(n,i),!1}n=n.return}while(n!==null);return!1}var Nc=Error(d(461)),ln=!1;function xn(e,t,n,a){t.child=e===null?fd(t,null,n,a):Ei(t,e.child,n,a)}function uh(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return wi(t),a=ic(e,t,n,p,r,i),x=rc(),e!==null&&!ln?(sc(e,t,i),ll(e,t,i)):(pt&&x&&Lo(t),t.flags|=1,xn(e,t,a,i),t.child)}function oh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!qo(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ch(e,t,r,a,i)):(e=ou(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Mc(e,i)){var p=r.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return ll(e,t,i)}return t.flags|=1,e=Wa(r,a),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(l(r,a)&&e.ref===t.ref)if(ln=!1,t.pendingProps=a=r,Mc(e,i))(e.flags&131072)!==0&&(ln=!0);else return t.lanes=e.lanes,ll(e,t,i)}return _c(e,t,n,a,i)}function fh(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return dh(e,t,r,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(t,r!==null?r.cachePool:null),r!==null?md(t,r):tc(),pd(t);else return a=t.lanes=536870912,dh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(hu(t,r.cachePool),md(t,r),Hl(),t.memoizedState=null):(e!==null&&hu(t,null),tc(),Hl());return xn(e,t,i,n),t.child}function bs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,i){var r=Jo();return r=r===null?null:{parent:nn._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&hu(t,null),tc(),pd(t),e!==null&&ur(e,t,a,!0),t.childLanes=i,null}function Ou(e,t){return t=Tu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hh(e,t,n){return Ei(t,e.child,null,n),e=Ou(t,t.pendingProps),e.flags|=2,Vn(t),t.memoizedState=null,e}function vy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pt){if(a.mode==="hidden")return e=Ou(t,a),t.lanes=536870912,bs(null,e);if(ac(t),(e=Yt)?(e=_m(e,ia),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,bn=t,Yt=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Ou(t,a)}var r=e.memoizedState;if(r!==null){var p=r.dehydrated;if(ac(t),i)if(t.flags&256)t.flags&=-257,t=hh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(ln||ur(e,t,n,!1),i=(n&e.childLanes)!==0,ln||i){if(a=qt,a!==null&&(p=Jt(a,n),p!==0&&p!==r.retryLane))throw r.retryLane=p,Et(e,p),qn(a,e,p),Nc;Lu(),t=hh(e,t,n)}else e=r.treeContext,Yt=sa(p.nextSibling),bn=t,pt=!0,Ml=null,ia=!1,e!==null&&If(t,e),t=Ou(t,a),t.flags|=4096;return t}return e=Wa(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Du(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function _c(e,t,n,a,i){return wi(t),n=ic(e,t,n,a,void 0,i),a=rc(),e!==null&&!ln?(sc(e,t,i),ll(e,t,i)):(pt&&a&&Lo(t),t.flags|=1,xn(e,t,n,i),t.child)}function mh(e,t,n,a,i,r){return wi(t),t.updateQueue=null,n=gd(t,a,n,i),yd(e),a=rc(),e!==null&&!ln?(sc(e,t,r),ll(e,t,r)):(pt&&a&&Lo(t),t.flags|=1,xn(e,t,n,r),t.child)}function ph(e,t,n,a,i){if(wi(t),t.stateNode===null){var r=lr,p=n.contextType;typeof p=="object"&&p!==null&&(r=vn(p)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wc,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},Po(t),p=n.contextType,r.context=typeof p=="object"&&p!==null?vn(p):lr,r.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,n,p,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(p=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),p!==r.state&&wc.enqueueReplaceState(r,r.state,null),hs(t,a,r,i),ds(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var x=t.memoizedProps,_=Ai(n,x);r.props=_;var F=r.context,ae=n.contextType;p=lr,typeof ae=="object"&&ae!==null&&(p=vn(ae));var se=n.getDerivedStateFromProps;ae=typeof se=="function"||typeof r.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,ae||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x||F!==p)&&th(t,r,a,p),kl=!1;var P=t.memoizedState;r.state=P,hs(t,a,r,i),ds(),F=t.memoizedState,x||P!==F||kl?(typeof se=="function"&&(Sc(t,n,se,a),F=t.memoizedState),(_=kl||eh(t,n,_,a,P,F,p))?(ae||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=F),r.props=a,r.state=F,r.context=p,a=_):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Wo(e,t),p=t.memoizedProps,ae=Ai(n,p),r.props=ae,se=t.pendingProps,P=r.context,F=n.contextType,_=lr,typeof F=="object"&&F!==null&&(_=vn(F)),x=n.getDerivedStateFromProps,(F=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p!==se||P!==_)&&th(t,r,a,_),kl=!1,P=t.memoizedState,r.state=P,hs(t,a,r,i),ds();var ee=t.memoizedState;p!==se||P!==ee||kl||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof x=="function"&&(Sc(t,n,x,a),ee=t.memoizedState),(ae=kl||eh(t,n,ae,a,P,ee,_)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(F||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,ee,_),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,ee,_)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ee),r.props=a,r.state=ee,r.context=_,a=ae):(typeof r.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Du(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,n,i)):xn(e,t,n,i),t.memoizedState=r.state,e=t.child):e=ll(e,t,i),e}function yh(e,t,n,a){return xi(),t.flags|=256,xn(e,t,n,a),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:id()}}function Ac(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Zn),e}function gh(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,p;if((p=r)||(p=e!==null&&e.memoizedState===null?!1:(Wt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(pt){if(i?Ul(t):Hl(),(e=Yt)?(e=_m(e,ia),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},n=$f(e),n.return=t,t.child=n,bn=t,Yt=null)):e=null,e===null)throw zl(t);return ff(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,i?(Hl(),i=t.mode,x=Tu({mode:"hidden",children:x},i),a=vi(a,i,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,bs(null,a)):(Ul(t),Oc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(r)t.flags&256?(Ul(t),t.flags&=-257,t=Dc(e,t,n)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),x=a.fallback,i=t.mode,a=Tu({mode:"visible",children:a.children},i),x=vi(x,i,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ei(t,e.child,null,n),a=t.child,a.memoizedState=Cc(n),a.childLanes=Ac(e,p,n),t.memoizedState=Ec,t=bs(null,a));else if(Ul(t),ff(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var F=p.dgst;p=F,a=Error(d(419)),a.stack="",a.digest=p,rs({value:a,source:null,stack:null}),t=Dc(e,t,n)}else if(ln||ur(e,t,n,!1),p=(n&e.childLanes)!==0,ln||p){if(p=qt,p!==null&&(a=Jt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,Et(e,a),qn(p,e,a),Nc;cf(x)||Lu(),t=Dc(e,t,n)}else cf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Yt=sa(x.nextSibling),bn=t,pt=!0,Ml=null,ia=!1,e!==null&&If(t,e),t=Oc(t,a.children),t.flags|=4096);return t}return i?(Hl(),x=a.fallback,i=t.mode,_=e.child,F=_.sibling,a=Wa(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,F!==null?x=Wa(F,x):(x=vi(x,i,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,bs(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Cc(n):(i=x.cachePool,i!==null?(_=nn._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=id(),x={baseLanes:x.baseLanes|n,cachePool:i}),a.memoizedState=x,a.childLanes=Ac(e,p,n),t.memoizedState=Ec,bs(e.child,a)):(Ul(t),n=e.child,e=n.sibling,n=Wa(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function Oc(e,t){return t=Tu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tu(e,t){return e=Gn(22,e,null,t),e.lanes=0,e}function Dc(e,t,n){return Ei(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Xo(e.return,t,n)}function Tc(e,t,n,a,i,r){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=i,p.treeForkCount=r)}function vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var p=Wt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,ye(Wt,p),xn(e,t,a,n),a=pt?is:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tc(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tc(t,!0,n,null,r,a);break;case"together":Tc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ll(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ur(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=Wa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function xy(e,t,n){switch(t.tag){case 3:Ht(t,t.stateNode.containerInfo),Rl(t,nn,e.memoizedState.cache),xi();break;case 27:case 5:be(t);break;case 4:Ht(t,t.stateNode.containerInfo);break;case 10:Rl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ac(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ul(t),t.flags|=128,null):(n&t.child.childLanes)!==0?gh(e,t,n):(Ul(t),e=ll(e,t,n),e!==null?e.sibling:null);Ul(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ur(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Wt,Wt.current),a)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Rl(t,nn,e.memoizedState.cache)}return ll(e,t,n)}function xh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ln=!0;else{if(!Mc(e,n)&&(t.flags&128)===0)return ln=!1,xy(e,t,n);ln=(e.flags&131072)!==0}else ln=!1,pt&&(t.flags&1048576)!==0&&Wf(t,is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")qo(e)?(a=Ai(e,a),t.tag=1,t=ph(null,t,e,a,n)):(t.tag=0,t=_c(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===te){t.tag=11,t=uh(null,t,e,a,n);break e}else if(i===Se){t.tag=14,t=oh(null,t,e,a,n);break e}}throw t=we(e)||e,Error(d(306,t,""))}}return t;case 0:return _c(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ai(a,t.pendingProps),ph(e,t,a,i,n);case 3:e:{if(Ht(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,Wo(e,t),hs(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Rl(t,nn,a),a!==r.cache&&Vo(t,[nn],n,!0),ds(),a=p.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=yh(e,t,a,n);break e}else if(a!==i){i=na(Error(d(424)),t),rs(i),t=yh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Yt=sa(e.firstChild),bn=t,pt=!0,Ml=null,ia=!0,n=fd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),a===i){t=ll(e,t,n);break e}xn(e,t,a,n)}t=t.child}return t;case 26:return Du(e,t),e===null?(n=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=n:pt||(n=t.type,e=t.pendingProps,a=Fu(it.current).createElement(n),a[Ut]=t,a[$t]=e,Sn(a,n,e),Pt(a),t.stateNode=a):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&pt&&(a=t.stateNode=Am(t.type,t.pendingProps,it.current),bn=t,ia=!0,i=Yt,Fl(t.type)?(df=i,Yt=sa(a.firstChild)):Yt=i),xn(e,t,t.pendingProps.children,n),Du(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pt&&((i=a=Yt)&&(a=$y(a,t.type,t.pendingProps,ia),a!==null?(t.stateNode=a,bn=t,Yt=sa(a.firstChild),ia=!1,i=!0):i=!1),i||zl(t)),be(t),i=t.type,r=t.pendingProps,p=e!==null?e.memoizedProps:null,a=r.children,sf(i,r)?a=null:p!==null&&sf(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ic(e,t,fy,null,null,n),zs._currentValue=i),Du(e,t),xn(e,t,a,n),t.child;case 6:return e===null&&pt&&((e=n=Yt)&&(n=Py(n,t.pendingProps,ia),n!==null?(t.stateNode=n,bn=t,Yt=null,e=!0):e=!1),e||zl(t)),null;case 13:return gh(e,t,n);case 4:return Ht(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ei(t,null,a,n):xn(e,t,a,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Rl(t,t.type,a.value),xn(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,wi(t),i=vn(i),a=a(i),t.flags|=1,xn(e,t,a,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return ch(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return vy(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return wi(t),a=vn(nn),e===null?(i=Jo(),i===null&&(i=qt,r=Fo(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},Po(t),Rl(t,nn,i)):((e.lanes&n)!==0&&(Wo(e,t),hs(t,null,null,n),ds()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Rl(t,nn,a)):(a=r.cache,Rl(t,nn,a),a!==i.cache&&Vo(t,[nn],n,!0))),xn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function il(e){e.flags|=4}function zc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fh())e.flags|=8192;else throw _i=pu,$o}else e.flags&=-16777217}function Sh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(t))if(Fh())e.flags|=8192;else throw _i=pu,$o}function Mu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zs():536870912,e.lanes|=t,xr|=t)}function vs(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Sy(e,t,n){var a=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return Qt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),tl(nn),sn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sr(t)?il(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qo())),Qt(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(il(t),r!==null?(Qt(t),Sh(t,r)):(Qt(t),zc(t,i,null,a,n))):r?r!==e.memoizedState?(il(t),Qt(t),Sh(t,r)):(Qt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&il(t),Qt(t),zc(t,i,e,a,n)),null;case 27:if(Ie(t),n=it.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Qt(t),null}e=Ae.current,sr(t)?ed(t):(e=Am(i,a,n),t.stateNode=e,il(t))}return Qt(t),null;case 5:if(Ie(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Qt(t),null}if(r=Ae.current,sr(t))ed(t);else{var p=Fu(it.current);switch(r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?p.createElement(i,{is:a.is}):p.createElement(i)}}r[Ut]=t,r[$t]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=r;e:switch(Sn(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&il(t)}}return Qt(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&il(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=it.current,sr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=bn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gm(e.nodeValue,n)),e||zl(t,!0)}else e=Fu(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return Qt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=sr(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Ut]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qt(t),e=!1}else n=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Vn(t),t):(Vn(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Qt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=sr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[Ut]=t}else xi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qt(t),i=!1}else i=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Vn(t),t):(Vn(t),null)}return Vn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Mu(t,t.updateQueue),Qt(t),null);case 4:return sn(),e===null&&tf(t.stateNode.containerInfo),Qt(t),null;case 10:return tl(t.type),Qt(t),null;case 19:if(re(Wt),a=t.memoizedState,a===null)return Qt(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)vs(a,!1);else{if(Zt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=vu(e),r!==null){for(t.flags|=128,vs(a,!1),e=r.updateQueue,t.updateQueue=e,Mu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jf(n,e),n=n.sibling;return ye(Wt,Wt.current&1|2),pt&&Ia(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&on()>qu&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304)}else{if(!i)if(e=vu(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Mu(t,e),vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!pt)return Qt(t),null}else 2*on()-a.renderingStartTime>qu&&n!==536870912&&(t.flags|=128,i=!0,vs(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=on(),e.sibling=null,n=Wt.current,ye(Wt,i?n&1|2:n&1),pt&&Ia(t,a.treeForkCount),e):(Qt(t),null);case 22:case 23:return Vn(t),nc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),n=t.updateQueue,n!==null&&Mu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&re(ji),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),tl(nn),Qt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function wy(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tl(nn),sn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 31:if(t.memoizedState!==null){if(Vn(t),t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(Wt),null;case 4:return sn(),null;case 10:return tl(t.type),null;case 22:case 23:return Vn(t),nc(),e!==null&&re(ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tl(nn),null;case 25:return null;default:return null}}function wh(e,t){switch(Ko(t),t.tag){case 3:tl(nn),sn();break;case 26:case 27:case 5:Ie(t);break;case 4:sn();break;case 31:t.memoizedState!==null&&Vn(t);break;case 13:Vn(t);break;case 19:re(Wt);break;case 10:tl(t.type);break;case 22:case 23:Vn(t),nc(),e!==null&&re(ji);break;case 24:tl(nn)}}function xs(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,p=n.inst;a=r(),p.destroy=a}n=n.next}while(n!==i)}}catch(x){At(t,t.return,x)}}function Ll(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,i=t;var _=n,F=x;try{F()}catch(ae){At(i,_,ae)}}}a=a.next}while(a!==r)}}catch(ae){At(t,t.return,ae)}}function jh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hd(t,n)}catch(a){At(e,e.return,a)}}}function Nh(e,t,n){n.props=Ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){At(e,t,a)}}function Ss(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){At(e,t,i)}}function Ra(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){At(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){At(e,t,i)}else n.current=null}function _h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){At(e,e.return,i)}}function Rc(e,t,n){try{var a=e.stateNode;Gy(a,e.type,n,t),a[$t]=t}catch(i){At(e,e.return,i)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mn));else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function zu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Fl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zu(e,t,n),e=e.sibling;e!==null;)zu(e,t,n),e=e.sibling}function Ch(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sn(t,a,n),t[Ut]=e,t[$t]=n}catch(r){At(e,e.return,r)}}var rl=!1,rn=!1,qc=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,yn=null;function jy(e,t){if(e=e.containerInfo,lf=eo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,F=0,ae=0,se=e,P=null;t:for(;;){for(var ee;se!==n||i!==0&&se.nodeType!==3||(x=p+i),se!==r||a!==0&&se.nodeType!==3||(_=p+a),se.nodeType===3&&(p+=se.nodeValue.length),(ee=se.firstChild)!==null;)P=se,se=ee;for(;;){if(se===e)break t;if(P===n&&++F===i&&(x=p),P===r&&++ae===a&&(_=p),(ee=se.nextSibling)!==null)break;se=P,P=se.parentNode}se=ee}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(rf={focusedElem:e,selectionRange:n},eo=!1,yn=t;yn!==null;)if(t=yn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yn=e;else for(;yn!==null;){switch(t=yn,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var Be=Ai(n.type,i);e=a.getSnapshotBeforeUpdate(Be,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){At(n,n.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)of(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,yn=e;break}yn=t.return}}function Oh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ul(e,n),a&4&&xs(5,n);break;case 1:if(ul(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){At(n,n.return,p)}else{var i=Ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){At(n,n.return,p)}}a&64&&jh(n),a&512&&Ss(n,n.return);break;case 3:if(ul(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hd(e,t)}catch(p){At(n,n.return,p)}}break;case 27:t===null&&a&4&&Ch(n);case 26:case 5:ul(e,n),t===null&&a&4&&_h(n),a&512&&Ss(n,n.return);break;case 12:ul(e,n);break;case 31:ul(e,n),a&4&&Mh(e,n);break;case 13:ul(e,n),a&4&&zh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=My.bind(null,n),Wy(e,n))));break;case 22:if(a=n.memoizedState!==null||rl,!a){t=t!==null&&t.memoizedState!==null||rn,i=rl;var r=rn;rl=a,(rn=t)&&!r?ol(e,n,(n.subtreeFlags&8772)!==0):ul(e,n),rl=i,rn=r}break;case 30:break;default:ul(e,n)}}function Dh(e){var t=e.alternate;t!==null&&(e.alternate=null,Dh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Gt=null,zn=!1;function sl(e,t,n){for(n=n.child;n!==null;)Th(e,t,n),n=n.sibling}function Th(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Rt,n)}catch{}switch(n.tag){case 26:rn||Ra(n,t),sl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:rn||Ra(n,t);var a=Gt,i=zn;Fl(n.type)&&(Gt=n.stateNode,zn=!1),sl(e,t,n),Ds(n.stateNode),Gt=a,zn=i;break;case 5:rn||Ra(n,t);case 6:if(a=Gt,i=zn,Gt=null,sl(e,t,n),Gt=a,zn=i,Gt!==null)if(zn)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(n.stateNode)}catch(r){At(n,t,r)}else try{Gt.removeChild(n.stateNode)}catch(r){At(n,t,r)}break;case 18:Gt!==null&&(zn?(e=Gt,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ar(e)):jm(Gt,n.stateNode));break;case 4:a=Gt,i=zn,Gt=n.stateNode.containerInfo,zn=!0,sl(e,t,n),Gt=a,zn=i;break;case 0:case 11:case 14:case 15:Ll(2,n,t),rn||Ll(4,n,t),sl(e,t,n);break;case 1:rn||(Ra(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nh(n,t,a)),sl(e,t,n);break;case 21:sl(e,t,n);break;case 22:rn=(a=rn)||n.memoizedState!==null,sl(e,t,n),rn=a;break;default:sl(e,t,n)}}function Mh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ar(e)}catch(n){At(t,t.return,n)}}}function zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(n){At(t,t.return,n)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(d(435,e.tag))}}function Ru(e,t){var n=Ny(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=zy.bind(null,e,a);a.then(i,i)}})}function Rn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Fl(x.type)){Gt=x.stateNode,zn=!1;break e}break;case 5:Gt=x.stateNode,zn=!1;break e;case 3:case 4:Gt=x.stateNode.containerInfo,zn=!0;break e}x=x.return}if(Gt===null)throw Error(d(160));Th(r,p,i),Gt=null,zn=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var ga=null;function Rh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(t,e),kn(e),a&4&&(Ll(3,e,e.return),xs(3,e),Ll(5,e,e.return));break;case 1:Rn(t,e),kn(e),a&512&&(rn||n===null||Ra(n,n.return)),a&64&&rl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ga;if(Rn(t,e),kn(e),a&512&&(rn||n===null||Ra(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Kn]||r[Ut]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Sn(r,a,n),r[Ut]=e,Pt(r),a=r;break e;case"link":var p=Rm("link","href",i).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(r=p[x],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}r=i.createElement(a),Sn(r,a,n),i.head.appendChild(r);break;case"meta":if(p=Rm("meta","content",i).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(r=p[x],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}r=i.createElement(a),Sn(r,a,n),i.head.appendChild(r);break;default:throw Error(d(468,a))}r[Ut]=e,Pt(r),a=r}e.stateNode=a}else km(i,e.type,e.stateNode);else e.stateNode=zm(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?km(i,e.type,e.stateNode):zm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rn(t,e),kn(e),a&512&&(rn||n===null||Ra(n,n.return)),n!==null&&a&4&&Rc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rn(t,e),kn(e),a&512&&(rn||n===null||Ra(n,n.return)),e.flags&32){i=e.stateNode;try{Ya(i,"")}catch(Be){At(e,e.return,Be)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Rc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(qc=!0);break;case 6:if(Rn(t,e),kn(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(Be){At(e,e.return,Be)}}break;case 3:if($u=null,i=ga,ga=Zu(t.containerInfo),Rn(t,e),ga=i,kn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(Be){At(e,e.return,Be)}qc&&(qc=!1,kh(e));break;case 4:a=ga,ga=Zu(e.stateNode.containerInfo),Rn(t,e),kn(e),ga=a;break;case 12:Rn(t,e),kn(e);break;case 31:Rn(t,e),kn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 13:Rn(t,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bu=on()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 22:i=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,F=rl,ae=rn;if(rl=F||i,rn=ae||_,Rn(t,e),rn=ae,rl=F,kn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||_||rl||rn||Oi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(r=_.stateNode,i)p=r.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var se=_.memoizedProps.style,P=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Be){At(_,_.return,Be)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(Be){At(_,_.return,Be)}}}else if(t.tag===18){if(n===null){_=t;try{var ee=_.stateNode;i?Nm(ee,!0):Nm(_.stateNode,!1)}catch(Be){At(_,_.return,Be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ru(e,n))));break;case 19:Rn(t,e),kn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ru(e,a)));break;case 30:break;case 21:break;default:Rn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Eh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var i=n.stateNode,r=kc(e);zu(e,r,i);break;case 5:var p=n.stateNode;n.flags&32&&(Ya(p,""),n.flags&=-33);var x=kc(e);zu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,F=kc(e);Bc(e,F,_);break;default:throw Error(d(161))}}catch(ae){At(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ul(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Oh(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),Oi(t);break;case 1:Ra(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nh(t,t.return,n),Oi(t);break;case 27:Ds(t.stateNode);case 26:case 5:Ra(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function ol(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,p=r.flags;switch(r.tag){case 0:case 11:case 15:ol(i,r,n),xs(4,r);break;case 1:if(ol(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(F){At(a,a.return,F)}if(a=r,i=a.updateQueue,i!==null){var x=a.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)dd(_[i],x)}catch(F){At(a,a.return,F)}}n&&p&64&&jh(r),Ss(r,r.return);break;case 27:Ch(r);case 26:case 5:ol(i,r,n),n&&a===null&&p&4&&_h(r),Ss(r,r.return);break;case 12:ol(i,r,n);break;case 31:ol(i,r,n),n&&p&4&&Mh(i,r);break;case 13:ol(i,r,n),n&&p&4&&zh(i,r);break;case 22:r.memoizedState===null&&ol(i,r,n),Ss(r,r.return);break;case 30:break;default:ol(i,r,n)}t=t.sibling}}function Uc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ss(n))}function Hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e))}function ba(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bh(e,t,n,a),t=t.sibling}function Bh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ba(e,t,n,a),i&2048&&xs(9,t);break;case 1:ba(e,t,n,a);break;case 3:ba(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e)));break;case 12:if(i&2048){ba(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,p=r.id,x=r.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){At(t,t.return,_)}}else ba(e,t,n,a);break;case 31:ba(e,t,n,a);break;case 13:ba(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,p=t.alternate,t.memoizedState!==null?r._visibility&2?ba(e,t,n,a):ws(e,t):r._visibility&2?ba(e,t,n,a):(r._visibility|=2,gr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Uc(p,t);break;case 24:ba(e,t,n,a),i&2048&&Hc(t.alternate,t);break;default:ba(e,t,n,a)}}function gr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,p=t,x=n,_=a,F=p.flags;switch(p.tag){case 0:case 11:case 15:gr(r,p,x,_,i),xs(8,p);break;case 23:break;case 22:var ae=p.stateNode;p.memoizedState!==null?ae._visibility&2?gr(r,p,x,_,i):ws(r,p):(ae._visibility|=2,gr(r,p,x,_,i)),i&&F&2048&&Uc(p.alternate,p);break;case 24:gr(r,p,x,_,i),i&&F&2048&&Hc(p.alternate,p);break;default:gr(r,p,x,_,i)}t=t.sibling}}function ws(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ws(n,a),i&2048&&Uc(a.alternate,a);break;case 24:ws(n,a),i&2048&&Hc(a.alternate,a);break;default:ws(n,a)}t=t.sibling}}var js=8192;function br(e,t,n){if(e.subtreeFlags&js)for(e=e.child;e!==null;)qh(e,t,n),e=e.sibling}function qh(e,t,n){switch(e.tag){case 26:br(e,t,n),e.flags&js&&e.memoizedState!==null&&c0(n,ga,e.memoizedState,e.memoizedProps);break;case 5:br(e,t,n);break;case 3:case 4:var a=ga;ga=Zu(e.stateNode.containerInfo),br(e,t,n),ga=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=js,js=16777216,br(e,t,n),js=a):br(e,t,n));break;default:br(e,t,n)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];yn=a,Lh(a,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ku(e)):Ns(e);break;default:Ns(e)}}function ku(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];yn=a,Lh(a,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),ku(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ku(t));break;default:ku(t)}e=e.sibling}}function Lh(e,t){for(;yn!==null;){var n=yn;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ss(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,yn=a;else e:for(n=e;yn!==null;){a=yn;var i=a.sibling,r=a.return;if(Dh(a),a===n){yn=null;break e}if(i!==null){i.return=r,yn=i;break e}yn=r}}}var _y={getCacheForType:function(e){var t=vn(nn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return vn(nn).controller.signal}},Ey=typeof WeakMap=="function"?WeakMap:Map,jt=0,qt=null,ot=null,ft=0,Ct=0,Fn=null,Kl=!1,vr=!1,Lc=!1,cl=0,Zt=0,Yl=0,Di=0,Kc=0,Zn=0,xr=0,_s=null,Bn=null,Yc=!1,Bu=0,Kh=0,qu=1/0,Uu=null,Ql=null,cn=0,Gl=null,Sr=null,fl=0,Qc=0,Gc=null,Yh=null,Es=0,Xc=null;function Jn(){return(jt&2)!==0&&ft!==0?ft&-ft:X.T!==null?Pc():li()}function Qh(){if(Zn===0)if((ft&536870912)===0||pt){var e=gl;gl<<=1,(gl&3932160)===0&&(gl=262144),Zn=e}else Zn=536870912;return e=Xn.current,e!==null&&(e.flags|=32),Zn}function qn(e,t,n){(e===qt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Xl(e,ft,Zn,!1)),Pn(e,n),((jt&2)===0||e!==qt)&&(e===qt&&((jt&2)===0&&(Di|=n),Zt===4&&Xl(e,ft,Zn,!1)),ka(e))}function Gh(e,t,n){if((jt&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ha(e,t),i=a?Oy(e,t):Fc(e,t,!0),r=a;do{if(i===0){vr&&!a&&Xl(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Cy(n)){i=Fc(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;i=_s;var _=x.current.memoizedState.isDehydrated;if(_&&(wr(x,p).flags|=256),p=Fc(x,p,!1),p!==2){if(Lc&&!_){x.errorRecoveryDisabledLanes|=r,Di|=r,i=4;break e}r=Bn,Bn=i,r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r))}i=p}if(r=!1,i!==2)continue}}if(i===1){wr(e,0),Xl(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Xl(a,t,Zn,!Kl);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Bu+300-on(),10<i)){if(Xl(a,t,Zn,!Kl),ni(a,0,!0)!==0)break e;fl=t,a.timeoutHandle=Sm(Xh.bind(null,a,n,Bn,Uu,Yc,t,Zn,Di,xr,Kl,r,"Throttled",-0,0),i);break e}Xh(a,n,Bn,Uu,Yc,t,Zn,Di,xr,Kl,r,null,-0,0)}}break}while(!0);ka(e)}function Xh(e,t,n,a,i,r,p,x,_,F,ae,se,P,ee){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},qh(t,r,se);var Be=(r&62914560)===r?Bu-on():(r&4194048)===r?Kh-on():0;if(Be=f0(se,Be),Be!==null){fl=r,e.cancelPendingCommit=Be(Ih.bind(null,e,t,r,n,a,i,p,x,_,ae,se,null,P,ee)),Xl(e,r,p,!F);return}}Ih(e,t,r,n,a,i,p,x,_)}function Cy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!Nn(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,a){t&=~Kc,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-Ee(i),p=1<<r;a[r]=-1,i&=~p}n!==0&&ai(e,n,t)}function Hu(){return(jt&6)===0?(Cs(0),!1):!0}function Vc(){if(ot!==null){if(Ct===0)var e=ot.return;else e=ot,el=Si=null,uc(e),dr=null,os=0,e=ot;for(;e!==null;)wh(e.alternate,e),e=e.return;ot=null}}function wr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Fy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),fl=0,Vc(),qt=e,ot=n=Wa(e.current,null),ft=t,Ct=0,Fn=null,Kl=!1,vr=Ha(e,t),Lc=!1,xr=Zn=Kc=Di=Yl=Zt=0,Bn=_s=null,Yc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Ee(a),r=1<<i;t|=e[i],a&=~r}return cl=t,We(),n}function Vh(e,t){et=null,X.H=gs,t===fr||t===mu?(t=ud(),Ct=3):t===$o?(t=ud(),Ct=4):Ct=t===Nc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Fn=t,ot===null&&(Zt=1,Au(e,na(t,e.current)))}function Fh(){var e=Xn.current;return e===null?!0:(ft&4194048)===ft?ra===null:(ft&62914560)===ft||(ft&536870912)!==0?e===ra:!1}function Zh(){var e=X.H;return X.H=gs,e===null?gs:e}function Jh(){var e=X.A;return X.A=_y,e}function Lu(){Zt=4,Kl||(ft&4194048)!==ft&&Xn.current!==null||(vr=!0),(Yl&134217727)===0&&(Di&134217727)===0||qt===null||Xl(qt,ft,Zn,!1)}function Fc(e,t,n){var a=jt;jt|=2;var i=Zh(),r=Jh();(qt!==e||ft!==t)&&(Uu=null,wr(e,t)),t=!1;var p=Zt;e:do try{if(Ct!==0&&ot!==null){var x=ot,_=Fn;switch(Ct){case 8:Vc(),p=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(t=!0);var F=Ct;if(Ct=0,Fn=null,jr(e,x,_,F),n&&vr){p=0;break e}break;default:F=Ct,Ct=0,Fn=null,jr(e,x,_,F)}}Ay(),p=Zt;break}catch(ae){Vh(e,ae)}while(!0);return t&&e.shellSuspendCounter++,el=Si=null,jt=a,X.H=i,X.A=r,ot===null&&(qt=null,ft=0,We()),p}function Ay(){for(;ot!==null;)$h(ot)}function Oy(e,t){var n=jt;jt|=2;var a=Zh(),i=Jh();qt!==e||ft!==t?(Uu=null,qu=on()+500,wr(e,t)):vr=Ha(e,t);e:do try{if(Ct!==0&&ot!==null){t=ot;var r=Fn;t:switch(Ct){case 1:Ct=0,Fn=null,jr(e,t,r,1);break;case 2:case 9:if(rd(r)){Ct=0,Fn=null,Ph(t);break}t=function(){Ct!==2&&Ct!==9||qt!==e||(Ct=7),ka(e)},r.then(t,t);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:rd(r)?(Ct=0,Fn=null,Ph(t)):(Ct=0,Fn=null,jr(e,t,r,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var x=ot;if(p?Bm(p):x.stateNode.complete){Ct=0,Fn=null;var _=x.sibling;if(_!==null)ot=_;else{var F=x.return;F!==null?(ot=F,Ku(F)):ot=null}break t}}Ct=0,Fn=null,jr(e,t,r,5);break;case 6:Ct=0,Fn=null,jr(e,t,r,6);break;case 8:Vc(),Zt=6;break e;default:throw Error(d(462))}}Dy();break}catch(ae){Vh(e,ae)}while(!0);return el=Si=null,X.H=a,X.A=i,jt=n,ot!==null?0:(qt=null,ft=0,We(),Zt)}function Dy(){for(;ot!==null&&!un();)$h(ot)}function $h(e){var t=xh(e.alternate,e,cl);e.memoizedProps=e.pendingProps,t===null?Ku(e):ot=t}function Ph(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=mh(n,t,t.pendingProps,t.type,void 0,ft);break;case 11:t=mh(n,t,t.pendingProps,t.type.render,t.ref,ft);break;case 5:uc(t);default:wh(n,t),t=ot=Jf(t,cl),t=xh(n,t,cl)}e.memoizedProps=e.pendingProps,t===null?Ku(e):ot=t}function jr(e,t,n,a){el=Si=null,uc(t),dr=null,os=0;var i=t.return;try{if(by(e,i,t,n,ft)){Zt=1,Au(e,na(n,e.current)),ot=null;return}}catch(r){if(i!==null)throw ot=i,r;Zt=1,Au(e,na(n,e.current)),ot=null;return}t.flags&32768?(pt||a===1?e=!0:vr||(ft&536870912)!==0?e=!1:(Kl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Xn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wh(t,e)):Ku(t)}function Ku(e){var t=e;do{if((t.flags&32768)!==0){Wh(t,Kl);return}e=t.return;var n=Sy(t.alternate,t,cl);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Zt===0&&(Zt=5)}function Wh(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);Zt=6,ot=null}function Ih(e,t,n,a,i,r,p,x,_){e.cancelPendingCommit=null;do Yu();while(cn!==0);if((jt&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(r=t.lanes|t.childLanes,r|=Le,qr(e,n,r,p,x,_),e===qt&&(ot=qt=null,ft=0),Sr=t,Gl=e,fl=n,Qc=r,Gc=i,Yh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(Sa,function(){return lm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=X.T,X.T=null,i=oe.p,oe.p=2,p=jt,jt|=4;try{jy(e,t,n)}finally{jt=p,oe.p=i,X.T=a}}cn=1,em(),tm(),nm()}}function em(){if(cn===1){cn=0;var e=Gl,t=Sr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var a=oe.p;oe.p=2;var i=jt;jt|=4;try{Rh(t,e);var r=rf,p=y(e.containerInfo),x=r.focusedElem,_=r.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var F=_.start,ae=_.end;if(ae===void 0&&(ae=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(ae,x.value.length);else{var se=x.ownerDocument||document,P=se&&se.defaultView||window;if(P.getSelection){var ee=P.getSelection(),Be=x.textContent.length,Fe=Math.min(_.start,Be),zt=_.end===void 0?Fe:Math.min(_.end,Be);!ee.extend&&Fe>zt&&(p=zt,zt=Fe,Fe=p);var U=f(x,Fe),k=f(x,zt);if(U&&k&&(ee.rangeCount!==1||ee.anchorNode!==U.node||ee.anchorOffset!==U.offset||ee.focusNode!==k.node||ee.focusOffset!==k.offset)){var V=se.createRange();V.setStart(U.node,U.offset),ee.removeAllRanges(),Fe>zt?(ee.addRange(V),ee.extend(k.node,k.offset)):(V.setEnd(k.node,k.offset),ee.addRange(V))}}}}for(se=[],ee=x;ee=ee.parentNode;)ee.nodeType===1&&se.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var le=se[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}eo=!!lf,rf=lf=null}finally{jt=i,oe.p=a,X.T=n}}e.current=t,cn=2}}function tm(){if(cn===2){cn=0;var e=Gl,t=Sr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var a=oe.p;oe.p=2;var i=jt;jt|=4;try{Oh(e,t.alternate,t)}finally{jt=i,oe.p=a,X.T=n}}cn=3}}function nm(){if(cn===4||cn===3){cn=0,An();var e=Gl,t=Sr,n=fl,a=Yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?cn=5:(cn=0,Sr=Gl=null,am(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ql=null),bl(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Rt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=X.T,i=oe.p,oe.p=2,X.T=null;try{for(var r=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];r(x.value,{componentStack:x.stack})}}finally{X.T=t,oe.p=i}}(fl&3)!==0&&Yu(),ka(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Xc?Es++:(Es=0,Xc=e):Es=0,Cs(0)}}function am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ss(t)))}function Yu(){return em(),tm(),nm(),lm()}function lm(){if(cn!==5)return!1;var e=Gl,t=Qc;Qc=0;var n=bl(fl),a=X.T,i=oe.p;try{oe.p=32>n?32:n,X.T=null,n=Gc,Gc=null;var r=Gl,p=fl;if(cn=0,Sr=Gl=null,fl=0,(jt&6)!==0)throw Error(d(331));var x=jt;if(jt|=4,Hh(r.current),Bh(r,r.current,p,n),jt=x,Cs(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Rt,r)}catch{}return!0}finally{oe.p=i,X.T=a,am(e,t)}}function im(e,t,n){t=na(n,t),t=jc(e.stateNode,t,2),e=ql(e,t,2),e!==null&&(Pn(e,2),ka(e))}function At(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ql===null||!Ql.has(a))){e=na(n,e),n=rh(2),a=ql(t,n,2),a!==null&&(sh(n,a,t,e),Pn(a,2),ka(a));break}}t=t.return}}function Zc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ey;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Lc=!0,i.add(n),e=Ty.bind(null,e,t,n),t.then(e,e))}function Ty(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qt===e&&(ft&n)===n&&(Zt===4||Zt===3&&(ft&62914560)===ft&&300>on()-Bu?(jt&2)===0&&wr(e,0):Kc|=n,xr===ft&&(xr=0)),ka(e)}function rm(e,t){t===0&&(t=Zs()),e=Et(e,t),e!==null&&(Pn(e,t),ka(e))}function My(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rm(e,n)}function zy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),rm(e,n)}function Ry(e,t){return Ve(e,t)}var Qu=null,Nr=null,Jc=!1,Gu=!1,$c=!1,Vl=0;function ka(e){e!==Nr&&e.next===null&&(Nr===null?Qu=Nr=e:Nr=Nr.next=e),Gu=!0,Jc||(Jc=!0,By())}function Cs(e,t){if(!$c&&Gu){$c=!0;do for(var n=!1,a=Qu;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var p=a.suspendedLanes,x=a.pingedLanes;r=(1<<31-Ee(42|e)+1)-1,r&=i&~(p&~x),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cm(a,r))}else r=ft,r=ni(a,a===qt?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(r&3)===0||Ha(a,r)||(n=!0,cm(a,r));a=a.next}while(n);$c=!1}}function ky(){sm()}function sm(){Gu=Jc=!1;var e=0;Vl!==0&&Vy()&&(e=Vl);for(var t=on(),n=null,a=Qu;a!==null;){var i=a.next,r=um(a,t);r===0?(a.next=null,n===null?Qu=i:n.next=i,i===null&&(Nr=n)):(n=a,(e!==0||(r&3)!==0)&&(Gu=!0)),a=i}cn!==0&&cn!==5||Cs(e),Vl!==0&&(Vl=0)}function um(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var p=31-Ee(r),x=1<<p,_=i[p];_===-1?((x&n)===0||(x&a)!==0)&&(i[p]=Ao(x,t)):_<=t&&(e.expiredLanes|=x),r&=~x}if(t=qt,n=ft,n=ni(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ut(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ha(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ut(a),bl(n)){case 2:case 8:n=Ln;break;case 32:n=Sa;break;case 268435456:n=ze;break;default:n=Sa}return a=om.bind(null,e),n=Ve(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ut(a),e.callbackPriority=2,e.callbackNode=null,2}function om(e,t){if(cn!==0&&cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yu()&&e.callbackNode!==n)return null;var a=ft;return a=ni(e,e===qt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Gh(e,a,t),um(e,on()),e.callbackNode!=null&&e.callbackNode===n?om.bind(null,e):null)}function cm(e,t){if(Yu())return null;Gh(e,t,!0)}function By(){Zy(function(){(jt&6)!==0?Ve(dn,ky):sm()})}function Pc(){if(Vl===0){var e=or;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),Vl=e}return Vl}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function dm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function qy(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=fm((i[$t]||null).action),p=a.submitter;p&&(t=(t=p[$t]||null)?fm(t.formAction):p.getAttribute("formAction"),t!==null&&(r=t,p=null));var x=new Qi("action","action",null,a,i);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vl!==0){var _=p?dm(i,p):new FormData(i);gc(n,{pending:!0,data:_,method:i.method,action:r},null,_)}}else typeof r=="function"&&(x.preventDefault(),_=p?dm(i,p):new FormData(i),gc(n,{pending:!0,data:_,method:i.method,action:r},r,_))},currentTarget:i}]})}}for(var Wc=0;Wc<Me.length;Wc++){var Ic=Me[Wc],Uy=Ic.toLowerCase(),Hy=Ic[0].toUpperCase()+Ic.slice(1);he(Uy,"on"+Hy)}he(J,"onAnimationEnd"),he(L,"onAnimationIteration"),he(ne,"onAnimationStart"),he("dblclick","onDoubleClick"),he("focusin","onFocus"),he("focusout","onBlur"),he(fe,"onTransitionRun"),he(Ne,"onTransitionStart"),he(_e,"onTransitionCancel"),he(de,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function hm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,F=x.currentTarget;if(x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=F;try{r(i)}catch(ae){ke(ae)}i.currentTarget=null,r=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,F=x.currentTarget,x=x.listener,_!==r&&i.isPropagationStopped())break e;r=x,i.currentTarget=F;try{r(i)}catch(ae){ke(ae)}i.currentTarget=null,r=_}}}}function ct(e,t){var n=t[vl];n===void 0&&(n=t[vl]=new Set);var a=e+"__bubble";n.has(a)||(mm(t,e,2,!1),n.add(a))}function ef(e,t,n){var a=0;t&&(a|=4),mm(n,e,a,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function tf(e){if(!e[Xu]){e[Xu]=!0,La.forEach(function(n){n!=="selectionchange"&&(Ly.has(n)||ef(n,!1,e),ef(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,ef("selectionchange",!1,t))}}function mm(e,t,n,a){switch(Qm(t)){case 2:var i=m0;break;case 8:i=p0;break;default:i=gf}n=i.bind(null,t,n,e),i=void 0,!Xr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nf(e,t,n,a,i){var r=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===i)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;x!==null;){if(p=_a(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=r=p;continue e}x=x.parentNode}}a=a.return}Sl(function(){var F=r,ae=Ki(n),se=[];e:{var P=Re.get(e);if(P!==void 0){var ee=Qi,Be=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":ee=$i;break;case"focusin":Be="focus",ee=_l;break;case"focusout":Be="blur",ee=_l;break;case"beforeblur":case"afterblur":ee=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Wr;break;case J:case L:case ne:ee=Is;break;case de:ee=Ir;break;case"scroll":case"scrollend":ee=Gi;break;case"wheel":ee=Wi;break;case"copy":case"cut":case"paste":ee=El;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Pr;break;case"toggle":case"beforetoggle":ee=nu}var Fe=(t&4)!==0,zt=!Fe&&(e==="scroll"||e==="scrollend"),U=Fe?P!==null?P+"Capture":null:P;Fe=[];for(var k=F,V;k!==null;){var le=k;if(V=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||V===null||U===null||(le=Xa(k,U),le!=null&&Fe.push(Os(k,le,V))),zt)break;k=k.return}0<Fe.length&&(P=new ee(P,Be,null,n,ae),se.push({event:P,listeners:Fe}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",P&&n!==In&&(Be=n.relatedTarget||n.fromElement)&&(_a(Be)||Be[On]))break e;if((ee||P)&&(P=ae.window===ae?ae:(P=ae.ownerDocument)?P.defaultView||P.parentWindow:window,ee?(Be=n.relatedTarget||n.toElement,ee=F,Be=Be?_a(Be):null,Be!==null&&(zt=S(Be),Fe=Be.tag,Be!==zt||Fe!==5&&Fe!==27&&Fe!==6)&&(Be=null)):(ee=null,Be=F),ee!==Be)){if(Fe=Vi,le="onMouseLeave",U="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Pr,le="onPointerLeave",U="onPointerEnter",k="pointer"),zt=ee==null?P:Yn(ee),V=Be==null?P:Yn(Be),P=new Fe(le,k+"leave",ee,n,ae),P.target=zt,P.relatedTarget=V,le=null,_a(ae)===F&&(Fe=new Fe(U,k+"enter",Be,n,ae),Fe.target=V,Fe.relatedTarget=zt,le=Fe),zt=le,ee&&Be)t:{for(Fe=Ky,U=ee,k=Be,V=0,le=U;le;le=Fe(le))V++;le=0;for(var Ke=k;Ke;Ke=Fe(Ke))le++;for(;0<V-le;)U=Fe(U),V--;for(;0<le-V;)k=Fe(k),le--;for(;V--;){if(U===k||k!==null&&U===k.alternate){Fe=U;break t}U=Fe(U),k=Fe(k)}Fe=null}else Fe=null;ee!==null&&pm(se,P,ee,Fe,!1),Be!==null&&zt!==null&&pm(se,zt,Be,Fe,!0)}}e:{if(P=F?Yn(F):window,ee=P.nodeName&&P.nodeName.toLowerCase(),ee==="select"||ee==="input"&&P.type==="file")var bt=bi;else if(tr(P))if(ta)bt=Ol;else{bt=Pa;var qe=uu}else ee=P.nodeName,!ee||ee.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?F&&Gr(F.elementType)&&(bt=bi):bt=ls;if(bt&&(bt=bt(e,F))){as(se,bt,n,ae);break e}qe&&qe(e,P,F),e==="focusout"&&F&&P.type==="number"&&F.memoizedProps.value!=null&&ci(P,"number",P.value)}switch(qe=F?Yn(F):window,e){case"focusin":(tr(qe)||qe.contentEditable==="true")&&(j=qe,D=F,H=null);break;case"focusout":H=D=j=null;break;case"mousedown":T=!0;break;case"contextmenu":case"mouseup":case"dragend":T=!1,C(se,n,ae);break;case"selectionchange":if(w)break;case"keydown":case"keyup":C(se,n,ae)}var tt;if(yi)e:{switch(e){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Ja?ns(e,n)&&(dt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(dt="onCompositionStart");dt&&(Ii&&n.locale!=="ko"&&(Ja||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ja&&(tt=jl()):(ea=ae,Yi="value"in ea?ea.value:ea.textContent,Ja=!0)),qe=Vu(F,dt),0<qe.length&&(dt=new Ji(dt,e,null,n,ae),se.push({event:dt,listeners:qe}),tt?dt.data=tt:(tt=lu(n),tt!==null&&(dt.data=tt)))),(tt=Ro?iu(e,n):ko(e,n))&&(dt=Vu(F,"onBeforeInput"),0<dt.length&&(qe=new Ji("onBeforeInput","beforeinput",null,n,ae),se.push({event:qe,listeners:dt}),qe.data=tt)),qy(se,e,F,n,ae)}hm(se,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Xa(e,n),i!=null&&a.unshift(Os(e,i,r)),i=Xa(e,t),i!=null&&a.push(Os(e,i,r))),e.tag===3)return a;e=e.return}return[]}function Ky(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,a,i){for(var r=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,F=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||F===null||(_=F,i?(F=Xa(n,r),F!=null&&p.unshift(Os(n,F,_))):i||(F=Xa(n,r),F!=null&&p.push(Os(n,F,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Yy=/\r\n?/g,Qy=/\u0000|\uFFFD/g;function ym(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Qy,"")}function gm(e,t){return t=ym(t),ym(e)===t}function Mt(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ya(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ya(e,""+a);break;case"className":ui(e,"class",a);break;case"tabIndex":ui(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,n,a);break;case"style":Qr(e,a,r);break;case"data":if(t!=="object"){ui(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ya(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Mt(e,t,"name",i.name,i,null),Mt(e,t,"formEncType",i.formEncType,i,null),Mt(e,t,"formMethod",i.formMethod,i,null),Mt(e,t,"formTarget",i.formTarget,i,null)):(Mt(e,t,"encType",i.encType,i,null),Mt(e,t,"method",i.method,i,null),Mt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=ya(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Mn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=ya(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),lt(e,"popover",a);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":lt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=To.get(n)||n,lt(e,n,a))}}function af(e,t,n,a,i,r){switch(n){case"style":Qr(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ya(e,a):(typeof a=="number"||typeof a=="bigint")&&Ya(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[$t]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):lt(e,n,a)}}}function Sn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Mt(e,t,r,p,n,null)}}i&&Mt(e,t,"srcSet",n.srcSet,n,null),a&&Mt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var x=r=p=i=null,_=null,F=null;for(a in n)if(n.hasOwnProperty(a)){var ae=n[a];if(ae!=null)switch(a){case"name":i=ae;break;case"type":p=ae;break;case"checked":_=ae;break;case"defaultChecked":F=ae;break;case"value":r=ae;break;case"defaultValue":x=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(d(137,t));break;default:Mt(e,t,a,ae,n,null)}}Li(e,r,x,_,F,p,i,!1);return;case"select":ct("invalid",e),a=p=r=null;for(i in n)if(n.hasOwnProperty(i)&&(x=n[i],x!=null))switch(i){case"value":r=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Mt(e,t,i,x,n,null)}t=r,n=p,e.multiple=!!a,t!=null?pa(e,!!a,t,!1):n!=null&&pa(e,!!a,n,!0);return;case"textarea":ct("invalid",e),r=i=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":i=x;break;case"children":r=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Mt(e,t,p,x,n,null)}fi(e,a,i,r);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Mt(e,t,_,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<As.length;a++)ct(As[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Mt(e,t,F,a,n,null)}return;default:if(Gr(t)){for(ae in n)n.hasOwnProperty(ae)&&(a=n[ae],a!==void 0&&af(e,t,ae,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Mt(e,t,x,a,n,null))}function Gy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,p=null,x=null,_=null,F=null,ae=null;for(ee in n){var se=n[ee];if(n.hasOwnProperty(ee)&&se!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":_=se;default:a.hasOwnProperty(ee)||Mt(e,t,ee,null,a,se)}}for(var P in a){var ee=a[P];if(se=n[P],a.hasOwnProperty(P)&&(ee!=null||se!=null))switch(P){case"type":r=ee;break;case"name":i=ee;break;case"checked":F=ee;break;case"defaultChecked":ae=ee;break;case"value":p=ee;break;case"defaultValue":x=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(d(137,t));break;default:ee!==se&&Mt(e,t,P,ee,a,se)}}Ca(e,p,x,_,F,ae,r,i);return;case"select":ee=p=x=P=null;for(r in n)if(_=n[r],n.hasOwnProperty(r)&&_!=null)switch(r){case"value":break;case"multiple":ee=_;default:a.hasOwnProperty(r)||Mt(e,t,r,null,a,_)}for(i in a)if(r=a[i],_=n[i],a.hasOwnProperty(i)&&(r!=null||_!=null))switch(i){case"value":P=r;break;case"defaultValue":x=r;break;case"multiple":p=r;default:r!==_&&Mt(e,t,i,r,a,_)}t=x,n=p,a=ee,P!=null?pa(e,!!n,P,!1):!!a!=!!n&&(t!=null?pa(e,!!n,t,!0):pa(e,!!n,n?[]:"",!1));return;case"textarea":ee=P=null;for(x in n)if(i=n[x],n.hasOwnProperty(x)&&i!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Mt(e,t,x,null,a,i)}for(p in a)if(i=a[p],r=n[p],a.hasOwnProperty(p)&&(i!=null||r!=null))switch(p){case"value":P=i;break;case"defaultValue":ee=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==r&&Mt(e,t,p,i,a,r)}Yr(e,P,ee);return;case"option":for(var Be in n)P=n[Be],n.hasOwnProperty(Be)&&P!=null&&!a.hasOwnProperty(Be)&&(Be==="selected"?e.selected=!1:Mt(e,t,Be,null,a,P));for(_ in a)P=a[_],ee=n[_],a.hasOwnProperty(_)&&P!==ee&&(P!=null||ee!=null)&&(_==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Mt(e,t,_,P,a,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in n)P=n[Fe],n.hasOwnProperty(Fe)&&P!=null&&!a.hasOwnProperty(Fe)&&Mt(e,t,Fe,null,a,P);for(F in a)if(P=a[F],ee=n[F],a.hasOwnProperty(F)&&P!==ee&&(P!=null||ee!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(d(137,t));break;default:Mt(e,t,F,P,a,ee)}return;default:if(Gr(t)){for(var zt in n)P=n[zt],n.hasOwnProperty(zt)&&P!==void 0&&!a.hasOwnProperty(zt)&&af(e,t,zt,void 0,a,P);for(ae in a)P=a[ae],ee=n[ae],!a.hasOwnProperty(ae)||P===ee||P===void 0&&ee===void 0||af(e,t,ae,P,a,ee);return}}for(var U in n)P=n[U],n.hasOwnProperty(U)&&P!=null&&!a.hasOwnProperty(U)&&Mt(e,t,U,null,a,P);for(se in a)P=a[se],ee=n[se],!a.hasOwnProperty(se)||P===ee||P==null&&ee==null||Mt(e,t,se,P,a,ee)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,p=i.initiatorType,x=i.duration;if(r&&x&&bm(p)){for(p=0,x=i.responseEnd,a+=1;a<n.length;a++){var _=n[a],F=_.startTime;if(F>x)break;var ae=_.transferSize,se=_.initiatorType;ae&&bm(se)&&(_=_.responseEnd,p+=ae*(_<x?1:(x-F)/(_-F)))}if(--a,t+=8*(r+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,rf=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===uf?!1:(uf=e,!0):(uf=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(e){return wm.resolve(null).then(e).catch(Jy)}:Sm;function Jy(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function jm(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ar(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ds(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ds(n);for(var r=n.firstChild;r;){var p=r.nextSibling,x=r.nodeName;r[Kn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=p}}else n==="body"&&Ds(e.ownerDocument.body);n=i}while(n);Ar(t)}function Nm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":of(n),Ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $y(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function Py(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sa(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var df=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return sa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Am(e,t,n){switch(t=Fu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var ua=new Map,Om=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dl=oe.d;oe.d={f:Iy,r:e0,D:t0,C:n0,L:a0,m:l0,X:r0,S:i0,M:s0};function Iy(){var e=dl.f(),t=Hu();return e||t}function e0(e){var t=Ot(e);t!==null&&t.tag===5&&t.type==="form"?Vd(t):dl.r(e)}var _r=typeof document>"u"?null:document;function Dm(e,t,n){var a=_r;if(a&&typeof t=="string"&&t){var i=hn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Om.has(i)||(Om.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Sn(t,"link",e),Pt(t),a.head.appendChild(t)))}}function t0(e){dl.D(e),Dm("dns-prefetch",e,null)}function n0(e,t){dl.C(e,t),Dm("preconnect",e,t)}function a0(e,t,n){dl.L(e,t,n);var a=_r;if(a&&e&&t){var i='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+hn(n.imageSizes)+'"]')):i+='[href="'+hn(e)+'"]';var r=i;switch(t){case"style":r=Er(e);break;case"script":r=Cr(e)}ua.has(r)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ua.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Ts(r))||t==="script"&&a.querySelector(Ms(r))||(t=a.createElement("link"),Sn(t,"link",e),Pt(t),a.head.appendChild(t)))}}function l0(e,t){dl.m(e,t);var n=_r;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+hn(a)+'"][href="'+hn(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Cr(e)}if(!ua.has(r)&&(e=A({rel:"modulepreload",href:e},t),ua.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ms(r)))return}a=n.createElement("link"),Sn(a,"link",e),Pt(a),n.head.appendChild(a)}}}function i0(e,t,n){dl.S(e,t,n);var a=_r;if(a&&e){var i=wn(a).hoistableStyles,r=Er(e);t=t||"default";var p=i.get(r);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(Ts(r)))x.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ua.get(r))&&hf(e,n);var _=p=a.createElement("link");Pt(_),Sn(_,"link",e),_._p=new Promise(function(F,ae){_.onload=F,_.onerror=ae}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ju(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},i.set(r,p)}}}function r0(e,t){dl.X(e,t);var n=_r;if(n&&e){var a=wn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=A({src:e,async:!0},t),(t=ua.get(i))&&mf(e,t),r=n.createElement("script"),Pt(r),Sn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function s0(e,t){dl.M(e,t);var n=_r;if(n&&e){var a=wn(n).hoistableScripts,i=Cr(e),r=a.get(i);r||(r=n.querySelector(Ms(i)),r||(e=A({src:e,async:!0,type:"module"},t),(t=ua.get(i))&&mf(e,t),r=n.createElement("script"),Pt(r),Sn(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Tm(e,t,n,a){var i=(i=it.current)?Zu(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Er(n.href),n=wn(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Er(n.href);var r=wn(i).hoistableStyles,p=r.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,p),(r=i.querySelector(Ts(e)))&&!r._p&&(p.instance=r,p.state.loading=5),ua.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ua.set(e,n),r||u0(i,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(n),n=wn(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Er(e){return'href="'+hn(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function u0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Sn(t,"link",n),Pt(t),e.head.appendChild(t))}function Cr(e){return'[src="'+hn(e)+'"]'}function Ms(e){return"script[async]"+e}function zm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+hn(n.href)+'"]');if(a)return t.instance=a,Pt(a),a;var i=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Pt(a),Sn(a,"style",i),Ju(a,n.precedence,e),t.instance=a;case"stylesheet":i=Er(n.href);var r=e.querySelector(Ts(i));if(r)return t.state.loading|=4,t.instance=r,Pt(r),r;a=Mm(n),(i=ua.get(i))&&hf(a,i),r=(e.ownerDocument||e).createElement("link"),Pt(r);var p=r;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),Sn(r,"link",a),t.state.loading|=4,Ju(r,n.precedence,e),t.instance=r;case"script":return r=Cr(n.src),(i=e.querySelector(Ms(r)))?(t.instance=i,Pt(i),i):(a=n,(i=ua.get(r))&&(a=A({},n),mf(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Pt(i),Sn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ju(a,n.precedence,e));return t.instance}function Ju(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)r=x;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $u=null;function Rm(e,t,n){if($u===null){var a=new Map,i=$u=new Map;i.set(n,a)}else i=$u,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Kn]||r[Ut]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var p=r.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(r):a.set(p,[r])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=Er(a.href),r=t.querySelector(Ts(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Pt(r);return}r=t.ownerDocument||t,a=Mm(a),(i=ua.get(i))&&hf(a,i),r=r.createElement("link"),Pt(r);var p=r;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),Sn(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Pu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pf=0;function f0(e,t){return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&pf===0&&(pf=62500*Xy());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>pf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function Iu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(d0,e),Wu=null,Pu.call(e))}function d0(e,t){if(!(t.state.loading&4)){var n=Wu.get(e);if(n)var a=n.get(null);else{n=new Map,Wu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var p=i[r];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}i=t.instance,p=i.getAttribute("data-precedence"),r=n.get(p)||a,r===a&&n.set(null,i),n.set(p,i),this.count++,a=Pu.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var zs={$$typeof:ve,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function h0(e,t,n,a,i,r,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,n,a,i,r,p,x,_,F,ae,se){return e=new h0(e,t,n,p,_,F,ae,se,x),t=1,r===!0&&(t|=24),r=Gn(3,null,null,t),e.current=r,r.stateNode=e,t=Fo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Po(r),e}function Um(e){return e?(e=lr,e):lr}function Hm(e,t,n,a,i,r){i=Um(i),a.context===null?a.context=i:a.pendingContext=i,a=Bl(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=ql(e,a,t),n!==null&&(qn(n,e,t),fs(n,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yf(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function Km(e){if(e.tag===13||e.tag===31){var t=Et(e,67108864);t!==null&&qn(t,e,67108864),yf(e,67108864)}}function Ym(e){if(e.tag===13||e.tag===31){var t=Jn();t=Ur(t);var n=Et(e,t);n!==null&&qn(n,e,t),yf(e,t)}}var eo=!0;function m0(e,t,n,a){var i=X.T;X.T=null;var r=oe.p;try{oe.p=2,gf(e,t,n,a)}finally{oe.p=r,X.T=i}}function p0(e,t,n,a){var i=X.T;X.T=null;var r=oe.p;try{oe.p=8,gf(e,t,n,a)}finally{oe.p=r,X.T=i}}function gf(e,t,n,a){if(eo){var i=bf(a);if(i===null)nf(e,t,a,to,n),Gm(e,a);else if(g0(i,e,t,n,a))a.stopPropagation();else if(Gm(e,a),t&4&&-1<y0.indexOf(e)){for(;i!==null;){var r=Ot(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var p=ha(r.pendingLanes);if(p!==0){var x=r;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Ee(p);x.entanglements[1]|=_,p&=~_}ka(r),(jt&6)===0&&(qu=on()+500,Cs(0))}}break;case 31:case 13:x=Et(r,2),x!==null&&qn(x,r,2),Hu(),yf(r,2)}if(r=bf(a),r===null&&nf(e,t,a,to,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else nf(e,t,a,null,n)}}function bf(e){return e=Ki(e),vf(e)}var to=null;function vf(e){if(to=null,e=_a(e),e!==null){var t=S(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case dn:return 2;case Ln:return 8;case Sa:case qa:return 32;case ze:return 268435456;default:return 32}default:return 32}}var xf=!1,Zl=null,Jl=null,$l=null,Rs=new Map,ks=new Map,Pl=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gm(e,t){switch(e){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Bs(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=Ot(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g0(e,t,n,a,i){switch(t){case"focusin":return Zl=Bs(Zl,e,t,n,a,i),!0;case"dragenter":return Jl=Bs(Jl,e,t,n,a,i),!0;case"mouseover":return $l=Bs($l,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Rs.set(r,Bs(Rs.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,ks.set(r,Bs(ks.get(r)||null,e,t,n,a,i)),!0}return!1}function Xm(e){var t=_a(e.target);if(t!==null){var n=S(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,ii(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);In=a,n.target.dispatchEvent(a),In=null}else return t=Ot(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){no(e)&&n.delete(t)}function b0(){xf=!1,Zl!==null&&no(Zl)&&(Zl=null),Jl!==null&&no(Jl)&&(Jl=null),$l!==null&&no($l)&&($l=null),Rs.forEach(Vm),ks.forEach(Vm)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,xf||(xf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,b0)))}var lo=null;function Fm(e){lo!==e&&(lo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(vf(a||n)===null)continue;break}var r=Ot(n);r!==null&&(e.splice(t,3),t-=3,gc(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ar(e){function t(_){return ao(_,e)}Zl!==null&&ao(Zl,e),Jl!==null&&ao(Jl,e),$l!==null&&ao($l,e),Rs.forEach(t),ks.forEach(t);for(var n=0;n<Pl.length;n++){var a=Pl[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)Xm(n),n.blockedOn===null&&Pl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],p=i[$t]||null;if(typeof r=="function")p||Fm(n);else if(p){var x=null;if(r&&r.hasAttribute("formAction")){if(i=r,p=r[$t]||null)x=p.formAction;else if(vf(i)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Fm(n)}}}function Zm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Sf(e){this._internalRoot=e}io.prototype.render=Sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Jn();Hm(n,a,e,t,null,null)},io.prototype.unmount=Sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Hu(),t[On]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=li();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&Xm(e)}};var Jm=c.version;if(Jm!=="19.2.4")throw Error(d(527,Jm,"19.2.4"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(t),e=e!==null?O(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Rt=ro.inject(v0),_t=ro}catch{}}return qs.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",i=nh,r=ah,p=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=qm(e,1,!1,null,null,n,a,null,i,r,p,Zm),e[On]=t.current,tf(e),new Sf(t)},qs.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,i="",r=nh,p=ah,x=lh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=qm(e,1,!0,t,n??null,a,i,_,r,p,x,Zm),t.context=Um(null),n=t.current,a=Jn(),a=Ur(a),i=Bl(a),i.callback=null,ql(n,i,a),n=a,t.current.lanes=n,Pn(t,n),ka(t),e[On]=t.current,tf(e),new io(t)},qs.version="19.2.4",qs}var Im;function B0(){if(Im)return wf.exports;Im=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),wf.exports=k0(),wf.exports}var q0=B0();const ep=s=>{let c;const m=new Set,d=(E,O)=>{const A=typeof E=="function"?E(c):E;if(!Object.is(A,c)){const Z=c;c=O??(typeof A!="object"||A===null)?A:Object.assign({},c,A),m.forEach(me=>me(c,Z))}},g=()=>c,N={setState:d,getState:g,getInitialState:()=>q,subscribe:E=>(m.add(E),()=>m.delete(E))},q=c=s(d,g,N);return N},U0=(s=>s?ep(s):ep),H0=s=>s;function L0(s,c=H0){const m=so.useSyncExternalStore(s.subscribe,so.useCallback(()=>c(s.getState()),[s,c]),so.useCallback(()=>c(s.getInitialState()),[s,c]));return so.useDebugValue(m),m}const tp=s=>{const c=U0(s),m=d=>L0(c,d);return Object.assign(m,c),m},K0=(s=>s?tp(s):tp);function Y0(s,c){let m;try{m=s()}catch{return}return{getItem:g=>{var S;const v=q=>q===null?null:JSON.parse(q,void 0),N=(S=m.getItem(g))!=null?S:null;return N instanceof Promise?N.then(v):v(N)},setItem:(g,S)=>m.setItem(g,JSON.stringify(S,void 0)),removeItem:g=>m.removeItem(g)}}const Of=s=>c=>{try{const m=s(c);return m instanceof Promise?m:{then(d){return Of(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Of(d)(m)}}}},Q0=(s,c)=>(m,d,g)=>{let S={storage:Y0(()=>window.localStorage),partialize:$=>$,version:0,merge:($,Ce)=>({...Ce,...$}),...c},v=!1,N=0;const q=new Set,E=new Set;let O=S.storage;if(!O)return s((...$)=>{console.warn(`[zustand persist middleware] Unable to update item '${S.name}', the given storage is currently unavailable.`),m(...$)},d,g);const A=()=>{const $=S.partialize({...d()});return O.setItem(S.name,{state:$,version:S.version})},Z=g.setState;g.setState=($,Ce)=>(Z($,Ce),A());const me=s((...$)=>(m(...$),A()),d,g);g.getInitialState=()=>me;let G;const ie=()=>{var $,Ce;if(!O)return;const ce=++N;v=!1,q.forEach(te=>{var xe;return te((xe=d())!=null?xe:me)});const ve=((Ce=S.onRehydrateStorage)==null?void 0:Ce.call(S,($=d())!=null?$:me))||void 0;return Of(O.getItem.bind(O))(S.name).then(te=>{if(te)if(typeof te.version=="number"&&te.version!==S.version){if(S.migrate){const xe=S.migrate(te.state,te.version);return xe instanceof Promise?xe.then(ge=>[!0,ge]):[!0,xe]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,te.state];return[!1,void 0]}).then(te=>{var xe;if(ce!==N)return;const[ge,Se]=te;if(G=S.merge(Se,(xe=d())!=null?xe:me),m(G,!0),ge)return A()}).then(()=>{ce===N&&(ve?.(G,void 0),G=d(),v=!0,E.forEach(te=>te(G)))}).catch(te=>{ce===N&&ve?.(void 0,te)})};return g.persist={setOptions:$=>{S={...S,...$},$.storage&&(O=$.storage)},clearStorage:()=>{O?.removeItem(S.name)},getOptions:()=>S,rehydrate:()=>ie(),hasHydrated:()=>v,onHydrate:$=>(q.add($),()=>{q.delete($)}),onFinishHydration:$=>(E.add($),()=>{E.delete($)})},S.skipHydration||ie(),G||me},G0=Q0,yl=K0(G0(s=>({token:null,setToken:c=>s({token:c}),logout:()=>s({token:null})}),{name:"wisemark-auth",partialize:s=>({token:s.token})}));function Tp(s,c){return function(){return s.apply(c,arguments)}}const{toString:X0}=Object.prototype,{getPrototypeOf:Hf}=Object,{iterator:So,toStringTag:Mp}=Symbol,wo=(s=>c=>{const m=X0.call(c);return s[m]||(s[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),va=s=>(s=s.toLowerCase(),c=>wo(c)===s),jo=s=>c=>typeof c===s,{isArray:kr}=Array,Tr=jo("undefined");function Qs(s){return s!==null&&!Tr(s)&&s.constructor!==null&&!Tr(s.constructor)&&Un(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const zp=va("ArrayBuffer");function V0(s){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(s):c=s&&s.buffer&&zp(s.buffer),c}const F0=jo("string"),Un=jo("function"),Rp=jo("number"),Gs=s=>s!==null&&typeof s=="object",Z0=s=>s===!0||s===!1,co=s=>{if(wo(s)!=="object")return!1;const c=Hf(s);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Mp in s)&&!(So in s)},J0=s=>{if(!Gs(s)||Qs(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},$0=va("Date"),P0=va("File"),W0=va("Blob"),I0=va("FileList"),eg=s=>Gs(s)&&Un(s.pipe),tg=s=>{let c;return s&&(typeof FormData=="function"&&s instanceof FormData||Un(s.append)&&((c=wo(s))==="formdata"||c==="object"&&Un(s.toString)&&s.toString()==="[object FormData]"))},ng=va("URLSearchParams"),[ag,lg,ig,rg]=["ReadableStream","Request","Response","Headers"].map(va),sg=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xs(s,c,{allOwnKeys:m=!1}={}){if(s===null||typeof s>"u")return;let d,g;if(typeof s!="object"&&(s=[s]),kr(s))for(d=0,g=s.length;d<g;d++)c.call(null,s[d],d,s);else{if(Qs(s))return;const S=m?Object.getOwnPropertyNames(s):Object.keys(s),v=S.length;let N;for(d=0;d<v;d++)N=S[d],c.call(null,s[N],N,s)}}function kp(s,c){if(Qs(s))return null;c=c.toLowerCase();const m=Object.keys(s);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bp=s=>!Tr(s)&&s!==Ti;function Df(){const{caseless:s,skipUndefined:c}=Bp(this)&&this||{},m={},d=(g,S)=>{if(S==="__proto__"||S==="constructor"||S==="prototype")return;const v=s&&kp(m,S)||S;co(m[v])&&co(g)?m[v]=Df(m[v],g):co(g)?m[v]=Df({},g):kr(g)?m[v]=g.slice():(!c||!Tr(g))&&(m[v]=g)};for(let g=0,S=arguments.length;g<S;g++)arguments[g]&&Xs(arguments[g],d);return m}const ug=(s,c,m,{allOwnKeys:d}={})=>(Xs(c,(g,S)=>{m&&Un(g)?Object.defineProperty(s,S,{value:Tp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(s,S,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),s),og=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),cg=(s,c,m,d)=>{s.prototype=Object.create(c.prototype,d),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(s,"super",{value:c.prototype}),m&&Object.assign(s.prototype,m)},fg=(s,c,m,d)=>{let g,S,v;const N={};if(c=c||{},s==null)return c;do{for(g=Object.getOwnPropertyNames(s),S=g.length;S-- >0;)v=g[S],(!d||d(v,s,c))&&!N[v]&&(c[v]=s[v],N[v]=!0);s=m!==!1&&Hf(s)}while(s&&(!m||m(s,c))&&s!==Object.prototype);return c},dg=(s,c,m)=>{s=String(s),(m===void 0||m>s.length)&&(m=s.length),m-=c.length;const d=s.indexOf(c,m);return d!==-1&&d===m},hg=s=>{if(!s)return null;if(kr(s))return s;let c=s.length;if(!Rp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=s[c];return m},mg=(s=>c=>s&&c instanceof s)(typeof Uint8Array<"u"&&Hf(Uint8Array)),pg=(s,c)=>{const d=(s&&s[So]).call(s);let g;for(;(g=d.next())&&!g.done;){const S=g.value;c.call(s,S[0],S[1])}},yg=(s,c)=>{let m;const d=[];for(;(m=s.exec(c))!==null;)d.push(m);return d},gg=va("HTMLFormElement"),bg=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),np=(({hasOwnProperty:s})=>(c,m)=>s.call(c,m))(Object.prototype),vg=va("RegExp"),qp=(s,c)=>{const m=Object.getOwnPropertyDescriptors(s),d={};Xs(m,(g,S)=>{let v;(v=c(g,S,s))!==!1&&(d[S]=v||g)}),Object.defineProperties(s,d)},xg=s=>{qp(s,(c,m)=>{if(Un(s)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=s[m];if(Un(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Sg=(s,c)=>{const m={},d=g=>{g.forEach(S=>{m[S]=!0})};return kr(s)?d(s):d(String(s).split(c)),m},wg=()=>{},jg=(s,c)=>s!=null&&Number.isFinite(s=+s)?s:c;function Ng(s){return!!(s&&Un(s.append)&&s[Mp]==="FormData"&&s[So])}const _g=s=>{const c=new Array(10),m=(d,g)=>{if(Gs(d)){if(c.indexOf(d)>=0)return;if(Qs(d))return d;if(!("toJSON"in d)){c[g]=d;const S=kr(d)?[]:{};return Xs(d,(v,N)=>{const q=m(v,g+1);!Tr(q)&&(S[N]=q)}),c[g]=void 0,S}}return d};return m(s,0)},Eg=va("AsyncFunction"),Cg=s=>s&&(Gs(s)||Un(s))&&Un(s.then)&&Un(s.catch),Up=((s,c)=>s?setImmediate:c?((m,d)=>(Ti.addEventListener("message",({source:g,data:S})=>{g===Ti&&S===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Ti.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Un(Ti.postMessage)),Ag=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||Up,Og=s=>s!=null&&Un(s[So]),I={isArray:kr,isArrayBuffer:zp,isBuffer:Qs,isFormData:tg,isArrayBufferView:V0,isString:F0,isNumber:Rp,isBoolean:Z0,isObject:Gs,isPlainObject:co,isEmptyObject:J0,isReadableStream:ag,isRequest:lg,isResponse:ig,isHeaders:rg,isUndefined:Tr,isDate:$0,isFile:P0,isBlob:W0,isRegExp:vg,isFunction:Un,isStream:eg,isURLSearchParams:ng,isTypedArray:mg,isFileList:I0,forEach:Xs,merge:Df,extend:ug,trim:sg,stripBOM:og,inherits:cg,toFlatObject:fg,kindOf:wo,kindOfTest:va,endsWith:dg,toArray:hg,forEachEntry:pg,matchAll:yg,isHTMLForm:gg,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:qp,freezeMethods:xg,toObjectSet:Sg,toCamelCase:bg,noop:wg,toFiniteNumber:jg,findKey:kp,global:Ti,isContextDefined:Bp,isSpecCompliantForm:Ng,toJSONObject:_g,isAsyncFn:Eg,isThenable:Cg,setImmediate:Up,asap:Ag,isIterable:Og};let Je=class Hp extends Error{static from(c,m,d,g,S,v){const N=new Hp(c.message,m||c.code,d,g,S);return N.cause=c,N.name=c.name,v&&Object.assign(N,v),N}constructor(c,m,d,g,S){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),S&&(this.response=S,this.status=S.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};Je.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Je.ERR_BAD_OPTION="ERR_BAD_OPTION";Je.ECONNABORTED="ECONNABORTED";Je.ETIMEDOUT="ETIMEDOUT";Je.ERR_NETWORK="ERR_NETWORK";Je.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Je.ERR_DEPRECATED="ERR_DEPRECATED";Je.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Je.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Je.ERR_CANCELED="ERR_CANCELED";Je.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Je.ERR_INVALID_URL="ERR_INVALID_URL";const Dg=null;function Tf(s){return I.isPlainObject(s)||I.isArray(s)}function Lp(s){return I.endsWith(s,"[]")?s.slice(0,-2):s}function ap(s,c,m){return s?s.concat(c).map(function(g,S){return g=Lp(g),!m&&S?"["+g+"]":g}).join(m?".":""):c}function Tg(s){return I.isArray(s)&&!s.some(Tf)}const Mg=I.toFlatObject(I,{},null,function(c){return/^is[A-Z]/.test(c)});function No(s,c,m){if(!I.isObject(s))throw new TypeError("target must be an object");c=c||new FormData,m=I.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ie,$){return!I.isUndefined($[ie])});const d=m.metaTokens,g=m.visitor||O,S=m.dots,v=m.indexes,q=(m.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(c);if(!I.isFunction(g))throw new TypeError("visitor must be a function");function E(G){if(G===null)return"";if(I.isDate(G))return G.toISOString();if(I.isBoolean(G))return G.toString();if(!q&&I.isBlob(G))throw new Je("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(G)||I.isTypedArray(G)?q&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function O(G,ie,$){let Ce=G;if(G&&!$&&typeof G=="object"){if(I.endsWith(ie,"{}"))ie=d?ie:ie.slice(0,-2),G=JSON.stringify(G);else if(I.isArray(G)&&Tg(G)||(I.isFileList(G)||I.endsWith(ie,"[]"))&&(Ce=I.toArray(G)))return ie=Lp(ie),Ce.forEach(function(ve,te){!(I.isUndefined(ve)||ve===null)&&c.append(v===!0?ap([ie],te,S):v===null?ie:ie+"[]",E(ve))}),!1}return Tf(G)?!0:(c.append(ap($,ie,S),E(G)),!1)}const A=[],Z=Object.assign(Mg,{defaultVisitor:O,convertValue:E,isVisitable:Tf});function me(G,ie){if(!I.isUndefined(G)){if(A.indexOf(G)!==-1)throw Error("Circular reference detected in "+ie.join("."));A.push(G),I.forEach(G,function(Ce,ce){(!(I.isUndefined(Ce)||Ce===null)&&g.call(c,Ce,I.isString(ce)?ce.trim():ce,ie,Z))===!0&&me(Ce,ie?ie.concat(ce):[ce])}),A.pop()}}if(!I.isObject(s))throw new TypeError("data must be an object");return me(s),c}function lp(s){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Lf(s,c){this._pairs=[],s&&No(s,this,c)}const Kp=Lf.prototype;Kp.append=function(c,m){this._pairs.push([c,m])};Kp.toString=function(c){const m=c?function(d){return c.call(this,d,lp)}:lp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function zg(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yp(s,c,m){if(!c)return s;const d=m&&m.encode||zg,g=I.isFunction(m)?{serialize:m}:m,S=g&&g.serialize;let v;if(S?v=S(c,g):v=I.isURLSearchParams(c)?c.toString():new Lf(c,g).toString(d),v){const N=s.indexOf("#");N!==-1&&(s=s.slice(0,N)),s+=(s.indexOf("?")===-1?"?":"&")+v}return s}class ip{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){I.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Rg=typeof URLSearchParams<"u"?URLSearchParams:Lf,kg=typeof FormData<"u"?FormData:null,Bg=typeof Blob<"u"?Blob:null,qg={isBrowser:!0,classes:{URLSearchParams:Rg,FormData:kg,Blob:Bg},protocols:["http","https","file","blob","url","data"]},Yf=typeof window<"u"&&typeof document<"u",Mf=typeof navigator=="object"&&navigator||void 0,Ug=Yf&&(!Mf||["ReactNative","NativeScript","NS"].indexOf(Mf.product)<0),Hg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lg=Yf&&window.location.href||"http://localhost",Kg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yf,hasStandardBrowserEnv:Ug,hasStandardBrowserWebWorkerEnv:Hg,navigator:Mf,origin:Lg},Symbol.toStringTag,{value:"Module"})),Cn={...Kg,...qg};function Yg(s,c){return No(s,new Cn.classes.URLSearchParams,{visitor:function(m,d,g,S){return Cn.isNode&&I.isBuffer(m)?(this.append(d,m.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)},...c})}function Qg(s){return I.matchAll(/\w+|\[(\w*)]/g,s).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Gg(s){const c={},m=Object.keys(s);let d;const g=m.length;let S;for(d=0;d<g;d++)S=m[d],c[S]=s[S];return c}function Qp(s){function c(m,d,g,S){let v=m[S++];if(v==="__proto__")return!0;const N=Number.isFinite(+v),q=S>=m.length;return v=!v&&I.isArray(g)?g.length:v,q?(I.hasOwnProp(g,v)?g[v]=[g[v],d]:g[v]=d,!N):((!g[v]||!I.isObject(g[v]))&&(g[v]=[]),c(m,d,g[v],S)&&I.isArray(g[v])&&(g[v]=Gg(g[v])),!N)}if(I.isFormData(s)&&I.isFunction(s.entries)){const m={};return I.forEachEntry(s,(d,g)=>{c(Qg(d),g,m,0)}),m}return null}function Xg(s,c,m){if(I.isString(s))try{return(c||JSON.parse)(s),I.trim(s)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(s)}const Vs={transitional:Kf,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,S=I.isObject(c);if(S&&I.isHTMLForm(c)&&(c=new FormData(c)),I.isFormData(c))return g?JSON.stringify(Qp(c)):c;if(I.isArrayBuffer(c)||I.isBuffer(c)||I.isStream(c)||I.isFile(c)||I.isBlob(c)||I.isReadableStream(c))return c;if(I.isArrayBufferView(c))return c.buffer;if(I.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let N;if(S){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Yg(c,this.formSerializer).toString();if((N=I.isFileList(c))||d.indexOf("multipart/form-data")>-1){const q=this.env&&this.env.FormData;return No(N?{"files[]":c}:c,q&&new q,this.formSerializer)}}return S||g?(m.setContentType("application/json",!1),Xg(c)):c}],transformResponse:[function(c){const m=this.transitional||Vs.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(I.isResponse(c)||I.isReadableStream(c))return c;if(c&&I.isString(c)&&(d&&!this.responseType||g)){const v=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(N){if(v)throw N.name==="SyntaxError"?Je.from(N,Je.ERR_BAD_RESPONSE,this,null,this.response):N}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],s=>{Vs.headers[s]={}});const Vg=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fg=s=>{const c={};let m,d,g;return s&&s.split(`
`).forEach(function(v){g=v.indexOf(":"),m=v.substring(0,g).trim().toLowerCase(),d=v.substring(g+1).trim(),!(!m||c[m]&&Vg[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},rp=Symbol("internals");function Us(s){return s&&String(s).trim().toLowerCase()}function fo(s){return s===!1||s==null?s:I.isArray(s)?s.map(fo):String(s)}function Zg(s){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(s);)c[d[1]]=d[2];return c}const Jg=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function _f(s,c,m,d,g){if(I.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!I.isString(c)){if(I.isString(d))return c.indexOf(d)!==-1;if(I.isRegExp(d))return d.test(c)}}function $g(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function Pg(s,c){const m=I.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(s,d+m,{value:function(g,S,v){return this[d].call(this,c,g,S,v)},configurable:!0})})}let Hn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function S(N,q,E){const O=Us(q);if(!O)throw new Error("header name must be a non-empty string");const A=I.findKey(g,O);(!A||g[A]===void 0||E===!0||E===void 0&&g[A]!==!1)&&(g[A||q]=fo(N))}const v=(N,q)=>I.forEach(N,(E,O)=>S(E,O,q));if(I.isPlainObject(c)||c instanceof this.constructor)v(c,m);else if(I.isString(c)&&(c=c.trim())&&!Jg(c))v(Fg(c),m);else if(I.isObject(c)&&I.isIterable(c)){let N={},q,E;for(const O of c){if(!I.isArray(O))throw TypeError("Object iterator must return a key-value pair");N[E=O[0]]=(q=N[E])?I.isArray(q)?[...q,O[1]]:[q,O[1]]:O[1]}v(N,m)}else c!=null&&S(m,c,d);return this}get(c,m){if(c=Us(c),c){const d=I.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return Zg(g);if(I.isFunction(m))return m.call(this,g,d);if(I.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Us(c),c){const d=I.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||_f(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function S(v){if(v=Us(v),v){const N=I.findKey(d,v);N&&(!m||_f(d,d[N],N,m))&&(delete d[N],g=!0)}}return I.isArray(c)?c.forEach(S):S(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const S=m[d];(!c||_f(this,this[S],S,c,!0))&&(delete this[S],g=!0)}return g}normalize(c){const m=this,d={};return I.forEach(this,(g,S)=>{const v=I.findKey(d,S);if(v){m[v]=fo(g),delete m[S];return}const N=c?$g(S):String(S).trim();N!==S&&delete m[S],m[N]=fo(g),d[N]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return I.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&I.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[rp]=this[rp]={accessors:{}}).accessors,g=this.prototype;function S(v){const N=Us(v);d[N]||(Pg(g,v),d[N]=!0)}return I.isArray(c)?c.forEach(S):S(c),this}};Hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Hn.prototype,({value:s},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>s,set(d){this[m]=d}}});I.freezeMethods(Hn);function Ef(s,c){const m=this||Vs,d=c||m,g=Hn.from(d.headers);let S=d.data;return I.forEach(s,function(N){S=N.call(m,S,g.normalize(),c?c.status:void 0)}),g.normalize(),S}function Gp(s){return!!(s&&s.__CANCEL__)}let Fs=class extends Je{constructor(c,m,d){super(c??"canceled",Je.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Xp(s,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?s(m):c(new Je("Request failed with status code "+m.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function Wg(s){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return c&&c[1]||""}function Ig(s,c){s=s||10;const m=new Array(s),d=new Array(s);let g=0,S=0,v;return c=c!==void 0?c:1e3,function(q){const E=Date.now(),O=d[S];v||(v=E),m[g]=q,d[g]=E;let A=S,Z=0;for(;A!==g;)Z+=m[A++],A=A%s;if(g=(g+1)%s,g===S&&(S=(S+1)%s),E-v<c)return;const me=O&&E-O;return me?Math.round(Z*1e3/me):void 0}}function eb(s,c){let m=0,d=1e3/c,g,S;const v=(E,O=Date.now())=>{m=O,g=null,S&&(clearTimeout(S),S=null),s(...E)};return[(...E)=>{const O=Date.now(),A=O-m;A>=d?v(E,O):(g=E,S||(S=setTimeout(()=>{S=null,v(g)},d-A)))},()=>g&&v(g)]}const yo=(s,c,m=3)=>{let d=0;const g=Ig(50,250);return eb(S=>{const v=S.loaded,N=S.lengthComputable?S.total:void 0,q=v-d,E=g(q),O=v<=N;d=v;const A={loaded:v,total:N,progress:N?v/N:void 0,bytes:q,rate:E||void 0,estimated:E&&N&&O?(N-v)/E:void 0,event:S,lengthComputable:N!=null,[c?"download":"upload"]:!0};s(A)},m)},sp=(s,c)=>{const m=s!=null;return[d=>c[0]({lengthComputable:m,total:s,loaded:d}),c[1]]},up=s=>(...c)=>I.asap(()=>s(...c)),tb=Cn.hasStandardBrowserEnv?((s,c)=>m=>(m=new URL(m,Cn.origin),s.protocol===m.protocol&&s.host===m.host&&(c||s.port===m.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,nb=Cn.hasStandardBrowserEnv?{write(s,c,m,d,g,S,v){if(typeof document>"u")return;const N=[`${s}=${encodeURIComponent(c)}`];I.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),I.isString(d)&&N.push(`path=${d}`),I.isString(g)&&N.push(`domain=${g}`),S===!0&&N.push("secure"),I.isString(v)&&N.push(`SameSite=${v}`),document.cookie=N.join("; ")},read(s){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ab(s){return typeof s!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function lb(s,c){return c?s.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):s}function Vp(s,c,m){let d=!ab(c);return s&&(d||m==!1)?lb(s,c):c}const op=s=>s instanceof Hn?{...s}:s;function Ri(s,c){c=c||{};const m={};function d(E,O,A,Z){return I.isPlainObject(E)&&I.isPlainObject(O)?I.merge.call({caseless:Z},E,O):I.isPlainObject(O)?I.merge({},O):I.isArray(O)?O.slice():O}function g(E,O,A,Z){if(I.isUndefined(O)){if(!I.isUndefined(E))return d(void 0,E,A,Z)}else return d(E,O,A,Z)}function S(E,O){if(!I.isUndefined(O))return d(void 0,O)}function v(E,O){if(I.isUndefined(O)){if(!I.isUndefined(E))return d(void 0,E)}else return d(void 0,O)}function N(E,O,A){if(A in c)return d(E,O);if(A in s)return d(void 0,E)}const q={url:S,method:S,data:S,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:N,headers:(E,O,A)=>g(op(E),op(O),A,!0)};return I.forEach(Object.keys({...s,...c}),function(O){if(O==="__proto__"||O==="constructor"||O==="prototype")return;const A=I.hasOwnProp(q,O)?q[O]:g,Z=A(s[O],c[O],O);I.isUndefined(Z)&&A!==N||(m[O]=Z)}),m}const Fp=s=>{const c=Ri({},s);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:S,headers:v,auth:N}=c;if(c.headers=v=Hn.from(v),c.url=Yp(Vp(c.baseURL,c.url,c.allowAbsoluteUrls),s.params,s.paramsSerializer),N&&v.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),I.isFormData(m)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if(I.isFunction(m.getHeaders)){const q=m.getHeaders(),E=["content-type","content-length"];Object.entries(q).forEach(([O,A])=>{E.includes(O.toLowerCase())&&v.set(O,A)})}}if(Cn.hasStandardBrowserEnv&&(d&&I.isFunction(d)&&(d=d(c)),d||d!==!1&&tb(c.url))){const q=g&&S&&nb.read(S);q&&v.set(g,q)}return c},ib=typeof XMLHttpRequest<"u",rb=ib&&function(s){return new Promise(function(m,d){const g=Fp(s);let S=g.data;const v=Hn.from(g.headers).normalize();let{responseType:N,onUploadProgress:q,onDownloadProgress:E}=g,O,A,Z,me,G;function ie(){me&&me(),G&&G(),g.cancelToken&&g.cancelToken.unsubscribe(O),g.signal&&g.signal.removeEventListener("abort",O)}let $=new XMLHttpRequest;$.open(g.method.toUpperCase(),g.url,!0),$.timeout=g.timeout;function Ce(){if(!$)return;const ve=Hn.from("getAllResponseHeaders"in $&&$.getAllResponseHeaders()),xe={data:!N||N==="text"||N==="json"?$.responseText:$.response,status:$.status,statusText:$.statusText,headers:ve,config:s,request:$};Xp(function(Se){m(Se),ie()},function(Se){d(Se),ie()},xe),$=null}"onloadend"in $?$.onloadend=Ce:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(Ce)},$.onabort=function(){$&&(d(new Je("Request aborted",Je.ECONNABORTED,s,$)),$=null)},$.onerror=function(te){const xe=te&&te.message?te.message:"Network Error",ge=new Je(xe,Je.ERR_NETWORK,s,$);ge.event=te||null,d(ge),$=null},$.ontimeout=function(){let te=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const xe=g.transitional||Kf;g.timeoutErrorMessage&&(te=g.timeoutErrorMessage),d(new Je(te,xe.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,s,$)),$=null},S===void 0&&v.setContentType(null),"setRequestHeader"in $&&I.forEach(v.toJSON(),function(te,xe){$.setRequestHeader(xe,te)}),I.isUndefined(g.withCredentials)||($.withCredentials=!!g.withCredentials),N&&N!=="json"&&($.responseType=g.responseType),E&&([Z,G]=yo(E,!0),$.addEventListener("progress",Z)),q&&$.upload&&([A,me]=yo(q),$.upload.addEventListener("progress",A),$.upload.addEventListener("loadend",me)),(g.cancelToken||g.signal)&&(O=ve=>{$&&(d(!ve||ve.type?new Fs(null,s,$):ve),$.abort(),$=null)},g.cancelToken&&g.cancelToken.subscribe(O),g.signal&&(g.signal.aborted?O():g.signal.addEventListener("abort",O)));const ce=Wg(g.url);if(ce&&Cn.protocols.indexOf(ce)===-1){d(new Je("Unsupported protocol "+ce+":",Je.ERR_BAD_REQUEST,s));return}$.send(S||null)})},sb=(s,c)=>{const{length:m}=s=s?s.filter(Boolean):[];if(c||m){let d=new AbortController,g;const S=function(E){if(!g){g=!0,N();const O=E instanceof Error?E:this.reason;d.abort(O instanceof Je?O:new Fs(O instanceof Error?O.message:O))}};let v=c&&setTimeout(()=>{v=null,S(new Je(`timeout of ${c}ms exceeded`,Je.ETIMEDOUT))},c);const N=()=>{s&&(v&&clearTimeout(v),v=null,s.forEach(E=>{E.unsubscribe?E.unsubscribe(S):E.removeEventListener("abort",S)}),s=null)};s.forEach(E=>E.addEventListener("abort",S));const{signal:q}=d;return q.unsubscribe=()=>I.asap(N),q}},ub=function*(s,c){let m=s.byteLength;if(m<c){yield s;return}let d=0,g;for(;d<m;)g=d+c,yield s.slice(d,g),d=g},ob=async function*(s,c){for await(const m of cb(s))yield*ub(m,c)},cb=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const c=s.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},cp=(s,c,m,d)=>{const g=ob(s,c);let S=0,v,N=q=>{v||(v=!0,d&&d(q))};return new ReadableStream({async pull(q){try{const{done:E,value:O}=await g.next();if(E){N(),q.close();return}let A=O.byteLength;if(m){let Z=S+=A;m(Z)}q.enqueue(new Uint8Array(O))}catch(E){throw N(E),E}},cancel(q){return N(q),g.return()}},{highWaterMark:2})},fp=64*1024,{isFunction:uo}=I,fb=(({Request:s,Response:c})=>({Request:s,Response:c}))(I.global),{ReadableStream:dp,TextEncoder:hp}=I.global,mp=(s,...c)=>{try{return!!s(...c)}catch{return!1}},db=s=>{s=I.merge.call({skipUndefined:!0},fb,s);const{fetch:c,Request:m,Response:d}=s,g=c?uo(c):typeof fetch=="function",S=uo(m),v=uo(d);if(!g)return!1;const N=g&&uo(dp),q=g&&(typeof hp=="function"?(G=>ie=>G.encode(ie))(new hp):async G=>new Uint8Array(await new m(G).arrayBuffer())),E=S&&N&&mp(()=>{let G=!1;const ie=new m(Cn.origin,{body:new dp,method:"POST",get duplex(){return G=!0,"half"}}).headers.has("Content-Type");return G&&!ie}),O=v&&N&&mp(()=>I.isReadableStream(new d("").body)),A={stream:O&&(G=>G.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(G=>{!A[G]&&(A[G]=(ie,$)=>{let Ce=ie&&ie[G];if(Ce)return Ce.call(ie);throw new Je(`Response type '${G}' is not supported`,Je.ERR_NOT_SUPPORT,$)})});const Z=async G=>{if(G==null)return 0;if(I.isBlob(G))return G.size;if(I.isSpecCompliantForm(G))return(await new m(Cn.origin,{method:"POST",body:G}).arrayBuffer()).byteLength;if(I.isArrayBufferView(G)||I.isArrayBuffer(G))return G.byteLength;if(I.isURLSearchParams(G)&&(G=G+""),I.isString(G))return(await q(G)).byteLength},me=async(G,ie)=>{const $=I.toFiniteNumber(G.getContentLength());return $??Z(ie)};return async G=>{let{url:ie,method:$,data:Ce,signal:ce,cancelToken:ve,timeout:te,onDownloadProgress:xe,onUploadProgress:ge,responseType:Se,headers:Ge,withCredentials:$e="same-origin",fetchOptions:st}=Fp(G),ht=c||fetch;Se=Se?(Se+"").toLowerCase():"text";let Xe=sb([ce,ve&&ve.toAbortSignal()],te),at=null;const we=Xe&&Xe.unsubscribe&&(()=>{Xe.unsubscribe()});let Ze;try{if(ge&&E&&$!=="get"&&$!=="head"&&(Ze=await me(Ge,Ce))!==0){let Y=new m(ie,{method:"POST",body:Ce,duplex:"half"}),re;if(I.isFormData(Ce)&&(re=Y.headers.get("content-type"))&&Ge.setContentType(re),Y.body){const[ye,Ae]=sp(Ze,yo(up(ge)));Ce=cp(Y.body,fp,ye,Ae)}}I.isString($e)||($e=$e?"include":"omit");const X=S&&"credentials"in m.prototype,oe={...st,signal:Xe,method:$.toUpperCase(),headers:Ge.normalize().toJSON(),body:Ce,duplex:"half",credentials:X?$e:void 0};at=S&&new m(ie,oe);let pe=await(S?ht(at,st):ht(ie,oe));const je=O&&(Se==="stream"||Se==="response");if(O&&(xe||je&&we)){const Y={};["status","statusText","headers"].forEach(He=>{Y[He]=pe[He]});const re=I.toFiniteNumber(pe.headers.get("content-length")),[ye,Ae]=xe&&sp(re,yo(up(xe),!0))||[];pe=new d(cp(pe.body,fp,ye,()=>{Ae&&Ae(),we&&we()}),Y)}Se=Se||"text";let Te=await A[I.findKey(A,Se)||"text"](pe,G);return!je&&we&&we(),await new Promise((Y,re)=>{Xp(Y,re,{data:Te,headers:Hn.from(pe.headers),status:pe.status,statusText:pe.statusText,config:G,request:at})})}catch(X){throw we&&we(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,G,at,X&&X.response),{cause:X.cause||X}):Je.from(X,X&&X.code,G,at,X&&X.response)}}},hb=new Map,Zp=s=>{let c=s&&s.env||{};const{fetch:m,Request:d,Response:g}=c,S=[d,g,m];let v=S.length,N=v,q,E,O=hb;for(;N--;)q=S[N],E=O.get(q),E===void 0&&O.set(q,E=N?new Map:db(c)),O=E;return E};Zp();const Qf={http:Dg,xhr:rb,fetch:{get:Zp}};I.forEach(Qf,(s,c)=>{if(s){try{Object.defineProperty(s,"name",{value:c})}catch{}Object.defineProperty(s,"adapterName",{value:c})}});const pp=s=>`- ${s}`,mb=s=>I.isFunction(s)||s===null||s===!1;function pb(s,c){s=I.isArray(s)?s:[s];const{length:m}=s;let d,g;const S={};for(let v=0;v<m;v++){d=s[v];let N;if(g=d,!mb(d)&&(g=Qf[(N=String(d)).toLowerCase()],g===void 0))throw new Je(`Unknown adapter '${N}'`);if(g&&(I.isFunction(g)||(g=g.get(c))))break;S[N||"#"+v]=g}if(!g){const v=Object.entries(S).map(([q,E])=>`adapter ${q} `+(E===!1?"is not supported by the environment":"is not available in the build"));let N=m?v.length>1?`since :
`+v.map(pp).join(`
`):" "+pp(v[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const Jp={getAdapter:pb,adapters:Qf};function Cf(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Fs(null,s)}function yp(s){return Cf(s),s.headers=Hn.from(s.headers),s.data=Ef.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Jp.getAdapter(s.adapter||Vs.adapter,s)(s).then(function(d){return Cf(s),d.data=Ef.call(s,s.transformResponse,d),d.headers=Hn.from(d.headers),d},function(d){return Gp(d)||(Cf(s),d&&d.response&&(d.response.data=Ef.call(s,s.transformResponse,d.response),d.response.headers=Hn.from(d.response.headers))),Promise.reject(d)})}const $p="1.13.5",_o={};["object","boolean","number","function","string","symbol"].forEach((s,c)=>{_o[s]=function(d){return typeof d===s||"a"+(c<1?"n ":" ")+s}});const gp={};_o.transitional=function(c,m,d){function g(S,v){return"[Axios v"+$p+"] Transitional option '"+S+"'"+v+(d?". "+d:"")}return(S,v,N)=>{if(c===!1)throw new Je(g(v," has been removed"+(m?" in "+m:"")),Je.ERR_DEPRECATED);return m&&!gp[v]&&(gp[v]=!0,console.warn(g(v," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(S,v,N):!0}};_o.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function yb(s,c,m){if(typeof s!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const d=Object.keys(s);let g=d.length;for(;g-- >0;){const S=d[g],v=c[S];if(v){const N=s[S],q=N===void 0||v(N,S,s);if(q!==!0)throw new Je("option "+S+" must be "+q,Je.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Je("Unknown option "+S,Je.ERR_BAD_OPTION)}}const ho={assertOptions:yb,validators:_o},oa=ho.validators;let Mi=class{constructor(c){this.defaults=c||{},this.interceptors={request:new ip,response:new ip}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const S=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?S&&!String(d.stack).endsWith(S.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+S):d.stack=S}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Ri(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:S}=m;d!==void 0&&ho.assertOptions(d,{silentJSONParsing:oa.transitional(oa.boolean),forcedJSONParsing:oa.transitional(oa.boolean),clarifyTimeoutError:oa.transitional(oa.boolean),legacyInterceptorReqResOrdering:oa.transitional(oa.boolean)},!1),g!=null&&(I.isFunction(g)?m.paramsSerializer={serialize:g}:ho.assertOptions(g,{encode:oa.function,serialize:oa.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),ho.assertOptions(m,{baseUrl:oa.spelling("baseURL"),withXsrfToken:oa.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let v=S&&I.merge(S.common,S[m.method]);S&&I.forEach(["delete","get","head","post","put","patch","common"],G=>{delete S[G]}),m.headers=Hn.concat(v,S);const N=[];let q=!0;this.interceptors.request.forEach(function(ie){if(typeof ie.runWhen=="function"&&ie.runWhen(m)===!1)return;q=q&&ie.synchronous;const $=m.transitional||Kf;$&&$.legacyInterceptorReqResOrdering?N.unshift(ie.fulfilled,ie.rejected):N.push(ie.fulfilled,ie.rejected)});const E=[];this.interceptors.response.forEach(function(ie){E.push(ie.fulfilled,ie.rejected)});let O,A=0,Z;if(!q){const G=[yp.bind(this),void 0];for(G.unshift(...N),G.push(...E),Z=G.length,O=Promise.resolve(m);A<Z;)O=O.then(G[A++],G[A++]);return O}Z=N.length;let me=m;for(;A<Z;){const G=N[A++],ie=N[A++];try{me=G(me)}catch($){ie.call(this,$);break}}try{O=yp.call(this,me)}catch(G){return Promise.reject(G)}for(A=0,Z=E.length;A<Z;)O=O.then(E[A++],E[A++]);return O}getUri(c){c=Ri(this.defaults,c);const m=Vp(c.baseURL,c.url,c.allowAbsoluteUrls);return Yp(m,c.params,c.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(c){Mi.prototype[c]=function(m,d){return this.request(Ri(d||{},{method:c,url:m,data:(d||{}).data}))}});I.forEach(["post","put","patch"],function(c){function m(d){return function(S,v,N){return this.request(Ri(N||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:S,data:v}))}}Mi.prototype[c]=m(),Mi.prototype[c+"Form"]=m(!0)});let gb=class Pp{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(S){m=S});const d=this;this.promise.then(g=>{if(!d._listeners)return;let S=d._listeners.length;for(;S-- >0;)d._listeners[S](g);d._listeners=null}),this.promise.then=g=>{let S;const v=new Promise(N=>{d.subscribe(N),S=N}).then(g);return v.cancel=function(){d.unsubscribe(S)},v},c(function(S,v,N){d.reason||(d.reason=new Fs(S,v,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new Pp(function(g){c=g}),cancel:c}}};function bb(s){return function(m){return s.apply(null,m)}}function vb(s){return I.isObject(s)&&s.isAxiosError===!0}const zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zf).forEach(([s,c])=>{zf[c]=s});function Wp(s){const c=new Mi(s),m=Tp(Mi.prototype.request,c);return I.extend(m,Mi.prototype,c,{allOwnKeys:!0}),I.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return Wp(Ri(s,g))},m}const en=Wp(Vs);en.Axios=Mi;en.CanceledError=Fs;en.CancelToken=gb;en.isCancel=Gp;en.VERSION=$p;en.toFormData=No;en.AxiosError=Je;en.Cancel=en.CanceledError;en.all=function(c){return Promise.all(c)};en.spread=bb;en.isAxiosError=vb;en.mergeConfig=Ri;en.AxiosHeaders=Hn;en.formToJSON=s=>Qp(I.isHTMLForm(s)?new FormData(s):s);en.getAdapter=Jp.getAdapter;en.HttpStatusCode=zf;en.default=en;const{Axios:nx,AxiosError:ax,CanceledError:lx,isCancel:ix,CancelToken:rx,VERSION:sx,all:ux,Cancel:ox,isAxiosError:cx,spread:fx,toFormData:dx,AxiosHeaders:hx,HttpStatusCode:mx,formToJSON:px,getAdapter:yx,mergeConfig:gx}=en,xt=en.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});xt.interceptors.request.use(s=>{const c=yl.getState().token;return c&&(s.headers.Authorization=`Token ${c}`),s.data instanceof FormData&&delete s.headers["Content-Type"],s});xt.interceptors.response.use(s=>s,s=>(s.response?.status===401&&yl.getState().logout(),Promise.reject(s)));const Mr={login:(s,c)=>xt.post("/auth/login/",{email:s,password:c}),register:s=>xt.post("/auth/register/",s),logout:()=>xt.post("/auth/logout/"),me:()=>xt.get("/auth/me/"),deleteAccount:()=>xt.post("/auth/me/delete/")},Ls={list:()=>xt.get("/projects/"),get:s=>xt.get(`/projects/${s}/`),create:s=>xt.post("/projects/",s),update:(s,c)=>xt.patch(`/projects/${s}/`,c),delete:s=>xt.delete(`/projects/${s}/`)},fa={list:()=>xt.get("/lenses/"),get:s=>xt.get(`/lenses/${s}/`),create:s=>xt.post("/lenses/",s),update:(s,c)=>xt.patch(`/lenses/${s}/`,c),delete:s=>xt.delete(`/lenses/${s}/`),addColor:(s,c)=>xt.post(`/lenses/${s}/colors/`,c),updateColor:(s,c,m)=>xt.patch(`/lenses/${s}/colors/${c}/`,m),removeColor:(s,c)=>xt.delete(`/lenses/${s}/colors/${c}/`)},fn={list:s=>xt.get("/documents/",{params:s}),get:s=>xt.get(`/documents/${s}/`),create:s=>xt.post("/documents/",s),createWithFile:s=>xt.post("/documents/",s),getPdf:s=>xt.get(`/documents/${s}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(s,c)=>xt.post(`/documents/${s}/upload_pdf/`,c),update:(s,c)=>xt.patch(`/documents/${s}/`,c),delete:s=>xt.delete(`/documents/${s}/`),highlights:s=>xt.get(`/documents/${s}/highlights/`),createHighlight:(s,c)=>xt.post(`/documents/${s}/highlights/`,c),updateHighlight:(s,c,m)=>xt.patch(`/documents/${s}/highlights/${c}/`,m),deleteHighlight:(s,c)=>xt.delete(`/documents/${s}/highlights/${c}/`)},xb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},nt={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},Il={default:"border-slate-200"},Ks="min-h-screen p-6",Sb="bg-white border-b border-slate-200",go="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",oo="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",bp="w-px h-6 bg-slate-200",zi=xb;function wb(){const s=Bi(),c=yl(A=>A.setToken),[m,d]=K.useState(""),[g,S]=K.useState(""),[v,N]=K.useState(""),[q,E]=K.useState(!1),O=async A=>{A.preventDefault(),N(""),E(!0);try{const{data:Z}=await Mr.login(m,g);c(Z.token),s("/",{replace:!0})}catch(Z){N(Z.response?.data?.detail||Z.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return o.jsx("div",{className:`${Ks} ${zi.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${nt.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:O,className:"flex flex-col gap-4",children:[v&&o.jsx("p",{className:"text-sm text-red-600",children:v}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>S(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${nt.muted}`,children:["No account? ",o.jsx(Dp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function jb(){const s=Bi(),c=yl(A=>A.setToken),[m,d]=K.useState(""),[g,S]=K.useState(""),[v,N]=K.useState(""),[q,E]=K.useState(!1),O=async A=>{A.preventDefault(),N(""),E(!0);try{await Mr.register({email:m,password:g});const{data:Z}=await Mr.login(m,g);c(Z.token),s("/",{replace:!0})}catch(Z){const me=Z.response?.data;N(me?.email?.[0]||me?.password?.[0]||"Registration failed")}finally{E(!1)}};return o.jsx("div",{className:`${Ks} ${zi.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${nt.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:O,className:"flex flex-col gap-4",children:[v&&o.jsx("p",{className:"text-sm text-red-600",children:v}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${nt.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>S(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:q,className:go,children:q?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${nt.muted}`,children:["Already have an account? ",o.jsx(Dp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const Ip=(...s)=>s.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const Nb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const _b=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const vp=s=>{const c=_b(s);return c.charAt(0).toUpperCase()+c.slice(1)};var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cb=s=>{for(const c in s)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const Ab=K.forwardRef(({color:s="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:S,iconNode:v,...N},q)=>K.createElement("svg",{ref:q,...Eb,width:c,height:c,stroke:s,strokeWidth:d?Number(m)*24/Number(c):m,className:Ip("lucide",g),...!S&&!Cb(N)&&{"aria-hidden":"true"},...N},[...v.map(([E,O])=>K.createElement(E,O)),...Array.isArray(S)?S:[S]]));const Xt=(s,c)=>{const m=K.forwardRef(({className:d,...g},S)=>K.createElement(Ab,{ref:S,iconNode:c,className:Ip(`lucide-${Nb(vp(s))}`,`lucide-${s}`,d),...g}));return m.displayName=vp(s),m};const Ob=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eo=Xt("arrow-left",Ob);const Db=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Tb=Xt("braces",Db);const Mb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bo=Xt("check",Mb);const zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rb=Xt("chevron-down",zb);const kb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ys=Xt("chevron-right",kb);const Bb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qb=Xt("copy",Bb);const Ub=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hb=Xt("download",Ub);const Lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Kb=Xt("file-down",Lb);const Yb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Qb=Xt("file-stack",Yb);const Gb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gf=Xt("file-text",Gb);const Xb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ba=Xt("loader-circle",Xb);const Vb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xf=Xt("log-out",Vb);const Fb=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ey=Xt("palette",Fb);const Zb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Jb=Xt("panel-right-close",Zb);const $b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Pb=Xt("panel-right-open",$b);const Wb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Co=Xt("pencil",Wb);const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xp=Xt("plus",Ib);const ev=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ty=Xt("search",ev);const tv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],nv=Xt("settings-2",tv);const av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Br=Xt("trash-2",av);const lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vo=Xt("upload",lv);const iv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ki=Xt("x",iv);const rv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sv=Xt("zoom-in",rv);const uv=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ov=Xt("zoom-out",uv),Sp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Or=5,wp=3;function ny(){const s=Rr(),[c,m]=K.useState(0),[d,g]=K.useState(""),[S,v]=K.useState([]),[N,q]=K.useState(null),[E,O]=K.useState(""),[A,Z]=K.useState(null),[me,G]=K.useState(null),[ie,$]=K.useState(null),[Ce,ce]=K.useState(""),[ve,te]=K.useState(null),[xe,ge]=K.useState(""),{data:Se=[]}=$n({queryKey:["lenses"],queryFn:async()=>{const{data:Y}=await fa.list();return Y}}),Ge=Se.filter(Y=>!Y.is_system),$e=()=>{m(0),g(""),v([]),q(null),O("")},st=En({mutationFn:Y=>fa.create(Y),onSuccess:()=>{s.invalidateQueries({queryKey:["lenses"]}),$e()}}),ht=En({mutationFn:Y=>fa.delete(Y),onSuccess:()=>s.invalidateQueries({queryKey:["lenses"]})}),Xe=En({mutationFn:({lensId:Y,data:re})=>fa.addColor(Y,re),onSuccess:()=>{s.invalidateQueries({queryKey:["lenses"]}),G(null),$(null),ce("")}}),at=En({mutationFn:({lensId:Y,colorId:re})=>fa.removeColor(Y,re),onSuccess:()=>s.invalidateQueries({queryKey:["lenses"]})}),we=En({mutationFn:({lensId:Y,colorId:re,displayName:ye})=>fa.updateColor(Y,re,{display_name:ye}),onSuccess:()=>{s.invalidateQueries({queryKey:["lenses"]}),te(null),ge("")}}),Ze=()=>{!me||!ie||!Ce.trim()||Xe.mutate({lensId:me,data:{key:`custom_${Date.now()}`,display_name:Ce.trim(),hex:ie}})},X=new Set(S.map(Y=>Y.hex.toLowerCase())),oe=Sp.filter(Y=>!X.has(Y.toLowerCase())),pe=()=>{!N||!E.trim()||(v(Y=>[...Y,{key:`color_${Date.now()}_${Y.length}`,display_name:E.trim(),hex:N}]),q(null),O(""))},je=Y=>{v(re=>re.filter((ye,Ae)=>Ae!==Y))},Te=()=>{!d.trim()||S.length<1||st.mutate({name:d.trim(),colors:S})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(ey,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Or," colour categories. You can create up to ",wp," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:Se.map(Y=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:Y.name}),Y.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!Y.is_system&&o.jsx("button",{type:"button",onClick:()=>Z(Y),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(Br,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(Y.colors??[]).map(re=>{const ye=ve?.lensId===Y.id&&ve?.colorId===re.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:re.hex}}),ye?o.jsx("input",{type:"text",value:xe,onChange:Ae=>ge(Ae.target.value),onBlur:()=>{const Ae=xe.trim();Ae&&Ae!==re.display_name?we.mutate({lensId:Y.id,colorId:re.id,displayName:Ae}):(te(null),ge(""))},onKeyDown:Ae=>{if(Ae.key==="Enter"){const He=xe.trim();He&&we.mutate({lensId:Y.id,colorId:re.id,displayName:He})}Ae.key==="Escape"&&(te(null),ge(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{Y.is_system||(te({lensId:Y.id,colorId:re.id}),ge(re.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${Y.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:re.display_name}),!Y.is_system&&(Y.colors?.length??0)>1&&!ye&&o.jsx("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),at.mutate({lensId:Y.id,colorId:re.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(ki,{className:"w-3 h-3",strokeWidth:2.5})})]},re.id)}),!Y.is_system&&(Y.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!Y.is_system&&(Y.colors?.length??0)<Or&&o.jsx("button",{type:"button",onClick:()=>{G(Y.id),$(null),ce("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(xp,{className:"w-3 h-3",strokeWidth:2.5})})]})]},Y.id))}),Ge.length<wp&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(xp,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!st.isPending&&$e(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:Y=>Y.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:Y=>g(Y.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:Y=>{Y.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",S.length,"/",Or,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Or," colours and give each a label."]}),S.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:S.map((Y,re)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:Y.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:Y.display_name}),o.jsx("button",{type:"button",onClick:()=>je(re),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(ki,{className:"w-3.5 h-3.5"})})]},re))}),S.length<Or&&o.jsx(o.Fragment,{children:N?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),o.jsx("input",{type:"text",value:E,onChange:Y=>O(Y.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:Y=>{Y.key==="Enter"&&pe()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:pe,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",S.length+1," of ",Or]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(Y=>o.jsx("button",{type:"button",onClick:()=>{q(Y),O("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:Y}},Y))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),v([]),q(null),O("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:Te,disabled:S.length<1||st.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:st.isPending?"Creating":"Create lens"})]})]})]})}),me&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Xe.isPending&&G(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:Y=>Y.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ie?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ie}}),o.jsx("input",{type:"text",value:Ce,onChange:Y=>ce(Y.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:Y=>{Y.key==="Enter"&&Ze()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const Y=Se.find(ye=>ye.id===me),re=new Set((Y?.colors??[]).map(ye=>ye.hex.toLowerCase()));return Sp.filter(ye=>!re.has(ye.toLowerCase()))})().map(Y=>o.jsx("button",{type:"button",onClick:()=>$(Y),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:Y}},Y))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{ie?($(null),ce("")):G(null)},disabled:Xe.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ie?"Back":"Cancel"}),ie&&o.jsx("button",{type:"button",onClick:Ze,disabled:!Ce.trim()||Xe.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:Xe.isPending?"Adding":"Add"})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ht.isPending&&Z(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Y=>Y.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:A.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Z(null),disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{ht.mutate(A.id,{onSuccess:()=>Z(null)})},disabled:ht.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:ht.isPending?"Deleting":"Delete lens"})]})]})})]})}const ml=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function cv(s){if(!s)return"";const c=new Date(s);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:S<24?`${S} hour${S===1?"":"s"} ago`:v===1?"Yesterday":v<7?`${v} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function fv({project:s,onOpen:c}){const[m,d]=K.useState(!1),g=s.document_count??0,S=s.annotation_count??0,v=s.color&&ml.includes(s.color)?s.color:ml[s.id%ml.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(s.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&c(s.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${v}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:s.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:cv(s.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:S>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[S," note",S!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function dv({onClose:s,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,S]=K.useState(""),[v,N]=K.useState(ml[d%ml.length]),q=()=>{const E=g.trim();E&&(c(E,v),S(""),N(ml[d%ml.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:E=>S(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:ml.map(E=>o.jsx("button",{type:"button",onClick:()=>N(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:v===E?"#1e293b":"transparent",outline:v===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:q,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function hv(){const s=Bi(),c=Rr(),m=yl(te=>te.logout),[d,g]=K.useState(!1),[S,v]=K.useState(!1),[N,q]=K.useState(""),{data:E}=$n({queryKey:["me"],queryFn:async()=>{const{data:te}=await Mr.me();return te}}),{data:O,isLoading:A}=$n({queryKey:["projects"],queryFn:async()=>{const{data:te}=await Ls.list();return te}}),Z=Array.isArray(O)?O:O?.results??[],me=Z.filter(te=>te.name.toLowerCase().includes(N.toLowerCase())),G=Z.reduce((te,xe)=>te+(xe.document_count??0),0),ie=Z.reduce((te,xe)=>te+(xe.annotation_count??0),0),$=En({mutationFn:({name:te,color:xe})=>Ls.create({name:te.trim(),color:xe}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),g(!1)}}),Ce=(te,xe)=>{$.mutate({name:te,color:xe})},ce=()=>{m(),s("/login",{replace:!0})},ve=(E?.email?.[0]||E?.username?.[0]||"?").toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:ce,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Xf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>s("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:ve})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>v(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ey,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 mb-6 uppercase",style:{fontFamily:"'JetBrains Mono', monospace",letterSpacing:"0.08em"},children:[o.jsxs("span",{children:[Z.length," project",Z.length!==1?"s":""]}),o.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),o.jsxs("span",{children:[G," document",G!==1?"s":""]}),o.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-slate-300"}),o.jsxs("span",{children:[ie," annotation",ie!==1?"s":""]})]}),Z.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:N,onChange:te=>q(te.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),A?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Ba,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:me.map(te=>o.jsx(fv,{project:te,onOpen:xe=>s(`/project/${xe}`)},te.id))}),!A&&me.length===0&&N&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',N,'"']}),!A&&Z.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&o.jsx(dv,{onClose:()=>g(!1),onCreate:Ce,isPending:$.isPending,defaultColorIndex:Z.length%ml.length}),S&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>v(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:te=>te.stopPropagation(),children:o.jsx(ny,{})})})]})}var mo={exports:{}},mv=mo.exports,jp;function pv(){return jp||(jp=1,(function(s,c){((m,d)=>{s.exports=d()})(mv,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_0,v=Object.keys,N=Array.isArray;function q(l,u){return typeof u=="object"&&v(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var E=Object.getPrototypeOf,O={}.hasOwnProperty;function A(l,u){return O.call(l,u)}function Z(l,u){typeof u=="function"&&(u=u(E(l))),(typeof Reflect>"u"?v:Reflect.ownKeys)(u).forEach(function(f){G(l,f,u[f])})}var me=Object.defineProperty;function G(l,u,f,h){me(l,u,q(f&&A(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function ie(l){return{from:function(u){return l.prototype=Object.create(u.prototype),G(l.prototype,"constructor",l),{extend:Z.bind(null,l.prototype)}}}}var $=Object.getOwnPropertyDescriptor,Ce=[].slice;function ce(l,u,f){return Ce.call(l,u,f)}function ve(l,u){return u(l)}function te(l){if(!l)throw new Error("Assertion Failed")}function xe(l){S.setImmediate?setImmediate(l):setTimeout(l,0)}function ge(l,u){if(typeof u=="string"&&A(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=ge(l,u[h]);f.push(b)}return f}var w,j=u.indexOf(".");return j===-1||(w=l[u.substr(0,j)])==null?void 0:ge(w,u.substr(j+1))}function Se(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){te(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)Se(l,u[h],f[h])}else{var b,w,j=u.indexOf(".");j!==-1?(b=u.substr(0,j),(j=u.substr(j+1))===""?f===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:Se(w=(w=l[b])&&A(l,b)?w:l[b]={},j,f)):f===void 0?N(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ge(l){var u,f={};for(u in l)A(l,u)&&(f[u]=l[u]);return f}var $e=[].concat;function st(l){return $e.apply([],l)}var re="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(st([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return S[l]}),ht=new Set(re.map(function(l){return S[l]})),Xe=null;function at(l){return Xe=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=Xe.get(f);if(h)return h;if(N(f)){h=[],Xe.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(ht.has(f.constructor))h=f;else{var w,j=E(f);for(w in h=j===Object.prototype?{}:Object.create(j),Xe.set(f,h),f)A(f,w)&&(h[w]=u(f[w]))}return h})(l),Xe=null,l}var we={}.toString;function Ze(l){return we.call(l).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",oe=typeof X=="symbol"?function(l){var u;return l!=null&&(u=l[X])&&u.apply(l)}:function(){return null};function pe(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var je={};function Te(l){var u,f,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===je&&typeof l=="string")return[l];if(y=oe(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var Y=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(re),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ae(l,u){this.name=l,this.message=u}function He(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function it(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=He(l,u)}function yt(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=He(l,this.failures)}ie(Ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ie(it).from(Ae),ie(yt).from(Ae);var Ht=dn.reduce(function(l,u){return l[u]=u+"Error",l},{}),sn=Ae,be=dn.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=ye[u]||f,this.inner=null)}return ie(h).from(sn),l[u]=h,l},{}),Ie=(be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError,re.reduce(function(l,u){return l[u+"Error"]=be[u],l},{}));re=dn.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=be[u]),l},{});function Ye(){}function gt(l){return l}function Vt(l,u){return l==null||l===gt?u:function(f){return u(l(f))}}function Nt(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function ue(l,u){return l===Ye?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Nt(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Nt(y,this.onerror):y),b!==void 0?b:f}}function Oe(l,u){return l===Ye?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Nt(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Nt(h,this.onerror):h)}}function W(l,u){return l===Ye?u:function(y){var h=l.apply(this,arguments),y=(q(y,h),this.onsuccess),b=this.onerror,w=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Nt(y,this.onsuccess):y),b&&(this.onerror=this.onerror?Nt(b,this.onerror):b),h===void 0?w===void 0?void 0:w:q(h,w)}}function Ue(l,u){return l===Ye?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function Ve(l,u){return l===Ye?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}re.ModifyError=it,re.DexieError=Ae,re.BulkError=yt;var ut=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function un(l){ut=l}var An={},on=100,xa=typeof Promise>"u"?[]:(dn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[xa=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(xa),dn]:[dn,E(dn),dn]),dn=xa[0],$a=xa[1],$a=$a&&$a.then,Ln=dn&&dn.constructor,Sa=!!xa[2],qa=function(l,u){da.push([l,u]),Qe&&(queueMicrotask(Zs),Qe=!1)},ze=!0,Qe=!0,St=[],Rt=[],_t=gt,kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ye,pgp:!1,env:{},finalize:Ye},Ee=kt,da=[],Ua=0,qi=[];function De(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Ee;if(typeof l!="function"){if(l!==An)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ha(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var w=h._lib&&wa();b&&typeof b.then=="function"?f(h,function(j,D){b instanceof De?b._then(j,D):b.then(j,D)}):(h._state=!0,h._value=b,ni(h)),w&&Pn()}},ha.bind(null,h))}catch(b){ha(h,b)}})(this,l)}var gl={get:function(){var l=Ee,u=ii;function f(h,y){var b=this,w=!l.global&&(l!==Ee||u!==ii),j=w&&!On(),D=new De(function(H,T){Ha(b,new ti(Ui(h,l,w,j),Ui(y,l,w,j),H,T,l))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return f.prototype=An,f},set:function(l){G(this,"then",l&&l.prototype===An?gl:{get:function(){return l},set:gl.set})}};function ti(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ha(l,u){var f,h;Rt.push(u),l._state===null&&(f=l._lib&&wa(),u=_t(u),l._state=!1,l._value=u,h=l,St.some(function(y){return y._value===h._value})||St.push(h),ni(l),f)&&Pn()}function ni(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Ha(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Ua===0&&(++Ua,qa(function(){--Ua==0&&qr()},[]))}function Ha(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Ua,qa(Ao,[f,l,u])}}function Ao(l,u,f){try{var h,y=u._value;!u._state&&Rt.length&&(Rt=[]),h=ut&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||Rt.indexOf(y)!==-1||(b=>{for(var w=St.length;w;)if(St[--w]._value===b._value)return St.splice(w,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Ua==0&&qr(),--f.psd.ref||f.psd.finalize()}}function Zs(){Kn(kt,function(){wa()&&Pn()})}function wa(){var l=ze;return Qe=ze=!1,l}function Pn(){var l,u,f;do for(;0<da.length;)for(l=da,da=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<da.length);Qe=ze=!0}function qr(){for(var l=St,u=(St=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),qi.slice(0)),f=u.length;f;)u[--f]()}function ai(l){return new De(An,!1,l)}function Bt(l,u){var f=Ee;return function(){var h=wa(),y=Ee;try{return Na(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Na(y,!1),h&&Pn()}}}Z(De.prototype,{then:gl,_then:function(l,u){Ha(this,new ti(null,null,l,u,Ee))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:ai)(h)}):this.then(null,function(h){return(h&&h.name===u?f:ai)(h)}))},finally:function(l){return this.then(function(u){return De.resolve(l()).then(function(){return u})},function(u){return De.resolve(l()).then(function(){return ai(u)})})},timeout:function(l,u){var f=this;return l<1/0?new De(function(h,y){var b=setTimeout(function(){return y(new be.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&G(De.prototype,Symbol.toStringTag,"Dexie.Promise"),kt.env=Hr(),Z(De,{all:function(){var l=Te.apply(null,arguments).map(vl);return new De(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return De.resolve(y).then(function(w){l[b]=w,--h||u(l)},f)})})},resolve:function(l){return l instanceof De?l:l&&typeof l.then=="function"?new De(function(u,f){l.then(u,f)}):new De(An,!0,l)},reject:ai,race:function(){var l=Te.apply(null,arguments).map(vl);return new De(function(u,f){l.map(function(h){return De.resolve(h).then(u,f)})})},PSD:{get:function(){return Ee},set:function(l){return Ee=l}},totalEchoes:{get:function(){return ii}},newPSD:Ut,usePSD:Kn,scheduler:{get:function(){return qa},set:function(l){qa=l}},rejectionMapper:{get:function(){return _t},set:function(l){_t=l}},follow:function(l,u){return new De(function(f,h){return Ut(function(y,b){var w=Ee;w.unhandleds=[],w.onunhandled=b,w.finalize=Nt(function(){var j,D=this;j=function(){D.unhandleds.length===0?y():b(D.unhandleds[0])},qi.push(function H(){j(),qi.splice(qi.indexOf(H),1)}),++Ua,qa(function(){--Ua==0&&qr()},[])},w.finalize),l()},u,f,h)})}}),Ln&&(Ln.allSettled&&G(De,"allSettled",function(){var l=Te.apply(null,arguments).map(vl);return new De(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return De.resolve(y).then(function(w){return h[b]={status:"fulfilled",value:w}},function(w){return h[b]={status:"rejected",reason:w}}).then(function(){return--f||u(h)})})})}),Ln.any&&typeof AggregateError<"u"&&G(De,"any",function(){var l=Te.apply(null,arguments).map(vl);return new De(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,w){return De.resolve(b).then(function(j){return u(j)},function(j){y[w]=j,--h||f(new AggregateError(y))})})})}),Ln.withResolvers)&&(De.withResolvers=Ln.withResolvers);var Jt={awaits:0,echoes:0,id:0},Ur=0,bl=[],li=0,ii=0,ja=0;function Ut(l,w,f,h){var y=Ee,b=Object.create(y),w=(b.parent=y,b.ref=0,b.global=!1,b.id=++ja,kt.env,b.env=Sa?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},w&&q(b,w),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Kn(b,l,f,h));return b.ref===0&&b.finalize(),w}function $t(){return Jt.id||(Jt.id=++Ur),++Jt.awaits,Jt.echoes+=on,Jt.id}function On(){return!!Jt.awaits&&(--Jt.awaits==0&&(Jt.id=0),Jt.echoes=Jt.awaits*on,!0)}function vl(l){return Jt.echoes&&l&&l.constructor===Ln?($t(),l.then(function(u){return On(),u},function(u){return On(),Ot(u)})):l}function Oo(){var l=bl[bl.length-1];bl.pop(),Na(l,!1)}function Na(l,u){var f,h,y=Ee;(u?!Jt.echoes||li++&&l===Ee:!li||--li&&l===Ee)||queueMicrotask(u?(function(b){++ii,Jt.echoes&&--Jt.echoes!=0||(Jt.echoes=Jt.awaits=Jt.id=0),bl.push(Ee),Na(b,!0)}).bind(null,l):Oo),l!==Ee&&(Ee=l,y===kt&&(kt.env=Hr()),Sa)&&(f=kt.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(S,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Hr(){var l=S.Promise;return Sa?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Kn(l,u,f,h,y){var b=Ee;try{return Na(l,!0),u(f,h,y)}finally{Na(b,!1)}}function Ui(l,u,f,h){return typeof l!="function"?l:function(){var y=Ee;f&&$t(),Na(u,!0);try{return l.apply(this,arguments)}finally{Na(y,!1),h&&queueMicrotask(On)}}}function _a(l){Promise===Ln&&Jt.echoes===0?li===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+$a).indexOf("[native code]")===-1&&($t=On=Ye);var Ot=De.reject,Yn="",wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pt="String expected.",La=[],ri="__dbnames",ma="readonly",Ea="readwrite";function Ka(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Lr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function si(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=at(u))[l],u}}function Js(){throw be.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(l,u){try{var f=ui(l),h=ui(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=Wn(l),b=Wn(u),w=y.length,j=b.length,D=w<j?w:j,H=0;H<D;++H)if(y[H]!==b[H])return y[H]<b[H]?-1:1;return w===j?0:w<j?-1:1;case"Array":for(var T=l,C=u,R=T.length,B=C.length,M=R<B?R:B,z=0;z<M;++z){var Q=lt(T[z],C[z]);if(Q!==0)return Q}return R===B?0:R<B?-1:1}}catch{}return NaN}function ui(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=Ze(l))==="ArrayBuffer")?"binary":u}function Wn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function gn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}$s.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(N(f))return g(g([],N(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var xl=$s;function $s(l){this["@@propmod"]=l}function Hi(l,u){for(var f=v(u),h=f.length,y=!1,b=0;b<h;++b){var w=f[b],j=u[w],D=ge(l,w);j instanceof xl?(Se(l,w,j.execute(D)),y=!0):D!==j&&(Se(l,w,j),y=!0)}return y}wt.prototype._trans=function(l,u,f){var h=this._tx||Ee.trans,y=this.name,b=ut&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function w(H,T,C){if(C.schema[y])return u(C.idbtrans,C);throw new be.NotFound("Table "+y+" not part of transaction")}var j=wa();try{var D=h&&h.db._novip===this.db._novip?h===Ee.trans?h._promise(l,w,f):Ut(function(){return h._promise(l,w,f)},{trans:h,transless:Ee.transless||Ee}):(function H(T,C,R,B){if(T.idbdb&&(T._state.openComplete||Ee.letThrough||T._vip)){var M=T._createTransaction(C,R,T._dbSchema);try{M.create(),T._state.PR1398_maxLoop=3}catch(z){return z.name===Ht.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return H(T,C,R,B)})):Ot(z)}return M._promise(C,function(z,Q){return Ut(function(){return Ee.trans=M,B(z,Q,M)})}).then(function(z){if(C==="readwrite")try{M.idbtrans.commit()}catch{}return C==="readonly"?z:M._completion.then(function(){return z})})}if(T._state.openComplete)return Ot(new be.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return Ot(new be.DatabaseClosed);T.open().catch(Ye)}return T._state.dbReadyPromise.then(function(){return H(T,C,R,B)})})(this.db,l,[this.name],w);return b&&(D._consoleTask=b,D=D.catch(function(H){return console.trace(H),Ot(H)})),D}finally{j&&Pn()}},wt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Ot(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},wt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=v(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&u.every(function(H){return 0<=j.keyPath.indexOf(H)})){for(var D=0;D<u.length;++D)if(u.indexOf(j.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(j,D){return j.keyPath.length-D.keyPath.length})[0];if(f&&this.db._maxKey!==Yn)return w=f.keyPath.slice(0,u.length),this.where(w).equals(w.map(function(j){return l[j]}));!f&&ut&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(j,D){return lt(j,D)===0}var w=u.reduce(function(T,D){var H=T[0],T=T[1],C=h[D],R=l[D];return[H||C,H||!C?Ka(T,C&&C.multi?function(B){return B=ge(B,D),N(B)&&B.some(function(M){return y(R,M)})}:function(B){return y(R,ge(B,D))}):T]},[null,null]),b=w[0],w=w[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(w):f?this.filter(w):this.where(u).equals("")},wt.prototype.filter=function(l){return this.toCollection().and(l)},wt.prototype.count=function(l){return this.toCollection().count(l)},wt.prototype.offset=function(l){return this.toCollection().offset(l)},wt.prototype.limit=function(l){return this.toCollection().limit(l)},wt.prototype.each=function(l){return this.toCollection().each(l)},wt.prototype.toArray=function(l){return this.toCollection().toArray(l)},wt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},wt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},wt.prototype.reverse=function(){return this.toCollection().reverse()},wt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Js&&(l=(w=>{var j=T,D=w;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function H(){this.constructor=j}function T(){return w!==null&&w.apply(this,arguments)||this}return m(j,D),j.prototype=D===null?Object.create(D):(H.prototype=D.prototype,new H),Object.defineProperty(T.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),T.prototype.table=function(){return f},T})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(w){return h.add(w)});function b(w){if(!w)return w;var j,D=Object.create(l.prototype);for(j in w)if(!h.has(j))try{D[j]=w[j]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},wt.prototype.defineClass=function(){return this.mapToClass(function(l){q(this,l)})},wt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"add",keys:u!=null?[u]:null,values:[w]})}).then(function(j){return j.numFailures?De.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Se(l,b,j)}catch{}return j})},wt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var w=b??{};return Hi(w,u),h&&Se(w,h,l),f.core.mutate({trans:y,type:"put",values:[w],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(j){return j.numFailures?De.reject(j.failures[0]):!!b})})})},wt.prototype.update=function(l,u){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(u):(l=ge(l,this.schema.primKey.keyPath))===void 0?Ot(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},wt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,w=l;return b&&y&&(w=si(b)(l)),this._trans("readwrite",function(j){return f.core.mutate({trans:j,type:"put",values:[w],keys:u!=null?[u]:null})}).then(function(j){return j.numFailures?De.reject(j.failures[0]):j.lastResult}).then(function(j){if(b)try{Se(l,b,j)}catch{}return j})},wt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return gn(u,[l],h)}).then(function(h){return h.numFailures?De.reject(h.failures[0]):void 0})})},wt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Lr}).then(function(f){return gn(l,null,f)})}).then(function(u){return u.numFailures?De.reject(u.failures[0]):void 0})},wt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},wt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,H=j&&H?l.map(si(j)):l;return h.core.mutate({trans:w,type:"add",keys:y,values:H,wantResults:b}).then(function(T){var C=T.numFailures,R=T.failures;if(C===0)return b?T.results:T.lastResult;throw new yt("".concat(h.name,".bulkAdd(): ").concat(C," of ").concat(D," operations failed"),R)})})},wt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(w){var j=h.schema.primKey,H=j.auto,j=j.keyPath;if(j&&y)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,H=j&&H?l.map(si(j)):l;return h.core.mutate({trans:w,type:"put",keys:y,values:H,wantResults:b}).then(function(T){var C=T.numFailures,R=T.failures;if(C===0)return b?T.results:T.lastResult;throw new yt("".concat(h.name,".bulkPut(): ").concat(C," of ").concat(D," operations failed"),R)})})},wt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(w){return w.key}),y=l.map(function(w){return w.changes}),b=[];return this._trans("readwrite",function(w){return f.getMany({trans:w,keys:h,cache:"clone"}).then(function(j){var D=[],H=[],T=(l.forEach(function(C,R){var B=C.key,M=C.changes,z=j[R];if(z){for(var Q=0,J=Object.keys(M);Q<J.length;Q++){var L=J[Q],ne=M[L];if(L===u.schema.primKey.keyPath){if(lt(ne,B)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else Se(z,L,ne)}b.push(R),D.push(B),H.push(z)}}),D.length);return f.mutate({trans:w,type:"put",keys:D,values:H,updates:{keys:h,changeSpecs:y}}).then(function(C){var R=C.numFailures,B=C.failures;if(R===0)return T;for(var M=0,z=Object.keys(B);M<z.length;M++){var Q,J=z[M],L=b[Number(J)];L!=null&&(Q=B[J],delete B[J],B[L]=Q)}throw new yt("".concat(u.name,".bulkUpdate(): ").concat(R," of ").concat(T," operations failed"),B)})})})},wt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return gn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new yt("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Kr=wt;function wt(){}function oi(l){function u(w,j){if(j){for(var D=arguments.length,H=new Array(D-1);--D;)H[D-1]=arguments[D];return f[w].subscribe.apply(null,H),l}if(typeof w=="string")return f[w]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(w,j,D){var H,T;if(typeof w!="object")return j=j||Ue,T={subscribers:[],fire:D=D||Ye,subscribe:function(C){T.subscribers.indexOf(C)===-1&&(T.subscribers.push(C),T.fire=j(T.fire,C))},unsubscribe:function(C){T.subscribers=T.subscribers.filter(function(R){return R!==C}),T.fire=T.subscribers.reduce(j,D)}},f[w]=u[w]=T;v(H=w).forEach(function(C){var R=H[C];if(N(R))b(C,H[C][0],H[C][1]);else{if(R!=="asap")throw new be.InvalidArgument("Invalid event config");var B=b(C,gt,function(){for(var M=arguments.length,z=new Array(M);M--;)z[M]=arguments[M];B.subscribers.forEach(function(Q){xe(function(){Q.apply(null,z)})})})}})}}function hn(l,u){return ie(u).from({prototype:l}),u}function Ca(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Li(l,u){l.filter=Ka(l.filter,u)}function ci(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Ka(h(),u())}:u,l.justLimit=f&&!h}function pa(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new be.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Yr(l,u,f){var h=pa(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function fi(l,u,f,h){var y,b,w=l.replayFilter?Ka(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(j,D,H){var T,C;w&&!w(D,H,function(R){return D.stop(R)},function(R){return D.fail(R)})||((C=""+(T=D.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(T)),A(y,C))||(y[C]=!0,u(j,D,H))},Promise.all([l.or._iterate(b,f),Ya(Yr(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ya(Yr(l,h,f),Ka(l.algorithm,w),u,!l.keysOnly&&l.valueMapper)}function Ya(l,u,f,h){var y=Bt(h?function(b,w,j){return f(h(b),w,j)}:f);return l.then(function(b){if(b)return b.start(function(){var w=function(){return b.continue()};u&&!u(b,function(j){return w=j},function(j){b.stop(j),w=Ye},function(j){b.fail(j),w=Ye})||y(b.value,b,function(j){return w=j}),w()})})}mt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Ot.bind(null,f.error)):f.table._trans("readonly",l).then(u)},mt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Ot.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},mt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Ka(u.algorithm,l)},mt.prototype._iterate=function(l,u){return fi(this._ctx,l,u,this._ctx.table.core)},mt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&q(f,l),u._ctx=f,u},mt.prototype.raw=function(){return this._ctx.valueMapper=null,this},mt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return fi(u,l,f,u.table.core)})},mt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Ca(y,!0)?b.count({trans:f,query:{index:pa(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)}):(h=0,fi(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},mt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(D,H){return H?b(D[f[H]],H-1):D[h]}var w=this._ctx.dir==="next"?1:-1;function j(D,H){return lt(b(D,y),b(H,y))*w}return this.toArray(function(D){return D.sort(j)}).then(u)},mt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,w=u._ctx;return w.dir==="next"&&Ca(w,!0)&&0<w.limit?(h=w.valueMapper,y=pa(w,w.table.core.schema),w.table.core.query({trans:f,limit:w.limit,values:!0,query:{index:y,range:w.range}}).then(function(j){return j=j.result,h?j.map(h):j})):(b=[],fi(w,function(j){return b.push(j)},f,w.table.core).then(function(){return b}))},l)},mt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Ca(u)?ci(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ci(u,function(){var f=l;return function(){return--f<0}})),this},mt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ci(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},mt.prototype.until=function(l,u){return Li(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},mt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},mt.prototype.last=function(l){return this.reverse().first(l)},mt.prototype.filter=function(l){var u;return Li(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Ka(u.isMatch,l),this},mt.prototype.and=function(l){return this.filter(l)},mt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},mt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},mt.prototype.desc=function(){return this.reverse()},mt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},mt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},mt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},mt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},mt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Ca(u,!0)&&0<u.limit)return this._read(function(h){var y=pa(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},mt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},mt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},mt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},mt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Li(this._ctx,function(h){var h=h.primaryKey.toString(),y=A(l,h);return l[h]=!0,!y})),this},mt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(z,Q){var J=Q.failures;R+=z-Q.numFailures;for(var L=0,ne=v(J);L<ne.length;L++){var fe=ne[L];C.push(J[fe])}}var b=typeof l=="function"?l:function(z){return Hi(z,l)},w=f.table.core,T=w.schema.primaryKey,j=T.outbound,D=T.extractKey,H=200,T=u.db._options.modifyChunkSize,C=(T&&(H=typeof T=="object"?T[w.name]||T["*"]||200:T),[]),R=0,B=[],M=l===Qr;return u.clone().primaryKeys().then(function(z){function Q(L){var ne=Math.min(H,z.length-L),fe=z.slice(L,L+ne);return(M?Promise.resolve([]):w.getMany({trans:h,keys:fe,cache:"immutable"})).then(function(Ne){var _e=[],de=[],Re=j?[]:null,Me=M?fe:[];if(!M)for(var he=0;he<ne;++he){var ke=Ne[he],Pe={value:at(ke),primKey:z[L+he]};b.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?Me.push(z[L+he]):j||lt(D(ke),D(Pe.value))===0?(de.push(Pe.value),j&&Re.push(z[L+he])):(Me.push(z[L+he]),_e.push(Pe.value)))}return Promise.resolve(0<_e.length&&w.mutate({trans:h,type:"add",values:_e}).then(function(rt){for(var Le in rt.failures)Me.splice(parseInt(Le),1);y(_e.length,rt)})).then(function(){return(0<de.length||J&&typeof l=="object")&&w.mutate({trans:h,type:"put",keys:Re,values:de,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<L}).then(function(rt){return y(de.length,rt)})}).then(function(){return(0<Me.length||J&&M)&&w.mutate({trans:h,type:"delete",keys:Me,criteria:J,isAdditionalChunk:0<L}).then(function(rt){return gn(f.table,Me,rt)}).then(function(rt){return y(Me.length,rt)})}).then(function(){return z.length>L+ne&&Q(L+H)})})}var J=Ca(f)&&f.limit===1/0&&(typeof l!="function"||M)&&{index:f.index,range:f.range};return Q(0).then(function(){if(0<C.length)throw new it("Error modifying one or more objects",C,R,B);return z.length})})})},mt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Ca(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Qr):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(D){var j=D.failures,D=D.numFailures;if(D)throw new it("Could not delete some values",Object.keys(j).map(function(H){return j[H]}),b-D);return b-D})})})};var Do=mt;function mt(){}var Qr=function(l,u){return u.value=null};function Gr(l,u){return l<u?-1:l===u?0:1}function To(l,u){return u<l?-1:l===u?0:1}function Dn(l,u,f){return l=l instanceof Qa?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function ya(l){return new l.Collection(l,function(){return Ki("")}).limit(0)}function Mn(B,u,f,h){var y,b,w,j,D,H,T,C=f.length;if(!f.every(function(z){return typeof z=="string"}))return Dn(B,Pt);function R(z){y=z==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=z==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},w=z==="next"?Gr:To;var Q=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,L){return w(J.lower,L.lower)});j=Q.map(function(J){return J.upper}),D=Q.map(function(J){return J.lower}),T=(H=z)==="next"?"":h}R("next");var B=new B.Collection(B,function(){return In(j[0],D[C-1]+h)}),M=(B._ondirectionchange=function(z){R(z)},0);return B._addAlgorithm(function(z,Q,J){var L=z.key;if(typeof L=="string"){var ne=b(L);if(u(ne,D,M))return!0;for(var fe=null,Ne=M;Ne<C;++Ne){var _e=((de,Re,Me,he,ke,Pe)=>{for(var rt=Math.min(de.length,he.length),Le=-1,We=0;We<rt;++We){var Dt=Re[We];if(Dt!==he[We])return ke(de[We],Me[We])<0?de.substr(0,We)+Me[We]+Me.substr(We+1):ke(de[We],he[We])<0?de.substr(0,We)+he[We]+Me.substr(We+1):0<=Le?de.substr(0,Le)+Re[Le]+Me.substr(Le+1):null;ke(de[We],Dt)<0&&(Le=We)}return rt<he.length&&Pe==="next"?de+Me.substr(de.length):rt<de.length&&Pe==="prev"?de.substr(0,Me.length):Le<0?null:de.substr(0,Le)+he[Le]+Me.substr(Le+1)})(L,ne,j[Ne],D[Ne],w,H);_e===null&&fe===null?M=Ne+1:(fe===null||0<w(fe,_e))&&(fe=_e)}Q(fe!==null?function(){z.continue(fe+T)}:J)}return!1}),B}function In(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Ki(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Lt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Lt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?ya(this):new this.Collection(this,function(){return In(l,u,!f,!h)})}catch{return Dn(this,wn)}},Lt.prototype.equals=function(l){return l==null?Dn(this,wn):new this.Collection(this,function(){return Ki(l)})},Lt.prototype.above=function(l){return l==null?Dn(this,wn):new this.Collection(this,function(){return In(l,void 0,!0)})},Lt.prototype.aboveOrEqual=function(l){return l==null?Dn(this,wn):new this.Collection(this,function(){return In(l,void 0,!1)})},Lt.prototype.below=function(l){return l==null?Dn(this,wn):new this.Collection(this,function(){return In(void 0,l,!1,!0)})},Lt.prototype.belowOrEqual=function(l){return l==null?Dn(this,wn):new this.Collection(this,function(){return In(void 0,l)})},Lt.prototype.startsWith=function(l){return typeof l!="string"?Dn(this,Pt):this.between(l,l+Yn,!0,!0)},Lt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Mn(this,function(u,f){return u.indexOf(f[0])===0},[l],Yn)},Lt.prototype.equalsIgnoreCase=function(l){return Mn(this,function(u,f){return u===f[0]},[l],"")},Lt.prototype.anyOfIgnoreCase=function(){var l=Te.apply(je,arguments);return l.length===0?ya(this):Mn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Lt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Te.apply(je,arguments);return l.length===0?ya(this):Mn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Yn)},Lt.prototype.anyOf=function(){var l,u,f=this,h=Te.apply(je,arguments),y=this._cmp;try{h.sort(y)}catch{return Dn(this,wn)}return h.length===0?ya(this):((l=new this.Collection(this,function(){return In(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,w,j){for(var D=b.key;0<y(D,h[u]);)if(++u===h.length)return w(j),!1;return y(D,h[u])===0||(w(function(){b.continue(h[u])}),!1)}),l)},Lt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Lt.prototype.noneOf=function(){var l=Te.apply(je,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Dn(this,wn)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Lt.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,w=this._min,j=this._max;if(l.length===0)return ya(this);if(!l.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&y(L[0],L[1])<=0}))return Dn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var D=!J||J.includeLowers!==!1,H=J&&J.includeUppers===!0,T,C=y;function R(L,ne){return C(L[0],ne[0])}try{(T=l.reduce(function(L,ne){for(var fe=0,Ne=L.length;fe<Ne;++fe){var _e=L[fe];if(h(ne[0],_e[1])<0&&0<h(ne[1],_e[0])){_e[0]=w(_e[0],ne[0]),_e[1]=j(_e[1],ne[1]);break}}return fe===Ne&&L.push(ne),L},[])).sort(R)}catch{return Dn(this,wn)}var B=0,M=H?function(L){return 0<y(L,T[B][1])}:function(L){return 0<=y(L,T[B][1])},z=D?function(L){return 0<b(L,T[B][0])}:function(L){return 0<=b(L,T[B][0])},Q=M,J=new this.Collection(this,function(){return In(T[0][0],T[T.length-1][1],!D,!H)});return J._ondirectionchange=function(L){C=L==="next"?(Q=M,y):(Q=z,b),T.sort(R)},J._addAlgorithm(function(L,ne,fe){for(var Ne,_e=L.key;Q(_e);)if(++B===T.length)return ne(fe),!1;return!M(Ne=_e)&&!z(Ne)||(f._cmp(_e,T[B][1])===0||f._cmp(_e,T[B][0])===0||ne(function(){C===y?L.continue(T[B][0]):L.continue(T[B][1])}),!1)}),J},Lt.prototype.startsWithAnyOf=function(){var l=Te.apply(je,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?ya(this):this.inAnyRange(l.map(function(u){return[u,u+Yn]})):Dn(this,"startsWithAnyOf() only works with strings")};var Qa=Lt;function Lt(){}function Qn(l){return Bt(function(u){return Ga(u),l(u.target.error),!1})}function Ga(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Sl="storagemutated",Xa="x-storagemutated-1",mn=oi(null,Sl),Xr=(jn.prototype._lock=function(){return te(!Ee.global),++this._reculock,this._reculock!==1||Ee.global||(Ee.lockOwnerFor=this),this},jn.prototype._unlock=function(){if(te(!Ee.global),--this._reculock==0)for(Ee.global||(Ee.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Kn(l[1],l[0])}catch{}}return this},jn.prototype._locked=function(){return this._reculock&&Ee.lockOwnerFor!==this},jn.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(te(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new be.DatabaseClosed(h);case"MissingAPIError":throw new be.MissingAPI(h.message,h);default:throw new be.OpenFailed(h)}if(!this.active)throw new be.TransactionInactive;te(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(y){Ga(y),u._reject(l.error)}),l.onabort=Bt(function(y){Ga(y),u.active&&u._reject(new be.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Bt(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&mn.storagemutated.fire(l.mutatedParts)})}return this},jn.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Ot(new be.ReadOnly("Transaction is readonly")):this.active?this._locked()?new De(function(b,w){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,w)},Ee])}):f?Ut(function(){var b=new De(function(w,j){y._lock();var D=u(w,j,y);D&&D.then&&D.then(w,j)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new De(function(b,w){var j=u(b,w,y);j&&j.then&&j.then(b,w)}))._lib=!0,h):Ot(new be.TransactionInactive)},jn.prototype._root=function(){return this.parent?this.parent._root():this},jn.prototype.waitFor=function(l){var u,f=this._root(),h=De.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new De(function(b,w){h.then(function(j){return f._waitingQueue.push(Bt(b.bind(null,j)))},function(j){return f._waitingQueue.push(Bt(w.bind(null,j)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},jn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},jn.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(A(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new be.NotFound("Table "+l+" not part of transaction")},jn);function jn(){}function ea(l,u,f,h,y,b,w,j){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!w?"&":"")+(h?"*":"")+(y?"++":"")+Yi(u),type:j}}function Yi(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function wl(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,w){return b=h(b,w),b&&(y[b[0]]=b[1]),y},{}))};var h}var jl=function(l){try{return l.only([[]]),jl=function(){return[[]]},[[]]}catch{return jl=function(){return Yn},Yn}};function Nl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return ge(f,u)}:function(f){return ge(f,l)};var u}function di(l){return[].slice.call(l)}var Ps=0;function tn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Va(l,u,D){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=M.lower,R=M.upper,B=M.lowerOpen,M=M.upperOpen;return C===void 0?R===void 0?null:u.upperBound(R,!!M):R===void 0?u.lowerBound(C,!!B):u.bound(C,R,!!B,!!M)}function y(T){var C,R=T.name;return{name:R,schema:T,mutate:function(B){var M=B.trans,z=B.type,Q=B.keys,J=B.values,L=B.range;return new Promise(function(ne,fe){ne=Bt(ne);var Ne=M.objectStore(R),_e=Ne.keyPath==null,de=z==="put"||z==="add";if(!de&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var Re,Me=(Q||J||{length:1}).length;if(Q&&J&&Q.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function he(Et){++rt,Ga(Et)}var ke=[],Pe=[],rt=0;if(z==="deleteRange"){if(L.type===4)return ne({numFailures:rt,failures:Pe,results:[],lastResult:void 0});L.type===3?ke.push(Re=Ne.clear()):ke.push(Re=Ne.delete(h(L)))}else{var _e=de?_e?[J,Q]:[J,null]:[Q,null],Le=_e[0],We=_e[1];if(de)for(var Dt=0;Dt<Me;++Dt)ke.push(Re=We&&We[Dt]!==void 0?Ne[z](Le[Dt],We[Dt]):Ne[z](Le[Dt])),Re.onerror=he;else for(Dt=0;Dt<Me;++Dt)ke.push(Re=Ne[z](Le[Dt])),Re.onerror=he}function _n(Et){Et=Et.target.result,ke.forEach(function(Ta,Dl){return Ta.error!=null&&(Pe[Dl]=Ta.error)}),ne({numFailures:rt,failures:Pe,results:z==="delete"?Q:ke.map(function(Ta){return Ta.result}),lastResult:Et})}Re.onerror=function(Et){he(Et),_n(Et)},Re.onsuccess=_n})},getMany:function(B){var M=B.trans,z=B.keys;return new Promise(function(Q,J){Q=Bt(Q);for(var L,ne=M.objectStore(R),fe=z.length,Ne=new Array(fe),_e=0,de=0,Re=function(ke){ke=ke.target,Ne[ke._pos]=ke.result,++de===_e&&Q(Ne)},Me=Qn(J),he=0;he<fe;++he)z[he]!=null&&((L=ne.get(z[he]))._pos=he,L.onsuccess=Re,L.onerror=Me,++_e);_e===0&&Q(Ne)})},get:function(B){var M=B.trans,z=B.key;return new Promise(function(Q,J){Q=Bt(Q);var L=M.objectStore(R).get(z);L.onsuccess=function(ne){return Q(ne.target.result)},L.onerror=Qn(J)})},query:(C=j,function(B){return new Promise(function(M,z){M=Bt(M);var Q,J,L,de=B.trans,ne=B.values,fe=B.limit,_e=B.query,Ne=fe===1/0?void 0:fe,Re=_e.index,_e=_e.range,de=de.objectStore(R),de=Re.isPrimaryKey?de:de.index(Re.name),Re=h(_e);if(fe===0)return M({result:[]});C?((_e=ne?de.getAll(Re,Ne):de.getAllKeys(Re,Ne)).onsuccess=function(Me){return M({result:Me.target.result})},_e.onerror=Qn(z)):(Q=0,J=!ne&&"openKeyCursor"in de?de.openKeyCursor(Re):de.openCursor(Re),L=[],J.onsuccess=function(Me){var he=J.result;return!he||(L.push(ne?he.value:he.primaryKey),++Q===fe)?M({result:L}):void he.continue()},J.onerror=Qn(z))})}),openCursor:function(B){var M=B.trans,z=B.values,Q=B.query,J=B.reverse,L=B.unique;return new Promise(function(ne,fe){ne=Bt(ne);var de=Q.index,Ne=Q.range,_e=M.objectStore(R),_e=de.isPrimaryKey?_e:_e.index(de.name),de=J?L?"prevunique":"prev":L?"nextunique":"next",Re=!z&&"openKeyCursor"in _e?_e.openKeyCursor(h(Ne),de):_e.openCursor(h(Ne),de);Re.onerror=Qn(fe),Re.onsuccess=Bt(function(Me){var he,ke,Pe,rt,Le=Re.result;Le?(Le.___id=++Ps,Le.done=!1,he=Le.continue.bind(Le),ke=(ke=Le.continuePrimaryKey)&&ke.bind(Le),Pe=Le.advance.bind(Le),rt=function(){throw new Error("Cursor not stopped")},Le.trans=M,Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=function(){throw new Error("Cursor not started")},Le.fail=Bt(fe),Le.next=function(){var We=this,Dt=1;return this.start(function(){return Dt--?We.continue():We.stop()}).then(function(){return We})},Le.start=function(We){function Dt(){if(Re.result)try{We()}catch(Et){Le.fail(Et)}else Le.done=!0,Le.start=function(){throw new Error("Cursor behind last entry")},Le.stop()}var _n=new Promise(function(Et,Ta){Et=Bt(Et),Re.onerror=Qn(Ta),Le.fail=Ta,Le.stop=function(Dl){Le.stop=Le.continue=Le.continuePrimaryKey=Le.advance=rt,Et(Dl)}});return Re.onsuccess=Bt(function(Et){Re.onsuccess=Dt,Dt()}),Le.continue=he,Le.continuePrimaryKey=ke,Le.advance=Pe,Dt(),_n},ne(Le)):ne(null)},fe)})},count:function(B){var M=B.query,z=B.trans,Q=M.index,J=M.range;return new Promise(function(L,ne){var fe=z.objectStore(R),fe=Q.isPrimaryKey?fe:fe.index(Q.name),Ne=h(J),Ne=Ne?fe.count(Ne):fe.count();Ne.onsuccess=Bt(function(_e){return L(_e.target.result)}),Ne.onerror=Qn(ne)})}}}b=D,w=di((D=l).objectStoreNames);var b,D={schema:{name:D.name,tables:w.map(function(T){return b.objectStore(T)}).map(function(T){var C=T.keyPath,R=T.autoIncrement,M=N(C),B={},M={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:M,keyPath:C,autoIncrement:R,unique:!0,extractKey:Nl(C)},indexes:di(T.indexNames).map(function(z){return T.index(z)}).map(function(L){var ne=L.name,Q=L.unique,J=L.multiEntry,L=L.keyPath,ne={name:ne,compound:N(L),keyPath:L,unique:Q,multiEntry:J,extractKey:Nl(L)};return B[tn(L)]=ne}),getIndexByKeyPath:function(z){return B[tn(z)]}};return B[":id"]=M.primaryKey,C!=null&&(B[tn(C)]=M.primaryKey),M})},hasGetAll:0<w.length&&"getAll"in b.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},w=D.schema,j=D.hasGetAll,D=w.tables.map(y),H={};return D.forEach(function(T){return H[T.name]=T}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(T){if(H[T])return H[T];throw new Error("Table '".concat(T,"' not found"))},MIN_KEY:-1/0,MAX_KEY:jl(u),schema:w}}function Qi(l,u,f,h){return f=f.IDBKeyRange,u=Va(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Aa(l,u){var f=u.db,f=Qi(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Gi(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(w){var j=(function D(H,T){return $(H,T)||(H=E(H))&&D(H,T)})(w,y);(!j||"value"in j&&j.value===void 0)&&(w===l.Transaction.prototype||w instanceof l.Transaction?G(w,y,{get:function(){return this.table(y)},set:function(D){me(this,y,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):w[y]=new l.Table(y,b))})})}function hi(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function Vr(l,u){return l._cfg.version-u._cfg.version}function mi(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=wl("$meta",Is("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),w=(b.create(f),b._completion.catch(h),b._reject.bind(b)),j=Ee.transless||Ee;Ut(function(){if(Ee.trans=b,Ee.transless=j,u!==0)return Aa(l,f),H=u,((D=b).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(T){return T??H}):De.resolve(H)).then(function(Q){var C=l,R=Q,B=b,M=f,z=[],Q=C._versions,J=C._dbSchema=_l(0,C.idbdb,M);return(Q=Q.filter(function(L){return L._cfg.version>=R})).length===0?De.resolve():(Q.forEach(function(L){z.push(function(){var ne,fe,Ne,_e=J,de=L._cfg.dbschema,Re=(Zi(C,_e,M),Zi(C,de,M),J=C._dbSchema=de,Vi(_e,de)),Me=(Re.add.forEach(function(he){Fr(M,he[0],he[1].primKey,he[1].indexes)}),Re.change.forEach(function(he){if(he.recreate)throw new be.Upgrade("Not yet support for changing primary key");var ke=M.objectStore(he.name);he.add.forEach(function(Pe){return Fi(ke,Pe)}),he.change.forEach(function(Pe){ke.deleteIndex(Pe.name),Fi(ke,Pe)}),he.del.forEach(function(Pe){return ke.deleteIndex(Pe)})}),L._cfg.contentUpgrade);if(Me&&L._cfg.version>R)return Aa(C,M),B._memoizedTables={},ne=Ge(de),Re.del.forEach(function(he){ne[he]=_e[he]}),hi(C,[C.Transaction.prototype]),Gi(C,[C.Transaction.prototype],v(ne),ne),B.schema=ne,(fe=Y(Me))&&$t(),de=De.follow(function(){var he;(Ne=Me(B))&&fe&&(he=On.bind(null,null),Ne.then(he,he))}),Ne&&typeof Ne.then=="function"?De.resolve(Ne):de.then(function(){return Ne})}),z.push(function(ne){var fe,Ne,_e=L._cfg.dbschema;fe=_e,Ne=ne,[].slice.call(Ne.db.objectStoreNames).forEach(function(de){return fe[de]==null&&Ne.db.deleteObjectStore(de)}),hi(C,[C.Transaction.prototype]),Gi(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),B.schema=C._dbSchema}),z.push(function(ne){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===L._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(fe){return fe!=="$meta"})):ne.objectStore("$meta").put(L._cfg.version,"version"))})}),(function L(){return z.length?De.resolve(z.shift()(B.idbtrans)).then(L):De.resolve()})().then(function(){Ws(J,M)}))}).catch(w);var D,H;v(y).forEach(function(T){Fr(f,T,y[T].primKey,y[T].indexes)}),Aa(l,f),De.follow(function(){return l.on.populate.fire(b)}).catch(w)})}function Xi(l,u){Ws(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=_l(0,l.idbdb,u);Zi(l,l._dbSchema,u);for(var h=0,y=Vi(f,l._dbSchema).change;h<y.length;h++){var b=(w=>{if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=u.objectStore(w.name);w.add.forEach(function(D){ut&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(D.src)),Fi(j,D)})})(y[h]);if(typeof b=="object")return b.value}}function Vi(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var w={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)w.recreate=!0,h.change.push(w);else{var j=y.idxByName,D=b.idxByName,H=void 0;for(H in j)D[H]||w.del.push(H);for(H in D){var T=j[H],C=D[H];T?T.src!==C.src&&w.change.push(C):w.add.push(C)}(0<w.del.length||0<w.add.length||0<w.change.length)&&h.change.push(w)}}else h.add.push([f,b])}return h}function Fr(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Fi(y,b)})}function Ws(l,u){v(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(ut&&console.debug("Dexie: Creating missing table",f),Fr(u,f,l[f].primKey,l[f].indexes))})}function Fi(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function _l(l,u,f){var h={};return ce(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),w=ea(Yi(H=b.keyPath),H||"",!0,!1,!!b.autoIncrement,H&&typeof H!="string",!0),j=[],D=0;D<b.indexNames.length;++D){var T=b.index(b.indexNames[D]),H=T.keyPath,T=ea(T.name,H,!!T.unique,!!T.multiEntry,!1,H&&typeof H!="string",!1);j.push(T)}h[y]=wl(y,w,j)}),h}function Zi(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],w=f.objectStore(b);l._hasGetAll="getAll"in w;for(var j=0;j<w.indexNames.length;++j){var D,H=w.indexNames[j],T=w.index(H).keyPath,T=typeof T=="string"?T:"["+ce(T).join("+")+"]";u[b]&&(D=u[b].idxByName[T])&&(D.name=H,delete u[b].idxByName[T],u[b].idxByName[H]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Is(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return ea(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),N(b),f===0,h)})}El.prototype._createTableSchema=wl,El.prototype._parseIndexSyntax=Is,El.prototype._parseStoresSpec=function(l,u){var f=this;v(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new be.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new be.Schema("Primary key cannot be multiEntry*");y.forEach(function(w){if(w.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},El.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){q(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,hi(u,[u._allTables,u,u.Transaction.prototype]),Gi(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],v(y),y),u._storeNames=v(y),this},El.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Ve(this._cfg.contentUpgrade||Ye,l),this};var Mo=El;function El(){}function Zr(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new ta(ri,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ji(l){return l&&typeof l.databases=="function"}function Jr(l){return Ut(function(){return Ee.letThrough=!0,l()})}function $r(l){return!("from"in l)}var pn=function(l,u){var f;if(!this)return f=new pn,l&&"d"in l&&q(f,l),f;q(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function pi(l,u,f){var h=lt(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if($r(l))return q(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(lt(f,l.from)<0)return h?pi(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},tu(l);if(0<lt(u,l.to))return y?pi(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},tu(l);lt(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<lt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Fa(l,h),y&&u&&Fa(l,y)}}function Fa(l,u){$r(u)||(function f(h,y){var b=y.from,w=y.l,j=y.r;pi(h,b,y.to),w&&f(h,w),j&&f(h,j)})(l,u)}function eu(l,u){var f=$i(u),h=f.next();if(!h.done)for(var y=h.value,b=$i(l),w=b.next(y.from),j=w.value;!h.done&&!w.done;){if(lt(j.from,y.to)<=0&&0<=lt(j.to,y.from))return!0;lt(y.from,j.from)<0?y=(h=f.next(j.from)).value:j=(w=b.next(y.from)).value}return!1}function $i(l){var u=$r(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&lt(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||lt(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function tu(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=Pr(f)),l.d=Pr(l)}function Pr(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function Pi(l,u){return v(u).forEach(function(f){l[f]?Fa(l[f],u[f]):l[f]=(function h(y){var b,w,j={};for(b in y)A(y,b)&&(w=y[b],j[b]=!w||typeof w!="object"||ht.has(w.constructor)?w:h(w));return j})(u[f])}),l}function Wr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&eu(u[f],l[f])})}Z(pn.prototype,((dn={add:function(l){return Fa(this,l),this},addKey:function(l){return pi(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return pi(u,f,f)}),this},hasKey:function(l){var u=$i(this).next(l).value;return u&&lt(u.from,l)<=0&&0<=lt(u.to,l)}})[X]=function(){return $i(this)},dn));var Za={},Ir={},es=!1;function Wi(l){Pi(Ir,l),es||(es=!0,setTimeout(function(){es=!1,ts(Ir,!(Ir={}))},0))}function ts(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Za);h<y.length;h++)nu(j=y[h],l,f,u);else for(var b in l){var w,j,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(w=b[1],b=b[2],j=Za["idb://".concat(w,"/").concat(b)])&&nu(j,l,f,u)}f.forEach(function(D){return D()})}function nu(l,u,f,h){for(var y=[],b=0,w=Object.entries(l.queries.query);b<w.length;b++){for(var j=w[b],D=j[0],H=[],T=0,C=j[1];T<C.length;T++){var R=C[T];Wr(u,R.obsSet)?R.subscribers.forEach(function(Q){return f.add(Q)}):h&&H.push(R)}h&&y.push([D,H])}if(h)for(var B=0,M=y;B<M.length;B++){var z=M[B],D=z[0],H=z[1];l.queries.query[D]=H}}function zo(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Ot(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function w(){if(u.openCanceller!==h)throw new be.DatabaseClosed("db.open() was cancelled")}function j(){return new De(function(R,B){if(w(),!f)throw new be.MissingAPI;var M=l.name,z=u.autoSchema||!y?f.open(M):f.open(M,y);if(!z)throw new be.MissingAPI;z.onerror=Qn(B),z.onblocked=Bt(l._fireOnBlocked),z.onupgradeneeded=Bt(function(Q){var J;T=z.transaction,u.autoSchema&&!l._options.allowEmptyDB?(z.onerror=Ga,T.abort(),z.result.close(),(J=f.deleteDatabase(M)).onsuccess=J.onerror=Bt(function(){B(new be.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(T.onerror=Qn(B),J=Q.oldVersion>Math.pow(2,62)?0:Q.oldVersion,C=J<1,l.idbdb=z.result,b&&Xi(l,T),mi(l,J/10,T,B))},B),z.onsuccess=Bt(function(){T=null;var Q,J,L,ne,fe,Ne,_e=l.idbdb=z.result,de=ce(_e.objectStoreNames);if(0<de.length)try{var Re=_e.transaction((fe=de).length===1?fe[0]:fe,"readonly");if(u.autoSchema)Ne=_e,ne=Re,(L=l).verno=Ne.version/10,ne=L._dbSchema=_l(0,Ne,ne),L._storeNames=ce(Ne.objectStoreNames,0),Gi(L,[L._allTables],v(ne),ne);else if(Zi(l,l._dbSchema,Re),J=Re,((J=Vi(_l(0,(Q=l).idbdb,J),Q._dbSchema)).add.length||J.change.some(function(Me){return Me.add.length||Me.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),_e.close(),y=_e.version+1,b=!0,R(j());Aa(l,Re)}catch{}La.push(l),_e.onversionchange=Bt(function(Me){u.vcFired=!0,l.on("versionchange").fire(Me)}),_e.onclose=Bt(function(){l.close({disableAutoOpen:!1})}),C&&(de=l._deps,fe=M,Ji(Ne=de.indexedDB)||fe===ri||Zr(Ne,de.IDBKeyRange).put({name:fe}).catch(Ye)),R()},B)}).catch(function(R){switch(R?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<y)return y=0,j()}return De.reject(R)})}var D,H=u.dbReadyResolve,T=null,C=!1;return De.race([h,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(R){function B(){return indexedDB.databases().finally(R)}D=setInterval(B,100),B()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(j)]).then(function(){return w(),u.onReadyBeingFired=[],De.resolve(Jr(function(){return l.on.ready.fire(l.vip)})).then(function R(){var B;if(0<u.onReadyBeingFired.length)return B=u.onReadyBeingFired.reduce(Ve,Ye),u.onReadyBeingFired=[],De.resolve(Jr(function(){return B(l.vip)})).then(R)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(R){u.dbOpenError=R;try{T&&T.abort()}catch{}return h===u.openCanceller&&l._close(),Ot(R)}).finally(function(){u.openComplete=!0,H()}).then(function(){var R;return C&&(R={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(M){M.name&&(R["idb://".concat(l.name,"/").concat(B.name,"/").concat(M.name)]=new pn(-1/0,[[[]]]))}),R["idb://".concat(l.name,"/").concat(B.name,"/")]=R["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new pn(-1/0,[[[]]])}),mn(Sl).fire(R),ts(R,!0)),l})}function yi(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(j){var j=b(j),D=j.value;return j.done?D:D&&typeof D.then=="function"?D.then(f,h):N(D)?Promise.all(D).then(f,h):f(D)}}return y(u)()}function Oa(l,u,f){for(var h=N(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Ro={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function w(R,B,M){var L=tn(R),z=y[L]=y[L]||[],Q=R==null?0:typeof R=="string"?1:R.length,J=0<B,L=d(d({},M),{name:J?"".concat(L,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:J,keyTail:B,keyLength:Q,extractKey:Nl(R),unique:!J&&M.unique});return z.push(L),L.isPrimaryKey||b.push(L),1<Q&&w(Q===2?R[0]:R.slice(0,Q-1),B+1,M),z.sort(function(ne,fe){return ne.keyTail-fe.keyTail}),L}var j=w(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[j];for(var D=0,H=h.indexes;D<H.length;D++){var T=H[D];w(T.keyPath,0,T)}function C(R){var B,M=R.query.index;return M.isVirtual?d(d({},R),{query:{index:M.lowLevelIndex,range:(B=R.query.range,M=M.keyTail,{type:B.type===1?2:B.type,lower:Oa(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,M),lowerOpen:!0,upper:Oa(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,M),upperOpen:!0})}}):R}return d(d({},f),{schema:d(d({},h),{primaryKey:j,indexes:b,getIndexByKeyPath:function(R){return(R=y[tn(R)])&&R[0]}}),count:function(R){return f.count(C(R))},query:function(R){return f.query(C(R))},openCursor:function(R){var B=R.query.index,M=B.keyTail,z=B.keyLength;return B.isVirtual?f.openCursor(C(R)).then(function(J){return J&&Q(J)}):f.openCursor(R);function Q(J){return Object.create(J,{continue:{value:function(L){L!=null?J.continue(Oa(L,R.reverse?l.MAX_KEY:l.MIN_KEY,M)):R.unique?J.continue(J.key.slice(0,z).concat(R.reverse?l.MIN_KEY:l.MAX_KEY,M)):J.continue()}},continuePrimaryKey:{value:function(L,ne){J.continuePrimaryKey(Oa(L,l.MAX_KEY,M),ne)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var L=J.key;return z===1?L[0]:L.slice(0,z)}},value:{get:function(){return J.value}}})}}})}})}};function Ii(l,u,f,h){return f=f||{},h=h||"",v(l).forEach(function(y){var b,w,j;A(u,y)?(b=l[y],w=u[y],typeof b=="object"&&typeof w=="object"&&b&&w?(j=Ze(b))!==Ze(w)?f[h+y]=u[y]:j==="Object"?Ii(b,w,f,h+y+"."):b!==w&&(f[h+y]=u[y]):b!==w&&(f[h+y]=u[y])):f[h+y]=void 0}),v(u).forEach(function(y){A(l,y)||(f[h+y]=u[y])}),f}function er(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var au={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Ee.trans,w=b.table(u).hook,j=w.deleting,D=w.creating,H=w.updating;switch(y.type){case"add":if(D.fire===Ye)break;return b._promise("readwrite",function(){return T(y)},!0);case"put":if(D.fire===Ye&&H.fire===Ye)break;return b._promise("readwrite",function(){return T(y)},!0);case"delete":if(j.fire===Ye)break;return b._promise("readwrite",function(){return T(y)},!0);case"deleteRange":if(j.fire===Ye)break;return b._promise("readwrite",function(){return(function C(R,B,M){return f.query({trans:R,values:!1,query:{index:h,range:B},limit:M}).then(function(z){var Q=z.result;return T({type:"delete",keys:Q,trans:R}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):Q.length<M?{failures:[],numFailures:0,lastResult:void 0}:C(R,d(d({},B),{lower:Q[Q.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function T(C){var R,B,M,z=Ee.trans,Q=C.keys||er(h,C);if(Q)return(C=C.type==="add"||C.type==="put"?d(d({},C),{keys:Q}):d({},C)).type!=="delete"&&(C.values=g([],C.values)),C.keys&&(C.keys=g([],C.keys)),R=f,M=Q,((B=C).type==="add"?Promise.resolve([]):R.getMany({trans:B.trans,keys:M,cache:"immutable"})).then(function(J){var L=Q.map(function(ne,fe){var Ne,_e,de,Re=J[fe],Me={onerror:null,onsuccess:null};return C.type==="delete"?j.fire.call(Me,ne,Re,z):C.type==="add"||Re===void 0?(Ne=D.fire.call(Me,ne,C.values[fe],z),ne==null&&Ne!=null&&(C.keys[fe]=ne=Ne,h.outbound||Se(C.values[fe],h.keyPath,ne))):(Ne=Ii(Re,C.values[fe]),(_e=H.fire.call(Me,Ne,ne,Re,z))&&(de=C.values[fe],Object.keys(_e).forEach(function(he){A(de,he)?de[he]=_e[he]:Se(de,he,_e[he])}))),Me});return f.mutate(C).then(function(ne){for(var fe=ne.failures,Ne=ne.results,_e=ne.numFailures,ne=ne.lastResult,de=0;de<Q.length;++de){var Re=(Ne||Q)[de],Me=L[de];Re==null?Me.onerror&&Me.onerror(fe[de]):Me.onsuccess&&Me.onsuccess(C.type==="put"&&J[de]?C.values[de]:Re)}return{failures:fe,results:Ne,numFailures:_e,lastResult:ne}}).catch(function(ne){return L.forEach(function(fe){return fe.onerror&&fe.onerror(ne)}),Promise.reject(ne)})});throw new Error("Keys missing")}}})}})}};function ns(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)lt(u.keys[y],l[b])===0&&(h.push(f?at(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var lu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=ns(h.keys,h.trans._cache,h.cache==="clone"))?De.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?at(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Ja(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function iu(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ko={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new pn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Ee.subscr&&y!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ee.querier));return l.transaction(h,y,b)},table:function(h){function y(Q){var z,Q=Q.query;return[z=Q.index,new pn((z=(Q=Q.range).lower)!=null?z:l.MIN_KEY,(z=Q.upper)!=null?z:l.MAX_KEY)]}var b=l.table(h),w=b.schema,j=w.primaryKey,D=w.indexes,H=j.extractKey,T=j.outbound,C=j.autoIncrement&&D.filter(function(M){return M.compound&&M.keyPath.includes(j.keyPath)}),R=d(d({},b),{mutate:function(M){function z(ke){return ke="idb://".concat(u,"/").concat(h,"/").concat(ke),fe[ke]||(fe[ke]=new pn)}var Q,J,L,ne=M.trans,fe=M.mutatedParts||(M.mutatedParts={}),Ne=z(""),_e=z(":dels"),de=M.type,Me=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[er(j,M).filter(function(ke){return ke}),M.values]:[],Re=Me[0],Me=Me[1],he=M.trans._cache;return N(Re)?(Ne.addKeys(Re),(de=de==="delete"||Re.length===Me.length?ns(Re,he):null)||_e.addKeys(Re),(de||Me)&&(Q=z,J=de,L=Me,w.indexes.forEach(function(ke){var Pe=Q(ke.name||"");function rt(We){return We!=null?ke.extractKey(We):null}function Le(We){ke.multiEntry&&N(We)?We.forEach(function(Dt){return Pe.addKey(Dt)}):Pe.addKey(We)}(J||L).forEach(function(We,Et){var _n=J&&rt(J[Et]),Et=L&&rt(L[Et]);lt(_n,Et)!==0&&(_n!=null&&Le(_n),Et!=null)&&Le(Et)})}))):Re?(Me={from:(he=Re.lower)!=null?he:l.MIN_KEY,to:(de=Re.upper)!=null?de:l.MAX_KEY},_e.add(Me),Ne.add(Me)):(Ne.add(f),_e.add(f),w.indexes.forEach(function(ke){return z(ke.name).add(f)})),b.mutate(M).then(function(ke){return!Re||M.type!=="add"&&M.type!=="put"||(Ne.addKeys(ke.results),C&&C.forEach(function(Pe){for(var rt=M.values.map(function(_n){return Pe.extractKey(_n)}),Le=Pe.keyPath.findIndex(function(_n){return _n===j.keyPath}),We=0,Dt=ke.results.length;We<Dt;++We)rt[We][Le]=ke.results[We];z(Pe.name).addKeys(rt)})),ne.mutatedParts=Pi(ne.mutatedParts||{},fe),ke})}}),B={get:function(M){return[j,new pn(M.key)]},getMany:function(M){return[j,new pn().addKeys(M.keys)]},count:y,query:y,openCursor:y};return v(B).forEach(function(M){R[M]=function(z){var Q=Ee.subscr,J=!!Q,L=Ja(Ee,b)&&iu(M,z)?z.obsSet={}:Q;if(J){var ne,Q=function(Me){return Me="idb://".concat(u,"/").concat(h,"/").concat(Me),L[Me]||(L[Me]=new pn)},fe=Q(""),Ne=Q(":dels"),J=B[M](z),_e=J[0],J=J[1];if((M==="query"&&_e.isPrimaryKey&&!z.values?Ne:Q(_e.name||"")).add(J),!_e.isPrimaryKey){if(M!=="count")return ne=M==="query"&&T&&z.values&&b.query(d(d({},z),{values:!1})),b[M].apply(this,arguments).then(function(Me){if(M==="query"){if(T&&z.values)return ne.then(function(rt){return rt=rt.result,fe.addKeys(rt),Me});var he=z.values?Me.result.map(H):Me.result;(z.values?fe:Ne).addKeys(he)}else{var ke,Pe;if(M==="openCursor")return Pe=z.values,(ke=Me)&&Object.create(ke,{key:{get:function(){return Ne.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var rt=ke.primaryKey;return Ne.addKey(rt),rt}},value:{get:function(){return Pe&&fe.addKey(ke.primaryKey),ke.value}}})}return Me});Ne.add(f)}}return b[M].apply(this,arguments)}}),R}})}};function ru(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function tr(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<lt(f,h.lower):0<=lt(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?lt(f,h.upper)<0:lt(f,h.upper)<=0));var f,h}function as(l,u,f,h,y,b){var w,j,D,H,T,C;return!f||f.length===0||(w=u.query.index,j=w.multiEntry,D=u.query.range,H=h.schema.primaryKey.extractKey,T=w.extractKey,C=(w.lowLevelIndex||w).extractKey,(h=f.reduce(function(R,B){var M=R,z=[];if(B.type==="add"||B.type==="put")for(var Q=new pn,J=B.values.length-1;0<=J;--J){var L,ne=B.values[J],fe=H(ne);!Q.hasKey(fe)&&(L=T(ne),j&&N(L)?L.some(function(Me){return tr(Me,D)}):tr(L,D))&&(Q.addKey(fe),z.push(ne))}switch(B.type){case"add":var Ne=new pn().addKeys(u.values?R.map(function(he){return H(he)}):R),M=R.concat(u.values?z.filter(function(he){return he=H(he),!Ne.hasKey(he)&&(Ne.addKey(he),!0)}):z.map(function(he){return H(he)}).filter(function(he){return!Ne.hasKey(he)&&(Ne.addKey(he),!0)}));break;case"put":var _e=new pn().addKeys(B.values.map(function(he){return H(he)}));M=R.filter(function(he){return!_e.hasKey(u.values?H(he):he)}).concat(u.values?z:z.map(function(he){return H(he)}));break;case"delete":var de=new pn().addKeys(B.keys);M=R.filter(function(he){return!de.hasKey(u.values?H(he):he)});break;case"deleteRange":var Re=B.range;M=R.filter(function(he){return!tr(H(he),Re)})}return M},l))===l)?l:(h.sort(function(R,B){return lt(C(R),C(B))||lt(H(R),H(B))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Cl(l,u){return lt(l.lower,u.lower)===0&&lt(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function gi(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=lt(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=lt(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Bo(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&pe(b,y)},3e3))})}var nr={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,w,j=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,j.addEventListener("abort",(w=function(D){return function(){if(b.abort(),h==="readwrite"){for(var H=new Set,T=0,C=f;T<C.length;T++){var R=C[T],B=Za["idb://".concat(u,"/").concat(R)];if(B){var M=l.table(R),z=B.optimisticOps.filter(function(ke){return ke.trans===j});if(j._explicit&&D&&j.mutatedParts)for(var Q=0,J=Object.values(B.queries.query);Q<J.length;Q++)for(var L=0,ne=(_e=J[Q]).slice();L<ne.length;L++)Wr((de=ne[L]).obsSet,j.mutatedParts)&&(pe(_e,de),de.subscribers.forEach(function(ke){return H.add(ke)}));else if(0<z.length){B.optimisticOps=B.optimisticOps.filter(function(ke){return ke.trans!==j});for(var fe=0,Ne=Object.values(B.queries.query);fe<Ne.length;fe++)for(var _e,de,Re,Me=0,he=(_e=Ne[fe]).slice();Me<he.length;Me++)(de=he[Me]).res!=null&&j.mutatedParts&&(D&&!de.dirty?(Re=Object.isFrozen(de.res),Re=as(de.res,de.req,z,M,de,Re),de.dirty?(pe(_e,de),de.subscribers.forEach(function(ke){return H.add(ke)})):Re!==de.res&&(de.res=Re,de.promise=De.resolve({result:Re}))):(de.dirty&&pe(_e,de),de.subscribers.forEach(function(ke){return H.add(ke)})))}}}H.forEach(function(ke){return ke()})}}})(!1),{signal:y}),j.addEventListener("error",w(!1),{signal:y}),j.addEventListener("complete",w(!0),{signal:y})),j},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var w,j=Ee.trans;return!y.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(w=Za["idb://".concat(u,"/").concat(f)])?(j=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||er(y,b).some(function(D){return D==null}))?(w.optimisticOps.push(b),b.mutatedParts&&Wi(b.mutatedParts),j.then(function(D){0<D.numFailures&&(pe(w.optimisticOps,b),(D=ru(0,b,D))&&w.optimisticOps.push(D),b.mutatedParts)&&Wi(b.mutatedParts)}),j.catch(function(){pe(w.optimisticOps,b),b.mutatedParts&&Wi(b.mutatedParts)})):j.then(function(D){var H=ru(0,d(d({},b),{values:b.values.map(function(T,C){var R;return D.failures[C]?T:(Se(R=(R=y.keyPath)!=null&&R.includes(".")?at(T):d({},T),y.keyPath,D.results[C]),R)})}),D);w.optimisticOps.push(H),queueMicrotask(function(){return b.mutatedParts&&Wi(b.mutatedParts)})}),j):h.mutate(b)},query:function(b){var w,j,D,H,T,C,R;return Ja(Ee,h)&&iu("query",b)?(w=((D=Ee.trans)==null?void 0:D.db._options.cache)==="immutable",j=(D=Ee).requery,D=D.signal,C=((B,M,z,Q)=>{var J=Za["idb://".concat(B,"/").concat(M)];if(!J)return[];if(!(B=J.queries[z]))return[null,!1,J,null];var L=B[(Q.query?Q.query.index.name:null)||""];if(!L)return[null,!1,J,null];switch(z){case"query":var ne=L.find(function(fe){return fe.req.limit===Q.limit&&fe.req.values===Q.values&&Cl(fe.req.query.range,Q.query.range)});return ne?[ne,!0,J,L]:[L.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=Q.limit&&(!Q.values||fe.req.values)&&gi(fe.req.query.range,Q.query.range)}),!1,J,L];case"count":return ne=L.find(function(fe){return Cl(fe.req.query.range,Q.query.range)}),[ne,!!ne,J,L]}})(u,f,"query",b),R=C[0],H=C[2],T=C[3],R&&C[1]?R.obsSet=b.obsSet:(C=h.query(b).then(function(B){var M=B.result;if(R&&(R.res=M),w){for(var z=0,Q=M.length;z<Q;++z)Object.freeze(M[z]);Object.freeze(M)}else B.result=at(M);return B}).catch(function(B){return T&&R&&pe(T,R),Promise.reject(B)}),R={obsSet:b.obsSet,promise:C,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(R):(T=[R],(H=H||(Za["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=T)),Bo(R,T,j,D),R.promise.then(function(B){return{result:as(B.result,b,H?.optimisticOps,h,R,w)}})):h.query(b)}})}})}};function bi(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Kt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new be.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort(Vr),f.stores({}),this._state.autoSchema=!1),f},Kt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Ee.letThrough||this._vip)?l():new De(function(f,h){if(u._state.openComplete)return h(new be.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new be.DatabaseClosed);u.open().catch(Ye)}u._state.dbReadyPromise.then(f,h)}).then(l)},Kt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(w,j){return w.level-j.level}),this},Kt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Kt.prototype.open=function(){var l=this;return Kn(kt,function(){return zo(l)})},Kt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=La.indexOf(this);if(0<=u&&La.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new De(function(f){l.dbReadyResolve=f}),l.openCanceller=new De(function(f,h){l.cancelOpen=h}))},Kt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new be.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new be.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Kt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new De(function(y,b){function w(){u.close(l);var j=u._deps.indexedDB.deleteDatabase(u.name);j.onsuccess=Bt(function(){var D,H,T;D=u._deps,H=u.name,Ji(T=D.indexedDB)||H===ri||Zr(T,D.IDBKeyRange).delete(H).catch(Ye),y()}),j.onerror=Qn(b),j.onblocked=u._fireOnBlocked}if(f)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(w):w()})},Kt.prototype.backendDB=function(){return this.idbdb},Kt.prototype.isOpen=function(){return this.idbdb!==null},Kt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Kt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Kt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Kt.prototype,"tables",{get:function(){var l=this;return v(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Kt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new be.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,st(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Kt.prototype._transaction=function(l,u,f){var h,y,b=this,w=Ee.trans,j=(w&&w.db===this&&l.indexOf("!")===-1||(w=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(H){if(H=H instanceof b.Table?H.name:H,typeof H!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return H}),l=="r"||l===ma)h=ma;else{if(l!="rw"&&l!=Ea)throw new be.InvalidArgument("Invalid transaction mode: "+l);h=Ea}if(w){if(w.mode===ma&&h===Ea){if(!j)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&y.forEach(function(H){if(w&&w.storeNames.indexOf(H)===-1){if(!j)throw new be.SubTransaction("Table "+H+" not included in parent transaction.");w=null}}),j&&w&&!w.active&&(w=null)}}catch(H){return w?w._promise(null,function(T,C){C(H)}):Ot(H)}var D=(function H(T,C,R,B,M){return De.resolve().then(function(){var L=Ee.transless||Ee,z=T._createTransaction(C,R,T._dbSchema,B),L=(z.explicit=!0,{trans:z,transless:L});if(B)z.idbtrans=B.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(ne){return ne.name===Ht.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return H(T,C,R,null,M)})):Ot(ne)}var Q,J=Y(M),L=(J&&$t(),De.follow(function(){var ne;(Q=M.call(z,z))&&(J?(ne=On.bind(null,null),Q.then(ne,ne)):typeof Q.next=="function"&&typeof Q.throw=="function"&&(Q=yi(Q)))},L));return(Q&&typeof Q.then=="function"?De.resolve(Q).then(function(ne){return z.active?ne:Ot(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return Q})).then(function(ne){return B&&z._resolve(),z._completion.then(function(){return ne})}).catch(function(ne){return z._reject(ne),Ot(ne)})})}).bind(null,this,h,y,w,f);return w?w._promise(h,D,"lock"):Ee.trans?Kn(Ee.transless,function(){return b._whenReady(D)}):this._whenReady(D)},Kt.prototype.table=function(l){if(A(this._allTables,l))return this._allTables[l];throw new be.InvalidTable("Table ".concat(l," does not exist"))};var ta=Kt;function Kt(l,u){var f,h,y,b,w,j=this,D=(this._middlewares={},this.verno=0,Kt.dependencies),D=(this._options=u=d({addons:Kt.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),H=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ye,dbReadyPromise:null,cancelOpen:Ye,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),T=(H.dbReadyPromise=new De(function(C){H.dbReadyResolve=C}),H.openCanceller=new De(function(C,R){H.cancelOpen=R}),this._state=H,this.name=l,this.on=oi(this,"populate","blocked","versionchange","close",{ready:[Ve,Ye]}),this.once=function(C,R){var B=function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];j.on(C).unsubscribe(B),R.apply(j,M)};return j.on(C,B)},this.on.ready.subscribe=ve(this.on.ready.subscribe,function(C){return function(R,B){Kt.vip(function(){var M,z=j._state;z.openComplete?(z.dbOpenError||De.resolve().then(R),B&&C(R)):z.onReadyBeingFired?(z.onReadyBeingFired.push(R),B&&C(R)):(C(R),M=j,B||C(function Q(){M.on.ready.unsubscribe(R),M.on.ready.unsubscribe(Q)}))})}}),this.Collection=(f=this,hn(Do.prototype,function(Q,z){this.db=f;var B=Lr,M=null;if(z)try{B=z()}catch(L){M=L}var z=Q._ctx,Q=z.table,J=Q.hook.reading.fire;this._ctx={table:Q,index:z.index,isPrimKey:!z.index||Q.schema.primKey.keyPath&&z.index===Q.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:z.or,valueMapper:J!==gt?J:null}})),this.Table=(h=this,hn(Kr.prototype,function(C,R,B){this.db=h,this._tx=B,this.name=C,this.schema=R,this.hook=h._allTables[C]?h._allTables[C].hook:oi(null,{creating:[ue,Ye],reading:[Vt,gt],updating:[W,Ye],deleting:[Oe,Ye]})})),this.Transaction=(y=this,hn(Xr.prototype,function(C,R,B,M,z){var Q=this;C!=="readonly"&&R.forEach(function(J){J=(J=B[J])==null?void 0:J.yProps,J&&(R=R.concat(J.map(function(L){return L.updatesTable})))}),this.db=y,this.mode=C,this.storeNames=R,this.schema=B,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=oi(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(J,L){Q._resolve=J,Q._reject=L}),this._completion.then(function(){Q.active=!1,Q.on.complete.fire()},function(J){var L=Q.active;return Q.active=!1,Q.on.error.fire(J),Q.parent?Q.parent._reject(J):L&&Q.idbtrans&&Q.idbtrans.abort(),Ot(J)})})),this.Version=(b=this,hn(Mo.prototype,function(C){this.db=b,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,hn(Qa.prototype,function(C,R,B){if(this.db=w,this._ctx={table:C,index:R===":id"?null:R,or:B},this._cmp=this._ascending=lt,this._descending=function(M,z){return lt(z,M)},this._max=function(M,z){return 0<lt(M,z)?M:z},this._min=function(M,z){return lt(M,z)<0?M:z},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=jl(u.IDBKeyRange),this._createTransaction=function(C,R,B,M){return new j.Transaction(C,R,B,j._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(C){j.on("blocked").fire(C),La.filter(function(R){return R.name===j.name&&R!==j&&!R._state.vcFired}).map(function(R){return R.on("versionchange").fire(C)})},this.use(lu),this.use(nr),this.use(ko),this.use(Ro),this.use(au),new Proxy(this,{get:function(C,R,B){var M;return R==="_vip"||(R==="table"?function(z){return bi(j.table(z),T)}:(M=Reflect.get(C,R,B))instanceof Kr?bi(M,T):R==="tables"?M.map(function(z){return bi(z,T)}):R==="_createTransaction"?function(){return bi(M.apply(this,arguments),T)}:M)}}));this.vip=T,D.forEach(function(C){return C(j)})}var Al,$a=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",su=(ar.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ar.prototype[$a]=function(){return this},ar);function ar(l){this._subscribe=l}try{Al={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{Al={indexedDB:null,IDBKeyRange:null}}function uu(l){var u,f=!1,h=new su(function(y){var b=Y(l),w,j=!1,D={},H={},T={get closed(){return j},unsubscribe:function(){j||(j=!0,w&&w.abort(),C&&mn.storagemutated.unsubscribe(B))}},C=(y.start&&y.start(T),!1),R=function(){return _a(M)},B=function(z){Pi(D,z),Wr(H,D)&&R()},M=function(){var z,Q,J;!j&&Al.indexedDB&&(D={},z={},w&&w.abort(),w=new AbortController,J=(L=>{var ne=wa();try{b&&$t();var fe=Ut(l,L);return fe=b?fe.finally(On):fe}finally{ne&&Pn()}})(Q={subscr:z,signal:w.signal,requery:R,querier:l,trans:null}),Promise.resolve(J).then(function(L){f=!0,u=L,j||Q.signal.aborted||(D={},(ne=>{for(var fe in ne)if(A(ne,fe))return;return 1})(H=z)||C||(mn(Sl,B),C=!0),_a(function(){return!j&&y.next&&y.next(L)}))},function(L){f=!1,["DatabaseClosedError","AbortError"].includes(L?.name)||j||_a(function(){j||y.error&&y.error(L)})}))};return setTimeout(R,0),T});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var Pa=ta;function ls(l){var u=Da;try{Da=!0,mn.storagemutated.fire(l),ts(l,!0)}finally{Da=u}}Z(Pa,d(d({},re),{delete:function(l){return new Pa(l,{addons:[]}).delete()},exists:function(l){return new Pa(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=Pa.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Ji(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ri})}):Zr(f,u).toCollection().primaryKeys()).then(l)}catch{return Ot(new be.MissingAPI)}var u,f},defineClass:function(){return function(l){q(this,l)}},ignoreTransaction:function(l){return Ee.trans?Kn(Ee.transless,l):l()},vip:Jr,async:function(l){return function(){try{var u=yi(l.apply(this,arguments));return u&&typeof u.then=="function"?u:De.resolve(u)}catch(f){return Ot(f)}}},spawn:function(l,u,f){try{var h=yi(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:De.resolve(h)}catch(y){return Ot(y)}},currentTransaction:{get:function(){return Ee.trans||null}},waitFor:function(l,u){return l=De.resolve(typeof l=="function"?Pa.ignoreTransaction(l):l).timeout(u||6e4),Ee.trans?Ee.trans.waitFor(l):l},Promise:De,debug:{get:function(){return ut},set:function(l){un(l)}},derive:ie,extend:q,props:Z,override:ve,Events:oi,on:mn,liveQuery:uu,extendObservabilitySet:Pi,getByKeyPath:ge,setByKeyPath:Se,delByKeyPath:function(l,u){typeof u=="string"?Se(l,u,void 0):"length"in u&&[].map.call(u,function(f){Se(l,f,void 0)})},shallowClone:Ge,deepClone:at,getObjectDiff:Ii,cmp:lt,asap:xe,minKey:-1/0,addons:[],connections:La,errnames:Ht,dependencies:Al,cache:Za,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),Pa.maxKey=jl(Pa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(mn(Sl,function(l){Da||(l=new CustomEvent(Xa,{detail:l}),Da=!0,dispatchEvent(l),Da=!1)}),addEventListener(Xa,function(l){l=l.detail,Da||ls(l)}));var Ol,Da=!1,Nn=function(){};return typeof BroadcastChannel<"u"&&((Nn=function(){(Ol=new BroadcastChannel(Xa)).onmessage=function(l){return l.data&&ls(l.data)}})(),typeof Ol.unref=="function"&&Ol.unref(),mn(Sl,function(l){Da||Ol.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ta.disableBfCache&&l.persisted){ut&&console.debug("Dexie: handling persisted pagehide"),Ol?.close();for(var u=0,f=La;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ta.disableBfCache&&l.persisted&&(ut&&console.debug("Dexie: handling persisted pageshow"),Nn(),ls({all:new pn(-1/0,[[]])}))})),De.rejectionMapper=function(l,u){return!l||l instanceof Ae||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Ie[l.name]?l:(u=new Ie[l.name](u||l.message,l),"stack"in l&&G(u,"stack",{get:function(){return this.inner.stack}}),u)},un(ut),d(ta,Object.freeze({__proto__:null,Dexie:ta,Entity:Js,PropModification:xl,RangeSet:pn,add:function(l){return new xl({add:l})},cmp:lt,default:ta,liveQuery:uu,mergeRanges:Fa,rangesOverlap:eu,remove:function(l){return new xl({remove:l})},replacePrefix:function(l,u){return new xl({replacePrefix:[l,u]})}}),{default:ta}),ta})})(mo)),mo.exports}var yv=pv();const Rf=E0(yv),Np=Symbol.for("Dexie"),xo=globalThis[Np]||(globalThis[Np]=Rf);if(Rf.semVer!==xo.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rf.semVer} and ${xo.semVer}`);const{liveQuery:bx,mergeRanges:vx,rangesOverlap:xx,RangeSet:Sx,cmp:wx,Entity:jx,PropModification:Nx,replacePrefix:_x,add:Ex,remove:Cx,DexieYProvider:Ax}=xo,Vf=new xo("WiseMarkDB");Vf.version(1).stores({pdfs:"hash, filename, size, blob"});async function kf(s){const c=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function Ff(s,c,m,d){await Vf.pdfs.put({hash:s,filename:c,size:m,blob:d})}async function gv(s){const c=await Vf.pdfs.get(s);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function bv(s){if(!s?.pdf_hash)return null;try{const{data:c}=await fn.getPdf(s.id),m=(c instanceof ArrayBuffer,c),d=s.file_size??m?.byteLength??0;return await Ff(s.pdf_hash,s.filename||"",d,m),{data:m,filename:s.filename||"",size:d}}catch{const c=await gv(s.pdf_hash);return c||null}}const ca=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function _p(s){if(!s)return null;const c=new Date(s);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function vv(s){if(!s)return null;const c=new Date(s);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),S=Math.floor(d/36e5),v=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:S<24?`${S}h ago`:v===1?"Yesterday":v<7?`${v}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function xv({doc:s,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:S,onOpen:v,onRename:N,onDelete:q}){const E=c[s.highlight_preset]??c._default,O=E?.colors?.[0]?.hex??"#94a3b8",A=s.color&&ca.includes(s.color)?s.color:m,Z=s.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(s.id),onMouseLeave:S,onClick:()=>v(s.id),role:"button",tabIndex:0,onKeyDown:me=>me.key==="Enter"&&v(s.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${A}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:s.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[E&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:O,background:`${O}14`},children:E.name}),_p(s.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:_p(s.created_at)})]}),s.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",vv(s.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:Z>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[Z," note",Z!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:me=>{me.stopPropagation(),N(s)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(Co,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:me=>{me.stopPropagation(),q(s)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(Br,{className:"w-3.5 h-3.5"})})]}),o.jsx(Ys,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Sv(){const{projectId:s}=Uf(),c=Bi(),m=Rr(),[d,g]=K.useState(!1),[S,v]=K.useState(""),[N,q]=K.useState(null),[E,O]=K.useState(""),[A,Z]=K.useState(!1),[me,G]=K.useState(""),[ie,$]=K.useState(null),[Ce,ce]=K.useState(""),[ve,te]=K.useState(null),[xe,ge]=K.useState(ca[0]),Se=K.useRef(null),Ge=K.useRef(null),$e=K.useRef(null),[st,ht]=K.useState(0),[Xe,at]=K.useState(null),[we,Ze]=K.useState("recent"),[X,oe]=K.useState(!1),[pe,je]=K.useState(null),[Te,Y]=K.useState(!1),{data:re,isLoading:ye}=$n({queryKey:["project",s],queryFn:async()=>(await Ls.get(s)).data,enabled:!!s}),{data:Ae,isLoading:He}=$n({queryKey:["documents",s],queryFn:async()=>(await fn.list({project:s})).data,enabled:!!s}),it=Array.isArray(Ae)?Ae:Ae?.results??[],{data:yt=[]}=$n({queryKey:["lenses"],queryFn:async()=>(await fa.list()).data}),Ht=K.useMemo(()=>{const ze={};yt.forEach(St=>{ze[St.id]=St});const Qe=yt.find(St=>St.is_system)??yt[0];return Qe&&(ze._default=Qe),ze},[yt]),sn=K.useMemo(()=>{const ze=[...it];return we==="recent"?ze.sort((Qe,St)=>{const Rt=Qe.last_opened_at||Qe.updated_at||Qe.created_at||"";return(St.last_opened_at||St.updated_at||St.created_at||"").localeCompare(Rt)}):we==="uploaded"?ze.sort((Qe,St)=>(St.created_at||"").localeCompare(Qe.created_at||"")):we==="name"?ze.sort((Qe,St)=>(Qe.filename||"").localeCompare(St.filename||"")):we==="annotations"&&ze.sort((Qe,St)=>(St.annotation_count??0)-(Qe.annotation_count??0)),ze},[it,we]),be=it.reduce((ze,Qe)=>ze+(Qe.annotation_count??0),0),Ie=En({mutationFn:({id:ze,name:Qe})=>Ls.update(ze,{name:Qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",s]}),m.invalidateQueries({queryKey:["projects"]}),Z(!1)}}),Ye=En({mutationFn:({id:ze,filename:Qe})=>fn.update(ze,{filename:Qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",s]}),q(null),O("")}}),gt=En({mutationFn:ze=>fn.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",s]}),je(null)}}),Vt=En({mutationFn:ze=>Ls.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),Nt=async ze=>{const Qe=ze.target.files?.[0];if(!Qe||!Qe.type.includes("pdf"))return;v(""),$(Qe);const St=Qe.name.replace(/\.pdf$/i,"")||Qe.name;ce(St),ge(ca[it.length%ca.length]),te(null),Se.current=null;try{const Rt=await Qe.arrayBuffer(),_t=await kf(Rt),kt={arrayBuffer:Rt,hash:_t,size:Qe.size};te(kt),Se.current={...kt,suggestedName:St}}catch(Rt){v(Rt.message||"Could not read file"),$(null),ce("")}},ue=async ze=>{ze.preventDefault(),oe(!1);const Qe=ze.dataTransfer?.files?.[0];if(!Qe||!Qe.type.includes("pdf"))return;v(""),$(Qe);const St=Qe.name.replace(/\.pdf$/i,"")||Qe.name;ce(St),ge(ca[it.length%ca.length]),te(null),Se.current=null;try{const Rt=await Qe.arrayBuffer(),_t=await kf(Rt),kt={arrayBuffer:Rt,hash:_t,size:Qe.size};te(kt),Se.current={...kt,suggestedName:St}}catch(Rt){v(Rt.message||"Could not read file"),$(null),ce("")}},Oe=()=>{$(null),ce(""),te(null),ge(ca[0]),v(""),Se.current=null,ht(ze=>ze+1)},W=()=>$e.current?.click(),Ue=async ze=>{ze.preventDefault();const Qe=s,Rt=Ge.current?.value?.trim()||Ce?.trim()||Se.current?.suggestedName?.trim()||"",_t=Se.current||ve;if(!Qe){v("Project not found.");return}if(!Rt){v("Please enter a name for the PDF.");return}if(!_t||!_t.hash||!_t.arrayBuffer){v("File data missing. Please close and select the file again.");return}const kt=Rt.toLowerCase().endsWith(".pdf")?Rt:`${Rt}.pdf`;v(""),g(!0);try{const Ee=new FormData;Ee.append("project",String(Qe)),Ee.append("filename",kt),Ee.append("color",xe),Ee.append("file",new Blob([_t.arrayBuffer]),kt),await fn.createWithFile(Ee),await Ff(_t.hash,kt,_t.size,_t.arrayBuffer),m.invalidateQueries({queryKey:["documents",Qe]}),$(null),ce(""),te(null),Se.current=null,ht(da=>da+1)}catch(Ee){const da=Ee.response?.data?.detail||typeof Ee.response?.data=="object"&&Object.values(Ee.response?.data||{}).flat().join(" ")||Ee.message||"Upload failed";v(String(da))}finally{g(!1)}},Ve=ze=>{q(ze.id),O(ze.filename||"")},ut=()=>{if(N==null||!E.trim()){q(null);return}Ye.mutate({id:N,filename:E.trim()})},un=()=>{q(null),O("")},An=()=>{G(re?.name??""),Z(!0)},on=()=>{const ze=me.trim();if(!ze||ze===re?.name){Z(!1);return}Ie.mutate({id:s,name:ze})},xa=()=>{Z(!1),G("")},dn=yl(ze=>ze.logout),{data:Ln}=$n({queryKey:["me"],queryFn:async()=>(await Mr.me()).data}),Sa=(Ln?.email?.[0]||Ln?.username?.[0]||"?").toUpperCase(),qa=re?.color&&ca.includes(re.color)?re.color:re?ca[re.id%ca.length]:ca[0];return ye||!re?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(Ba,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>c("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:o.jsx(Eo,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{dn(),c("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Xf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:Sa})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:A?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:me,onChange:ze=>G(ze.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:ze=>{ze.key==="Enter"&&on(),ze.key==="Escape"&&xa()}}),o.jsx("button",{type:"button",onClick:on,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(bo,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:xa,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(ki,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:re.name})}),!A&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:An,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(Co,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>Y(!0),disabled:Vt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(Br,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-[12.5px] text-slate-400 mb-6",children:[o.jsxs("span",{children:[it.length," document",it.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{children:[be," annotation",be!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:we,onChange:ze=>Ze(ze.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:W,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(vo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:$e,type:"file",accept:".pdf",onChange:Nt,className:"hidden","aria-hidden":"true",tabIndex:-1},st),S&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:S}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(Ba,{className:"w-4 h-4 animate-spin"})," Uploading"]}),He?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(Ba,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):it.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(Gf,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:sn.map(ze=>N===ze.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:E,onChange:Qe=>O(Qe.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Qe=>{Qe.key==="Enter"&&ut(),Qe.key==="Escape"&&un()}}),o.jsx("button",{type:"button",onClick:ut,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(bo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:un,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(ki,{className:"w-4 h-4"})})]},ze.id):o.jsx(xv,{doc:ze,lensMap:Ht,projectColor:qa,hovered:Xe===ze.id,onHover:at,onLeave:()=>at(null),onOpen:Qe=>c(`/document/${Qe}`),onRename:Ve,onDelete:Qe=>je(Qe)},ze.id))}),it.length>0&&o.jsxs("div",{onDragOver:ze=>{ze.preventDefault(),oe(!0)},onDragLeave:()=>oe(!1),onDrop:ue,onClick:W,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${X?"#2563eb":"#e2e8f0"}`,background:X?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:X?"#dbeafe":"#f1f5f9"},children:o.jsx(vo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:X?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),ie&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:Oe,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),ve?o.jsxs("div",{className:"space-y-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:S}),o.jsx("input",{ref:Ge,type:"text",value:Ce,onChange:ze=>ce(ze.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:ca.map(ze=>o.jsx("button",{type:"button",onClick:()=>ge(ze),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:ze,borderColor:xe===ze?"#1e293b":"transparent",outline:xe===ze?"2px solid #fff":"none",outlineOffset:-4}},ze))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:Oe,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:Ue,disabled:d||!Ce.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Ba,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(Ba,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),pe&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!gt.isPending&&je(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:pe.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>je(null),disabled:gt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>gt.mutate(pe.id),disabled:gt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:gt.isPending?"Deleting":"Delete"})]})]})}),Te&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Vt.isPending&&Y(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:re.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Y(!1),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Vt.mutate(s),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Vt.isPending?"Deleting":"Delete project"})]})]})})]})}const pl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},Zf=Object.keys(pl);function zr(s,c=1){if(!s||!s.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(s.slice(1),16),d=m>>16&255,g=m>>8&255,S=m&255;return`rgba(${d},${g},${S},${c})`}function ei(s,c={},m){if(c&&typeof c[s]=="string"&&c[s].trim())return c[s].trim();if(m?.length){const d=m.find(g=>g.key===s);if(d?.display_name)return d.display_name}return pl[s]&&pl[s].name||s}D0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const wv=()=>typeof window<"u"&&window.devicePixelRatio||1;function jv(s,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,S=g,v=typeof s.width=="number"&&s.width>0?s.width*d:(s.str?.length||1)*S*.5,N=c[4],q=c[5]-g*.85;return{x:N,y:q,w:v,h:S}}function Nv(s,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),S=[];let v=0,N=-999;const q=4;let E=0;return s.items.forEach(O=>{if(!O.str||O.str.trim()==="")return;const A=M0.transform(c.transform,O.transform),Z=jv(O,A);Math.abs(Z.y-N)>q&&(v+=1,N=Z.y);const me=Z.h,G=typeof O.width=="number"&&O.width>0?O.width*m:Z.w,ie=O.str.split(/(\s+)/);if(!g||ie.length===0){S.push({id:E++,text:O.str,x:Z.x,y:Z.y,w:Z.w,h:Z.h,fontSize:Z.h,lineIndex:v});return}g.font=`${me}px sans-serif`;const $=ie.map(te=>({text:te,measured:g.measureText(te).width,isSpace:/^\s+$/.test(te)||te===""})),Ce=$.reduce((te,xe)=>te+xe.measured,0),ce=Ce>0?G/Ce:1;let ve=0;$.forEach(te=>{const xe=te.measured*ce;if(te.text===""||te.isSpace){ve+=xe;return}S.push({id:E,text:te.text,x:Z.x+ve,y:Z.y,w:xe,h:me,fontSize:me,lineIndex:v}),E+=1,ve+=xe})}),S}function ay(s){const c={};return s.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function Ep(s,c,m){let S=null,v=1/0;for(const N of s){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(c>=N.x-4&&c<=N.x+N.w+4)return N;const O=c<N.x?N.x-c:c-(N.x+N.w);O<v&&O<40&&(v=O,S=N)}return S}function _v(s){if(!s.length)return"";const c=[];for(let S=1;S<s.length;S++){const v=s[S],N=s[S-1];(v.lineIndex??0)!==(N.lineIndex??0)&&v.y>N.y&&c.push(v.y-N.y)}const m=c.length?[...c].sort((S,v)=>S-v):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let S=0;S<s.length;S++){const v=s[S];if(S>0){const N=s[S-1],q=(v.lineIndex??0)===(N.lineIndex??0),E=v.y-N.y,O=Math.max(8,(N.h+v.h)/2),A=d!=null?d*1.4:O*1.5,Z=!q&&E>=A;q?v.x-(N.x+N.w)>1&&(g+=" "):Z?g+=`

`:g+=`
`}g+=v.text}return g.trim()}function Ev(s,c){return s.length?ay(s).map(d=>{const g=Math.min(...d.map(A=>A.x)),S=Math.max(...d.map(A=>A.x+A.w)),v=d.map(A=>A.y),N=v.sort((A,Z)=>A-Z)[Math.floor(v.length/2)],q=Math.max(...d.map(A=>A.h)),E=2;return{x:(g-1)/c,y:(N-E)/c,width:(S-g+2)/c,height:(q+E+3)/c}}):[]}function Cv({pdfData:s,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:S=null,lensColors:v=[],onSelectionComplete:N,onNumPages:q,onHighlightHover:E,onHighlightHoverEnd:O,onHighlightEdit:A,onHighlightDelete:Z}){const[me,G]=K.useState(null),[ie,$]=K.useState(0),[Ce,ce]=K.useState(!0);return K.useEffect(()=>{if(!s)return;let ve=!1;return(async()=>{ce(!0);try{const xe=s.slice(0),ge=await T0({data:xe}).promise;ve||(G(ge),$(ge.numPages),q?.(ge.numPages))}catch(xe){console.error("Failed to load PDF",xe)}ve||ce(!1)})(),()=>{ve=!0}},[s,q]),Ce?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(Ba,{className:"w-6 h-6 text-slate-400 animate-spin"})}):me?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:ie},(ve,te)=>o.jsx(Av,{pdf:me,pageNumber:te+1,scale:c,pageHighlights:m.filter(xe=>xe.page_number===te+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:S,lensColors:v,onSelectionComplete:N,onHighlightHover:E,onHighlightHoverEnd:O,onHighlightEdit:A,onHighlightDelete:Z},te))}):null}function Av({pdf:s,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:S,selectionForPicker:v,lensColors:N=[],onSelectionComplete:q,onHighlightHover:E,onHighlightHoverEnd:O,onHighlightEdit:A,onHighlightDelete:Z}){const me=K.useRef(null),G=K.useRef(null),ie=K.useRef(null),$=K.useRef(null),[Ce,ce]=K.useState({width:0,height:0}),[ve,te]=K.useState([]),[xe,ge]=K.useState(null),[Se,Ge]=K.useState(null),[$e,st]=K.useState(!1),ht=K.useRef(null),Xe=K.useRef(null),at=K.useCallback(()=>{Xe.current&&clearTimeout(Xe.current),Xe.current=setTimeout(()=>{O?.(),Xe.current=null},1e3)},[O]),we=K.useCallback(Y=>{Xe.current&&(clearTimeout(Xe.current),Xe.current=null),E?.(Y)},[E]);K.useEffect(()=>()=>{Xe.current&&clearTimeout(Xe.current)},[]),K.useEffect(()=>{let Y=!1;return(async()=>{const ye=await s.getPage(c),Ae=wv(),He=ye.getViewport({scale:m}),it=ye.getViewport({scale:m*Ae}),yt=G.current;if(!yt||Y)return;const Ht=yt.getContext("2d",{alpha:!1});Ht.imageSmoothingEnabled=!0,Ht.imageSmoothingQuality="high",yt.width=it.width,yt.height=it.height,yt.style.width=`${He.width}px`,yt.style.height=`${He.height}px`,ce({width:He.width,height:He.height}),await ye.render({canvasContext:Ht,viewport:it}).promise;const sn=await ye.getTextContent();if(Y)return;const be=Nv(sn,He,m);te(be);const Ie=ie.current;!Ie||Y||(Ie.innerHTML="",Ie.style.width=`${He.width}px`,Ie.style.height=`${He.height}px`,be.forEach(Ye=>{const gt=document.createElement("span");gt.textContent=Ye.text,gt.style.position="absolute",gt.style.left=`${Ye.x}px`,gt.style.top=`${Ye.y}px`,gt.style.width=`${Ye.w}px`,gt.style.height=`${Ye.h}px`,gt.style.fontSize=`${Ye.fontSize}px`,gt.style.fontFamily="sans-serif",gt.style.color="transparent",gt.style.whiteSpace="pre",gt.style.pointerEvents="none",gt.style.lineHeight="1",Ie.appendChild(gt)}))})(),()=>{Y=!0}},[s,c,m]);const Ze=K.useMemo(()=>{if(v&&v.pageNumber===c){const ye=Math.min(v.spanStart,v.spanEnd),Ae=Math.max(v.spanStart,v.spanEnd);return ve.filter(He=>He.id>=ye&&He.id<=Ae)}if(xe==null||Se==null)return[];const Y=Math.min(xe,Se),re=Math.max(xe,Se);return ve.filter(ye=>ye.id>=Y&&ye.id<=re)},[ve,v,c,xe,Se]);K.useEffect(()=>{v===null&&ht.current?.pageNumber===c&&(ge(null),Ge(null)),ht.current=v},[v,c]);const X=K.useCallback((Y,re)=>{const ye=me.current?.getBoundingClientRect();return ye?{x:Y-ye.left,y:re-ye.top}:{x:0,y:0}},[]),oe=K.useCallback(Y=>{if(Y.button!==0||!ve.length)return;const{x:re,y:ye}=X(Y.clientX,Y.clientY),Ae=Ep(ve,re,ye);Ae?(ge(Ae.id),Ge(Ae.id),st(!0)):(ge(null),Ge(null))},[ve,X]),pe=K.useCallback(Y=>{if(!$e)return;const{x:re,y:ye}=X(Y.clientX,Y.clientY),Ae=Ep(ve,re,ye);Ae&&Ge(Ae.id)},[$e,ve,X]),je=K.useCallback(Y=>{if(Y.button!==0||!$e)return;if(st(!1),Ze.length<2){ge(null),Ge(null);return}if(!q)return;const re=me.current?.getBoundingClientRect();if(!re)return;const ye={rects:Ev(Ze,m)},Ae=_v(Ze),He=Ze[Ze.length-1],it={x:re.left+(He.x+He.w/2),y:re.top+(He.y-8)};q({pageNumber:c,position_data:ye,highlighted_text:Ae,spanStart:Math.min(xe,Se),spanEnd:Math.max(xe,Se),pickerPosition:it})},[$e,Ze,xe,Se,m,c,q]);K.useEffect(()=>{const Y=$.current||me.current;if(Y)return Y.addEventListener("mousedown",oe),Y.addEventListener("mousemove",pe),Y.addEventListener("mouseup",je),Y.addEventListener("mouseleave",je),()=>{Y.removeEventListener("mousedown",oe),Y.removeEventListener("mousemove",pe),Y.removeEventListener("mouseup",je),Y.removeEventListener("mouseleave",je)}},[oe,pe,je]);const Te=K.useMemo(()=>ay(Ze),[Ze]);return o.jsxs("div",{ref:me,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:Ce.width||0,height:Ce.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:G,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:$,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(Y=>{const re=Y.position_data?.rects||[],ye=(N??[]).find(Ie=>Ie.key===Y.color),Ae=pl[Y.color]||pl.yellow,He=ye?.hex??Ae?.hex??Ae?.solid,it=g!=null&&String(Y.id)===String(g),yt=S!=null&&String(Y.id)===String(S),Ht=it||yt?zr(He,.38):zr(He,.18),sn=A||Z;let be=null;if(re.length>0){const Ie=Math.min(...re.map(Nt=>Nt.x))*m,Ye=Math.min(...re.map(Nt=>Nt.y))*m,gt=Math.max(...re.map(Nt=>(Nt.x||0)+(Nt.width||0)))*m,Vt=Math.max(...re.map(Nt=>(Nt.y||0)+(Nt.height||4)))*m;be={left:Ie,top:Ye,width:gt-Ie,height:Vt-Ye}}return be?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:be.left,top:be.top,width:be.width,height:be.height,pointerEvents:"auto"},onMouseEnter:()=>we(Y.id),onMouseLeave:at,children:[re.map((Ie,Ye)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(Ie.x||0)*m-be.left,top:(Ie.y||0)*m-be.top,width:Math.max(0,(Ie.width||0)*m),height:Math.max(4,(Ie.height||0)*m),backgroundColor:Ht,pointerEvents:"none"}},Ye)),sn&&it&&be&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>we(Y.id),onMouseLeave:at,children:[A&&o.jsx("button",{type:"button",onClick:Ie=>{Ie.stopPropagation(),A(Y.id,Ie)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(Co,{className:"w-3.5 h-3.5",strokeWidth:2})}),Z&&o.jsx("button",{type:"button",onClick:Ie=>{Ie.stopPropagation(),Z(Y.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Br,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},Y.id):null}),Te.map((Y,re)=>{const ye=Math.min(...Y.map(be=>be.x)),Ae=Math.max(...Y.map(be=>be.x+be.w)),He=Y.map(be=>be.y).sort((be,Ie)=>be-Ie),it=He[Math.floor(He.length/2)],yt=Math.max(...Y.map(be=>be.h)),Ht=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${ye-1}px`,top:`${it-Ht}px`,width:`${Ae-ye+2}px`,height:`${yt+Ht+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},re)})]}),o.jsx("div",{ref:ie,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Ov({highlights:s,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:S,onHighlightClick:v,onHighlightHover:N,onHighlightHoverEnd:q,onClearActive:E,documentId:O,onHighlightNoteUpdate:A,onHighlightDelete:Z,openEditForHighlightId:me,onClearOpenEditForHighlightId:G}){const ie=m?.length>0?m.map(we=>we.key):d?.length>0?d:Zf,[$,Ce]=K.useState("all"),[ce,ve]=K.useState(!1),[te,xe]=K.useState(""),[ge,Se]=K.useState(null),[Ge,$e]=K.useState("");K.useEffect(()=>{if(me==null||!s?.length)return;const we=s.find(Ze=>String(Ze.id)===String(me));we&&(Se(we.id),$e(we.note?.content??"")),G?.()},[me,s,G]);const st=K.useMemo(()=>{let we=s||[];if($!=="all"&&(we=we.filter(Ze=>Ze.color===$)),te.trim()){const Ze=te.trim().toLowerCase();we=we.filter(X=>X.highlighted_text&&X.highlighted_text.toLowerCase().includes(Ze)||X.note?.content&&X.note.content.toLowerCase().includes(Ze))}return we},[s,$,te]),ht=we=>{Se(we.id),$e(we.note?.content??"")},Xe=async()=>{if(ge==null||!O||!A){Se(null);return}await A(ge,Ge.trim()||""),Se(null)},at=()=>{Se(null),$e("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${Il.default} ${zi.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${Il.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${nt.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${nt.muted} mb-4`,children:[st.length," highlight",st.length!==1?"s":"",s?.length!==st.length&&` of ${s?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{Ce("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${$==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${nt.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>ve(we=>!we),className:`flex items-center gap-1.5 text-[11px] font-semibold ${nt.secondary} hover:text-slate-800 transition-colors`,children:[ce?o.jsx(Ys,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(Rb,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ce&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:ie.map(we=>{const Ze=(s||[]).filter(Y=>Y.color===we).length,X=pl[we],pe=m?.find(Y=>Y.key===we)?.hex??X?.hex??X?.solid??"#94a3b8",je=ei(we,c,m),Te=$===we;return o.jsxs("button",{type:"button",onClick:()=>{Ce(Te?"all":we),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${Te?"border-transparent":`border-slate-200 ${nt.secondary} hover:bg-slate-50`}`,style:Te?{backgroundColor:`${pe}25`,color:pe}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:pe,opacity:1}}),o.jsx("span",{children:je}),o.jsxs("span",{className:Te?"opacity-80":nt.muted,children:["(",Ze,")"]})]},we)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(ty,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:te,onChange:we=>xe(we.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${Il.default} rounded-lg bg-slate-50 outline-none ${nt.body} placeholder:${nt.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:s?.length?st.length?o.jsx("ul",{className:"space-y-1.5",children:st.map(we=>{const Ze=pl[we.color]||pl.yellow,oe=m?.find(Te=>Te.key===we.color)?.hex??Ze?.hex??Ze?.solid??"#94a3b8",pe=we.note?.content,je=g!=null&&String(we.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${je?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{v?.(we.id),S?.(we.page_number)},onKeyDown:Te=>{Te.target.tagName==="TEXTAREA"||Te.target.tagName==="INPUT"||Te.target.isContentEditable||(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),v?.(we.id),S?.(we.page_number))},onMouseEnter:()=>N?.(we.id),onMouseLeave:q,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:oe,opacity:je?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${nt.body} whitespace-pre-wrap`,children:we.highlighted_text||"(No text captured)"})})]}),ge===we.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Ge,onChange:Te=>$e(Te.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${Il.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${nt.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:Xe,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:at,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[pe&&o.jsx("p",{className:`text-[11.5px] ${nt.muted} mt-2 pl-3.5 leading-snug italic`,children:pe}),O&&A&&o.jsx("button",{type:"button",onClick:()=>ht(we),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:pe?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:oe,backgroundColor:`${oe}12`},children:ei(we.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",we.page_number]}),O&&Z&&o.jsx("button",{type:"button",onClick:Te=>{Te.stopPropagation(),Z(we.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(Br,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},we.id)})}):o.jsx("div",{className:`py-6 text-center ${nt.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${nt.muted} text-sm`,children:[o.jsx(Gf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Bf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Dv(s,c){return s?.length?[...s].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Bf.find(d=>d.colorKey===m)).filter(Boolean):Bf}function Tv({position:s,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:S=[]}){const v=K.useRef(null),N=K.useRef(null),[q,E]=K.useState(null),[O,A]=K.useState(""),[Z,me]=K.useState(!1),[G,ie]=K.useState(!1),$=K.useMemo(()=>Dv(S,g),[S,g]),Ce=$.length>0?$:Bf,ce=K.useCallback(ge=>ei(ge,d,S),[d,S]);K.useEffect(()=>{Z&&N.current&&N.current.focus()},[Z]);const ve=K.useCallback(ge=>{E(ge.colorKey),Z||(c(ge.colorKey,""),m())},[Z,c,m]),te=K.useCallback(()=>{q&&(c(q,O.trim()||void 0),m())},[q,O,c,m]);if(K.useEffect(()=>{const ge=Se=>{if(Se.key==="Escape"){m();return}if(!Z){const Ge=parseInt(Se.key,10);if(Ge>=1&&Ge<=Ce.length){const $e=Ce[Ge-1];$e&&ve($e)}}Z&&Se.key==="Enter"&&(Se.metaKey||Se.ctrlKey)&&(Se.preventDefault(),te())};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[Z,q,O,m,ve,te,Ce]),K.useEffect(()=>{const ge=Se=>{v.current&&!v.current.contains(Se.target)&&m()};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[m]),K.useEffect(()=>{A(""),E(null),me(!1),ie(!1)},[s]),!s)return null;const xe=q?Ce.find(ge=>ge.colorKey===q):null;return o.jsx("div",{ref:v,className:"fixed z-1000",style:{left:s.x,top:s.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:G?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:xe?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:Z?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[Ce.map((ge,Se)=>o.jsx("button",{type:"button",onClick:()=>ve(ge),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:q===ge.colorKey?`${ge.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:ge.color,boxShadow:q===ge.colorKey?`0 0 0 2px ${ge.color}80`:"none",transform:q===ge.colorKey?"scale(1.15)":"scale(1)"}})},ge.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>me(!Z),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${Z?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:Z?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),Z&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!xe&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),xe&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:xe.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ce(xe.colorKey)})]}),o.jsx("textarea",{ref:N,value:O,onChange:ge=>A(ge.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:te,disabled:!xe,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Mv=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Cp=5;function zv({lens:s,documentId:c,onClose:m}){const d=Rr(),g=s?.colors??[],S=!s||s.is_system,[v,N]=K.useState(null),[q,E]=K.useState(""),O=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},A=En({mutationFn:ce=>fa.addColor(s.id,ce),onSuccess:()=>{O(),N(null),E("")}}),Z=En({mutationFn:ce=>fa.removeColor(s.id,ce),onSuccess:O}),me=En({mutationFn:({colorId:ce,data:ve})=>fa.updateColor(s.id,ce,ve),onSuccess:O}),G=new Set(g.map(ce=>ce.hex.toLowerCase())),ie=Mv.filter(ce=>!G.has(ce.toLowerCase())),$=()=>{!v||!q.trim()||A.mutate({key:`custom_${Date.now()}`,display_name:q.trim(),hex:v})},Ce=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${zi.surface} rounded-xl shadow-xl border ${Il.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ce=>ce.stopPropagation(),onMouseDown:ce=>ce.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${nt.heading}`,children:"Edit lens"}),s&&o.jsx("p",{className:`text-xs ${nt.muted} mt-0.5`,children:s.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:S?o.jsx("p",{className:`text-sm ${nt.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${nt.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Cp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(ce=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ce.hex}}),o.jsx("input",{type:"text",defaultValue:ce.display_name,placeholder:"Label",onBlur:ve=>{const te=ve.target.value.trim();te&&te!==ce.display_name&&me.mutate({colorId:ce.id,data:{display_name:te}})},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${nt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>Z.mutate(ce.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:Z.isPending,children:o.jsx(ki,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ce.id))}),o.jsx("p",{className:`text-xs ${nt.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Cp&&ie.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:v?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:v}}),o.jsx("input",{type:"text",value:q,onChange:ce=>E(ce.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ce=>{ce.key==="Enter"&&$()},className:`flex-1 min-w-0 rounded-lg border ${Il.default} px-2.5 py-1.5 text-sm ${nt.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{N(null),E("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:$,disabled:!q.trim()||A.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:A.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${nt.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(ce=>o.jsx("button",{type:"button",onClick:()=>{N(ce),E("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ce}},ce))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?Ce:C0.createPortal(Ce,document.body)}function Rv({position:s,initialValue:c="",onSave:m,onClose:d}){const[g,S]=K.useState(c),v=K.useRef(null),N=K.useRef(null);return K.useEffect(()=>{S(c)},[c,s]),K.useEffect(()=>{N.current?.focus()},[s]),K.useEffect(()=>{const q=E=>{E.key==="Escape"&&d(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[g,m,d]),K.useEffect(()=>{const q=E=>{v.current&&!v.current.contains(E.target)&&d()};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[d]),s?o.jsxs("div",{ref:v,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:s.x,top:s.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:N,value:g,onChange:q=>S(q.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function kv(){const{id:s}=Uf(),c=Bi(),m=Rr(),[d,g]=K.useState(null),[S,v]=K.useState(!1),[N,q]=K.useState(!0),[E,O]=K.useState(1.3),[A,Z]=K.useState(!0),[me,G]=K.useState(null),[ie,$]=K.useState(null),[Ce,ce]=K.useState(null),[ve,te]=K.useState(null),[xe,ge]=K.useState(null),[Se,Ge]=K.useState(0),[$e,st]=K.useState(1),[ht,Xe]=K.useState(!1),[at,we]=K.useState(null),[Ze,X]=K.useState(null),[oe,pe]=K.useState(null),{data:je,isLoading:Te,isError:Y}=$n({queryKey:["document",s],queryFn:async()=>{const{data:W}=await fn.get(s);return W},enabled:!!s});K.useEffect(()=>{if(!je||!s)return;let W=!1;return(async()=>{q(!0);try{const Ve=await bv(je);W||(Ve?g(Ve.data):v(!0))}finally{W||q(!1)}})(),()=>{W=!0}},[je,s]);const{data:re=[]}=$n({queryKey:["highlights",s],queryFn:async()=>{const{data:W}=await fn.highlights(s);return W},enabled:!!s}),{data:ye=[]}=$n({queryKey:["lenses"],queryFn:async()=>{const{data:W}=await fa.list();return W}}),Ae=K.useMemo(()=>ye.length?je?.highlight_preset!=null?ye.find(W=>W.id===je.highlight_preset)??null:ye.find(W=>W.is_system)??ye[0]??null:null,[ye,je?.highlight_preset]),He=K.useMemo(()=>Ae?.colors??je?.highlight_preset_detail?.colors??[],[Ae?.colors,je?.highlight_preset_detail?.colors]),it=K.useMemo(()=>{if(He?.length)return He.map(Ue=>Ue.key);const W=Object.keys(je?.color_labels||{});return W.length>0?W:[...Zf]},[He,je?.color_labels]),yt=En({mutationFn:({documentId:W,payload:Ue})=>fn.update(W,Ue),onSuccess:(W,{documentId:Ue})=>{m.invalidateQueries({queryKey:["document",Ue]})}}),Ht=K.useCallback(async W=>{if(!s)return;const Ue=`_opt_${Date.now()}`,Ve={id:Ue,page_number:W.page_number,position_data:W.position_data,highlighted_text:W.highlighted_text,color:W.color,note:W.comment?{id:Ue,content:W.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",s],(ut=[])=>[...ut,Ve]),ce(null),te(null),ge(null);try{await fn.createHighlight(s,W),m.invalidateQueries({queryKey:["highlights",s]})}catch(ut){console.error("Failed to save highlight",ut),m.setQueryData(["highlights",s],(un=[])=>un.filter(An=>An.id!==Ue))}},[s,m]),sn=K.useCallback(W=>{ce({page_number:W.pageNumber,position_data:W.position_data,highlighted_text:W.highlighted_text}),te(W.pickerPosition),ge({pageNumber:W.pageNumber,spanStart:W.spanStart,spanEnd:W.spanEnd})},[]),be=K.useCallback((W,Ue)=>{Ce&&Ht({...Ce,color:W,comment:Ue})},[Ce,Ht]),Ie=K.useCallback(()=>{ce(null),te(null),ge(null)},[]),Ye=K.useCallback(W=>{st(W),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${W}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),gt=K.useCallback(W=>{$(Ue=>Ue!=null&&String(Ue)===String(W)?null:W)},[]),Vt=K.useCallback(W=>Ge(W??0),[]),Nt=K.useCallback(()=>{if($e<=1)return;const W=$e-1;st(W),Ye(W)},[$e,Ye]),ue=K.useCallback(()=>{if($e>=Se)return;const W=$e+1;st(W),Ye(W)},[$e,Se,Ye]),Oe=async W=>{const Ue=W.target.files?.[0];if(!Ue||!je||!s)return;const Ve=await Ue.arrayBuffer(),ut=await kf(Ve);if(ut!==je.pdf_hash){alert("This file does not match the original document.");return}try{const un=new FormData;un.append("file",new Blob([Ve],{type:"application/pdf"}),Ue.name||je.filename||"document.pdf"),await fn.uploadPdf(s,un)}catch(un){const An=un.response?.data?.detail??un.message??"Upload failed";alert(typeof An=="string"?An:JSON.stringify(An));return}await Ff(ut,je.filename||Ue.name,Ue.size,Ve),g(Ve),v(!1)};return s?Te||N?o.jsx("div",{className:`${Ks} flex items-center justify-center min-h-[50vh]`,children:o.jsx(Ba,{className:`w-8 h-8 ${nt.muted} animate-spin`})}):Y||!je&&!Te?o.jsxs("div",{className:`${Ks} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${nt.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${nt.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(je?.project?`/project/${je.project}`:"/"),className:go,children:"Back to project"})]}):S?o.jsxs("div",{className:`${Ks} flex flex-col items-center justify-center`,children:[o.jsx(vo,{className:`w-12 h-12 ${nt.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${nt.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${nt.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:je?.filename}),"."]}),o.jsxs("label",{className:`${go} inline-flex items-center gap-2`,children:[o.jsx(vo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:Oe,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(je?.project?`/project/${je.project}`:"/"),className:`mt-4 text-sm ${nt.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${zi.page} overflow-hidden`,children:[o.jsxs("header",{className:`${Sb} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(je?.project?`/project/${je.project}`:"/"),className:oo,title:"Back to project",children:o.jsx(Eo,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${nt.heading} truncate max-w-xs`,children:je?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ye.length>0&&o.jsx("select",{value:je?.highlight_preset!=null?String(je.highlight_preset):ye.find(W=>W.is_system)?.id??"",onChange:W=>{const Ue=W.target.value,Ve=Ue===""?null:Number(Ue);s&&(re.length>0?pe(Ve):yt.mutate({documentId:s,payload:{highlight_preset:Ve}}))},className:`text-xs rounded-lg border ${Il.default} ${zi.surface} py-1.5 pl-2 pr-7 ${nt.body} cursor-pointer max-w-44`,title:"Highlight lens",children:ye.map(W=>o.jsx("option",{value:W.id,children:W.name},W.id))}),o.jsx("button",{type:"button",onClick:()=>Xe(!0),className:oo,title:"Edit lens",children:o.jsx(nv,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${s}/summary`),className:oo,title:"Summary",children:o.jsx(Qb,{className:"w-4 h-4"})}),o.jsx("div",{className:bp}),o.jsxs("div",{className:`flex items-center gap-1 ${zi.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>O(W=>Math.max(.5,W-.1)),className:`p-1.5 ${nt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(ov,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${nt.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>O(W=>Math.min(3,W+.1)),className:`p-1.5 ${nt.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(sv,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:bp}),o.jsx("button",{type:"button",onClick:()=>Z(W=>!W),className:oo,title:A?"Close annotations":"Open annotations",children:A?o.jsx(Jb,{className:"w-4 h-4"}):o.jsx(Pb,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(Cv,{pdfData:d,scale:E,highlights:re,hoveredHighlightId:me,activeHighlightId:ie,selectionForPicker:xe,lensColors:He,onSelectionComplete:sn,onNumPages:Vt,onHighlightHover:G,onHighlightHoverEnd:()=>G(null),onHighlightEdit:(W,Ue)=>{const Ve=Ue?.target?.getBoundingClientRect?.();Ve?X({highlightId:W,x:Ve.left+Ve.width/2,y:Ve.bottom}):(we(W),Z(!0))},onHighlightDelete:async W=>{if(!s)return;const Ue=m.getQueryData(["highlights",s]);m.setQueryData(["highlights",s],(Ve=[])=>Ve.filter(ut=>String(ut.id)!==String(W))),String(ie)===String(W)&&$(null),String(me)===String(W)&&G(null);try{await fn.deleteHighlight(s,W),m.invalidateQueries({queryKey:["highlights",s]})}catch(Ve){console.error("Failed to delete highlight",Ve),m.setQueryData(["highlights",s],Ue)}}}),ve&&o.jsx(Tv,{position:ve,onSelect:be,onClose:Ie,colorLabels:je?.color_labels,documentColorKeys:it,lensColors:He}),Ze&&o.jsx(Rv,{position:{x:Ze.x,y:Ze.y},initialValue:(re||[]).find(W=>String(W.id)===String(Ze.highlightId))?.note?.content??"",onSave:async W=>{s&&(await fn.updateHighlight(s,Ze.highlightId,{note:W}),m.invalidateQueries({queryKey:["highlights",s]}),X(null))},onClose:()=>X(null)}),ht&&o.jsx(zv,{lens:Ae,documentId:s,onClose:()=>Xe(!1)}),oe!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>pe(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:W=>W.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:re.length})," highlight",re.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>pe(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const W=oe;pe(null);for(const Ue of re)await fn.deleteHighlight(s,Ue.id);m.invalidateQueries({queryKey:["highlights",s]}),$(null),G(null),yt.mutate({documentId:s,payload:{highlight_preset:W}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),A&&o.jsx(Ov,{highlights:re,colorLabels:je?.color_labels,lensColors:He,documentColorKeys:it,activeHighlightId:ie,onScrollToPage:Ye,onHighlightClick:gt,onHighlightHover:G,onHighlightHoverEnd:()=>G(null),onClearActive:()=>$(null),documentId:s,openEditForHighlightId:at,onClearOpenEditForHighlightId:()=>we(null),onHighlightNoteUpdate:async(W,Ue)=>{s&&(await fn.updateHighlight(s,W,{note:Ue}),m.invalidateQueries({queryKey:["highlights",s]}))},onHighlightDelete:async W=>{s&&(await fn.deleteHighlight(s,W),m.invalidateQueries({queryKey:["highlights",s]}),String(ie)===String(W)&&$(null),String(me)===String(W)&&G(null))}})]}),Se>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${A?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:Nt,disabled:$e<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",$e," of ",Se]}),o.jsx("button",{type:"button",onClick:ue,disabled:$e>=Se,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const Bv="modulepreload",qv=function(s){return"/static/frontend/"+s},Ap={},qf=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let q=function(E){return Promise.all(E.map(O=>Promise.resolve(O).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),N=v?.nonce||v?.getAttribute("nonce");g=q(m.map(E=>{if(E=qv(E),E in Ap)return;Ap[E]=!0;const O=E.endsWith(".css"),A=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${A}`))return;const Z=document.createElement("link");if(Z.rel=O?"stylesheet":Bv,O||(Z.as="script"),Z.crossOrigin="",Z.href=E,N&&Z.setAttribute("nonce",N),document.head.appendChild(Z),O)return new Promise((me,G)=>{Z.addEventListener("load",me),Z.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${E}`)))})}))}function S(v){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=v,window.dispatchEvent(N),!N.defaultPrevented)throw v}return g.then(v=>{for(const N of v||[])N.status==="rejected"&&S(N.reason);return c().catch(S)})};function Uv(s){return K.useMemo(()=>{const c={};return s?.length&&s.forEach(m=>{c[m.key]={hex:m.hex,displayName:m.display_name}}),c},[s])}function Dr(s,c){if(c[s])return c[s].hex;const m=pl[s];return m?.hex??m?.solid??"#94a3b8"}function Hv(s){const c=parseInt((s||"#94a3b8").replace("#",""),16);return[c>>16&255,c>>8&255,c&255]}function Lv(s,c,m,d,g){return[...s].sort((v,N)=>v.page_number!==N.page_number?v.page_number-N.page_number:new Date(v.created_at)-new Date(N.created_at)).map((v,N)=>({seq:N+1,text:v.highlighted_text||"",note:v.note?.content||"",page:v.page_number,category:ei(v.color,c,m),colorKey:v.color,hex:Dr(v.color,d)}))}function Kv(s,c,m,d,g){const S={};return s.forEach(v=>{(S[v.colorKey]??=[]).push(v)}),c.map(v=>({topic:ei(v,m,d),hex:Dr(v,g),items:S[v]||[]})).filter(v=>v.items.length>0)}async function Yv(s,c,m){const[{Document:d,Packer:g,Paragraph:S,TextRun:v,HeadingLevel:N,BorderStyle:q},{saveAs:E}]=await Promise.all([qf(()=>import("./index-CMhXIFeh.js"),[]),qf(()=>import("./FileSaver.min-rgW_m_5v.js").then(me=>me.F),__vite__mapDeps([0,1]))]),O=[];O.push(new S({text:s,heading:N.HEADING_1,spacing:{after:200}})),O.push(new S({text:`${c.length} annotations`,spacing:{after:300},style:"Subtitle"})),m.forEach(({topic:me,hex:G,items:ie})=>{O.push(new S({spacing:{before:300,after:100},border:{bottom:{style:q.SINGLE,size:1,color:G.replace("#","")}},children:[new v({text:`${me} (${ie.length})`,bold:!0,size:24,color:G.replace("#","")})]})),ie.forEach($=>{O.push(new S({spacing:{before:120,after:40},children:[new v({text:`"${$.text}"`,italics:!0,size:21}),new v({text:`   p.${$.page}`,size:18,color:"94A3B8"})]})),$.note&&O.push(new S({spacing:{after:60},children:[new v({text:$.note,size:18,italics:!0,color:G.replace("#","")})]}))})});const A=new d({sections:[{children:O}]}),Z=await g.toBlob(A);E(Z,`${s.replace(/\.pdf$/i,"")}  Summary.docx`)}async function Qv(s,c,m){const{jsPDF:d}=await qf(async()=>{const{jsPDF:O}=await import("./jspdf.es.min-neTjtvje.js").then(A=>A.j);return{jsPDF:O}},[]),g=new d({unit:"mm",format:"a4"}),S=g.internal.pageSize.getWidth(),v=18,N=S-v*2;let q=v;const E=O=>{q+O>g.internal.pageSize.getHeight()-v&&(g.addPage(),q=v)};g.setFont("helvetica","bold"),g.setFontSize(16),g.text(s,v,q),q+=8,g.setFont("helvetica","normal"),g.setFontSize(10),g.setTextColor(100),g.text(`${c.length} annotations`,v,q),q+=12,m.forEach(({topic:O,hex:A,items:Z})=>{E(18);const[me,G,ie]=Hv(A);g.setDrawColor(me,G,ie),g.setLineWidth(.5),g.line(v,q,v+N,q),q+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.setTextColor(me,G,ie),g.text(`${O} (${Z.length})`,v,q),q+=7,Z.forEach($=>{E(14),g.setFont("helvetica","italic"),g.setFontSize(9.5),g.setTextColor(30),g.splitTextToSize(`"${$.text}"`,N-10).forEach(ce=>{E(5),g.text(ce,v+2,q),q+=4.2}),g.setFont("helvetica","normal"),g.setFontSize(8),g.setTextColor(148,163,184),g.text(`p.${$.page}  #${$.seq}`,v+2,q),q+=4,$.note&&(E(5),g.setFont("helvetica","italic"),g.setFontSize(8.5),g.setTextColor(me,G,ie),g.splitTextToSize($.note,N-10).forEach(ve=>{E(4.5),g.text(ve,v+2,q),q+=4})),q+=3}),q+=4}),g.save(`${s.replace(/\.pdf$/i,"")}  Summary.pdf`)}function Gv(s,c){const m=new Blob([JSON.stringify({document:s,exported_at:new Date().toISOString(),annotations:c},null,2)],{type:"application/json"}),d=URL.createObjectURL(m);Object.assign(document.createElement("a"),{href:d,download:`${s.replace(/\.pdf$/i,"")}  Summary.json`}).click(),URL.revokeObjectURL(d)}function Xv(){const{id:s}=Uf(),c=Bi(),m=Rr(),[d,g]=K.useState("sequence"),[S,v]=K.useState(""),[N,q]=K.useState([]),[E,O]=K.useState(null),[A,Z]=K.useState(new Set),[me,G]=K.useState(!1),[ie,$]=K.useState(new Set),[Ce,ce]=K.useState(null),[ve,te]=K.useState(""),[xe,ge]=K.useState(!1),[Se,Ge]=K.useState(null),[$e,st]=K.useState(!1),[ht,Xe]=K.useState(!1),at=K.useRef(null);K.useEffect(()=>{if(!xe)return;const ue=Oe=>{at.current&&!at.current.contains(Oe.target)&&ge(!1)};return window.addEventListener("mousedown",ue),()=>window.removeEventListener("mousedown",ue)},[xe]);const{data:we,isLoading:Ze,isError:X}=$n({queryKey:["document",s],queryFn:async()=>(await fn.get(s)).data,enabled:!!s}),{data:oe=[]}=$n({queryKey:["highlights",s],queryFn:async()=>(await fn.highlights(s)).data,enabled:!!s}),{data:pe=[]}=$n({queryKey:["lenses"],queryFn:async()=>(await fa.list()).data}),je=K.useMemo(()=>pe.length?we?.highlight_preset!=null?pe.find(ue=>ue.id===we.highlight_preset)??null:pe.find(ue=>ue.is_system)??pe[0]??null:null,[pe,we?.highlight_preset]),Te=K.useMemo(()=>je?.colors??we?.highlight_preset_detail?.colors??[],[je?.colors,we?.highlight_preset_detail?.colors]),Y=we?.color_labels||{},re=Uv(Te),ye=K.useMemo(()=>Te?.length?Te.map(ue=>ue.key):Zf,[Te]),Ae=En({mutationFn:ue=>fn.deleteHighlight(s,ue),onSuccess:()=>m.invalidateQueries({queryKey:["highlights",s]})}),He=En({mutationFn:({highlightId:ue,note:Oe})=>fn.updateHighlight(s,ue,{note:Oe}),onSuccess:()=>{m.invalidateQueries({queryKey:["highlights",s]}),ce(null),te("")}}),it=K.useCallback(ue=>{q(Oe=>Oe.includes(ue)?Oe.filter(W=>W!==ue):[...Oe,ue])},[]),yt=K.useCallback(ue=>{Z(Oe=>{const W=new Set(Oe);return W.has(ue)?W.delete(ue):W.add(ue),W})},[]),Ht=K.useCallback(ue=>{$(Oe=>{const W=new Set(Oe);return W.has(ue)?W.delete(ue):W.add(ue),W})},[]),sn=K.useCallback(async ue=>{ge(!1);const Oe=Lv(oe,Y,Te,re),W=Kv(Oe,ye,Y,Te,re),Ue=we?.filename||"Document";ue==="docx"?await Yv(Ue,Oe,W):ue==="pdf"?await Qv(Ue,Oe,W):Gv(Ue,Oe)},[oe,Y,Te,re,ye,we?.filename]),be=K.useMemo(()=>{const ue={};return oe.forEach(Oe=>{ue[Oe.color]=(ue[Oe.color]||0)+1}),ue},[oe]),Ie=K.useMemo(()=>oe.filter(ue=>{if(N.length>0&&!N.includes(ue.color))return!1;if(S.trim()){const Oe=S.toLowerCase();return ue.highlighted_text?.toLowerCase().includes(Oe)||ue.note?.content?.toLowerCase().includes(Oe)}return!0}),[oe,N,S]),Ye=K.useMemo(()=>[...Ie].sort((ue,Oe)=>ue.page_number!==Oe.page_number?ue.page_number-Oe.page_number:new Date(ue.created_at)-new Date(Oe.created_at)),[Ie]),gt=K.useMemo(()=>{if(d!=="topic")return[];const ue={};return Ie.forEach(Oe=>{ue[Oe.color]||(ue[Oe.color]=[]),ue[Oe.color].push(Oe)}),ye.map(Oe=>({colorKey:Oe,topic:ei(Oe,Y,Te),hex:Dr(Oe,re),items:(ue[Oe]||[]).sort((W,Ue)=>W.page_number!==Ue.page_number?W.page_number-Ue.page_number:new Date(W.created_at)-new Date(Ue.created_at))})).filter(Oe=>Oe.items.length>0)},[d,Ie,ye,Y,Te,re]),Vt=K.useMemo(()=>{if(d!=="page")return[];const ue={};return Ie.forEach(Oe=>{const W=Oe.page_number;ue[W]||(ue[W]=[]),ue[W].push(Oe)}),Object.entries(ue).map(([Oe,W])=>({page:Number(Oe),items:W.sort((Ue,Ve)=>new Date(Ue.created_at)-new Date(Ve.created_at))})).sort((Oe,W)=>Oe.page-W.page)},[d,Ie]);if(!s)return c("/",{replace:!0}),null;if(Ze)return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(Ba,{className:"w-8 h-8 text-slate-400 animate-spin"})});if(X||!we)return o.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Document not found"}),o.jsx("button",{type:"button",onClick:()=>c("/"),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700",children:"Back"})]});const Nt=new Map;return[...oe].sort((ue,Oe)=>ue.page_number!==Oe.page_number?ue.page_number-Oe.page_number:new Date(ue.created_at)-new Date(Oe.created_at)).forEach((ue,Oe)=>Nt.set(ue.id,Oe+1)),o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",style:{padding:"16px 32px"},children:o.jsxs("div",{className:"max-w-[1060px] mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>c(`/document/${s}`),className:"text-slate-500 hover:text-slate-700 text-sm flex items-center gap-1",children:[o.jsx(Eo,{className:"w-4 h-4"}),"Back"]}),o.jsx("div",{className:"w-px h-5 bg-slate-200"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-[16px] font-semibold text-slate-900 tracking-tight",children:"Summary"}),o.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[300px]",children:we.filename})]})]}),o.jsxs("div",{className:"relative",ref:at,children:[o.jsxs("button",{type:"button",onClick:()=>ge(ue=>!ue),disabled:!oe.length,className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-md bg-slate-800 text-white text-[13px] font-medium hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[o.jsx(Hb,{className:"w-3.5 h-3.5"}),"Export"]}),xe&&o.jsx("div",{className:"absolute right-0 top-full mt-1.5 bg-white border border-slate-200 rounded-lg shadow-lg py-1.5 z-50 min-w-[200px]",children:[{key:"docx",icon:Gf,label:"Word (.docx)",desc:"Formatted summary"},{key:"pdf",icon:Kb,label:"PDF (.pdf)",desc:"Print-ready export"},{key:"json",icon:Tb,label:"JSON (.json)",desc:"Structured data"}].map(ue=>o.jsxs("button",{type:"button",onClick:()=>sn(ue.key),className:"flex items-center gap-2.5 w-full px-3 py-2 text-left hover:bg-slate-50 transition-colors",children:[o.jsx(ue.icon,{className:"w-4 h-4 text-slate-400 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-[13px] font-medium text-slate-800",children:ue.label}),o.jsx("div",{className:"text-[11px] text-slate-400",children:ue.desc})]})]},ue.key))})]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mt-3 mb-3.5",children:[o.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:[oe.length," annotation",oe.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300 mx-0.5",children:""}),ye.map(ue=>{const Oe=be[ue]||0;if(!Oe)return null;const W=Dr(ue,re);return o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{backgroundColor:W}}),o.jsx("span",{className:"text-[11px] text-slate-500",children:Oe})]},ue)})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("div",{className:"flex bg-slate-100 rounded-md p-0.5",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(ue=>o.jsx("button",{type:"button",onClick:()=>g(ue.key),className:`px-3 py-1.5 rounded text-[12.5px] font-medium transition-all ${d===ue.key?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:ue.label},ue.key))}),o.jsxs("div",{className:"flex items-center gap-1.5 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 flex-1 max-w-[280px]",children:[o.jsx(ty,{className:"w-3.5 h-3.5 text-slate-400"}),o.jsx("input",{type:"text",value:S,onChange:ue=>v(ue.target.value),placeholder:"Search annotations...",className:"border-0 bg-transparent outline-none text-[12.5px] text-slate-900 w-full placeholder:text-slate-400"}),S&&o.jsx("button",{type:"button",onClick:()=>v(""),className:"text-slate-400 hover:text-slate-600",children:o.jsx(ki,{className:"w-3.5 h-3.5"})})]}),A.size>0&&o.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 rounded-md border border-blue-200",children:[o.jsxs("span",{className:"text-xs font-medium text-blue-600",children:[A.size," selected"]}),o.jsx("button",{type:"button",onClick:async()=>{const Oe=oe.filter(W=>A.has(W.id)).map(W=>`"${W.highlighted_text}"  p.${W.page_number}`).join(`


`);try{await navigator.clipboard?.writeText(Oe),G(!0),setTimeout(()=>G(!1),2e3)}catch{}},className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-100",children:me?"Copied":"Copy selected"}),o.jsx("button",{type:"button",onClick:()=>st(!0),className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-100",children:"Delete selected"}),o.jsx("button",{type:"button",onClick:()=>Z(new Set),className:"text-blue-400 hover:text-blue-600",children:o.jsx(ki,{className:"w-3.5 h-3.5"})})]})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3",children:ye.map(ue=>{const Oe=be[ue]||0;if(!Oe)return null;const W=Dr(ue,re),Ue=ei(ue,Y,Te),Ve=N.length===0||N.includes(ue);return o.jsxs("button",{type:"button",onClick:()=>it(ue),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all",style:{borderColor:Ve?W:"#E2E8F0",background:Ve?zr(W,.08):"#fff",opacity:Ve?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:W}}),o.jsx("span",{className:"text-xs font-medium",style:{color:Ve?W:"#94A3B8"},children:Ue}),o.jsx("span",{className:"text-[11px] font-semibold px-1.5 rounded",style:{color:Ve?W:"#CBD5E1",background:Ve?zr(W,.1):"#F8FAFC"},children:Oe})]},ue)})})]})}),o.jsx("div",{className:"max-w-[1060px] mx-auto",style:{padding:"24px 32px 60px 64px"},children:oe.length?Ie.length===0?o.jsx("div",{className:"text-center py-16 text-slate-400 text-sm",children:"No annotations match your search."}):d==="sequence"?o.jsx("div",{className:"flex flex-col gap-2",children:Ye.map(ue=>o.jsx(Af,{h:ue,seq:Nt.get(ue.id),showCategory:!0,lensColorMap:re,colorLabels:Y,lensColors:Te,hovered:E===ue.id,selected:A.has(ue.id),onHover:O,onLeave:()=>O(null),onSelect:yt,onRequestDelete:Oe=>Ge(Oe),deleting:Ae.isPending,editingNoteId:Ce,editingNoteValue:ve,onEditNote:Oe=>{ce(Oe),te(ue.note?.content??"")},onChangeNote:te,onSaveNote:()=>He.mutate({highlightId:Ce,note:ve.trim()}),onCancelNote:()=>{ce(null),te("")},savingNote:He.isPending},ue.id))}):d==="topic"?o.jsx("div",{className:"flex flex-col gap-5",children:gt.map(({colorKey:ue,topic:Oe,hex:W,items:Ue})=>{const Ve=ie.has(ue);return o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ht(ue),className:"flex items-center gap-2 w-full pb-2.5 sticky top-[160px] z-10",children:[o.jsx(Ys,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ve?"rotate(0deg)":"rotate(90deg)"}}),o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:W}}),o.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Oe}),o.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:Ue.length})]}),!Ve&&o.jsx("div",{className:"flex flex-col gap-2",children:Ue.map(ut=>o.jsx(Af,{h:ut,seq:Nt.get(ut.id),showCategory:!1,lensColorMap:re,colorLabels:Y,lensColors:Te,hovered:E===ut.id,selected:A.has(ut.id),onHover:O,onLeave:()=>O(null),onSelect:yt,onRequestDelete:un=>Ge(un),deleting:Ae.isPending,editingNoteId:Ce,editingNoteValue:ve,onEditNote:un=>{ce(un),te(ut.note?.content??"")},onChangeNote:te,onSaveNote:()=>He.mutate({highlightId:Ce,note:ve.trim()}),onCancelNote:()=>{ce(null),te("")},savingNote:He.isPending},ut.id))})]},ue)})}):o.jsx("div",{className:"flex flex-col gap-5",children:Vt.map(({page:ue,items:Oe})=>{const W=`p${ue}`,Ue=ie.has(W);return o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ht(W),className:"flex items-center gap-2 pb-2.5 sticky top-[160px] z-10",children:[o.jsx(Ys,{className:"w-4 h-4 text-slate-500 transition-transform",style:{transform:Ue?"rotate(0deg)":"rotate(90deg)"}}),o.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Page ",ue]}),o.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-100 px-1.5 rounded",children:Oe.length})]}),!Ue&&o.jsx("div",{className:"flex flex-col gap-2",children:Oe.map(Ve=>o.jsx(Af,{h:Ve,seq:Nt.get(Ve.id),showCategory:!0,lensColorMap:re,colorLabels:Y,lensColors:Te,hovered:E===Ve.id,selected:A.has(Ve.id),onHover:O,onLeave:()=>O(null),onSelect:yt,onRequestDelete:ut=>Ge(ut),deleting:Ae.isPending,editingNoteId:Ce,editingNoteValue:ve,onEditNote:ut=>{ce(ut),te(Ve.note?.content??"")},onChangeNote:te,onSaveNote:()=>He.mutate({highlightId:Ce,note:ve.trim()}),onCancelNote:()=>{ce(null),te("")},savingNote:He.isPending},Ve.id))})]},W)})}):o.jsxs("div",{className:"text-center py-16 text-slate-400 text-sm",children:[o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1",children:"Select text in the document to create highlights, then return here."}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${s}`),className:"bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 mt-4",children:"Open document"})]})}),Se&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ae.isPending&&Ge(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ue=>ue.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"This will permanently delete this annotation. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>Ge(null),disabled:Ae.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{Ae.mutate(Se.id),Ge(null)},disabled:Ae.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Ae.isPending?"Deleting":"Delete"})]})]})}),$e&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!ht&&st(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ue=>ue.stopPropagation(),children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:["Delete ",A.size," highlight",A.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"This will permanently delete the selected annotations. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>st(!1),disabled:ht,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const ue=[...A];Xe(!0);try{for(const Oe of ue)await Ae.mutateAsync(Oe)}finally{Z(new Set),st(!1),Xe(!1)}},disabled:ht,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:ht?"Deleting":"Delete"})]})]})})]})}function Af({h:s,seq:c,showCategory:m,lensColorMap:d,colorLabels:g,lensColors:S,hovered:v,selected:N,onHover:q,onLeave:E,onSelect:O,onRequestDelete:A,editingNoteId:Z,editingNoteValue:me,onEditNote:G,onChangeNote:ie,onSaveNote:$,onCancelNote:Ce,savingNote:ce,deleting:ve}){const[te,xe]=K.useState(!1),[ge,Se]=K.useState(!1),Ge=Dr(s.color,d),$e=ei(s.color,g,S),st=Z===s.id,ht=at=>{at.stopPropagation(),navigator.clipboard?.writeText(`"${s.highlighted_text}"  p.${s.page_number}`),xe(!0),setTimeout(()=>xe(!1),1500)},Xe=ge||st;return o.jsxs("div",{className:"relative flex gap-2",children:[o.jsx("div",{className:"shrink-0 pt-[14px]",onMouseEnter:()=>q?.(s.id),onMouseLeave:()=>E?.(),children:o.jsx("div",{className:"transition-opacity w-[18px] h-[18px] rounded flex items-center justify-center cursor-pointer transition-all",style:{opacity:v||N?1:0,border:N?`2px solid ${Ge}`:"2px solid #CBD5E1",background:N?Ge:"#fff"},onClick:at=>{at.stopPropagation(),O?.(s.id)},children:N&&o.jsx(bo,{className:"w-3 h-3 text-white",strokeWidth:3})})}),o.jsxs("div",{className:"flex-1 min-w-0 rounded-lg bg-white transition-all",style:{border:`1px solid ${v?zr(Ge,.3):"#E8ECF0"}`,borderLeft:`3px solid ${Ge}`,padding:"14px 16px 12px 16px",boxShadow:v?"0 2px 8px rgba(0,0,0,0.06)":"none"},onMouseEnter:()=>{q?.(s.id),Se(!0)},onMouseLeave:()=>{E?.(),Se(!1)},children:[o.jsxs("p",{className:"text-[13.5px] leading-[1.55] text-slate-900 whitespace-pre-wrap text-justify",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",s.highlighted_text||"(No text captured)",""]}),st?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:me,onChange:at=>ie(at.target.value),rows:2,autoFocus:!0,className:"w-full text-[12.5px] border border-slate-200 rounded-lg px-2.5 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 text-slate-800",placeholder:"Add a note..."}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:$,disabled:ce,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:ce?"Saving":"Save"}),o.jsx("button",{type:"button",onClick:Ce,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):s.note?.content?o.jsx("p",{className:"mt-2 text-[12.5px] leading-normal italic",style:{color:Ge},children:s.note.content}):Xe&&o.jsx("button",{type:"button",onClick:()=>G(s.id),className:"mt-2 text-xs text-slate-400 hover:text-slate-600 cursor-pointer",children:"+ Add a note..."}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100",children:[m&&o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:Ge,background:zr(Ge,.08)},children:$e}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",s.page_number]}),c!=null&&o.jsxs("span",{className:"text-[10px] text-slate-300",children:["#",c]}),o.jsxs("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:Xe?1:0},children:[o.jsxs("button",{type:"button",onClick:ht,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:te?"#16A34A":"#64748B"},children:[te?o.jsx(bo,{className:"w-3 h-3"}):o.jsx(qb,{className:"w-3 h-3"}),te?"Copied":"Copy"]}),o.jsxs("button",{type:"button",onClick:()=>G(s.id),className:"flex items-center gap-1 text-[11px] text-slate-500 border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",children:[o.jsx(Co,{className:"w-3 h-3"}),"Edit"]}),A&&o.jsxs("button",{type:"button",onClick:()=>A(s),disabled:ve,className:"flex items-center gap-1 text-[11px] text-red-600 border border-red-200 rounded px-2 py-0.5 hover:bg-red-50",children:[o.jsx(Br,{className:"w-3 h-3"}),"Delete"]})]})]})]})]})}function Vv({onClose:s,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:s,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Ba,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Fv(){const s=Bi(),c=yl(O=>O.logout),[m,d]=K.useState(!1),[g,S]=K.useState(!1),[v,N]=K.useState(""),q=()=>{c(),s("/login",{replace:!0})},E=async()=>{N(""),S(!0);try{await Mr.deleteAccount(),c(),s("/",{replace:!0})}catch(O){N(O.response?.data?.detail||O.message||"Something went wrong."),S(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>s("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:o.jsx(Eo,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:o.jsx(Xf,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(ny,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),v&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:v})]}),m&&o.jsx(Vv,{onClose:()=>!g&&d(!1),onConfirm:E,isDeleting:g})]})}const Zv=new S0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function Hs({children:s}){return yl(m=>m.token)?s:o.jsx(po,{to:"/login",replace:!0})}function Op({children:s}){return yl(m=>m.token)?o.jsx(po,{to:"/app",replace:!0}):s}function Jv(){return o.jsx(w0,{client:Zv,children:o.jsx(A0,{children:o.jsxs(O0,{children:[o.jsx(hl,{path:"/login",element:o.jsx(Op,{children:o.jsx(wb,{})})}),o.jsx(hl,{path:"/register",element:o.jsx(Op,{children:o.jsx(jb,{})})}),o.jsx(hl,{path:"/",element:o.jsx(po,{to:"/app",replace:!0})}),o.jsx(hl,{path:"/app",element:o.jsx(Hs,{children:o.jsx(hv,{})})}),o.jsx(hl,{path:"/app/settings",element:o.jsx(Hs,{children:o.jsx(Fv,{})})}),o.jsx(hl,{path:"/project/:projectId",element:o.jsx(Hs,{children:o.jsx(Sv,{})})}),o.jsx(hl,{path:"/document/:id",element:o.jsx(Hs,{children:o.jsx(kv,{})})}),o.jsx(hl,{path:"/document/:id/summary",element:o.jsx(Hs,{children:o.jsx(Xv,{})})}),o.jsx(hl,{path:"*",element:o.jsx(po,{to:"/app",replace:!0})})]})})})}q0.createRoot(document.getElementById("root")).render(o.jsx(K.StrictMode,{children:o.jsx(Jv,{})}));export{qf as _};
