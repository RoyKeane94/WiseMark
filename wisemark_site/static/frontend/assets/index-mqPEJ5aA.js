const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-BE5RUbGT.js","assets/react-DzlI55X9.js"])))=>i.map(i=>d[i]);
import{j as o,u as kn,a as Ui,b as On,Q as D0,c as T0}from"./query-sjsEXzLg.js";import{a as M0,b as z0,R as fo,u as bl,r as H,L as Up,c as k0,d as R0,g as B0,e as Gf,f as q0,B as U0,h as H0,i as Ha,N as vo}from"./react-DzlI55X9.js";import{G as L0,g as K0,U as Q0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const x of g)if(x.type==="childList")for(const S of x.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(g){const x={};return g.integrity&&(x.integrity=g.integrity),g.referrerPolicy&&(x.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?x.credentials="include":g.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(g){if(g.ep)return;g.ep=!0;const x=m(g);fetch(g.href,x)}})();var Cf={exports:{}},Lr={},Af={exports:{}},Of={};var np;function Y0(){return np||(np=1,(function(r){function c(X,re){var ye=X.length;X.push(re);e:for(;0<ye;){var we=ye-1>>>1,G=X[we];if(0<g(G,re))X[we]=re,X[ye]=G,ye=we;else break e}}function m(X){return X.length===0?null:X[0]}function d(X){if(X.length===0)return null;var re=X[0],ye=X.pop();if(ye!==re){X[0]=ye;e:for(var we=0,G=X.length,E=G>>>1;we<E;){var te=2*(we+1)-1,fe=X[te],Me=te+1,Ze=X[Me];if(0>g(fe,ye))Me<G&&0>g(Ze,fe)?(X[we]=Ze,X[Me]=ye,we=Me):(X[we]=fe,X[te]=ye,we=te);else if(Me<G&&0>g(Ze,ye))X[we]=Ze,X[Me]=ye,we=Me;else break e}}return re}function g(X,re){var ye=X.sortIndex-re.sortIndex;return ye!==0?ye:X.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var S=Date,N=S.now();r.unstable_now=function(){return S.now()-N}}var U=[],C=[],q=1,A=null,P=3,be=!1,Z=!1,ue=!1,W=!1,oe=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;function he(X){for(var re=m(C);re!==null;){if(re.callback===null)d(C);else if(re.startTime<=X)d(C),re.sortIndex=re.expirationTime,c(U,re);else break;re=m(C)}}function _e(X){if(ue=!1,he(X),!Z)if(m(U)!==null)Z=!0,ve||(ve=!0,$e());else{var re=m(C);re!==null&&Ue(_e,re.startTime-X)}}var ve=!1,Se=-1,Ie=5,Ve=-1;function rt(){return W?!0:!(r.unstable_now()-Ve<Ie)}function Le(){if(W=!1,ve){var X=r.unstable_now();Ve=X;var re=!0;try{e:{Z=!1,ue&&(ue=!1,ce(Se),Se=-1),be=!0;var ye=P;try{t:{for(he(X),A=m(U);A!==null&&!(A.expirationTime>X&&rt());){var we=A.callback;if(typeof we=="function"){A.callback=null,P=A.priorityLevel;var G=we(A.expirationTime<=X);if(X=r.unstable_now(),typeof G=="function"){A.callback=G,he(X),re=!0;break t}A===m(U)&&d(U),he(X)}else d(U);A=m(U)}if(A!==null)re=!0;else{var E=m(C);E!==null&&Ue(_e,E.startTime-X),re=!1}}break e}finally{A=null,P=ye,be=!1}re=void 0}}finally{re?$e():ve=!1}}}var $e;if(typeof Ne=="function")$e=function(){Ne(Le)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Ae=bt.port2;bt.port1.onmessage=Le,$e=function(){Ae.postMessage(null)}}else $e=function(){oe(Le,0)};function Ue(X,re){Se=oe(function(){X(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return P},r.unstable_next=function(X){switch(P){case 1:case 2:case 3:var re=3;break;default:re=P}var ye=P;P=re;try{return X()}finally{P=ye}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=P;P=X;try{return re()}finally{P=ye}},r.unstable_scheduleCallback=function(X,re,ye){var we=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?we+ye:we):ye=we,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ye+G,X={id:q++,callback:re,priorityLevel:X,startTime:ye,expirationTime:G,sortIndex:-1},ye>we?(X.sortIndex=ye,c(C,X),m(U)===null&&X===m(C)&&(ue?(ce(Se),Se=-1):ue=!0,Ue(_e,ye-we))):(X.sortIndex=G,c(U,X),Z||be||(Z=!0,ve||(ve=!0,$e()))),X},r.unstable_shouldYield=rt,r.unstable_wrapCallback=function(X){var re=P;return function(){var ye=P;P=re;try{return X.apply(this,arguments)}finally{P=ye}}}})(Of)),Of}var ap;function X0(){return ap||(ap=1,Af.exports=Y0()),Af.exports}var lp;function G0(){if(lp)return Lr;lp=1;var r=X0(),c=M0(),m=z0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(x(e)!==e)throw Error(d(188))}function C(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U(s),e;if(i===a)return U(s),t;i=i.sibling}throw Error(d(188))}if(n.return!==a.return)n=s,a=i;else{for(var p=!1,v=s.child;v;){if(v===n){p=!0,n=s,a=i;break}if(v===a){p=!0,a=s,n=i;break}v=v.sibling}if(!p){for(v=i.child;v;){if(v===n){p=!0,n=i,a=s;break}if(v===a){p=!0,a=i,n=s;break}v=v.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function q(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=q(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,P=Symbol.for("react.element"),be=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),Ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ve=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case oe:return"Profiler";case W:return"StrictMode";case _e:return"Suspense";case ve:return"SuspenseList";case Ve:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case Ne:return e.displayName||"Context";case ce:return(e._context.displayName||"Context")+".Consumer";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Ue=Array.isArray,X=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},we=[],G=-1;function E(e){return{current:e}}function te(e){0>G||(e.current=we[G],we[G]=null,G--)}function fe(e,t){G++,we[G]=e.current,e.current=t}var Me=E(null),Ze=E(null),at=E(null),St=E(null);function Gt(e,t){switch(fe(at,t),fe(Ze,e),fe(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_m(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_m(t),e=Em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(Me),fe(Me,e)}function dn(){te(Me),te(Ze),te(at)}function je(e){e.memoizedState!==null&&fe(St,e);var t=Me.current,n=Em(t,e.type);t!==n&&(fe(Ze,e),fe(Me,n))}function ft(e){Ze.current===e&&(te(Me),te(Ze)),St.current===e&&(te(St),Br._currentValue=ye)}var Ge,dt;function Vt(e){if(Ge===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",dt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+e+dt}var At=!1;function Yn(e,t){if(!e||At)return"";At=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(ee){var J=ee}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(ee){J=ee}e.call(ie.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),p=i[0],v=i[1];if(p&&v){var _=p.split(`
`),F=v.split(`
`);for(s=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;s<F.length&&!F[s].includes("DetermineComponentFrameRoot");)s++;if(a===_.length||s===F.length)for(a=_.length-1,s=F.length-1;1<=a&&0<=s&&_[a]!==F[s];)s--;for(;1<=a&&0<=s;a--,s--)if(_[a]!==F[s]){if(a!==1||s!==1)do if(a--,s--,0>s||_[a]!==F[s]){var le=`
`+_[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=s);break}}}finally{At=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Vt(n):""}function ta(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return Yn(e.type,!1);case 11:return Yn(e.type.render,!1);case 1:return Yn(e.type,!0);case 31:return Vt("Activity");default:return""}}function ge(e){try{var t="",n=null;do t+=ta(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var tt=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,ze=r.unstable_cancelCallback,xe=r.unstable_shouldYield,Fe=r.unstable_requestPaint,lt=r.unstable_now,xt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,qe=r.unstable_NormalPriority,pt=r.unstable_LowPriority,Lt=r.unstable_IdlePriority,Jt=r.log,hn=r.unstable_setDisableYieldValue,Pt=null,Wt=null;function xn(e){if(typeof Jt=="function"&&hn(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Pt,e)}catch{}}var ke=Math.clz32?Math.clz32:Ks,is=Math.log,Ka=Math.LN2;function Ks(e){return e>>>=0,e===0?32:31-(is(e)/Ka|0)|0}var De=256,xl=262144,rs=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function us(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~i,a!==0?s=ga(a):(p&=v,p!==0?s=ga(p):n||(n=v&~e,n!==0&&(s=ga(n))))):(v=a&~i,v!==0?s=ga(v):p!==0?s=ga(p):n||(n=a&~e,n!==0&&(s=ga(n)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var e=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),e}function _a(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,t,n,a,s,i){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,F=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-ke(n),ie=1<<le;v[le]=0,_[le]=-1;var J=F[le];if(J!==null)for(F[le]=null,le=0;le<J.length;le++){var ee=J[le];ee!==null&&(ee.lane&=-536870913)}n&=~ie}a!==0&&os(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(p&~t))}function os(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ke(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ke(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function It(e,t){var n=t&-t;return n=(n&42)!==0?1:Ki(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cs(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:$m(e.type))}function fs(e,t){var n=re.p;try{return re.p=e,t()}finally{re.p=n}}var Ea=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ea,en="__reactProps$"+Ea,Tn="__reactContainer$"+Ea,Sl="__reactEvents$"+Ea,ko="__reactListeners$"+Ea,Ca="__reactHandles$"+Ea,Qi="__reactResources$"+Ea,Xn="__reactMarker$"+Ea;function Qs(e){delete e[Ut],delete e[en],delete e[Sl],delete e[ko],delete e[Ca]}function Aa(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zm(e);e!==null;){if(n=e[Ut])return n;e=zm(e)}return t}e=n,n=e.parentNode}return null}function Tt(e){if(e=e[Ut]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function _n(e){var t=e[Qi];return t||(t=e[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tn(e){e[Xn]=!0}var Ya=new Set,ds={};function ba(e,t){Oa(e,t),Oa(e+"Capture",t)}function Oa(e,t){for(ds[e]=t,e=0;e<t.length;e++)Ya.add(t[e])}var Xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},hs={};function Ir(e){return tt.call(hs,e)?!0:tt.call(Yi,e)?!1:Xa.test(e)?hs[e]=!0:(Yi[e]=!0,!1)}function it(e,t,n){if(Ir(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ms(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function aa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eu(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){n=""+p,i.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ys(e){if(!e._valueTracker){var t=jl(e)?"checked":"value";e._valueTracker=eu(e,t,""+e[t])}}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=jl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function pn(e){return e.replace(ps,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Da(e,t,n,a,s,i,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ys(e,p,vn(t)):n!=null?ys(e,p,vn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+vn(v):e.removeAttribute("name")}function Xs(e,t,n,a,s,i,p,v){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ys(e);return}n=n!=null?""+vn(n):"",t=t!=null?""+vn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ys(e)}function ys(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xa(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gi(e,t,n){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vn(n):""}function gs(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ue(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=vn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Ys(e)}function Ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ro.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vi(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&yt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&yt(e,i,t[i])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var la=null;function Gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Kt=null;function Vn(e){var t=Tt(e);if(t&&(e=t.stateNode)){var n=e[en]||null;e:switch(e=t.stateNode,t.type){case"input":if(Da(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[en]||null;if(!s)throw Error(d(90));Da(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xi(a)}break e;case"textarea":Gi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xa(e,!!n.multiple,t,!1)}}}var Fa=!1;function wl(e,t,n){if(Fa)return e(t,n);Fa=!0;try{var a=e(t);return a}finally{if(Fa=!1,(Va!==null||Kt!==null)&&(Yu(),Va&&(t=Va,e=Kt,Kt=Va=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function Za(e,t){var n=e.stateNode;if(n===null)return null;var a=n[en]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(yn)try{var En={};Object.defineProperty(En,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{Zi=!1}var sa=null,Vs=null,Nl=null;function _l(){if(Nl)return Nl;var e,t=Vs,n=t.length,a,s="value"in sa?sa.value:sa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===s[i-a];a++);return Nl=s.slice(e,1<a?1-a:void 0)}function El(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function tu(){return!1}function rn(e){function t(n,a,s,i,p){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(i):i[v]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:tu,this.isPropagationStopped=tu,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=rn($a),Ta=A({},$a,{view:0,detail:0}),Zs=rn(Ta),xs,$i,vs,$s=A({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(xs=e.screenX-vs.screenX,$i=e.screenY-vs.screenY):$i=xs=0,vs=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),Js=rn($s),Ji=A({},$s,{dataTransfer:0}),nu=rn(Ji),Ps=A({},Ta,{relatedTarget:0}),Cl=rn(Ps),Ws=A({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),au=rn(Ws),qo=A({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Al=rn(qo),Pi=A({},$a,{data:0}),Is=rn(Pi),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Ja(){return Ss}var lu=A({},Ta,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=El(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(e){return e.type==="keypress"?El(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?El(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ei=rn(lu),su=A({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=rn(su),ti=A({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),tr=rn(ti),Pa=A({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=rn(Pa),ar=A({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ni=rn(ar),lr=A({},$a,{newState:0,oldState:0}),iu=rn(lr),Uo=[9,13,27,32],js=yn&&"CompositionEvent"in window,Ma=null;yn&&"documentMode"in document&&(Ma=document.documentMode);var Ho=yn&&"TextEvent"in window&&!Ma,ai=yn&&(!js||Ma&&8<Ma&&11>=Ma),li=" ",ru=!1;function sr(e,t){switch(e){case"keyup":return Uo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function ou(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ru=!0,li);case"textInput":return e=t.data,e===li&&ru?null:e;default:return null}}function Lo(e,t){if(Wa)return e==="compositionend"||!js&&sr(e,t)?(e=_l(),Nl=Vs=sa=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ai&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function si(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ir(e,t,n,a){Va?Kt?Kt.push(a):Kt=[a]:Va=a,t=Ju(t,"onChange"),0<t.length&&(n=new Fs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ol=null,ws=null;function Ko(e){xm(e,0)}function ii(e){var t=Gn(e);if(Xi(t))return e}function Ns(e,t){if(e==="change")return t}var ia=!1;if(yn){var Qt;if(yn){var Dl="oninput"in document;if(!Dl){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Dl=typeof Ia.oninput=="function"}Qt=Dl}else Qt=!1;ia=Qt&&(!document.documentMode||9<document.documentMode)}function fu(){Ol&&(Ol.detachEvent("onpropertychange",ri),ws=Ol=null)}function ri(e){if(e.propertyName==="value"&&ii(ws)){var t=[];ir(t,ws,e,Gs(e)),wl(Ko,t)}}function du(e,t,n){e==="focusin"?(fu(),Ol=t,ws=n,Ol.attachEvent("onpropertychange",ri)):e==="focusout"&&fu()}function el(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ws)}function rr(e,t){if(e==="click")return ii(t)}function Tl(e,t){if(e==="input"||e==="change")return ii(t)}function za(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:za;function l(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!tt.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=yn&&"documentMode"in document&&11>=document.documentMode,w=null,D=null,K=null,T=!1;function O(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T||w==null||w!==Nt(a)||(a=w,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),K&&l(K,a)||(K=a,a=Ju(D,"onSelect"),0<a.length&&(t=new Fs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=w)))}function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var B={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionrun:k("Transition","TransitionRun"),transitionstart:k("Transition","TransitionStart"),transitioncancel:k("Transition","TransitionCancel"),transitionend:k("Transition","TransitionEnd")},M={},z={};yn&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete B.animationend.animation,delete B.animationiteration.animation,delete B.animationstart.animation),"TransitionEvent"in window||delete B.transitionend.transition);function Y(e){if(M[e])return M[e];if(!B[e])return e;var t=B[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z)return M[e]=t[n];return e}var $=Y("animationend"),Q=Y("animationiteration"),ae=Y("animationstart"),de=Y("transitionrun"),Ee=Y("transitionstart"),Ce=Y("transitioncancel"),me=Y("transitionend"),Re=new Map,Te="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Te.push("scrollEnd");function pe(e,t){Re.set(e,t),ba(t,[e])}var Be=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],ut=0,Ye=0;function et(){for(var e=ut,t=Ye=ut=0;t<e;){var n=We[t];We[t++]=null;var a=We[t];We[t++]=null;var s=We[t];We[t++]=null;var i=We[t];if(We[t++]=null,a!==null&&s!==null){var p=a.pending;p===null?s.next=s:(s.next=p.next,p.next=s),a.pending=s}i!==0&&ka(n,s,i)}}function Mt(e,t,n,a){We[ut++]=e,We[ut++]=t,We[ut++]=n,We[ut++]=a,Ye|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function An(e,t,n,a){return Mt(e,t,n,a),Ml(e)}function Ct(e,t){return Mt(e,null,null,t),Ml(e)}function ka(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ke(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function Ml(e){if(50<Or)throw Or=0,Jc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ui={};function hy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,a){return new hy(e,t,n,a)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tl(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function td(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hu(e,t,n,a,s,i){var p=0;if(a=e,typeof e=="function")Qo(e)&&(p=1);else if(typeof e=="string")p=b0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ve:return e=Fn(31,n,t,s),e.elementType=Ve,e.lanes=i,e;case ue:return _s(n.children,s,i,t);case W:p=8,s|=24;break;case oe:return e=Fn(12,n,t,s|2),e.elementType=oe,e.lanes=i,e;case _e:return e=Fn(13,n,t,s),e.elementType=_e,e.lanes=i,e;case ve:return e=Fn(19,n,t,s),e.elementType=ve,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:p=10;break e;case ce:p=9;break e;case he:p=11;break e;case Se:p=14;break e;case Ie:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Fn(p,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function _s(e,t,n,a){return e=Fn(7,e,a,t),e.lanes=n,e}function Yo(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function nd(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Xo(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ad=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var n=ad.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ge(t)},ad.set(e,t),t)}return{value:e,source:t,stack:ge(t)}}var oi=[],ci=0,mu=null,ur=0,ua=[],oa=0,zl=null,Ra=1,Ba="";function nl(e,t){oi[ci++]=ur,oi[ci++]=mu,mu=e,ur=t}function ld(e,t,n){ua[oa++]=Ra,ua[oa++]=Ba,ua[oa++]=zl,zl=e;var a=Ra;e=Ba;var s=32-ke(a)-1;a&=~(1<<s),n+=1;var i=32-ke(t)+s;if(30<i){var p=s-s%5;i=(a&(1<<p)-1).toString(32),a>>=p,s-=p,Ra=1<<32-ke(t)+s|n<<s|a,Ba=i+e}else Ra=1<<i|n<<s|a,Ba=e}function Go(e){e.return!==null&&(nl(e,1),ld(e,1,0))}function Vo(e){for(;e===mu;)mu=oi[--ci],oi[ci]=null,ur=oi[--ci],oi[ci]=null;for(;e===zl;)zl=ua[--oa],ua[oa]=null,Ba=ua[--oa],ua[oa]=null,Ra=ua[--oa],ua[oa]=null}function sd(e,t){ua[oa++]=Ra,ua[oa++]=Ba,ua[oa++]=zl,Ra=t.id,Ba=t.overflow,zl=e}var Sn=null,Yt=null,gt=!1,kl=null,ca=!1,Fo=Error(d(519));function Rl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(ra(t,e)),Fo}function id(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ut]=e,t[en]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)ct(Tr[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Xs(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),gs(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||wm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Rl(e,!0)}function rd(e){for(Sn=e.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Sn=Sn.return}}function fi(e){if(e!==Sn)return!1;if(!gt)return rd(e),gt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||df(e.type,e.memoizedProps)),n=!n),n&&Yt&&Rl(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=Mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Yt=Mm(e)}else t===27?(t=Yt,$l(e.type)?(e=gf,gf=null,Yt=e):Yt=t):Yt=Sn?da(e.stateNode.nextSibling):null;return!0}function Es(){Yt=Sn=null,gt=!1}function Zo(){var e=kl;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),kl=null),e}function or(e){kl===null?kl=[e]:kl.push(e)}var $o=E(null),Cs=null,al=null;function Bl(e,t,n){fe($o,t._currentValue),t._currentValue=n}function ll(e){e._currentValue=$o.current,te($o)}function Jo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Po(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var p=s.child;i=i.firstContext;e:for(;i!==null;){var v=i;i=s;for(var _=0;_<t.length;_++)if(v.context===t[_]){i.lanes|=n,v=i.alternate,v!==null&&(v.lanes|=n),Jo(i.return,n,e),a||(p=null);break e}i=v.next}}else if(s.tag===18){if(p=s.return,p===null)throw Error(d(341));p.lanes|=n,i=p.alternate,i!==null&&(i.lanes|=n),Jo(p,n,e),p=null}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===e){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}}function di(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var p=s.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var v=s.type;Cn(s.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(s===St.current){if(p=s.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}s=s.return}e!==null&&Po(t,e,n,a),t.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Cs=e,al=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jn(e){return ud(Cs,e)}function yu(e,t){return Cs===null&&As(e),ud(e,t)}function ud(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},al===null){if(e===null)throw Error(d(308));al=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else al=al.next=t;return n}var my=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},py=r.unstable_scheduleCallback,yy=r.unstable_NormalPriority,un={$$typeof:Ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new my,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&py(yy,function(){e.controller.abort()})}var fr=null,Io=0,hi=0,mi=null;function gy(e,t){if(fr===null){var n=fr=[];Io=0,hi=nf(),mi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Io++,t.then(od,od),t}function od(){if(--Io===0&&fr!==null){mi!==null&&(mi.status="fulfilled");var e=fr;fr=null,hi=0,mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function by(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var cd=X.S;X.S=function(e,t){Fh=lt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gy(e,t),cd!==null&&cd(e,t)};var Os=E(null);function ec(){var e=Os.current;return e!==null?e:qt.pooledCache}function gu(e,t){t===null?fe(Os,Os.current):fe(Os,t.pool)}function fd(){var e=ec();return e===null?null:{parent:un._currentValue,pool:e}}var pi=Error(d(460)),tc=Error(d(474)),bu=Error(d(542)),xu={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rn,Rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=qt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw Ts=t,pi}}function Ds(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ts=n,pi):n}}var Ts=null;function md(){if(Ts===null)throw Error(d(459));var e=Ts;return Ts=null,e}function pd(e){if(e===pi||e===bu)throw Error(d(483))}var yi=null,dr=0;function vu(e){var t=dr;return dr+=1,yi===null&&(yi=[]),hd(yi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Su(e,t){throw t.$$typeof===P?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yd(e){function t(L,R){if(e){var V=L.deletions;V===null?(L.deletions=[R],L.flags|=16):V.push(R)}}function n(L,R){if(!e)return null;for(;R!==null;)t(L,R),R=R.sibling;return null}function a(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function s(L,R){return L=tl(L,R),L.index=0,L.sibling=null,L}function i(L,R,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<R?(L.flags|=67108866,R):V):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function v(L,R,V,se){return R===null||R.tag!==6?(R=Yo(V,L.mode,se),R.return=L,R):(R=s(R,V),R.return=L,R)}function _(L,R,V,se){var Xe=V.type;return Xe===ue?le(L,R,V.props.children,se,V.key):R!==null&&(R.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ie&&Ds(Xe)===R.type)?(R=s(R,V.props),hr(R,V),R.return=L,R):(R=hu(V.type,V.key,V.props,null,L.mode,se),hr(R,V),R.return=L,R)}function F(L,R,V,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==V.containerInfo||R.stateNode.implementation!==V.implementation?(R=Xo(V,L.mode,se),R.return=L,R):(R=s(R,V.children||[]),R.return=L,R)}function le(L,R,V,se,Xe){return R===null||R.tag!==7?(R=_s(V,L.mode,se,Xe),R.return=L,R):(R=s(R,V),R.return=L,R)}function ie(L,R,V){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Yo(""+R,L.mode,V),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case be:return V=hu(R.type,R.key,R.props,null,L.mode,V),hr(V,R),V.return=L,V;case Z:return R=Xo(R,L.mode,V),R.return=L,R;case Ie:return R=Ds(R),ie(L,R,V)}if(Ue(R)||$e(R))return R=_s(R,L.mode,V,null),R.return=L,R;if(typeof R.then=="function")return ie(L,vu(R),V);if(R.$$typeof===Ne)return ie(L,yu(L,R),V);Su(L,R)}return null}function J(L,R,V,se){var Xe=R!==null?R.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Xe!==null?null:v(L,R,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case be:return V.key===Xe?_(L,R,V,se):null;case Z:return V.key===Xe?F(L,R,V,se):null;case Ie:return V=Ds(V),J(L,R,V,se)}if(Ue(V)||$e(V))return Xe!==null?null:le(L,R,V,se,null);if(typeof V.then=="function")return J(L,R,vu(V),se);if(V.$$typeof===Ne)return J(L,R,yu(L,V),se);Su(L,V)}return null}function ee(L,R,V,se,Xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return L=L.get(V)||null,v(R,L,""+se,Xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case be:return L=L.get(se.key===null?V:se.key)||null,_(R,L,se,Xe);case Z:return L=L.get(se.key===null?V:se.key)||null,F(R,L,se,Xe);case Ie:return se=Ds(se),ee(L,R,V,se,Xe)}if(Ue(se)||$e(se))return L=L.get(V)||null,le(R,L,se,Xe,null);if(typeof se.then=="function")return ee(L,R,V,vu(se),Xe);if(se.$$typeof===Ne)return ee(L,R,V,yu(R,se),Xe);Su(R,se)}return null}function He(L,R,V,se){for(var Xe=null,jt=null,Ke=R,st=R=0,mt=null;Ke!==null&&st<V.length;st++){Ke.index>st?(mt=Ke,Ke=null):mt=Ke.sibling;var wt=J(L,Ke,V[st],se);if(wt===null){Ke===null&&(Ke=mt);break}e&&Ke&&wt.alternate===null&&t(L,Ke),R=i(wt,R,st),jt===null?Xe=wt:jt.sibling=wt,jt=wt,Ke=mt}if(st===V.length)return n(L,Ke),gt&&nl(L,st),Xe;if(Ke===null){for(;st<V.length;st++)Ke=ie(L,V[st],se),Ke!==null&&(R=i(Ke,R,st),jt===null?Xe=Ke:jt.sibling=Ke,jt=Ke);return gt&&nl(L,st),Xe}for(Ke=a(Ke);st<V.length;st++)mt=ee(Ke,L,st,V[st],se),mt!==null&&(e&&mt.alternate!==null&&Ke.delete(mt.key===null?st:mt.key),R=i(mt,R,st),jt===null?Xe=mt:jt.sibling=mt,jt=mt);return e&&Ke.forEach(function(es){return t(L,es)}),gt&&nl(L,st),Xe}function Je(L,R,V,se){if(V==null)throw Error(d(151));for(var Xe=null,jt=null,Ke=R,st=R=0,mt=null,wt=V.next();Ke!==null&&!wt.done;st++,wt=V.next()){Ke.index>st?(mt=Ke,Ke=null):mt=Ke.sibling;var es=J(L,Ke,wt.value,se);if(es===null){Ke===null&&(Ke=mt);break}e&&Ke&&es.alternate===null&&t(L,Ke),R=i(es,R,st),jt===null?Xe=es:jt.sibling=es,jt=es,Ke=mt}if(wt.done)return n(L,Ke),gt&&nl(L,st),Xe;if(Ke===null){for(;!wt.done;st++,wt=V.next())wt=ie(L,wt.value,se),wt!==null&&(R=i(wt,R,st),jt===null?Xe=wt:jt.sibling=wt,jt=wt);return gt&&nl(L,st),Xe}for(Ke=a(Ke);!wt.done;st++,wt=V.next())wt=ee(Ke,L,st,wt.value,se),wt!==null&&(e&&wt.alternate!==null&&Ke.delete(wt.key===null?st:wt.key),R=i(wt,R,st),jt===null?Xe=wt:jt.sibling=wt,jt=wt);return e&&Ke.forEach(function(O0){return t(L,O0)}),gt&&nl(L,st),Xe}function Rt(L,R,V,se){if(typeof V=="object"&&V!==null&&V.type===ue&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case be:e:{for(var Xe=V.key;R!==null;){if(R.key===Xe){if(Xe=V.type,Xe===ue){if(R.tag===7){n(L,R.sibling),se=s(R,V.props.children),se.return=L,L=se;break e}}else if(R.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ie&&Ds(Xe)===R.type){n(L,R.sibling),se=s(R,V.props),hr(se,V),se.return=L,L=se;break e}n(L,R);break}else t(L,R);R=R.sibling}V.type===ue?(se=_s(V.props.children,L.mode,se,V.key),se.return=L,L=se):(se=hu(V.type,V.key,V.props,null,L.mode,se),hr(se,V),se.return=L,L=se)}return p(L);case Z:e:{for(Xe=V.key;R!==null;){if(R.key===Xe)if(R.tag===4&&R.stateNode.containerInfo===V.containerInfo&&R.stateNode.implementation===V.implementation){n(L,R.sibling),se=s(R,V.children||[]),se.return=L,L=se;break e}else{n(L,R);break}else t(L,R);R=R.sibling}se=Xo(V,L.mode,se),se.return=L,L=se}return p(L);case Ie:return V=Ds(V),Rt(L,R,V,se)}if(Ue(V))return He(L,R,V,se);if($e(V)){if(Xe=$e(V),typeof Xe!="function")throw Error(d(150));return V=Xe.call(V),Je(L,R,V,se)}if(typeof V.then=="function")return Rt(L,R,vu(V),se);if(V.$$typeof===Ne)return Rt(L,R,yu(L,V),se);Su(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,R!==null&&R.tag===6?(n(L,R.sibling),se=s(R,V),se.return=L,L=se):(n(L,R),se=Yo(V,L.mode,se),se.return=L,L=se),p(L)):n(L,R)}return function(L,R,V,se){try{dr=0;var Xe=Rt(L,R,V,se);return yi=null,Xe}catch(Ke){if(Ke===pi||Ke===bu)throw Ke;var jt=Fn(29,Ke,null,L.mode);return jt.lanes=se,jt.return=L,jt}}}var Ms=yd(!0),gd=yd(!1),ql=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ul(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Ml(e),ka(e,null,n),t}return Mt(e,a,t,n),Ml(e)}function mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}function lc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=p:i=i.next=p,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var sc=!1;function pr(){if(sc){var e=mi;if(e!==null)throw e}}function yr(e,t,n,a){sc=!1;var s=e.updateQueue;ql=!1;var i=s.firstBaseUpdate,p=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var _=v,F=_.next;_.next=null,p===null?i=F:p.next=F,p=_;var le=e.alternate;le!==null&&(le=le.updateQueue,v=le.lastBaseUpdate,v!==p&&(v===null?le.firstBaseUpdate=F:v.next=F,le.lastBaseUpdate=_))}if(i!==null){var ie=s.baseState;p=0,le=F=_=null,v=i;do{var J=v.lane&-536870913,ee=J!==v.lane;if(ee?(ht&J)===J:(a&J)===J){J!==0&&J===hi&&(sc=!0),le!==null&&(le=le.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var He=e,Je=v;J=t;var Rt=n;switch(Je.tag){case 1:if(He=Je.payload,typeof He=="function"){ie=He.call(Rt,ie,J);break e}ie=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Je.payload,J=typeof He=="function"?He.call(Rt,ie,J):He,J==null)break e;ie=A({},ie,J);break e;case 2:ql=!0}}J=v.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=s.callbacks,ee===null?s.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:v.tag,payload:v.payload,callback:v.callback,next:null},le===null?(F=le=ee,_=ie):le=le.next=ee,p|=J;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;ee=v,v=ee.next,ee.next=null,s.lastBaseUpdate=ee,s.shared.pending=null}}while(!0);le===null&&(_=ie),s.baseState=_,s.firstBaseUpdate=F,s.lastBaseUpdate=le,i===null&&(s.shared.lanes=0),Xl|=p,e.lanes=p,e.memoizedState=ie}}function bd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function xd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bd(n[e],t)}var gi=E(null),ju=E(0);function vd(e,t){e=hl,fe(ju,e),fe(gi,t),hl=e|t.baseLanes}function ic(){fe(ju,hl),fe(gi,gi.current)}function rc(){hl=ju.current,te(gi),te(ju)}var Zn=E(null),fa=null;function Ll(e){var t=e.alternate;fe(nn,nn.current&1),fe(Zn,e),fa===null&&(t===null||gi.current!==null||t.memoizedState!==null)&&(fa=e)}function uc(e){fe(nn,nn.current),fe(Zn,e),fa===null&&(fa=e)}function Sd(e){e.tag===22?(fe(nn,nn.current),fe(Zn,e),fa===null&&(fa=e)):Kl()}function Kl(){fe(nn,nn.current),fe(Zn,Zn.current)}function $n(e){te(Zn),fa===e&&(fa=null),te(nn)}var nn=E(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pf(n)||yf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=0,nt=null,zt=null,on=null,Nu=!1,bi=!1,zs=!1,_u=0,gr=0,xi=null,xy=0;function Zt(){throw Error(d(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function cc(e,t,n,a,s,i){return sl=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?lh:_c,zs=!1,i=n(a,s),zs=!1,bi&&(i=wd(t,n,a,s)),jd(e),i}function jd(e){X.H=vr;var t=zt!==null&&zt.next!==null;if(sl=0,on=zt=nt=null,Nu=!1,gr=0,xi=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&pu(e)&&(cn=!0))}function wd(e,t,n,a){nt=e;var s=0;do{if(bi&&(xi=null),gr=0,bi=!1,25<=s)throw Error(d(301));if(s+=1,on=zt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}X.H=sh,i=t(n,a)}while(bi);return i}function vy(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(nt.flags|=1024),t}function fc(){var e=_u!==0;return _u=0,e}function dc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hc(e){if(Nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nu=!1}sl=0,on=zt=nt=null,bi=!1,gr=_u=0,xi=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?nt.memoizedState=on=e:on=on.next=e,on}function an(){if(zt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=on===null?nt.memoizedState:on.next;if(t!==null)on=t,zt=e;else{if(e===null)throw nt.alternate===null?Error(d(467)):Error(d(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},on===null?nt.memoizedState=on=e:on=on.next=e}return on}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=gr;return gr+=1,xi===null&&(xi=[]),e=hd(xi,e,t),t=nt,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?lh:_c),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===Ne)return jn(e)}throw Error(d(438,String(e)))}function mc(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Eu(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=rt;return t.index++,n}function il(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=an();return pc(t,zt,e)}function pc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var p=s.next;s.next=i.next,i.next=p}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var v=p=null,_=null,F=t,le=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(ht&ie)===ie:(sl&ie)===ie){var J=F.revertLane;if(J===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===hi&&(le=!0);else if((sl&J)===J){F=F.next,J===hi&&(le=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(v=_=ie,p=i):_=_.next=ie,nt.lanes|=J,Xl|=J;ie=F.action,zs&&n(i,ie),i=F.hasEagerState?F.eagerState:n(i,ie)}else J={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(v=_=J,p=i):_=_.next=J,nt.lanes|=ie,Xl|=ie;F=F.next}while(F!==null&&F!==t);if(_===null?p=i:_.next=v,!Cn(i,e.memoizedState)&&(cn=!0,le&&(n=mi,n!==null)))throw n;e.memoizedState=i,e.baseState=p,e.baseQueue=_,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function yc(e){var t=an(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var p=s=s.next;do i=e(i,p.action),p=p.next;while(p!==s);Cn(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Nd(e,t,n){var a=nt,s=an(),i=gt;if(i){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!Cn((zt||s).memoizedState,n);if(p&&(s.memoizedState=n,cn=!0),s=s.queue,xc(Cd.bind(null,a,s,e),[e]),s.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,vi(9,{destroy:void 0},Ed.bind(null,a,s,n,t),null),qt===null)throw Error(d(349));i||(sl&127)!==0||_d(a,t,n)}return n}function _d(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Eu(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ed(e,t,n,a){t.value=n,t.getSnapshot=a,Ad(t)&&Od(e)}function Cd(e,t,n){return n(function(){Ad(t)&&Od(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function Od(e){var t=Ct(e,2);t!==null&&Ln(t,e,2)}function gc(e){var t=zn();if(typeof e=="function"){var n=e;if(e=n(),zs){xn(!0);try{n()}finally{xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t}function Dd(e,t,n,a){return e.baseState=n,pc(e,zt,typeof a=="function"?a:il)}function Sy(e,t,n,a,s){if(Tu(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){i.listeners.push(p)}};X.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Td(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Td(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=X.T,p={};X.T=p;try{var v=n(s,a),_=X.S;_!==null&&_(p,v),Md(e,t,v)}catch(F){bc(e,t,F)}finally{i!==null&&p.types!==null&&(i.types=p.types),X.T=i}}else try{i=n(s,a),Md(e,t,i)}catch(F){bc(e,t,F)}}function Md(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){zd(e,t,a)},function(a){return bc(e,t,a)}):zd(e,t,n)}function zd(e,t,n){t.status="fulfilled",t.value=n,kd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Td(e,n)))}function bc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,kd(t),t=t.next;while(t!==a)}e.action=null}function kd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rd(e,t){return t}function Bd(e,t){if(gt){var n=qt.formState;if(n!==null){e:{var a=nt;if(gt){if(Yt){t:{for(var s=Yt,i=ca;s.nodeType!==8;){if(!i){s=null;break t}if(s=da(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Yt=da(s.nextSibling),a=s.data==="F!";break e}}Rl(a)}a=!1}a&&(t=n[0])}}return n=zn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},n.queue=a,n=th.bind(null,nt,a),a.dispatch=n,a=gc(!1),i=Nc.bind(null,nt,!1,a.queue),a=zn(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Sy.bind(null,nt,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function qd(e){var t=an();return Ud(t,zt,e)}function Ud(e,t,n){if(t=pc(e,t,Rd)[0],e=Au(il)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=br(t)}catch(p){throw p===pi?bu:p}else a=t;t=an();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,vi(9,{destroy:void 0},jy.bind(null,s,n),null)),[a,i,e]}function jy(e,t){e.action=t}function Hd(e){var t=an(),n=zt;if(n!==null)return Ud(t,n,e);an(),t=t.memoizedState,n=an();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function vi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Eu(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ld(){return an().memoizedState}function Ou(e,t,n,a){var s=zn();nt.flags|=e,s.memoizedState=vi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Du(e,t,n,a){var s=an();a=a===void 0?null:a;var i=s.memoizedState.inst;zt!==null&&a!==null&&oc(a,zt.memoizedState.deps)?s.memoizedState=vi(t,i,n,a):(nt.flags|=e,s.memoizedState=vi(1|t,i,n,a))}function Kd(e,t){Ou(8390656,8,e,t)}function xc(e,t){Du(2048,8,e,t)}function wy(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=Eu(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qd(e){var t=an().memoizedState;return wy({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return Du(4,2,e,t)}function Xd(e,t){return Du(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){n=n!=null?n.concat([e]):null,Du(4,4,Gd.bind(null,t,e),n)}function vc(){}function Fd(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&oc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Zd(e,t){var n=an();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&oc(t,a[1]))return a[0];if(a=e(),zs){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[a,t],a}function Sc(e,t,n){return n===void 0||(sl&1073741824)!==0&&(ht&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=$h(),nt.lanes|=e,Xl|=e,n)}function $d(e,t,n,a){return Cn(n,t)?n:gi.current!==null?(e=Sc(e,n,a),Cn(e,t)||(cn=!0),e):(sl&42)===0||(sl&1073741824)!==0&&(ht&261930)===0?(cn=!0,e.memoizedState=n):(e=$h(),nt.lanes|=e,Xl|=e,t)}function Jd(e,t,n,a,s){var i=re.p;re.p=i!==0&&8>i?i:8;var p=X.T,v={};X.T=v,Nc(e,!1,t,n);try{var _=s(),F=X.S;if(F!==null&&F(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var le=by(_,a);xr(e,t,le,Wn(e))}else xr(e,t,a,Wn(e))}catch(ie){xr(e,t,{then:function(){},status:"rejected",reason:ie},Wn())}finally{re.p=i,p!==null&&v.types!==null&&(p.types=v.types),X.T=p}}function Ny(){}function jc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var s=Pd(e).queue;Jd(e,s,t,ye,n===null?Ny:function(){return Wd(e),n(a)})}function Pd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:ye},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wd(e){var t=Pd(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},Wn())}function wc(){return jn(Br)}function Id(){return an().memoizedState}function eh(){return an().memoizedState}function _y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Wn();e=Ul(n);var a=Hl(t,e,n);a!==null&&(Ln(a,t,n),mr(a,t,n)),t={cache:Wo()},e.payload=t;return}t=t.return}}function Ey(e,t,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(e)?nh(t,n):(n=An(e,t,n,a),n!==null&&(Ln(n,e,a),ah(n,t,a)))}function th(e,t,n){var a=Wn();xr(e,t,n,a)}function xr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))nh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var p=t.lastRenderedState,v=i(p,n);if(s.hasEagerState=!0,s.eagerState=v,Cn(v,p))return Mt(e,t,s,0),qt===null&&et(),!1}catch{}if(n=An(e,t,s,a),n!==null)return Ln(n,e,a),ah(n,t,a),!0}return!1}function Nc(e,t,n,a){if(a={lane:2,revertLane:nf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(t)throw Error(d(479))}else t=An(e,n,a,2),t!==null&&Ln(t,e,2)}function Tu(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function nh(e,t){bi=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ah(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bt(e,n)}}var vr={readContext:jn,use:Cu,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};vr.useEffectEvent=Zt;var lh={readContext:jn,use:Cu,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:Kd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ou(4194308,4,Gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var n=zn();t=t===void 0?null:t;var a=e();if(zs){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zn();if(n!==void 0){var s=n(t);if(zs){xn(!0);try{n(t)}finally{xn(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Ey.bind(null,nt,e),[a.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=gc(e);var t=e.queue,n=th.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vc,useDeferredValue:function(e,t){var n=zn();return Sc(n,e,t)},useTransition:function(){var e=gc(!1);return e=Jd.bind(null,nt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=nt,s=zn();if(gt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),qt===null)throw Error(d(349));(ht&127)!==0||_d(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kd(Cd.bind(null,a,i,e),[e]),a.flags|=2048,vi(9,{destroy:void 0},Ed.bind(null,a,i,n,t),null),n},useId:function(){var e=zn(),t=qt.identifierPrefix;if(gt){var n=Ba,a=Ra;n=(a&~(1<<32-ke(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=xy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wc,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nc.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:mc,useCacheRefresh:function(){return zn().memoizedState=_y.bind(null,nt)},useEffectEvent:function(e){var t=zn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},_c={readContext:jn,use:Cu,useCallback:Fd,useContext:jn,useEffect:xc,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Zd,useReducer:Au,useRef:Ld,useState:function(){return Au(il)},useDebugValue:vc,useDeferredValue:function(e,t){var n=an();return $d(n,zt.memoizedState,e,t)},useTransition:function(){var e=Au(il)[0],t=an().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:Nd,useId:Id,useHostTransitionStatus:wc,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var n=an();return Dd(n,zt,e,t)},useMemoCache:mc,useCacheRefresh:eh};_c.useEffectEvent=Qd;var sh={readContext:jn,use:Cu,useCallback:Fd,useContext:jn,useEffect:xc,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Zd,useReducer:yc,useRef:Ld,useState:function(){return yc(il)},useDebugValue:vc,useDeferredValue:function(e,t){var n=an();return zt===null?Sc(n,e,t):$d(n,zt.memoizedState,e,t)},useTransition:function(){var e=yc(il)[0],t=an().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:Nd,useId:Id,useHostTransitionStatus:wc,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var n=an();return zt!==null?Dd(n,zt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mc,useCacheRefresh:eh};sh.useEffectEvent=Qd;function Ec(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Ul(a);s.payload=t,n!=null&&(s.callback=n),t=Hl(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Ul(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hl(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),a=Ul(n);a.tag=2,t!=null&&(a.callback=t),t=Hl(e,a,n),t!==null&&(Ln(t,e,n),mr(t,e,n))}};function ih(e,t,n,a,s,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(s,i):!0}function rh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Cc.enqueueReplaceState(t,t.state,null)}function ks(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function uh(e){Be(e)}function oh(e){console.error(e)}function ch(e){Be(e)}function Mu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function fh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ac(e,t,n){return n=Ul(n),n.tag=3,n.payload={element:null},n.callback=function(){Mu(e,t)},n}function dh(e){return e=Ul(e),e.tag=3,e}function hh(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){fh(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){fh(t,n,a),typeof s!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Cy(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&di(t,n,s,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return fa===null?Xu():n.alternate===null&&$t===0&&($t=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ic(e,a,s)),!1;case 22:return n.flags|=65536,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ic(e,a,s)),!1}throw Error(d(435,n.tag))}return Ic(e,a,s),Xu(),!1}if(gt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Fo&&(e=Error(d(422),{cause:a}),or(ra(e,n)))):(a!==Fo&&(t=Error(d(423),{cause:a}),or(ra(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ra(a,n),s=Ac(e.stateNode,a,s),lc(e,s),$t!==4&&($t=2)),!1;var i=Error(d(520),{cause:a});if(i=ra(i,n),Ar===null?Ar=[i]:Ar.push(i),$t!==4&&($t=2),t===null)return!0;a=ra(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Ac(n.stateNode,a,e),lc(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Gl===null||!Gl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=dh(s),hh(s,e,n,a),lc(n,s),!1}n=n.return}while(n!==null);return!1}var Oc=Error(d(461)),cn=!1;function wn(e,t,n,a){t.child=e===null?gd(t,null,n,a):Ms(t,e.child,n,a)}function mh(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var p={};for(var v in a)v!=="ref"&&(p[v]=a[v])}else p=a;return As(t),a=cc(e,t,n,p,i,s),v=fc(),e!==null&&!cn?(dc(e,t,s),rl(e,t,s)):(gt&&v&&Go(t),t.flags|=1,wn(e,t,a,s),t.child)}function ph(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Qo(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,yh(e,t,i,a,s)):(e=hu(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!qc(e,s)){var p=i.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return rl(e,t,s)}return t.flags|=1,e=tl(i,a),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(l(i,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=i,qc(e,s))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,rl(e,t,s)}return Dc(e,t,n,a,s)}function gh(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return bh(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,i!==null?i.cachePool:null),i!==null?vd(t,i):ic(),Sd(t);else return a=t.lanes=536870912,bh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(gu(t,i.cachePool),vd(t,i),Kl(),t.memoizedState=null):(e!==null&&gu(t,null),ic(),Kl());return wn(e,t,s,n),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(e,t,n,a,s){var i=ec();return i=i===null?null:{parent:un._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&gu(t,null),ic(),Sd(t),e!==null&&di(e,t,a,!0),t.childLanes=s,null}function zu(e,t){return t=Ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xh(e,t,n){return Ms(t,e.child,null,n),e=zu(t,t.pendingProps),e.flags|=2,$n(t),t.memoizedState=null,e}function Ay(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(gt){if(a.mode==="hidden")return e=zu(t,a),t.lanes=536870912,Sr(null,e);if(uc(t),(e=Yt)?(e=Tm(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Ra,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,Sn=t,Yt=null)):e=null,e===null)throw Rl(t);return t.lanes=536870912,null}return zu(t,a)}var i=e.memoizedState;if(i!==null){var p=i.dehydrated;if(uc(t),s)if(t.flags&256)t.flags&=-257,t=xh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||di(e,t,n,!1),s=(n&e.childLanes)!==0,cn||s){if(a=qt,a!==null&&(p=It(a,n),p!==0&&p!==i.retryLane))throw i.retryLane=p,Ct(e,p),Ln(a,e,p),Oc;Xu(),t=xh(e,t,n)}else e=i.treeContext,Yt=da(p.nextSibling),Sn=t,gt=!0,kl=null,ca=!1,e!==null&&sd(t,e),t=zu(t,a),t.flags|=4096;return t}return e=tl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dc(e,t,n,a,s){return As(t),n=cc(e,t,n,a,void 0,s),a=fc(),e!==null&&!cn?(dc(e,t,s),rl(e,t,s)):(gt&&a&&Go(t),t.flags|=1,wn(e,t,n,s),t.child)}function vh(e,t,n,a,s,i){return As(t),t.updateQueue=null,n=wd(t,a,n,s),jd(e),a=fc(),e!==null&&!cn?(dc(e,t,i),rl(e,t,i)):(gt&&a&&Go(t),t.flags|=1,wn(e,t,n,i),t.child)}function Sh(e,t,n,a,s){if(As(t),t.stateNode===null){var i=ui,p=n.contextType;typeof p=="object"&&p!==null&&(i=jn(p)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},nc(t),p=n.contextType,i.context=typeof p=="object"&&p!==null?jn(p):ui,i.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Ec(t,n,p,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(p=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),p!==i.state&&Cc.enqueueReplaceState(i,i.state,null),yr(t,a,i,s),pr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var v=t.memoizedProps,_=ks(n,v);i.props=_;var F=i.context,le=n.contextType;p=ui,typeof le=="object"&&le!==null&&(p=jn(le));var ie=n.getDerivedStateFromProps;le=typeof ie=="function"||typeof i.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,le||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(v||F!==p)&&rh(t,i,a,p),ql=!1;var J=t.memoizedState;i.state=J,yr(t,a,i,s),pr(),F=t.memoizedState,v||J!==F||ql?(typeof ie=="function"&&(Ec(t,n,ie,a),F=t.memoizedState),(_=ql||ih(t,n,_,a,J,F,p))?(le||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=F),i.props=a,i.state=F,i.context=p,a=_):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,ac(e,t),p=t.memoizedProps,le=ks(n,p),i.props=le,ie=t.pendingProps,J=i.context,F=n.contextType,_=ui,typeof F=="object"&&F!==null&&(_=jn(F)),v=n.getDerivedStateFromProps,(F=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p!==ie||J!==_)&&rh(t,i,a,_),ql=!1,J=t.memoizedState,i.state=J,yr(t,a,i,s),pr();var ee=t.memoizedState;p!==ie||J!==ee||ql||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof v=="function"&&(Ec(t,n,v,a),ee=t.memoizedState),(le=ql||ih(t,n,le,a,J,ee,_)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(F||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,ee,_),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,ee,_)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ee),i.props=a,i.state=ee,i.context=_,a=le):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ku(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ms(t,e.child,null,s),t.child=Ms(t,null,n,s)):wn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=rl(e,t,s),e}function jh(e,t,n,a){return Es(),t.flags|=256,wn(e,t,n,a),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:fd()}}function zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function wh(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,p;if((p=i)||(p=e!==null&&e.memoizedState===null?!1:(nn.current&2)!==0),p&&(s=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(gt){if(s?Ll(t):Kl(),(e=Yt)?(e=Tm(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Ra,overflow:Ba}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,Sn=t,Yt=null)):e=null,e===null)throw Rl(t);return yf(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,s?(Kl(),s=t.mode,v=Ru({mode:"hidden",children:v},s),a=_s(a,s,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=Mc(n),a.childLanes=zc(e,p,n),t.memoizedState=Tc,Sr(null,a)):(Ll(t),kc(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(i)t.flags&256?(Ll(t),t.flags&=-257,t=Rc(e,t,n)):t.memoizedState!==null?(Kl(),t.child=e.child,t.flags|=128,t=null):(Kl(),v=a.fallback,s=t.mode,a=Ru({mode:"visible",children:a.children},s),v=_s(v,s,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Ms(t,e.child,null,n),a=t.child,a.memoizedState=Mc(n),a.childLanes=zc(e,p,n),t.memoizedState=Tc,t=Sr(null,a));else if(Ll(t),yf(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var F=p.dgst;p=F,a=Error(d(419)),a.stack="",a.digest=p,or({value:a,source:null,stack:null}),t=Rc(e,t,n)}else if(cn||di(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=qt,p!==null&&(a=It(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,Ct(e,a),Ln(p,e,a),Oc;pf(v)||Xu(),t=Rc(e,t,n)}else pf(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Yt=da(v.nextSibling),Sn=t,gt=!0,kl=null,ca=!1,e!==null&&sd(t,e),t=kc(t,a.children),t.flags|=4096);return t}return s?(Kl(),v=a.fallback,s=t.mode,_=e.child,F=_.sibling,a=tl(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,F!==null?v=tl(F,v):(v=_s(v,s,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Sr(null,a),a=t.child,v=e.child.memoizedState,v===null?v=Mc(n):(s=v.cachePool,s!==null?(_=un._currentValue,s=s.parent!==_?{parent:_,pool:_}:s):s=fd(),v={baseLanes:v.baseLanes|n,cachePool:s}),a.memoizedState=v,a.childLanes=zc(e,p,n),t.memoizedState=Tc,Sr(e.child,a)):(Ll(t),n=e.child,e=n.sibling,n=tl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function kc(e,t){return t=Ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ru(e,t){return e=Fn(22,e,null,t),e.lanes=0,e}function Rc(e,t,n){return Ms(t,e.child,null,n),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Jo(e.return,t,n)}function Bc(e,t,n,a,s,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=s,p.treeForkCount=i)}function _h(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var p=nn.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,fe(nn,p),wn(e,t,a,n),a=gt?ur:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nh(e,n,t);else if(e.tag===19)Nh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bc(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bc(t,!0,n,null,i,a);break;case"together":Bc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(di(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=tl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Oy(e,t,n){switch(t.tag){case 3:Gt(t,t.stateNode.containerInfo),Bl(t,un,e.memoizedState.cache),Es();break;case 27:case 5:je(t);break;case 4:Gt(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ll(t),t.flags|=128,null):(n&t.child.childLanes)!==0?wh(e,t,n):(Ll(t),e=rl(e,t,n),e!==null?e.sibling:null);Ll(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(di(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return _h(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(nn,nn.current),a)break;return null;case 22:return t.lanes=0,gh(e,t,n,t.pendingProps);case 24:Bl(t,un,e.memoizedState.cache)}return rl(e,t,n)}function Eh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!qc(e,n)&&(t.flags&128)===0)return cn=!1,Oy(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,gt&&(t.flags&1048576)!==0&&ld(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ds(t.elementType),t.type=e,typeof e=="function")Qo(e)?(a=ks(e,a),t.tag=1,t=Sh(null,t,e,a,n)):(t.tag=0,t=Dc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===he){t.tag=11,t=mh(null,t,e,a,n);break e}else if(s===Se){t.tag=14,t=ph(null,t,e,a,n);break e}}throw t=Ae(e)||e,Error(d(306,t,""))}}return t;case 0:return Dc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=ks(a,t.pendingProps),Sh(e,t,a,s,n);case 3:e:{if(Gt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,ac(e,t),yr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,Bl(t,un,a),a!==i.cache&&Po(t,[un],n,!0),pr(),a=p.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=jh(e,t,a,n);break e}else if(a!==s){s=ra(Error(d(424)),t),or(s),t=jh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Yt=da(e.firstChild),Sn=t,gt=!0,kl=null,ca=!0,n=gd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),a===s){t=rl(e,t,n);break e}wn(e,t,a,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=qm(t.type,null,t.pendingProps,null))?t.memoizedState=n:gt||(n=t.type,e=t.pendingProps,a=Pu(at.current).createElement(n),a[Ut]=t,a[en]=e,Nn(a,n,e),tn(a),t.stateNode=a):t.memoizedState=qm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&gt&&(a=t.stateNode=km(t.type,t.pendingProps,at.current),Sn=t,ca=!0,s=Yt,$l(t.type)?(gf=s,Yt=da(a.firstChild)):Yt=s),wn(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&gt&&((s=a=Yt)&&(a=s0(a,t.type,t.pendingProps,ca),a!==null?(t.stateNode=a,Sn=t,Yt=da(a.firstChild),ca=!1,s=!0):s=!1),s||Rl(t)),je(t),s=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,a=i.children,df(s,i)?a=null:p!==null&&df(s,p)&&(t.flags|=32),t.memoizedState!==null&&(s=cc(e,t,vy,null,null,n),Br._currentValue=s),ku(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&gt&&((e=n=Yt)&&(n=i0(n,t.pendingProps,ca),n!==null?(t.stateNode=n,Sn=t,Yt=null,e=!0):e=!1),e||Rl(t)),null;case 13:return wh(e,t,n);case 4:return Gt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ms(t,null,a,n):wn(e,t,a,n),t.child;case 11:return mh(e,t,t.type,t.pendingProps,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Bl(t,t.type,a.value),wn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,As(t),s=jn(s),a=a(s),t.flags|=1,wn(e,t,a,n),t.child;case 14:return ph(e,t,t.type,t.pendingProps,n);case 15:return yh(e,t,t.type,t.pendingProps,n);case 19:return _h(e,t,n);case 31:return Ay(e,t,n);case 22:return gh(e,t,n,t.pendingProps);case 24:return As(t),a=jn(un),e===null?(s=ec(),s===null&&(s=qt,i=Wo(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},nc(t),Bl(t,un,s)):((e.lanes&n)!==0&&(ac(e,t),yr(t,null,null,n),pr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Bl(t,un,a)):(a=i.cache,Bl(t,un,a),a!==s.cache&&Po(t,[un],n,!0))),wn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ul(e){e.flags|=4}function Uc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Ih())e.flags|=8192;else throw Ts=xu,tc}else e.flags&=-16777217}function Ch(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qm(t))if(Ih())e.flags|=8192;else throw Ts=xu,tc}function Bu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wr():536870912,e.lanes|=t,Ni|=t)}function jr(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Dy(e,t,n){var a=t.pendingProps;switch(Vo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Xt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ll(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fi(t)?ul(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zo())),Xt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ul(t),i!==null?(Xt(t),Ch(t,i)):(Xt(t),Uc(t,s,null,a,n))):i?i!==e.memoizedState?(ul(t),Xt(t),Ch(t,i)):(Xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ul(t),Xt(t),Uc(t,s,e,a,n)),null;case 27:if(ft(t),n=at.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Xt(t),null}e=Me.current,fi(t)?id(t):(e=km(s,a,n),t.stateNode=e,ul(t))}return Xt(t),null;case 5:if(ft(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Xt(t),null}if(i=Me.current,fi(t))id(t);else{var p=Pu(at.current);switch(i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?p.createElement(s,{is:a.is}):p.createElement(s)}}i[Ut]=t,i[en]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=i;e:switch(Nn(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ul(t)}}return Xt(t),Uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ul(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=at.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=Sn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||wm(e.nodeValue,n)),e||Rl(t,!0)}else e=Pu(e).createTextNode(a),e[Ut]=t,t.stateNode=e}return Xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=fi(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Ut]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xt(t),e=!1}else n=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($n(t),t):($n(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Xt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=fi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Ut]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xt(t),s=!1}else s=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?($n(t),t):($n(t),null)}return $n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bu(t,t.updateQueue),Xt(t),null);case 4:return dn(),e===null&&rf(t.stateNode.containerInfo),Xt(t),null;case 10:return ll(t.type),Xt(t),null;case 19:if(te(nn),a=t.memoizedState,a===null)return Xt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)jr(a,!1);else{if($t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wu(e),i!==null){for(t.flags|=128,jr(a,!1),e=i.updateQueue,t.updateQueue=e,Bu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)td(n,e),n=n.sibling;return fe(nn,nn.current&1|2),gt&&nl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&lt()>Ku&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=wu(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Bu(t,e),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!gt)return Xt(t),null}else 2*lt()-a.renderingStartTime>Ku&&n!==536870912&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lt(),e.sibling=null,n=nn.current,fe(nn,s?n&1|2:n&1),gt&&nl(t,a.treeForkCount),e):(Xt(t),null);case 22:case 23:return $n(t),rc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),n=t.updateQueue,n!==null&&Bu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&te(Os),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ll(un),Xt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Ty(e,t){switch(Vo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ft(t),null;case 31:if(t.memoizedState!==null){if($n(t),t.alternate===null)throw Error(d(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(nn),null;case 4:return dn(),null;case 10:return ll(t.type),null;case 22:case 23:return $n(t),rc(),e!==null&&te(Os),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ll(un),null;case 25:return null;default:return null}}function Ah(e,t){switch(Vo(t),t.tag){case 3:ll(un),dn();break;case 26:case 27:case 5:ft(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&$n(t);break;case 13:$n(t);break;case 19:te(nn);break;case 10:ll(t.type);break;case 22:case 23:$n(t),rc(),e!==null&&te(Os);break;case 24:ll(un)}}function wr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,p=n.inst;a=i(),p.destroy=a}n=n.next}while(n!==s)}}catch(v){Dt(t,t.return,v)}}function Ql(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var p=a.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,s=t;var _=n,F=v;try{F()}catch(le){Dt(s,_,le)}}}a=a.next}while(a!==i)}}catch(le){Dt(t,t.return,le)}}function Oh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xd(t,n)}catch(a){Dt(e,e.return,a)}}}function Dh(e,t,n){n.props=ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Dt(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Dt(e,t,s)}}function qa(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Dt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Dt(e,t,s)}else n.current=null}function Th(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Dt(e,e.return,s)}}function Hc(e,t,n){try{var a=e.stateNode;Iy(a,e.type,n,t),a[en]=t}catch(s){Dt(e,e.return,s)}}function Mh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$l(e.type)||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&$l(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function qu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&$l(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function zh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nn(t,a,n),t[Ut]=e,t[en]=n}catch(i){Dt(e,e.return,i)}}var ol=!1,fn=!1,Qc=!1,kh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function My(e,t){if(e=e.containerInfo,cf=lo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,F=0,le=0,ie=e,J=null;t:for(;;){for(var ee;ie!==n||s!==0&&ie.nodeType!==3||(v=p+s),ie!==i||a!==0&&ie.nodeType!==3||(_=p+a),ie.nodeType===3&&(p+=ie.nodeValue.length),(ee=ie.firstChild)!==null;)J=ie,ie=ee;for(;;){if(ie===e)break t;if(J===n&&++F===s&&(v=p),J===i&&++le===a&&(_=p),(ee=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=ee}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(ff={focusedElem:e,selectionRange:n},lo=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var He=ks(n.type,s);e=a.getSnapshotBeforeUpdate(He,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Je){Dt(n,n.return,Je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function Rh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),a&4&&wr(5,n);break;case 1:if(fl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Dt(n,n.return,p)}else{var s=ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Dt(n,n.return,p)}}a&64&&Oh(n),a&512&&Nr(n,n.return);break;case 3:if(fl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xd(e,t)}catch(p){Dt(n,n.return,p)}}break;case 27:t===null&&a&4&&zh(n);case 26:case 5:fl(e,n),t===null&&a&4&&Th(n),a&512&&Nr(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),a&4&&Uh(e,n);break;case 13:fl(e,n),a&4&&Hh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ky.bind(null,n),r0(e,n))));break;case 22:if(a=n.memoizedState!==null||ol,!a){t=t!==null&&t.memoizedState!==null||fn,s=ol;var i=fn;ol=a,(fn=t)&&!i?dl(e,n,(n.subtreeFlags&8772)!==0):fl(e,n),ol=s,fn=i}break;case 30:break;default:fl(e,n)}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Bn=!1;function cl(e,t,n){for(n=n.child;n!==null;)qh(e,t,n),n=n.sibling}function qh(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Pt,n)}catch{}switch(n.tag){case 26:fn||qa(n,t),cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||qa(n,t);var a=Ft,s=Bn;$l(n.type)&&(Ft=n.stateNode,Bn=!1),cl(e,t,n),zr(n.stateNode),Ft=a,Bn=s;break;case 5:fn||qa(n,t);case 6:if(a=Ft,s=Bn,Ft=null,cl(e,t,n),Ft=a,Bn=s,Ft!==null)if(Bn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(n.stateNode)}catch(i){Dt(n,t,i)}else try{Ft.removeChild(n.stateNode)}catch(i){Dt(n,t,i)}break;case 18:Ft!==null&&(Bn?(e=Ft,Om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Mi(e)):Om(Ft,n.stateNode));break;case 4:a=Ft,s=Bn,Ft=n.stateNode.containerInfo,Bn=!0,cl(e,t,n),Ft=a,Bn=s;break;case 0:case 11:case 14:case 15:Ql(2,n,t),fn||Ql(4,n,t),cl(e,t,n);break;case 1:fn||(qa(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Dh(n,t,a)),cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,cl(e,t,n),fn=a;break;default:cl(e,t,n)}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mi(e)}catch(n){Dt(t,t.return,n)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mi(e)}catch(n){Dt(t,t.return,n)}}function zy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kh),t;default:throw Error(d(435,e.tag))}}function Uu(e,t){var n=zy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Qy.bind(null,e,a);a.then(s,s)}})}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if($l(v.type)){Ft=v.stateNode,Bn=!1;break e}break;case 5:Ft=v.stateNode,Bn=!1;break e;case 3:case 4:Ft=v.stateNode.containerInfo,Bn=!0;break e}v=v.return}if(Ft===null)throw Error(d(160));qh(i,p,s),Ft=null,Bn=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}var Sa=null;function Lh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(t,e),Un(e),a&4&&(Ql(3,e,e.return),wr(3,e),Ql(5,e,e.return));break;case 1:qn(t,e),Un(e),a&512&&(fn||n===null||qa(n,n.return)),a&64&&ol&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=Sa;if(qn(t,e),Un(e),a&512&&(fn||n===null||qa(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Xn]||i[Ut]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),Nn(i,a,n),i[Ut]=e,tn(i),a=i;break e;case"link":var p=Lm("link","href",s).get(a+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(i=p[v],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}i=s.createElement(a),Nn(i,a,n),s.head.appendChild(i);break;case"meta":if(p=Lm("meta","content",s).get(a+(n.content||""))){for(v=0;v<p.length;v++)if(i=p[v],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}i=s.createElement(a),Nn(i,a,n),s.head.appendChild(i);break;default:throw Error(d(468,a))}i[Ut]=e,tn(i),a=i}e.stateNode=a}else Km(s,e.type,e.stateNode);else e.stateNode=Hm(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Km(s,e.type,e.stateNode):Hm(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,n.memoizedProps)}break;case 27:qn(t,e),Un(e),a&512&&(fn||n===null||qa(n,n.return)),n!==null&&a&4&&Hc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qn(t,e),Un(e),a&512&&(fn||n===null||qa(n,n.return)),e.flags&32){s=e.stateNode;try{Ga(s,"")}catch(He){Dt(e,e.return,He)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Hc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Qc=!0);break;case 6:if(qn(t,e),Un(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(He){Dt(e,e.return,He)}}break;case 3:if(eo=null,s=Sa,Sa=Wu(t.containerInfo),qn(t,e),Sa=s,Un(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(t.containerInfo)}catch(He){Dt(e,e.return,He)}Qc&&(Qc=!1,Kh(e));break;case 4:a=Sa,Sa=Wu(e.stateNode.containerInfo),qn(t,e),Un(e),Sa=a;break;case 12:qn(t,e),Un(e);break;case 31:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 13:qn(t,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lu=lt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 22:s=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,F=ol,le=fn;if(ol=F||s,fn=le||_,qn(t,e),fn=le,ol=F,Un(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||_||ol||fn||Rs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(i=_.stateNode,s)p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var ie=_.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;v.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(He){Dt(_,_.return,He)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=s?"":_.memoizedProps}catch(He){Dt(_,_.return,He)}}}else if(t.tag===18){if(n===null){_=t;try{var ee=_.stateNode;s?Dm(ee,!0):Dm(_.stateNode,!1)}catch(He){Dt(_,_.return,He)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Uu(e,n))));break;case 19:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 30:break;case 21:break;default:qn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Mh(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var s=n.stateNode,i=Lc(e);qu(e,i,s);break;case 5:var p=n.stateNode;n.flags&32&&(Ga(p,""),n.flags&=-33);var v=Lc(e);qu(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,F=Lc(e);Kc(e,F,_);break;default:throw Error(d(161))}}catch(le){Dt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rh(e,t.alternate,t),t=t.sibling}function Rs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ql(4,t,t.return),Rs(t);break;case 1:qa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dh(t,t.return,n),Rs(t);break;case 27:zr(t.stateNode);case 26:case 5:qa(t,t.return),Rs(t);break;case 22:t.memoizedState===null&&Rs(t);break;case 30:Rs(t);break;default:Rs(t)}e=e.sibling}}function dl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,p=i.flags;switch(i.tag){case 0:case 11:case 15:dl(s,i,n),wr(4,i);break;case 1:if(dl(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(F){Dt(a,a.return,F)}if(a=i,s=a.updateQueue,s!==null){var v=a.stateNode;try{var _=s.shared.hiddenCallbacks;if(_!==null)for(s.shared.hiddenCallbacks=null,s=0;s<_.length;s++)bd(_[s],v)}catch(F){Dt(a,a.return,F)}}n&&p&64&&Oh(i),Nr(i,i.return);break;case 27:zh(i);case 26:case 5:dl(s,i,n),n&&a===null&&p&4&&Th(i),Nr(i,i.return);break;case 12:dl(s,i,n);break;case 31:dl(s,i,n),n&&p&4&&Uh(s,i);break;case 13:dl(s,i,n),n&&p&4&&Hh(s,i);break;case 22:i.memoizedState===null&&dl(s,i,n),Nr(i,i.return);break;case 30:break;default:dl(s,i,n)}t=t.sibling}}function Yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cr(n))}function Xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function ja(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,n,a),t=t.sibling}function Qh(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ja(e,t,n,a),s&2048&&wr(9,t);break;case 1:ja(e,t,n,a);break;case 3:ja(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(s&2048){ja(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,p=i.id,v=i.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Dt(t,t.return,_)}}else ja(e,t,n,a);break;case 31:ja(e,t,n,a);break;case 13:ja(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,p=t.alternate,t.memoizedState!==null?i._visibility&2?ja(e,t,n,a):_r(e,t):i._visibility&2?ja(e,t,n,a):(i._visibility|=2,Si(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Yc(p,t);break;case 24:ja(e,t,n,a),s&2048&&Xc(t.alternate,t);break;default:ja(e,t,n,a)}}function Si(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,p=t,v=n,_=a,F=p.flags;switch(p.tag){case 0:case 11:case 15:Si(i,p,v,_,s),wr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?Si(i,p,v,_,s):_r(i,p):(le._visibility|=2,Si(i,p,v,_,s)),s&&F&2048&&Yc(p.alternate,p);break;case 24:Si(i,p,v,_,s),s&&F&2048&&Xc(p.alternate,p);break;default:Si(i,p,v,_,s)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:_r(n,a),s&2048&&Yc(a.alternate,a);break;case 24:_r(n,a),s&2048&&Xc(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var Er=8192;function ji(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Yh(e,t,n),e=e.sibling}function Yh(e,t,n){switch(e.tag){case 26:ji(e,t,n),e.flags&Er&&e.memoizedState!==null&&x0(n,Sa,e.memoizedState,e.memoizedProps);break;case 5:ji(e,t,n);break;case 3:case 4:var a=Sa;Sa=Wu(e.stateNode.containerInfo),ji(e,t,n),Sa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,ji(e,t,n),Er=a):ji(e,t,n));break;default:ji(e,t,n)}}function Xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Vh(a,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gh(e),e=e.sibling}function Gh(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&Ql(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Cr(e);break;default:Cr(e)}}function Hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Vh(a,e)}Xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ql(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function Vh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Ql(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:cr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var s=a.sibling,i=a.return;if(Bh(a),a===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var ky={getCacheForType:function(e){var t=jn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return jn(un).controller.signal}},Ry=typeof WeakMap=="function"?WeakMap:Map,_t=0,qt=null,ot=null,ht=0,Ot=0,Jn=null,Yl=!1,wi=!1,Gc=!1,hl=0,$t=0,Xl=0,Bs=0,Vc=0,Pn=0,Ni=0,Ar=null,Hn=null,Fc=!1,Lu=0,Fh=0,Ku=1/0,Qu=null,Gl=null,mn=0,Vl=null,_i=null,ml=0,Zc=0,$c=null,Zh=null,Or=0,Jc=null;function Wn(){return(_t&2)!==0&&ht!==0?ht&-ht:X.T!==null?nf():cs()}function $h(){if(Pn===0)if((ht&536870912)===0||gt){var e=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),Pn=e}else Pn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Pn}function Ln(e,t,n){(e===qt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(Ei(e,0),Fl(e,ht,Pn,!1)),na(e,n),((_t&2)===0||e!==qt)&&(e===qt&&((_t&2)===0&&(Bs|=n),$t===4&&Fl(e,ht,Pn,!1)),Ua(e))}function Jh(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Qa(e,t),s=a?Uy(e,t):Wc(e,t,!0),i=a;do{if(s===0){wi&&!a&&Fl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!By(n)){s=Wc(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;s=Ar;var _=v.current.memoizedState.isDehydrated;if(_&&(Ei(v,p).flags|=256),p=Wc(v,p,!1),p!==2){if(Gc&&!_){v.errorRecoveryDisabledLanes|=i,Bs|=i,s=4;break e}i=Hn,Hn=s,i!==null&&(Hn===null?Hn=i:Hn.push.apply(Hn,i))}s=p}if(i=!1,s!==2)continue}}if(s===1){Ei(e,0),Fl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Fl(a,t,Pn,!Yl);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Lu+300-lt(),10<s)){if(Fl(a,t,Pn,!Yl),us(a,0,!0)!==0)break e;ml=t,a.timeoutHandle=Cm(Ph.bind(null,a,n,Hn,Qu,Fc,t,Pn,Bs,Ni,Yl,i,"Throttled",-0,0),s);break e}Ph(a,n,Hn,Qu,Fc,t,Pn,Bs,Ni,Yl,i,null,-0,0)}}break}while(!0);Ua(e)}function Ph(e,t,n,a,s,i,p,v,_,F,le,ie,J,ee){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Yh(t,i,ie);var He=(i&62914560)===i?Lu-lt():(i&4194048)===i?Fh-lt():0;if(He=v0(ie,He),He!==null){ml=i,e.cancelPendingCommit=He(sm.bind(null,e,t,i,n,a,s,p,v,_,le,ie,null,J,ee)),Fl(e,i,p,!F);return}}sm(e,t,i,n,a,s,p,v,_)}function By(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t,n,a){t&=~Vc,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-ke(s),p=1<<i;a[i]=-1,s&=~p}n!==0&&os(e,n,t)}function Yu(){return(_t&6)===0?(Dr(0),!1):!0}function Pc(){if(ot!==null){if(Ot===0)var e=ot.return;else e=ot,al=Cs=null,hc(e),yi=null,dr=0,e=ot;for(;e!==null;)Ah(e.alternate,e),e=e.return;ot=null}}function Ei(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,n0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ml=0,Pc(),qt=e,ot=n=tl(e.current,null),ht=t,Ot=0,Jn=null,Yl=!1,wi=Qa(e,t),Gc=!1,Ni=Pn=Vc=Bs=Xl=$t=0,Hn=Ar=null,Fc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-ke(a),i=1<<s;t|=e[s],a&=~i}return hl=t,et(),n}function Wh(e,t){nt=null,X.H=vr,t===pi||t===bu?(t=md(),Ot=3):t===tc?(t=md(),Ot=4):Ot=t===Oc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ot===null&&($t=1,Mu(e,ra(t,e.current)))}function Ih(){var e=Zn.current;return e===null?!0:(ht&4194048)===ht?fa===null:(ht&62914560)===ht||(ht&536870912)!==0?e===fa:!1}function em(){var e=X.H;return X.H=vr,e===null?vr:e}function tm(){var e=X.A;return X.A=ky,e}function Xu(){$t=4,Yl||(ht&4194048)!==ht&&Zn.current!==null||(wi=!0),(Xl&134217727)===0&&(Bs&134217727)===0||qt===null||Fl(qt,ht,Pn,!1)}function Wc(e,t,n){var a=_t;_t|=2;var s=em(),i=tm();(qt!==e||ht!==t)&&(Qu=null,Ei(e,t)),t=!1;var p=$t;e:do try{if(Ot!==0&&ot!==null){var v=ot,_=Jn;switch(Ot){case 8:Pc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var F=Ot;if(Ot=0,Jn=null,Ci(e,v,_,F),n&&wi){p=0;break e}break;default:F=Ot,Ot=0,Jn=null,Ci(e,v,_,F)}}qy(),p=$t;break}catch(le){Wh(e,le)}while(!0);return t&&e.shellSuspendCounter++,al=Cs=null,_t=a,X.H=s,X.A=i,ot===null&&(qt=null,ht=0,et()),p}function qy(){for(;ot!==null;)nm(ot)}function Uy(e,t){var n=_t;_t|=2;var a=em(),s=tm();qt!==e||ht!==t?(Qu=null,Ku=lt()+500,Ei(e,t)):wi=Qa(e,t);e:do try{if(Ot!==0&&ot!==null){t=ot;var i=Jn;t:switch(Ot){case 1:Ot=0,Jn=null,Ci(e,t,i,1);break;case 2:case 9:if(dd(i)){Ot=0,Jn=null,am(t);break}t=function(){Ot!==2&&Ot!==9||qt!==e||(Ot=7),Ua(e)},i.then(t,t);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:dd(i)?(Ot=0,Jn=null,am(t)):(Ot=0,Jn=null,Ci(e,t,i,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var v=ot;if(p?Qm(p):v.stateNode.complete){Ot=0,Jn=null;var _=v.sibling;if(_!==null)ot=_;else{var F=v.return;F!==null?(ot=F,Gu(F)):ot=null}break t}}Ot=0,Jn=null,Ci(e,t,i,5);break;case 6:Ot=0,Jn=null,Ci(e,t,i,6);break;case 8:Pc(),$t=6;break e;default:throw Error(d(462))}}Hy();break}catch(le){Wh(e,le)}while(!0);return al=Cs=null,X.H=a,X.A=s,_t=n,ot!==null?0:(qt=null,ht=0,et(),$t)}function Hy(){for(;ot!==null&&!xe();)nm(ot)}function nm(e){var t=Eh(e.alternate,e,hl);e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function am(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vh(n,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=vh(n,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:hc(t);default:Ah(n,t),t=ot=td(t,hl),t=Eh(n,t,hl)}e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function Ci(e,t,n,a){al=Cs=null,hc(t),yi=null,dr=0;var s=t.return;try{if(Cy(e,s,t,n,ht)){$t=1,Mu(e,ra(n,e.current)),ot=null;return}}catch(i){if(s!==null)throw ot=s,i;$t=1,Mu(e,ra(n,e.current)),ot=null;return}t.flags&32768?(gt||a===1?e=!0:wi||(ht&536870912)!==0?e=!1:(Yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),lm(t,e)):Gu(t)}function Gu(e){var t=e;do{if((t.flags&32768)!==0){lm(t,Yl);return}e=t.return;var n=Dy(t.alternate,t,hl);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);$t===0&&($t=5)}function lm(e,t){do{var n=Ty(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);$t=6,ot=null}function sm(e,t,n,a,s,i,p,v,_){e.cancelPendingCommit=null;do Vu();while(mn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Ye,Li(e,n,i,p,v,_),e===qt&&(ot=qt=null,ht=0),_i=t,Vl=e,ml=n,Zc=i,$c=s,Zh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(qe,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=X.T,X.T=null,s=re.p,re.p=2,p=_t,_t|=4;try{My(e,t,n)}finally{_t=p,re.p=s,X.T=a}}mn=1,im(),rm(),um()}}function im(){if(mn===1){mn=0;var e=Vl,t=_i,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var a=re.p;re.p=2;var s=_t;_t|=4;try{Lh(t,e);var i=ff,p=y(e.containerInfo),v=i.focusedElem,_=i.selectionRange;if(p!==v&&v&&v.ownerDocument&&h(v.ownerDocument.documentElement,v)){if(_!==null&&b(v)){var F=_.start,le=_.end;if(le===void 0&&(le=F),"selectionStart"in v)v.selectionStart=F,v.selectionEnd=Math.min(le,v.value.length);else{var ie=v.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var ee=J.getSelection(),He=v.textContent.length,Je=Math.min(_.start,He),Rt=_.end===void 0?Je:Math.min(_.end,He);!ee.extend&&Je>Rt&&(p=Rt,Rt=Je,Je=p);var L=f(v,Je),R=f(v,Rt);if(L&&R&&(ee.rangeCount!==1||ee.anchorNode!==L.node||ee.anchorOffset!==L.offset||ee.focusNode!==R.node||ee.focusOffset!==R.offset)){var V=ie.createRange();V.setStart(L.node,L.offset),ee.removeAllRanges(),Je>Rt?(ee.addRange(V),ee.extend(R.node,R.offset)):(V.setEnd(R.node,R.offset),ee.addRange(V))}}}}for(ie=[],ee=v;ee=ee.parentNode;)ee.nodeType===1&&ie.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ie.length;v++){var se=ie[v];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}lo=!!cf,ff=cf=null}finally{_t=s,re.p=a,X.T=n}}e.current=t,mn=2}}function rm(){if(mn===2){mn=0;var e=Vl,t=_i,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var a=re.p;re.p=2;var s=_t;_t|=4;try{Rh(e,t.alternate,t)}finally{_t=s,re.p=a,X.T=n}}mn=3}}function um(){if(mn===4||mn===3){mn=0,Fe();var e=Vl,t=_i,n=ml,a=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mn=5:(mn=0,_i=Vl=null,om(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Gl=null),vl(n),t=t.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Pt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=X.T,s=re.p,re.p=2,X.T=null;try{for(var i=e.onRecoverableError,p=0;p<a.length;p++){var v=a[p];i(v.value,{componentStack:v.stack})}}finally{X.T=t,re.p=s}}(ml&3)!==0&&Vu(),Ua(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===Jc?Or++:(Or=0,Jc=e):Or=0,Dr(0)}}function om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Vu(){return im(),rm(),um(),cm()}function cm(){if(mn!==5)return!1;var e=Vl,t=Zc;Zc=0;var n=vl(ml),a=X.T,s=re.p;try{re.p=32>n?32:n,X.T=null,n=$c,$c=null;var i=Vl,p=ml;if(mn=0,_i=Vl=null,ml=0,(_t&6)!==0)throw Error(d(331));var v=_t;if(_t|=4,Gh(i.current),Qh(i,i.current,p,n),_t=v,Dr(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Pt,i)}catch{}return!0}finally{re.p=s,X.T=a,om(e,t)}}function fm(e,t,n){t=ra(n,t),t=Ac(e.stateNode,t,2),e=Hl(e,t,2),e!==null&&(na(e,2),Ua(e))}function Dt(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gl===null||!Gl.has(a))){e=ra(n,e),n=dh(2),a=Hl(t,n,2),a!==null&&(hh(n,a,t,e),na(a,2),Ua(a));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ry;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Gc=!0,s.add(n),e=Ly.bind(null,e,t,n),t.then(e,e))}function Ly(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qt===e&&(ht&n)===n&&($t===4||$t===3&&(ht&62914560)===ht&&300>lt()-Lu?(_t&2)===0&&Ei(e,0):Vc|=n,Ni===ht&&(Ni=0)),Ua(e)}function dm(e,t){t===0&&(t=Wr()),e=Ct(e,t),e!==null&&(na(e,t),Ua(e))}function Ky(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dm(e,n)}function Qy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),dm(e,n)}function Yy(e,t){return ne(e,t)}var Fu=null,Ai=null,ef=!1,Zu=!1,tf=!1,Zl=0;function Ua(e){e!==Ai&&e.next===null&&(Ai===null?Fu=Ai=e:Ai=Ai.next=e),Zu=!0,ef||(ef=!0,Gy())}function Dr(e,t){if(!tf&&Zu){tf=!0;do for(var n=!1,a=Fu;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var p=a.suspendedLanes,v=a.pingedLanes;i=(1<<31-ke(42|e)+1)-1,i&=s&~(p&~v),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,ym(a,i))}else i=ht,i=us(a,a===qt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Qa(a,i)||(n=!0,ym(a,i));a=a.next}while(n);tf=!1}}function Xy(){hm()}function hm(){Zu=ef=!1;var e=0;Zl!==0&&t0()&&(e=Zl);for(var t=lt(),n=null,a=Fu;a!==null;){var s=a.next,i=mm(a,t);i===0?(a.next=null,n===null?Fu=s:n.next=s,s===null&&(Ai=n)):(n=a,(e!==0||(i&3)!==0)&&(Zu=!0)),a=s}mn!==0&&mn!==5||Dr(e),Zl!==0&&(Zl=0)}function mm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var p=31-ke(i),v=1<<p,_=s[p];_===-1?((v&n)===0||(v&a)!==0)&&(s[p]=zo(v,t)):_<=t&&(e.expiredLanes|=v),i&=~v}if(t=qt,n=ht,n=us(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ze(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Qa(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ze(a),vl(n)){case 2:case 8:n=Oe;break;case 32:n=qe;break;case 268435456:n=Lt;break;default:n=qe}return a=pm.bind(null,e),n=ne(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ze(a),e.callbackPriority=2,e.callbackNode=null,2}function pm(e,t){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var a=ht;return a=us(e,e===qt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Jh(e,a,t),mm(e,lt()),e.callbackNode!=null&&e.callbackNode===n?pm.bind(null,e):null)}function ym(e,t){if(Vu())return null;Jh(e,t,!0)}function Gy(){a0(function(){(_t&6)!==0?ne(Et,Xy):hm()})}function nf(){if(Zl===0){var e=hi;e===0&&(e=De,De<<=1,(De&261888)===0&&(De=256)),Zl=e}return Zl}function gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Vy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=gm((s[en]||null).action),p=a.submitter;p&&(t=(t=p[en]||null)?gm(t.formAction):p.getAttribute("formAction"),t!==null&&(i=t,p=null));var v=new Fs("action","action",null,a,s);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Zl!==0){var _=p?bm(s,p):new FormData(s);jc(n,{pending:!0,data:_,method:s.method,action:i},null,_)}}else typeof i=="function"&&(v.preventDefault(),_=p?bm(s,p):new FormData(s),jc(n,{pending:!0,data:_,method:s.method,action:i},i,_))},currentTarget:s}]})}}for(var af=0;af<Te.length;af++){var lf=Te[af],Fy=lf.toLowerCase(),Zy=lf[0].toUpperCase()+lf.slice(1);pe(Fy,"on"+Zy)}pe($,"onAnimationEnd"),pe(Q,"onAnimationIteration"),pe(ae,"onAnimationStart"),pe("dblclick","onDoubleClick"),pe("focusin","onFocus"),pe("focusout","onBlur"),pe(de,"onTransitionRun"),pe(Ee,"onTransitionStart"),pe(Ce,"onTransitionCancel"),pe(me,"onTransitionEnd"),Oa("onMouseEnter",["mouseout","mouseover"]),Oa("onMouseLeave",["mouseout","mouseover"]),Oa("onPointerEnter",["pointerout","pointerover"]),Oa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function xm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var p=a.length-1;0<=p;p--){var v=a[p],_=v.instance,F=v.currentTarget;if(v=v.listener,_!==i&&s.isPropagationStopped())break e;i=v,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}else for(p=0;p<a.length;p++){if(v=a[p],_=v.instance,F=v.currentTarget,v=v.listener,_!==i&&s.isPropagationStopped())break e;i=v,s.currentTarget=F;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}}}}function ct(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var a=e+"__bubble";n.has(a)||(vm(t,e,2,!1),n.add(a))}function sf(e,t,n){var a=0;t&&(a|=4),vm(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[$u]){e[$u]=!0,Ya.forEach(function(n){n!=="selectionchange"&&($y.has(n)||sf(n,!1,e),sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,sf("selectionchange",!1,t))}}function vm(e,t,n,a){switch($m(t)){case 2:var s=w0;break;case 8:s=N0;break;default:s=jf}n=s.bind(null,t,n,e),s=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function uf(e,t,n,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var v=a.stateNode.containerInfo;if(v===s)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===s)return;p=p.return}for(;v!==null;){if(p=Aa(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=i=p;continue e}v=v.parentNode}}a=a.return}wl(function(){var F=i,le=Gs(n),ie=[];e:{var J=Re.get(e);if(J!==void 0){var ee=Fs,He=e;switch(e){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":ee=ei;break;case"focusin":He="focus",ee=Cl;break;case"focusout":He="blur",ee=Cl;break;case"beforeblur":case"afterblur":ee=Cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=tr;break;case $:case Q:case ae:ee=au;break;case me:ee=nr;break;case"scroll":case"scrollend":ee=Zs;break;case"wheel":ee=ni;break;case"copy":case"cut":case"paste":ee=Al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=er;break;case"toggle":case"beforetoggle":ee=iu}var Je=(t&4)!==0,Rt=!Je&&(e==="scroll"||e==="scrollend"),L=Je?J!==null?J+"Capture":null:J;Je=[];for(var R=F,V;R!==null;){var se=R;if(V=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||V===null||L===null||(se=Za(R,L),se!=null&&Je.push(Mr(R,se,V))),Rt)break;R=R.return}0<Je.length&&(J=new ee(J,He,null,n,le),ie.push({event:J,listeners:Je}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&n!==la&&(He=n.relatedTarget||n.fromElement)&&(Aa(He)||He[Tn]))break e;if((ee||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(He=n.relatedTarget||n.toElement,ee=F,He=He?Aa(He):null,He!==null&&(Rt=x(He),Je=He.tag,He!==Rt||Je!==5&&Je!==27&&Je!==6)&&(He=null)):(ee=null,He=F),ee!==He)){if(Je=Js,se="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Je=er,se="onPointerLeave",L="onPointerEnter",R="pointer"),Rt=ee==null?J:Gn(ee),V=He==null?J:Gn(He),J=new Je(se,R+"leave",ee,n,le),J.target=Rt,J.relatedTarget=V,se=null,Aa(le)===F&&(Je=new Je(L,R+"enter",He,n,le),Je.target=V,Je.relatedTarget=Rt,se=Je),Rt=se,ee&&He)t:{for(Je=Jy,L=ee,R=He,V=0,se=L;se;se=Je(se))V++;se=0;for(var Xe=R;Xe;Xe=Je(Xe))se++;for(;0<V-se;)L=Je(L),V--;for(;0<se-V;)R=Je(R),se--;for(;V--;){if(L===R||R!==null&&L===R.alternate){Je=L;break t}L=Je(L),R=Je(R)}Je=null}else Je=null;ee!==null&&Sm(ie,J,ee,Je,!1),He!==null&&Rt!==null&&Sm(ie,Rt,He,Je,!0)}}e:{if(J=F?Gn(F):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var jt=Ns;else if(si(J))if(ia)jt=Tl;else{jt=el;var Ke=du}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?F&&Fi(F.elementType)&&(jt=Ns):jt=rr;if(jt&&(jt=jt(e,F))){ir(ie,jt,n,le);break e}Ke&&Ke(e,J,F),e==="focusout"&&F&&J.type==="number"&&F.memoizedProps.value!=null&&ys(J,"number",J.value)}switch(Ke=F?Gn(F):window,e){case"focusin":(si(Ke)||Ke.contentEditable==="true")&&(w=Ke,D=F,K=null);break;case"focusout":K=D=w=null;break;case"mousedown":T=!0;break;case"contextmenu":case"mouseup":case"dragend":T=!1,O(ie,n,le);break;case"selectionchange":if(j)break;case"keydown":case"keyup":O(ie,n,le)}var st;if(js)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Wa?sr(e,n)&&(mt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(mt="onCompositionStart");mt&&(ai&&n.locale!=="ko"&&(Wa||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Wa&&(st=_l()):(sa=le,Vs="value"in sa?sa.value:sa.textContent,Wa=!0)),Ke=Ju(F,mt),0<Ke.length&&(mt=new Is(mt,e,null,n,le),ie.push({event:mt,listeners:Ke}),st?mt.data=st:(st=uu(n),st!==null&&(mt.data=st)))),(st=Ho?ou(e,n):Lo(e,n))&&(mt=Ju(F,"onBeforeInput"),0<mt.length&&(Ke=new Is("onBeforeInput","beforeinput",null,n,le),ie.push({event:Ke,listeners:mt}),Ke.data=st)),Vy(ie,e,F,n,le)}xm(ie,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ju(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Za(e,n),s!=null&&a.unshift(Mr(e,s,i)),s=Za(e,t),s!=null&&a.push(Mr(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,t,n,a,s){for(var i=t._reactName,p=[];n!==null&&n!==a;){var v=n,_=v.alternate,F=v.stateNode;if(v=v.tag,_!==null&&_===a)break;v!==5&&v!==26&&v!==27||F===null||(_=F,s?(F=Za(n,i),F!=null&&p.unshift(Mr(n,F,_))):s||(F=Za(n,i),F!=null&&p.push(Mr(n,F,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Py=/\r\n?/g,Wy=/\u0000|\uFFFD/g;function jm(e){return(typeof e=="string"?e:""+e).replace(Py,`
`).replace(Wy,"")}function wm(e,t){return t=jm(t),jm(e)===t}function kt(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ga(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ga(e,""+a);break;case"className":ms(e,"class",a);break;case"tabIndex":ms(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,n,a);break;case"style":Vi(e,a,i);break;case"data":if(t!=="object"){ms(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&kt(e,t,"name",s.name,s,null),kt(e,t,"formEncType",s.formEncType,s,null),kt(e,t,"formMethod",s.formMethod,s,null),kt(e,t,"formTarget",s.formTarget,s,null)):(kt(e,t,"encType",s.encType,s,null),kt(e,t,"method",s.method,s,null),kt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=va(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=va(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),it(e,"popover",a);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Bo.get(n)||n,it(e,n,a))}}function of(e,t,n,a,s,i){switch(n){case"style":Vi(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ga(e,a):(typeof a=="number"||typeof a=="bigint")&&Ga(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ds.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[en]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):it(e,n,a)}}}function Nn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:kt(e,t,i,p,n,null)}}s&&kt(e,t,"srcSet",n.srcSet,n,null),a&&kt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var v=i=p=s=null,_=null,F=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":s=le;break;case"type":p=le;break;case"checked":_=le;break;case"defaultChecked":F=le;break;case"value":i=le;break;case"defaultValue":v=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,t));break;default:kt(e,t,a,le,n,null)}}Xs(e,i,v,_,F,p,s,!1);return;case"select":ct("invalid",e),a=p=i=null;for(s in n)if(n.hasOwnProperty(s)&&(v=n[s],v!=null))switch(s){case"value":i=v;break;case"defaultValue":p=v;break;case"multiple":a=v;default:kt(e,t,s,v,n,null)}t=i,n=p,e.multiple=!!a,t!=null?xa(e,!!a,t,!1):n!=null&&xa(e,!!a,n,!0);return;case"textarea":ct("invalid",e),i=s=a=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":a=v;break;case"defaultValue":s=v;break;case"children":i=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(d(91));break;default:kt(e,t,p,v,n,null)}gs(e,a,s,i);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":kt(e,t,_,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ct(Tr[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in n)if(n.hasOwnProperty(F)&&(a=n[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:kt(e,t,F,a,n,null)}return;default:if(Fi(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&of(e,t,le,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&kt(e,t,v,a,n,null))}function Iy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,p=null,v=null,_=null,F=null,le=null;for(ee in n){var ie=n[ee];if(n.hasOwnProperty(ee)&&ie!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":_=ie;default:a.hasOwnProperty(ee)||kt(e,t,ee,null,a,ie)}}for(var J in a){var ee=a[J];if(ie=n[J],a.hasOwnProperty(J)&&(ee!=null||ie!=null))switch(J){case"type":i=ee;break;case"name":s=ee;break;case"checked":F=ee;break;case"defaultChecked":le=ee;break;case"value":p=ee;break;case"defaultValue":v=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(d(137,t));break;default:ee!==ie&&kt(e,t,J,ee,a,ie)}}Da(e,p,v,_,F,le,i,s);return;case"select":ee=p=v=J=null;for(i in n)if(_=n[i],n.hasOwnProperty(i)&&_!=null)switch(i){case"value":break;case"multiple":ee=_;default:a.hasOwnProperty(i)||kt(e,t,i,null,a,_)}for(s in a)if(i=a[s],_=n[s],a.hasOwnProperty(s)&&(i!=null||_!=null))switch(s){case"value":J=i;break;case"defaultValue":v=i;break;case"multiple":p=i;default:i!==_&&kt(e,t,s,i,a,_)}t=v,n=p,a=ee,J!=null?xa(e,!!n,J,!1):!!a!=!!n&&(t!=null?xa(e,!!n,t,!0):xa(e,!!n,n?[]:"",!1));return;case"textarea":ee=J=null;for(v in n)if(s=n[v],n.hasOwnProperty(v)&&s!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:kt(e,t,v,null,a,s)}for(p in a)if(s=a[p],i=n[p],a.hasOwnProperty(p)&&(s!=null||i!=null))switch(p){case"value":J=s;break;case"defaultValue":ee=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&kt(e,t,p,s,a,i)}Gi(e,J,ee);return;case"option":for(var He in n)J=n[He],n.hasOwnProperty(He)&&J!=null&&!a.hasOwnProperty(He)&&(He==="selected"?e.selected=!1:kt(e,t,He,null,a,J));for(_ in a)J=a[_],ee=n[_],a.hasOwnProperty(_)&&J!==ee&&(J!=null||ee!=null)&&(_==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":kt(e,t,_,J,a,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in n)J=n[Je],n.hasOwnProperty(Je)&&J!=null&&!a.hasOwnProperty(Je)&&kt(e,t,Je,null,a,J);for(F in a)if(J=a[F],ee=n[F],a.hasOwnProperty(F)&&J!==ee&&(J!=null||ee!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(d(137,t));break;default:kt(e,t,F,J,a,ee)}return;default:if(Fi(t)){for(var Rt in n)J=n[Rt],n.hasOwnProperty(Rt)&&J!==void 0&&!a.hasOwnProperty(Rt)&&of(e,t,Rt,void 0,a,J);for(le in a)J=a[le],ee=n[le],!a.hasOwnProperty(le)||J===ee||J===void 0&&ee===void 0||of(e,t,le,J,a,ee);return}}for(var L in n)J=n[L],n.hasOwnProperty(L)&&J!=null&&!a.hasOwnProperty(L)&&kt(e,t,L,null,a,J);for(ie in a)J=a[ie],ee=n[ie],!a.hasOwnProperty(ie)||J===ee||J==null&&ee==null||kt(e,t,ie,J,a,ee)}function Nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,p=s.initiatorType,v=s.duration;if(i&&v&&Nm(p)){for(p=0,v=s.responseEnd,a+=1;a<n.length;a++){var _=n[a],F=_.startTime;if(F>v)break;var le=_.transferSize,ie=_.initiatorType;le&&Nm(ie)&&(_=_.responseEnd,p+=le*(_<v?1:(v-F)/(_-F)))}if(--a,t+=8*(i+p)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cf=null,ff=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function _m(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hf=null;function t0(){var e=window.event;return e&&e.type==="popstate"?e===hf?!1:(hf=e,!0):(hf=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(l0)}:Cm;function l0(e){setTimeout(function(){throw e})}function $l(e){return e==="head"}function Om(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Mi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")zr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zr(n);for(var i=n.firstChild;i;){var p=i.nextSibling,v=i.nodeName;i[Xn]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=p}}else n==="body"&&zr(e.ownerDocument.body);n=s}while(n);Mi(t)}function Dm(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mf(n),Qs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function s0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function i0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=da(e.nextSibling),e===null))return null;return e}function Tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gf=null;function Mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return da(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function km(e,t,n){switch(t=Pu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qs(e)}var ha=new Map,Rm=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pl=re.d;re.d={f:u0,r:o0,D:c0,C:f0,L:d0,m:h0,X:p0,S:m0,M:y0};function u0(){var e=pl.f(),t=Yu();return e||t}function o0(e){var t=Tt(e);t!==null&&t.tag===5&&t.type==="form"?Wd(t):pl.r(e)}var Oi=typeof document>"u"?null:document;function Bm(e,t,n){var a=Oi;if(a&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Rm.has(s)||(Rm.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Nn(t,"link",e),tn(t),a.head.appendChild(t)))}}function c0(e){pl.D(e),Bm("dns-prefetch",e,null)}function f0(e,t){pl.C(e,t),Bm("preconnect",e,t)}function d0(e,t,n){pl.L(e,t,n);var a=Oi;if(a&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var i=s;switch(t){case"style":i=Di(e);break;case"script":i=Ti(e)}ha.has(i)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ha.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(kr(i))||t==="script"&&a.querySelector(Rr(i))||(t=a.createElement("link"),Nn(t,"link",e),tn(t),a.head.appendChild(t)))}}function h0(e,t){pl.m(e,t);var n=Oi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ti(e)}if(!ha.has(i)&&(e=A({rel:"modulepreload",href:e},t),ha.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}a=n.createElement("link"),Nn(a,"link",e),tn(a),n.head.appendChild(a)}}}function m0(e,t,n){pl.S(e,t,n);var a=Oi;if(a&&e){var s=_n(a).hoistableStyles,i=Di(e);t=t||"default";var p=s.get(i);if(!p){var v={loading:0,preload:null};if(p=a.querySelector(kr(i)))v.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ha.get(i))&&bf(e,n);var _=p=a.createElement("link");tn(_),Nn(_,"link",e),_._p=new Promise(function(F,le){_.onload=F,_.onerror=le}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Iu(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:v},s.set(i,p)}}}function p0(e,t){pl.X(e,t);var n=Oi;if(n&&e){var a=_n(n).hoistableScripts,s=Ti(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0},t),(t=ha.get(s))&&xf(e,t),i=n.createElement("script"),tn(i),Nn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function y0(e,t){pl.M(e,t);var n=Oi;if(n&&e){var a=_n(n).hoistableScripts,s=Ti(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=A({src:e,async:!0,type:"module"},t),(t=ha.get(s))&&xf(e,t),i=n.createElement("script"),tn(i),Nn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function qm(e,t,n,a){var s=(s=at.current)?Wu(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Di(n.href),n=_n(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Di(n.href);var i=_n(s).hoistableStyles,p=i.get(e);if(p||(s=s.ownerDocument||s,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,p),(i=s.querySelector(kr(e)))&&!i._p&&(p.instance=i,p.state.loading=5),ha.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ha.set(e,n),i||g0(s,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ti(n),n=_n(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Di(e){return'href="'+pn(e)+'"'}function kr(e){return'link[rel="stylesheet"]['+e+"]"}function Um(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function g0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Nn(t,"link",n),tn(t),e.head.appendChild(t))}function Ti(e){return'[src="'+pn(e)+'"]'}function Rr(e){return"script[async]"+e}function Hm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,tn(a),a;var s=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),tn(a),Nn(a,"style",s),Iu(a,n.precedence,e),t.instance=a;case"stylesheet":s=Di(n.href);var i=e.querySelector(kr(s));if(i)return t.state.loading|=4,t.instance=i,tn(i),i;a=Um(n),(s=ha.get(s))&&bf(a,s),i=(e.ownerDocument||e).createElement("link"),tn(i);var p=i;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),Nn(i,"link",a),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=Ti(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,tn(s),s):(a=n,(s=ha.get(i))&&(a=A({},n),xf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),tn(s),Nn(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Iu(a,n.precedence,e));return t.instance}function Iu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,p=0;p<a.length;p++){var v=a[p];if(v.dataset.precedence===t)i=v;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Lm(e,t,n){if(eo===null){var a=new Map,s=eo=new Map;s.set(n,a)}else s=eo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Xn]||i[Ut]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var p=i.getAttribute(t)||"";p=e+p;var v=a.get(p);v?v.push(i):a.set(p,[i])}}return a}function Km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function b0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function x0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Di(a.href),i=t.querySelector(kr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,tn(i);return}i=t.ownerDocument||t,a=Um(a),(s=ha.get(s))&&bf(a,s),i=i.createElement("link"),tn(i);var p=i;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),Nn(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=to.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vf=0;function v0(e,t){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&vf===0&&(vf=62500*e0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>vf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(S0,e),no=null,to.call(e))}function S0(e,t){if(!(t.state.loading&4)){var n=no.get(e);if(n)var a=n.get(null);else{n=new Map,no.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var p=s[i];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}s=t.instance,p=s.getAttribute("data-precedence"),i=n.get(p)||a,i===a&&n.set(null,s),n.set(p,s),this.count++,a=to.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:Ne,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function j0(e,t,n,a,s,i,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ym(e,t,n,a,s,i,p,v,_,F,le,ie){return e=new j0(e,t,n,p,_,F,le,ie,v),t=1,i===!0&&(t|=24),i=Fn(3,null,null,t),e.current=i,i.stateNode=e,t=Wo(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},nc(i),e}function Xm(e){return e?(e=ui,e):ui}function Gm(e,t,n,a,s,i){s=Xm(s),a.context===null?a.context=s:a.pendingContext=s,a=Ul(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Hl(e,a,t),n!==null&&(Ln(n,e,t),mr(n,e,t))}function Vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sf(e,t){Vm(e,t),(e=e.alternate)&&Vm(e,t)}function Fm(e){if(e.tag===13||e.tag===31){var t=Ct(e,67108864);t!==null&&Ln(t,e,67108864),Sf(e,67108864)}}function Zm(e){if(e.tag===13||e.tag===31){var t=Wn();t=Ki(t);var n=Ct(e,t);n!==null&&Ln(n,e,t),Sf(e,t)}}var lo=!0;function w0(e,t,n,a){var s=X.T;X.T=null;var i=re.p;try{re.p=2,jf(e,t,n,a)}finally{re.p=i,X.T=s}}function N0(e,t,n,a){var s=X.T;X.T=null;var i=re.p;try{re.p=8,jf(e,t,n,a)}finally{re.p=i,X.T=s}}function jf(e,t,n,a){if(lo){var s=wf(a);if(s===null)uf(e,t,a,so,n),Jm(e,a);else if(E0(s,e,t,n,a))a.stopPropagation();else if(Jm(e,a),t&4&&-1<_0.indexOf(e)){for(;s!==null;){var i=Tt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var p=ga(i.pendingLanes);if(p!==0){var v=i;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-ke(p);v.entanglements[1]|=_,p&=~_}Ua(i),(_t&6)===0&&(Ku=lt()+500,Dr(0))}}break;case 31:case 13:v=Ct(i,2),v!==null&&Ln(v,i,2),Yu(),Sf(i,2)}if(i=wf(a),i===null&&uf(e,t,a,so,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else uf(e,t,a,null,n)}}function wf(e){return e=Gs(e),Nf(e)}var so=null;function Nf(e){if(so=null,e=Aa(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=N(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return so=e,null}function $m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case Et:return 2;case Oe:return 8;case qe:case pt:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var _f=!1,Jl=null,Pl=null,Wl=null,qr=new Map,Ur=new Map,Il=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jm(e,t){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Hr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Tt(t),t!==null&&Fm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E0(e,t,n,a,s){switch(t){case"focusin":return Jl=Hr(Jl,e,t,n,a,s),!0;case"dragenter":return Pl=Hr(Pl,e,t,n,a,s),!0;case"mouseover":return Wl=Hr(Wl,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,Hr(qr.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,Hr(Ur.get(i)||null,e,t,n,a,s)),!0}return!1}function Pm(e){var t=Aa(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,fs(e.priority,function(){Zm(n)});return}}else if(t===31){if(t=N(n),t!==null){e.blockedOn=t,fs(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);la=a,n.target.dispatchEvent(a),la=null}else return t=Tt(n),t!==null&&Fm(t),e.blockedOn=n,!1;t.shift()}return!0}function Wm(e,t,n){io(e)&&n.delete(t)}function C0(){_f=!1,Jl!==null&&io(Jl)&&(Jl=null),Pl!==null&&io(Pl)&&(Pl=null),Wl!==null&&io(Wl)&&(Wl=null),qr.forEach(Wm),Ur.forEach(Wm)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,_f||(_f=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,C0)))}var uo=null;function Im(e){uo!==e&&(uo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Nf(a||n)===null)continue;break}var i=Tt(n);i!==null&&(e.splice(t,3),t-=3,jc(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Mi(e){function t(_){return ro(_,e)}Jl!==null&&ro(Jl,e),Pl!==null&&ro(Pl,e),Wl!==null&&ro(Wl,e),qr.forEach(t),Ur.forEach(t);for(var n=0;n<Il.length;n++){var a=Il[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Pm(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],p=s[en]||null;if(typeof i=="function")p||Im(n);else if(p){var v=null;if(i&&i.hasAttribute("formAction")){if(s=i,p=i[en]||null)v=p.formAction;else if(Nf(s)!==null)continue}else v=p.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),Im(n)}}}function ep(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(p){return s=p})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ef(e){this._internalRoot=e}oo.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Wn();Gm(n,a,e,t,null,null)},oo.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),Yu(),t[Tn]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=cs();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Pm(e)}};var tp=c.version;if(tp!=="19.2.4")throw Error(d(527,tp,"19.2.4"));re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=C(t),e=e!==null?q(e):null,e=e===null?null:e.stateNode,e};var A0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{Pt=co.inject(A0),Wt=co}catch{}}return Lr.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",s=uh,i=oh,p=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Ym(e,1,!1,null,null,n,a,null,s,i,p,ep),e[Tn]=t.current,rf(e),new Ef(t)},Lr.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,s="",i=uh,p=oh,v=ch,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Ym(e,1,!0,t,n??null,a,s,_,i,p,v,ep),t.context=Xm(null),n=t.current,a=Wn(),a=Ki(a),s=Ul(a),s.callback=null,Hl(n,s,a),n=a,t.current.lanes=n,na(t,n),Ua(t),e[Tn]=t.current,rf(e),new oo(t)},Lr.version="19.2.4",Lr}var sp;function V0(){if(sp)return Cf.exports;sp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Cf.exports=G0(),Cf.exports}var F0=V0();const ip=r=>{let c;const m=new Set,d=(C,q)=>{const A=typeof C=="function"?C(c):C;if(!Object.is(A,c)){const P=c;c=q??(typeof A!="object"||A===null)?A:Object.assign({},c,A),m.forEach(be=>be(c,P))}},g=()=>c,N={setState:d,getState:g,getInitialState:()=>U,subscribe:C=>(m.add(C),()=>m.delete(C))},U=c=r(d,g,N);return N},Z0=(r=>r?ip(r):ip),$0=r=>r;function J0(r,c=$0){const m=fo.useSyncExternalStore(r.subscribe,fo.useCallback(()=>c(r.getState()),[r,c]),fo.useCallback(()=>c(r.getInitialState()),[r,c]));return fo.useDebugValue(m),m}const rp=r=>{const c=Z0(r),m=d=>J0(c,d);return Object.assign(m,c),m},P0=(r=>r?rp(r):rp);function W0(r,c){let m;try{m=r()}catch{return}return{getItem:g=>{var x;const S=U=>U===null?null:JSON.parse(U,void 0),N=(x=m.getItem(g))!=null?x:null;return N instanceof Promise?N.then(S):S(N)},setItem:(g,x)=>m.setItem(g,JSON.stringify(x,void 0)),removeItem:g=>m.removeItem(g)}}const Rf=r=>c=>{try{const m=r(c);return m instanceof Promise?m:{then(d){return Rf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return Rf(d)(m)}}}},I0=(r,c)=>(m,d,g)=>{let x={storage:W0(()=>window.localStorage),partialize:W=>W,version:0,merge:(W,oe)=>({...oe,...W}),...c},S=!1,N=0;const U=new Set,C=new Set;let q=x.storage;if(!q)return r((...W)=>{console.warn(`[zustand persist middleware] Unable to update item '${x.name}', the given storage is currently unavailable.`),m(...W)},d,g);const A=()=>{const W=x.partialize({...d()});return q.setItem(x.name,{state:W,version:x.version})},P=g.setState;g.setState=(W,oe)=>(P(W,oe),A());const be=r((...W)=>(m(...W),A()),d,g);g.getInitialState=()=>be;let Z;const ue=()=>{var W,oe;if(!q)return;const ce=++N;S=!1,U.forEach(he=>{var _e;return he((_e=d())!=null?_e:be)});const Ne=((oe=x.onRehydrateStorage)==null?void 0:oe.call(x,(W=d())!=null?W:be))||void 0;return Rf(q.getItem.bind(q))(x.name).then(he=>{if(he)if(typeof he.version=="number"&&he.version!==x.version){if(x.migrate){const _e=x.migrate(he.state,he.version);return _e instanceof Promise?_e.then(ve=>[!0,ve]):[!0,_e]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,he.state];return[!1,void 0]}).then(he=>{var _e;if(ce!==N)return;const[ve,Se]=he;if(Z=x.merge(Se,(_e=d())!=null?_e:be),m(Z,!0),ve)return A()}).then(()=>{ce===N&&(Ne?.(Z,void 0),Z=d(),S=!0,C.forEach(he=>he(Z)))}).catch(he=>{ce===N&&Ne?.(void 0,he)})};return g.persist={setOptions:W=>{x={...x,...W},W.storage&&(q=W.storage)},clearStorage:()=>{q?.removeItem(x.name)},getOptions:()=>x,rehydrate:()=>ue(),hasHydrated:()=>S,onHydrate:W=>(U.add(W),()=>{U.delete(W)}),onFinishHydration:W=>(C.add(W),()=>{C.delete(W)})},x.skipHydration||ue(),Z||be},eg=I0,ls=P0(eg(r=>({token:null,setToken:c=>r({token:c}),logout:()=>r({token:null})}),{name:"wisemark-auth",partialize:r=>({token:r.token})}));function Hp(r,c){return function(){return r.apply(c,arguments)}}const{toString:tg}=Object.prototype,{getPrototypeOf:Vf}=Object,{iterator:Eo,toStringTag:Lp}=Symbol,Co=(r=>c=>{const m=tg.call(c);return r[m]||(r[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),Na=r=>(r=r.toLowerCase(),c=>Co(c)===r),Ao=r=>c=>typeof c===r,{isArray:Hi}=Array,Ri=Ao("undefined");function Fr(r){return r!==null&&!Ri(r)&&r.constructor!==null&&!Ri(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Kp=Na("ArrayBuffer");function ng(r){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(r):c=r&&r.buffer&&Kp(r.buffer),c}const ag=Ao("string"),Kn=Ao("function"),Qp=Ao("number"),Zr=r=>r!==null&&typeof r=="object",lg=r=>r===!0||r===!1,po=r=>{if(Co(r)!=="object")return!1;const c=Vf(r);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Lp in r)&&!(Eo in r)},sg=r=>{if(!Zr(r)||Fr(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},ig=Na("Date"),rg=Na("File"),ug=Na("Blob"),og=Na("FileList"),cg=r=>Zr(r)&&Kn(r.pipe),fg=r=>{let c;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((c=Co(r))==="formdata"||c==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},dg=Na("URLSearchParams"),[hg,mg,pg,yg]=["ReadableStream","Request","Response","Headers"].map(Na),gg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $r(r,c,{allOwnKeys:m=!1}={}){if(r===null||typeof r>"u")return;let d,g;if(typeof r!="object"&&(r=[r]),Hi(r))for(d=0,g=r.length;d<g;d++)c.call(null,r[d],d,r);else{if(Fr(r))return;const x=m?Object.getOwnPropertyNames(r):Object.keys(r),S=x.length;let N;for(d=0;d<S;d++)N=x[d],c.call(null,r[N],N,r)}}function Yp(r,c){if(Fr(r))return null;c=c.toLowerCase();const m=Object.keys(r);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xp=r=>!Ri(r)&&r!==qs;function Bf(){const{caseless:r,skipUndefined:c}=Xp(this)&&this||{},m={},d=(g,x)=>{if(x==="__proto__"||x==="constructor"||x==="prototype")return;const S=r&&Yp(m,x)||x;po(m[S])&&po(g)?m[S]=Bf(m[S],g):po(g)?m[S]=Bf({},g):Hi(g)?m[S]=g.slice():(!c||!Ri(g))&&(m[S]=g)};for(let g=0,x=arguments.length;g<x;g++)arguments[g]&&$r(arguments[g],d);return m}const bg=(r,c,m,{allOwnKeys:d}={})=>($r(c,(g,x)=>{m&&Kn(g)?Object.defineProperty(r,x,{value:Hp(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,x,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),r),xg=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),vg=(r,c,m,d)=>{r.prototype=Object.create(c.prototype,d),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:c.prototype}),m&&Object.assign(r.prototype,m)},Sg=(r,c,m,d)=>{let g,x,S;const N={};if(c=c||{},r==null)return c;do{for(g=Object.getOwnPropertyNames(r),x=g.length;x-- >0;)S=g[x],(!d||d(S,r,c))&&!N[S]&&(c[S]=r[S],N[S]=!0);r=m!==!1&&Vf(r)}while(r&&(!m||m(r,c))&&r!==Object.prototype);return c},jg=(r,c,m)=>{r=String(r),(m===void 0||m>r.length)&&(m=r.length),m-=c.length;const d=r.indexOf(c,m);return d!==-1&&d===m},wg=r=>{if(!r)return null;if(Hi(r))return r;let c=r.length;if(!Qp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=r[c];return m},Ng=(r=>c=>r&&c instanceof r)(typeof Uint8Array<"u"&&Vf(Uint8Array)),_g=(r,c)=>{const d=(r&&r[Eo]).call(r);let g;for(;(g=d.next())&&!g.done;){const x=g.value;c.call(r,x[0],x[1])}},Eg=(r,c)=>{let m;const d=[];for(;(m=r.exec(c))!==null;)d.push(m);return d},Cg=Na("HTMLFormElement"),Ag=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),up=(({hasOwnProperty:r})=>(c,m)=>r.call(c,m))(Object.prototype),Og=Na("RegExp"),Gp=(r,c)=>{const m=Object.getOwnPropertyDescriptors(r),d={};$r(m,(g,x)=>{let S;(S=c(g,x,r))!==!1&&(d[x]=S||g)}),Object.defineProperties(r,d)},Dg=r=>{Gp(r,(c,m)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=r[m];if(Kn(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Tg=(r,c)=>{const m={},d=g=>{g.forEach(x=>{m[x]=!0})};return Hi(r)?d(r):d(String(r).split(c)),m},Mg=()=>{},zg=(r,c)=>r!=null&&Number.isFinite(r=+r)?r:c;function kg(r){return!!(r&&Kn(r.append)&&r[Lp]==="FormData"&&r[Eo])}const Rg=r=>{const c=new Array(10),m=(d,g)=>{if(Zr(d)){if(c.indexOf(d)>=0)return;if(Fr(d))return d;if(!("toJSON"in d)){c[g]=d;const x=Hi(d)?[]:{};return $r(d,(S,N)=>{const U=m(S,g+1);!Ri(U)&&(x[N]=U)}),c[g]=void 0,x}}return d};return m(r,0)},Bg=Na("AsyncFunction"),qg=r=>r&&(Zr(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),Vp=((r,c)=>r?setImmediate:c?((m,d)=>(qs.addEventListener("message",({source:g,data:x})=>{g===qs&&x===m&&d.length&&d.shift()()},!1),g=>{d.push(g),qs.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Kn(qs.postMessage)),Ug=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||Vp,Hg=r=>r!=null&&Kn(r[Eo]),I={isArray:Hi,isArrayBuffer:Kp,isBuffer:Fr,isFormData:fg,isArrayBufferView:ng,isString:ag,isNumber:Qp,isBoolean:lg,isObject:Zr,isPlainObject:po,isEmptyObject:sg,isReadableStream:hg,isRequest:mg,isResponse:pg,isHeaders:yg,isUndefined:Ri,isDate:ig,isFile:rg,isBlob:ug,isRegExp:Og,isFunction:Kn,isStream:cg,isURLSearchParams:dg,isTypedArray:Ng,isFileList:og,forEach:$r,merge:Bf,extend:bg,trim:gg,stripBOM:xg,inherits:vg,toFlatObject:Sg,kindOf:Co,kindOfTest:Na,endsWith:jg,toArray:wg,forEachEntry:_g,matchAll:Eg,isHTMLForm:Cg,hasOwnProperty:up,hasOwnProp:up,reduceDescriptors:Gp,freezeMethods:Dg,toObjectSet:Tg,toCamelCase:Ag,noop:Mg,toFiniteNumber:zg,findKey:Yp,global:qs,isContextDefined:Xp,isSpecCompliantForm:kg,toJSONObject:Rg,isAsyncFn:Bg,isThenable:qg,setImmediate:Vp,asap:Ug,isIterable:Hg};let Pe=class Fp extends Error{static from(c,m,d,g,x,S){const N=new Fp(c.message,m||c.code,d,g,x);return N.cause=c,N.name=c.name,S&&Object.assign(N,S),N}constructor(c,m,d,g,x){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),x&&(this.response=x,this.status=x.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};Pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Pe.ERR_BAD_OPTION="ERR_BAD_OPTION";Pe.ECONNABORTED="ECONNABORTED";Pe.ETIMEDOUT="ETIMEDOUT";Pe.ERR_NETWORK="ERR_NETWORK";Pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Pe.ERR_DEPRECATED="ERR_DEPRECATED";Pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Pe.ERR_CANCELED="ERR_CANCELED";Pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Pe.ERR_INVALID_URL="ERR_INVALID_URL";const Lg=null;function qf(r){return I.isPlainObject(r)||I.isArray(r)}function Zp(r){return I.endsWith(r,"[]")?r.slice(0,-2):r}function op(r,c,m){return r?r.concat(c).map(function(g,x){return g=Zp(g),!m&&x?"["+g+"]":g}).join(m?".":""):c}function Kg(r){return I.isArray(r)&&!r.some(qf)}const Qg=I.toFlatObject(I,{},null,function(c){return/^is[A-Z]/.test(c)});function Oo(r,c,m){if(!I.isObject(r))throw new TypeError("target must be an object");c=c||new FormData,m=I.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ue,W){return!I.isUndefined(W[ue])});const d=m.metaTokens,g=m.visitor||q,x=m.dots,S=m.indexes,U=(m.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(c);if(!I.isFunction(g))throw new TypeError("visitor must be a function");function C(Z){if(Z===null)return"";if(I.isDate(Z))return Z.toISOString();if(I.isBoolean(Z))return Z.toString();if(!U&&I.isBlob(Z))throw new Pe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(Z)||I.isTypedArray(Z)?U&&typeof Blob=="function"?new Blob([Z]):Buffer.from(Z):Z}function q(Z,ue,W){let oe=Z;if(Z&&!W&&typeof Z=="object"){if(I.endsWith(ue,"{}"))ue=d?ue:ue.slice(0,-2),Z=JSON.stringify(Z);else if(I.isArray(Z)&&Kg(Z)||(I.isFileList(Z)||I.endsWith(ue,"[]"))&&(oe=I.toArray(Z)))return ue=Zp(ue),oe.forEach(function(Ne,he){!(I.isUndefined(Ne)||Ne===null)&&c.append(S===!0?op([ue],he,x):S===null?ue:ue+"[]",C(Ne))}),!1}return qf(Z)?!0:(c.append(op(W,ue,x),C(Z)),!1)}const A=[],P=Object.assign(Qg,{defaultVisitor:q,convertValue:C,isVisitable:qf});function be(Z,ue){if(!I.isUndefined(Z)){if(A.indexOf(Z)!==-1)throw Error("Circular reference detected in "+ue.join("."));A.push(Z),I.forEach(Z,function(oe,ce){(!(I.isUndefined(oe)||oe===null)&&g.call(c,oe,I.isString(ce)?ce.trim():ce,ue,P))===!0&&be(oe,ue?ue.concat(ce):[ce])}),A.pop()}}if(!I.isObject(r))throw new TypeError("data must be an object");return be(r),c}function cp(r){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Ff(r,c){this._pairs=[],r&&Oo(r,this,c)}const $p=Ff.prototype;$p.append=function(c,m){this._pairs.push([c,m])};$p.toString=function(c){const m=c?function(d){return c.call(this,d,cp)}:cp;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Yg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jp(r,c,m){if(!c)return r;const d=m&&m.encode||Yg,g=I.isFunction(m)?{serialize:m}:m,x=g&&g.serialize;let S;if(x?S=x(c,g):S=I.isURLSearchParams(c)?c.toString():new Ff(c,g).toString(d),S){const N=r.indexOf("#");N!==-1&&(r=r.slice(0,N)),r+=(r.indexOf("?")===-1?"?":"&")+S}return r}class fp{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){I.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Zf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Xg=typeof URLSearchParams<"u"?URLSearchParams:Ff,Gg=typeof FormData<"u"?FormData:null,Vg=typeof Blob<"u"?Blob:null,Fg={isBrowser:!0,classes:{URLSearchParams:Xg,FormData:Gg,Blob:Vg},protocols:["http","https","file","blob","url","data"]},$f=typeof window<"u"&&typeof document<"u",Uf=typeof navigator=="object"&&navigator||void 0,Zg=$f&&(!Uf||["ReactNative","NativeScript","NS"].indexOf(Uf.product)<0),$g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jg=$f&&window.location.href||"http://localhost",Pg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$f,hasStandardBrowserEnv:Zg,hasStandardBrowserWebWorkerEnv:$g,navigator:Uf,origin:Jg},Symbol.toStringTag,{value:"Module"})),Dn={...Pg,...Fg};function Wg(r,c){return Oo(r,new Dn.classes.URLSearchParams,{visitor:function(m,d,g,x){return Dn.isNode&&I.isBuffer(m)?(this.append(d,m.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)},...c})}function Ig(r){return I.matchAll(/\w+|\[(\w*)]/g,r).map(c=>c[0]==="[]"?"":c[1]||c[0])}function eb(r){const c={},m=Object.keys(r);let d;const g=m.length;let x;for(d=0;d<g;d++)x=m[d],c[x]=r[x];return c}function Pp(r){function c(m,d,g,x){let S=m[x++];if(S==="__proto__")return!0;const N=Number.isFinite(+S),U=x>=m.length;return S=!S&&I.isArray(g)?g.length:S,U?(I.hasOwnProp(g,S)?g[S]=[g[S],d]:g[S]=d,!N):((!g[S]||!I.isObject(g[S]))&&(g[S]=[]),c(m,d,g[S],x)&&I.isArray(g[S])&&(g[S]=eb(g[S])),!N)}if(I.isFormData(r)&&I.isFunction(r.entries)){const m={};return I.forEachEntry(r,(d,g)=>{c(Ig(d),g,m,0)}),m}return null}function tb(r,c,m){if(I.isString(r))try{return(c||JSON.parse)(r),I.trim(r)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(r)}const Jr={transitional:Zf,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,x=I.isObject(c);if(x&&I.isHTMLForm(c)&&(c=new FormData(c)),I.isFormData(c))return g?JSON.stringify(Pp(c)):c;if(I.isArrayBuffer(c)||I.isBuffer(c)||I.isStream(c)||I.isFile(c)||I.isBlob(c)||I.isReadableStream(c))return c;if(I.isArrayBufferView(c))return c.buffer;if(I.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let N;if(x){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Wg(c,this.formSerializer).toString();if((N=I.isFileList(c))||d.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return Oo(N?{"files[]":c}:c,U&&new U,this.formSerializer)}}return x||g?(m.setContentType("application/json",!1),tb(c)):c}],transformResponse:[function(c){const m=this.transitional||Jr.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(I.isResponse(c)||I.isReadableStream(c))return c;if(c&&I.isString(c)&&(d&&!this.responseType||g)){const S=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(N){if(S)throw N.name==="SyntaxError"?Pe.from(N,Pe.ERR_BAD_RESPONSE,this,null,this.response):N}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dn.classes.FormData,Blob:Dn.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],r=>{Jr.headers[r]={}});const nb=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ab=r=>{const c={};let m,d,g;return r&&r.split(`
`).forEach(function(S){g=S.indexOf(":"),m=S.substring(0,g).trim().toLowerCase(),d=S.substring(g+1).trim(),!(!m||c[m]&&nb[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},dp=Symbol("internals");function Kr(r){return r&&String(r).trim().toLowerCase()}function yo(r){return r===!1||r==null?r:I.isArray(r)?r.map(yo):String(r)}function lb(r){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(r);)c[d[1]]=d[2];return c}const sb=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Df(r,c,m,d,g){if(I.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!I.isString(c)){if(I.isString(d))return c.indexOf(d)!==-1;if(I.isRegExp(d))return d.test(c)}}function ib(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function rb(r,c){const m=I.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(r,d+m,{value:function(g,x,S){return this[d].call(this,c,g,x,S)},configurable:!0})})}let Qn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function x(N,U,C){const q=Kr(U);if(!q)throw new Error("header name must be a non-empty string");const A=I.findKey(g,q);(!A||g[A]===void 0||C===!0||C===void 0&&g[A]!==!1)&&(g[A||U]=yo(N))}const S=(N,U)=>I.forEach(N,(C,q)=>x(C,q,U));if(I.isPlainObject(c)||c instanceof this.constructor)S(c,m);else if(I.isString(c)&&(c=c.trim())&&!sb(c))S(ab(c),m);else if(I.isObject(c)&&I.isIterable(c)){let N={},U,C;for(const q of c){if(!I.isArray(q))throw TypeError("Object iterator must return a key-value pair");N[C=q[0]]=(U=N[C])?I.isArray(U)?[...U,q[1]]:[U,q[1]]:q[1]}S(N,m)}else c!=null&&x(m,c,d);return this}get(c,m){if(c=Kr(c),c){const d=I.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return lb(g);if(I.isFunction(m))return m.call(this,g,d);if(I.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Kr(c),c){const d=I.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||Df(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function x(S){if(S=Kr(S),S){const N=I.findKey(d,S);N&&(!m||Df(d,d[N],N,m))&&(delete d[N],g=!0)}}return I.isArray(c)?c.forEach(x):x(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const x=m[d];(!c||Df(this,this[x],x,c,!0))&&(delete this[x],g=!0)}return g}normalize(c){const m=this,d={};return I.forEach(this,(g,x)=>{const S=I.findKey(d,x);if(S){m[S]=yo(g),delete m[x];return}const N=c?ib(x):String(x).trim();N!==x&&delete m[x],m[N]=yo(g),d[N]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return I.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&I.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[dp]=this[dp]={accessors:{}}).accessors,g=this.prototype;function x(S){const N=Kr(S);d[N]||(rb(g,S),d[N]=!0)}return I.isArray(c)?c.forEach(x):x(c),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Qn.prototype,({value:r},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>r,set(d){this[m]=d}}});I.freezeMethods(Qn);function Tf(r,c){const m=this||Jr,d=c||m,g=Qn.from(d.headers);let x=d.data;return I.forEach(r,function(N){x=N.call(m,x,g.normalize(),c?c.status:void 0)}),g.normalize(),x}function Wp(r){return!!(r&&r.__CANCEL__)}let Pr=class extends Pe{constructor(c,m,d){super(c??"canceled",Pe.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Ip(r,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?r(m):c(new Pe("Request failed with status code "+m.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function ub(r){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return c&&c[1]||""}function ob(r,c){r=r||10;const m=new Array(r),d=new Array(r);let g=0,x=0,S;return c=c!==void 0?c:1e3,function(U){const C=Date.now(),q=d[x];S||(S=C),m[g]=U,d[g]=C;let A=x,P=0;for(;A!==g;)P+=m[A++],A=A%r;if(g=(g+1)%r,g===x&&(x=(x+1)%r),C-S<c)return;const be=q&&C-q;return be?Math.round(P*1e3/be):void 0}}function cb(r,c){let m=0,d=1e3/c,g,x;const S=(C,q=Date.now())=>{m=q,g=null,x&&(clearTimeout(x),x=null),r(...C)};return[(...C)=>{const q=Date.now(),A=q-m;A>=d?S(C,q):(g=C,x||(x=setTimeout(()=>{x=null,S(g)},d-A)))},()=>g&&S(g)]}const So=(r,c,m=3)=>{let d=0;const g=ob(50,250);return cb(x=>{const S=x.loaded,N=x.lengthComputable?x.total:void 0,U=S-d,C=g(U),q=S<=N;d=S;const A={loaded:S,total:N,progress:N?S/N:void 0,bytes:U,rate:C||void 0,estimated:C&&N&&q?(N-S)/C:void 0,event:x,lengthComputable:N!=null,[c?"download":"upload"]:!0};r(A)},m)},hp=(r,c)=>{const m=r!=null;return[d=>c[0]({lengthComputable:m,total:r,loaded:d}),c[1]]},mp=r=>(...c)=>I.asap(()=>r(...c)),fb=Dn.hasStandardBrowserEnv?((r,c)=>m=>(m=new URL(m,Dn.origin),r.protocol===m.protocol&&r.host===m.host&&(c||r.port===m.port)))(new URL(Dn.origin),Dn.navigator&&/(msie|trident)/i.test(Dn.navigator.userAgent)):()=>!0,db=Dn.hasStandardBrowserEnv?{write(r,c,m,d,g,x,S){if(typeof document>"u")return;const N=[`${r}=${encodeURIComponent(c)}`];I.isNumber(m)&&N.push(`expires=${new Date(m).toUTCString()}`),I.isString(d)&&N.push(`path=${d}`),I.isString(g)&&N.push(`domain=${g}`),x===!0&&N.push("secure"),I.isString(S)&&N.push(`SameSite=${S}`),document.cookie=N.join("; ")},read(r){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hb(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function mb(r,c){return c?r.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):r}function ey(r,c,m){let d=!hb(c);return r&&(d||m==!1)?mb(r,c):c}const pp=r=>r instanceof Qn?{...r}:r;function Ls(r,c){c=c||{};const m={};function d(C,q,A,P){return I.isPlainObject(C)&&I.isPlainObject(q)?I.merge.call({caseless:P},C,q):I.isPlainObject(q)?I.merge({},q):I.isArray(q)?q.slice():q}function g(C,q,A,P){if(I.isUndefined(q)){if(!I.isUndefined(C))return d(void 0,C,A,P)}else return d(C,q,A,P)}function x(C,q){if(!I.isUndefined(q))return d(void 0,q)}function S(C,q){if(I.isUndefined(q)){if(!I.isUndefined(C))return d(void 0,C)}else return d(void 0,q)}function N(C,q,A){if(A in c)return d(C,q);if(A in r)return d(void 0,C)}const U={url:x,method:x,data:x,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:N,headers:(C,q,A)=>g(pp(C),pp(q),A,!0)};return I.forEach(Object.keys({...r,...c}),function(q){if(q==="__proto__"||q==="constructor"||q==="prototype")return;const A=I.hasOwnProp(U,q)?U[q]:g,P=A(r[q],c[q],q);I.isUndefined(P)&&A!==N||(m[q]=P)}),m}const ty=r=>{const c=Ls({},r);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:x,headers:S,auth:N}=c;if(c.headers=S=Qn.from(S),c.url=Jp(ey(c.baseURL,c.url,c.allowAbsoluteUrls),r.params,r.paramsSerializer),N&&S.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),I.isFormData(m)){if(Dn.hasStandardBrowserEnv||Dn.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(I.isFunction(m.getHeaders)){const U=m.getHeaders(),C=["content-type","content-length"];Object.entries(U).forEach(([q,A])=>{C.includes(q.toLowerCase())&&S.set(q,A)})}}if(Dn.hasStandardBrowserEnv&&(d&&I.isFunction(d)&&(d=d(c)),d||d!==!1&&fb(c.url))){const U=g&&x&&db.read(x);U&&S.set(g,U)}return c},pb=typeof XMLHttpRequest<"u",yb=pb&&function(r){return new Promise(function(m,d){const g=ty(r);let x=g.data;const S=Qn.from(g.headers).normalize();let{responseType:N,onUploadProgress:U,onDownloadProgress:C}=g,q,A,P,be,Z;function ue(){be&&be(),Z&&Z(),g.cancelToken&&g.cancelToken.unsubscribe(q),g.signal&&g.signal.removeEventListener("abort",q)}let W=new XMLHttpRequest;W.open(g.method.toUpperCase(),g.url,!0),W.timeout=g.timeout;function oe(){if(!W)return;const Ne=Qn.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),_e={data:!N||N==="text"||N==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:Ne,config:r,request:W};Ip(function(Se){m(Se),ue()},function(Se){d(Se),ue()},_e),W=null}"onloadend"in W?W.onloadend=oe:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(oe)},W.onabort=function(){W&&(d(new Pe("Request aborted",Pe.ECONNABORTED,r,W)),W=null)},W.onerror=function(he){const _e=he&&he.message?he.message:"Network Error",ve=new Pe(_e,Pe.ERR_NETWORK,r,W);ve.event=he||null,d(ve),W=null},W.ontimeout=function(){let he=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const _e=g.transitional||Zf;g.timeoutErrorMessage&&(he=g.timeoutErrorMessage),d(new Pe(he,_e.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,r,W)),W=null},x===void 0&&S.setContentType(null),"setRequestHeader"in W&&I.forEach(S.toJSON(),function(he,_e){W.setRequestHeader(_e,he)}),I.isUndefined(g.withCredentials)||(W.withCredentials=!!g.withCredentials),N&&N!=="json"&&(W.responseType=g.responseType),C&&([P,Z]=So(C,!0),W.addEventListener("progress",P)),U&&W.upload&&([A,be]=So(U),W.upload.addEventListener("progress",A),W.upload.addEventListener("loadend",be)),(g.cancelToken||g.signal)&&(q=Ne=>{W&&(d(!Ne||Ne.type?new Pr(null,r,W):Ne),W.abort(),W=null)},g.cancelToken&&g.cancelToken.subscribe(q),g.signal&&(g.signal.aborted?q():g.signal.addEventListener("abort",q)));const ce=ub(g.url);if(ce&&Dn.protocols.indexOf(ce)===-1){d(new Pe("Unsupported protocol "+ce+":",Pe.ERR_BAD_REQUEST,r));return}W.send(x||null)})},gb=(r,c)=>{const{length:m}=r=r?r.filter(Boolean):[];if(c||m){let d=new AbortController,g;const x=function(C){if(!g){g=!0,N();const q=C instanceof Error?C:this.reason;d.abort(q instanceof Pe?q:new Pr(q instanceof Error?q.message:q))}};let S=c&&setTimeout(()=>{S=null,x(new Pe(`timeout of ${c}ms exceeded`,Pe.ETIMEDOUT))},c);const N=()=>{r&&(S&&clearTimeout(S),S=null,r.forEach(C=>{C.unsubscribe?C.unsubscribe(x):C.removeEventListener("abort",x)}),r=null)};r.forEach(C=>C.addEventListener("abort",x));const{signal:U}=d;return U.unsubscribe=()=>I.asap(N),U}},bb=function*(r,c){let m=r.byteLength;if(m<c){yield r;return}let d=0,g;for(;d<m;)g=d+c,yield r.slice(d,g),d=g},xb=async function*(r,c){for await(const m of vb(r))yield*bb(m,c)},vb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const c=r.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},yp=(r,c,m,d)=>{const g=xb(r,c);let x=0,S,N=U=>{S||(S=!0,d&&d(U))};return new ReadableStream({async pull(U){try{const{done:C,value:q}=await g.next();if(C){N(),U.close();return}let A=q.byteLength;if(m){let P=x+=A;m(P)}U.enqueue(new Uint8Array(q))}catch(C){throw N(C),C}},cancel(U){return N(U),g.return()}},{highWaterMark:2})},gp=64*1024,{isFunction:ho}=I,Sb=(({Request:r,Response:c})=>({Request:r,Response:c}))(I.global),{ReadableStream:bp,TextEncoder:xp}=I.global,vp=(r,...c)=>{try{return!!r(...c)}catch{return!1}},jb=r=>{r=I.merge.call({skipUndefined:!0},Sb,r);const{fetch:c,Request:m,Response:d}=r,g=c?ho(c):typeof fetch=="function",x=ho(m),S=ho(d);if(!g)return!1;const N=g&&ho(bp),U=g&&(typeof xp=="function"?(Z=>ue=>Z.encode(ue))(new xp):async Z=>new Uint8Array(await new m(Z).arrayBuffer())),C=x&&N&&vp(()=>{let Z=!1;const ue=new m(Dn.origin,{body:new bp,method:"POST",get duplex(){return Z=!0,"half"}}).headers.has("Content-Type");return Z&&!ue}),q=S&&N&&vp(()=>I.isReadableStream(new d("").body)),A={stream:q&&(Z=>Z.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach(Z=>{!A[Z]&&(A[Z]=(ue,W)=>{let oe=ue&&ue[Z];if(oe)return oe.call(ue);throw new Pe(`Response type '${Z}' is not supported`,Pe.ERR_NOT_SUPPORT,W)})});const P=async Z=>{if(Z==null)return 0;if(I.isBlob(Z))return Z.size;if(I.isSpecCompliantForm(Z))return(await new m(Dn.origin,{method:"POST",body:Z}).arrayBuffer()).byteLength;if(I.isArrayBufferView(Z)||I.isArrayBuffer(Z))return Z.byteLength;if(I.isURLSearchParams(Z)&&(Z=Z+""),I.isString(Z))return(await U(Z)).byteLength},be=async(Z,ue)=>{const W=I.toFiniteNumber(Z.getContentLength());return W??P(ue)};return async Z=>{let{url:ue,method:W,data:oe,signal:ce,cancelToken:Ne,timeout:he,onDownloadProgress:_e,onUploadProgress:ve,responseType:Se,headers:Ie,withCredentials:Ve="same-origin",fetchOptions:rt}=ty(Z),Le=c||fetch;Se=Se?(Se+"").toLowerCase():"text";let $e=gb([ce,Ne&&Ne.toAbortSignal()],he),bt=null;const Ae=$e&&$e.unsubscribe&&(()=>{$e.unsubscribe()});let Ue;try{if(ve&&C&&W!=="get"&&W!=="head"&&(Ue=await be(Ie,oe))!==0){let E=new m(ue,{method:"POST",body:oe,duplex:"half"}),te;if(I.isFormData(oe)&&(te=E.headers.get("content-type"))&&Ie.setContentType(te),E.body){const[fe,Me]=hp(Ue,So(mp(ve)));oe=yp(E.body,gp,fe,Me)}}I.isString(Ve)||(Ve=Ve?"include":"omit");const X=x&&"credentials"in m.prototype,re={...rt,signal:$e,method:W.toUpperCase(),headers:Ie.normalize().toJSON(),body:oe,duplex:"half",credentials:X?Ve:void 0};bt=x&&new m(ue,re);let ye=await(x?Le(bt,rt):Le(ue,re));const we=q&&(Se==="stream"||Se==="response");if(q&&(_e||we&&Ae)){const E={};["status","statusText","headers"].forEach(Ze=>{E[Ze]=ye[Ze]});const te=I.toFiniteNumber(ye.headers.get("content-length")),[fe,Me]=_e&&hp(te,So(mp(_e),!0))||[];ye=new d(yp(ye.body,gp,fe,()=>{Me&&Me(),Ae&&Ae()}),E)}Se=Se||"text";let G=await A[I.findKey(A,Se)||"text"](ye,Z);return!we&&Ae&&Ae(),await new Promise((E,te)=>{Ip(E,te,{data:G,headers:Qn.from(ye.headers),status:ye.status,statusText:ye.statusText,config:Z,request:bt})})}catch(X){throw Ae&&Ae(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,Z,bt,X&&X.response),{cause:X.cause||X}):Pe.from(X,X&&X.code,Z,bt,X&&X.response)}}},wb=new Map,ny=r=>{let c=r&&r.env||{};const{fetch:m,Request:d,Response:g}=c,x=[d,g,m];let S=x.length,N=S,U,C,q=wb;for(;N--;)U=x[N],C=q.get(U),C===void 0&&q.set(U,C=N?new Map:jb(c)),q=C;return C};ny();const Jf={http:Lg,xhr:yb,fetch:{get:ny}};I.forEach(Jf,(r,c)=>{if(r){try{Object.defineProperty(r,"name",{value:c})}catch{}Object.defineProperty(r,"adapterName",{value:c})}});const Sp=r=>`- ${r}`,Nb=r=>I.isFunction(r)||r===null||r===!1;function _b(r,c){r=I.isArray(r)?r:[r];const{length:m}=r;let d,g;const x={};for(let S=0;S<m;S++){d=r[S];let N;if(g=d,!Nb(d)&&(g=Jf[(N=String(d)).toLowerCase()],g===void 0))throw new Pe(`Unknown adapter '${N}'`);if(g&&(I.isFunction(g)||(g=g.get(c))))break;x[N||"#"+S]=g}if(!g){const S=Object.entries(x).map(([U,C])=>`adapter ${U} `+(C===!1?"is not supported by the environment":"is not available in the build"));let N=m?S.length>1?`since :
`+S.map(Sp).join(`
`):" "+Sp(S[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return g}const ay={getAdapter:_b,adapters:Jf};function Mf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Pr(null,r)}function jp(r){return Mf(r),r.headers=Qn.from(r.headers),r.data=Tf.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ay.getAdapter(r.adapter||Jr.adapter,r)(r).then(function(d){return Mf(r),d.data=Tf.call(r,r.transformResponse,d),d.headers=Qn.from(d.headers),d},function(d){return Wp(d)||(Mf(r),d&&d.response&&(d.response.data=Tf.call(r,r.transformResponse,d.response),d.response.headers=Qn.from(d.response.headers))),Promise.reject(d)})}const ly="1.13.5",Do={};["object","boolean","number","function","string","symbol"].forEach((r,c)=>{Do[r]=function(d){return typeof d===r||"a"+(c<1?"n ":" ")+r}});const wp={};Do.transitional=function(c,m,d){function g(x,S){return"[Axios v"+ly+"] Transitional option '"+x+"'"+S+(d?". "+d:"")}return(x,S,N)=>{if(c===!1)throw new Pe(g(S," has been removed"+(m?" in "+m:"")),Pe.ERR_DEPRECATED);return m&&!wp[S]&&(wp[S]=!0,console.warn(g(S," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(x,S,N):!0}};Do.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function Eb(r,c,m){if(typeof r!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const d=Object.keys(r);let g=d.length;for(;g-- >0;){const x=d[g],S=c[x];if(S){const N=r[x],U=N===void 0||S(N,x,r);if(U!==!0)throw new Pe("option "+x+" must be "+U,Pe.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Pe("Unknown option "+x,Pe.ERR_BAD_OPTION)}}const go={assertOptions:Eb,validators:Do},ma=go.validators;let Us=class{constructor(c){this.defaults=c||{},this.interceptors={request:new fp,response:new fp}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const x=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?x&&!String(d.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+x):d.stack=x}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Ls(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:x}=m;d!==void 0&&go.assertOptions(d,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean),legacyInterceptorReqResOrdering:ma.transitional(ma.boolean)},!1),g!=null&&(I.isFunction(g)?m.paramsSerializer={serialize:g}:go.assertOptions(g,{encode:ma.function,serialize:ma.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),go.assertOptions(m,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=x&&I.merge(x.common,x[m.method]);x&&I.forEach(["delete","get","head","post","put","patch","common"],Z=>{delete x[Z]}),m.headers=Qn.concat(S,x);const N=[];let U=!0;this.interceptors.request.forEach(function(ue){if(typeof ue.runWhen=="function"&&ue.runWhen(m)===!1)return;U=U&&ue.synchronous;const W=m.transitional||Zf;W&&W.legacyInterceptorReqResOrdering?N.unshift(ue.fulfilled,ue.rejected):N.push(ue.fulfilled,ue.rejected)});const C=[];this.interceptors.response.forEach(function(ue){C.push(ue.fulfilled,ue.rejected)});let q,A=0,P;if(!U){const Z=[jp.bind(this),void 0];for(Z.unshift(...N),Z.push(...C),P=Z.length,q=Promise.resolve(m);A<P;)q=q.then(Z[A++],Z[A++]);return q}P=N.length;let be=m;for(;A<P;){const Z=N[A++],ue=N[A++];try{be=Z(be)}catch(W){ue.call(this,W);break}}try{q=jp.call(this,be)}catch(Z){return Promise.reject(Z)}for(A=0,P=C.length;A<P;)q=q.then(C[A++],C[A++]);return q}getUri(c){c=Ls(this.defaults,c);const m=ey(c.baseURL,c.url,c.allowAbsoluteUrls);return Jp(m,c.params,c.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(c){Us.prototype[c]=function(m,d){return this.request(Ls(d||{},{method:c,url:m,data:(d||{}).data}))}});I.forEach(["post","put","patch"],function(c){function m(d){return function(x,S,N){return this.request(Ls(N||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:x,data:S}))}}Us.prototype[c]=m(),Us.prototype[c+"Form"]=m(!0)});let Cb=class sy{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(x){m=x});const d=this;this.promise.then(g=>{if(!d._listeners)return;let x=d._listeners.length;for(;x-- >0;)d._listeners[x](g);d._listeners=null}),this.promise.then=g=>{let x;const S=new Promise(N=>{d.subscribe(N),x=N}).then(g);return S.cancel=function(){d.unsubscribe(x)},S},c(function(x,S,N){d.reason||(d.reason=new Pr(x,S,N),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new sy(function(g){c=g}),cancel:c}}};function Ab(r){return function(m){return r.apply(null,m)}}function Ob(r){return I.isObject(r)&&r.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hf).forEach(([r,c])=>{Hf[c]=r});function iy(r){const c=new Us(r),m=Hp(Us.prototype.request,c);return I.extend(m,Us.prototype,c,{allOwnKeys:!0}),I.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return iy(Ls(r,g))},m}const sn=iy(Jr);sn.Axios=Us;sn.CanceledError=Pr;sn.CancelToken=Cb;sn.isCancel=Wp;sn.VERSION=ly;sn.toFormData=Oo;sn.AxiosError=Pe;sn.Cancel=sn.CanceledError;sn.all=function(c){return Promise.all(c)};sn.spread=Ab;sn.isAxiosError=Ob;sn.mergeConfig=Ls;sn.AxiosHeaders=Qn;sn.formToJSON=r=>Pp(I.isHTMLForm(r)?new FormData(r):r);sn.getAdapter=ay.getAdapter;sn.HttpStatusCode=Hf;sn.default=sn;const{Axios:cv,AxiosError:fv,CanceledError:dv,isCancel:hv,CancelToken:mv,VERSION:pv,all:yv,Cancel:gv,isAxiosError:bv,spread:xv,toFormData:vv,AxiosHeaders:Sv,HttpStatusCode:jv,formToJSON:wv,getAdapter:Nv,mergeConfig:_v}=sn,vt=sn.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});vt.interceptors.request.use(r=>{const c=ls.getState().token;return c&&(r.headers.Authorization=`Token ${c}`),r.data instanceof FormData&&delete r.headers["Content-Type"],r});vt.interceptors.response.use(r=>r,r=>(r.response?.status===401&&ls.getState().logout(),Promise.reject(r)));const Bi={login:(r,c)=>vt.post("/auth/login/",{email:r,password:c}),register:r=>vt.post("/auth/register/",r),logout:()=>vt.post("/auth/logout/"),me:()=>vt.get("/auth/me/"),deleteAccount:()=>vt.post("/auth/me/delete/")},Yr={list:()=>vt.get("/projects/"),get:r=>vt.get(`/projects/${r}/`),create:r=>vt.post("/projects/",r),update:(r,c)=>vt.patch(`/projects/${r}/`,c),delete:r=>vt.delete(`/projects/${r}/`)},In={list:()=>vt.get("/lenses/"),get:r=>vt.get(`/lenses/${r}/`),create:r=>vt.post("/lenses/",r),update:(r,c)=>vt.patch(`/lenses/${r}/`,c),delete:r=>vt.delete(`/lenses/${r}/`),addColor:(r,c)=>vt.post(`/lenses/${r}/colors/`,c),updateColor:(r,c,m)=>vt.patch(`/lenses/${r}/colors/${c}/`,m),removeColor:(r,c)=>vt.delete(`/lenses/${r}/colors/${c}/`)},Db={get:()=>vt.get("/library/")},ln={list:r=>vt.get("/documents/",{params:r}),get:r=>vt.get(`/documents/${r}/`),create:r=>vt.post("/documents/",r),createWithFile:r=>vt.post("/documents/",r),getPdf:r=>vt.get(`/documents/${r}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(r,c)=>vt.post(`/documents/${r}/upload_pdf/`,c),update:(r,c)=>vt.patch(`/documents/${r}/`,c),delete:r=>vt.delete(`/documents/${r}/`),highlights:r=>vt.get(`/documents/${r}/highlights/`),createHighlight:(r,c)=>vt.post(`/documents/${r}/highlights/`,c),updateHighlight:(r,c,m)=>vt.patch(`/documents/${r}/highlights/${c}/`,m),deleteHighlight:(r,c)=>vt.delete(`/documents/${r}/highlights/${c}/`)},Tb={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Qe={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},ea={default:"border-slate-200"},Hs="min-h-screen p-6",ry="bg-white border-b border-slate-200",Xr="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",Qr="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",Np="w-px h-6 bg-slate-200",wa=Tb;function Mb(){const r=bl(),c=ls(A=>A.setToken),[m,d]=H.useState(""),[g,x]=H.useState(""),[S,N]=H.useState(""),[U,C]=H.useState(!1),q=async A=>{A.preventDefault(),N(""),C(!0);try{const{data:P}=await Bi.login(m,g);c(P.token),r("/",{replace:!0})}catch(P){N(P.response?.data?.detail||P.response?.data?.email?.[0]||"Login failed")}finally{C(!1)}};return o.jsx("div",{className:`${Hs} ${wa.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Qe.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Qe.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Qe.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>x(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Xr,children:U?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Qe.muted}`,children:["No account? ",o.jsx(Up,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function zb(){const r=bl(),c=ls(A=>A.setToken),[m,d]=H.useState(""),[g,x]=H.useState(""),[S,N]=H.useState(""),[U,C]=H.useState(!1),q=async A=>{A.preventDefault(),N(""),C(!0);try{await Bi.register({email:m,password:g});const{data:P}=await Bi.login(m,g);c(P.token),r("/",{replace:!0})}catch(P){const be=P.response?.data;N(be?.email?.[0]||be?.password?.[0]||"Registration failed")}finally{C(!1)}};return o.jsx("div",{className:`${Hs} ${wa.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Qe.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:q,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Qe.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:A=>d(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Qe.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:A=>x(A.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Xr,children:U?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Qe.muted}`,children:["Already have an account? ",o.jsx(Up,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const uy=(...r)=>r.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const kb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Rb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const _p=r=>{const c=Rb(r);return c.charAt(0).toUpperCase()+c.slice(1)};var Bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qb=r=>{for(const c in r)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const Ub=H.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:x,iconNode:S,...N},U)=>H.createElement("svg",{ref:U,...Bb,width:c,height:c,stroke:r,strokeWidth:d?Number(m)*24/Number(c):m,className:uy("lucide",g),...!x&&!qb(N)&&{"aria-hidden":"true"},...N},[...S.map(([C,q])=>H.createElement(C,q)),...Array.isArray(x)?x:[x]]));const Ht=(r,c)=>{const m=H.forwardRef(({className:d,...g},x)=>H.createElement(Ub,{ref:x,iconNode:c,className:uy(`lucide-${kb(_p(r))}`,`lucide-${r}`,d),...g}));return m.displayName=_p(r),m};const Hb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pf=Ht("arrow-left",Hb);const Lb=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Kb=Ht("bookmark",Lb);const Qb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Yb=Ht("braces",Qb);const Xb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gb=Ht("chart-column",Xb);const Vb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jo=Ht("check",Vb);const Fb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bo=Ht("chevron-down",Fb);const Zb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gr=Ht("chevron-right",Zb);const $b=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Wf=Ht("copy",$b);const Jb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Pb=Ht("file-down",Jb);const Wb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Ib=Ht("file-stack",Wb);const ex=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Ht("file-text",ex);const tx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lf=Ht("folder-open",tx);const nx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ya=Ht("loader-circle",nx);const ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lx=Ht("log-out",ax);const sx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oy=Ht("palette",sx);const ix=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],rx=Ht("panel-right-close",ix);const ux=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],ox=Ht("panel-right-open",ux);const cx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],To=Ht("pencil",cx);const fx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ep=Ht("plus",fx);const dx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vr=Ht("search",dx);const hx=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],mx=Ht("settings-2",hx);const px=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ss=Ht("trash-2",px);const yx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wo=Ht("upload",yx);const gx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=Ht("x",gx);const bx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],xx=Ht("zoom-in",bx);const vx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Sx=Ht("zoom-out",vx);function Mo({showBack:r=!1,backTo:c="/app"}){const m=bl(),d=k0(),g=ls(C=>C.logout),{data:x}=kn({queryKey:["me"],queryFn:async()=>(await Bi.me()).data}),S=(x?.email?.[0]||x?.username?.[0]||"?").toUpperCase(),N=()=>{g(),m("/login",{replace:!0})},U=(C,q)=>{const A=d.pathname===C||C==="/app"&&d.pathname==="/app";return o.jsx("button",{type:"button",onClick:()=>m(C),className:`text-sm font-medium px-3 py-1.5 rounded-lg transition-colors ${A?"text-slate-900 bg-slate-100":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"}`,style:{fontFamily:"'DM Sans', sans-serif"},children:q})};return o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between shrink-0 sticky top-0 z-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[r&&o.jsx("button",{type:"button",onClick:()=>m(c),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsxs("button",{type:"button",onClick:()=>m("/app"),className:"flex items-center gap-2 hover:opacity-90 transition-opacity",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[U("/app","Projects"),U("/app/library","Library"),o.jsx("button",{type:"button",onClick:N,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(lx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>m("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:S})]})]})}const Cp=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],zi=5,Ap=3;function cy(){const r=Ui(),[c,m]=H.useState(0),[d,g]=H.useState(""),[x,S]=H.useState([]),[N,U]=H.useState(null),[C,q]=H.useState(""),[A,P]=H.useState(null),[be,Z]=H.useState(null),[ue,W]=H.useState(null),[oe,ce]=H.useState(""),[Ne,he]=H.useState(null),[_e,ve]=H.useState(""),{data:Se=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:E}=await In.list();return E}}),Ie=Se.filter(E=>!E.is_system),Ve=()=>{m(0),g(""),S([]),U(null),q("")},rt=On({mutationFn:E=>In.create(E),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Ve()}}),Le=On({mutationFn:E=>In.delete(E),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),$e=On({mutationFn:({lensId:E,data:te})=>In.addColor(E,te),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Z(null),W(null),ce("")}}),bt=On({mutationFn:({lensId:E,colorId:te})=>In.removeColor(E,te),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),Ae=On({mutationFn:({lensId:E,colorId:te,displayName:fe})=>In.updateColor(E,te,{display_name:fe}),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),he(null),ve("")}}),Ue=()=>{!be||!ue||!oe.trim()||$e.mutate({lensId:be,data:{key:`custom_${Date.now()}`,display_name:oe.trim(),hex:ue}})},X=new Set(x.map(E=>E.hex.toLowerCase())),re=Cp.filter(E=>!X.has(E.toLowerCase())),ye=()=>{!N||!C.trim()||(S(E=>[...E,{key:`color_${Date.now()}_${E.length}`,display_name:C.trim(),hex:N}]),U(null),q(""))},we=E=>{S(te=>te.filter((fe,Me)=>Me!==E))},G=()=>{!d.trim()||x.length<1||rt.mutate({name:d.trim(),colors:x})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(oy,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",zi," colour categories. You can create up to ",Ap," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:Se.map(E=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:E.name}),E.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!E.is_system&&o.jsx("button",{type:"button",onClick:()=>P(E),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(E.colors??[]).map(te=>{const fe=Ne?.lensId===E.id&&Ne?.colorId===te.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:te.hex}}),fe?o.jsx("input",{type:"text",value:_e,onChange:Me=>ve(Me.target.value),onBlur:()=>{const Me=_e.trim();Me&&Me!==te.display_name?Ae.mutate({lensId:E.id,colorId:te.id,displayName:Me}):(he(null),ve(""))},onKeyDown:Me=>{if(Me.key==="Enter"){const Ze=_e.trim();Ze&&Ae.mutate({lensId:E.id,colorId:te.id,displayName:Ze})}Me.key==="Escape"&&(he(null),ve(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{E.is_system||(he({lensId:E.id,colorId:te.id}),ve(te.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${E.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:te.display_name}),!E.is_system&&(E.colors?.length??0)>1&&!fe&&o.jsx("button",{type:"button",onClick:Me=>{Me.stopPropagation(),bt.mutate({lensId:E.id,colorId:te.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(as,{className:"w-3 h-3",strokeWidth:2.5})})]},te.id)}),!E.is_system&&(E.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!E.is_system&&(E.colors?.length??0)<zi&&o.jsx("button",{type:"button",onClick:()=>{Z(E.id),W(null),ce("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(Ep,{className:"w-3 h-3",strokeWidth:2.5})})]})]},E.id))}),Ie.length<Ap&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(Ep,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!rt.isPending&&Ve(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:E=>E.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:E=>g(E.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:Ve,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",x.length,"/",zi,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",zi," colours and give each a label."]}),x.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:x.map((E,te)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:E.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:E.display_name}),o.jsx("button",{type:"button",onClick:()=>we(te),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]},te))}),x.length<zi&&o.jsx(o.Fragment,{children:N?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:N}}),o.jsx("input",{type:"text",value:C,onChange:E=>q(E.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&ye()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:ye,disabled:!C.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",x.length+1," of ",zi]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(E=>o.jsx("button",{type:"button",onClick:()=>{U(E),q("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:E}},E))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),U(null),q("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:G,disabled:x.length<1||rt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:rt.isPending?"Creating":"Create lens"})]})]})]})}),be&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!$e.isPending&&Z(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:E=>E.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ue?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ue}}),o.jsx("input",{type:"text",value:oe,onChange:E=>ce(E.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:E=>{E.key==="Enter"&&Ue()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const E=Se.find(fe=>fe.id===be),te=new Set((E?.colors??[]).map(fe=>fe.hex.toLowerCase()));return Cp.filter(fe=>!te.has(fe.toLowerCase()))})().map(E=>o.jsx("button",{type:"button",onClick:()=>W(E),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:E}},E))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{ue?(W(null),ce("")):Z(null)},disabled:$e.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ue?"Back":"Cancel"}),ue&&o.jsx("button",{type:"button",onClick:Ue,disabled:!oe.trim()||$e.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:$e.isPending?"Adding":"Add"})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Le.isPending&&P(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:E=>E.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:A.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>P(null),disabled:Le.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{Le.mutate(A.id,{onSuccess:()=>P(null)})},disabled:Le.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Le.isPending?"Deleting":"Delete lens"})]})]})})]})}const yl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function jx(r){if(!r)return"";const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:x<24?`${x} hour${x===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function wx({project:r,onOpen:c}){const[m,d]=H.useState(!1),g=r.document_count??0,x=r.annotation_count??0,S=r.color&&yl.includes(r.color)?r.color:yl[r.id%yl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(r.id),role:"button",tabIndex:0,onKeyDown:N=>N.key==="Enter"&&c(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:jx(r.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:x>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[x," note",x!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Gr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function Nx({onClose:r,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,x]=H.useState(""),[S,N]=H.useState(yl[d%yl.length]),U=()=>{const C=g.trim();C&&(c(C,S),x(""),N(yl[d%yl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:C=>C.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:C=>x(C.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:yl.map(C=>o.jsx("button",{type:"button",onClick:()=>N(C),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:C,borderColor:S===C?"#1e293b":"transparent",outline:S===C?"2px solid #fff":"none",outlineOffset:-4}},C))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:U,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function _x(){const r=bl(),c=Ui(),[m,d]=H.useState(!1),[g,x]=H.useState(!1),[S,N]=H.useState(""),{data:U}=kn({queryKey:["me"],queryFn:async()=>{const{data:oe}=await Bi.me();return oe}}),{data:C,isLoading:q}=kn({queryKey:["projects"],queryFn:async()=>{const{data:oe}=await Yr.list();return oe}}),A=Array.isArray(C)?C:C?.results??[],P=A.filter(oe=>oe.name.toLowerCase().includes(S.toLowerCase())),be=A.reduce((oe,ce)=>oe+(ce.document_count??0),0),Z=A.reduce((oe,ce)=>oe+(ce.annotation_count??0),0),ue=On({mutationFn:({name:oe,color:ce})=>Yr.create({name:oe.trim(),color:ce}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),d(!1)}}),W=(oe,ce)=>{ue.mutate({name:oe,color:ce})};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsx(Mo,{}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>d(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>r("/app/library"),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Vr,{className:"w-4 h-4"}),"Library"]}),o.jsxs("button",{type:"button",onClick:()=>x(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(oy,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[A.length," project",A.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[be," document",be!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[Z," annotation",Z!==1?"s":""]})]}),A.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:S,onChange:oe=>N(oe.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),q?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:P.map(oe=>o.jsx(wx,{project:oe,onOpen:ce=>r(`/project/${ce}`)},oe.id))}),!q&&P.length===0&&S&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',S,'"']}),!q&&A.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),m&&o.jsx(Nx,{onClose:()=>d(!1),onCreate:W,isPending:ue.isPending,defaultColorIndex:A.length%yl.length}),g&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>x(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:oe=>oe.stopPropagation(),children:o.jsx(cy,{})})})]})}var xo={exports:{}},Ex=xo.exports,Op;function Cx(){return Op||(Op=1,(function(r,c){((m,d)=>{r.exports=d()})(Ex,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var x=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:R0,S=Object.keys,N=Array.isArray;function U(l,u){return typeof u=="object"&&S(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||x.Promise||(x.Promise=Promise);var C=Object.getPrototypeOf,q={}.hasOwnProperty;function A(l,u){return q.call(l,u)}function P(l,u){typeof u=="function"&&(u=u(C(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(u).forEach(function(f){Z(l,f,u[f])})}var be=Object.defineProperty;function Z(l,u,f,h){be(l,u,U(f&&A(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function ue(l){return{from:function(u){return l.prototype=Object.create(u.prototype),Z(l.prototype,"constructor",l),{extend:P.bind(null,l.prototype)}}}}var W=Object.getOwnPropertyDescriptor,oe=[].slice;function ce(l,u,f){return oe.call(l,u,f)}function Ne(l,u){return u(l)}function he(l){if(!l)throw new Error("Assertion Failed")}function _e(l){x.setImmediate?setImmediate(l):setTimeout(l,0)}function ve(l,u){if(typeof u=="string"&&A(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=ve(l,u[h]);f.push(b)}return f}var j,w=u.indexOf(".");return w===-1||(j=l[u.substr(0,w)])==null?void 0:ve(j,u.substr(w+1))}function Se(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){he(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)Se(l,u[h],f[h])}else{var b,j,w=u.indexOf(".");w!==-1?(b=u.substr(0,w),(w=u.substr(w+1))===""?f===void 0?N(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:Se(j=(j=l[b])&&A(l,b)?j:l[b]={},w,f)):f===void 0?N(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ie(l){var u,f={};for(u in l)A(l,u)&&(f[u]=l[u]);return f}var Ve=[].concat;function rt(l){return Ve.apply([],l)}var te="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(rt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return x[l]}),Le=new Set(te.map(function(l){return x[l]})),$e=null;function bt(l){return $e=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=$e.get(f);if(h)return h;if(N(f)){h=[],$e.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(Le.has(f.constructor))h=f;else{var j,w=C(f);for(j in h=w===Object.prototype?{}:Object.create(w),$e.set(f,h),f)A(f,j)&&(h[j]=u(f[j]))}return h})(l),$e=null,l}var Ae={}.toString;function Ue(l){return Ae.call(l).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof X=="symbol"?function(l){var u;return l!=null&&(u=l[X])&&u.apply(l)}:function(){return null};function ye(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var we={};function G(l){var u,f,h,y;if(arguments.length===1){if(N(l))return l.slice();if(this===we&&typeof l=="string")return[l];if(y=re(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var E=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},te=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(te),fe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(l,u){this.name=l,this.message=u}function Ze(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function at(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=Ze(l,u)}function St(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=Ze(l,this.failures)}ue(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ue(at).from(Me),ue(St).from(Me);var Gt=Et.reduce(function(l,u){return l[u]=u+"Error",l},{}),dn=Me,je=Et.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=fe[u]||f,this.inner=null)}return ue(h).from(dn),l[u]=h,l},{}),ft=(je.Syntax=SyntaxError,je.Type=TypeError,je.Range=RangeError,te.reduce(function(l,u){return l[u+"Error"]=je[u],l},{}));te=Et.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=je[u]),l},{});function Ge(){}function dt(l){return l}function Vt(l,u){return l==null||l===dt?u:function(f){return u(l(f))}}function At(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Yn(l,u){return l===Ge?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?At(h,this.onsuccess):h),y&&(this.onerror=this.onerror?At(y,this.onerror):y),b!==void 0?b:f}}function ta(l,u){return l===Ge?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?At(f,this.onsuccess):f),h&&(this.onerror=this.onerror?At(h,this.onerror):h)}}function ge(l,u){return l===Ge?u:function(y){var h=l.apply(this,arguments),y=(U(y,h),this.onsuccess),b=this.onerror,j=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?At(y,this.onsuccess):y),b&&(this.onerror=this.onerror?At(b,this.onerror):b),h===void 0?j===void 0?void 0:j:U(h,j)}}function tt(l,u){return l===Ge?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ne(l,u){return l===Ge?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}te.ModifyError=at,te.DexieError=Me,te.BulkError=St;var ze=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(l){ze=l}var Fe={},lt=100,xt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[xt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),C(xt),Et]:[Et,C(Et),Et]),Et=xt[0],Ia=xt[1],Ia=Ia&&Ia.then,Oe=Et&&Et.constructor,qe=!!xt[2],pt=function(l,u){is.push([l,u]),Jt&&(queueMicrotask(Wr),Jt=!1)},Lt=!0,Jt=!0,hn=[],Pt=[],Wt=dt,xn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ge,pgp:!1,env:{},finalize:Ge},ke=xn,is=[],Ka=0,Ks=[];function De(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=ke;if(typeof l!="function"){if(l!==Fe)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ga(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var j=h._lib&&_a();b&&typeof b.then=="function"?f(h,function(w,D){b instanceof De?b._then(w,D):b.then(w,D)}):(h._state=!0,h._value=b,us(h)),j&&na()}},ga.bind(null,h))}catch(b){ga(h,b)}})(this,l)}var xl={get:function(){var l=ke,u=fs;function f(h,y){var b=this,j=!l.global&&(l!==ke||u!==fs),w=j&&!Tn(),D=new De(function(K,T){Qa(b,new rs(Qs(h,l,j,w),Qs(y,l,j,w),K,T,l))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return f.prototype=Fe,f},set:function(l){Z(this,"then",l&&l.prototype===Fe?xl:{get:function(){return l},set:xl.set})}};function rs(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ga(l,u){var f,h;Pt.push(u),l._state===null&&(f=l._lib&&_a(),u=Wt(u),l._state=!1,l._value=u,h=l,hn.some(function(y){return y._value===h._value})||hn.push(h),us(l),f)&&na()}function us(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Qa(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Ka===0&&(++Ka,pt(function(){--Ka==0&&Li()},[]))}function Qa(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Ka,pt(zo,[f,l,u])}}function zo(l,u,f){try{var h,y=u._value;!u._state&&Pt.length&&(Pt=[]),h=ze&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||Pt.indexOf(y)!==-1||(b=>{for(var j=hn.length;j;)if(hn[--j]._value===b._value)return hn.splice(j,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Ka==0&&Li(),--f.psd.ref||f.psd.finalize()}}function Wr(){Xn(xn,function(){_a()&&na()})}function _a(){var l=Lt;return Jt=Lt=!1,l}function na(){var l,u,f;do for(;0<is.length;)for(l=is,is=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<is.length);Jt=Lt=!0}function Li(){for(var l=hn,u=(hn=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Ks.slice(0)),f=u.length;f;)u[--f]()}function os(l){return new De(Fe,!1,l)}function Bt(l,u){var f=ke;return function(){var h=_a(),y=ke;try{return Ca(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Ca(y,!1),h&&na()}}}P(De.prototype,{then:xl,_then:function(l,u){Qa(this,new rs(null,null,l,u,ke))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:os)(h)}):this.then(null,function(h){return(h&&h.name===u?f:os)(h)}))},finally:function(l){return this.then(function(u){return De.resolve(l()).then(function(){return u})},function(u){return De.resolve(l()).then(function(){return os(u)})})},timeout:function(l,u){var f=this;return l<1/0?new De(function(h,y){var b=setTimeout(function(){return y(new je.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Z(De.prototype,Symbol.toStringTag,"Dexie.Promise"),xn.env=Qi(),P(De,{all:function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return De.resolve(y).then(function(j){l[b]=j,--h||u(l)},f)})})},resolve:function(l){return l instanceof De?l:l&&typeof l.then=="function"?new De(function(u,f){l.then(u,f)}):new De(Fe,!0,l)},reject:os,race:function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.map(function(h){return De.resolve(h).then(u,f)})})},PSD:{get:function(){return ke},set:function(l){return ke=l}},totalEchoes:{get:function(){return fs}},newPSD:Ut,usePSD:Xn,scheduler:{get:function(){return pt},set:function(l){pt=l}},rejectionMapper:{get:function(){return Wt},set:function(l){Wt=l}},follow:function(l,u){return new De(function(f,h){return Ut(function(y,b){var j=ke;j.unhandleds=[],j.onunhandled=b,j.finalize=At(function(){var w,D=this;w=function(){D.unhandleds.length===0?y():b(D.unhandleds[0])},Ks.push(function K(){w(),Ks.splice(Ks.indexOf(K),1)}),++Ka,pt(function(){--Ka==0&&Li()},[])},j.finalize),l()},u,f,h)})}}),Oe&&(Oe.allSettled&&Z(De,"allSettled",function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return De.resolve(y).then(function(j){return h[b]={status:"fulfilled",value:j}},function(j){return h[b]={status:"rejected",reason:j}}).then(function(){return--f||u(h)})})})}),Oe.any&&typeof AggregateError<"u"&&Z(De,"any",function(){var l=G.apply(null,arguments).map(Sl);return new De(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,j){return De.resolve(b).then(function(w){return u(w)},function(w){y[j]=w,--h||f(new AggregateError(y))})})})}),Oe.withResolvers)&&(De.withResolvers=Oe.withResolvers);var It={awaits:0,echoes:0,id:0},Ki=0,vl=[],cs=0,fs=0,Ea=0;function Ut(l,j,f,h){var y=ke,b=Object.create(y),j=(b.parent=y,b.ref=0,b.global=!1,b.id=++Ea,xn.env,b.env=qe?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},j&&U(b,j),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Xn(b,l,f,h));return b.ref===0&&b.finalize(),j}function en(){return It.id||(It.id=++Ki),++It.awaits,It.echoes+=lt,It.id}function Tn(){return!!It.awaits&&(--It.awaits==0&&(It.id=0),It.echoes=It.awaits*lt,!0)}function Sl(l){return It.echoes&&l&&l.constructor===Oe?(en(),l.then(function(u){return Tn(),u},function(u){return Tn(),Tt(u)})):l}function ko(){var l=vl[vl.length-1];vl.pop(),Ca(l,!1)}function Ca(l,u){var f,h,y=ke;(u?!It.echoes||cs++&&l===ke:!cs||--cs&&l===ke)||queueMicrotask(u?(function(b){++fs,It.echoes&&--It.echoes!=0||(It.echoes=It.awaits=It.id=0),vl.push(ke),Ca(b,!0)}).bind(null,l):ko),l!==ke&&(ke=l,y===xn&&(xn.env=Qi()),qe)&&(f=xn.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(x,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Qi(){var l=x.Promise;return qe?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(x,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Xn(l,u,f,h,y){var b=ke;try{return Ca(l,!0),u(f,h,y)}finally{Ca(b,!1)}}function Qs(l,u,f,h){return typeof l!="function"?l:function(){var y=ke;f&&en(),Ca(u,!0);try{return l.apply(this,arguments)}finally{Ca(y,!1),h&&queueMicrotask(Tn)}}}function Aa(l){Promise===Oe&&It.echoes===0?cs===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Ia).indexOf("[native code]")===-1&&(en=Tn=Ge);var Tt=De.reject,Gn="",_n="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tn="String expected.",Ya=[],ds="__dbnames",ba="readonly",Oa="readwrite";function Xa(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Yi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hs(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=bt(u))[l],u}}function Ir(){throw je.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function it(l,u){try{var f=ms(l),h=ms(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=aa(l),b=aa(u),j=y.length,w=b.length,D=j<w?j:w,K=0;K<D;++K)if(y[K]!==b[K])return y[K]<b[K]?-1:1;return j===w?0:j<w?-1:1;case"Array":for(var T=l,O=u,k=T.length,B=O.length,M=k<B?k:B,z=0;z<M;++z){var Y=it(T[z],O[z]);if(Y!==0)return Y}return k===B?0:k<B?-1:1}}catch{}return NaN}function ms(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=Ue(l))==="ArrayBuffer")?"binary":u}function aa(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function vn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}eu.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(N(f))return g(g([],N(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(N(h))return N(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var jl=eu;function eu(l){this["@@propmod"]=l}function Ys(l,u){for(var f=S(u),h=f.length,y=!1,b=0;b<h;++b){var j=f[b],w=u[j],D=ve(l,j);w instanceof jl?(Se(l,j,w.execute(D)),y=!0):D!==w&&(Se(l,j,w),y=!0)}return y}Nt.prototype._trans=function(l,u,f){var h=this._tx||ke.trans,y=this.name,b=ze&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(K,T,O){if(O.schema[y])return u(O.idbtrans,O);throw new je.NotFound("Table "+y+" not part of transaction")}var w=_a();try{var D=h&&h.db._novip===this.db._novip?h===ke.trans?h._promise(l,j,f):Ut(function(){return h._promise(l,j,f)},{trans:h,transless:ke.transless||ke}):(function K(T,O,k,B){if(T.idbdb&&(T._state.openComplete||ke.letThrough||T._vip)){var M=T._createTransaction(O,k,T._dbSchema);try{M.create(),T._state.PR1398_maxLoop=3}catch(z){return z.name===Gt.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,O,k,B)})):Tt(z)}return M._promise(O,function(z,Y){return Ut(function(){return ke.trans=M,B(z,Y,M)})}).then(function(z){if(O==="readwrite")try{M.idbtrans.commit()}catch{}return O==="readonly"?z:M._completion.then(function(){return z})})}if(T._state.openComplete)return Tt(new je.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return Tt(new je.DatabaseClosed);T.open().catch(Ge)}return T._state.dbReadyPromise.then(function(){return K(T,O,k,B)})})(this.db,l,[this.name],j);return b&&(D._consoleTask=b,D=D.catch(function(K){return console.trace(K),Tt(K)})),D}finally{w&&na()}},Nt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Tt(new je.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(N(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=S(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&u.every(function(K){return 0<=w.keyPath.indexOf(K)})){for(var D=0;D<u.length;++D)if(u.indexOf(w.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(w,D){return w.keyPath.length-D.keyPath.length})[0];if(f&&this.db._maxKey!==Gn)return j=f.keyPath.slice(0,u.length),this.where(j).equals(j.map(function(w){return l[w]}));!f&&ze&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(w,D){return it(w,D)===0}var j=u.reduce(function(T,D){var K=T[0],T=T[1],O=h[D],k=l[D];return[K||O,K||!O?Xa(T,O&&O.multi?function(B){return B=ve(B,D),N(B)&&B.some(function(M){return y(k,M)})}:function(B){return y(k,ve(B,D))}):T]},[null,null]),b=j[0],j=j[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(j):f?this.filter(j):this.where(u).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,N(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Ir&&(l=(j=>{var w=T,D=j;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function K(){this.constructor=w}function T(){return j!==null&&j.apply(this,arguments)||this}return m(w,D),w.prototype=D===null?Object.create(D):(K.prototype=D.prototype,new K),Object.defineProperty(T.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),T.prototype.table=function(){return f},T})(l)),new Set),y=l.prototype;y;y=C(y))Object.getOwnPropertyNames(y).forEach(function(j){return h.add(j)});function b(j){if(!j)return j;var w,D=Object.create(l.prototype);for(w in j)if(!h.has(w))try{D[w]=j[w]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){U(this,l)})},Nt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=hs(b)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"add",keys:u!=null?[u]:null,values:[j]})}).then(function(w){return w.numFailures?De.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{Se(l,b,w)}catch{}return w})},Nt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var j=b??{};return Ys(j,u),h&&Se(j,h,l),f.core.mutate({trans:y,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(w){return w.numFailures?De.reject(w.failures[0]):!!b})})})},Nt.prototype.update=function(l,u){return typeof l!="object"||N(l)?this.where(":id").equals(l).modify(u):(l=ve(l,this.schema.primKey.keyPath))===void 0?Tt(new je.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},Nt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=hs(b)(l)),this._trans("readwrite",function(w){return f.core.mutate({trans:w,type:"put",values:[j],keys:u!=null?[u]:null})}).then(function(w){return w.numFailures?De.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{Se(l,b,w)}catch{}return w})},Nt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return vn(u,[l],h)}).then(function(h){return h.numFailures?De.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Yi}).then(function(f){return vn(l,null,f)})}).then(function(u){return u.numFailures?De.reject(u.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var w=h.schema.primKey,K=w.auto,w=w.keyPath;if(w&&y)throw new je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=w&&K?l.map(hs(w)):l;return h.core.mutate({trans:j,type:"add",keys:y,values:K,wantResults:b}).then(function(T){var O=T.numFailures,k=T.failures;if(O===0)return b?T.results:T.lastResult;throw new St("".concat(h.name,".bulkAdd(): ").concat(O," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var w=h.schema.primKey,K=w.auto,w=w.keyPath;if(w&&y)throw new je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=w&&K?l.map(hs(w)):l;return h.core.mutate({trans:j,type:"put",keys:y,values:K,wantResults:b}).then(function(T){var O=T.numFailures,k=T.failures;if(O===0)return b?T.results:T.lastResult;throw new St("".concat(h.name,".bulkPut(): ").concat(O," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(j){return j.key}),y=l.map(function(j){return j.changes}),b=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:h,cache:"clone"}).then(function(w){var D=[],K=[],T=(l.forEach(function(O,k){var B=O.key,M=O.changes,z=w[k];if(z){for(var Y=0,$=Object.keys(M);Y<$.length;Y++){var Q=$[Y],ae=M[Q];if(Q===u.schema.primKey.keyPath){if(it(ae,B)!==0)throw new je.Constraint("Cannot update primary key in bulkUpdate()")}else Se(z,Q,ae)}b.push(k),D.push(B),K.push(z)}}),D.length);return f.mutate({trans:j,type:"put",keys:D,values:K,updates:{keys:h,changeSpecs:y}}).then(function(O){var k=O.numFailures,B=O.failures;if(k===0)return T;for(var M=0,z=Object.keys(B);M<z.length;M++){var Y,$=z[M],Q=b[Number($)];Q!=null&&(Y=B[$],delete B[$],B[Q]=Y)}throw new St("".concat(u.name,".bulkUpdate(): ").concat(k," of ").concat(T," operations failed"),B)})})})},Nt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return vn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new St("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Xi=Nt;function Nt(){}function ps(l){function u(j,w){if(w){for(var D=arguments.length,K=new Array(D-1);--D;)K[D-1]=arguments[D];return f[j].subscribe.apply(null,K),l}if(typeof j=="string")return f[j]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(j,w,D){var K,T;if(typeof j!="object")return w=w||tt,T={subscribers:[],fire:D=D||Ge,subscribe:function(O){T.subscribers.indexOf(O)===-1&&(T.subscribers.push(O),T.fire=w(T.fire,O))},unsubscribe:function(O){T.subscribers=T.subscribers.filter(function(k){return k!==O}),T.fire=T.subscribers.reduce(w,D)}},f[j]=u[j]=T;S(K=j).forEach(function(O){var k=K[O];if(N(k))b(O,K[O][0],K[O][1]);else{if(k!=="asap")throw new je.InvalidArgument("Invalid event config");var B=b(O,dt,function(){for(var M=arguments.length,z=new Array(M);M--;)z[M]=arguments[M];B.subscribers.forEach(function(Y){_e(function(){Y.apply(null,z)})})})}})}}function pn(l,u){return ue(u).from({prototype:l}),u}function Da(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Xs(l,u){l.filter=Xa(l.filter,u)}function ys(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Xa(h(),u())}:u,l.justLimit=f&&!h}function xa(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new je.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Gi(l,u,f){var h=xa(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function gs(l,u,f,h){var y,b,j=l.replayFilter?Xa(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(w,D,K){var T,O;j&&!j(D,K,function(k){return D.stop(k)},function(k){return D.fail(k)})||((O=""+(T=D.primaryKey))=="[object ArrayBuffer]"&&(O=""+new Uint8Array(T)),A(y,O))||(y[O]=!0,u(w,D,K))},Promise.all([l.or._iterate(b,f),Ga(Gi(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Ga(Gi(l,h,f),Xa(l.algorithm,j),u,!l.keysOnly&&l.valueMapper)}function Ga(l,u,f,h){var y=Bt(h?function(b,j,w){return f(h(b),j,w)}:f);return l.then(function(b){if(b)return b.start(function(){var j=function(){return b.continue()};u&&!u(b,function(w){return j=w},function(w){b.stop(w),j=Ge},function(w){b.fail(w),j=Ge})||y(b.value,b,function(w){return j=w}),j()})})}yt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Tt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},yt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Tt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},yt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Xa(u.algorithm,l)},yt.prototype._iterate=function(l,u){return gs(this._ctx,l,u,this._ctx.table.core)},yt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&U(f,l),u._ctx=f,u},yt.prototype.raw=function(){return this._ctx.valueMapper=null,this},yt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return gs(u,l,f,u.table.core)})},yt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Da(y,!0)?b.count({trans:f,query:{index:xa(y,b.schema),range:y.range}}).then(function(j){return Math.min(j,y.limit)}):(h=0,gs(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},yt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(D,K){return K?b(D[f[K]],K-1):D[h]}var j=this._ctx.dir==="next"?1:-1;function w(D,K){return it(b(D,y),b(K,y))*j}return this.toArray(function(D){return D.sort(w)}).then(u)},yt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,j=u._ctx;return j.dir==="next"&&Da(j,!0)&&0<j.limit?(h=j.valueMapper,y=xa(j,j.table.core.schema),j.table.core.query({trans:f,limit:j.limit,values:!0,query:{index:y,range:j.range}}).then(function(w){return w=w.result,h?w.map(h):w})):(b=[],gs(j,function(w){return b.push(w)},f,j.table.core).then(function(){return b}))},l)},yt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Da(u)?ys(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ys(u,function(){var f=l;return function(){return--f<0}})),this},yt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ys(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},yt.prototype.until=function(l,u){return Xs(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},yt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},yt.prototype.last=function(l){return this.reverse().first(l)},yt.prototype.filter=function(l){var u;return Xs(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Xa(u.isMatch,l),this},yt.prototype.and=function(l){return this.filter(l)},yt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},yt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},yt.prototype.desc=function(){return this.reverse()},yt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},yt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},yt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},yt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},yt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Da(u,!0)&&0<u.limit)return this._read(function(h){var y=xa(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},yt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},yt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},yt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},yt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Xs(this._ctx,function(h){var h=h.primaryKey.toString(),y=A(l,h);return l[h]=!0,!y})),this},yt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(z,Y){var $=Y.failures;k+=z-Y.numFailures;for(var Q=0,ae=S($);Q<ae.length;Q++){var de=ae[Q];O.push($[de])}}var b=typeof l=="function"?l:function(z){return Ys(z,l)},j=f.table.core,T=j.schema.primaryKey,w=T.outbound,D=T.extractKey,K=200,T=u.db._options.modifyChunkSize,O=(T&&(K=typeof T=="object"?T[j.name]||T["*"]||200:T),[]),k=0,B=[],M=l===Vi;return u.clone().primaryKeys().then(function(z){function Y(Q){var ae=Math.min(K,z.length-Q),de=z.slice(Q,Q+ae);return(M?Promise.resolve([]):j.getMany({trans:h,keys:de,cache:"immutable"})).then(function(Ee){var Ce=[],me=[],Re=w?[]:null,Te=M?de:[];if(!M)for(var pe=0;pe<ae;++pe){var Be=Ee[pe],We={value:bt(Be),primKey:z[Q+pe]};b.call(We,We.value,We)!==!1&&(We.value==null?Te.push(z[Q+pe]):w||it(D(Be),D(We.value))===0?(me.push(We.value),w&&Re.push(z[Q+pe])):(Te.push(z[Q+pe]),Ce.push(We.value)))}return Promise.resolve(0<Ce.length&&j.mutate({trans:h,type:"add",values:Ce}).then(function(ut){for(var Ye in ut.failures)Te.splice(parseInt(Ye),1);y(Ce.length,ut)})).then(function(){return(0<me.length||$&&typeof l=="object")&&j.mutate({trans:h,type:"put",keys:Re,values:me,criteria:$,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Q}).then(function(ut){return y(me.length,ut)})}).then(function(){return(0<Te.length||$&&M)&&j.mutate({trans:h,type:"delete",keys:Te,criteria:$,isAdditionalChunk:0<Q}).then(function(ut){return vn(f.table,Te,ut)}).then(function(ut){return y(Te.length,ut)})}).then(function(){return z.length>Q+ae&&Y(Q+K)})})}var $=Da(f)&&f.limit===1/0&&(typeof l!="function"||M)&&{index:f.index,range:f.range};return Y(0).then(function(){if(0<O.length)throw new at("Error modifying one or more objects",O,k,B);return z.length})})})},yt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Da(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Vi):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(D){var w=D.failures,D=D.numFailures;if(D)throw new at("Could not delete some values",Object.keys(w).map(function(K){return w[K]}),b-D);return b-D})})})};var Ro=yt;function yt(){}var Vi=function(l,u){return u.value=null};function Fi(l,u){return l<u?-1:l===u?0:1}function Bo(l,u){return u<l?-1:l===u?0:1}function Mn(l,u,f){return l=l instanceof Va?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function va(l){return new l.Collection(l,function(){return Gs("")}).limit(0)}function Rn(B,u,f,h){var y,b,j,w,D,K,T,O=f.length;if(!f.every(function(z){return typeof z=="string"}))return Mn(B,tn);function k(z){y=z==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},b=z==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},j=z==="next"?Fi:Bo;var Y=f.map(function($){return{lower:b($),upper:y($)}}).sort(function($,Q){return j($.lower,Q.lower)});w=Y.map(function($){return $.upper}),D=Y.map(function($){return $.lower}),T=(K=z)==="next"?"":h}k("next");var B=new B.Collection(B,function(){return la(w[0],D[O-1]+h)}),M=(B._ondirectionchange=function(z){k(z)},0);return B._addAlgorithm(function(z,Y,$){var Q=z.key;if(typeof Q=="string"){var ae=b(Q);if(u(ae,D,M))return!0;for(var de=null,Ee=M;Ee<O;++Ee){var Ce=((me,Re,Te,pe,Be,We)=>{for(var ut=Math.min(me.length,pe.length),Ye=-1,et=0;et<ut;++et){var Mt=Re[et];if(Mt!==pe[et])return Be(me[et],Te[et])<0?me.substr(0,et)+Te[et]+Te.substr(et+1):Be(me[et],pe[et])<0?me.substr(0,et)+pe[et]+Te.substr(et+1):0<=Ye?me.substr(0,Ye)+Re[Ye]+Te.substr(Ye+1):null;Be(me[et],Mt)<0&&(Ye=et)}return ut<pe.length&&We==="next"?me+Te.substr(me.length):ut<me.length&&We==="prev"?me.substr(0,Te.length):Ye<0?null:me.substr(0,Ye)+pe[Ye]+Te.substr(Ye+1)})(Q,ae,w[Ee],D[Ee],j,K);Ce===null&&de===null?M=Ee+1:(de===null||0<j(de,Ce))&&(de=Ce)}Y(de!==null?function(){z.continue(de+T)}:$)}return!1}),B}function la(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Gs(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?va(this):new this.Collection(this,function(){return la(l,u,!f,!h)})}catch{return Mn(this,_n)}},Kt.prototype.equals=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return Gs(l)})},Kt.prototype.above=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return la(l,void 0,!0)})},Kt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return la(l,void 0,!1)})},Kt.prototype.below=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return la(void 0,l,!1,!0)})},Kt.prototype.belowOrEqual=function(l){return l==null?Mn(this,_n):new this.Collection(this,function(){return la(void 0,l)})},Kt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,tn):this.between(l,l+Gn,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Rn(this,function(u,f){return u.indexOf(f[0])===0},[l],Gn)},Kt.prototype.equalsIgnoreCase=function(l){return Rn(this,function(u,f){return u===f[0]},[l],"")},Kt.prototype.anyOfIgnoreCase=function(){var l=G.apply(we,arguments);return l.length===0?va(this):Rn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var l=G.apply(we,arguments);return l.length===0?va(this):Rn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Gn)},Kt.prototype.anyOf=function(){var l,u,f=this,h=G.apply(we,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,_n)}return h.length===0?va(this):((l=new this.Collection(this,function(){return la(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,j,w){for(var D=b.key;0<y(D,h[u]);)if(++u===h.length)return j(w),!1;return y(D,h[u])===0||(j(function(){b.continue(h[u])}),!1)}),l)},Kt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var l=G.apply(we,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,_n)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(l,$){var f=this,h=this._cmp,y=this._ascending,b=this._descending,j=this._min,w=this._max;if(l.length===0)return va(this);if(!l.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&y(Q[0],Q[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",je.InvalidArgument);var D=!$||$.includeLowers!==!1,K=$&&$.includeUppers===!0,T,O=y;function k(Q,ae){return O(Q[0],ae[0])}try{(T=l.reduce(function(Q,ae){for(var de=0,Ee=Q.length;de<Ee;++de){var Ce=Q[de];if(h(ae[0],Ce[1])<0&&0<h(ae[1],Ce[0])){Ce[0]=j(Ce[0],ae[0]),Ce[1]=w(Ce[1],ae[1]);break}}return de===Ee&&Q.push(ae),Q},[])).sort(k)}catch{return Mn(this,_n)}var B=0,M=K?function(Q){return 0<y(Q,T[B][1])}:function(Q){return 0<=y(Q,T[B][1])},z=D?function(Q){return 0<b(Q,T[B][0])}:function(Q){return 0<=b(Q,T[B][0])},Y=M,$=new this.Collection(this,function(){return la(T[0][0],T[T.length-1][1],!D,!K)});return $._ondirectionchange=function(Q){O=Q==="next"?(Y=M,y):(Y=z,b),T.sort(k)},$._addAlgorithm(function(Q,ae,de){for(var Ee,Ce=Q.key;Y(Ce);)if(++B===T.length)return ae(de),!1;return!M(Ee=Ce)&&!z(Ee)||(f._cmp(Ce,T[B][1])===0||f._cmp(Ce,T[B][0])===0||ae(function(){O===y?Q.continue(T[B][0]):Q.continue(T[B][1])}),!1)}),$},Kt.prototype.startsWithAnyOf=function(){var l=G.apply(we,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?va(this):this.inAnyRange(l.map(function(u){return[u,u+Gn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Va=Kt;function Kt(){}function Vn(l){return Bt(function(u){return Fa(u),l(u.target.error),!1})}function Fa(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var wl="storagemutated",Za="x-storagemutated-1",yn=ps(null,wl),Zi=(En.prototype._lock=function(){return he(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},En.prototype._unlock=function(){if(he(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Xn(l[1],l[0])}catch{}}return this},En.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},En.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(he(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new je.DatabaseClosed(h);case"MissingAPIError":throw new je.MissingAPI(h.message,h);default:throw new je.OpenFailed(h)}if(!this.active)throw new je.TransactionInactive;he(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Bt(function(y){Fa(y),u._reject(l.error)}),l.onabort=Bt(function(y){Fa(y),u.active&&u._reject(new je.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Bt(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},En.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Tt(new je.ReadOnly("Transaction is readonly")):this.active?this._locked()?new De(function(b,j){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,j)},ke])}):f?Ut(function(){var b=new De(function(j,w){y._lock();var D=u(j,w,y);D&&D.then&&D.then(j,w)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new De(function(b,j){var w=u(b,j,y);w&&w.then&&w.then(b,j)}))._lib=!0,h):Tt(new je.TransactionInactive)},En.prototype._root=function(){return this.parent?this.parent._root():this},En.prototype.waitFor=function(l){var u,f=this._root(),h=De.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new De(function(b,j){h.then(function(w){return f._waitingQueue.push(Bt(b.bind(null,w)))},function(w){return f._waitingQueue.push(Bt(j.bind(null,w)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},En.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new je.Abort))},En.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(A(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new je.NotFound("Table "+l+" not part of transaction")},En);function En(){}function sa(l,u,f,h,y,b,j,w){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!j?"&":"")+(h?"*":"")+(y?"++":"")+Vs(u),type:w}}function Vs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Nl(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,j){return b=h(b,j),b&&(y[b[0]]=b[1]),y},{}))};var h}var _l=function(l){try{return l.only([[]]),_l=function(){return[[]]},[[]]}catch{return _l=function(){return Gn},Gn}};function El(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return ve(f,u)}:function(f){return ve(f,l)};var u}function bs(l){return[].slice.call(l)}var tu=0;function rn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function $a(l,u,D){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=M.lower,k=M.upper,B=M.lowerOpen,M=M.upperOpen;return O===void 0?k===void 0?null:u.upperBound(k,!!M):k===void 0?u.lowerBound(O,!!B):u.bound(O,k,!!B,!!M)}function y(T){var O,k=T.name;return{name:k,schema:T,mutate:function(B){var M=B.trans,z=B.type,Y=B.keys,$=B.values,Q=B.range;return new Promise(function(ae,de){ae=Bt(ae);var Ee=M.objectStore(k),Ce=Ee.keyPath==null,me=z==="put"||z==="add";if(!me&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var Re,Te=(Y||$||{length:1}).length;if(Y&&$&&Y.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function pe(Ct){++ut,Fa(Ct)}var Be=[],We=[],ut=0;if(z==="deleteRange"){if(Q.type===4)return ae({numFailures:ut,failures:We,results:[],lastResult:void 0});Q.type===3?Be.push(Re=Ee.clear()):Be.push(Re=Ee.delete(h(Q)))}else{var Ce=me?Ce?[$,Y]:[$,null]:[Y,null],Ye=Ce[0],et=Ce[1];if(me)for(var Mt=0;Mt<Te;++Mt)Be.push(Re=et&&et[Mt]!==void 0?Ee[z](Ye[Mt],et[Mt]):Ee[z](Ye[Mt])),Re.onerror=pe;else for(Mt=0;Mt<Te;++Mt)Be.push(Re=Ee[z](Ye[Mt])),Re.onerror=pe}function An(Ct){Ct=Ct.target.result,Be.forEach(function(ka,Ml){return ka.error!=null&&(We[Ml]=ka.error)}),ae({numFailures:ut,failures:We,results:z==="delete"?Y:Be.map(function(ka){return ka.result}),lastResult:Ct})}Re.onerror=function(Ct){pe(Ct),An(Ct)},Re.onsuccess=An})},getMany:function(B){var M=B.trans,z=B.keys;return new Promise(function(Y,$){Y=Bt(Y);for(var Q,ae=M.objectStore(k),de=z.length,Ee=new Array(de),Ce=0,me=0,Re=function(Be){Be=Be.target,Ee[Be._pos]=Be.result,++me===Ce&&Y(Ee)},Te=Vn($),pe=0;pe<de;++pe)z[pe]!=null&&((Q=ae.get(z[pe]))._pos=pe,Q.onsuccess=Re,Q.onerror=Te,++Ce);Ce===0&&Y(Ee)})},get:function(B){var M=B.trans,z=B.key;return new Promise(function(Y,$){Y=Bt(Y);var Q=M.objectStore(k).get(z);Q.onsuccess=function(ae){return Y(ae.target.result)},Q.onerror=Vn($)})},query:(O=w,function(B){return new Promise(function(M,z){M=Bt(M);var Y,$,Q,me=B.trans,ae=B.values,de=B.limit,Ce=B.query,Ee=de===1/0?void 0:de,Re=Ce.index,Ce=Ce.range,me=me.objectStore(k),me=Re.isPrimaryKey?me:me.index(Re.name),Re=h(Ce);if(de===0)return M({result:[]});O?((Ce=ae?me.getAll(Re,Ee):me.getAllKeys(Re,Ee)).onsuccess=function(Te){return M({result:Te.target.result})},Ce.onerror=Vn(z)):(Y=0,$=!ae&&"openKeyCursor"in me?me.openKeyCursor(Re):me.openCursor(Re),Q=[],$.onsuccess=function(Te){var pe=$.result;return!pe||(Q.push(ae?pe.value:pe.primaryKey),++Y===de)?M({result:Q}):void pe.continue()},$.onerror=Vn(z))})}),openCursor:function(B){var M=B.trans,z=B.values,Y=B.query,$=B.reverse,Q=B.unique;return new Promise(function(ae,de){ae=Bt(ae);var me=Y.index,Ee=Y.range,Ce=M.objectStore(k),Ce=me.isPrimaryKey?Ce:Ce.index(me.name),me=$?Q?"prevunique":"prev":Q?"nextunique":"next",Re=!z&&"openKeyCursor"in Ce?Ce.openKeyCursor(h(Ee),me):Ce.openCursor(h(Ee),me);Re.onerror=Vn(de),Re.onsuccess=Bt(function(Te){var pe,Be,We,ut,Ye=Re.result;Ye?(Ye.___id=++tu,Ye.done=!1,pe=Ye.continue.bind(Ye),Be=(Be=Ye.continuePrimaryKey)&&Be.bind(Ye),We=Ye.advance.bind(Ye),ut=function(){throw new Error("Cursor not stopped")},Ye.trans=M,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Bt(de),Ye.next=function(){var et=this,Mt=1;return this.start(function(){return Mt--?et.continue():et.stop()}).then(function(){return et})},Ye.start=function(et){function Mt(){if(Re.result)try{et()}catch(Ct){Ye.fail(Ct)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var An=new Promise(function(Ct,ka){Ct=Bt(Ct),Re.onerror=Vn(ka),Ye.fail=ka,Ye.stop=function(Ml){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=ut,Ct(Ml)}});return Re.onsuccess=Bt(function(Ct){Re.onsuccess=Mt,Mt()}),Ye.continue=pe,Ye.continuePrimaryKey=Be,Ye.advance=We,Mt(),An},ae(Ye)):ae(null)},de)})},count:function(B){var M=B.query,z=B.trans,Y=M.index,$=M.range;return new Promise(function(Q,ae){var de=z.objectStore(k),de=Y.isPrimaryKey?de:de.index(Y.name),Ee=h($),Ee=Ee?de.count(Ee):de.count();Ee.onsuccess=Bt(function(Ce){return Q(Ce.target.result)}),Ee.onerror=Vn(ae)})}}}b=D,j=bs((D=l).objectStoreNames);var b,D={schema:{name:D.name,tables:j.map(function(T){return b.objectStore(T)}).map(function(T){var O=T.keyPath,k=T.autoIncrement,M=N(O),B={},M={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:O==null,compound:M,keyPath:O,autoIncrement:k,unique:!0,extractKey:El(O)},indexes:bs(T.indexNames).map(function(z){return T.index(z)}).map(function(Q){var ae=Q.name,Y=Q.unique,$=Q.multiEntry,Q=Q.keyPath,ae={name:ae,compound:N(Q),keyPath:Q,unique:Y,multiEntry:$,extractKey:El(Q)};return B[rn(Q)]=ae}),getIndexByKeyPath:function(z){return B[rn(z)]}};return B[":id"]=M.primaryKey,O!=null&&(B[rn(O)]=M.primaryKey),M})},hasGetAll:0<j.length&&"getAll"in b.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},j=D.schema,w=D.hasGetAll,D=j.tables.map(y),K={};return D.forEach(function(T){return K[T.name]=T}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(T){if(K[T])return K[T];throw new Error("Table '".concat(T,"' not found"))},MIN_KEY:-1/0,MAX_KEY:_l(u),schema:j}}function Fs(l,u,f,h){return f=f.IDBKeyRange,u=$a(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Ta(l,u){var f=u.db,f=Fs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Zs(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(j){var w=(function D(K,T){return W(K,T)||(K=C(K))&&D(K,T)})(j,y);(!w||"value"in w&&w.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?Z(j,y,{get:function(){return this.table(y)},set:function(D){be(this,y,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):j[y]=new l.Table(y,b))})})}function xs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function $i(l,u){return l._cfg.version-u._cfg.version}function vs(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Nl("$meta",au("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),j=(b.create(f),b._completion.catch(h),b._reject.bind(b)),w=ke.transless||ke;Ut(function(){if(ke.trans=b,ke.transless=w,u!==0)return Ta(l,f),K=u,((D=b).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(T){return T??K}):De.resolve(K)).then(function(Y){var O=l,k=Y,B=b,M=f,z=[],Y=O._versions,$=O._dbSchema=Cl(0,O.idbdb,M);return(Y=Y.filter(function(Q){return Q._cfg.version>=k})).length===0?De.resolve():(Y.forEach(function(Q){z.push(function(){var ae,de,Ee,Ce=$,me=Q._cfg.dbschema,Re=(Ws(O,Ce,M),Ws(O,me,M),$=O._dbSchema=me,Js(Ce,me)),Te=(Re.add.forEach(function(pe){Ji(M,pe[0],pe[1].primKey,pe[1].indexes)}),Re.change.forEach(function(pe){if(pe.recreate)throw new je.Upgrade("Not yet support for changing primary key");var Be=M.objectStore(pe.name);pe.add.forEach(function(We){return Ps(Be,We)}),pe.change.forEach(function(We){Be.deleteIndex(We.name),Ps(Be,We)}),pe.del.forEach(function(We){return Be.deleteIndex(We)})}),Q._cfg.contentUpgrade);if(Te&&Q._cfg.version>k)return Ta(O,M),B._memoizedTables={},ae=Ie(me),Re.del.forEach(function(pe){ae[pe]=Ce[pe]}),xs(O,[O.Transaction.prototype]),Zs(O,[O.Transaction.prototype],S(ae),ae),B.schema=ae,(de=E(Te))&&en(),me=De.follow(function(){var pe;(Ee=Te(B))&&de&&(pe=Tn.bind(null,null),Ee.then(pe,pe))}),Ee&&typeof Ee.then=="function"?De.resolve(Ee):me.then(function(){return Ee})}),z.push(function(ae){var de,Ee,Ce=Q._cfg.dbschema;de=Ce,Ee=ae,[].slice.call(Ee.db.objectStoreNames).forEach(function(me){return de[me]==null&&Ee.db.deleteObjectStore(me)}),xs(O,[O.Transaction.prototype]),Zs(O,[O.Transaction.prototype],O._storeNames,O._dbSchema),B.schema=O._dbSchema}),z.push(function(ae){O.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(O.idbdb.version/10)===Q._cfg.version?(O.idbdb.deleteObjectStore("$meta"),delete O._dbSchema.$meta,O._storeNames=O._storeNames.filter(function(de){return de!=="$meta"})):ae.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return z.length?De.resolve(z.shift()(B.idbtrans)).then(Q):De.resolve()})().then(function(){nu($,M)}))}).catch(j);var D,K;S(y).forEach(function(T){Ji(f,T,y[T].primKey,y[T].indexes)}),Ta(l,f),De.follow(function(){return l.on.populate.fire(b)}).catch(j)})}function $s(l,u){nu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Cl(0,l.idbdb,u);Ws(l,l._dbSchema,u);for(var h=0,y=Js(f,l._dbSchema).change;h<y.length;h++){var b=(j=>{if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=u.objectStore(j.name);j.add.forEach(function(D){ze&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(D.src)),Ps(w,D)})})(y[h]);if(typeof b=="object")return b.value}}function Js(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var j={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)j.recreate=!0,h.change.push(j);else{var w=y.idxByName,D=b.idxByName,K=void 0;for(K in w)D[K]||j.del.push(K);for(K in D){var T=w[K],O=D[K];T?T.src!==O.src&&j.change.push(O):j.add.push(O)}(0<j.del.length||0<j.add.length||0<j.change.length)&&h.change.push(j)}}else h.add.push([f,b])}return h}function Ji(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Ps(y,b)})}function nu(l,u){S(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(ze&&console.debug("Dexie: Creating missing table",f),Ji(u,f,l[f].primKey,l[f].indexes))})}function Ps(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Cl(l,u,f){var h={};return ce(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),j=sa(Vs(K=b.keyPath),K||"",!0,!1,!!b.autoIncrement,K&&typeof K!="string",!0),w=[],D=0;D<b.indexNames.length;++D){var T=b.index(b.indexNames[D]),K=T.keyPath,T=sa(T.name,K,!!T.unique,!!T.multiEntry,!1,K&&typeof K!="string",!1);w.push(T)}h[y]=Nl(y,j,w)}),h}function Ws(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],j=f.objectStore(b);l._hasGetAll="getAll"in j;for(var w=0;w<j.indexNames.length;++w){var D,K=j.indexNames[w],T=j.index(K).keyPath,T=typeof T=="string"?T:"["+ce(T).join("+")+"]";u[b]&&(D=u[b].idxByName[T])&&(D.name=K,delete u[b].idxByName[T],u[b].idxByName[K]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&x.WorkerGlobalScope&&x instanceof x.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function au(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return sa(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),N(b),f===0,h)})}Al.prototype._createTableSchema=Nl,Al.prototype._parseIndexSyntax=au,Al.prototype._parseStoresSpec=function(l,u){var f=this;S(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new je.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new je.Schema("Primary key cannot be multiEntry*");y.forEach(function(j){if(j.auto)throw new je.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new je.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},Al.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?U(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){U(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,xs(u,[u._allTables,u,u.Transaction.prototype]),Zs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],S(y),y),u._storeNames=S(y),this},Al.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Ge,l),this};var qo=Al;function Al(){}function Pi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new ia(ds,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Is(l){return l&&typeof l.databases=="function"}function Wi(l){return Ut(function(){return ke.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var gn=function(l,u){var f;if(!this)return f=new gn,l&&"d"in l&&U(f,l),f;U(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function Ss(l,u,f){var h=it(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return U(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(it(f,l.from)<0)return h?Ss(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},su(l);if(0<it(u,l.to))return y?Ss(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},su(l);it(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<it(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Ja(l,h),y&&u&&Ja(l,y)}}function Ja(l,u){Ii(u)||(function f(h,y){var b=y.from,j=y.l,w=y.r;Ss(h,b,y.to),j&&f(h,j),w&&f(h,w)})(l,u)}function lu(l,u){var f=ei(u),h=f.next();if(!h.done)for(var y=h.value,b=ei(l),j=b.next(y.from),w=j.value;!h.done&&!j.done;){if(it(w.from,y.to)<=0&&0<=it(w.to,y.from))return!0;it(y.from,w.from)<0?y=(h=f.next(w.from)).value:w=(j=b.next(y.from)).value}return!1}function ei(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&it(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||it(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function su(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=er(f)),l.d=er(l)}function er(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function ti(l,u){return S(u).forEach(function(f){l[f]?Ja(l[f],u[f]):l[f]=(function h(y){var b,j,w={};for(b in y)A(y,b)&&(j=y[b],w[b]=!j||typeof j!="object"||Le.has(j.constructor)?j:h(j));return w})(u[f])}),l}function tr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&lu(u[f],l[f])})}P(gn.prototype,((Et={add:function(l){return Ja(this,l),this},addKey:function(l){return Ss(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return Ss(u,f,f)}),this},hasKey:function(l){var u=ei(this).next(l).value;return u&&it(u.from,l)<=0&&0<=it(u.to,l)}})[X]=function(){return ei(this)},Et));var Pa={},nr={},ar=!1;function ni(l){ti(nr,l),ar||(ar=!0,setTimeout(function(){ar=!1,lr(nr,!(nr={}))},0))}function lr(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Pa);h<y.length;h++)iu(w=y[h],l,f,u);else for(var b in l){var j,w,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(j=b[1],b=b[2],w=Pa["idb://".concat(j,"/").concat(b)])&&iu(w,l,f,u)}f.forEach(function(D){return D()})}function iu(l,u,f,h){for(var y=[],b=0,j=Object.entries(l.queries.query);b<j.length;b++){for(var w=j[b],D=w[0],K=[],T=0,O=w[1];T<O.length;T++){var k=O[T];tr(u,k.obsSet)?k.subscribers.forEach(function(Y){return f.add(Y)}):h&&K.push(k)}h&&y.push([D,K])}if(h)for(var B=0,M=y;B<M.length;B++){var z=M[B],D=z[0],K=z[1];l.queries.query[D]=K}}function Uo(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Tt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function j(){if(u.openCanceller!==h)throw new je.DatabaseClosed("db.open() was cancelled")}function w(){return new De(function(k,B){if(j(),!f)throw new je.MissingAPI;var M=l.name,z=u.autoSchema||!y?f.open(M):f.open(M,y);if(!z)throw new je.MissingAPI;z.onerror=Vn(B),z.onblocked=Bt(l._fireOnBlocked),z.onupgradeneeded=Bt(function(Y){var $;T=z.transaction,u.autoSchema&&!l._options.allowEmptyDB?(z.onerror=Fa,T.abort(),z.result.close(),($=f.deleteDatabase(M)).onsuccess=$.onerror=Bt(function(){B(new je.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(T.onerror=Vn(B),$=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,O=$<1,l.idbdb=z.result,b&&$s(l,T),vs(l,$/10,T,B))},B),z.onsuccess=Bt(function(){T=null;var Y,$,Q,ae,de,Ee,Ce=l.idbdb=z.result,me=ce(Ce.objectStoreNames);if(0<me.length)try{var Re=Ce.transaction((de=me).length===1?de[0]:de,"readonly");if(u.autoSchema)Ee=Ce,ae=Re,(Q=l).verno=Ee.version/10,ae=Q._dbSchema=Cl(0,Ee,ae),Q._storeNames=ce(Ee.objectStoreNames,0),Zs(Q,[Q._allTables],S(ae),ae);else if(Ws(l,l._dbSchema,Re),$=Re,(($=Js(Cl(0,(Y=l).idbdb,$),Y._dbSchema)).add.length||$.change.some(function(Te){return Te.add.length||Te.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ce.close(),y=Ce.version+1,b=!0,k(w());Ta(l,Re)}catch{}Ya.push(l),Ce.onversionchange=Bt(function(Te){u.vcFired=!0,l.on("versionchange").fire(Te)}),Ce.onclose=Bt(function(){l.close({disableAutoOpen:!1})}),O&&(me=l._deps,de=M,Is(Ee=me.indexedDB)||de===ds||Pi(Ee,me.IDBKeyRange).put({name:de}).catch(Ge)),k()},B)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<y)return y=0,w()}return De.reject(k)})}var D,K=u.dbReadyResolve,T=null,O=!1;return De.race([h,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function B(){return indexedDB.databases().finally(k)}D=setInterval(B,100),B()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(w)]).then(function(){return j(),u.onReadyBeingFired=[],De.resolve(Wi(function(){return l.on.ready.fire(l.vip)})).then(function k(){var B;if(0<u.onReadyBeingFired.length)return B=u.onReadyBeingFired.reduce(ne,Ge),u.onReadyBeingFired=[],De.resolve(Wi(function(){return B(l.vip)})).then(k)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(k){u.dbOpenError=k;try{T&&T.abort()}catch{}return h===u.openCanceller&&l._close(),Tt(k)}).finally(function(){u.openComplete=!0,K()}).then(function(){var k;return O&&(k={},l.tables.forEach(function(B){B.schema.indexes.forEach(function(M){M.name&&(k["idb://".concat(l.name,"/").concat(B.name,"/").concat(M.name)]=new gn(-1/0,[[[]]]))}),k["idb://".concat(l.name,"/").concat(B.name,"/")]=k["idb://".concat(l.name,"/").concat(B.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(wl).fire(k),lr(k,!0)),l})}function js(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(w){var w=b(w),D=w.value;return w.done?D:D&&typeof D.then=="function"?D.then(f,h):N(D)?Promise.all(D).then(f,h):f(D)}}return y(u)()}function Ma(l,u,f){for(var h=N(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Ho={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function j(k,B,M){var Q=rn(k),z=y[Q]=y[Q]||[],Y=k==null?0:typeof k=="string"?1:k.length,$=0<B,Q=d(d({},M),{name:$?"".concat(Q,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:$,keyTail:B,keyLength:Y,extractKey:El(k),unique:!$&&M.unique});return z.push(Q),Q.isPrimaryKey||b.push(Q),1<Y&&j(Y===2?k[0]:k.slice(0,Y-1),B+1,M),z.sort(function(ae,de){return ae.keyTail-de.keyTail}),Q}var w=j(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[w];for(var D=0,K=h.indexes;D<K.length;D++){var T=K[D];j(T.keyPath,0,T)}function O(k){var B,M=k.query.index;return M.isVirtual?d(d({},k),{query:{index:M.lowLevelIndex,range:(B=k.query.range,M=M.keyTail,{type:B.type===1?2:B.type,lower:Ma(B.lower,B.lowerOpen?l.MAX_KEY:l.MIN_KEY,M),lowerOpen:!0,upper:Ma(B.upper,B.upperOpen?l.MIN_KEY:l.MAX_KEY,M),upperOpen:!0})}}):k}return d(d({},f),{schema:d(d({},h),{primaryKey:w,indexes:b,getIndexByKeyPath:function(k){return(k=y[rn(k)])&&k[0]}}),count:function(k){return f.count(O(k))},query:function(k){return f.query(O(k))},openCursor:function(k){var B=k.query.index,M=B.keyTail,z=B.keyLength;return B.isVirtual?f.openCursor(O(k)).then(function($){return $&&Y($)}):f.openCursor(k);function Y($){return Object.create($,{continue:{value:function(Q){Q!=null?$.continue(Ma(Q,k.reverse?l.MAX_KEY:l.MIN_KEY,M)):k.unique?$.continue($.key.slice(0,z).concat(k.reverse?l.MIN_KEY:l.MAX_KEY,M)):$.continue()}},continuePrimaryKey:{value:function(Q,ae){$.continuePrimaryKey(Ma(Q,l.MAX_KEY,M),ae)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var Q=$.key;return z===1?Q[0]:Q.slice(0,z)}},value:{get:function(){return $.value}}})}}})}})}};function ai(l,u,f,h){return f=f||{},h=h||"",S(l).forEach(function(y){var b,j,w;A(u,y)?(b=l[y],j=u[y],typeof b=="object"&&typeof j=="object"&&b&&j?(w=Ue(b))!==Ue(j)?f[h+y]=u[y]:w==="Object"?ai(b,j,f,h+y+"."):b!==j&&(f[h+y]=u[y]):b!==j&&(f[h+y]=u[y])):f[h+y]=void 0}),S(u).forEach(function(y){A(l,y)||(f[h+y]=u[y])}),f}function li(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=ke.trans,j=b.table(u).hook,w=j.deleting,D=j.creating,K=j.updating;switch(y.type){case"add":if(D.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"put":if(D.fire===Ge&&K.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"delete":if(w.fire===Ge)break;return b._promise("readwrite",function(){return T(y)},!0);case"deleteRange":if(w.fire===Ge)break;return b._promise("readwrite",function(){return(function O(k,B,M){return f.query({trans:k,values:!1,query:{index:h,range:B},limit:M}).then(function(z){var Y=z.result;return T({type:"delete",keys:Y,trans:k}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):Y.length<M?{failures:[],numFailures:0,lastResult:void 0}:O(k,d(d({},B),{lower:Y[Y.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function T(O){var k,B,M,z=ke.trans,Y=O.keys||li(h,O);if(Y)return(O=O.type==="add"||O.type==="put"?d(d({},O),{keys:Y}):d({},O)).type!=="delete"&&(O.values=g([],O.values)),O.keys&&(O.keys=g([],O.keys)),k=f,M=Y,((B=O).type==="add"?Promise.resolve([]):k.getMany({trans:B.trans,keys:M,cache:"immutable"})).then(function($){var Q=Y.map(function(ae,de){var Ee,Ce,me,Re=$[de],Te={onerror:null,onsuccess:null};return O.type==="delete"?w.fire.call(Te,ae,Re,z):O.type==="add"||Re===void 0?(Ee=D.fire.call(Te,ae,O.values[de],z),ae==null&&Ee!=null&&(O.keys[de]=ae=Ee,h.outbound||Se(O.values[de],h.keyPath,ae))):(Ee=ai(Re,O.values[de]),(Ce=K.fire.call(Te,Ee,ae,Re,z))&&(me=O.values[de],Object.keys(Ce).forEach(function(pe){A(me,pe)?me[pe]=Ce[pe]:Se(me,pe,Ce[pe])}))),Te});return f.mutate(O).then(function(ae){for(var de=ae.failures,Ee=ae.results,Ce=ae.numFailures,ae=ae.lastResult,me=0;me<Y.length;++me){var Re=(Ee||Y)[me],Te=Q[me];Re==null?Te.onerror&&Te.onerror(de[me]):Te.onsuccess&&Te.onsuccess(O.type==="put"&&$[me]?O.values[me]:Re)}return{failures:de,results:Ee,numFailures:Ce,lastResult:ae}}).catch(function(ae){return Q.forEach(function(de){return de.onerror&&de.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function sr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)it(u.keys[y],l[b])===0&&(h.push(f?bt(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var uu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=sr(h.keys,h.trans._cache,h.cache==="clone"))?De.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?bt(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Wa(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function ou(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Lo={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(ke.subscr&&y!=="readonly")throw new je.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return l.transaction(h,y,b)},table:function(h){function y(Y){var z,Y=Y.query;return[z=Y.index,new gn((z=(Y=Y.range).lower)!=null?z:l.MIN_KEY,(z=Y.upper)!=null?z:l.MAX_KEY)]}var b=l.table(h),j=b.schema,w=j.primaryKey,D=j.indexes,K=w.extractKey,T=w.outbound,O=w.autoIncrement&&D.filter(function(M){return M.compound&&M.keyPath.includes(w.keyPath)}),k=d(d({},b),{mutate:function(M){function z(Be){return Be="idb://".concat(u,"/").concat(h,"/").concat(Be),de[Be]||(de[Be]=new gn)}var Y,$,Q,ae=M.trans,de=M.mutatedParts||(M.mutatedParts={}),Ee=z(""),Ce=z(":dels"),me=M.type,Te=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[li(w,M).filter(function(Be){return Be}),M.values]:[],Re=Te[0],Te=Te[1],pe=M.trans._cache;return N(Re)?(Ee.addKeys(Re),(me=me==="delete"||Re.length===Te.length?sr(Re,pe):null)||Ce.addKeys(Re),(me||Te)&&(Y=z,$=me,Q=Te,j.indexes.forEach(function(Be){var We=Y(Be.name||"");function ut(et){return et!=null?Be.extractKey(et):null}function Ye(et){Be.multiEntry&&N(et)?et.forEach(function(Mt){return We.addKey(Mt)}):We.addKey(et)}($||Q).forEach(function(et,Ct){var An=$&&ut($[Ct]),Ct=Q&&ut(Q[Ct]);it(An,Ct)!==0&&(An!=null&&Ye(An),Ct!=null)&&Ye(Ct)})}))):Re?(Te={from:(pe=Re.lower)!=null?pe:l.MIN_KEY,to:(me=Re.upper)!=null?me:l.MAX_KEY},Ce.add(Te),Ee.add(Te)):(Ee.add(f),Ce.add(f),j.indexes.forEach(function(Be){return z(Be.name).add(f)})),b.mutate(M).then(function(Be){return!Re||M.type!=="add"&&M.type!=="put"||(Ee.addKeys(Be.results),O&&O.forEach(function(We){for(var ut=M.values.map(function(An){return We.extractKey(An)}),Ye=We.keyPath.findIndex(function(An){return An===w.keyPath}),et=0,Mt=Be.results.length;et<Mt;++et)ut[et][Ye]=Be.results[et];z(We.name).addKeys(ut)})),ae.mutatedParts=ti(ae.mutatedParts||{},de),Be})}}),B={get:function(M){return[w,new gn(M.key)]},getMany:function(M){return[w,new gn().addKeys(M.keys)]},count:y,query:y,openCursor:y};return S(B).forEach(function(M){k[M]=function(z){var Y=ke.subscr,$=!!Y,Q=Wa(ke,b)&&ou(M,z)?z.obsSet={}:Y;if($){var ae,Y=function(Te){return Te="idb://".concat(u,"/").concat(h,"/").concat(Te),Q[Te]||(Q[Te]=new gn)},de=Y(""),Ee=Y(":dels"),$=B[M](z),Ce=$[0],$=$[1];if((M==="query"&&Ce.isPrimaryKey&&!z.values?Ee:Y(Ce.name||"")).add($),!Ce.isPrimaryKey){if(M!=="count")return ae=M==="query"&&T&&z.values&&b.query(d(d({},z),{values:!1})),b[M].apply(this,arguments).then(function(Te){if(M==="query"){if(T&&z.values)return ae.then(function(ut){return ut=ut.result,de.addKeys(ut),Te});var pe=z.values?Te.result.map(K):Te.result;(z.values?de:Ee).addKeys(pe)}else{var Be,We;if(M==="openCursor")return We=z.values,(Be=Te)&&Object.create(Be,{key:{get:function(){return Ee.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var ut=Be.primaryKey;return Ee.addKey(ut),ut}},value:{get:function(){return We&&de.addKey(Be.primaryKey),Be.value}}})}return Te});Ee.add(f)}}return b[M].apply(this,arguments)}}),k}})}};function cu(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),N(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&N(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function si(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<it(f,h.lower):0<=it(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?it(f,h.upper)<0:it(f,h.upper)<=0));var f,h}function ir(l,u,f,h,y,b){var j,w,D,K,T,O;return!f||f.length===0||(j=u.query.index,w=j.multiEntry,D=u.query.range,K=h.schema.primaryKey.extractKey,T=j.extractKey,O=(j.lowLevelIndex||j).extractKey,(h=f.reduce(function(k,B){var M=k,z=[];if(B.type==="add"||B.type==="put")for(var Y=new gn,$=B.values.length-1;0<=$;--$){var Q,ae=B.values[$],de=K(ae);!Y.hasKey(de)&&(Q=T(ae),w&&N(Q)?Q.some(function(Te){return si(Te,D)}):si(Q,D))&&(Y.addKey(de),z.push(ae))}switch(B.type){case"add":var Ee=new gn().addKeys(u.values?k.map(function(pe){return K(pe)}):k),M=k.concat(u.values?z.filter(function(pe){return pe=K(pe),!Ee.hasKey(pe)&&(Ee.addKey(pe),!0)}):z.map(function(pe){return K(pe)}).filter(function(pe){return!Ee.hasKey(pe)&&(Ee.addKey(pe),!0)}));break;case"put":var Ce=new gn().addKeys(B.values.map(function(pe){return K(pe)}));M=k.filter(function(pe){return!Ce.hasKey(u.values?K(pe):pe)}).concat(u.values?z:z.map(function(pe){return K(pe)}));break;case"delete":var me=new gn().addKeys(B.keys);M=k.filter(function(pe){return!me.hasKey(u.values?K(pe):pe)});break;case"deleteRange":var Re=B.range;M=k.filter(function(pe){return!si(K(pe),Re)})}return M},l))===l)?l:(h.sort(function(k,B){return it(O(k),O(B))||it(K(k),K(B))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Ol(l,u){return it(l.lower,u.lower)===0&&it(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function ws(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=it(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Ko(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&ye(b,y)},3e3))})}var ii={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,j,w=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,w.addEventListener("abort",(j=function(D){return function(){if(b.abort(),h==="readwrite"){for(var K=new Set,T=0,O=f;T<O.length;T++){var k=O[T],B=Pa["idb://".concat(u,"/").concat(k)];if(B){var M=l.table(k),z=B.optimisticOps.filter(function(Be){return Be.trans===w});if(w._explicit&&D&&w.mutatedParts)for(var Y=0,$=Object.values(B.queries.query);Y<$.length;Y++)for(var Q=0,ae=(Ce=$[Y]).slice();Q<ae.length;Q++)tr((me=ae[Q]).obsSet,w.mutatedParts)&&(ye(Ce,me),me.subscribers.forEach(function(Be){return K.add(Be)}));else if(0<z.length){B.optimisticOps=B.optimisticOps.filter(function(Be){return Be.trans!==w});for(var de=0,Ee=Object.values(B.queries.query);de<Ee.length;de++)for(var Ce,me,Re,Te=0,pe=(Ce=Ee[de]).slice();Te<pe.length;Te++)(me=pe[Te]).res!=null&&w.mutatedParts&&(D&&!me.dirty?(Re=Object.isFrozen(me.res),Re=ir(me.res,me.req,z,M,me,Re),me.dirty?(ye(Ce,me),me.subscribers.forEach(function(Be){return K.add(Be)})):Re!==me.res&&(me.res=Re,me.promise=De.resolve({result:Re}))):(me.dirty&&ye(Ce,me),me.subscribers.forEach(function(Be){return K.add(Be)})))}}}K.forEach(function(Be){return Be()})}}})(!1),{signal:y}),w.addEventListener("error",j(!1),{signal:y}),w.addEventListener("complete",j(!0),{signal:y})),w},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var j,w=ke.trans;return!y.outbound&&w.db._options.cache!=="disabled"&&!w.explicit&&w.idbtrans.mode==="readwrite"&&(j=Pa["idb://".concat(u,"/").concat(f)])?(w=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||li(y,b).some(function(D){return D==null}))?(j.optimisticOps.push(b),b.mutatedParts&&ni(b.mutatedParts),w.then(function(D){0<D.numFailures&&(ye(j.optimisticOps,b),(D=cu(0,b,D))&&j.optimisticOps.push(D),b.mutatedParts)&&ni(b.mutatedParts)}),w.catch(function(){ye(j.optimisticOps,b),b.mutatedParts&&ni(b.mutatedParts)})):w.then(function(D){var K=cu(0,d(d({},b),{values:b.values.map(function(T,O){var k;return D.failures[O]?T:(Se(k=(k=y.keyPath)!=null&&k.includes(".")?bt(T):d({},T),y.keyPath,D.results[O]),k)})}),D);j.optimisticOps.push(K),queueMicrotask(function(){return b.mutatedParts&&ni(b.mutatedParts)})}),w):h.mutate(b)},query:function(b){var j,w,D,K,T,O,k;return Wa(ke,h)&&ou("query",b)?(j=((D=ke.trans)==null?void 0:D.db._options.cache)==="immutable",w=(D=ke).requery,D=D.signal,O=((B,M,z,Y)=>{var $=Pa["idb://".concat(B,"/").concat(M)];if(!$)return[];if(!(B=$.queries[z]))return[null,!1,$,null];var Q=B[(Y.query?Y.query.index.name:null)||""];if(!Q)return[null,!1,$,null];switch(z){case"query":var ae=Q.find(function(de){return de.req.limit===Y.limit&&de.req.values===Y.values&&Ol(de.req.query.range,Y.query.range)});return ae?[ae,!0,$,Q]:[Q.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=Y.limit&&(!Y.values||de.req.values)&&ws(de.req.query.range,Y.query.range)}),!1,$,Q];case"count":return ae=Q.find(function(de){return Ol(de.req.query.range,Y.query.range)}),[ae,!!ae,$,Q]}})(u,f,"query",b),k=O[0],K=O[2],T=O[3],k&&O[1]?k.obsSet=b.obsSet:(O=h.query(b).then(function(B){var M=B.result;if(k&&(k.res=M),j){for(var z=0,Y=M.length;z<Y;++z)Object.freeze(M[z]);Object.freeze(M)}else B.result=bt(M);return B}).catch(function(B){return T&&k&&ye(T,k),Promise.reject(B)}),k={obsSet:b.obsSet,promise:O,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(k):(T=[k],(K=K||(Pa["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=T)),Ko(k,T,w,D),k.promise.then(function(B){return{result:ir(B.result,b,K?.optimisticOps,h,k,j)}})):h.query(b)}})}})}};function Ns(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Qt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new je.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort($i),f.stores({}),this._state.autoSchema=!1),f},Qt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?l():new De(function(f,h){if(u._state.openComplete)return h(new je.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new je.DatabaseClosed);u.open().catch(Ge)}u._state.dbReadyPromise.then(f,h)}).then(l)},Qt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(j,w){return j.level-w.level}),this},Qt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Qt.prototype.open=function(){var l=this;return Xn(xn,function(){return Uo(l)})},Qt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Ya.indexOf(this);if(0<=u&&Ya.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new De(function(f){l.dbReadyResolve=f}),l.openCanceller=new De(function(f,h){l.cancelOpen=h}))},Qt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new je.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new je.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Qt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new De(function(y,b){function j(){u.close(l);var w=u._deps.indexedDB.deleteDatabase(u.name);w.onsuccess=Bt(function(){var D,K,T;D=u._deps,K=u.name,Is(T=D.indexedDB)||K===ds||Pi(T,D.IDBKeyRange).delete(K).catch(Ge),y()}),w.onerror=Vn(b),w.onblocked=u._fireOnBlocked}if(f)throw new je.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(j):j()})},Qt.prototype.backendDB=function(){return this.idbdb},Qt.prototype.isOpen=function(){return this.idbdb!==null},Qt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Qt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new je.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,rt(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Qt.prototype._transaction=function(l,u,f){var h,y,b=this,j=ke.trans,w=(j&&j.db===this&&l.indexOf("!")===-1||(j=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(K){if(K=K instanceof b.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),l=="r"||l===ba)h=ba;else{if(l!="rw"&&l!=Oa)throw new je.InvalidArgument("Invalid transaction mode: "+l);h=Oa}if(j){if(j.mode===ba&&h===Oa){if(!w)throw new je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&y.forEach(function(K){if(j&&j.storeNames.indexOf(K)===-1){if(!w)throw new je.SubTransaction("Table "+K+" not included in parent transaction.");j=null}}),w&&j&&!j.active&&(j=null)}}catch(K){return j?j._promise(null,function(T,O){O(K)}):Tt(K)}var D=(function K(T,O,k,B,M){return De.resolve().then(function(){var Q=ke.transless||ke,z=T._createTransaction(O,k,T._dbSchema,B),Q=(z.explicit=!0,{trans:z,transless:Q});if(B)z.idbtrans=B.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(ae){return ae.name===Gt.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,O,k,null,M)})):Tt(ae)}var Y,$=E(M),Q=($&&en(),De.follow(function(){var ae;(Y=M.call(z,z))&&($?(ae=Tn.bind(null,null),Y.then(ae,ae)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=js(Y)))},Q));return(Y&&typeof Y.then=="function"?De.resolve(Y).then(function(ae){return z.active?ae:Tt(new je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return Y})).then(function(ae){return B&&z._resolve(),z._completion.then(function(){return ae})}).catch(function(ae){return z._reject(ae),Tt(ae)})})}).bind(null,this,h,y,j,f);return j?j._promise(h,D,"lock"):ke.trans?Xn(ke.transless,function(){return b._whenReady(D)}):this._whenReady(D)},Qt.prototype.table=function(l){if(A(this._allTables,l))return this._allTables[l];throw new je.InvalidTable("Table ".concat(l," does not exist"))};var ia=Qt;function Qt(l,u){var f,h,y,b,j,w=this,D=(this._middlewares={},this.verno=0,Qt.dependencies),D=(this._options=u=d({addons:Qt.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ge,dbReadyPromise:null,cancelOpen:Ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),T=(K.dbReadyPromise=new De(function(O){K.dbReadyResolve=O}),K.openCanceller=new De(function(O,k){K.cancelOpen=k}),this._state=K,this.name=l,this.on=ps(this,"populate","blocked","versionchange","close",{ready:[ne,Ge]}),this.once=function(O,k){var B=function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];w.on(O).unsubscribe(B),k.apply(w,M)};return w.on(O,B)},this.on.ready.subscribe=Ne(this.on.ready.subscribe,function(O){return function(k,B){Qt.vip(function(){var M,z=w._state;z.openComplete?(z.dbOpenError||De.resolve().then(k),B&&O(k)):z.onReadyBeingFired?(z.onReadyBeingFired.push(k),B&&O(k)):(O(k),M=w,B||O(function Y(){M.on.ready.unsubscribe(k),M.on.ready.unsubscribe(Y)}))})}}),this.Collection=(f=this,pn(Ro.prototype,function(Y,z){this.db=f;var B=Yi,M=null;if(z)try{B=z()}catch(Q){M=Q}var z=Y._ctx,Y=z.table,$=Y.hook.reading.fire;this._ctx={table:Y,index:z.index,isPrimKey:!z.index||Y.schema.primKey.keyPath&&z.index===Y.schema.primKey.name,range:B,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:z.or,valueMapper:$!==dt?$:null}})),this.Table=(h=this,pn(Xi.prototype,function(O,k,B){this.db=h,this._tx=B,this.name=O,this.schema=k,this.hook=h._allTables[O]?h._allTables[O].hook:ps(null,{creating:[Yn,Ge],reading:[Vt,dt],updating:[ge,Ge],deleting:[ta,Ge]})})),this.Transaction=(y=this,pn(Zi.prototype,function(O,k,B,M,z){var Y=this;O!=="readonly"&&k.forEach(function($){$=($=B[$])==null?void 0:$.yProps,$&&(k=k.concat($.map(function(Q){return Q.updatesTable})))}),this.db=y,this.mode=O,this.storeNames=k,this.schema=B,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=ps(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function($,Q){Y._resolve=$,Y._reject=Q}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function($){var Q=Y.active;return Y.active=!1,Y.on.error.fire($),Y.parent?Y.parent._reject($):Q&&Y.idbtrans&&Y.idbtrans.abort(),Tt($)})})),this.Version=(b=this,pn(qo.prototype,function(O){this.db=b,this._cfg={version:O,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,pn(Va.prototype,function(O,k,B){if(this.db=j,this._ctx={table:O,index:k===":id"?null:k,or:B},this._cmp=this._ascending=it,this._descending=function(M,z){return it(z,M)},this._max=function(M,z){return 0<it(M,z)?M:z},this._min=function(M,z){return it(M,z)<0?M:z},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new je.MissingAPI})),this.on("versionchange",function(O){0<O.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(O){!O.newVersion||O.newVersion<O.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(O.oldVersion/10))}),this._maxKey=_l(u.IDBKeyRange),this._createTransaction=function(O,k,B,M){return new w.Transaction(O,k,B,w._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(O){w.on("blocked").fire(O),Ya.filter(function(k){return k.name===w.name&&k!==w&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(O)})},this.use(uu),this.use(ii),this.use(Lo),this.use(Ho),this.use(ru),new Proxy(this,{get:function(O,k,B){var M;return k==="_vip"||(k==="table"?function(z){return Ns(w.table(z),T)}:(M=Reflect.get(O,k,B))instanceof Xi?Ns(M,T):k==="tables"?M.map(function(z){return Ns(z,T)}):k==="_createTransaction"?function(){return Ns(M.apply(this,arguments),T)}:M)}}));this.vip=T,D.forEach(function(O){return O(w)})}var Dl,Ia=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",fu=(ri.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ri.prototype[Ia]=function(){return this},ri);function ri(l){this._subscribe=l}try{Dl={indexedDB:x.indexedDB||x.mozIndexedDB||x.webkitIndexedDB||x.msIndexedDB,IDBKeyRange:x.IDBKeyRange||x.webkitIDBKeyRange}}catch{Dl={indexedDB:null,IDBKeyRange:null}}function du(l){var u,f=!1,h=new fu(function(y){var b=E(l),j,w=!1,D={},K={},T={get closed(){return w},unsubscribe:function(){w||(w=!0,j&&j.abort(),O&&yn.storagemutated.unsubscribe(B))}},O=(y.start&&y.start(T),!1),k=function(){return Aa(M)},B=function(z){ti(D,z),tr(K,D)&&k()},M=function(){var z,Y,$;!w&&Dl.indexedDB&&(D={},z={},j&&j.abort(),j=new AbortController,$=(Q=>{var ae=_a();try{b&&en();var de=Ut(l,Q);return de=b?de.finally(Tn):de}finally{ae&&na()}})(Y={subscr:z,signal:j.signal,requery:k,querier:l,trans:null}),Promise.resolve($).then(function(Q){f=!0,u=Q,w||Y.signal.aborted||(D={},(ae=>{for(var de in ae)if(A(ae,de))return;return 1})(K=z)||O||(yn(wl,B),O=!0),Aa(function(){return!w&&y.next&&y.next(Q)}))},function(Q){f=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||w||Aa(function(){w||y.error&&y.error(Q)})}))};return setTimeout(k,0),T});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var el=ia;function rr(l){var u=za;try{za=!0,yn.storagemutated.fire(l),lr(l,!0)}finally{za=u}}P(el,d(d({},te),{delete:function(l){return new el(l,{addons:[]}).delete()},exists:function(l){return new el(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=el.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Is(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==ds})}):Pi(f,u).toCollection().primaryKeys()).then(l)}catch{return Tt(new je.MissingAPI)}var u,f},defineClass:function(){return function(l){U(this,l)}},ignoreTransaction:function(l){return ke.trans?Xn(ke.transless,l):l()},vip:Wi,async:function(l){return function(){try{var u=js(l.apply(this,arguments));return u&&typeof u.then=="function"?u:De.resolve(u)}catch(f){return Tt(f)}}},spawn:function(l,u,f){try{var h=js(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:De.resolve(h)}catch(y){return Tt(y)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(l,u){return l=De.resolve(typeof l=="function"?el.ignoreTransaction(l):l).timeout(u||6e4),ke.trans?ke.trans.waitFor(l):l},Promise:De,debug:{get:function(){return ze},set:function(l){xe(l)}},derive:ue,extend:U,props:P,override:Ne,Events:ps,on:yn,liveQuery:du,extendObservabilitySet:ti,getByKeyPath:ve,setByKeyPath:Se,delByKeyPath:function(l,u){typeof u=="string"?Se(l,u,void 0):"length"in u&&[].map.call(u,function(f){Se(l,f,void 0)})},shallowClone:Ie,deepClone:bt,getObjectDiff:ai,cmp:it,asap:_e,minKey:-1/0,addons:[],connections:Ya,errnames:Gt,dependencies:Dl,cache:Pa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),el.maxKey=_l(el.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(wl,function(l){za||(l=new CustomEvent(Za,{detail:l}),za=!0,dispatchEvent(l),za=!1)}),addEventListener(Za,function(l){l=l.detail,za||rr(l)}));var Tl,za=!1,Cn=function(){};return typeof BroadcastChannel<"u"&&((Cn=function(){(Tl=new BroadcastChannel(Za)).onmessage=function(l){return l.data&&rr(l.data)}})(),typeof Tl.unref=="function"&&Tl.unref(),yn(wl,function(l){za||Tl.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ia.disableBfCache&&l.persisted){ze&&console.debug("Dexie: handling persisted pagehide"),Tl?.close();for(var u=0,f=Ya;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ia.disableBfCache&&l.persisted&&(ze&&console.debug("Dexie: handling persisted pageshow"),Cn(),rr({all:new gn(-1/0,[[]])}))})),De.rejectionMapper=function(l,u){return!l||l instanceof Me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ft[l.name]?l:(u=new ft[l.name](u||l.message,l),"stack"in l&&Z(u,"stack",{get:function(){return this.inner.stack}}),u)},xe(ze),d(ia,Object.freeze({__proto__:null,Dexie:ia,Entity:Ir,PropModification:jl,RangeSet:gn,add:function(l){return new jl({add:l})},cmp:it,default:ia,liveQuery:du,mergeRanges:Ja,rangesOverlap:lu,remove:function(l){return new jl({remove:l})},replacePrefix:function(l,u){return new jl({replacePrefix:[l,u]})}}),{default:ia}),ia})})(xo)),xo.exports}var Ax=Cx();const Kf=B0(Ax),Dp=Symbol.for("Dexie"),No=globalThis[Dp]||(globalThis[Dp]=Kf);if(Kf.semVer!==No.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Kf.semVer} and ${No.semVer}`);const{liveQuery:Ev,mergeRanges:Cv,rangesOverlap:Av,RangeSet:Ov,cmp:Dv,Entity:Tv,PropModification:Mv,replacePrefix:zv,add:kv,remove:Rv,DexieYProvider:Bv}=No,If=new No("WiseMarkDB");If.version(1).stores({pdfs:"hash, filename, size, blob"});async function Qf(r){const c=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function ed(r,c,m,d){await If.pdfs.put({hash:r,filename:c,size:m,blob:d})}async function Ox(r){const c=await If.pdfs.get(r);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function Dx(r){if(!r?.pdf_hash)return null;try{const{data:c}=await ln.getPdf(r.id),m=(c instanceof ArrayBuffer,c),d=r.file_size??m?.byteLength??0;return await ed(r.pdf_hash,r.filename||"",d,m),{data:m,filename:r.filename||"",size:d}}catch{const c=await Ox(r.pdf_hash);return c||null}}const pa=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Tp(r){if(!r)return null;const c=new Date(r);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function Tx(r){if(!r)return null;const c=new Date(r);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),x=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:x<24?`${x}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function Mx({doc:r,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:x,onOpen:S,onRename:N,onDelete:U}){const C=c[r.highlight_preset]??c._default,q=C?.colors?.[0]?.hex??"#94a3b8",A=r.color&&pa.includes(r.color)?r.color:m,P=r.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(r.id),onMouseLeave:x,onClick:()=>S(r.id),role:"button",tabIndex:0,onKeyDown:be=>be.key==="Enter"&&S(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${A}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[C&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:q,background:`${q}14`},children:C.name}),Tp(r.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Tp(r.created_at)})]}),r.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",Tx(r.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:P>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[P," note",P!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),N(r)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),U(r)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsx(Gr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function zx(){const{projectId:r}=Gf(),c=bl(),m=Ui(),[d,g]=H.useState(!1),[x,S]=H.useState(""),[N,U]=H.useState(null),[C,q]=H.useState(""),[A,P]=H.useState(!1),[be,Z]=H.useState(""),[ue,W]=H.useState(null),[oe,ce]=H.useState(""),[Ne,he]=H.useState(null),[_e,ve]=H.useState(pa[0]),Se=H.useRef(null),Ie=H.useRef(null),Ve=H.useRef(null),[rt,Le]=H.useState(0),[$e,bt]=H.useState(null),[Ae,Ue]=H.useState("recent"),[X,re]=H.useState(!1),[ye,we]=H.useState(null),[G,E]=H.useState(!1),{data:te,isLoading:fe}=kn({queryKey:["project",r],queryFn:async()=>(await Yr.get(r)).data,enabled:!!r}),{data:Me,isLoading:Ze}=kn({queryKey:["documents",r],queryFn:async()=>(await ln.list({project:r})).data,enabled:!!r}),at=Array.isArray(Me)?Me:Me?.results??[],{data:St=[]}=kn({queryKey:["lenses"],queryFn:async()=>(await In.list()).data}),Gt=H.useMemo(()=>{const Oe={};St.forEach(pt=>{Oe[pt.id]=pt});const qe=St.find(pt=>pt.is_system)??St[0];return qe&&(Oe._default=qe),Oe},[St]),dn=H.useMemo(()=>{const Oe=[...at];return Ae==="recent"?Oe.sort((qe,pt)=>{const Lt=qe.last_opened_at||qe.updated_at||qe.created_at||"";return(pt.last_opened_at||pt.updated_at||pt.created_at||"").localeCompare(Lt)}):Ae==="uploaded"?Oe.sort((qe,pt)=>(pt.created_at||"").localeCompare(qe.created_at||"")):Ae==="name"?Oe.sort((qe,pt)=>(qe.filename||"").localeCompare(pt.filename||"")):Ae==="annotations"&&Oe.sort((qe,pt)=>(pt.annotation_count??0)-(qe.annotation_count??0)),Oe},[at,Ae]),je=at.reduce((Oe,qe)=>Oe+(qe.annotation_count??0),0),ft=On({mutationFn:({id:Oe,name:qe})=>Yr.update(Oe,{name:qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",r]}),m.invalidateQueries({queryKey:["projects"]}),P(!1)}}),Ge=On({mutationFn:({id:Oe,filename:qe})=>ln.update(Oe,{filename:qe}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),U(null),q("")}}),dt=On({mutationFn:Oe=>ln.delete(Oe),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),we(null)}}),Vt=On({mutationFn:Oe=>Yr.delete(Oe),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),At=async Oe=>{const qe=Oe.target.files?.[0];if(!qe||!qe.type.includes("pdf"))return;S(""),W(qe);const pt=qe.name.replace(/\.pdf$/i,"")||qe.name;ce(pt),ve(pa[at.length%pa.length]),he(null),Se.current=null;try{const Lt=await qe.arrayBuffer(),Jt=await Qf(Lt),hn={arrayBuffer:Lt,hash:Jt,size:qe.size};he(hn),Se.current={...hn,suggestedName:pt}}catch(Lt){S(Lt.message||"Could not read file"),W(null),ce("")}},Yn=async Oe=>{Oe.preventDefault(),re(!1);const qe=Oe.dataTransfer?.files?.[0];if(!qe||!qe.type.includes("pdf"))return;S(""),W(qe);const pt=qe.name.replace(/\.pdf$/i,"")||qe.name;ce(pt),ve(pa[at.length%pa.length]),he(null),Se.current=null;try{const Lt=await qe.arrayBuffer(),Jt=await Qf(Lt),hn={arrayBuffer:Lt,hash:Jt,size:qe.size};he(hn),Se.current={...hn,suggestedName:pt}}catch(Lt){S(Lt.message||"Could not read file"),W(null),ce("")}},ta=()=>{W(null),ce(""),he(null),ve(pa[0]),S(""),Se.current=null,Le(Oe=>Oe+1)},ge=()=>Ve.current?.click(),tt=async Oe=>{Oe.preventDefault();const qe=r,Lt=Ie.current?.value?.trim()||oe?.trim()||Se.current?.suggestedName?.trim()||"",Jt=Se.current||Ne;if(!qe){S("Project not found.");return}if(!Lt){S("Please enter a name for the PDF.");return}if(!Jt||!Jt.hash||!Jt.arrayBuffer){S("File data missing. Please close and select the file again.");return}const hn=Lt.toLowerCase().endsWith(".pdf")?Lt:`${Lt}.pdf`;S(""),g(!0);try{const Pt=new FormData;Pt.append("project",String(qe)),Pt.append("filename",hn),Pt.append("color",_e),Pt.append("file",new Blob([Jt.arrayBuffer]),hn),await ln.createWithFile(Pt),await ed(Jt.hash,hn,Jt.size,Jt.arrayBuffer),m.invalidateQueries({queryKey:["documents",qe]}),W(null),ce(""),he(null),Se.current=null,Le(Wt=>Wt+1)}catch(Pt){const Wt=Pt.response?.data?.detail||typeof Pt.response?.data=="object"&&Object.values(Pt.response?.data||{}).flat().join(" ")||Pt.message||"Upload failed";S(String(Wt))}finally{g(!1)}},ne=Oe=>{U(Oe.id),q(Oe.filename||"")},ze=()=>{if(N==null||!C.trim()){U(null);return}Ge.mutate({id:N,filename:C.trim()})},xe=()=>{U(null),q("")},Fe=()=>{Z(te?.name??""),P(!0)},lt=()=>{const Oe=be.trim();if(!Oe||Oe===te?.name){P(!1);return}ft.mutate({id:r,name:Oe})},xt=()=>{P(!1),Z("")},Et=te?.color&&pa.includes(te.color)?te.color:te?pa[te.id%pa.length]:pa[0];return fe||!te?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsx(Mo,{showBack:!0,backTo:"/app"}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:A?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:be,onChange:Oe=>Z(Oe.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:Oe=>{Oe.key==="Enter"&&lt(),Oe.key==="Escape"&&xt()}}),o.jsx("button",{type:"button",onClick:lt,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:xt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:te.name})}),!A&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:Fe,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>E(!0),disabled:Vt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[at.length," document",at.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[je," annotation",je!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:Ae,onChange:Oe=>Ue(Oe.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:ge,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(wo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:Ve,type:"file",accept:".pdf",onChange:At,className:"hidden","aria-hidden":"true",tabIndex:-1},rt),x&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:x}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"})," Uploading"]}),Ze?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):at.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(qi,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(Oe=>N===Oe.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:C,onChange:qe=>q(qe.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:qe=>{qe.key==="Enter"&&ze(),qe.key==="Escape"&&xe()}}),o.jsx("button",{type:"button",onClick:ze,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:xe,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-4 h-4"})})]},Oe.id):o.jsx(Mx,{doc:Oe,lensMap:Gt,projectColor:Et,hovered:$e===Oe.id,onHover:bt,onLeave:()=>bt(null),onOpen:qe=>c(`/document/${qe}`),onRename:ne,onDelete:qe=>we(qe)},Oe.id))}),at.length>0&&o.jsxs("div",{onDragOver:Oe=>{Oe.preventDefault(),re(!0)},onDragLeave:()=>re(!1),onDrop:Yn,onClick:ge,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${X?"#2563eb":"#e2e8f0"}`,background:X?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:X?"#dbeafe":"#f1f5f9"},children:o.jsx(wo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:X?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),ue&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ta,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),Ne?o.jsxs("div",{className:"space-y-4",children:[x&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:x}),o.jsx("input",{ref:Ie,type:"text",value:oe,onChange:Oe=>ce(Oe.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:pa.map(Oe=>o.jsx("button",{type:"button",onClick:()=>ve(Oe),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:Oe,borderColor:_e===Oe?"#1e293b":"transparent",outline:_e===Oe?"2px solid #fff":"none",outlineOffset:-4}},Oe))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ta,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:tt,disabled:d||!oe.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),ye&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!dt.isPending&&we(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:ye.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>we(null),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>dt.mutate(ye.id),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:dt.isPending?"Deleting":"Delete"})]})]})}),G&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Vt.isPending&&E(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:Oe=>Oe.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:te.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Vt.mutate(r),disabled:Vt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Vt.isPending?"Deleting":"Delete project"})]})]})})]})}const gl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},_o=Object.keys(gl);function La(r,c=1){if(!r||!r.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(r.slice(1),16),d=m>>16&255,g=m>>8&255,x=m&255;return`rgba(${d},${g},${x},${c})`}function ts(r,c={},m){if(c&&typeof c[r]=="string"&&c[r].trim())return c[r].trim();if(m?.length){const d=m.find(g=>g.key===r);if(d?.display_name)return d.display_name}return gl[r]&&gl[r].name||r}L0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const kx=()=>typeof window<"u"&&window.devicePixelRatio||1;function Rx(r,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,x=g,S=typeof r.width=="number"&&r.width>0?r.width*d:(r.str?.length||1)*x*.5,N=c[4],U=c[5]-g*.85;return{x:N,y:U,w:S,h:x}}function Bx(r,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),x=[];let S=0,N=-999;const U=4;let C=0;return r.items.forEach(q=>{if(!q.str||q.str.trim()==="")return;const A=Q0.transform(c.transform,q.transform),P=Rx(q,A);Math.abs(P.y-N)>U&&(S+=1,N=P.y);const be=P.h,Z=typeof q.width=="number"&&q.width>0?q.width*m:P.w,ue=q.str.split(/(\s+)/);if(!g||ue.length===0){x.push({id:C++,text:q.str,x:P.x,y:P.y,w:P.w,h:P.h,fontSize:P.h,lineIndex:S});return}g.font=`${be}px sans-serif`;const W=ue.map(he=>({text:he,measured:g.measureText(he).width,isSpace:/^\s+$/.test(he)||he===""})),oe=W.reduce((he,_e)=>he+_e.measured,0),ce=oe>0?Z/oe:1;let Ne=0;W.forEach(he=>{const _e=he.measured*ce;if(he.text===""||he.isSpace){Ne+=_e;return}x.push({id:C,text:he.text,x:P.x+Ne,y:P.y,w:_e,h:be,fontSize:be,lineIndex:S}),C+=1,Ne+=_e})}),x}function fy(r){const c={};return r.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function Mp(r,c,m){let x=null,S=1/0;for(const N of r){if(!(m>=N.y-6&&m<=N.y+N.h+6))continue;if(c>=N.x-4&&c<=N.x+N.w+4)return N;const q=c<N.x?N.x-c:c-(N.x+N.w);q<S&&q<40&&(S=q,x=N)}return x}function qx(r){if(!r.length)return"";const c=[];for(let x=1;x<r.length;x++){const S=r[x],N=r[x-1];(S.lineIndex??0)!==(N.lineIndex??0)&&S.y>N.y&&c.push(S.y-N.y)}const m=c.length?[...c].sort((x,S)=>x-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let x=0;x<r.length;x++){const S=r[x];if(x>0){const N=r[x-1],U=(S.lineIndex??0)===(N.lineIndex??0),C=S.y-N.y,q=Math.max(8,(N.h+S.h)/2),A=d!=null?d*1.4:q*1.5,P=!U&&C>=A;U?S.x-(N.x+N.w)>1&&(g+=" "):P?g+=`

`:g+=`
`}g+=S.text}return g.trim()}function Ux(r,c){return r.length?fy(r).map(d=>{const g=Math.min(...d.map(A=>A.x)),x=Math.max(...d.map(A=>A.x+A.w)),S=d.map(A=>A.y),N=S.sort((A,P)=>A-P)[Math.floor(S.length/2)],U=Math.max(...d.map(A=>A.h)),C=2;return{x:(g-1)/c,y:(N-C)/c,width:(x-g+2)/c,height:(U+C+3)/c}}):[]}function Hx({pdfData:r,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:x=null,lensColors:S=[],onSelectionComplete:N,onNumPages:U,onHighlightHover:C,onHighlightHoverEnd:q,onHighlightEdit:A,onHighlightDelete:P}){const[be,Z]=H.useState(null),[ue,W]=H.useState(0),[oe,ce]=H.useState(!0);return H.useEffect(()=>{if(!r)return;let Ne=!1;return(async()=>{ce(!0);try{const _e=r.slice(0),ve=await K0({data:_e}).promise;Ne||(Z(ve),W(ve.numPages),U?.(ve.numPages))}catch(_e){console.error("Failed to load PDF",_e)}Ne||ce(!1)})(),()=>{Ne=!0}},[r,U]),oe?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ya,{className:"w-6 h-6 text-slate-400 animate-spin"})}):be?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:ue},(Ne,he)=>o.jsx(Lx,{pdf:be,pageNumber:he+1,scale:c,pageHighlights:m.filter(_e=>_e.page_number===he+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:x,lensColors:S,onSelectionComplete:N,onHighlightHover:C,onHighlightHoverEnd:q,onHighlightEdit:A,onHighlightDelete:P},he))}):null}function Lx({pdf:r,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:x,selectionForPicker:S,lensColors:N=[],onSelectionComplete:U,onHighlightHover:C,onHighlightHoverEnd:q,onHighlightEdit:A,onHighlightDelete:P}){const be=H.useRef(null),Z=H.useRef(null),ue=H.useRef(null),W=H.useRef(null),[oe,ce]=H.useState({width:0,height:0}),[Ne,he]=H.useState([]),[_e,ve]=H.useState(null),[Se,Ie]=H.useState(null),[Ve,rt]=H.useState(!1),Le=H.useRef(null),$e=H.useRef(null),bt=H.useCallback(()=>{$e.current&&clearTimeout($e.current),$e.current=setTimeout(()=>{q?.(),$e.current=null},1e3)},[q]),Ae=H.useCallback(E=>{$e.current&&(clearTimeout($e.current),$e.current=null),C?.(E)},[C]);H.useEffect(()=>()=>{$e.current&&clearTimeout($e.current)},[]),H.useEffect(()=>{let E=!1;return(async()=>{const fe=await r.getPage(c),Me=kx(),Ze=fe.getViewport({scale:m}),at=fe.getViewport({scale:m*Me}),St=Z.current;if(!St||E)return;const Gt=St.getContext("2d",{alpha:!1});Gt.imageSmoothingEnabled=!0,Gt.imageSmoothingQuality="high",St.width=at.width,St.height=at.height,St.style.width=`${Ze.width}px`,St.style.height=`${Ze.height}px`,ce({width:Ze.width,height:Ze.height}),await fe.render({canvasContext:Gt,viewport:at}).promise;const dn=await fe.getTextContent();if(E)return;const je=Bx(dn,Ze,m);he(je);const ft=ue.current;!ft||E||(ft.innerHTML="",ft.style.width=`${Ze.width}px`,ft.style.height=`${Ze.height}px`,je.forEach(Ge=>{const dt=document.createElement("span");dt.textContent=Ge.text,dt.style.position="absolute",dt.style.left=`${Ge.x}px`,dt.style.top=`${Ge.y}px`,dt.style.width=`${Ge.w}px`,dt.style.height=`${Ge.h}px`,dt.style.fontSize=`${Ge.fontSize}px`,dt.style.fontFamily="sans-serif",dt.style.color="transparent",dt.style.whiteSpace="pre",dt.style.pointerEvents="none",dt.style.lineHeight="1",ft.appendChild(dt)}))})(),()=>{E=!0}},[r,c,m]);const Ue=H.useMemo(()=>{if(S&&S.pageNumber===c){const fe=Math.min(S.spanStart,S.spanEnd),Me=Math.max(S.spanStart,S.spanEnd);return Ne.filter(Ze=>Ze.id>=fe&&Ze.id<=Me)}if(_e==null||Se==null)return[];const E=Math.min(_e,Se),te=Math.max(_e,Se);return Ne.filter(fe=>fe.id>=E&&fe.id<=te)},[Ne,S,c,_e,Se]);H.useEffect(()=>{S===null&&Le.current?.pageNumber===c&&(ve(null),Ie(null)),Le.current=S},[S,c]);const X=H.useCallback((E,te)=>{const fe=be.current?.getBoundingClientRect();return fe?{x:E-fe.left,y:te-fe.top}:{x:0,y:0}},[]),re=H.useCallback(E=>{if(E.button!==0||!Ne.length)return;const{x:te,y:fe}=X(E.clientX,E.clientY),Me=Mp(Ne,te,fe);Me?(ve(Me.id),Ie(Me.id),rt(!0)):(ve(null),Ie(null))},[Ne,X]),ye=H.useCallback(E=>{if(!Ve)return;const{x:te,y:fe}=X(E.clientX,E.clientY),Me=Mp(Ne,te,fe);Me&&Ie(Me.id)},[Ve,Ne,X]),we=H.useCallback(E=>{if(E.button!==0||!Ve)return;if(rt(!1),Ue.length<2){ve(null),Ie(null);return}if(!U)return;const te=be.current?.getBoundingClientRect();if(!te)return;const fe={rects:Ux(Ue,m)},Me=qx(Ue),Ze=Ue[Ue.length-1],at={x:te.left+(Ze.x+Ze.w/2),y:te.top+(Ze.y-8)};U({pageNumber:c,position_data:fe,highlighted_text:Me,spanStart:Math.min(_e,Se),spanEnd:Math.max(_e,Se),pickerPosition:at})},[Ve,Ue,_e,Se,m,c,U]);H.useEffect(()=>{const E=W.current||be.current;if(E)return E.addEventListener("mousedown",re),E.addEventListener("mousemove",ye),E.addEventListener("mouseup",we),E.addEventListener("mouseleave",we),()=>{E.removeEventListener("mousedown",re),E.removeEventListener("mousemove",ye),E.removeEventListener("mouseup",we),E.removeEventListener("mouseleave",we)}},[re,ye,we]);const G=H.useMemo(()=>fy(Ue),[Ue]);return o.jsxs("div",{ref:be,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:oe.width||0,height:oe.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:Z,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:W,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(E=>{const te=E.position_data?.rects||[],fe=(N??[]).find(ft=>ft.key===E.color),Me=gl[E.color]||gl.yellow,Ze=fe?.hex??Me?.hex??Me?.solid,at=g!=null&&String(E.id)===String(g),St=x!=null&&String(E.id)===String(x),Gt=at||St?La(Ze,.38):La(Ze,.18),dn=A||P;let je=null;if(te.length>0){const ft=Math.min(...te.map(At=>At.x))*m,Ge=Math.min(...te.map(At=>At.y))*m,dt=Math.max(...te.map(At=>(At.x||0)+(At.width||0)))*m,Vt=Math.max(...te.map(At=>(At.y||0)+(At.height||4)))*m;je={left:ft,top:Ge,width:dt-ft,height:Vt-Ge}}return je?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:je.left,top:je.top,width:je.width,height:je.height,pointerEvents:"auto"},onMouseEnter:()=>Ae(E.id),onMouseLeave:bt,children:[te.map((ft,Ge)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(ft.x||0)*m-je.left,top:(ft.y||0)*m-je.top,width:Math.max(0,(ft.width||0)*m),height:Math.max(4,(ft.height||0)*m),backgroundColor:Gt,pointerEvents:"none"}},Ge)),dn&&at&&je&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Ae(E.id),onMouseLeave:bt,children:[A&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),A(E.id,ft)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(To,{className:"w-3.5 h-3.5",strokeWidth:2})}),P&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),P(E.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},E.id):null}),G.map((E,te)=>{const fe=Math.min(...E.map(je=>je.x)),Me=Math.max(...E.map(je=>je.x+je.w)),Ze=E.map(je=>je.y).sort((je,ft)=>je-ft),at=Ze[Math.floor(Ze.length/2)],St=Math.max(...E.map(je=>je.h)),Gt=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${fe-1}px`,top:`${at-Gt}px`,width:`${Me-fe+2}px`,height:`${St+Gt+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},te)})]}),o.jsx("div",{ref:ue,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function ns(r){return!r||typeof r!="string"?r:r.split(/(?:\r?\n\s*){2,}/).map(c=>c.replace(/\r\n|\r|\n/g," ").replace(/\s+/g," ").trim()).filter(c=>c.length>0).join(`

`)}function Kx({highlights:r,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:x,onHighlightClick:S,onHighlightHover:N,onHighlightHoverEnd:U,onClearActive:C,documentId:q,onHighlightNoteUpdate:A,onHighlightDelete:P,openEditForHighlightId:be,onClearOpenEditForHighlightId:Z}){const ue=m?.length>0?m.map(Ae=>Ae.key):d?.length>0?d:_o,[W,oe]=H.useState("all"),[ce,Ne]=H.useState(!1),[he,_e]=H.useState(""),[ve,Se]=H.useState(null),[Ie,Ve]=H.useState("");H.useEffect(()=>{if(be==null||!r?.length)return;const Ae=r.find(Ue=>String(Ue.id)===String(be));Ae&&(Se(Ae.id),Ve(Ae.note?.content??"")),Z?.()},[be,r,Z]);const rt=H.useMemo(()=>{let Ae=r||[];if(W!=="all"&&(Ae=Ae.filter(Ue=>Ue.color===W)),he.trim()){const Ue=he.trim().toLowerCase();Ae=Ae.filter(X=>X.highlighted_text&&X.highlighted_text.toLowerCase().includes(Ue)||X.note?.content&&X.note.content.toLowerCase().includes(Ue))}return Ae},[r,W,he]),Le=Ae=>{Se(Ae.id),Ve(Ae.note?.content??"")},$e=async()=>{if(ve==null||!q||!A){Se(null);return}await A(ve,Ie.trim()||""),Se(null)},bt=()=>{Se(null),Ve("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${ea.default} ${wa.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${ea.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Qe.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Qe.muted} mb-4`,children:[rt.length," highlight",rt.length!==1?"s":"",r?.length!==rt.length&&` of ${r?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{oe("all"),C?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${W==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Qe.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>Ne(Ae=>!Ae),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Qe.secondary} hover:text-slate-800 transition-colors`,children:[ce?o.jsx(Gr,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(bo,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ce&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:ue.map(Ae=>{const Ue=(r||[]).filter(E=>E.color===Ae).length,X=gl[Ae],ye=m?.find(E=>E.key===Ae)?.hex??X?.hex??X?.solid??"#94a3b8",we=ts(Ae,c,m),G=W===Ae;return o.jsxs("button",{type:"button",onClick:()=>{oe(G?"all":Ae),C?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${G?"border-transparent":`border-slate-200 ${Qe.secondary} hover:bg-slate-50`}`,style:G?{backgroundColor:`${ye}25`,color:ye}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:ye,opacity:1}}),o.jsx("span",{children:we}),o.jsxs("span",{className:G?"opacity-80":Qe.muted,children:["(",Ue,")"]})]},Ae)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Vr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:he,onChange:Ae=>_e(Ae.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${ea.default} rounded-lg bg-slate-50 outline-none ${Qe.body} placeholder:${Qe.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:r?.length?rt.length?o.jsx("ul",{className:"space-y-1.5",children:rt.map(Ae=>{const Ue=gl[Ae.color]||gl.yellow,re=m?.find(G=>G.key===Ae.color)?.hex??Ue?.hex??Ue?.solid??"#94a3b8",ye=Ae.note?.content,we=g!=null&&String(Ae.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${we?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(Ae.id),x?.(Ae.page_number)},onKeyDown:G=>{G.target.tagName==="TEXTAREA"||G.target.tagName==="INPUT"||G.target.isContentEditable||(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),S?.(Ae.id),x?.(Ae.page_number))},onMouseEnter:()=>N?.(Ae.id),onMouseLeave:U,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:re,opacity:we?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Qe.body} whitespace-pre-line`,children:ns(Ae.highlighted_text)||"(No text captured)"})})]}),ve===Ae.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Ie,onChange:G=>Ve(G.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Qe.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:$e,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:bt,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[ye&&o.jsx("p",{className:`text-[11.5px] ${Qe.muted} mt-2 pl-3.5 leading-snug italic whitespace-pre-line`,children:ns(ye)}),q&&A&&o.jsx("button",{type:"button",onClick:()=>Le(Ae),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:ye?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:re,backgroundColor:`${re}12`},children:ts(Ae.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Ae.page_number]}),q&&P&&o.jsx("button",{type:"button",onClick:G=>{G.stopPropagation(),P(Ae.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Ae.id)})}):o.jsx("div",{className:`py-6 text-center ${Qe.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Qe.muted} text-sm`,children:[o.jsx(qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Yf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Qx(r,c){return r?.length?[...r].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Yf.find(d=>d.colorKey===m)).filter(Boolean):Yf}function Yx({position:r,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:x=[]}){const S=H.useRef(null),N=H.useRef(null),[U,C]=H.useState(null),[q,A]=H.useState(""),[P,be]=H.useState(!1),[Z,ue]=H.useState(!1),W=H.useMemo(()=>Qx(x,g),[x,g]),oe=W.length>0?W:Yf,ce=H.useCallback(ve=>ts(ve,d,x),[d,x]);H.useEffect(()=>{P&&N.current&&N.current.focus()},[P]);const Ne=H.useCallback(ve=>{C(ve.colorKey),P||(c(ve.colorKey,""),m())},[P,c,m]),he=H.useCallback(()=>{U&&(c(U,q.trim()||void 0),m())},[U,q,c,m]);if(H.useEffect(()=>{const ve=Se=>{if(Se.key==="Escape"){m();return}if(!P){const Ie=parseInt(Se.key,10);if(Ie>=1&&Ie<=oe.length){const Ve=oe[Ie-1];Ve&&Ne(Ve)}}P&&Se.key==="Enter"&&(Se.metaKey||Se.ctrlKey)&&(Se.preventDefault(),he())};return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[P,U,q,m,Ne,he,oe]),H.useEffect(()=>{const ve=Se=>{S.current&&!S.current.contains(Se.target)&&m()};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[m]),H.useEffect(()=>{A(""),C(null),be(!1),ue(!1)},[r]),!r)return null;const _e=U?oe.find(ve=>ve.colorKey===U):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:r.x,top:r.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:Z?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:_e?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:P?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[oe.map((ve,Se)=>o.jsx("button",{type:"button",onClick:()=>Ne(ve),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:U===ve.colorKey?`${ve.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:ve.color,boxShadow:U===ve.colorKey?`0 0 0 2px ${ve.color}80`:"none",transform:U===ve.colorKey?"scale(1.15)":"scale(1)"}})},ve.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>be(!P),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${P?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:P?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),P&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!_e&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),_e&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:_e.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ce(_e.colorKey)})]}),o.jsx("textarea",{ref:N,value:q,onChange:ve=>A(ve.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:he,disabled:!_e,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Xx=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],zp=5;function Gx({lens:r,documentId:c,onClose:m}){const d=Ui(),g=r?.colors??[],x=!r||r.is_system,[S,N]=H.useState(null),[U,C]=H.useState(""),q=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},A=On({mutationFn:ce=>In.addColor(r.id,ce),onSuccess:()=>{q(),N(null),C("")}}),P=On({mutationFn:ce=>In.removeColor(r.id,ce),onSuccess:q}),be=On({mutationFn:({colorId:ce,data:Ne})=>In.updateColor(r.id,ce,Ne),onSuccess:q}),Z=new Set(g.map(ce=>ce.hex.toLowerCase())),ue=Xx.filter(ce=>!Z.has(ce.toLowerCase())),W=()=>{!S||!U.trim()||A.mutate({key:`custom_${Date.now()}`,display_name:U.trim(),hex:S})},oe=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${wa.surface} rounded-xl shadow-xl border ${ea.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ce=>ce.stopPropagation(),onMouseDown:ce=>ce.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Qe.heading}`,children:"Edit lens"}),r&&o.jsx("p",{className:`text-xs ${Qe.muted} mt-0.5`,children:r.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:x?o.jsx("p",{className:`text-sm ${Qe.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Qe.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",zp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(ce=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ce.hex}}),o.jsx("input",{type:"text",defaultValue:ce.display_name,placeholder:"Label",onBlur:Ne=>{const he=Ne.target.value.trim();he&&he!==ce.display_name&&be.mutate({colorId:ce.id,data:{display_name:he}})},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Qe.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>P.mutate(ce.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:P.isPending,children:o.jsx(as,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ce.id))}),o.jsx("p",{className:`text-xs ${Qe.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<zp&&ue.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:U,onChange:ce=>C(ce.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ce=>{ce.key==="Enter"&&W()},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Qe.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{N(null),C("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:W,disabled:!U.trim()||A.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:A.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Qe.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(ce=>o.jsx("button",{type:"button",onClick:()=>{N(ce),C("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ce}},ce))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?oe:q0.createPortal(oe,document.body)}function Vx({position:r,initialValue:c="",onSave:m,onClose:d}){const[g,x]=H.useState(c),S=H.useRef(null),N=H.useRef(null);return H.useEffect(()=>{x(c)},[c,r]),H.useEffect(()=>{N.current?.focus()},[r]),H.useEffect(()=>{const U=C=>{C.key==="Escape"&&d(),C.key==="Enter"&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[g,m,d]),H.useEffect(()=>{const U=C=>{S.current&&!S.current.contains(C.target)&&d()};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]),r?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:r.x,top:r.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:N,value:g,onChange:U=>x(U.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Fx(){const{id:r}=Gf(),c=bl(),m=Ui(),[d,g]=H.useState(null),[x,S]=H.useState(!1),[N,U]=H.useState(!0),[C,q]=H.useState(1.3),[A,P]=H.useState(!0),[be,Z]=H.useState(null),[ue,W]=H.useState(null),[oe,ce]=H.useState(null),[Ne,he]=H.useState(null),[_e,ve]=H.useState(null),[Se,Ie]=H.useState(0),[Ve,rt]=H.useState(1),[Le,$e]=H.useState(!1),[bt,Ae]=H.useState(null),[Ue,X]=H.useState(null),[re,ye]=H.useState(null),{data:we,isLoading:G,isError:E}=kn({queryKey:["document",r],queryFn:async()=>{const{data:ge}=await ln.get(r);return ge},enabled:!!r});H.useEffect(()=>{if(!we||!r)return;let ge=!1;return(async()=>{U(!0);try{const ne=await Dx(we);ge||(ne?g(ne.data):S(!0))}finally{ge||U(!1)}})(),()=>{ge=!0}},[we,r]);const{data:te=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:ge}=await ln.highlights(r);return ge},enabled:!!r}),{data:fe=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:ge}=await In.list();return ge}}),Me=H.useMemo(()=>fe.length?we?.highlight_preset!=null?fe.find(ge=>ge.id===we.highlight_preset)??null:fe.find(ge=>ge.is_system)??fe[0]??null:null,[fe,we?.highlight_preset]),Ze=H.useMemo(()=>Me?.colors??we?.highlight_preset_detail?.colors??[],[Me?.colors,we?.highlight_preset_detail?.colors]),at=H.useMemo(()=>{if(Ze?.length)return Ze.map(tt=>tt.key);const ge=Object.keys(we?.color_labels||{});return ge.length>0?ge:[..._o]},[Ze,we?.color_labels]),St=On({mutationFn:({documentId:ge,payload:tt})=>ln.update(ge,tt),onSuccess:(ge,{documentId:tt})=>{m.invalidateQueries({queryKey:["document",tt]})}}),Gt=H.useCallback(async ge=>{if(!r)return;const tt=`_opt_${Date.now()}`,ne={id:tt,page_number:ge.page_number,position_data:ge.position_data,highlighted_text:ge.highlighted_text,color:ge.color,note:ge.comment?{id:tt,content:ge.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",r],(ze=[])=>[...ze,ne]),ce(null),he(null),ve(null);try{await ln.createHighlight(r,ge),m.invalidateQueries({queryKey:["highlights",r]})}catch(ze){console.error("Failed to save highlight",ze),m.setQueryData(["highlights",r],(xe=[])=>xe.filter(Fe=>Fe.id!==tt))}},[r,m]),dn=H.useCallback(ge=>{ce({page_number:ge.pageNumber,position_data:ge.position_data,highlighted_text:ge.highlighted_text}),he(ge.pickerPosition),ve({pageNumber:ge.pageNumber,spanStart:ge.spanStart,spanEnd:ge.spanEnd})},[]),je=H.useCallback((ge,tt)=>{oe&&Gt({...oe,color:ge,comment:tt})},[oe,Gt]),ft=H.useCallback(()=>{ce(null),he(null),ve(null)},[]),Ge=H.useCallback(ge=>{rt(ge),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${ge}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),dt=H.useCallback(ge=>{W(tt=>tt!=null&&String(tt)===String(ge)?null:ge)},[]),Vt=H.useCallback(ge=>Ie(ge??0),[]),At=H.useCallback(()=>{if(Ve<=1)return;const ge=Ve-1;rt(ge),Ge(ge)},[Ve,Ge]),Yn=H.useCallback(()=>{if(Ve>=Se)return;const ge=Ve+1;rt(ge),Ge(ge)},[Ve,Se,Ge]),ta=async ge=>{const tt=ge.target.files?.[0];if(!tt||!we||!r)return;const ne=await tt.arrayBuffer(),ze=await Qf(ne);if(ze!==we.pdf_hash){alert("This file does not match the original document.");return}try{const xe=new FormData;xe.append("file",new Blob([ne],{type:"application/pdf"}),tt.name||we.filename||"document.pdf"),await ln.uploadPdf(r,xe)}catch(xe){const Fe=xe.response?.data?.detail??xe.message??"Upload failed";alert(typeof Fe=="string"?Fe:JSON.stringify(Fe));return}await ed(ze,we.filename||tt.name,tt.size,ne),g(ne),S(!1)};return r?G||N?o.jsx("div",{className:`${Hs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Qe.muted} animate-spin`})}):E||!we&&!G?o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Qe.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Qe.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:Xr,children:"Back to project"})]}):x?o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center`,children:[o.jsx(wo,{className:`w-12 h-12 ${Qe.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Qe.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Qe.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:we?.filename}),"."]}),o.jsxs("label",{className:`${Xr} inline-flex items-center gap-2`,children:[o.jsx(wo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ta,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:`mt-4 text-sm ${Qe.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${wa.page} overflow-hidden`,children:[o.jsxs("header",{className:`${ry} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:Qr,title:"Back to project",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Qe.heading} truncate max-w-xs`,children:we?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[fe.length>0&&o.jsx("select",{value:we?.highlight_preset!=null?String(we.highlight_preset):fe.find(ge=>ge.is_system)?.id??"",onChange:ge=>{const tt=ge.target.value,ne=tt===""?null:Number(tt);r&&(te.length>0?ye(ne):St.mutate({documentId:r,payload:{highlight_preset:ne}}))},className:`text-xs rounded-lg border ${ea.default} ${wa.surface} py-1.5 pl-2 pr-7 ${Qe.body} cursor-pointer max-w-44`,title:"Highlight lens",children:fe.map(ge=>o.jsx("option",{value:ge.id,children:ge.name},ge.id))}),o.jsx("button",{type:"button",onClick:()=>$e(!0),className:Qr,title:"Edit lens",children:o.jsx(mx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${r}/summary`),className:Qr,title:"Summary",children:o.jsx(Ib,{className:"w-4 h-4"})}),o.jsx("div",{className:Np}),o.jsxs("div",{className:`flex items-center gap-1 ${wa.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>q(ge=>Math.max(.5,ge-.1)),className:`p-1.5 ${Qe.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(Sx,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Qe.secondary} w-12 text-center`,children:[Math.round(C*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>q(ge=>Math.min(3,ge+.1)),className:`p-1.5 ${Qe.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(xx,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:Np}),o.jsx("button",{type:"button",onClick:()=>P(ge=>!ge),className:Qr,title:A?"Close annotations":"Open annotations",children:A?o.jsx(rx,{className:"w-4 h-4"}):o.jsx(ox,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(Hx,{pdfData:d,scale:C,highlights:te,hoveredHighlightId:be,activeHighlightId:ue,selectionForPicker:_e,lensColors:Ze,onSelectionComplete:dn,onNumPages:Vt,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onHighlightEdit:(ge,tt)=>{const ne=tt?.target?.getBoundingClientRect?.();ne?X({highlightId:ge,x:ne.left+ne.width/2,y:ne.bottom}):(Ae(ge),P(!0))},onHighlightDelete:async ge=>{if(!r)return;const tt=m.getQueryData(["highlights",r]);m.setQueryData(["highlights",r],(ne=[])=>ne.filter(ze=>String(ze.id)!==String(ge))),String(ue)===String(ge)&&W(null),String(be)===String(ge)&&Z(null);try{await ln.deleteHighlight(r,ge),m.invalidateQueries({queryKey:["highlights",r]})}catch(ne){console.error("Failed to delete highlight",ne),m.setQueryData(["highlights",r],tt)}}}),Ne&&o.jsx(Yx,{position:Ne,onSelect:je,onClose:ft,colorLabels:we?.color_labels,documentColorKeys:at,lensColors:Ze}),Ue&&o.jsx(Vx,{position:{x:Ue.x,y:Ue.y},initialValue:(te||[]).find(ge=>String(ge.id)===String(Ue.highlightId))?.note?.content??"",onSave:async ge=>{r&&(await ln.updateHighlight(r,Ue.highlightId,{note:ge}),m.invalidateQueries({queryKey:["highlights",r]}),X(null))},onClose:()=>X(null)}),Le&&o.jsx(Gx,{lens:Me,documentId:r,onClose:()=>$e(!1)}),re!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>ye(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ge=>ge.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:te.length})," highlight",te.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ye(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const ge=re;ye(null);for(const tt of te)await ln.deleteHighlight(r,tt.id);m.invalidateQueries({queryKey:["highlights",r]}),W(null),Z(null),St.mutate({documentId:r,payload:{highlight_preset:ge}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),A&&o.jsx(Kx,{highlights:te,colorLabels:we?.color_labels,lensColors:Ze,documentColorKeys:at,activeHighlightId:ue,onScrollToPage:Ge,onHighlightClick:dt,onHighlightHover:Z,onHighlightHoverEnd:()=>Z(null),onClearActive:()=>W(null),documentId:r,openEditForHighlightId:bt,onClearOpenEditForHighlightId:()=>Ae(null),onHighlightNoteUpdate:async(ge,tt)=>{r&&(await ln.updateHighlight(r,ge,{note:tt}),m.invalidateQueries({queryKey:["highlights",r]}))},onHighlightDelete:async ge=>{r&&(await ln.deleteHighlight(r,ge),m.invalidateQueries({queryKey:["highlights",r]}),String(ue)===String(ge)&&W(null),String(be)===String(ge)&&Z(null))}})]}),Se>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${A?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:At,disabled:Ve<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ve," of ",Se]}),o.jsx("button",{type:"button",onClick:Yn,disabled:Ve>=Se,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const Zx="modulepreload",$x=function(r){return"/static/frontend/"+r},kp={},mo=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let U=function(C){return Promise.all(C.map(q=>Promise.resolve(q).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),N=S?.nonce||S?.getAttribute("nonce");g=U(m.map(C=>{if(C=$x(C),C in kp)return;kp[C]=!0;const q=C.endsWith(".css"),A=q?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${A}`))return;const P=document.createElement("link");if(P.rel=q?"stylesheet":Zx,q||(P.as="script"),P.crossOrigin="",P.href=C,N&&P.setAttribute("nonce",N),document.head.appendChild(P),q)return new Promise((be,Z)=>{P.addEventListener("load",be),P.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${C}`)))})}))}function x(S){const N=new Event("vite:preloadError",{cancelable:!0});if(N.payload=S,window.dispatchEvent(N),!N.defaultPrevented)throw S}return g.then(S=>{for(const N of S||[])N.status==="rejected"&&x(N.reason);return c().catch(x)})};function Xf(r,c){return c?.find(m=>m.key===r)?.hex??gl[r]?.hex??"#94a3b8"}function zf({highlight:r,selected:c,onToggleSelect:m,lensColors:d,colorLabels:g,editingNoteId:x,editingNoteValue:S,onStartEdit:N,onSaveNote:U,onCancelEdit:C,onEditValueChange:q,onCopy:A,onDelete:P}){const be=r.color,Z=Xf(be,d),ue=ts(be,g,d),W=x===r.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${c?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:()=>m(r.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Qe.body} whitespace-pre-line`,children:ns(r.highlighted_text)||"(No text captured)"}),W?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:oe=>q(oe.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Qe.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>U(r.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(jo,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:C,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[r.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Qe.muted} mt-2 leading-snug italic whitespace-pre-line`,children:ns(r.note.content)}),o.jsxs("button",{type:"button",onClick:()=>N(r),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(To,{className:"w-3 h-3"}),r.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:Z,backgroundColor:La(Z,.08)},children:ue}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",r.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>A(r),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(Wf,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>P(r.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Jx(){const{id:r}=Gf(),c=bl(),m=Ui(),[d,g]=H.useState("sequence"),[x,S]=H.useState(""),[N,U]=H.useState(new Set),[C,q]=H.useState(new Set),[A,P]=H.useState(()=>new Set),[be,Z]=H.useState(!1),[ue,W]=H.useState(!1),[oe,ce]=H.useState(null),[Ne,he]=H.useState(!1),[_e,ve]=H.useState(!1),[Se,Ie]=H.useState(null),[Ve,rt]=H.useState(""),{data:Le,isLoading:$e,isError:bt}=kn({queryKey:["document",r],queryFn:async()=>{const{data:ne}=await ln.get(r);return ne},enabled:!!r}),{data:Ae=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:ne}=await ln.highlights(r);return ne},enabled:!!r}),{data:Ue=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:ne}=await In.list();return ne}}),X=H.useMemo(()=>Ue.length?Le?.highlight_preset!=null?Ue.find(ne=>ne.id===Le.highlight_preset)??null:Ue.find(ne=>ne.is_system)??Ue[0]??null:null,[Ue,Le?.highlight_preset]),re=H.useMemo(()=>X?.colors??Le?.highlight_preset_detail?.colors??[],[X?.colors,Le?.highlight_preset_detail?.colors]),ye=H.useMemo(()=>{if(re?.length)return re.map(ze=>ze.key);const ne=Object.keys(Le?.color_labels||{});return ne.length>0?ne:[..._o]},[re,Le?.color_labels]);On({mutationFn:({documentId:ne,highlightId:ze})=>ln.deleteHighlight(ne,ze),onSuccess:(ne,{documentId:ze})=>{m.invalidateQueries({queryKey:["highlights",ze]})}});const we=On({mutationFn:({documentId:ne,highlightId:ze,note:xe})=>ln.updateHighlight(ne,ze,{note:xe}),onSuccess:(ne,{documentId:ze})=>{m.invalidateQueries({queryKey:["highlights",ze]})}}),G=H.useMemo(()=>{let ne=Ae||[];const ze=x.trim().toLowerCase();return ze&&(ne=ne.filter(xe=>xe.highlighted_text&&xe.highlighted_text.toLowerCase().includes(ze)||xe.note?.content&&xe.note.content.toLowerCase().includes(ze))),N.size>0&&(ne=ne.filter(xe=>N.has(xe.color))),ne},[Ae,x,N]),E=H.useMemo(()=>G,[G]),te=H.useMemo(()=>{const ne={};for(const ze of G){const xe=ze.color??"uncategorized";ne[xe]||(ne[xe]=[]),ne[xe].push(ze)}return ne},[G]),fe=H.useMemo(()=>{const ne={};for(const xe of G){const Fe=`page-${xe.page_number??0}`;ne[Fe]||(ne[Fe]=[]),ne[Fe].push(xe)}return Object.keys(ne).sort((xe,Fe)=>parseInt(xe.replace("page-",""),10)-parseInt(Fe.replace("page-",""),10)).map(xe=>({key:xe,page:parseInt(xe.replace("page-",""),10),items:ne[xe]}))},[G]),Me=H.useCallback(ne=>{U(ze=>{const xe=new Set(ze);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),Ze=H.useCallback(ne=>{q(ze=>{const xe=new Set(ze);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),at=H.useCallback(ne=>{P(ze=>{const xe=new Set(ze),Fe=String(ne);return xe.has(Fe)?xe.delete(Fe):xe.add(Fe),xe})},[]),St=H.useCallback(async()=>{const ze=Ae.filter(xe=>A.has(String(xe.id))).map(xe=>`${xe.highlighted_text||""}${xe.note?.content?`
  Note: ${xe.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(ze),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(xe){console.error("Failed to copy",xe)}},[Ae,A]),Gt=H.useCallback(async()=>{r&&he(!0)},[r]),dn=H.useCallback(async()=>{if(r){ve(!0);try{for(const ne of A)await ln.deleteHighlight(r,ne);m.invalidateQueries({queryKey:["highlights",r]}),P(new Set),he(!1)}catch(ne){console.error("Failed to delete highlights",ne)}finally{ve(!1)}}},[r,A,m]),je=H.useCallback(()=>{const ne={filename:Le?.filename,exportedAt:new Date().toISOString(),highlights:G.map(lt=>({id:lt.id,page_number:lt.page_number,color:lt.color,highlighted_text:lt.highlighted_text,note:lt.note?.content,created_at:lt.created_at,updated_at:lt.updated_at}))},ze=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),xe=URL.createObjectURL(ze),Fe=window.document.createElement("a");Fe.href=xe,Fe.download=`${(Le?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,Fe.click(),URL.revokeObjectURL(xe),W(!1)},[Le?.filename,G]),ft=H.useCallback(async()=>{try{const{Document:ne,Packer:ze,Paragraph:xe,TextRun:Fe}=await mo(async()=>{const{Document:qe,Packer:pt,Paragraph:Lt,TextRun:Jt}=await import("./index-CMhXIFeh.js");return{Document:qe,Packer:pt,Paragraph:Lt,TextRun:Jt}},[]),{saveAs:lt}=await mo(async()=>{const{saveAs:qe}=await import("./FileSaver.min-BE5RUbGT.js").then(pt=>pt.F);return{saveAs:qe}},__vite__mapDeps([0,1])),xt=[new xe({children:[new Fe({text:Le?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const qe of G){const pt=ts(qe.color,Le?.color_labels,re);xt.push(new xe({children:[new Fe({text:`[${pt}] p.${qe.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new xe({children:[new Fe({text:qe.highlighted_text||"",size:22})],spacing:{after:60}})),qe.note?.content&&xt.push(new xe({children:[new Fe({text:`Note: ${qe.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ne({sections:[{children:xt}]}),Oe=await ze.toBlob(Et);lt(Oe,`${(Le?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),W(!1)}catch(ne){console.error("Export docx failed",ne)}},[Le?.filename,Le?.color_labels,G,re]),Ge=H.useCallback(async()=>{try{const{jsPDF:ne}=await mo(async()=>{const{jsPDF:xt}=await import("./jspdf.es.min-DIYbC7Ir.js").then(Et=>Et.j);return{jsPDF:xt}},[]),{saveAs:ze}=await mo(async()=>{const{saveAs:xt}=await import("./FileSaver.min-BE5RUbGT.js").then(Et=>Et.F);return{saveAs:xt}},__vite__mapDeps([0,1])),xe=new ne;let Fe=20;xe.setFontSize(16),xe.text(Le?.filename??"Document Summary",20,Fe),Fe+=12;for(const xt of G){const Et=ts(xt.color,Le?.color_labels,re);Fe>270&&(xe.addPage(),Fe=20),xe.setFontSize(10),xe.setFont(void 0,"bold"),xe.text(`[${Et}] p.${xt.page_number}`,20,Fe),Fe+=6,xe.setFont(void 0,"normal");const Oe=xe.splitTextToSize(xt.highlighted_text||"",170);xe.text(Oe,20,Fe),Fe+=Oe.length*5+4,xt.note?.content&&(xe.setFont(void 0,"italic"),xe.text(`Note: ${xt.note.content}`,20,Fe),Fe+=6,xe.setFont(void 0,"normal")),Fe+=8}const lt=xe.output("blob");ze(lt,`${(Le?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),W(!1)}catch(ne){console.error("Export pdf failed",ne)}},[Le?.filename,Le?.color_labels,G,re]),dt=ne=>{Ie(ne.id),rt(ne.note?.content??"")},Vt=ne=>{r&&(we.mutate({documentId:r,highlightId:ne,note:Ve.trim()||""}),Ie(null),rt(""))},At=()=>{Ie(null),rt("")},Yn=ne=>{const ze=`${ne.highlighted_text||""}${ne.note?.content?`
  Note: ${ne.note.content}`:""}`;navigator.clipboard?.writeText(ze).catch(console.error)},ta=ne=>{ce(ne)},ge=H.useCallback(async()=>{!r||!oe||(await ln.deleteHighlight(r,oe),m.invalidateQueries({queryKey:["highlights",r]}),P(ne=>{const ze=new Set(ne);return ze.delete(String(oe)),ze}),ce(null))},[r,oe,m]);if(!r)return c("/",{replace:!0}),null;if($e)return o.jsx("div",{className:`${Hs} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Qe.muted} animate-spin`})});if(bt||!Le&&!$e)return o.jsxs("div",{className:`${Hs} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Qe.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Qe.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Le?.project?`/project/${Le.project}`:"/"),className:Xr,children:"Back to project"})]});const tt=re?.length>0?re.map(ne=>ne.key):ye?.length>0?ye:_o;return o.jsxs("div",{className:`min-h-screen ${wa.page}`,children:[o.jsx("header",{className:`${ry} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Le?.project?`/project/${Le.project}`:`/document/${r}`),className:Qr,title:"Back",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Qe.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Qe.muted} truncate max-w-xs`,children:Le?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ne,label:ze})=>o.jsx("button",{type:"button",onClick:()=>g(ne),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ne?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Qe.secondary} hover:text-slate-700`}`,children:ze},ne))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(Vr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:x,onChange:ne=>S(ne.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${ea.default} rounded-lg ${wa.surface} outline-none ${Qe.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>W(ne=>!ne),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${ea.default} ${wa.surface} hover:bg-slate-50 ${Qe.body}`,children:["Export",o.jsx(bo,{className:"w-4 h-4"})]}),ue&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>W(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${ea.default} ${wa.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:ft,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qi,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Ge,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Pb,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:je,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Yb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),A.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Qe.secondary}`,children:[A.size," selected"]}),o.jsxs("button",{type:"button",onClick:St,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(Wf,{className:"w-3.5 h-3.5"}),be?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Gt,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(ss,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>P(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:tt.map(ne=>{const ze=(Ae||[]).filter(xt=>xt.color===ne).length;if(!ze)return null;const xe=Xf(ne,re),Fe=ts(ne,Le?.color_labels,re),lt=N.size===0||N.has(ne);return o.jsxs("button",{type:"button",onClick:()=>Me(ne),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:lt?xe:"#E2E8F0",background:lt?La(xe,.08):"#fff",opacity:lt?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:xe}}),o.jsx("span",{children:Fe}),o.jsxs("span",{className:"opacity-80",children:["(",ze,")"]})]},ne)})}),o.jsx("div",{className:"space-y-4",children:G.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:E.map(ne=>o.jsx("li",{children:o.jsx(zf,{highlight:ne,selected:A.has(String(ne.id)),onToggleSelect:at,lensColors:re,colorLabels:Le?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},ne.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(te).map(([ne,ze])=>{const xe=Xf(ne,re),Fe=ts(ne,Le?.color_labels,re),lt=`topic-${ne}`,xt=C.has(lt);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:La(xe,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>Ze(lt),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:La(xe,.1)},children:[xt?o.jsx(Gr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:xe},children:Fe}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",ze.length,")"]})]}),!xt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ze.map(Et=>o.jsx("li",{children:o.jsx(zf,{highlight:Et,selected:A.has(String(Et.id)),onToggleSelect:at,lensColors:re,colorLabels:Le?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},Et.id))})]},ne)})}):o.jsx("div",{className:"space-y-4",children:fe.map(({key:ne,page:ze,items:xe})=>{const Fe=`page-${ze}`,lt=C.has(Fe);return o.jsxs("div",{className:`border ${ea.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>Ze(Fe),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[lt?o.jsx(Gr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),"Page ",ze,o.jsxs("span",{className:`text-xs ${Qe.muted}`,children:["(",xe.length,")"]})]}),!lt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:xe.map(xt=>o.jsx("li",{children:o.jsx(zf,{highlight:xt,selected:A.has(String(xt.id)),onToggleSelect:at,lensColors:re,colorLabels:Le?.color_labels,editingNoteId:Se,editingNoteValue:Ve,onStartEdit:dt,onSaveNote:Vt,onCancelEdit:At,onEditValueChange:rt,onCopy:Yn,onDelete:ta})},xt.id))})]},ne)})}):o.jsxs("div",{className:`py-12 text-center ${Qe.muted} text-sm`,children:[o.jsx(qi,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),oe&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>ce(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ce(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),Ne&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!_e&&he(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",A.size," highlight",A.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>he(!1),disabled:_e,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:_e,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[_e&&o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function Px({onClose:r,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:r,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ya,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function Wx(){const r=bl(),c=ls(C=>C.logout),[m,d]=H.useState(!1),[g,x]=H.useState(!1),[S,N]=H.useState(""),U=async()=>{N(""),x(!0);try{await Bi.deleteAccount(),c(),r("/",{replace:!0})}catch(C){N(C.response?.data?.detail||C.message||"Something went wrong."),x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsx(Mo,{showBack:!0,backTo:"/app"}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(cy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx(Px,{onClose:()=>!g&&d(!1),onConfirm:U,isDeleting:g})]})}function Rp(r,c){if(!c||c.length<2)return r;const m=new RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(m).map((g,x)=>m.test(g)?o.jsx("mark",{className:"bg-yellow-200 rounded-sm px-px",children:g},x):g)}const dy="wisemark_saved_searches";function Ix(){try{const r=localStorage.getItem(dy);if(r){const c=JSON.parse(r);if(Array.isArray(c)&&c.length>0)return c}}catch{}return[{id:"s1",name:"Margin compression",query:"margin compression",filters:{categories:[]}}]}function Bp(r){localStorage.setItem(dy,JSON.stringify(r))}function kf({ann:r,query:c,hovered:m,onHover:d,onLeave:g,showDoc:x,onNavigate:S}){const[N,U]=H.useState(!1),C=r.color_hex||"#94a3b8",q=P=>{P.stopPropagation();const be=`"${ns(r.highlighted_text)}"${r.note?.content?`
  Note: ${ns(r.note.content)}`:""}`;navigator.clipboard?.writeText(be),U(!0),setTimeout(()=>U(!1),1500)},A=m?"#D1D9E2":"#EDF0F4";return o.jsx("div",{onMouseEnter:()=>d(r.id),onMouseLeave:g,onClick:()=>S(r.document_id),className:"bg-white rounded-[10px] transition-all cursor-pointer",style:{borderTop:`1px solid ${A}`,borderRight:`1px solid ${A}`,borderBottom:`1px solid ${A}`,borderLeft:`3px solid ${C}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none"},children:o.jsxs("div",{className:"px-4 py-3.5",children:[o.jsxs("p",{className:`text-xs leading-snug ${Qe.body} whitespace-pre-line`,style:{fontFamily:"'DM Sans', sans-serif"},children:["",Rp(ns(r.highlighted_text),c),""]}),r.note?.content&&o.jsx("p",{className:`mt-2 text-[11.5px] ${Qe.muted} leading-snug italic whitespace-pre-line`,style:{fontFamily:"'DM Sans', sans-serif"},children:Rp(ns(r.note.content),c)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100 flex-wrap",children:[o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:C,background:La(C,.08)},children:r.color_display_name}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",r.page_number]}),x&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-500 font-medium truncate max-w-[220px] flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 shrink-0"}),r.document_name?.replace(/\.pdf$/i,"")]})]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Lf,{className:"w-2.5 h-2.5 shrink-0"}),r.project_name]}),o.jsx("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:m?1:0},children:o.jsxs("button",{onClick:q,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:N?"#16A34A":"#64748B"},children:[N?o.jsx(jo,{className:"w-3 h-3"}):o.jsx(Wf,{className:"w-3 h-3"}),N?"Copied":"Copy"]})})]})]})})}function ev({results:r,colorMap:c}){const m={},d={},g={};r.forEach(N=>{m[N.color]=(m[N.color]||0)+1,d[N.document_id]=(d[N.document_id]||0)+1,g[N.project_id]=(g[N.project_id]||0)+1});const x=Object.entries(d).sort(([,N],[,U])=>U-N).slice(0,4),S=x.length?x[0][1]:1;return o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[10px] p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2.5 text-xs font-semibold text-slate-600",children:[o.jsx(Gb,{className:"w-3.5 h-3.5"})," Search insights"]}),o.jsx("div",{className:"flex gap-1 flex-wrap mb-2.5",children:Object.entries(m).sort(([,N],[,U])=>U-N).map(([N,U])=>{const C=c[N],q=C?.hex||"#94a3b8";return o.jsxs("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded flex items-center gap-1",style:{color:q,background:La(q,.08)},children:[o.jsx("strong",{children:U})," ",C?.name||N]},N)})}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:[o.jsxs("span",{className:"font-semibold",children:["Across ",Object.keys(d).length," documents"]}),o.jsxs("span",{className:"text-slate-400",children:[" in ",Object.keys(g).length," projects"]}),o.jsx("div",{className:"mt-1.5 flex flex-col gap-1",children:x.map(([N,U])=>{const C=r.find(q=>q.document_id===Number(N));return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-1 rounded bg-slate-300",style:{width:Math.max(12,U/S*80)}}),o.jsxs("span",{className:"text-[11px] text-slate-500 truncate max-w-[260px]",children:[C?.document_name?.replace(/\.pdf$/i,"")," (",U,")"]})]},N)})})]})]})}function tv(){const r=bl(),c=H.useRef(null),[m,d]=H.useState(""),[g,x]=H.useState(""),[S,N]=H.useState([]),[U,C]=H.useState([]),[q,A]=H.useState("flat"),[P,be]=H.useState(null),{data:Z,isLoading:ue}=kn({queryKey:["library"],queryFn:async()=>{const{data:G}=await Db.get();return G}}),{data:W=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:G}=await In.list();return G}}),[oe,ce]=H.useState(null),[Ne,he]=H.useState(Ix),_e=Z?.highlights||[],ve=Z?.projects||[],Se=W;H.useEffect(()=>{c.current?.focus()},[]);const Ie=H.useMemo(()=>oe==null?null:Se.find(G=>G.id===oe)??null,[Se,oe]),Ve=H.useMemo(()=>{if(Ie?.colors?.length){const E={};return Ie.colors.forEach(te=>{E[te.key]={name:te.display_name||te.key,hex:te.hex||"#94a3b8"}}),E}const G={};return _e.forEach(E=>{G[E.color]||(G[E.color]={name:E.color_display_name,hex:E.color_hex})}),G},[Ie,_e]);H.useCallback(G=>{d(G),x(G)},[]);const rt=H.useCallback(G=>{d(G.query),x(G.query),G.filters?.categories?.length&&N(G.filters.categories),G.filters?.projects?.length&&C(G.filters.projects)},[]),Le=H.useCallback(()=>{const G=g||"Untitled search",E={id:"s"+Date.now(),name:G,query:g,filters:{categories:[...S],projects:[...U]}},te=[...Ne.filter(fe=>fe.query!==g),E];he(te),Bp(te)},[g,S,U,Ne]),$e=H.useCallback((G,E)=>{E?.stopPropagation?.();const te=Ne.filter(fe=>fe.id!==G);he(te),Bp(te)},[Ne]),bt=H.useCallback(G=>{N(E=>E.includes(G)?E.filter(te=>te!==G):[...E,G])},[]),Ae=H.useCallback(G=>{C(E=>E.includes(G)?E.filter(te=>te!==G):[...E,G])},[]),Ue=H.useMemo(()=>{let G=_e;if(g){const E=g.toLowerCase();G=G.filter(te=>te.highlighted_text?.toLowerCase().includes(E)||te.note?.content?.toLowerCase().includes(E)||te.color_display_name?.toLowerCase().includes(E))}return S.length>0&&(G=G.filter(E=>S.includes(E.color))),U.length>0&&(G=G.filter(E=>U.includes(E.project_id))),G},[_e,g,S,U]),X=H.useMemo(()=>{if(q==="document"){const G={};return Ue.forEach(E=>{G[E.document_id]||(G[E.document_id]=[]),G[E.document_id].push(E)}),G}if(q==="category"){const G={};return Ue.forEach(E=>{G[E.color]||(G[E.color]=[]),G[E.color].push(E)}),G}return null},[q,Ue]),re=S.length>0||U.length>0,ye=g||re,we=H.useMemo(()=>new Set(_e.map(E=>E.document_id)).size,[_e]);return ue?o.jsx("div",{className:"min-h-screen bg-[#F8FAFB] flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 text-slate-400 animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx(Mo,{showBack:!0,backTo:"/app"}),o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-[65px] z-40",children:o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("h1",{className:"text-[17px] font-semibold text-slate-900 tracking-tight",children:"Library"}),o.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:[_e.length," annotations across ",we," documents"]})]})}),o.jsxs("div",{className:"flex items-center gap-2.5 bg-slate-50 border-[1.5px] border-slate-200 rounded-[10px] px-3.5 py-2.5 mb-3.5 focus-within:border-slate-400 transition-colors",children:[o.jsx(Vr,{className:"w-[18px] h-[18px] text-slate-400 shrink-0"}),o.jsx("input",{ref:c,value:m,onChange:G=>d(G.target.value),onKeyDown:G=>{G.key==="Enter"&&x(m)},placeholder:"Search across all your annotations...",className:"border-0 bg-transparent outline-none text-[15px] text-slate-900 w-full placeholder:text-slate-400"}),m&&o.jsx("button",{onClick:()=>{d(""),x("")},className:"bg-slate-200 rounded p-0.5 text-slate-500 hover:bg-slate-300 shrink-0",children:o.jsx(as,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>x(m),className:"bg-slate-800 text-white rounded-lg px-4 py-1.5 text-[13px] font-medium hover:bg-slate-700 shrink-0",children:"Search"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mb-3 flex-wrap",children:[o.jsxs("span",{className:"text-[11px] text-slate-400 font-medium mr-1 flex items-center gap-1",children:[o.jsx(Kb,{className:"w-3 h-3"}),"Saved:"]}),Ne.map(G=>o.jsxs("div",{className:"flex items-center gap-0.5 group",children:[o.jsx("button",{onClick:()=>rt(G),className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-full pl-3 pr-2 py-1 hover:border-slate-400 hover:text-slate-900 transition-colors",children:G.name}),o.jsx("button",{onClick:E=>$e(G.id,E),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-600 transition-all",title:"Delete saved search",children:o.jsx(ss,{className:"w-2.5 h-2.5"})})]},G.id)),ye&&o.jsx("button",{onClick:Le,className:"text-xs text-slate-500 border border-dashed border-slate-300 rounded-full px-3 py-1 hover:border-slate-400 hover:text-slate-700",children:"Save this search"})]}),o.jsxs("div",{className:"flex items-center gap-2 pb-3 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[o.jsx("span",{className:"text-[11px] text-slate-400 font-medium",children:"Lens:"}),o.jsxs("select",{value:oe??"",onChange:G=>{const E=G.target.value;ce(E===""?null:Number(E))},className:"text-xs text-slate-700 bg-white border border-slate-200 rounded-lg px-2.5 py-1.5 cursor-pointer outline-none focus:ring-1 focus:ring-slate-300",children:[o.jsx("option",{value:"",children:"No lens"}),Se.map(G=>o.jsx("option",{value:G.id,children:G.name},G.id))]})]}),Object.entries(Ve).map(([G,E])=>{const te=S.includes(G),fe=E.hex;return o.jsxs("button",{onClick:()=>bt(G),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:te?La(fe,.5):"#E8ECF0",background:te?La(fe,.08):"#FAFBFC",opacity:te?1:S.length>0?.4:.7},children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{background:fe}}),o.jsx("span",{className:"text-xs font-medium",style:{color:te?"#374151":"#94A3B8"},children:E.name})]},G)}),Object.keys(Ve).length>0&&ve.length>0&&o.jsx("div",{className:"w-px h-[18px] bg-slate-200 mx-1"}),ve.map(G=>{const E=U.includes(G.id);return o.jsxs("button",{onClick:()=>Ae(G.id),className:"flex items-center gap-1 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:E?"#475569":"#E8ECF0",background:E?"#F1F5F9":"#FAFBFC",opacity:E?1:U.length>0?.4:.7},children:[o.jsx(Lf,{className:"w-2.5 h-2.5"}),o.jsx("span",{className:"text-xs font-medium",style:{color:E?"#1E293B":"#94A3B8"},children:G.name})]},G.id)}),re&&o.jsx("button",{onClick:()=>{N([]),C([])},className:"text-xs text-slate-400 border border-dashed border-slate-300 rounded-full px-2.5 py-1 hover:text-slate-600",children:"Clear all"})]})]})}),o.jsxs("div",{className:"relative px-7 py-5 pb-20",children:[o.jsxs("div",{className:"max-w-[860px] mx-auto",children:[ye&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[13px] text-slate-500",children:[o.jsx("strong",{className:"text-slate-900",children:Ue.length})," result",Ue.length!==1&&"s",g&&o.jsxs(o.Fragment,{children:[" for ",o.jsx("strong",{className:"text-slate-900",children:g}),""]}),re&&o.jsx("span",{className:"text-slate-400",children:" (filtered)"})]}),o.jsxs("select",{value:q,onChange:G=>A(G.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"flat",children:"No grouping"}),o.jsx("option",{value:"document",children:"Group by document"}),o.jsx("option",{value:"category",children:"Group by category"})]})]}),!ye&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Vr,{className:"w-10 h-10 mx-auto mb-3 text-slate-200"}),o.jsx("p",{className:"text-[15px] text-slate-600 font-medium mb-1.5",children:"Search across all your annotations"}),o.jsx("p",{className:"text-[13px] text-slate-400 max-w-[380px] mx-auto",children:"Find patterns across deals, surface past insights, and build on your own analysis."})]}),ye&&Ue.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400 text-sm",children:"No annotations match your search. Try different keywords or clear your filters."}),ye&&q==="flat"&&Ue.length>0&&o.jsx("div",{className:"flex flex-col gap-2",children:Ue.map(G=>o.jsx(kf,{ann:G,query:g,hovered:P===G.id,onHover:be,onLeave:()=>be(null),showDoc:!0,onNavigate:E=>r(`/document/${E}`)},G.id))}),ye&&q==="document"&&X&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(X).map(([G,E])=>{const te=E[0];return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qi,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:te?.document_name?.replace(/\.pdf$/i,"")}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:E.length}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Lf,{className:"w-2.5 h-2.5"})," ",te?.project_name]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:E.map(fe=>o.jsx(kf,{ann:fe,query:g,hovered:P===fe.id,onHover:be,onLeave:()=>be(null),showDoc:!1,onNavigate:Me=>r(`/document/${Me}`)},fe.id))})]},G)})}),ye&&q==="category"&&X&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(Ve).map(([G,E])=>{const te=X[G];return!te||te.length===0?null:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:E.hex}}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:E.name}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:te.length})]}),o.jsx("div",{className:"flex flex-col gap-2",children:te.map(fe=>o.jsx(kf,{ann:fe,query:g,hovered:P===fe.id,onHover:be,onLeave:()=>be(null),showDoc:!0,onNavigate:Me=>r(`/document/${Me}`)},fe.id))})]},G)})})]}),ye&&Ue.length>3&&o.jsx("div",{className:"absolute right-7 top-5 w-[260px]",children:o.jsx("div",{className:"sticky top-24",children:o.jsx(ev,{results:Ue,colorMap:Ve})})})]})]})}const nv=new D0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function ki({children:r}){return ls(m=>m.token)?r:o.jsx(vo,{to:"/login",replace:!0})}function qp({children:r}){return ls(m=>m.token)?o.jsx(vo,{to:"/app",replace:!0}):r}function av(){return o.jsx(T0,{client:nv,children:o.jsx(U0,{children:o.jsxs(H0,{children:[o.jsx(Ha,{path:"/login",element:o.jsx(qp,{children:o.jsx(Mb,{})})}),o.jsx(Ha,{path:"/register",element:o.jsx(qp,{children:o.jsx(zb,{})})}),o.jsx(Ha,{path:"/",element:o.jsx(vo,{to:"/app",replace:!0})}),o.jsx(Ha,{path:"/app",element:o.jsx(ki,{children:o.jsx(_x,{})})}),o.jsx(Ha,{path:"/app/library",element:o.jsx(ki,{children:o.jsx(tv,{})})}),o.jsx(Ha,{path:"/app/settings",element:o.jsx(ki,{children:o.jsx(Wx,{})})}),o.jsx(Ha,{path:"/project/:projectId",element:o.jsx(ki,{children:o.jsx(zx,{})})}),o.jsx(Ha,{path:"/document/:id",element:o.jsx(ki,{children:o.jsx(Fx,{})})}),o.jsx(Ha,{path:"/document/:id/summary",element:o.jsx(ki,{children:o.jsx(Jx,{})})}),o.jsx(Ha,{path:"*",element:o.jsx(vo,{to:"/app",replace:!0})})]})})})}F0.createRoot(document.getElementById("root")).render(o.jsx(H.StrictMode,{children:o.jsx(av,{})}));export{mo as _};
