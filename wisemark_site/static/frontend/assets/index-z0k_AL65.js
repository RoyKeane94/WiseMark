const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FileSaver.min-rgW_m_5v.js","assets/react-OW7IPSYu.js"])))=>i.map(i=>d[i]);
import{j as o,u as Ui,a as kn,b as An,Q as O0,c as D0}from"./query-CQ1uvarX.js";import{a as T0,b as M0,R as fo,u as ls,r as H,L as qp,c as z0,g as k0,d as Xf,e as R0,B as B0,f as q0,h as La,N as vo}from"./react-OW7IPSYu.js";import{G as U0,g as H0,U as L0}from"./pdf-omjxc98r.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))d(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const S of v.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function m(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(g){if(g.ep)return;g.ep=!0;const v=m(g);fetch(g.href,v)}})();var Ef={exports:{}},Lr={},Cf={exports:{}},Af={};var tp;function K0(){return tp||(tp=1,(function(r){function c(X,ie){var pe=X.length;X.push(ie);e:for(;0<pe;){var we=pe-1>>>1,Ne=X[we];if(0<g(Ne,ie))X[we]=ie,X[pe]=Ne,pe=we;else break e}}function m(X){return X.length===0?null:X[0]}function d(X){if(X.length===0)return null;var ie=X[0],pe=X.pop();if(pe!==ie){X[0]=pe;e:for(var we=0,Ne=X.length,G=Ne>>>1;we<G;){var O=2*(we+1)-1,W=X[O],ce=O+1,qe=X[ce];if(0>g(W,pe))ce<Ne&&0>g(qe,W)?(X[we]=qe,X[ce]=pe,we=ce):(X[we]=W,X[O]=pe,we=O);else if(ce<Ne&&0>g(qe,pe))X[we]=qe,X[ce]=pe,we=ce;else break e}}return ie}function g(X,ie){var pe=X.sortIndex-ie.sortIndex;return pe!==0?pe:X.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;r.unstable_now=function(){return v.now()}}else{var S=Date,w=S.now();r.unstable_now=function(){return S.now()-w}}var U=[],E=[],R=1,C=null,F=3,be=!1,$=!1,ue=!1,I=!1,De=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var ie=m(E);ie!==null;){if(ie.callback===null)d(E);else if(ie.startTime<=X)d(E),ie.sortIndex=ie.expirationTime,c(U,ie);else break;ie=m(E)}}function ve(X){if(ue=!1,se(X),!$)if(m(U)!==null)$=!0,Se||(Se=!0,$e());else{var ie=m(E);ie!==null&&Qe(ve,ie.startTime-X)}}var Se=!1,ge=-1,Ie=5,Ke=-1;function tt(){return I?!0:!(r.unstable_now()-Ke<Ie)}function Ue(){if(I=!1,Se){var X=r.unstable_now();Ke=X;var ie=!0;try{e:{$=!1,ue&&(ue=!1,ye(ge),ge=-1),be=!0;var pe=F;try{t:{for(se(X),C=m(U);C!==null&&!(C.expirationTime>X&&tt());){var we=C.callback;if(typeof we=="function"){C.callback=null,F=C.priorityLevel;var Ne=we(C.expirationTime<=X);if(X=r.unstable_now(),typeof Ne=="function"){C.callback=Ne,se(X),ie=!0;break t}C===m(U)&&d(U),se(X)}else d(U);C=m(U)}if(C!==null)ie=!0;else{var G=m(E);G!==null&&Qe(ve,G.startTime-X),ie=!1}}break e}finally{C=null,F=pe,be=!1}ie=void 0}}finally{ie?$e():Se=!1}}}var $e;if(typeof _e=="function")$e=function(){_e(Ue)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Ae=gt.port2;gt.port1.onmessage=Ue,$e=function(){Ae.postMessage(null)}}else $e=function(){De(Ue,0)};function Qe(X,ie){ge=De(function(){X(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return F},r.unstable_next=function(X){switch(F){case 1:case 2:case 3:var ie=3;break;default:ie=F}var pe=F;F=ie;try{return X()}finally{F=pe}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=F;F=X;try{return ie()}finally{F=pe}},r.unstable_scheduleCallback=function(X,ie,pe){var we=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?we+pe:we):pe=we,X){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=pe+Ne,X={id:R++,callback:ie,priorityLevel:X,startTime:pe,expirationTime:Ne,sortIndex:-1},pe>we?(X.sortIndex=pe,c(E,X),m(U)===null&&X===m(E)&&(ue?(ye(ge),ge=-1):ue=!0,Qe(ve,pe-we))):(X.sortIndex=Ne,c(U,X),$||be||($=!0,Se||(Se=!0,$e()))),X},r.unstable_shouldYield=tt,r.unstable_wrapCallback=function(X){var ie=F;return function(){var pe=F;F=ie;try{return X.apply(this,arguments)}finally{F=pe}}}})(Af)),Af}var np;function Q0(){return np||(np=1,Cf.exports=K0()),Cf.exports}var ap;function Y0(){if(ap)return Lr;ap=1;var r=Q0(),c=T0(),m=M0();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(v(e)!==e)throw Error(d(188))}function E(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(d(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U(s),e;if(i===a)return U(s),t;i=i.sibling}throw Error(d(188))}if(n.return!==a.return)n=s,a=i;else{for(var p=!1,x=s.child;x;){if(x===n){p=!0,n=s,a=i;break}if(x===a){p=!0,a=s,n=i;break}x=x.sibling}if(!p){for(x=i.child;x;){if(x===n){p=!0,n=i,a=s;break}if(x===a){p=!0,a=i,n=s;break}x=x.sibling}if(!p)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,F=Symbol.for("react.element"),be=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Ue&&e[Ue]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case De:return"Profiler";case I:return"StrictMode";case ve:return"Suspense";case Se:return"SuspenseList";case Ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case _e:return e.displayName||"Context";case ye:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ge:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case Ie:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Qe=Array.isArray,X=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},we=[],Ne=-1;function G(e){return{current:e}}function O(e){0>Ne||(e.current=we[Ne],we[Ne]=null,Ne--)}function W(e,t){Ne++,we[Ne]=e.current,e.current=t}var ce=G(null),qe=G(null),et=G(null),vt=G(null);function Ft(e,t){switch(W(et,t),W(qe,e),W(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ce),W(ce,e)}function dn(){O(ce),O(qe),O(et)}function je(e){e.memoizedState!==null&&W(vt,e);var t=ce.current,n=_m(t,e.type);t!==n&&(W(qe,e),W(ce,n))}function ft(e){qe.current===e&&(O(ce),O(qe)),vt.current===e&&(O(vt),Br._currentValue=pe)}var Fe,dt;function Zt(e){if(Fe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fe=t&&t[1]||"",dt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+dt}var Ot=!1;function Yn(e,t){if(!e||Ot)return"";Ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var P=te}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(te){P=te}e.call(oe.prototype)}}else{try{throw Error()}catch(te){P=te}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&P&&typeof te.stack=="string")return[te.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),p=i[0],x=i[1];if(p&&x){var _=p.split(`
`),Z=x.split(`
`);for(s=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;s<Z.length&&!Z[s].includes("DetermineComponentFrameRoot");)s++;if(a===_.length||s===Z.length)for(a=_.length-1,s=Z.length-1;1<=a&&0<=s&&_[a]!==Z[s];)s--;for(;1<=a&&0<=s;a--,s--)if(_[a]!==Z[s]){if(a!==1||s!==1)do if(a--,s--,0>s||_[a]!==Z[s]){var le=`
`+_[a].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=a&&0<=s);break}}}finally{Ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zt(n):""}function ta(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Yn(e.type,!1);case 11:return Yn(e.type.render,!1);case 1:return Yn(e.type,!0);case 31:return Zt("Activity");default:return""}}function me(e){try{var t="",n=null;do t+=ta(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var at=Object.prototype.hasOwnProperty,ne=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,xe=r.unstable_shouldYield,Ze=r.unstable_requestPaint,st=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,mn=r.unstable_UserBlockingPriority,sn=r.unstable_NormalPriority,Dn=r.unstable_LowPriority,ze=r.unstable_IdlePriority,Ye=r.log,wt=r.unstable_setDisableYieldValue,qt=null,Ct=null;function Ut(e){if(typeof Ye=="function"&&wt(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(qt,e)}catch{}}var Oe=Math.clz32?Math.clz32:Ls,ga=Math.log,Qa=Math.LN2;function Ls(e){return e>>>=0,e===0?32:31-(ga(e)/Qa|0)|0}var Te=256,vl=262144,is=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rs(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~i,a!==0?s=ba(a):(p&=x,p!==0?s=ba(p):n||(n=x&~e,n!==0&&(s=ba(n))))):(x=a&~i,x!==0?s=ba(x):p!==0?s=ba(p):n||(n=a&~e,n!==0&&(s=ba(n)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var e=is;return is<<=1,(is&62914560)===0&&(is=4194304),e}function Ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,t,n,a,s,i){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,_=e.expirationTimes,Z=e.hiddenUpdates;for(n=p&~n;0<n;){var le=31-Oe(n),oe=1<<le;x[le]=0,_[le]=-1;var P=Z[le];if(P!==null)for(Z[le]=null,le=0;le<P.length;le++){var te=P[le];te!==null&&(te.lane&=-536870913)}n&=~oe}a!==0&&us(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(p&~t))}function us(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Oe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ht(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Oe(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Wt(e,t){var n=t&-t;return n=(n&42)!==0?1:Ki(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function os(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Zm(e.type))}function cs(e,t){var n=ie.p;try{return ie.p=e,t()}finally{ie.p=n}}var Ca=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ca,It="__reactProps$"+Ca,Tn="__reactContainer$"+Ca,jl="__reactEvents$"+Ca,zo="__reactListeners$"+Ca,Aa="__reactHandles$"+Ca,Qi="__reactResources$"+Ca,Xn="__reactMarker$"+Ca;function Ks(e){delete e[Kt],delete e[It],delete e[jl],delete e[zo],delete e[Aa]}function Oa(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[Kt])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function Mt(e){if(e=e[Kt]||e[Tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Nn(e){var t=e[Qi];return t||(t=e[Qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function en(e){e[Xn]=!0}var Xa=new Set,fs={};function xa(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(fs[e]=t,e=0;e<t.length;e++)Xa.add(t[e])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},ds={};function Ir(e){return at.call(ds,e)?!0:at.call(Yi,e)?!1:Ga.test(e)?ds[e]=!0:(Yi[e]=!0,!1)}function rt(e,t,n){if(Ir(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function aa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function xn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eu(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){n=""+p,i.call(this,p)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){if(!e._valueTracker){var t=wl(e)?"checked":"value";e._valueTracker=eu(e,t,""+e[t])}}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=wl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function pn(e){return e.replace(ms,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ta(e,t,n,a,s,i,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xn(t)):e.value!==""+xn(t)&&(e.value=""+xn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ps(e,p,xn(t)):n!=null?ps(e,p,xn(n)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+xn(x):e.removeAttribute("name")}function Ys(e,t,n,a,s,i,p,x){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Qs(e);return}n=n!=null?""+xn(n):"",t=t!=null?""+xn(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qs(e)}function ps(e,t,n){t==="number"&&Nt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function va(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gi(e,t,n){if(t!=null&&(t=""+xn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+xn(n):""}function ys(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(d(92));if(Qe(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=xn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Qs(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||ko.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vi(e,t,n){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&pt(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&pt(e,i,t[i])}function Fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Mn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var la=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fa=null,Yt=null;function Vn(e){var t=Mt(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ta(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[It]||null;if(!s)throw Error(d(90));Ta(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Xi(a)}break e;case"textarea":Gi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&va(e,!!n.multiple,t,!1)}}}var Za=!1;function Nl(e,t,n){if(Za)return e(t,n);Za=!0;try{var a=e(t);return a}finally{if(Za=!1,(Fa!==null||Yt!==null)&&(Yu(),Fa&&(t=Fa,e=Yt,Yt=Fa=null,Vn(t),e)))for(t=0;t<e.length;t++)Vn(e[t])}}function $a(e,t){var n=e.stateNode;if(n===null)return null;var a=n[It]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(d(231,t,typeof n));return n}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(yn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Zi=!1}var sa=null,Gs=null,_l=null;function El(){if(_l)return _l;var e,t=Gs,n=t.length,a,s="value"in sa?sa.value:sa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===s[i-a];a++);return _l=s.slice(e,1<a?1-a:void 0)}function Cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function tu(){return!1}function rn(e){function t(n,a,s,i,p){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(i):i[x]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gs:tu,this.isPropagationStopped=tu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=rn(Ja),Ma=C({},Ja,{view:0,detail:0}),Fs=rn(Ma),bs,$i,xs,Zs=C({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(bs=e.screenX-xs.screenX,$i=e.screenY-xs.screenY):$i=bs=0,xs=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:$i}}),$s=rn(Zs),Ji=C({},Zs,{dataTransfer:0}),nu=rn(Ji),Js=C({},Ma,{relatedTarget:0}),Al=rn(Js),Ps=C({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),au=rn(Ps),Bo=C({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ol=rn(Bo),Pi=C({},Ja,{data:0}),Ws=rn(Pi),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gn[e])?!!t[e]:!1}function Pa(){return vs}var lu=C({},Ma,{key:function(e){if(e.key){var t=Wi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ii[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Is=rn(lu),su=C({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=rn(su),ei=C({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),tr=rn(ei),Wa=C({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),nr=rn(Wa),ar=C({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ti=rn(ar),lr=C({},Ja,{newState:0,oldState:0}),iu=rn(lr),qo=[9,13,27,32],Ss=yn&&"CompositionEvent"in window,za=null;yn&&"documentMode"in document&&(za=document.documentMode);var Uo=yn&&"TextEvent"in window&&!za,ni=yn&&(!Ss||za&&8<za&&11>=za),ai=" ",ru=!1;function sr(e,t){switch(e){case"keyup":return qo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function ou(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ru=!0,ai);case"textInput":return e=t.data,e===ai&&ru?null:e;default:return null}}function Ho(e,t){if(Ia)return e==="compositionend"||!Ss&&sr(e,t)?(e=El(),_l=Gs=sa=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ni&&t.locale!=="ko"?null:t.data;default:return null}}var cu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cu[e.type]:t==="textarea"}function ir(e,t,n,a){Fa?Yt?Yt.push(a):Yt=[a]:Fa=a,t=Ju(t,"onChange"),0<t.length&&(n=new Vs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Dl=null,js=null;function Lo(e){bm(e,0)}function si(e){var t=Gn(e);if(Xi(t))return e}function ws(e,t){if(e==="change")return t}var ia=!1;if(yn){var Xt;if(yn){var Tl="oninput"in document;if(!Tl){var el=document.createElement("div");el.setAttribute("oninput","return;"),Tl=typeof el.oninput=="function"}Xt=Tl}else Xt=!1;ia=Xt&&(!document.documentMode||9<document.documentMode)}function fu(){Dl&&(Dl.detachEvent("onpropertychange",ii),js=Dl=null)}function ii(e){if(e.propertyName==="value"&&si(js)){var t=[];ir(t,js,e,Xs(e)),Nl(Lo,t)}}function du(e,t,n){e==="focusin"?(fu(),Dl=t,js=n,Dl.attachEvent("onpropertychange",ii)):e==="focusout"&&fu()}function tl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(js)}function rr(e,t){if(e==="click")return si(t)}function Ml(e,t){if(e==="input"||e==="change")return si(t)}function ka(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:ka;function l(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!at.call(t,s)||!En(e[s],t[s]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f(e,t){var n=u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j=yn&&"documentMode"in document&&11>=document.documentMode,N=null,D=null,K=null,T=!1;function A(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T||N==null||N!==Nt(a)||(a=N,"selectionStart"in a&&b(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),K&&l(K,a)||(K=a,a=Ju(D,"onSelect"),0<a.length&&(t=new Vs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=N)))}function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var q={animationend:k("Animation","AnimationEnd"),animationiteration:k("Animation","AnimationIteration"),animationstart:k("Animation","AnimationStart"),transitionrun:k("Transition","TransitionRun"),transitionstart:k("Transition","TransitionStart"),transitioncancel:k("Transition","TransitionCancel"),transitionend:k("Transition","TransitionEnd")},M={},z={};yn&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function Y(e){if(M[e])return M[e];if(!q[e])return e;var t=q[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z)return M[e]=t[n];return e}var J=Y("animationend"),Q=Y("animationiteration"),ae=Y("animationstart"),fe=Y("transitionrun"),Ee=Y("transitionstart"),Ce=Y("transitioncancel"),de=Y("transitionend"),Re=new Map,Me="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Me.push("scrollEnd");function he(e,t){Re.set(e,t),xa(t,[e])}var Be=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},We=[],ut=0,Xe=0;function nt(){for(var e=ut,t=Xe=ut=0;t<e;){var n=We[t];We[t++]=null;var a=We[t];We[t++]=null;var s=We[t];We[t++]=null;var i=We[t];if(We[t++]=null,a!==null&&s!==null){var p=a.pending;p===null?s.next=s:(s.next=p.next,p.next=s),a.pending=s}i!==0&&Ra(n,s,i)}}function zt(e,t,n,a){We[ut++]=e,We[ut++]=t,We[ut++]=n,We[ut++]=a,Xe|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cn(e,t,n,a){return zt(e,t,n,a),zl(e)}function At(e,t){return zt(e,null,null,t),zl(e)}function Ra(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-Oe(n),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),i):null}function zl(e){if(50<Or)throw Or=0,$c=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ri={};function dy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,a){return new dy(e,t,n,a)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ed(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hu(e,t,n,a,s,i){var p=0;if(a=e,typeof e=="function")Ko(e)&&(p=1);else if(typeof e=="string")p=g0(e,n,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ke:return e=Fn(31,n,t,s),e.elementType=Ke,e.lanes=i,e;case ue:return Ns(n.children,s,i,t);case I:p=8,s|=24;break;case De:return e=Fn(12,n,t,s|2),e.elementType=De,e.lanes=i,e;case ve:return e=Fn(13,n,t,s),e.elementType=ve,e.lanes=i,e;case Se:return e=Fn(19,n,t,s),e.elementType=Se,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:p=10;break e;case ye:p=9;break e;case se:p=11;break e;case ge:p=14;break e;case Ie:p=16,a=null;break e}p=29,n=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=Fn(p,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ns(e,t,n,a){return e=Fn(7,e,a,t),e.lanes=n,e}function Qo(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function td(e){var t=Fn(18,null,null,0);return t.stateNode=e,t}function Yo(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nd=new WeakMap;function ra(e,t){if(typeof e=="object"&&e!==null){var n=nd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:me(t)},nd.set(e,t),t)}return{value:e,source:t,stack:me(t)}}var ui=[],oi=0,mu=null,ur=0,ua=[],oa=0,kl=null,Ba=1,qa="";function al(e,t){ui[oi++]=ur,ui[oi++]=mu,mu=e,ur=t}function ad(e,t,n){ua[oa++]=Ba,ua[oa++]=qa,ua[oa++]=kl,kl=e;var a=Ba;e=qa;var s=32-Oe(a)-1;a&=~(1<<s),n+=1;var i=32-Oe(t)+s;if(30<i){var p=s-s%5;i=(a&(1<<p)-1).toString(32),a>>=p,s-=p,Ba=1<<32-Oe(t)+s|n<<s|a,qa=i+e}else Ba=1<<i|n<<s|a,qa=e}function Xo(e){e.return!==null&&(al(e,1),ad(e,1,0))}function Go(e){for(;e===mu;)mu=ui[--oi],ui[oi]=null,ur=ui[--oi],ui[oi]=null;for(;e===kl;)kl=ua[--oa],ua[oa]=null,qa=ua[--oa],ua[oa]=null,Ba=ua[--oa],ua[oa]=null}function ld(e,t){ua[oa++]=Ba,ua[oa++]=qa,ua[oa++]=kl,Ba=t.id,qa=t.overflow,kl=e}var vn=null,Gt=null,yt=!1,Rl=null,ca=!1,Vo=Error(d(519));function Bl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(ra(t,e)),Vo}function sd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Kt]=e,t[It]=a,n){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(n=0;n<Tr.length;n++)ct(Tr[n],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),Ys(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),ys(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||jm(t.textContent,n)?(a.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),a.onScroll!=null&&ct("scroll",t),a.onScrollEnd!=null&&ct("scrollend",t),a.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Bl(e,!0)}function id(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:vn=vn.return}}function ci(e){if(e!==vn)return!1;if(!yt)return id(e),yt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ff(e.type,e.memoizedProps)),n=!n),n&&Gt&&Bl(e),id(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Gt=Tm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Gt=Tm(e)}else t===27?(t=Gt,Jl(e.type)?(e=yf,yf=null,Gt=e):Gt=t):Gt=vn?da(e.stateNode.nextSibling):null;return!0}function _s(){Gt=vn=null,yt=!1}function Fo(){var e=Rl;return e!==null&&(Hn===null?Hn=e:Hn.push.apply(Hn,e),Rl=null),e}function or(e){Rl===null?Rl=[e]:Rl.push(e)}var Zo=G(null),Es=null,ll=null;function ql(e,t,n){W(Zo,t._currentValue),t._currentValue=n}function sl(e){e._currentValue=Zo.current,O(Zo)}function $o(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Jo(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var p=s.child;i=i.firstContext;e:for(;i!==null;){var x=i;i=s;for(var _=0;_<t.length;_++)if(x.context===t[_]){i.lanes|=n,x=i.alternate,x!==null&&(x.lanes|=n),$o(i.return,n,e),a||(p=null);break e}i=x.next}}else if(s.tag===18){if(p=s.return,p===null)throw Error(d(341));p.lanes|=n,i=p.alternate,i!==null&&(i.lanes|=n),$o(p,n,e),p=null}else p=s.child;if(p!==null)p.return=s;else for(p=s;p!==null;){if(p===e){p=null;break}if(s=p.sibling,s!==null){s.return=p.return,p=s;break}p=p.return}s=p}}function fi(e,t,n,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var p=s.alternate;if(p===null)throw Error(d(387));if(p=p.memoizedProps,p!==null){var x=s.type;En(s.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(s===vt.current){if(p=s.alternate,p===null)throw Error(d(387));p.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}s=s.return}e!==null&&Jo(t,e,n,a),t.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Es=e,ll=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return rd(Es,e)}function yu(e,t){return Es===null&&Cs(e),rd(e,t)}function rd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ll===null){if(e===null)throw Error(d(308));ll=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ll=ll.next=t;return n}var hy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},my=r.unstable_scheduleCallback,py=r.unstable_NormalPriority,un={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new hy,data:new Map,refCount:0}}function cr(e){e.refCount--,e.refCount===0&&my(py,function(){e.controller.abort()})}var fr=null,Wo=0,di=0,hi=null;function yy(e,t){if(fr===null){var n=fr=[];Wo=0,di=tf(),hi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Wo++,t.then(ud,ud),t}function ud(){if(--Wo===0&&fr!==null){hi!==null&&(hi.status="fulfilled");var e=fr;fr=null,di=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var od=X.S;X.S=function(e,t){Vh=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yy(e,t),od!==null&&od(e,t)};var As=G(null);function Io(){var e=As.current;return e!==null?e:Lt.pooledCache}function gu(e,t){t===null?W(As,As.current):W(As,t.pool)}function cd(){var e=Io();return e===null?null:{parent:un._currentValue,pool:e}}var mi=Error(d(460)),ec=Error(d(474)),bu=Error(d(542)),xu={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Rn,Rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e}throw Ds=t,mi}}function Os(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ds=n,mi):n}}var Ds=null;function hd(){if(Ds===null)throw Error(d(459));var e=Ds;return Ds=null,e}function md(e){if(e===mi||e===bu)throw Error(d(483))}var pi=null,dr=0;function vu(e){var t=dr;return dr+=1,pi===null&&(pi=[]),dd(pi,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Su(e,t){throw t.$$typeof===F?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pd(e){function t(L,B){if(e){var V=L.deletions;V===null?(L.deletions=[B],L.flags|=16):V.push(B)}}function n(L,B){if(!e)return null;for(;B!==null;)t(L,B),B=B.sibling;return null}function a(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function s(L,B){return L=nl(L,B),L.index=0,L.sibling=null,L}function i(L,B,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<B?(L.flags|=67108866,B):V):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function x(L,B,V,re){return B===null||B.tag!==6?(B=Qo(V,L.mode,re),B.return=L,B):(B=s(B,V),B.return=L,B)}function _(L,B,V,re){var Ge=V.type;return Ge===ue?le(L,B,V.props.children,re,V.key):B!==null&&(B.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Ie&&Os(Ge)===B.type)?(B=s(B,V.props),hr(B,V),B.return=L,B):(B=hu(V.type,V.key,V.props,null,L.mode,re),hr(B,V),B.return=L,B)}function Z(L,B,V,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=Yo(V,L.mode,re),B.return=L,B):(B=s(B,V.children||[]),B.return=L,B)}function le(L,B,V,re,Ge){return B===null||B.tag!==7?(B=Ns(V,L.mode,re,Ge),B.return=L,B):(B=s(B,V),B.return=L,B)}function oe(L,B,V){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Qo(""+B,L.mode,V),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case be:return V=hu(B.type,B.key,B.props,null,L.mode,V),hr(V,B),V.return=L,V;case $:return B=Yo(B,L.mode,V),B.return=L,B;case Ie:return B=Os(B),oe(L,B,V)}if(Qe(B)||$e(B))return B=Ns(B,L.mode,V,null),B.return=L,B;if(typeof B.then=="function")return oe(L,vu(B),V);if(B.$$typeof===_e)return oe(L,yu(L,B),V);Su(L,B)}return null}function P(L,B,V,re){var Ge=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ge!==null?null:x(L,B,""+V,re);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case be:return V.key===Ge?_(L,B,V,re):null;case $:return V.key===Ge?Z(L,B,V,re):null;case Ie:return V=Os(V),P(L,B,V,re)}if(Qe(V)||$e(V))return Ge!==null?null:le(L,B,V,re,null);if(typeof V.then=="function")return P(L,B,vu(V),re);if(V.$$typeof===_e)return P(L,B,yu(L,V),re);Su(L,V)}return null}function te(L,B,V,re,Ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return L=L.get(V)||null,x(B,L,""+re,Ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case be:return L=L.get(re.key===null?V:re.key)||null,_(B,L,re,Ge);case $:return L=L.get(re.key===null?V:re.key)||null,Z(B,L,re,Ge);case Ie:return re=Os(re),te(L,B,V,re,Ge)}if(Qe(re)||$e(re))return L=L.get(V)||null,le(B,L,re,Ge,null);if(typeof re.then=="function")return te(L,B,V,vu(re),Ge);if(re.$$typeof===_e)return te(L,B,V,yu(B,re),Ge);Su(B,re)}return null}function He(L,B,V,re){for(var Ge=null,St=null,Le=B,it=B=0,mt=null;Le!==null&&it<V.length;it++){Le.index>it?(mt=Le,Le=null):mt=Le.sibling;var jt=P(L,Le,V[it],re);if(jt===null){Le===null&&(Le=mt);break}e&&Le&&jt.alternate===null&&t(L,Le),B=i(jt,B,it),St===null?Ge=jt:St.sibling=jt,St=jt,Le=mt}if(it===V.length)return n(L,Le),yt&&al(L,it),Ge;if(Le===null){for(;it<V.length;it++)Le=oe(L,V[it],re),Le!==null&&(B=i(Le,B,it),St===null?Ge=Le:St.sibling=Le,St=Le);return yt&&al(L,it),Ge}for(Le=a(Le);it<V.length;it++)mt=te(Le,L,it,V[it],re),mt!==null&&(e&&mt.alternate!==null&&Le.delete(mt.key===null?it:mt.key),B=i(mt,B,it),St===null?Ge=mt:St.sibling=mt,St=mt);return e&&Le.forEach(function(ts){return t(L,ts)}),yt&&al(L,it),Ge}function Je(L,B,V,re){if(V==null)throw Error(d(151));for(var Ge=null,St=null,Le=B,it=B=0,mt=null,jt=V.next();Le!==null&&!jt.done;it++,jt=V.next()){Le.index>it?(mt=Le,Le=null):mt=Le.sibling;var ts=P(L,Le,jt.value,re);if(ts===null){Le===null&&(Le=mt);break}e&&Le&&ts.alternate===null&&t(L,Le),B=i(ts,B,it),St===null?Ge=ts:St.sibling=ts,St=ts,Le=mt}if(jt.done)return n(L,Le),yt&&al(L,it),Ge;if(Le===null){for(;!jt.done;it++,jt=V.next())jt=oe(L,jt.value,re),jt!==null&&(B=i(jt,B,it),St===null?Ge=jt:St.sibling=jt,St=jt);return yt&&al(L,it),Ge}for(Le=a(Le);!jt.done;it++,jt=V.next())jt=te(Le,L,it,jt.value,re),jt!==null&&(e&&jt.alternate!==null&&Le.delete(jt.key===null?it:jt.key),B=i(jt,B,it),St===null?Ge=jt:St.sibling=jt,St=jt);return e&&Le.forEach(function(A0){return t(L,A0)}),yt&&al(L,it),Ge}function Bt(L,B,V,re){if(typeof V=="object"&&V!==null&&V.type===ue&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case be:e:{for(var Ge=V.key;B!==null;){if(B.key===Ge){if(Ge=V.type,Ge===ue){if(B.tag===7){n(L,B.sibling),re=s(B,V.props.children),re.return=L,L=re;break e}}else if(B.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Ie&&Os(Ge)===B.type){n(L,B.sibling),re=s(B,V.props),hr(re,V),re.return=L,L=re;break e}n(L,B);break}else t(L,B);B=B.sibling}V.type===ue?(re=Ns(V.props.children,L.mode,re,V.key),re.return=L,L=re):(re=hu(V.type,V.key,V.props,null,L.mode,re),hr(re,V),re.return=L,L=re)}return p(L);case $:e:{for(Ge=V.key;B!==null;){if(B.key===Ge)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){n(L,B.sibling),re=s(B,V.children||[]),re.return=L,L=re;break e}else{n(L,B);break}else t(L,B);B=B.sibling}re=Yo(V,L.mode,re),re.return=L,L=re}return p(L);case Ie:return V=Os(V),Bt(L,B,V,re)}if(Qe(V))return He(L,B,V,re);if($e(V)){if(Ge=$e(V),typeof Ge!="function")throw Error(d(150));return V=Ge.call(V),Je(L,B,V,re)}if(typeof V.then=="function")return Bt(L,B,vu(V),re);if(V.$$typeof===_e)return Bt(L,B,yu(L,V),re);Su(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,B!==null&&B.tag===6?(n(L,B.sibling),re=s(B,V),re.return=L,L=re):(n(L,B),re=Qo(V,L.mode,re),re.return=L,L=re),p(L)):n(L,B)}return function(L,B,V,re){try{dr=0;var Ge=Bt(L,B,V,re);return pi=null,Ge}catch(Le){if(Le===mi||Le===bu)throw Le;var St=Fn(29,Le,null,L.mode);return St.lanes=re,St.return=L,St}}}var Ts=pd(!0),yd=pd(!1),Ul=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_t&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=zl(e),Ra(e,null,n),t}return zt(e,a,t,n),zl(e)}function mr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}function ac(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=p:i=i.next=p,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lc=!1;function pr(){if(lc){var e=hi;if(e!==null)throw e}}function yr(e,t,n,a){lc=!1;var s=e.updateQueue;Ul=!1;var i=s.firstBaseUpdate,p=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var _=x,Z=_.next;_.next=null,p===null?i=Z:p.next=Z,p=_;var le=e.alternate;le!==null&&(le=le.updateQueue,x=le.lastBaseUpdate,x!==p&&(x===null?le.firstBaseUpdate=Z:x.next=Z,le.lastBaseUpdate=_))}if(i!==null){var oe=s.baseState;p=0,le=Z=_=null,x=i;do{var P=x.lane&-536870913,te=P!==x.lane;if(te?(ht&P)===P:(a&P)===P){P!==0&&P===di&&(lc=!0),le!==null&&(le=le.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var He=e,Je=x;P=t;var Bt=n;switch(Je.tag){case 1:if(He=Je.payload,typeof He=="function"){oe=He.call(Bt,oe,P);break e}oe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Je.payload,P=typeof He=="function"?He.call(Bt,oe,P):He,P==null)break e;oe=C({},oe,P);break e;case 2:Ul=!0}}P=x.callback,P!==null&&(e.flags|=64,te&&(e.flags|=8192),te=s.callbacks,te===null?s.callbacks=[P]:te.push(P))}else te={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},le===null?(Z=le=te,_=oe):le=le.next=te,p|=P;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;te=x,x=te.next,te.next=null,s.lastBaseUpdate=te,s.shared.pending=null}}while(!0);le===null&&(_=oe),s.baseState=_,s.firstBaseUpdate=Z,s.lastBaseUpdate=le,i===null&&(s.shared.lanes=0),Gl|=p,e.lanes=p,e.memoizedState=oe}}function gd(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function bd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gd(n[e],t)}var yi=G(null),ju=G(0);function xd(e,t){e=ml,W(ju,e),W(yi,t),ml=e|t.baseLanes}function sc(){W(ju,ml),W(yi,yi.current)}function ic(){ml=ju.current,O(yi),O(ju)}var Zn=G(null),fa=null;function Kl(e){var t=e.alternate;W(tn,tn.current&1),W(Zn,e),fa===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(fa=e)}function rc(e){W(tn,tn.current),W(Zn,e),fa===null&&(fa=e)}function vd(e){e.tag===22?(W(tn,tn.current),W(Zn,e),fa===null&&(fa=e)):Ql()}function Ql(){W(tn,tn.current),W(Zn,Zn.current)}function $n(e){O(Zn),fa===e&&(fa=null),O(tn)}var tn=G(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mf(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=0,lt=null,kt=null,on=null,Nu=!1,gi=!1,Ms=!1,_u=0,gr=0,bi=null,by=0;function Jt(){throw Error(d(321))}function uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function oc(e,t,n,a,s,i){return il=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?ah:Nc,Ms=!1,i=n(a,s),Ms=!1,gi&&(i=jd(t,n,a,s)),Sd(e),i}function Sd(e){X.H=vr;var t=kt!==null&&kt.next!==null;if(il=0,on=kt=lt=null,Nu=!1,gr=0,bi=null,t)throw Error(d(300));e===null||cn||(e=e.dependencies,e!==null&&pu(e)&&(cn=!0))}function jd(e,t,n,a){lt=e;var s=0;do{if(gi&&(bi=null),gr=0,gi=!1,25<=s)throw Error(d(301));if(s+=1,on=kt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}X.H=lh,i=t(n,a)}while(gi);return i}function xy(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?br(t):t,e=e.useState()[0],(kt!==null?kt.memoizedState:null)!==e&&(lt.flags|=1024),t}function cc(){var e=_u!==0;return _u=0,e}function fc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dc(e){if(Nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nu=!1}il=0,on=kt=lt=null,gi=!1,gr=_u=0,bi=null}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?lt.memoizedState=on=e:on=on.next=e,on}function nn(){if(kt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=on===null?lt.memoizedState:on.next;if(t!==null)on=t,kt=e;else{if(e===null)throw lt.alternate===null?Error(d(467)):Error(d(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},on===null?lt.memoizedState=on=e:on=on.next=e}return on}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(e){var t=gr;return gr+=1,bi===null&&(bi=[]),e=dd(bi,e,t),t=lt,(on===null?t.memoizedState:on.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?ah:Nc),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return br(e);if(e.$$typeof===_e)return Sn(e)}throw Error(d(438,String(e)))}function hc(e){var t=null,n=lt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=lt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Eu(),lt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=tt;return t.index++,n}function rl(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=nn();return mc(t,kt,e)}function mc(e,t,n){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var p=s.next;s.next=i.next,i.next=p}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var x=p=null,_=null,Z=t,le=!1;do{var oe=Z.lane&-536870913;if(oe!==Z.lane?(ht&oe)===oe:(il&oe)===oe){var P=Z.revertLane;if(P===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),oe===di&&(le=!0);else if((il&P)===P){Z=Z.next,P===di&&(le=!0);continue}else oe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=oe,p=i):_=_.next=oe,lt.lanes|=P,Gl|=P;oe=Z.action,Ms&&n(i,oe),i=Z.hasEagerState?Z.eagerState:n(i,oe)}else P={lane:oe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},_===null?(x=_=P,p=i):_=_.next=P,lt.lanes|=oe,Gl|=oe;Z=Z.next}while(Z!==null&&Z!==t);if(_===null?p=i:_.next=x,!En(i,e.memoizedState)&&(cn=!0,le&&(n=hi,n!==null)))throw n;e.memoizedState=i,e.baseState=p,e.baseQueue=_,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function pc(e){var t=nn(),n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var p=s=s.next;do i=e(i,p.action),p=p.next;while(p!==s);En(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function wd(e,t,n){var a=lt,s=nn(),i=yt;if(i){if(n===void 0)throw Error(d(407));n=n()}else n=t();var p=!En((kt||s).memoizedState,n);if(p&&(s.memoizedState=n,cn=!0),s=s.queue,bc(Ed.bind(null,a,s,e),[e]),s.getSnapshot!==t||p||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,xi(9,{destroy:void 0},_d.bind(null,a,s,n,t),null),Lt===null)throw Error(d(349));i||(il&127)!==0||Nd(a,t,n)}return n}function Nd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t=Eu(),lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _d(e,t,n,a){t.value=n,t.getSnapshot=a,Cd(t)&&Ad(e)}function Ed(e,t,n){return n(function(){Cd(t)&&Ad(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function Ad(e){var t=At(e,2);t!==null&&Ln(t,e,2)}function yc(e){var t=zn();if(typeof e=="function"){var n=e;if(e=n(),Ms){Ut(!0);try{n()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function Od(e,t,n,a){return e.baseState=n,mc(e,kt,typeof a=="function"?a:rl)}function vy(e,t,n,a,s){if(Tu(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){i.listeners.push(p)}};X.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Dd(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Dd(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=X.T,p={};X.T=p;try{var x=n(s,a),_=X.S;_!==null&&_(p,x),Td(e,t,x)}catch(Z){gc(e,t,Z)}finally{i!==null&&p.types!==null&&(i.types=p.types),X.T=i}}else try{i=n(s,a),Td(e,t,i)}catch(Z){gc(e,t,Z)}}function Td(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Md(e,t,a)},function(a){return gc(e,t,a)}):Md(e,t,n)}function Md(e,t,n){t.status="fulfilled",t.value=n,zd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Dd(e,n)))}function gc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,zd(t),t=t.next;while(t!==a)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kd(e,t){return t}function Rd(e,t){if(yt){var n=Lt.formState;if(n!==null){e:{var a=lt;if(yt){if(Gt){t:{for(var s=Gt,i=ca;s.nodeType!==8;){if(!i){s=null;break t}if(s=da(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Gt=da(s.nextSibling),a=s.data==="F!";break e}}Bl(a)}a=!1}a&&(t=n[0])}}return n=zn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},n.queue=a,n=eh.bind(null,lt,a),a.dispatch=n,a=yc(!1),i=wc.bind(null,lt,!1,a.queue),a=zn(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=vy.bind(null,lt,s,i,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Bd(e){var t=nn();return qd(t,kt,e)}function qd(e,t,n){if(t=mc(e,t,kd)[0],e=Au(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=br(t)}catch(p){throw p===mi?bu:p}else a=t;t=nn();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(lt.flags|=2048,xi(9,{destroy:void 0},Sy.bind(null,s,n),null)),[a,i,e]}function Sy(e,t){e.action=t}function Ud(e){var t=nn(),n=kt;if(n!==null)return qd(t,n,e);nn(),t=t.memoizedState,n=nn();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function xi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=lt.updateQueue,t===null&&(t=Eu(),lt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Hd(){return nn().memoizedState}function Ou(e,t,n,a){var s=zn();lt.flags|=e,s.memoizedState=xi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Du(e,t,n,a){var s=nn();a=a===void 0?null:a;var i=s.memoizedState.inst;kt!==null&&a!==null&&uc(a,kt.memoizedState.deps)?s.memoizedState=xi(t,i,n,a):(lt.flags|=e,s.memoizedState=xi(1|t,i,n,a))}function Ld(e,t){Ou(8390656,8,e,t)}function bc(e,t){Du(2048,8,e,t)}function jy(e){lt.flags|=4;var t=lt.updateQueue;if(t===null)t=Eu(),lt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Kd(e){var t=nn().memoizedState;return jy({ref:t,nextImpl:e}),function(){if((_t&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Qd(e,t){return Du(4,2,e,t)}function Yd(e,t){return Du(4,4,e,t)}function Xd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,n){n=n!=null?n.concat([e]):null,Du(4,4,Xd.bind(null,t,e),n)}function xc(){}function Vd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&uc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Fd(e,t){var n=nn();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&uc(t,a[1]))return a[0];if(a=e(),Ms){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a}function vc(e,t,n){return n===void 0||(il&1073741824)!==0&&(ht&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Zh(),lt.lanes|=e,Gl|=e,n)}function Zd(e,t,n,a){return En(n,t)?n:yi.current!==null?(e=vc(e,n,a),En(e,t)||(cn=!0),e):(il&42)===0||(il&1073741824)!==0&&(ht&261930)===0?(cn=!0,e.memoizedState=n):(e=Zh(),lt.lanes|=e,Gl|=e,t)}function $d(e,t,n,a,s){var i=ie.p;ie.p=i!==0&&8>i?i:8;var p=X.T,x={};X.T=x,wc(e,!1,t,n);try{var _=s(),Z=X.S;if(Z!==null&&Z(x,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var le=gy(_,a);xr(e,t,le,Wn(e))}else xr(e,t,a,Wn(e))}catch(oe){xr(e,t,{then:function(){},status:"rejected",reason:oe},Wn())}finally{ie.p=i,p!==null&&x.types!==null&&(p.types=x.types),X.T=p}}function wy(){}function Sc(e,t,n,a){if(e.tag!==5)throw Error(d(476));var s=Jd(e).queue;$d(e,s,t,pe,n===null?wy:function(){return Pd(e),n(a)})}function Jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:pe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pd(e){var t=Jd(e);t.next===null&&(t=e.alternate.memoizedState),xr(e,t.next.queue,{},Wn())}function jc(){return Sn(Br)}function Wd(){return nn().memoizedState}function Id(){return nn().memoizedState}function Ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Wn();e=Hl(n);var a=Ll(t,e,n);a!==null&&(Ln(a,t,n),mr(a,t,n)),t={cache:Po()},e.payload=t;return}t=t.return}}function _y(e,t,n){var a=Wn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(e)?th(t,n):(n=Cn(e,t,n,a),n!==null&&(Ln(n,e,a),nh(n,t,a)))}function eh(e,t,n){var a=Wn();xr(e,t,n,a)}function xr(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))th(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var p=t.lastRenderedState,x=i(p,n);if(s.hasEagerState=!0,s.eagerState=x,En(x,p))return zt(e,t,s,0),Lt===null&&nt(),!1}catch{}if(n=Cn(e,t,s,a),n!==null)return Ln(n,e,a),nh(n,t,a),!0}return!1}function wc(e,t,n,a){if(a={lane:2,revertLane:tf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(t)throw Error(d(479))}else t=Cn(e,n,a,2),t!==null&&Ln(t,e,2)}function Tu(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function th(e,t){gi=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nh(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ht(e,n)}}var vr={readContext:Sn,use:Cu,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};vr.useEffectEvent=Jt;var ah={readContext:Sn,use:Cu,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Ld,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ou(4194308,4,Xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){Ou(4,2,e,t)},useMemo:function(e,t){var n=zn();t=t===void 0?null:t;var a=e();if(Ms){Ut(!0);try{e()}finally{Ut(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zn();if(n!==void 0){var s=n(t);if(Ms){Ut(!0);try{n(t)}finally{Ut(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=_y.bind(null,lt,e),[a.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:function(e){e=yc(e);var t=e.queue,n=eh.bind(null,lt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xc,useDeferredValue:function(e,t){var n=zn();return vc(n,e,t)},useTransition:function(){var e=yc(!1);return e=$d.bind(null,lt,e.queue,!0,!1),zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=lt,s=zn();if(yt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=t(),Lt===null)throw Error(d(349));(ht&127)!==0||Nd(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ld(Ed.bind(null,a,i,e),[e]),a.flags|=2048,xi(9,{destroy:void 0},_d.bind(null,a,i,n,t),null),n},useId:function(){var e=zn(),t=Lt.identifierPrefix;if(yt){var n=qa,a=Ba;n=(a&~(1<<32-Oe(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=by++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jc,useFormState:Rd,useActionState:Rd,useOptimistic:function(e){var t=zn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wc.bind(null,lt,!0,n),n.dispatch=t,[e,t]},useMemoCache:hc,useCacheRefresh:function(){return zn().memoizedState=Ny.bind(null,lt)},useEffectEvent:function(e){var t=zn(),n={impl:e};return t.memoizedState=n,function(){if((_t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Nc={readContext:Sn,use:Cu,useCallback:Vd,useContext:Sn,useEffect:bc,useImperativeHandle:Gd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:Fd,useReducer:Au,useRef:Hd,useState:function(){return Au(rl)},useDebugValue:xc,useDeferredValue:function(e,t){var n=nn();return Zd(n,kt.memoizedState,e,t)},useTransition:function(){var e=Au(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:wd,useId:Wd,useHostTransitionStatus:jc,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var n=nn();return Od(n,kt,e,t)},useMemoCache:hc,useCacheRefresh:Id};Nc.useEffectEvent=Kd;var lh={readContext:Sn,use:Cu,useCallback:Vd,useContext:Sn,useEffect:bc,useImperativeHandle:Gd,useInsertionEffect:Qd,useLayoutEffect:Yd,useMemo:Fd,useReducer:pc,useRef:Hd,useState:function(){return pc(rl)},useDebugValue:xc,useDeferredValue:function(e,t){var n=nn();return kt===null?vc(n,e,t):Zd(n,kt.memoizedState,e,t)},useTransition:function(){var e=pc(rl)[0],t=nn().memoizedState;return[typeof e=="boolean"?e:br(e),t]},useSyncExternalStore:wd,useId:Wd,useHostTransitionStatus:jc,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var n=nn();return kt!==null?Od(n,kt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hc,useCacheRefresh:Id};lh.useEffectEvent=Kd;function _c(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ec={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Wn(),s=Hl(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ll(e,s,a),t!==null&&(Ln(t,e,a),mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),a=Hl(n);a.tag=2,t!=null&&(a.callback=t),t=Ll(e,a,n),t!==null&&(Ln(t,e,n),mr(t,e,n))}};function sh(e,t,n,a,s,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,p):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(s,i):!0}function ih(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function zs(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function rh(e){Be(e)}function uh(e){console.error(e)}function oh(e){Be(e)}function Mu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ch(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Cc(e,t,n){return n=Hl(n),n.tag=3,n.payload={element:null},n.callback=function(){Mu(e,t)},n}function fh(e){return e=Hl(e),e.tag=3,e}function dh(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){ch(t,n,a)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ch(t,n,a),typeof s!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function Ey(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&fi(t,n,s,!0),n=Zn.current,n!==null){switch(n.tag){case 31:case 13:return fa===null?Xu():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Wc(e,a,s)),!1;case 22:return n.flags|=65536,a===xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Wc(e,a,s)),!1}throw Error(d(435,n.tag))}return Wc(e,a,s),Xu(),!1}if(yt)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Vo&&(e=Error(d(422),{cause:a}),or(ra(e,n)))):(a!==Vo&&(t=Error(d(423),{cause:a}),or(ra(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ra(a,n),s=Cc(e.stateNode,a,s),ac(e,s),Pt!==4&&(Pt=2)),!1;var i=Error(d(520),{cause:a});if(i=ra(i,n),Ar===null?Ar=[i]:Ar.push(i),Pt!==4&&(Pt=2),t===null)return!0;a=ra(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Cc(n.stateNode,a,e),ac(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vl===null||!Vl.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=fh(s),dh(s,e,n,a),ac(n,s),!1}n=n.return}while(n!==null);return!1}var Ac=Error(d(461)),cn=!1;function jn(e,t,n,a){t.child=e===null?yd(t,null,n,a):Ts(t,e.child,n,a)}function hh(e,t,n,a,s){n=n.render;var i=t.ref;if("ref"in a){var p={};for(var x in a)x!=="ref"&&(p[x]=a[x])}else p=a;return Cs(t),a=oc(e,t,n,p,i,s),x=cc(),e!==null&&!cn?(fc(e,t,s),ul(e,t,s)):(yt&&x&&Xo(t),t.flags|=1,jn(e,t,a,s),t.child)}function mh(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ko(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ph(e,t,i,a,s)):(e=hu(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Bc(e,s)){var p=i.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(p,a)&&e.ref===t.ref)return ul(e,t,s)}return t.flags|=1,e=nl(i,a),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(l(i,a)&&e.ref===t.ref)if(cn=!1,t.pendingProps=a=i,Bc(e,s))(e.flags&131072)!==0&&(cn=!0);else return t.lanes=e.lanes,ul(e,t,s)}return Oc(e,t,n,a,s)}function yh(e,t,n,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return gh(e,t,i,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,i!==null?i.cachePool:null),i!==null?xd(t,i):sc(),vd(t);else return a=t.lanes=536870912,gh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(gu(t,i.cachePool),xd(t,i),Ql(),t.memoizedState=null):(e!==null&&gu(t,null),sc(),Ql());return jn(e,t,s,n),t.child}function Sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gh(e,t,n,a,s){var i=Io();return i=i===null?null:{parent:un._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&gu(t,null),sc(),vd(t),e!==null&&fi(e,t,a,!0),t.childLanes=s,null}function zu(e,t){return t=Ru({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bh(e,t,n){return Ts(t,e.child,null,n),e=zu(t,t.pendingProps),e.flags|=2,$n(t),t.memoizedState=null,e}function Cy(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(yt){if(a.mode==="hidden")return e=zu(t,a),t.lanes=536870912,Sr(null,e);if(rc(t),(e=Gt)?(e=Dm(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,vn=t,Gt=null)):e=null,e===null)throw Bl(t);return t.lanes=536870912,null}return zu(t,a)}var i=e.memoizedState;if(i!==null){var p=i.dehydrated;if(rc(t),s)if(t.flags&256)t.flags&=-257,t=bh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(cn||fi(e,t,n,!1),s=(n&e.childLanes)!==0,cn||s){if(a=Lt,a!==null&&(p=Wt(a,n),p!==0&&p!==i.retryLane))throw i.retryLane=p,At(e,p),Ln(a,e,p),Ac;Xu(),t=bh(e,t,n)}else e=i.treeContext,Gt=da(p.nextSibling),vn=t,yt=!0,Rl=null,ca=!1,e!==null&&ld(t,e),t=zu(t,a),t.flags|=4096;return t}return e=nl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Oc(e,t,n,a,s){return Cs(t),n=oc(e,t,n,a,void 0,s),a=cc(),e!==null&&!cn?(fc(e,t,s),ul(e,t,s)):(yt&&a&&Xo(t),t.flags|=1,jn(e,t,n,s),t.child)}function xh(e,t,n,a,s,i){return Cs(t),t.updateQueue=null,n=jd(t,a,n,s),Sd(e),a=cc(),e!==null&&!cn?(fc(e,t,i),ul(e,t,i)):(yt&&a&&Xo(t),t.flags|=1,jn(e,t,n,i),t.child)}function vh(e,t,n,a,s){if(Cs(t),t.stateNode===null){var i=ri,p=n.contextType;typeof p=="object"&&p!==null&&(i=Sn(p)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ec,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},tc(t),p=n.contextType,i.context=typeof p=="object"&&p!==null?Sn(p):ri,i.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(_c(t,n,p,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(p=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),p!==i.state&&Ec.enqueueReplaceState(i,i.state,null),yr(t,a,i,s),pr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var x=t.memoizedProps,_=zs(n,x);i.props=_;var Z=i.context,le=n.contextType;p=ri,typeof le=="object"&&le!==null&&(p=Sn(le));var oe=n.getDerivedStateFromProps;le=typeof oe=="function"||typeof i.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,le||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(x||Z!==p)&&ih(t,i,a,p),Ul=!1;var P=t.memoizedState;i.state=P,yr(t,a,i,s),pr(),Z=t.memoizedState,x||P!==Z||Ul?(typeof oe=="function"&&(_c(t,n,oe,a),Z=t.memoizedState),(_=Ul||sh(t,n,_,a,P,Z,p))?(le||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),i.props=a,i.state=Z,i.context=p,a=_):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,nc(e,t),p=t.memoizedProps,le=zs(n,p),i.props=le,oe=t.pendingProps,P=i.context,Z=n.contextType,_=ri,typeof Z=="object"&&Z!==null&&(_=Sn(Z)),x=n.getDerivedStateFromProps,(Z=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p!==oe||P!==_)&&ih(t,i,a,_),Ul=!1,P=t.memoizedState,i.state=P,yr(t,a,i,s),pr();var te=t.memoizedState;p!==oe||P!==te||Ul||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof x=="function"&&(_c(t,n,x,a),te=t.memoizedState),(le=Ul||sh(t,n,le,a,P,te,_)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(Z||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,te,_),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,te,_)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=te),i.props=a,i.state=te,i.context=_,a=le):(typeof i.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ku(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,n,s)):jn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ul(e,t,s),e}function Sh(e,t,n,a){return _s(),t.flags|=256,jn(e,t,n,a),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:cd()}}function Mc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pn),e}function jh(e,t,n){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,p;if((p=i)||(p=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),p&&(s=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(yt){if(s?Kl(t):Ql(),(e=Gt)?(e=Dm(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:kl!==null?{id:Ba,overflow:qa}:null,retryLane:536870912,hydrationErrors:null},n=td(e),n.return=t,t.child=n,vn=t,Gt=null)):e=null,e===null)throw Bl(t);return pf(e)?t.lanes=32:t.lanes=536870912,null}var x=a.children;return a=a.fallback,s?(Ql(),s=t.mode,x=Ru({mode:"hidden",children:x},s),a=Ns(a,s,n,null),x.return=t,a.return=t,x.sibling=a,t.child=x,a=t.child,a.memoizedState=Tc(n),a.childLanes=Mc(e,p,n),t.memoizedState=Dc,Sr(null,a)):(Kl(t),zc(t,x))}var _=e.memoizedState;if(_!==null&&(x=_.dehydrated,x!==null)){if(i)t.flags&256?(Kl(t),t.flags&=-257,t=kc(e,t,n)):t.memoizedState!==null?(Ql(),t.child=e.child,t.flags|=128,t=null):(Ql(),x=a.fallback,s=t.mode,a=Ru({mode:"visible",children:a.children},s),x=Ns(x,s,n,null),x.flags|=2,a.return=t,x.return=t,a.sibling=x,t.child=a,Ts(t,e.child,null,n),a=t.child,a.memoizedState=Tc(n),a.childLanes=Mc(e,p,n),t.memoizedState=Dc,t=Sr(null,a));else if(Kl(t),pf(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var Z=p.dgst;p=Z,a=Error(d(419)),a.stack="",a.digest=p,or({value:a,source:null,stack:null}),t=kc(e,t,n)}else if(cn||fi(e,t,n,!1),p=(n&e.childLanes)!==0,cn||p){if(p=Lt,p!==null&&(a=Wt(p,n),a!==0&&a!==_.retryLane))throw _.retryLane=a,At(e,a),Ln(p,e,a),Ac;mf(x)||Xu(),t=kc(e,t,n)}else mf(x)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Gt=da(x.nextSibling),vn=t,yt=!0,Rl=null,ca=!1,e!==null&&ld(t,e),t=zc(t,a.children),t.flags|=4096);return t}return s?(Ql(),x=a.fallback,s=t.mode,_=e.child,Z=_.sibling,a=nl(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,Z!==null?x=nl(Z,x):(x=Ns(x,s,n,null),x.flags|=2),x.return=t,a.return=t,a.sibling=x,t.child=a,Sr(null,a),a=t.child,x=e.child.memoizedState,x===null?x=Tc(n):(s=x.cachePool,s!==null?(_=un._currentValue,s=s.parent!==_?{parent:_,pool:_}:s):s=cd(),x={baseLanes:x.baseLanes|n,cachePool:s}),a.memoizedState=x,a.childLanes=Mc(e,p,n),t.memoizedState=Dc,Sr(e.child,a)):(Kl(t),n=e.child,e=n.sibling,n=nl(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function zc(e,t){return t=Ru({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ru(e,t){return e=Fn(22,e,null,t),e.lanes=0,e}function kc(e,t,n){return Ts(t,e.child,null,n),e=zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),$o(e.return,t,n)}function Rc(e,t,n,a,s,i){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:i}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=n,p.tailMode=s,p.treeForkCount=i)}function Nh(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var p=tn.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,W(tn,p),jn(e,t,a,n),a=yt?ur:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wh(e,n,t);else if(e.tag===19)wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Rc(t,!1,s,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Rc(t,!0,n,null,i,a);break;case"together":Rc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ul(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(fi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Ay(e,t,n){switch(t.tag){case 3:Ft(t,t.stateNode.containerInfo),ql(t,un,e.memoizedState.cache),_s();break;case 27:case 5:je(t);break;case 4:Ft(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jh(e,t,n):(Kl(t),e=ul(e,t,n),e!==null?e.sibling:null);Kl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(fi(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Nh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(tn,tn.current),a)break;return null;case 22:return t.lanes=0,yh(e,t,n,t.pendingProps);case 24:ql(t,un,e.memoizedState.cache)}return ul(e,t,n)}function _h(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)cn=!0;else{if(!Bc(e,n)&&(t.flags&128)===0)return cn=!1,Ay(e,t,n);cn=(e.flags&131072)!==0}else cn=!1,yt&&(t.flags&1048576)!==0&&ad(t,ur,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Os(t.elementType),t.type=e,typeof e=="function")Ko(e)?(a=zs(e,a),t.tag=1,t=vh(null,t,e,a,n)):(t.tag=0,t=Oc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===se){t.tag=11,t=hh(null,t,e,a,n);break e}else if(s===ge){t.tag=14,t=mh(null,t,e,a,n);break e}}throw t=Ae(e)||e,Error(d(306,t,""))}}return t;case 0:return Oc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=zs(a,t.pendingProps),vh(e,t,a,s,n);case 3:e:{if(Ft(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,nc(e,t),yr(t,a,null,n);var p=t.memoizedState;if(a=p.cache,ql(t,un,a),a!==i.cache&&Jo(t,[un],n,!0),pr(),a=p.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Sh(e,t,a,n);break e}else if(a!==s){s=ra(Error(d(424)),t),or(s),t=Sh(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Gt=da(e.firstChild),vn=t,yt=!0,Rl=null,ca=!0,n=yd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),a===s){t=ul(e,t,n);break e}jn(e,t,a,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=Bm(t.type,null,t.pendingProps,null))?t.memoizedState=n:yt||(n=t.type,e=t.pendingProps,a=Pu(et.current).createElement(n),a[Kt]=t,a[It]=e,wn(a,n,e),en(a),t.stateNode=a):t.memoizedState=Bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&yt&&(a=t.stateNode=zm(t.type,t.pendingProps,et.current),vn=t,ca=!0,s=Gt,Jl(t.type)?(yf=s,Gt=da(a.firstChild)):Gt=s),jn(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&yt&&((s=a=Gt)&&(a=l0(a,t.type,t.pendingProps,ca),a!==null?(t.stateNode=a,vn=t,Gt=da(a.firstChild),ca=!1,s=!0):s=!1),s||Bl(t)),je(t),s=t.type,i=t.pendingProps,p=e!==null?e.memoizedProps:null,a=i.children,ff(s,i)?a=null:p!==null&&ff(s,p)&&(t.flags|=32),t.memoizedState!==null&&(s=oc(e,t,xy,null,null,n),Br._currentValue=s),ku(e,t),jn(e,t,a,n),t.child;case 6:return e===null&&yt&&((e=n=Gt)&&(n=s0(n,t.pendingProps,ca),n!==null?(t.stateNode=n,vn=t,Gt=null,e=!0):e=!1),e||Bl(t)),null;case 13:return jh(e,t,n);case 4:return Ft(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ts(t,null,a,n):jn(e,t,a,n),t.child;case 11:return hh(e,t,t.type,t.pendingProps,n);case 7:return jn(e,t,t.pendingProps,n),t.child;case 8:return jn(e,t,t.pendingProps.children,n),t.child;case 12:return jn(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ql(t,t.type,a.value),jn(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Cs(t),s=Sn(s),a=a(s),t.flags|=1,jn(e,t,a,n),t.child;case 14:return mh(e,t,t.type,t.pendingProps,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 19:return Nh(e,t,n);case 31:return Cy(e,t,n);case 22:return yh(e,t,n,t.pendingProps);case 24:return Cs(t),a=Sn(un),e===null?(s=Io(),s===null&&(s=Lt,i=Po(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},tc(t),ql(t,un,s)):((e.lanes&n)!==0&&(nc(e,t),yr(t,null,null,n),pr()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ql(t,un,a)):(a=i.cache,ql(t,un,a),a!==s.cache&&Jo(t,[un],n,!0))),jn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ol(e){e.flags|=4}function qc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Wh())e.flags|=8192;else throw Ds=xu,ec}else e.flags&=-16777217}function Eh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(t))if(Wh())e.flags|=8192;else throw Ds=xu,ec}function Bu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wr():536870912,e.lanes|=t,wi|=t)}function jr(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Oy(e,t,n){var a=t.pendingProps;switch(Go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sl(un),dn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ci(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fo())),Vt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ol(t),i!==null?(Vt(t),Eh(t,i)):(Vt(t),qc(t,s,null,a,n))):i?i!==e.memoizedState?(ol(t),Vt(t),Eh(t,i)):(Vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ol(t),Vt(t),qc(t,s,e,a,n)),null;case 27:if(ft(t),n=et.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Vt(t),null}e=ce.current,ci(t)?sd(t):(e=zm(s,a,n),t.stateNode=e,ol(t))}return Vt(t),null;case 5:if(ft(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Vt(t),null}if(i=ce.current,ci(t))sd(t);else{var p=Pu(et.current);switch(i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?p.createElement("select",{is:a.is}):p.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?p.createElement(s,{is:a.is}):p.createElement(s)}}i[Kt]=t,i[It]=a;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=i;e:switch(wn(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ol(t)}}return Vt(t),qc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ol(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=et.current,ci(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=vn,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||jm(e.nodeValue,n)),e||Bl(t,!0)}else e=Pu(e).createTextNode(a),e[Kt]=t,t.stateNode=e}return Vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ci(t),n!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[Kt]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),e=!1}else n=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?($n(t),t):($n(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ci(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[Kt]=t}else _s(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),s=!1}else s=Fo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?($n(t),t):($n(t),null)}return $n(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bu(t,t.updateQueue),Vt(t),null);case 4:return dn(),e===null&&sf(t.stateNode.containerInfo),Vt(t),null;case 10:return sl(t.type),Vt(t),null;case 19:if(O(tn),a=t.memoizedState,a===null)return Vt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)jr(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wu(e),i!==null){for(t.flags|=128,jr(a,!1),e=i.updateQueue,t.updateQueue=e,Bu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ed(n,e),n=n.sibling;return W(tn,tn.current&1|2),yt&&al(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&st()>Ku&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304)}else{if(!s)if(e=wu(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Bu(t,e),jr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!yt)return Vt(t),null}else 2*st()-a.renderingStartTime>Ku&&n!==536870912&&(t.flags|=128,s=!0,jr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=st(),e.sibling=null,n=tn.current,W(tn,s?n&1|2:n&1),yt&&al(t,a.treeForkCount),e):(Vt(t),null);case 22:case 23:return $n(t),ic(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),n=t.updateQueue,n!==null&&Bu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&O(As),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sl(un),Vt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Dy(e,t){switch(Go(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sl(un),dn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ft(t),null;case 31:if(t.memoizedState!==null){if($n(t),t.alternate===null)throw Error(d(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(tn),null;case 4:return dn(),null;case 10:return sl(t.type),null;case 22:case 23:return $n(t),ic(),e!==null&&O(As),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sl(un),null;case 25:return null;default:return null}}function Ch(e,t){switch(Go(t),t.tag){case 3:sl(un),dn();break;case 26:case 27:case 5:ft(t);break;case 4:dn();break;case 31:t.memoizedState!==null&&$n(t);break;case 13:$n(t);break;case 19:O(tn);break;case 10:sl(t.type);break;case 22:case 23:$n(t),ic(),e!==null&&O(As);break;case 24:sl(un)}}function wr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var i=n.create,p=n.inst;a=i(),p.destroy=a}n=n.next}while(n!==s)}}catch(x){Tt(t,t.return,x)}}function Yl(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var p=a.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,s=t;var _=n,Z=x;try{Z()}catch(le){Tt(s,_,le)}}}a=a.next}while(a!==i)}}catch(le){Tt(t,t.return,le)}}function Ah(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bd(t,n)}catch(a){Tt(e,e.return,a)}}}function Oh(e,t,n){n.props=zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Tt(e,t,a)}}function Nr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Tt(e,t,s)}}function Ua(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Tt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Tt(e,t,s)}else n.current=null}function Dh(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Tt(e,e.return,s)}}function Uc(e,t,n){try{var a=e.stateNode;Wy(a,e.type,n,t),a[It]=t}catch(s){Tt(e,e.return,s)}}function Th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jl(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rn));else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lc(e,t,n),e=e.sibling;e!==null;)Lc(e,t,n),e=e.sibling}function qu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function Mh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);wn(t,a,n),t[Kt]=e,t[It]=n}catch(i){Tt(e,e.return,i)}}var cl=!1,fn=!1,Kc=!1,zh=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Ty(e,t){if(e=e.containerInfo,of=lo,e=y(e),b(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var p=0,x=-1,_=-1,Z=0,le=0,oe=e,P=null;t:for(;;){for(var te;oe!==n||s!==0&&oe.nodeType!==3||(x=p+s),oe!==i||a!==0&&oe.nodeType!==3||(_=p+a),oe.nodeType===3&&(p+=oe.nodeValue.length),(te=oe.firstChild)!==null;)P=oe,oe=te;for(;;){if(oe===e)break t;if(P===n&&++Z===s&&(x=p),P===i&&++le===a&&(_=p),(te=oe.nextSibling)!==null)break;oe=P,P=oe.parentNode}oe=te}n=x===-1||_===-1?null:{start:x,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:e,selectionRange:n},lo=!1,bn=t;bn!==null;)if(t=bn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bn=e;else for(;bn!==null;){switch(t=bn,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var He=zs(n.type,s);e=a.getSnapshotBeforeUpdate(He,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Je){Tt(n,n.return,Je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bn=e;break}bn=t.return}}function kh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:dl(e,n),a&4&&wr(5,n);break;case 1:if(dl(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Tt(n,n.return,p)}else{var s=zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Tt(n,n.return,p)}}a&64&&Ah(n),a&512&&Nr(n,n.return);break;case 3:if(dl(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{bd(e,t)}catch(p){Tt(n,n.return,p)}}break;case 27:t===null&&a&4&&Mh(n);case 26:case 5:dl(e,n),t===null&&a&4&&Dh(n),a&512&&Nr(n,n.return);break;case 12:dl(e,n);break;case 31:dl(e,n),a&4&&qh(e,n);break;case 13:dl(e,n),a&4&&Uh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ly.bind(null,n),i0(e,n))));break;case 22:if(a=n.memoizedState!==null||cl,!a){t=t!==null&&t.memoizedState!==null||fn,s=cl;var i=fn;cl=a,(fn=t)&&!i?hl(e,n,(n.subtreeFlags&8772)!==0):dl(e,n),cl=s,fn=i}break;case 30:break;default:dl(e,n)}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Bn=!1;function fl(e,t,n){for(n=n.child;n!==null;)Bh(e,t,n),n=n.sibling}function Bh(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(qt,n)}catch{}switch(n.tag){case 26:fn||Ua(n,t),fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fn||Ua(n,t);var a=$t,s=Bn;Jl(n.type)&&($t=n.stateNode,Bn=!1),fl(e,t,n),zr(n.stateNode),$t=a,Bn=s;break;case 5:fn||Ua(n,t);case 6:if(a=$t,s=Bn,$t=null,fl(e,t,n),$t=a,Bn=s,$t!==null)if(Bn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(n.stateNode)}catch(i){Tt(n,t,i)}else try{$t.removeChild(n.stateNode)}catch(i){Tt(n,t,i)}break;case 18:$t!==null&&(Bn?(e=$t,Am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ti(e)):Am($t,n.stateNode));break;case 4:a=$t,s=Bn,$t=n.stateNode.containerInfo,Bn=!0,fl(e,t,n),$t=a,Bn=s;break;case 0:case 11:case 14:case 15:Yl(2,n,t),fn||Yl(4,n,t),fl(e,t,n);break;case 1:fn||(Ua(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Oh(n,t,a)),fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:fn=(a=fn)||n.memoizedState!==null,fl(e,t,n),fn=a;break;default:fl(e,t,n)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(n){Tt(t,t.return,n)}}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(n){Tt(t,t.return,n)}}function My(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zh),t;default:throw Error(d(435,e.tag))}}function Uu(e,t){var n=My(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=Ky.bind(null,e,a);a.then(s,s)}})}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],i=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(Jl(x.type)){$t=x.stateNode,Bn=!1;break e}break;case 5:$t=x.stateNode,Bn=!1;break e;case 3:case 4:$t=x.stateNode.containerInfo,Bn=!0;break e}x=x.return}if($t===null)throw Error(d(160));Bh(i,p,s),$t=null,Bn=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}var ja=null;function Hh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(t,e),Un(e),a&4&&(Yl(3,e,e.return),wr(3,e),Yl(5,e,e.return));break;case 1:qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),a&64&&cl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=ja;if(qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Xn]||i[Kt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),wn(i,a,n),i[Kt]=e,en(i),a=i;break e;case"link":var p=Hm("link","href",s).get(a+(n.href||""));if(p){for(var x=0;x<p.length;x++)if(i=p[x],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;case"meta":if(p=Hm("meta","content",s).get(a+(n.content||""))){for(x=0;x<p.length;x++)if(i=p[x],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(x,1);break t}}i=s.createElement(a),wn(i,a,n),s.head.appendChild(i);break;default:throw Error(d(468,a))}i[Kt]=e,en(i),a=i}e.stateNode=a}else Lm(s,e.type,e.stateNode);else e.stateNode=Um(s,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Lm(s,e.type,e.stateNode):Um(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),n!==null&&a&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qn(t,e),Un(e),a&512&&(fn||n===null||Ua(n,n.return)),e.flags&32){s=e.stateNode;try{Va(s,"")}catch(He){Tt(e,e.return,He)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Uc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Kc=!0);break;case 6:if(qn(t,e),Un(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(He){Tt(e,e.return,He)}}break;case 3:if(eo=null,s=ja,ja=Wu(t.containerInfo),qn(t,e),ja=s,Un(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(He){Tt(e,e.return,He)}Kc&&(Kc=!1,Lh(e));break;case 4:a=ja,ja=Wu(e.stateNode.containerInfo),qn(t,e),Un(e),ja=a;break;case 12:qn(t,e),Un(e);break;case 31:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 13:qn(t,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lu=st()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 22:s=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,Z=cl,le=fn;if(cl=Z||s,fn=le||_,qn(t,e),fn=le,cl=Z,Un(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||_||cl||fn||ks(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(i=_.stateNode,s)p=i.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=_.stateNode;var oe=_.memoizedProps.style,P=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(He){Tt(_,_.return,He)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=s?"":_.memoizedProps}catch(He){Tt(_,_.return,He)}}}else if(t.tag===18){if(n===null){_=t;try{var te=_.stateNode;s?Om(te,!0):Om(_.stateNode,!1)}catch(He){Tt(_,_.return,He)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Uu(e,n))));break;case 19:qn(t,e),Un(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Uu(e,a)));break;case 30:break;case 21:break;default:qn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Th(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var s=n.stateNode,i=Hc(e);qu(e,i,s);break;case 5:var p=n.stateNode;n.flags&32&&(Va(p,""),n.flags&=-33);var x=Hc(e);qu(e,x,p);break;case 3:case 4:var _=n.stateNode.containerInfo,Z=Hc(e);Lc(e,Z,_);break;default:throw Error(d(161))}}catch(le){Tt(e,e.return,le)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Lh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kh(e,t.alternate,t),t=t.sibling}function ks(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yl(4,t,t.return),ks(t);break;case 1:Ua(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Oh(t,t.return,n),ks(t);break;case 27:zr(t.stateNode);case 26:case 5:Ua(t,t.return),ks(t);break;case 22:t.memoizedState===null&&ks(t);break;case 30:ks(t);break;default:ks(t)}e=e.sibling}}function hl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,p=i.flags;switch(i.tag){case 0:case 11:case 15:hl(s,i,n),wr(4,i);break;case 1:if(hl(s,i,n),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(Z){Tt(a,a.return,Z)}if(a=i,s=a.updateQueue,s!==null){var x=a.stateNode;try{var _=s.shared.hiddenCallbacks;if(_!==null)for(s.shared.hiddenCallbacks=null,s=0;s<_.length;s++)gd(_[s],x)}catch(Z){Tt(a,a.return,Z)}}n&&p&64&&Ah(i),Nr(i,i.return);break;case 27:Mh(i);case 26:case 5:hl(s,i,n),n&&a===null&&p&4&&Dh(i),Nr(i,i.return);break;case 12:hl(s,i,n);break;case 31:hl(s,i,n),n&&p&4&&qh(s,i);break;case 13:hl(s,i,n),n&&p&4&&Uh(s,i);break;case 22:i.memoizedState===null&&hl(s,i,n),Nr(i,i.return);break;case 30:break;default:hl(s,i,n)}t=t.sibling}}function Qc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cr(n))}function Yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e))}function wa(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kh(e,t,n,a),t=t.sibling}function Kh(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wa(e,t,n,a),s&2048&&wr(9,t);break;case 1:wa(e,t,n,a);break;case 3:wa(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cr(e)));break;case 12:if(s&2048){wa(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,p=i.id,x=i.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Tt(t,t.return,_)}}else wa(e,t,n,a);break;case 31:wa(e,t,n,a);break;case 13:wa(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,p=t.alternate,t.memoizedState!==null?i._visibility&2?wa(e,t,n,a):_r(e,t):i._visibility&2?wa(e,t,n,a):(i._visibility|=2,vi(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Qc(p,t);break;case 24:wa(e,t,n,a),s&2048&&Yc(t.alternate,t);break;default:wa(e,t,n,a)}}function vi(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,p=t,x=n,_=a,Z=p.flags;switch(p.tag){case 0:case 11:case 15:vi(i,p,x,_,s),wr(8,p);break;case 23:break;case 22:var le=p.stateNode;p.memoizedState!==null?le._visibility&2?vi(i,p,x,_,s):_r(i,p):(le._visibility|=2,vi(i,p,x,_,s)),s&&Z&2048&&Qc(p.alternate,p);break;case 24:vi(i,p,x,_,s),s&&Z&2048&&Yc(p.alternate,p);break;default:vi(i,p,x,_,s)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:_r(n,a),s&2048&&Qc(a.alternate,a);break;case 24:_r(n,a),s&2048&&Yc(a.alternate,a);break;default:_r(n,a)}t=t.sibling}}var Er=8192;function Si(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Qh(e,t,n),e=e.sibling}function Qh(e,t,n){switch(e.tag){case 26:Si(e,t,n),e.flags&Er&&e.memoizedState!==null&&b0(n,ja,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,n);break;case 3:case 4:var a=ja;ja=Wu(e.stateNode.containerInfo),Si(e,t,n),ja=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Er,Er=16777216,Si(e,t,n),Er=a):Si(e,t,n));break;default:Si(e,t,n)}}function Yh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Gh(a,e)}Yh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&Yl(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Cr(e);break;default:Cr(e)}}function Hu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];bn=a,Gh(a,e)}Yh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yl(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function Gh(e,t){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Yl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:cr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,bn=a;else e:for(n=e;bn!==null;){a=bn;var s=a.sibling,i=a.return;if(Rh(a),a===n){bn=null;break e}if(s!==null){s.return=i,bn=s;break e}bn=i}}}var zy={getCacheForType:function(e){var t=Sn(un),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Sn(un).controller.signal}},ky=typeof WeakMap=="function"?WeakMap:Map,_t=0,Lt=null,ot=null,ht=0,Dt=0,Jn=null,Xl=!1,ji=!1,Xc=!1,ml=0,Pt=0,Gl=0,Rs=0,Gc=0,Pn=0,wi=0,Ar=null,Hn=null,Vc=!1,Lu=0,Vh=0,Ku=1/0,Qu=null,Vl=null,hn=0,Fl=null,Ni=null,pl=0,Fc=0,Zc=null,Fh=null,Or=0,$c=null;function Wn(){return(_t&2)!==0&&ht!==0?ht&-ht:X.T!==null?tf():os()}function Zh(){if(Pn===0)if((ht&536870912)===0||yt){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),Pn=e}else Pn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),Pn}function Ln(e,t,n){(e===Lt&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)&&(_i(e,0),Zl(e,ht,Pn,!1)),na(e,n),((_t&2)===0||e!==Lt)&&(e===Lt&&((_t&2)===0&&(Rs|=n),Pt===4&&Zl(e,ht,Pn,!1)),Ha(e))}function $h(e,t,n){if((_t&6)!==0)throw Error(d(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ya(e,t),s=a?qy(e,t):Pc(e,t,!0),i=a;do{if(s===0){ji&&!a&&Zl(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Ry(n)){s=Pc(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;s=Ar;var _=x.current.memoizedState.isDehydrated;if(_&&(_i(x,p).flags|=256),p=Pc(x,p,!1),p!==2){if(Xc&&!_){x.errorRecoveryDisabledLanes|=i,Rs|=i,s=4;break e}i=Hn,Hn=s,i!==null&&(Hn===null?Hn=i:Hn.push.apply(Hn,i))}s=p}if(i=!1,s!==2)continue}}if(s===1){_i(e,0),Zl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Zl(a,t,Pn,!Xl);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Lu+300-st(),10<s)){if(Zl(a,t,Pn,!Xl),rs(a,0,!0)!==0)break e;pl=t,a.timeoutHandle=Em(Jh.bind(null,a,n,Hn,Qu,Vc,t,Pn,Rs,wi,Xl,i,"Throttled",-0,0),s);break e}Jh(a,n,Hn,Qu,Vc,t,Pn,Rs,wi,Xl,i,null,-0,0)}}break}while(!0);Ha(e)}function Jh(e,t,n,a,s,i,p,x,_,Z,le,oe,P,te){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},Qh(t,i,oe);var He=(i&62914560)===i?Lu-st():(i&4194048)===i?Vh-st():0;if(He=x0(oe,He),He!==null){pl=i,e.cancelPendingCommit=He(lm.bind(null,e,t,i,n,a,s,p,x,_,le,oe,null,P,te)),Zl(e,i,p,!Z);return}}lm(e,t,i,n,a,s,p,x,_)}function Ry(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zl(e,t,n,a){t&=~Gc,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-Oe(s),p=1<<i;a[i]=-1,s&=~p}n!==0&&us(e,n,t)}function Yu(){return(_t&6)===0?(Dr(0),!1):!0}function Jc(){if(ot!==null){if(Dt===0)var e=ot.return;else e=ot,ll=Es=null,dc(e),pi=null,dr=0,e=ot;for(;e!==null;)Ch(e.alternate,e),e=e.return;ot=null}}function _i(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,t0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pl=0,Jc(),Lt=e,ot=n=nl(e.current,null),ht=t,Dt=0,Jn=null,Xl=!1,ji=Ya(e,t),Xc=!1,wi=Pn=Gc=Rs=Gl=Pt=0,Hn=Ar=null,Vc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Oe(a),i=1<<s;t|=e[s],a&=~i}return ml=t,nt(),n}function Ph(e,t){lt=null,X.H=vr,t===mi||t===bu?(t=hd(),Dt=3):t===ec?(t=hd(),Dt=4):Dt=t===Ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,ot===null&&(Pt=1,Mu(e,ra(t,e.current)))}function Wh(){var e=Zn.current;return e===null?!0:(ht&4194048)===ht?fa===null:(ht&62914560)===ht||(ht&536870912)!==0?e===fa:!1}function Ih(){var e=X.H;return X.H=vr,e===null?vr:e}function em(){var e=X.A;return X.A=zy,e}function Xu(){Pt=4,Xl||(ht&4194048)!==ht&&Zn.current!==null||(ji=!0),(Gl&134217727)===0&&(Rs&134217727)===0||Lt===null||Zl(Lt,ht,Pn,!1)}function Pc(e,t,n){var a=_t;_t|=2;var s=Ih(),i=em();(Lt!==e||ht!==t)&&(Qu=null,_i(e,t)),t=!1;var p=Pt;e:do try{if(Dt!==0&&ot!==null){var x=ot,_=Jn;switch(Dt){case 8:Jc(),p=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var Z=Dt;if(Dt=0,Jn=null,Ei(e,x,_,Z),n&&ji){p=0;break e}break;default:Z=Dt,Dt=0,Jn=null,Ei(e,x,_,Z)}}By(),p=Pt;break}catch(le){Ph(e,le)}while(!0);return t&&e.shellSuspendCounter++,ll=Es=null,_t=a,X.H=s,X.A=i,ot===null&&(Lt=null,ht=0,nt()),p}function By(){for(;ot!==null;)tm(ot)}function qy(e,t){var n=_t;_t|=2;var a=Ih(),s=em();Lt!==e||ht!==t?(Qu=null,Ku=st()+500,_i(e,t)):ji=Ya(e,t);e:do try{if(Dt!==0&&ot!==null){t=ot;var i=Jn;t:switch(Dt){case 1:Dt=0,Jn=null,Ei(e,t,i,1);break;case 2:case 9:if(fd(i)){Dt=0,Jn=null,nm(t);break}t=function(){Dt!==2&&Dt!==9||Lt!==e||(Dt=7),Ha(e)},i.then(t,t);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:fd(i)?(Dt=0,Jn=null,nm(t)):(Dt=0,Jn=null,Ei(e,t,i,7));break;case 5:var p=null;switch(ot.tag){case 26:p=ot.memoizedState;case 5:case 27:var x=ot;if(p?Km(p):x.stateNode.complete){Dt=0,Jn=null;var _=x.sibling;if(_!==null)ot=_;else{var Z=x.return;Z!==null?(ot=Z,Gu(Z)):ot=null}break t}}Dt=0,Jn=null,Ei(e,t,i,5);break;case 6:Dt=0,Jn=null,Ei(e,t,i,6);break;case 8:Jc(),Pt=6;break e;default:throw Error(d(462))}}Uy();break}catch(le){Ph(e,le)}while(!0);return ll=Es=null,X.H=a,X.A=s,_t=n,ot!==null?0:(Lt=null,ht=0,nt(),Pt)}function Uy(){for(;ot!==null&&!xe();)tm(ot)}function tm(e){var t=_h(e.alternate,e,ml);e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function nm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xh(n,t,t.pendingProps,t.type,void 0,ht);break;case 11:t=xh(n,t,t.pendingProps,t.type.render,t.ref,ht);break;case 5:dc(t);default:Ch(n,t),t=ot=ed(t,ml),t=_h(n,t,ml)}e.memoizedProps=e.pendingProps,t===null?Gu(e):ot=t}function Ei(e,t,n,a){ll=Es=null,dc(t),pi=null,dr=0;var s=t.return;try{if(Ey(e,s,t,n,ht)){Pt=1,Mu(e,ra(n,e.current)),ot=null;return}}catch(i){if(s!==null)throw ot=s,i;Pt=1,Mu(e,ra(n,e.current)),ot=null;return}t.flags&32768?(yt||a===1?e=!0:ji||(ht&536870912)!==0?e=!1:(Xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),am(t,e)):Gu(t)}function Gu(e){var t=e;do{if((t.flags&32768)!==0){am(t,Xl);return}e=t.return;var n=Oy(t.alternate,t,ml);if(n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Pt===0&&(Pt=5)}function am(e,t){do{var n=Dy(e.alternate,e);if(n!==null){n.flags&=32767,ot=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=n}while(e!==null);Pt=6,ot=null}function lm(e,t,n,a,s,i,p,x,_){e.cancelPendingCommit=null;do Vu();while(hn!==0);if((_t&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Xe,Li(e,n,i,p,x,_),e===Lt&&(ot=Lt=null,ht=0),Ni=t,Fl=e,pl=n,Fc=i,Zc=s,Fh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qy(sn,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=X.T,X.T=null,s=ie.p,ie.p=2,p=_t,_t|=4;try{Ty(e,t,n)}finally{_t=p,ie.p=s,X.T=a}}hn=1,sm(),im(),rm()}}function sm(){if(hn===1){hn=0;var e=Fl,t=Ni,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var a=ie.p;ie.p=2;var s=_t;_t|=4;try{Hh(t,e);var i=cf,p=y(e.containerInfo),x=i.focusedElem,_=i.selectionRange;if(p!==x&&x&&x.ownerDocument&&h(x.ownerDocument.documentElement,x)){if(_!==null&&b(x)){var Z=_.start,le=_.end;if(le===void 0&&(le=Z),"selectionStart"in x)x.selectionStart=Z,x.selectionEnd=Math.min(le,x.value.length);else{var oe=x.ownerDocument||document,P=oe&&oe.defaultView||window;if(P.getSelection){var te=P.getSelection(),He=x.textContent.length,Je=Math.min(_.start,He),Bt=_.end===void 0?Je:Math.min(_.end,He);!te.extend&&Je>Bt&&(p=Bt,Bt=Je,Je=p);var L=f(x,Je),B=f(x,Bt);if(L&&B&&(te.rangeCount!==1||te.anchorNode!==L.node||te.anchorOffset!==L.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var V=oe.createRange();V.setStart(L.node,L.offset),te.removeAllRanges(),Je>Bt?(te.addRange(V),te.extend(B.node,B.offset)):(V.setEnd(B.node,B.offset),te.addRange(V))}}}}for(oe=[],te=x;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<oe.length;x++){var re=oe[x];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}lo=!!of,cf=of=null}finally{_t=s,ie.p=a,X.T=n}}e.current=t,hn=2}}function im(){if(hn===2){hn=0;var e=Fl,t=Ni,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var a=ie.p;ie.p=2;var s=_t;_t|=4;try{kh(e,t.alternate,t)}finally{_t=s,ie.p=a,X.T=n}}hn=3}}function rm(){if(hn===4||hn===3){hn=0,Ze();var e=Fl,t=Ni,n=pl,a=Fh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,Ni=Fl=null,um(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Vl=null),Sl(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(qt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=X.T,s=ie.p,ie.p=2,X.T=null;try{for(var i=e.onRecoverableError,p=0;p<a.length;p++){var x=a[p];i(x.value,{componentStack:x.stack})}}finally{X.T=t,ie.p=s}}(pl&3)!==0&&Vu(),Ha(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===$c?Or++:(Or=0,$c=e):Or=0,Dr(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cr(t)))}function Vu(){return sm(),im(),rm(),om()}function om(){if(hn!==5)return!1;var e=Fl,t=Fc;Fc=0;var n=Sl(pl),a=X.T,s=ie.p;try{ie.p=32>n?32:n,X.T=null,n=Zc,Zc=null;var i=Fl,p=pl;if(hn=0,Ni=Fl=null,pl=0,(_t&6)!==0)throw Error(d(331));var x=_t;if(_t|=4,Xh(i.current),Kh(i,i.current,p,n),_t=x,Dr(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(qt,i)}catch{}return!0}finally{ie.p=s,X.T=a,um(e,t)}}function cm(e,t,n){t=ra(n,t),t=Cc(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(na(e,2),Ha(e))}function Tt(e,t,n){if(e.tag===3)cm(e,e,n);else for(;t!==null;){if(t.tag===3){cm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Vl===null||!Vl.has(a))){e=ra(n,e),n=fh(2),a=Ll(t,n,2),a!==null&&(dh(n,a,t,e),na(a,2),Ha(a));break}}t=t.return}}function Wc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new ky;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(Xc=!0,s.add(n),e=Hy.bind(null,e,t,n),t.then(e,e))}function Hy(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(ht&n)===n&&(Pt===4||Pt===3&&(ht&62914560)===ht&&300>st()-Lu?(_t&2)===0&&_i(e,0):Gc|=n,wi===ht&&(wi=0)),Ha(e)}function fm(e,t){t===0&&(t=Wr()),e=At(e,t),e!==null&&(na(e,t),Ha(e))}function Ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fm(e,n)}function Ky(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),fm(e,n)}function Qy(e,t){return ne(e,t)}var Fu=null,Ci=null,Ic=!1,Zu=!1,ef=!1,$l=0;function Ha(e){e!==Ci&&e.next===null&&(Ci===null?Fu=Ci=e:Ci=Ci.next=e),Zu=!0,Ic||(Ic=!0,Xy())}function Dr(e,t){if(!ef&&Zu){ef=!0;do for(var n=!1,a=Fu;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var p=a.suspendedLanes,x=a.pingedLanes;i=(1<<31-Oe(42|e)+1)-1,i&=s&~(p&~x),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,pm(a,i))}else i=ht,i=rs(a,a===Lt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ya(a,i)||(n=!0,pm(a,i));a=a.next}while(n);ef=!1}}function Yy(){dm()}function dm(){Zu=Ic=!1;var e=0;$l!==0&&e0()&&(e=$l);for(var t=st(),n=null,a=Fu;a!==null;){var s=a.next,i=hm(a,t);i===0?(a.next=null,n===null?Fu=s:n.next=s,s===null&&(Ci=n)):(n=a,(e!==0||(i&3)!==0)&&(Zu=!0)),a=s}hn!==0&&hn!==5||Dr(e),$l!==0&&($l=0)}function hm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var p=31-Oe(i),x=1<<p,_=s[p];_===-1?((x&n)===0||(x&a)!==0)&&(s[p]=Mo(x,t)):_<=t&&(e.expiredLanes|=x),i&=~x}if(t=Lt,n=ht,n=rs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Dt===2||Dt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ke(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ya(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ke(a),Sl(n)){case 2:case 8:n=mn;break;case 32:n=sn;break;case 268435456:n=ze;break;default:n=sn}return a=mm.bind(null,e),n=ne(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ke(a),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var a=ht;return a=rs(e,e===Lt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($h(e,a,t),hm(e,st()),e.callbackNode!=null&&e.callbackNode===n?mm.bind(null,e):null)}function pm(e,t){if(Vu())return null;$h(e,t,!0)}function Xy(){n0(function(){(_t&6)!==0?ne(Et,Yy):dm()})}function tf(){if($l===0){var e=di;e===0&&(e=Te,Te<<=1,(Te&261888)===0&&(Te=256)),$l=e}return $l}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function gm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Gy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var i=ym((s[It]||null).action),p=a.submitter;p&&(t=(t=p[It]||null)?ym(t.formAction):p.getAttribute("formAction"),t!==null&&(i=t,p=null));var x=new Vs("action","action",null,a,s);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($l!==0){var _=p?gm(s,p):new FormData(s);Sc(n,{pending:!0,data:_,method:s.method,action:i},null,_)}}else typeof i=="function"&&(x.preventDefault(),_=p?gm(s,p):new FormData(s),Sc(n,{pending:!0,data:_,method:s.method,action:i},i,_))},currentTarget:s}]})}}for(var nf=0;nf<Me.length;nf++){var af=Me[nf],Vy=af.toLowerCase(),Fy=af[0].toUpperCase()+af.slice(1);he(Vy,"on"+Fy)}he(J,"onAnimationEnd"),he(Q,"onAnimationIteration"),he(ae,"onAnimationStart"),he("dblclick","onDoubleClick"),he("focusin","onFocus"),he("focusout","onBlur"),he(fe,"onTransitionRun"),he(Ee,"onTransitionStart"),he(Ce,"onTransitionCancel"),he(de,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function bm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var p=a.length-1;0<=p;p--){var x=a[p],_=x.instance,Z=x.currentTarget;if(x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=Z;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}else for(p=0;p<a.length;p++){if(x=a[p],_=x.instance,Z=x.currentTarget,x=x.listener,_!==i&&s.isPropagationStopped())break e;i=x,s.currentTarget=Z;try{i(s)}catch(le){Be(le)}s.currentTarget=null,i=_}}}}function ct(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var a=e+"__bubble";n.has(a)||(xm(t,e,2,!1),n.add(a))}function lf(e,t,n){var a=0;t&&(a|=4),xm(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[$u]){e[$u]=!0,Xa.forEach(function(n){n!=="selectionchange"&&(Zy.has(n)||lf(n,!1,e),lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$u]||(t[$u]=!0,lf("selectionchange",!1,t))}}function xm(e,t,n,a){switch(Zm(t)){case 2:var s=j0;break;case 8:s=w0;break;default:s=Sf}n=s.bind(null,t,n,e),s=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rf(e,t,n,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var x=a.stateNode.containerInfo;if(x===s)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===s)return;p=p.return}for(;x!==null;){if(p=Oa(x),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){a=i=p;continue e}x=x.parentNode}}a=a.return}Nl(function(){var Z=i,le=Xs(n),oe=[];e:{var P=Re.get(e);if(P!==void 0){var te=Vs,He=e;switch(e){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":te=Is;break;case"focusin":He="focus",te=Al;break;case"focusout":He="blur",te=Al;break;case"beforeblur":case"afterblur":te=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=tr;break;case J:case Q:case ae:te=au;break;case de:te=nr;break;case"scroll":case"scrollend":te=Fs;break;case"wheel":te=ti;break;case"copy":case"cut":case"paste":te=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=er;break;case"toggle":case"beforetoggle":te=iu}var Je=(t&4)!==0,Bt=!Je&&(e==="scroll"||e==="scrollend"),L=Je?P!==null?P+"Capture":null:P;Je=[];for(var B=Z,V;B!==null;){var re=B;if(V=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||V===null||L===null||(re=$a(B,L),re!=null&&Je.push(Mr(B,re,V))),Bt)break;B=B.return}0<Je.length&&(P=new te(P,He,null,n,le),oe.push({event:P,listeners:Je}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",P&&n!==la&&(He=n.relatedTarget||n.fromElement)&&(Oa(He)||He[Tn]))break e;if((te||P)&&(P=le.window===le?le:(P=le.ownerDocument)?P.defaultView||P.parentWindow:window,te?(He=n.relatedTarget||n.toElement,te=Z,He=He?Oa(He):null,He!==null&&(Bt=v(He),Je=He.tag,He!==Bt||Je!==5&&Je!==27&&Je!==6)&&(He=null)):(te=null,He=Z),te!==He)){if(Je=$s,re="onMouseLeave",L="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Je=er,re="onPointerLeave",L="onPointerEnter",B="pointer"),Bt=te==null?P:Gn(te),V=He==null?P:Gn(He),P=new Je(re,B+"leave",te,n,le),P.target=Bt,P.relatedTarget=V,re=null,Oa(le)===Z&&(Je=new Je(L,B+"enter",He,n,le),Je.target=V,Je.relatedTarget=Bt,re=Je),Bt=re,te&&He)t:{for(Je=$y,L=te,B=He,V=0,re=L;re;re=Je(re))V++;re=0;for(var Ge=B;Ge;Ge=Je(Ge))re++;for(;0<V-re;)L=Je(L),V--;for(;0<re-V;)B=Je(B),re--;for(;V--;){if(L===B||B!==null&&L===B.alternate){Je=L;break t}L=Je(L),B=Je(B)}Je=null}else Je=null;te!==null&&vm(oe,P,te,Je,!1),He!==null&&Bt!==null&&vm(oe,Bt,He,Je,!0)}}e:{if(P=Z?Gn(Z):window,te=P.nodeName&&P.nodeName.toLowerCase(),te==="select"||te==="input"&&P.type==="file")var St=ws;else if(li(P))if(ia)St=Ml;else{St=tl;var Le=du}else te=P.nodeName,!te||te.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?Z&&Fi(Z.elementType)&&(St=ws):St=rr;if(St&&(St=St(e,Z))){ir(oe,St,n,le);break e}Le&&Le(e,P,Z),e==="focusout"&&Z&&P.type==="number"&&Z.memoizedProps.value!=null&&ps(P,"number",P.value)}switch(Le=Z?Gn(Z):window,e){case"focusin":(li(Le)||Le.contentEditable==="true")&&(N=Le,D=Z,K=null);break;case"focusout":K=D=N=null;break;case"mousedown":T=!0;break;case"contextmenu":case"mouseup":case"dragend":T=!1,A(oe,n,le);break;case"selectionchange":if(j)break;case"keydown":case"keyup":A(oe,n,le)}var it;if(Ss)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ia?sr(e,n)&&(mt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(mt="onCompositionStart");mt&&(ni&&n.locale!=="ko"&&(Ia||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ia&&(it=El()):(sa=le,Gs="value"in sa?sa.value:sa.textContent,Ia=!0)),Le=Ju(Z,mt),0<Le.length&&(mt=new Ws(mt,e,null,n,le),oe.push({event:mt,listeners:Le}),it?mt.data=it:(it=uu(n),it!==null&&(mt.data=it)))),(it=Uo?ou(e,n):Ho(e,n))&&(mt=Ju(Z,"onBeforeInput"),0<mt.length&&(Le=new Ws("onBeforeInput","beforeinput",null,n,le),oe.push({event:Le,listeners:mt}),Le.data=it)),Gy(oe,e,Z,n,le)}bm(oe,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ju(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=$a(e,n),s!=null&&a.unshift(Mr(e,s,i)),s=$a(e,t),s!=null&&a.push(Mr(e,s,i))),e.tag===3)return a;e=e.return}return[]}function $y(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vm(e,t,n,a,s){for(var i=t._reactName,p=[];n!==null&&n!==a;){var x=n,_=x.alternate,Z=x.stateNode;if(x=x.tag,_!==null&&_===a)break;x!==5&&x!==26&&x!==27||Z===null||(_=Z,s?(Z=$a(n,i),Z!=null&&p.unshift(Mr(n,Z,_))):s||(Z=$a(n,i),Z!=null&&p.push(Mr(n,Z,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Jy=/\r\n?/g,Py=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(Jy,`
`).replace(Py,"")}function jm(e,t){return t=Sm(t),Sm(e)===t}function Rt(e,t,n,a,s,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Va(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Va(e,""+a);break;case"className":hs(e,"class",a);break;case"tabIndex":hs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,n,a);break;case"style":Vi(e,a,i);break;case"data":if(t!=="object"){hs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Rt(e,t,"name",s.name,s,null),Rt(e,t,"formEncType",s.formEncType,s,null),Rt(e,t,"formMethod",s.formMethod,s,null),Rt(e,t,"formTarget",s.formTarget,s,null)):(Rt(e,t,"encType",s.encType,s,null),Rt(e,t,"method",s.method,s,null),Rt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Sa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ct("beforetoggle",e),ct("toggle",e),rt(e,"popover",a);break;case"xlinkActuate":aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":aa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":aa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":aa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":aa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ro.get(n)||n,rt(e,n,a))}}function uf(e,t,n,a,s,i){switch(n){case"style":Vi(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Va(e,a):(typeof a=="number"||typeof a=="bigint")&&Va(e,""+a);break;case"onScroll":a!=null&&ct("scroll",e);break;case"onScrollEnd":a!=null&&ct("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[It]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):rt(e,n,a)}}}function wn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var a=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,i,p,n,null)}}s&&Rt(e,t,"srcSet",n.srcSet,n,null),a&&Rt(e,t,"src",n.src,n,null);return;case"input":ct("invalid",e);var x=i=p=s=null,_=null,Z=null;for(a in n)if(n.hasOwnProperty(a)){var le=n[a];if(le!=null)switch(a){case"name":s=le;break;case"type":p=le;break;case"checked":_=le;break;case"defaultChecked":Z=le;break;case"value":i=le;break;case"defaultValue":x=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,t));break;default:Rt(e,t,a,le,n,null)}}Ys(e,i,x,_,Z,p,s,!1);return;case"select":ct("invalid",e),a=p=i=null;for(s in n)if(n.hasOwnProperty(s)&&(x=n[s],x!=null))switch(s){case"value":i=x;break;case"defaultValue":p=x;break;case"multiple":a=x;default:Rt(e,t,s,x,n,null)}t=i,n=p,e.multiple=!!a,t!=null?va(e,!!a,t,!1):n!=null&&va(e,!!a,n,!0);return;case"textarea":ct("invalid",e),i=s=a=null;for(p in n)if(n.hasOwnProperty(p)&&(x=n[p],x!=null))switch(p){case"value":a=x;break;case"defaultValue":s=x;break;case"children":i=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:Rt(e,t,p,x,n,null)}ys(e,a,s,i);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(a=n[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Rt(e,t,_,a,n,null));return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ct(Tr[a],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(a=n[Z],a!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Rt(e,t,Z,a,n,null)}return;default:if(Fi(t)){for(le in n)n.hasOwnProperty(le)&&(a=n[le],a!==void 0&&uf(e,t,le,a,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(a=n[x],a!=null&&Rt(e,t,x,a,n,null))}function Wy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,p=null,x=null,_=null,Z=null,le=null;for(te in n){var oe=n[te];if(n.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":_=oe;default:a.hasOwnProperty(te)||Rt(e,t,te,null,a,oe)}}for(var P in a){var te=a[P];if(oe=n[P],a.hasOwnProperty(P)&&(te!=null||oe!=null))switch(P){case"type":i=te;break;case"name":s=te;break;case"checked":Z=te;break;case"defaultChecked":le=te;break;case"value":p=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(d(137,t));break;default:te!==oe&&Rt(e,t,P,te,a,oe)}}Ta(e,p,x,_,Z,le,i,s);return;case"select":te=p=x=P=null;for(i in n)if(_=n[i],n.hasOwnProperty(i)&&_!=null)switch(i){case"value":break;case"multiple":te=_;default:a.hasOwnProperty(i)||Rt(e,t,i,null,a,_)}for(s in a)if(i=a[s],_=n[s],a.hasOwnProperty(s)&&(i!=null||_!=null))switch(s){case"value":P=i;break;case"defaultValue":x=i;break;case"multiple":p=i;default:i!==_&&Rt(e,t,s,i,a,_)}t=x,n=p,a=te,P!=null?va(e,!!n,P,!1):!!a!=!!n&&(t!=null?va(e,!!n,t,!0):va(e,!!n,n?[]:"",!1));return;case"textarea":te=P=null;for(x in n)if(s=n[x],n.hasOwnProperty(x)&&s!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Rt(e,t,x,null,a,s)}for(p in a)if(s=a[p],i=n[p],a.hasOwnProperty(p)&&(s!=null||i!=null))switch(p){case"value":P=s;break;case"defaultValue":te=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&Rt(e,t,p,s,a,i)}Gi(e,P,te);return;case"option":for(var He in n)P=n[He],n.hasOwnProperty(He)&&P!=null&&!a.hasOwnProperty(He)&&(He==="selected"?e.selected=!1:Rt(e,t,He,null,a,P));for(_ in a)P=a[_],te=n[_],a.hasOwnProperty(_)&&P!==te&&(P!=null||te!=null)&&(_==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Rt(e,t,_,P,a,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in n)P=n[Je],n.hasOwnProperty(Je)&&P!=null&&!a.hasOwnProperty(Je)&&Rt(e,t,Je,null,a,P);for(Z in a)if(P=a[Z],te=n[Z],a.hasOwnProperty(Z)&&P!==te&&(P!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(d(137,t));break;default:Rt(e,t,Z,P,a,te)}return;default:if(Fi(t)){for(var Bt in n)P=n[Bt],n.hasOwnProperty(Bt)&&P!==void 0&&!a.hasOwnProperty(Bt)&&uf(e,t,Bt,void 0,a,P);for(le in a)P=a[le],te=n[le],!a.hasOwnProperty(le)||P===te||P===void 0&&te===void 0||uf(e,t,le,P,a,te);return}}for(var L in n)P=n[L],n.hasOwnProperty(L)&&P!=null&&!a.hasOwnProperty(L)&&Rt(e,t,L,null,a,P);for(oe in a)P=a[oe],te=n[oe],!a.hasOwnProperty(oe)||P===te||P==null&&te==null||Rt(e,t,oe,P,a,te)}function wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],i=s.transferSize,p=s.initiatorType,x=s.duration;if(i&&x&&wm(p)){for(p=0,x=s.responseEnd,a+=1;a<n.length;a++){var _=n[a],Z=_.startTime;if(Z>x)break;var le=_.transferSize,oe=_.initiatorType;le&&wm(oe)&&(_=_.responseEnd,p+=le*(_<x?1:(x-Z)/(_-Z)))}if(--a,t+=8*(i+p)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var of=null,cf=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function Nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var df=null;function e0(){var e=window.event;return e&&e.type==="popstate"?e===df?!1:(df=e,!0):(df=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(e){return Cm.resolve(null).then(e).catch(a0)}:Em;function a0(e){setTimeout(function(){throw e})}function Jl(e){return e==="head"}function Am(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),Ti(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")zr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zr(n);for(var i=n.firstChild;i;){var p=i.nextSibling,x=i.nodeName;i[Xn]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=p}}else n==="body"&&zr(e.ownerDocument.body);n=s}while(n);Ti(t)}function Om(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hf(n),Ks(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function l0(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function s0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=da(e.nextSibling),e===null))return null;return e}function Dm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function mf(e){return e.data==="$?"||e.data==="$~"}function pf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function i0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yf=null;function Tm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return da(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function zm(e,t,n){switch(t=Pu(n),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ks(e)}var ha=new Map,km=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=ie.d;ie.d={f:r0,r:u0,D:o0,C:c0,L:f0,m:d0,X:m0,S:h0,M:p0};function r0(){var e=yl.f(),t=Yu();return e||t}function u0(e){var t=Mt(e);t!==null&&t.tag===5&&t.type==="form"?Pd(t):yl.r(e)}var Ai=typeof document>"u"?null:document;function Rm(e,t,n){var a=Ai;if(a&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),km.has(s)||(km.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function o0(e){yl.D(e),Rm("dns-prefetch",e,null)}function c0(e,t){yl.C(e,t),Rm("preconnect",e,t)}function f0(e,t,n){yl.L(e,t,n);var a=Ai;if(a&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var i=s;switch(t){case"style":i=Oi(e);break;case"script":i=Di(e)}ha.has(i)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ha.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(kr(i))||t==="script"&&a.querySelector(Rr(i))||(t=a.createElement("link"),wn(t,"link",e),en(t),a.head.appendChild(t)))}}function d0(e,t){yl.m(e,t);var n=Ai;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(a)+'"][href="'+pn(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Di(e)}if(!ha.has(i)&&(e=C({rel:"modulepreload",href:e},t),ha.set(i,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}a=n.createElement("link"),wn(a,"link",e),en(a),n.head.appendChild(a)}}}function h0(e,t,n){yl.S(e,t,n);var a=Ai;if(a&&e){var s=Nn(a).hoistableStyles,i=Oi(e);t=t||"default";var p=s.get(i);if(!p){var x={loading:0,preload:null};if(p=a.querySelector(kr(i)))x.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ha.get(i))&&gf(e,n);var _=p=a.createElement("link");en(_),wn(_,"link",e),_._p=new Promise(function(Z,le){_.onload=Z,_.onerror=le}),_.addEventListener("load",function(){x.loading|=1}),_.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Iu(p,t,a)}p={type:"stylesheet",instance:p,count:1,state:x},s.set(i,p)}}}function m0(e,t){yl.X(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=C({src:e,async:!0},t),(t=ha.get(s))&&bf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function p0(e,t){yl.M(e,t);var n=Ai;if(n&&e){var a=Nn(n).hoistableScripts,s=Di(e),i=a.get(s);i||(i=n.querySelector(Rr(s)),i||(e=C({src:e,async:!0,type:"module"},t),(t=ha.get(s))&&bf(e,t),i=n.createElement("script"),en(i),wn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Bm(e,t,n,a){var s=(s=et.current)?Wu(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Oi(n.href),n=Nn(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Oi(n.href);var i=Nn(s).hoistableStyles,p=i.get(e);if(p||(s=s.ownerDocument||s,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,p),(i=s.querySelector(kr(e)))&&!i._p&&(p.instance=i,p.state.loading=5),ha.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ha.set(e,n),i||y0(s,e,n,p.state))),t&&a===null)throw Error(d(528,""));return p}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Di(n),n=Nn(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Oi(e){return'href="'+pn(e)+'"'}function kr(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function y0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),wn(t,"link",n),en(t),e.head.appendChild(t))}function Di(e){return'[src="'+pn(e)+'"]'}function Rr(e){return"script[async]"+e}function Um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(a)return t.instance=a,en(a),a;var s=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),en(a),wn(a,"style",s),Iu(a,n.precedence,e),t.instance=a;case"stylesheet":s=Oi(n.href);var i=e.querySelector(kr(s));if(i)return t.state.loading|=4,t.instance=i,en(i),i;a=qm(n),(s=ha.get(s))&&gf(a,s),i=(e.ownerDocument||e).createElement("link"),en(i);var p=i;return p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=Di(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,en(s),s):(a=n,(s=ha.get(i))&&(a=C({},n),bf(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),en(s),wn(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Iu(a,n.precedence,e));return t.instance}function Iu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,p=0;p<a.length;p++){var x=a[p];if(x.dataset.precedence===t)i=x;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function gf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Hm(e,t,n){if(eo===null){var a=new Map,s=eo=new Map;s.set(n,a)}else s=eo,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Xn]||i[Kt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var p=i.getAttribute(t)||"";p=e+p;var x=a.get(p);x?x.push(i):a.set(p,[i])}}return a}function Lm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function g0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function b0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=Oi(a.href),i=t.querySelector(kr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,en(i);return}i=t.ownerDocument||t,a=qm(a),(s=ha.get(s))&&gf(a,s),i=i.createElement("link"),en(i);var p=i;p._p=new Promise(function(x,_){p.onload=x,p.onerror=_}),wn(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=to.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var xf=0;function x0(e,t){return e.stylesheets&&e.count===0&&ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&xf===0&&(xf=62500*Iy());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ao(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>xf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(v0,e),no=null,to.call(e))}function v0(e,t){if(!(t.state.loading&4)){var n=no.get(e);if(n)var a=n.get(null);else{n=new Map,no.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var p=s[i];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),a=p)}a&&n.set(null,a)}s=t.instance,p=s.getAttribute("data-precedence"),i=n.get(p)||a,i===a&&n.set(null,s),n.set(p,s),this.count++,a=to.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Br={$$typeof:_e,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function S0(e,t,n,a,s,i,p,x,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Qm(e,t,n,a,s,i,p,x,_,Z,le,oe){return e=new S0(e,t,n,p,_,Z,le,oe,x),t=1,i===!0&&(t|=24),i=Fn(3,null,null,t),e.current=i,i.stateNode=e,t=Po(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},tc(i),e}function Ym(e){return e?(e=ri,e):ri}function Xm(e,t,n,a,s,i){s=Ym(s),a.context===null?a.context=s:a.pendingContext=s,a=Hl(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=Ll(e,a,t),n!==null&&(Ln(n,e,t),mr(n,e,t))}function Gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vf(e,t){Gm(e,t),(e=e.alternate)&&Gm(e,t)}function Vm(e){if(e.tag===13||e.tag===31){var t=At(e,67108864);t!==null&&Ln(t,e,67108864),vf(e,67108864)}}function Fm(e){if(e.tag===13||e.tag===31){var t=Wn();t=Ki(t);var n=At(e,t);n!==null&&Ln(n,e,t),vf(e,t)}}var lo=!0;function j0(e,t,n,a){var s=X.T;X.T=null;var i=ie.p;try{ie.p=2,Sf(e,t,n,a)}finally{ie.p=i,X.T=s}}function w0(e,t,n,a){var s=X.T;X.T=null;var i=ie.p;try{ie.p=8,Sf(e,t,n,a)}finally{ie.p=i,X.T=s}}function Sf(e,t,n,a){if(lo){var s=jf(a);if(s===null)rf(e,t,a,so,n),$m(e,a);else if(_0(s,e,t,n,a))a.stopPropagation();else if($m(e,a),t&4&&-1<N0.indexOf(e)){for(;s!==null;){var i=Mt(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var p=ba(i.pendingLanes);if(p!==0){var x=i;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var _=1<<31-Oe(p);x.entanglements[1]|=_,p&=~_}Ha(i),(_t&6)===0&&(Ku=st()+500,Dr(0))}}break;case 31:case 13:x=At(i,2),x!==null&&Ln(x,i,2),Yu(),vf(i,2)}if(i=jf(a),i===null&&rf(e,t,a,so,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else rf(e,t,a,null,n)}}function jf(e){return e=Xs(e),wf(e)}var so=null;function wf(e){if(so=null,e=Oa(e),e!==null){var t=v(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=S(t),e!==null)return e;e=null}else if(n===31){if(e=w(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return so=e,null}function Zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Et:return 2;case mn:return 8;case sn:case Dn:return 32;case ze:return 268435456;default:return 32}default:return 32}}var Nf=!1,Pl=null,Wl=null,Il=null,qr=new Map,Ur=new Map,es=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function Hr(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mt(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _0(e,t,n,a,s){switch(t){case"focusin":return Pl=Hr(Pl,e,t,n,a,s),!0;case"dragenter":return Wl=Hr(Wl,e,t,n,a,s),!0;case"mouseover":return Il=Hr(Il,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,Hr(qr.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,Hr(Ur.get(i)||null,e,t,n,a,s)),!0}return!1}function Jm(e){var t=Oa(e.target);if(t!==null){var n=v(t);if(n!==null){if(t=n.tag,t===13){if(t=S(n),t!==null){e.blockedOn=t,cs(e.priority,function(){Fm(n)});return}}else if(t===31){if(t=w(n),t!==null){e.blockedOn=t,cs(e.priority,function(){Fm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);la=a,n.target.dispatchEvent(a),la=null}else return t=Mt(n),t!==null&&Vm(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){io(e)&&n.delete(t)}function E0(){Nf=!1,Pl!==null&&io(Pl)&&(Pl=null),Wl!==null&&io(Wl)&&(Wl=null),Il!==null&&io(Il)&&(Il=null),qr.forEach(Pm),Ur.forEach(Pm)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,E0)))}var uo=null;function Wm(e){uo!==e&&(uo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uo===e&&(uo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(wf(a||n)===null)continue;break}var i=Mt(n);i!==null&&(e.splice(t,3),t-=3,Sc(i,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Ti(e){function t(_){return ro(_,e)}Pl!==null&&ro(Pl,e),Wl!==null&&ro(Wl,e),Il!==null&&ro(Il,e),qr.forEach(t),Ur.forEach(t);for(var n=0;n<es.length;n++){var a=es[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<es.length&&(n=es[0],n.blockedOn===null);)Jm(n),n.blockedOn===null&&es.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],i=n[a+1],p=s[It]||null;if(typeof i=="function")p||Wm(n);else if(p){var x=null;if(i&&i.hasAttribute("formAction")){if(s=i,p=i[It]||null)x=p.formAction;else if(wf(s)!==null)continue}else x=p.action;typeof x=="function"?n[a+1]=x:(n.splice(a,3),a-=3),Wm(n)}}}function Im(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(p){return s=p})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function _f(e){this._internalRoot=e}oo.prototype.render=_f.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var n=t.current,a=Wn();Xm(n,a,e,t,null,null)},oo.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xm(e.current,2,null,e,null,null),Yu(),t[Tn]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=os();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&Jm(e)}};var ep=c.version;if(ep!=="19.2.4")throw Error(d(527,ep,"19.2.4"));ie.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var C0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{qt=co.inject(C0),Ct=co}catch{}}return Lr.createRoot=function(e,t){if(!g(e))throw Error(d(299));var n=!1,a="",s=rh,i=uh,p=oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Qm(e,1,!1,null,null,n,a,null,s,i,p,Im),e[Tn]=t.current,sf(e),new _f(t)},Lr.hydrateRoot=function(e,t,n){if(!g(e))throw Error(d(299));var a=!1,s="",i=rh,p=uh,x=oh,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Qm(e,1,!0,t,n??null,a,s,_,i,p,x,Im),t.context=Ym(null),n=t.current,a=Wn(),a=Ki(a),s=Hl(a),s.callback=null,Ll(n,s,a),n=a,t.current.lanes=n,na(t,n),Ha(t),e[Tn]=t.current,sf(e),new oo(t)},Lr.version="19.2.4",Lr}var lp;function X0(){if(lp)return Ef.exports;lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),Ef.exports=Y0(),Ef.exports}var G0=X0();const sp=r=>{let c;const m=new Set,d=(E,R)=>{const C=typeof E=="function"?E(c):E;if(!Object.is(C,c)){const F=c;c=R??(typeof C!="object"||C===null)?C:Object.assign({},c,C),m.forEach(be=>be(c,F))}},g=()=>c,w={setState:d,getState:g,getInitialState:()=>U,subscribe:E=>(m.add(E),()=>m.delete(E))},U=c=r(d,g,w);return w},V0=(r=>r?sp(r):sp),F0=r=>r;function Z0(r,c=F0){const m=fo.useSyncExternalStore(r.subscribe,fo.useCallback(()=>c(r.getState()),[r,c]),fo.useCallback(()=>c(r.getInitialState()),[r,c]));return fo.useDebugValue(m),m}const ip=r=>{const c=V0(r),m=d=>Z0(c,d);return Object.assign(m,c),m},$0=(r=>r?ip(r):ip);function J0(r,c){let m;try{m=r()}catch{return}return{getItem:g=>{var v;const S=U=>U===null?null:JSON.parse(U,void 0),w=(v=m.getItem(g))!=null?v:null;return w instanceof Promise?w.then(S):S(w)},setItem:(g,v)=>m.setItem(g,JSON.stringify(v,void 0)),removeItem:g=>m.removeItem(g)}}const kf=r=>c=>{try{const m=r(c);return m instanceof Promise?m:{then(d){return kf(d)(m)},catch(d){return this}}}catch(m){return{then(d){return this},catch(d){return kf(d)(m)}}}},P0=(r,c)=>(m,d,g)=>{let v={storage:J0(()=>window.localStorage),partialize:I=>I,version:0,merge:(I,De)=>({...De,...I}),...c},S=!1,w=0;const U=new Set,E=new Set;let R=v.storage;if(!R)return r((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${v.name}', the given storage is currently unavailable.`),m(...I)},d,g);const C=()=>{const I=v.partialize({...d()});return R.setItem(v.name,{state:I,version:v.version})},F=g.setState;g.setState=(I,De)=>(F(I,De),C());const be=r((...I)=>(m(...I),C()),d,g);g.getInitialState=()=>be;let $;const ue=()=>{var I,De;if(!R)return;const ye=++w;S=!1,U.forEach(se=>{var ve;return se((ve=d())!=null?ve:be)});const _e=((De=v.onRehydrateStorage)==null?void 0:De.call(v,(I=d())!=null?I:be))||void 0;return kf(R.getItem.bind(R))(v.name).then(se=>{if(se)if(typeof se.version=="number"&&se.version!==v.version){if(v.migrate){const ve=v.migrate(se.state,se.version);return ve instanceof Promise?ve.then(Se=>[!0,Se]):[!0,ve]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,se.state];return[!1,void 0]}).then(se=>{var ve;if(ye!==w)return;const[Se,ge]=se;if($=v.merge(ge,(ve=d())!=null?ve:be),m($,!0),Se)return C()}).then(()=>{ye===w&&(_e?.($,void 0),$=d(),S=!0,E.forEach(se=>se($)))}).catch(se=>{ye===w&&_e?.(void 0,se)})};return g.persist={setOptions:I=>{v={...v,...I},I.storage&&(R=I.storage)},clearStorage:()=>{R?.removeItem(v.name)},getOptions:()=>v,rehydrate:()=>ue(),hasHydrated:()=>S,onHydrate:I=>(U.add(I),()=>{U.delete(I)}),onFinishHydration:I=>(E.add(I),()=>{E.delete(I)})},v.skipHydration||ue(),$||be},W0=P0,xl=$0(W0(r=>({token:null,setToken:c=>r({token:c}),logout:()=>r({token:null})}),{name:"wisemark-auth",partialize:r=>({token:r.token})}));function Up(r,c){return function(){return r.apply(c,arguments)}}const{toString:I0}=Object.prototype,{getPrototypeOf:Gf}=Object,{iterator:Eo,toStringTag:Hp}=Symbol,Co=(r=>c=>{const m=I0.call(c);return r[m]||(r[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),_a=r=>(r=r.toLowerCase(),c=>Co(c)===r),Ao=r=>c=>typeof c===r,{isArray:Hi}=Array,Ri=Ao("undefined");function Vr(r){return r!==null&&!Ri(r)&&r.constructor!==null&&!Ri(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Lp=_a("ArrayBuffer");function eg(r){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(r):c=r&&r.buffer&&Lp(r.buffer),c}const tg=Ao("string"),Kn=Ao("function"),Kp=Ao("number"),Fr=r=>r!==null&&typeof r=="object",ng=r=>r===!0||r===!1,po=r=>{if(Co(r)!=="object")return!1;const c=Gf(r);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Hp in r)&&!(Eo in r)},ag=r=>{if(!Fr(r)||Vr(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},lg=_a("Date"),sg=_a("File"),ig=_a("Blob"),rg=_a("FileList"),ug=r=>Fr(r)&&Kn(r.pipe),og=r=>{let c;return r&&(typeof FormData=="function"&&r instanceof FormData||Kn(r.append)&&((c=Co(r))==="formdata"||c==="object"&&Kn(r.toString)&&r.toString()==="[object FormData]"))},cg=_a("URLSearchParams"),[fg,dg,hg,mg]=["ReadableStream","Request","Response","Headers"].map(_a),pg=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zr(r,c,{allOwnKeys:m=!1}={}){if(r===null||typeof r>"u")return;let d,g;if(typeof r!="object"&&(r=[r]),Hi(r))for(d=0,g=r.length;d<g;d++)c.call(null,r[d],d,r);else{if(Vr(r))return;const v=m?Object.getOwnPropertyNames(r):Object.keys(r),S=v.length;let w;for(d=0;d<S;d++)w=v[d],c.call(null,r[w],w,r)}}function Qp(r,c){if(Vr(r))return null;c=c.toLowerCase();const m=Object.keys(r);let d=m.length,g;for(;d-- >0;)if(g=m[d],c===g.toLowerCase())return g;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yp=r=>!Ri(r)&&r!==Bs;function Rf(){const{caseless:r,skipUndefined:c}=Yp(this)&&this||{},m={},d=(g,v)=>{if(v==="__proto__"||v==="constructor"||v==="prototype")return;const S=r&&Qp(m,v)||v;po(m[S])&&po(g)?m[S]=Rf(m[S],g):po(g)?m[S]=Rf({},g):Hi(g)?m[S]=g.slice():(!c||!Ri(g))&&(m[S]=g)};for(let g=0,v=arguments.length;g<v;g++)arguments[g]&&Zr(arguments[g],d);return m}const yg=(r,c,m,{allOwnKeys:d}={})=>(Zr(c,(g,v)=>{m&&Kn(g)?Object.defineProperty(r,v,{value:Up(g,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,v,{value:g,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:d}),r),gg=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),bg=(r,c,m,d)=>{r.prototype=Object.create(c.prototype,d),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:c.prototype}),m&&Object.assign(r.prototype,m)},xg=(r,c,m,d)=>{let g,v,S;const w={};if(c=c||{},r==null)return c;do{for(g=Object.getOwnPropertyNames(r),v=g.length;v-- >0;)S=g[v],(!d||d(S,r,c))&&!w[S]&&(c[S]=r[S],w[S]=!0);r=m!==!1&&Gf(r)}while(r&&(!m||m(r,c))&&r!==Object.prototype);return c},vg=(r,c,m)=>{r=String(r),(m===void 0||m>r.length)&&(m=r.length),m-=c.length;const d=r.indexOf(c,m);return d!==-1&&d===m},Sg=r=>{if(!r)return null;if(Hi(r))return r;let c=r.length;if(!Kp(c))return null;const m=new Array(c);for(;c-- >0;)m[c]=r[c];return m},jg=(r=>c=>r&&c instanceof r)(typeof Uint8Array<"u"&&Gf(Uint8Array)),wg=(r,c)=>{const d=(r&&r[Eo]).call(r);let g;for(;(g=d.next())&&!g.done;){const v=g.value;c.call(r,v[0],v[1])}},Ng=(r,c)=>{let m;const d=[];for(;(m=r.exec(c))!==null;)d.push(m);return d},_g=_a("HTMLFormElement"),Eg=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,d,g){return d.toUpperCase()+g}),rp=(({hasOwnProperty:r})=>(c,m)=>r.call(c,m))(Object.prototype),Cg=_a("RegExp"),Xp=(r,c)=>{const m=Object.getOwnPropertyDescriptors(r),d={};Zr(m,(g,v)=>{let S;(S=c(g,v,r))!==!1&&(d[v]=S||g)}),Object.defineProperties(r,d)},Ag=r=>{Xp(r,(c,m)=>{if(Kn(r)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const d=r[m];if(Kn(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},Og=(r,c)=>{const m={},d=g=>{g.forEach(v=>{m[v]=!0})};return Hi(r)?d(r):d(String(r).split(c)),m},Dg=()=>{},Tg=(r,c)=>r!=null&&Number.isFinite(r=+r)?r:c;function Mg(r){return!!(r&&Kn(r.append)&&r[Hp]==="FormData"&&r[Eo])}const zg=r=>{const c=new Array(10),m=(d,g)=>{if(Fr(d)){if(c.indexOf(d)>=0)return;if(Vr(d))return d;if(!("toJSON"in d)){c[g]=d;const v=Hi(d)?[]:{};return Zr(d,(S,w)=>{const U=m(S,g+1);!Ri(U)&&(v[w]=U)}),c[g]=void 0,v}}return d};return m(r,0)},kg=_a("AsyncFunction"),Rg=r=>r&&(Fr(r)||Kn(r))&&Kn(r.then)&&Kn(r.catch),Gp=((r,c)=>r?setImmediate:c?((m,d)=>(Bs.addEventListener("message",({source:g,data:v})=>{g===Bs&&v===m&&d.length&&d.shift()()},!1),g=>{d.push(g),Bs.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",Kn(Bs.postMessage)),Bg=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||Gp,qg=r=>r!=null&&Kn(r[Eo]),ee={isArray:Hi,isArrayBuffer:Lp,isBuffer:Vr,isFormData:og,isArrayBufferView:eg,isString:tg,isNumber:Kp,isBoolean:ng,isObject:Fr,isPlainObject:po,isEmptyObject:ag,isReadableStream:fg,isRequest:dg,isResponse:hg,isHeaders:mg,isUndefined:Ri,isDate:lg,isFile:sg,isBlob:ig,isRegExp:Cg,isFunction:Kn,isStream:ug,isURLSearchParams:cg,isTypedArray:jg,isFileList:rg,forEach:Zr,merge:Rf,extend:yg,trim:pg,stripBOM:gg,inherits:bg,toFlatObject:xg,kindOf:Co,kindOfTest:_a,endsWith:vg,toArray:Sg,forEachEntry:wg,matchAll:Ng,isHTMLForm:_g,hasOwnProperty:rp,hasOwnProp:rp,reduceDescriptors:Xp,freezeMethods:Ag,toObjectSet:Og,toCamelCase:Eg,noop:Dg,toFiniteNumber:Tg,findKey:Qp,global:Bs,isContextDefined:Yp,isSpecCompliantForm:Mg,toJSONObject:zg,isAsyncFn:kg,isThenable:Rg,setImmediate:Gp,asap:Bg,isIterable:qg};let Pe=class Vp extends Error{static from(c,m,d,g,v,S){const w=new Vp(c.message,m||c.code,d,g,v);return w.cause=c,w.name=c.name,S&&Object.assign(w,S),w}constructor(c,m,d,g,v){super(c),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),d&&(this.config=d),g&&(this.request=g),v&&(this.response=v,this.status=v.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}};Pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Pe.ERR_BAD_OPTION="ERR_BAD_OPTION";Pe.ECONNABORTED="ECONNABORTED";Pe.ETIMEDOUT="ETIMEDOUT";Pe.ERR_NETWORK="ERR_NETWORK";Pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Pe.ERR_DEPRECATED="ERR_DEPRECATED";Pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Pe.ERR_CANCELED="ERR_CANCELED";Pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Pe.ERR_INVALID_URL="ERR_INVALID_URL";const Ug=null;function Bf(r){return ee.isPlainObject(r)||ee.isArray(r)}function Fp(r){return ee.endsWith(r,"[]")?r.slice(0,-2):r}function up(r,c,m){return r?r.concat(c).map(function(g,v){return g=Fp(g),!m&&v?"["+g+"]":g}).join(m?".":""):c}function Hg(r){return ee.isArray(r)&&!r.some(Bf)}const Lg=ee.toFlatObject(ee,{},null,function(c){return/^is[A-Z]/.test(c)});function Oo(r,c,m){if(!ee.isObject(r))throw new TypeError("target must be an object");c=c||new FormData,m=ee.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ue,I){return!ee.isUndefined(I[ue])});const d=m.metaTokens,g=m.visitor||R,v=m.dots,S=m.indexes,U=(m.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(c);if(!ee.isFunction(g))throw new TypeError("visitor must be a function");function E($){if($===null)return"";if(ee.isDate($))return $.toISOString();if(ee.isBoolean($))return $.toString();if(!U&&ee.isBlob($))throw new Pe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer($)||ee.isTypedArray($)?U&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function R($,ue,I){let De=$;if($&&!I&&typeof $=="object"){if(ee.endsWith(ue,"{}"))ue=d?ue:ue.slice(0,-2),$=JSON.stringify($);else if(ee.isArray($)&&Hg($)||(ee.isFileList($)||ee.endsWith(ue,"[]"))&&(De=ee.toArray($)))return ue=Fp(ue),De.forEach(function(_e,se){!(ee.isUndefined(_e)||_e===null)&&c.append(S===!0?up([ue],se,v):S===null?ue:ue+"[]",E(_e))}),!1}return Bf($)?!0:(c.append(up(I,ue,v),E($)),!1)}const C=[],F=Object.assign(Lg,{defaultVisitor:R,convertValue:E,isVisitable:Bf});function be($,ue){if(!ee.isUndefined($)){if(C.indexOf($)!==-1)throw Error("Circular reference detected in "+ue.join("."));C.push($),ee.forEach($,function(De,ye){(!(ee.isUndefined(De)||De===null)&&g.call(c,De,ee.isString(ye)?ye.trim():ye,ue,F))===!0&&be(De,ue?ue.concat(ye):[ye])}),C.pop()}}if(!ee.isObject(r))throw new TypeError("data must be an object");return be(r),c}function op(r){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Vf(r,c){this._pairs=[],r&&Oo(r,this,c)}const Zp=Vf.prototype;Zp.append=function(c,m){this._pairs.push([c,m])};Zp.toString=function(c){const m=c?function(d){return c.call(this,d,op)}:op;return this._pairs.map(function(g){return m(g[0])+"="+m(g[1])},"").join("&")};function Kg(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $p(r,c,m){if(!c)return r;const d=m&&m.encode||Kg,g=ee.isFunction(m)?{serialize:m}:m,v=g&&g.serialize;let S;if(v?S=v(c,g):S=ee.isURLSearchParams(c)?c.toString():new Vf(c,g).toString(d),S){const w=r.indexOf("#");w!==-1&&(r=r.slice(0,w)),r+=(r.indexOf("?")===-1?"?":"&")+S}return r}class cp{constructor(){this.handlers=[]}use(c,m,d){return this.handlers.push({fulfilled:c,rejected:m,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){ee.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Qg=typeof URLSearchParams<"u"?URLSearchParams:Vf,Yg=typeof FormData<"u"?FormData:null,Xg=typeof Blob<"u"?Blob:null,Gg={isBrowser:!0,classes:{URLSearchParams:Qg,FormData:Yg,Blob:Xg},protocols:["http","https","file","blob","url","data"]},Zf=typeof window<"u"&&typeof document<"u",qf=typeof navigator=="object"&&navigator||void 0,Vg=Zf&&(!qf||["ReactNative","NativeScript","NS"].indexOf(qf.product)<0),Fg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zg=Zf&&window.location.href||"http://localhost",$g=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zf,hasStandardBrowserEnv:Vg,hasStandardBrowserWebWorkerEnv:Fg,navigator:qf,origin:Zg},Symbol.toStringTag,{value:"Module"})),On={...$g,...Gg};function Jg(r,c){return Oo(r,new On.classes.URLSearchParams,{visitor:function(m,d,g,v){return On.isNode&&ee.isBuffer(m)?(this.append(d,m.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)},...c})}function Pg(r){return ee.matchAll(/\w+|\[(\w*)]/g,r).map(c=>c[0]==="[]"?"":c[1]||c[0])}function Wg(r){const c={},m=Object.keys(r);let d;const g=m.length;let v;for(d=0;d<g;d++)v=m[d],c[v]=r[v];return c}function Jp(r){function c(m,d,g,v){let S=m[v++];if(S==="__proto__")return!0;const w=Number.isFinite(+S),U=v>=m.length;return S=!S&&ee.isArray(g)?g.length:S,U?(ee.hasOwnProp(g,S)?g[S]=[g[S],d]:g[S]=d,!w):((!g[S]||!ee.isObject(g[S]))&&(g[S]=[]),c(m,d,g[S],v)&&ee.isArray(g[S])&&(g[S]=Wg(g[S])),!w)}if(ee.isFormData(r)&&ee.isFunction(r.entries)){const m={};return ee.forEachEntry(r,(d,g)=>{c(Pg(d),g,m,0)}),m}return null}function Ig(r,c,m){if(ee.isString(r))try{return(c||JSON.parse)(r),ee.trim(r)}catch(d){if(d.name!=="SyntaxError")throw d}return(m||JSON.stringify)(r)}const $r={transitional:Ff,adapter:["xhr","http","fetch"],transformRequest:[function(c,m){const d=m.getContentType()||"",g=d.indexOf("application/json")>-1,v=ee.isObject(c);if(v&&ee.isHTMLForm(c)&&(c=new FormData(c)),ee.isFormData(c))return g?JSON.stringify(Jp(c)):c;if(ee.isArrayBuffer(c)||ee.isBuffer(c)||ee.isStream(c)||ee.isFile(c)||ee.isBlob(c)||ee.isReadableStream(c))return c;if(ee.isArrayBufferView(c))return c.buffer;if(ee.isURLSearchParams(c))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let w;if(v){if(d.indexOf("application/x-www-form-urlencoded")>-1)return Jg(c,this.formSerializer).toString();if((w=ee.isFileList(c))||d.indexOf("multipart/form-data")>-1){const U=this.env&&this.env.FormData;return Oo(w?{"files[]":c}:c,U&&new U,this.formSerializer)}}return v||g?(m.setContentType("application/json",!1),Ig(c)):c}],transformResponse:[function(c){const m=this.transitional||$r.transitional,d=m&&m.forcedJSONParsing,g=this.responseType==="json";if(ee.isResponse(c)||ee.isReadableStream(c))return c;if(c&&ee.isString(c)&&(d&&!this.responseType||g)){const S=!(m&&m.silentJSONParsing)&&g;try{return JSON.parse(c,this.parseReviver)}catch(w){if(S)throw w.name==="SyntaxError"?Pe.from(w,Pe.ERR_BAD_RESPONSE,this,null,this.response):w}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],r=>{$r.headers[r]={}});const eb=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=r=>{const c={};let m,d,g;return r&&r.split(`
`).forEach(function(S){g=S.indexOf(":"),m=S.substring(0,g).trim().toLowerCase(),d=S.substring(g+1).trim(),!(!m||c[m]&&eb[m])&&(m==="set-cookie"?c[m]?c[m].push(d):c[m]=[d]:c[m]=c[m]?c[m]+", "+d:d)}),c},fp=Symbol("internals");function Kr(r){return r&&String(r).trim().toLowerCase()}function yo(r){return r===!1||r==null?r:ee.isArray(r)?r.map(yo):String(r)}function nb(r){const c=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=m.exec(r);)c[d[1]]=d[2];return c}const ab=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Of(r,c,m,d,g){if(ee.isFunction(d))return d.call(this,c,m);if(g&&(c=m),!!ee.isString(c)){if(ee.isString(d))return c.indexOf(d)!==-1;if(ee.isRegExp(d))return d.test(c)}}function lb(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,m,d)=>m.toUpperCase()+d)}function sb(r,c){const m=ee.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(r,d+m,{value:function(g,v,S){return this[d].call(this,c,g,v,S)},configurable:!0})})}let Qn=class{constructor(c){c&&this.set(c)}set(c,m,d){const g=this;function v(w,U,E){const R=Kr(U);if(!R)throw new Error("header name must be a non-empty string");const C=ee.findKey(g,R);(!C||g[C]===void 0||E===!0||E===void 0&&g[C]!==!1)&&(g[C||U]=yo(w))}const S=(w,U)=>ee.forEach(w,(E,R)=>v(E,R,U));if(ee.isPlainObject(c)||c instanceof this.constructor)S(c,m);else if(ee.isString(c)&&(c=c.trim())&&!ab(c))S(tb(c),m);else if(ee.isObject(c)&&ee.isIterable(c)){let w={},U,E;for(const R of c){if(!ee.isArray(R))throw TypeError("Object iterator must return a key-value pair");w[E=R[0]]=(U=w[E])?ee.isArray(U)?[...U,R[1]]:[U,R[1]]:R[1]}S(w,m)}else c!=null&&v(m,c,d);return this}get(c,m){if(c=Kr(c),c){const d=ee.findKey(this,c);if(d){const g=this[d];if(!m)return g;if(m===!0)return nb(g);if(ee.isFunction(m))return m.call(this,g,d);if(ee.isRegExp(m))return m.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,m){if(c=Kr(c),c){const d=ee.findKey(this,c);return!!(d&&this[d]!==void 0&&(!m||Of(this,this[d],d,m)))}return!1}delete(c,m){const d=this;let g=!1;function v(S){if(S=Kr(S),S){const w=ee.findKey(d,S);w&&(!m||Of(d,d[w],w,m))&&(delete d[w],g=!0)}}return ee.isArray(c)?c.forEach(v):v(c),g}clear(c){const m=Object.keys(this);let d=m.length,g=!1;for(;d--;){const v=m[d];(!c||Of(this,this[v],v,c,!0))&&(delete this[v],g=!0)}return g}normalize(c){const m=this,d={};return ee.forEach(this,(g,v)=>{const S=ee.findKey(d,v);if(S){m[S]=yo(g),delete m[v];return}const w=c?lb(v):String(v).trim();w!==v&&delete m[v],m[w]=yo(g),d[w]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const m=Object.create(null);return ee.forEach(this,(d,g)=>{d!=null&&d!==!1&&(m[g]=c&&ee.isArray(d)?d.join(", "):d)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,m])=>c+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...m){const d=new this(c);return m.forEach(g=>d.set(g)),d}static accessor(c){const d=(this[fp]=this[fp]={accessors:{}}).accessors,g=this.prototype;function v(S){const w=Kr(S);d[w]||(sb(g,S),d[w]=!0)}return ee.isArray(c)?c.forEach(v):v(c),this}};Qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Qn.prototype,({value:r},c)=>{let m=c[0].toUpperCase()+c.slice(1);return{get:()=>r,set(d){this[m]=d}}});ee.freezeMethods(Qn);function Df(r,c){const m=this||$r,d=c||m,g=Qn.from(d.headers);let v=d.data;return ee.forEach(r,function(w){v=w.call(m,v,g.normalize(),c?c.status:void 0)}),g.normalize(),v}function Pp(r){return!!(r&&r.__CANCEL__)}let Jr=class extends Pe{constructor(c,m,d){super(c??"canceled",Pe.ERR_CANCELED,m,d),this.name="CanceledError",this.__CANCEL__=!0}};function Wp(r,c,m){const d=m.config.validateStatus;!m.status||!d||d(m.status)?r(m):c(new Pe("Request failed with status code "+m.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function ib(r){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return c&&c[1]||""}function rb(r,c){r=r||10;const m=new Array(r),d=new Array(r);let g=0,v=0,S;return c=c!==void 0?c:1e3,function(U){const E=Date.now(),R=d[v];S||(S=E),m[g]=U,d[g]=E;let C=v,F=0;for(;C!==g;)F+=m[C++],C=C%r;if(g=(g+1)%r,g===v&&(v=(v+1)%r),E-S<c)return;const be=R&&E-R;return be?Math.round(F*1e3/be):void 0}}function ub(r,c){let m=0,d=1e3/c,g,v;const S=(E,R=Date.now())=>{m=R,g=null,v&&(clearTimeout(v),v=null),r(...E)};return[(...E)=>{const R=Date.now(),C=R-m;C>=d?S(E,R):(g=E,v||(v=setTimeout(()=>{v=null,S(g)},d-C)))},()=>g&&S(g)]}const So=(r,c,m=3)=>{let d=0;const g=rb(50,250);return ub(v=>{const S=v.loaded,w=v.lengthComputable?v.total:void 0,U=S-d,E=g(U),R=S<=w;d=S;const C={loaded:S,total:w,progress:w?S/w:void 0,bytes:U,rate:E||void 0,estimated:E&&w&&R?(w-S)/E:void 0,event:v,lengthComputable:w!=null,[c?"download":"upload"]:!0};r(C)},m)},dp=(r,c)=>{const m=r!=null;return[d=>c[0]({lengthComputable:m,total:r,loaded:d}),c[1]]},hp=r=>(...c)=>ee.asap(()=>r(...c)),ob=On.hasStandardBrowserEnv?((r,c)=>m=>(m=new URL(m,On.origin),r.protocol===m.protocol&&r.host===m.host&&(c||r.port===m.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,cb=On.hasStandardBrowserEnv?{write(r,c,m,d,g,v,S){if(typeof document>"u")return;const w=[`${r}=${encodeURIComponent(c)}`];ee.isNumber(m)&&w.push(`expires=${new Date(m).toUTCString()}`),ee.isString(d)&&w.push(`path=${d}`),ee.isString(g)&&w.push(`domain=${g}`),v===!0&&w.push("secure"),ee.isString(S)&&w.push(`SameSite=${S}`),document.cookie=w.join("; ")},read(r){if(typeof document>"u")return null;const c=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return c?decodeURIComponent(c[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fb(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function db(r,c){return c?r.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):r}function Ip(r,c,m){let d=!fb(c);return r&&(d||m==!1)?db(r,c):c}const mp=r=>r instanceof Qn?{...r}:r;function Hs(r,c){c=c||{};const m={};function d(E,R,C,F){return ee.isPlainObject(E)&&ee.isPlainObject(R)?ee.merge.call({caseless:F},E,R):ee.isPlainObject(R)?ee.merge({},R):ee.isArray(R)?R.slice():R}function g(E,R,C,F){if(ee.isUndefined(R)){if(!ee.isUndefined(E))return d(void 0,E,C,F)}else return d(E,R,C,F)}function v(E,R){if(!ee.isUndefined(R))return d(void 0,R)}function S(E,R){if(ee.isUndefined(R)){if(!ee.isUndefined(E))return d(void 0,E)}else return d(void 0,R)}function w(E,R,C){if(C in c)return d(E,R);if(C in r)return d(void 0,E)}const U={url:v,method:v,data:v,baseURL:S,transformRequest:S,transformResponse:S,paramsSerializer:S,timeout:S,timeoutMessage:S,withCredentials:S,withXSRFToken:S,adapter:S,responseType:S,xsrfCookieName:S,xsrfHeaderName:S,onUploadProgress:S,onDownloadProgress:S,decompress:S,maxContentLength:S,maxBodyLength:S,beforeRedirect:S,transport:S,httpAgent:S,httpsAgent:S,cancelToken:S,socketPath:S,responseEncoding:S,validateStatus:w,headers:(E,R,C)=>g(mp(E),mp(R),C,!0)};return ee.forEach(Object.keys({...r,...c}),function(R){if(R==="__proto__"||R==="constructor"||R==="prototype")return;const C=ee.hasOwnProp(U,R)?U[R]:g,F=C(r[R],c[R],R);ee.isUndefined(F)&&C!==w||(m[R]=F)}),m}const ey=r=>{const c=Hs({},r);let{data:m,withXSRFToken:d,xsrfHeaderName:g,xsrfCookieName:v,headers:S,auth:w}=c;if(c.headers=S=Qn.from(S),c.url=$p(Ip(c.baseURL,c.url,c.allowAbsoluteUrls),r.params,r.paramsSerializer),w&&S.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),ee.isFormData(m)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)S.setContentType(void 0);else if(ee.isFunction(m.getHeaders)){const U=m.getHeaders(),E=["content-type","content-length"];Object.entries(U).forEach(([R,C])=>{E.includes(R.toLowerCase())&&S.set(R,C)})}}if(On.hasStandardBrowserEnv&&(d&&ee.isFunction(d)&&(d=d(c)),d||d!==!1&&ob(c.url))){const U=g&&v&&cb.read(v);U&&S.set(g,U)}return c},hb=typeof XMLHttpRequest<"u",mb=hb&&function(r){return new Promise(function(m,d){const g=ey(r);let v=g.data;const S=Qn.from(g.headers).normalize();let{responseType:w,onUploadProgress:U,onDownloadProgress:E}=g,R,C,F,be,$;function ue(){be&&be(),$&&$(),g.cancelToken&&g.cancelToken.unsubscribe(R),g.signal&&g.signal.removeEventListener("abort",R)}let I=new XMLHttpRequest;I.open(g.method.toUpperCase(),g.url,!0),I.timeout=g.timeout;function De(){if(!I)return;const _e=Qn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),ve={data:!w||w==="text"||w==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:_e,config:r,request:I};Wp(function(ge){m(ge),ue()},function(ge){d(ge),ue()},ve),I=null}"onloadend"in I?I.onloadend=De:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(De)},I.onabort=function(){I&&(d(new Pe("Request aborted",Pe.ECONNABORTED,r,I)),I=null)},I.onerror=function(se){const ve=se&&se.message?se.message:"Network Error",Se=new Pe(ve,Pe.ERR_NETWORK,r,I);Se.event=se||null,d(Se),I=null},I.ontimeout=function(){let se=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const ve=g.transitional||Ff;g.timeoutErrorMessage&&(se=g.timeoutErrorMessage),d(new Pe(se,ve.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,r,I)),I=null},v===void 0&&S.setContentType(null),"setRequestHeader"in I&&ee.forEach(S.toJSON(),function(se,ve){I.setRequestHeader(ve,se)}),ee.isUndefined(g.withCredentials)||(I.withCredentials=!!g.withCredentials),w&&w!=="json"&&(I.responseType=g.responseType),E&&([F,$]=So(E,!0),I.addEventListener("progress",F)),U&&I.upload&&([C,be]=So(U),I.upload.addEventListener("progress",C),I.upload.addEventListener("loadend",be)),(g.cancelToken||g.signal)&&(R=_e=>{I&&(d(!_e||_e.type?new Jr(null,r,I):_e),I.abort(),I=null)},g.cancelToken&&g.cancelToken.subscribe(R),g.signal&&(g.signal.aborted?R():g.signal.addEventListener("abort",R)));const ye=ib(g.url);if(ye&&On.protocols.indexOf(ye)===-1){d(new Pe("Unsupported protocol "+ye+":",Pe.ERR_BAD_REQUEST,r));return}I.send(v||null)})},pb=(r,c)=>{const{length:m}=r=r?r.filter(Boolean):[];if(c||m){let d=new AbortController,g;const v=function(E){if(!g){g=!0,w();const R=E instanceof Error?E:this.reason;d.abort(R instanceof Pe?R:new Jr(R instanceof Error?R.message:R))}};let S=c&&setTimeout(()=>{S=null,v(new Pe(`timeout of ${c}ms exceeded`,Pe.ETIMEDOUT))},c);const w=()=>{r&&(S&&clearTimeout(S),S=null,r.forEach(E=>{E.unsubscribe?E.unsubscribe(v):E.removeEventListener("abort",v)}),r=null)};r.forEach(E=>E.addEventListener("abort",v));const{signal:U}=d;return U.unsubscribe=()=>ee.asap(w),U}},yb=function*(r,c){let m=r.byteLength;if(m<c){yield r;return}let d=0,g;for(;d<m;)g=d+c,yield r.slice(d,g),d=g},gb=async function*(r,c){for await(const m of bb(r))yield*yb(m,c)},bb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const c=r.getReader();try{for(;;){const{done:m,value:d}=await c.read();if(m)break;yield d}}finally{await c.cancel()}},pp=(r,c,m,d)=>{const g=gb(r,c);let v=0,S,w=U=>{S||(S=!0,d&&d(U))};return new ReadableStream({async pull(U){try{const{done:E,value:R}=await g.next();if(E){w(),U.close();return}let C=R.byteLength;if(m){let F=v+=C;m(F)}U.enqueue(new Uint8Array(R))}catch(E){throw w(E),E}},cancel(U){return w(U),g.return()}},{highWaterMark:2})},yp=64*1024,{isFunction:ho}=ee,xb=(({Request:r,Response:c})=>({Request:r,Response:c}))(ee.global),{ReadableStream:gp,TextEncoder:bp}=ee.global,xp=(r,...c)=>{try{return!!r(...c)}catch{return!1}},vb=r=>{r=ee.merge.call({skipUndefined:!0},xb,r);const{fetch:c,Request:m,Response:d}=r,g=c?ho(c):typeof fetch=="function",v=ho(m),S=ho(d);if(!g)return!1;const w=g&&ho(gp),U=g&&(typeof bp=="function"?($=>ue=>$.encode(ue))(new bp):async $=>new Uint8Array(await new m($).arrayBuffer())),E=v&&w&&xp(()=>{let $=!1;const ue=new m(On.origin,{body:new gp,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!ue}),R=S&&w&&xp(()=>ee.isReadableStream(new d("").body)),C={stream:R&&($=>$.body)};g&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!C[$]&&(C[$]=(ue,I)=>{let De=ue&&ue[$];if(De)return De.call(ue);throw new Pe(`Response type '${$}' is not supported`,Pe.ERR_NOT_SUPPORT,I)})});const F=async $=>{if($==null)return 0;if(ee.isBlob($))return $.size;if(ee.isSpecCompliantForm($))return(await new m(On.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(ee.isArrayBufferView($)||ee.isArrayBuffer($))return $.byteLength;if(ee.isURLSearchParams($)&&($=$+""),ee.isString($))return(await U($)).byteLength},be=async($,ue)=>{const I=ee.toFiniteNumber($.getContentLength());return I??F(ue)};return async $=>{let{url:ue,method:I,data:De,signal:ye,cancelToken:_e,timeout:se,onDownloadProgress:ve,onUploadProgress:Se,responseType:ge,headers:Ie,withCredentials:Ke="same-origin",fetchOptions:tt}=ey($),Ue=c||fetch;ge=ge?(ge+"").toLowerCase():"text";let $e=pb([ye,_e&&_e.toAbortSignal()],se),gt=null;const Ae=$e&&$e.unsubscribe&&(()=>{$e.unsubscribe()});let Qe;try{if(Se&&E&&I!=="get"&&I!=="head"&&(Qe=await be(Ie,De))!==0){let G=new m(ue,{method:"POST",body:De,duplex:"half"}),O;if(ee.isFormData(De)&&(O=G.headers.get("content-type"))&&Ie.setContentType(O),G.body){const[W,ce]=dp(Qe,So(hp(Se)));De=pp(G.body,yp,W,ce)}}ee.isString(Ke)||(Ke=Ke?"include":"omit");const X=v&&"credentials"in m.prototype,ie={...tt,signal:$e,method:I.toUpperCase(),headers:Ie.normalize().toJSON(),body:De,duplex:"half",credentials:X?Ke:void 0};gt=v&&new m(ue,ie);let pe=await(v?Ue(gt,tt):Ue(ue,ie));const we=R&&(ge==="stream"||ge==="response");if(R&&(ve||we&&Ae)){const G={};["status","statusText","headers"].forEach(qe=>{G[qe]=pe[qe]});const O=ee.toFiniteNumber(pe.headers.get("content-length")),[W,ce]=ve&&dp(O,So(hp(ve),!0))||[];pe=new d(pp(pe.body,yp,W,()=>{ce&&ce(),Ae&&Ae()}),G)}ge=ge||"text";let Ne=await C[ee.findKey(C,ge)||"text"](pe,$);return!we&&Ae&&Ae(),await new Promise((G,O)=>{Wp(G,O,{data:Ne,headers:Qn.from(pe.headers),status:pe.status,statusText:pe.statusText,config:$,request:gt})})}catch(X){throw Ae&&Ae(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,$,gt,X&&X.response),{cause:X.cause||X}):Pe.from(X,X&&X.code,$,gt,X&&X.response)}}},Sb=new Map,ty=r=>{let c=r&&r.env||{};const{fetch:m,Request:d,Response:g}=c,v=[d,g,m];let S=v.length,w=S,U,E,R=Sb;for(;w--;)U=v[w],E=R.get(U),E===void 0&&R.set(U,E=w?new Map:vb(c)),R=E;return E};ty();const $f={http:Ug,xhr:mb,fetch:{get:ty}};ee.forEach($f,(r,c)=>{if(r){try{Object.defineProperty(r,"name",{value:c})}catch{}Object.defineProperty(r,"adapterName",{value:c})}});const vp=r=>`- ${r}`,jb=r=>ee.isFunction(r)||r===null||r===!1;function wb(r,c){r=ee.isArray(r)?r:[r];const{length:m}=r;let d,g;const v={};for(let S=0;S<m;S++){d=r[S];let w;if(g=d,!jb(d)&&(g=$f[(w=String(d)).toLowerCase()],g===void 0))throw new Pe(`Unknown adapter '${w}'`);if(g&&(ee.isFunction(g)||(g=g.get(c))))break;v[w||"#"+S]=g}if(!g){const S=Object.entries(v).map(([U,E])=>`adapter ${U} `+(E===!1?"is not supported by the environment":"is not available in the build"));let w=m?S.length>1?`since :
`+S.map(vp).join(`
`):" "+vp(S[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return g}const ny={getAdapter:wb,adapters:$f};function Tf(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Jr(null,r)}function Sp(r){return Tf(r),r.headers=Qn.from(r.headers),r.data=Df.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),ny.getAdapter(r.adapter||$r.adapter,r)(r).then(function(d){return Tf(r),d.data=Df.call(r,r.transformResponse,d),d.headers=Qn.from(d.headers),d},function(d){return Pp(d)||(Tf(r),d&&d.response&&(d.response.data=Df.call(r,r.transformResponse,d.response),d.response.headers=Qn.from(d.response.headers))),Promise.reject(d)})}const ay="1.13.5",Do={};["object","boolean","number","function","string","symbol"].forEach((r,c)=>{Do[r]=function(d){return typeof d===r||"a"+(c<1?"n ":" ")+r}});const jp={};Do.transitional=function(c,m,d){function g(v,S){return"[Axios v"+ay+"] Transitional option '"+v+"'"+S+(d?". "+d:"")}return(v,S,w)=>{if(c===!1)throw new Pe(g(S," has been removed"+(m?" in "+m:"")),Pe.ERR_DEPRECATED);return m&&!jp[S]&&(jp[S]=!0,console.warn(g(S," has been deprecated since v"+m+" and will be removed in the near future"))),c?c(v,S,w):!0}};Do.spelling=function(c){return(m,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function Nb(r,c,m){if(typeof r!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const d=Object.keys(r);let g=d.length;for(;g-- >0;){const v=d[g],S=c[v];if(S){const w=r[v],U=w===void 0||S(w,v,r);if(U!==!0)throw new Pe("option "+v+" must be "+U,Pe.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new Pe("Unknown option "+v,Pe.ERR_BAD_OPTION)}}const go={assertOptions:Nb,validators:Do},ma=go.validators;let qs=class{constructor(c){this.defaults=c||{},this.interceptors={request:new cp,response:new cp}}async request(c,m){try{return await this._request(c,m)}catch(d){if(d instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const v=g.stack?g.stack.replace(/^.+\n/,""):"";try{d.stack?v&&!String(d.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+v):d.stack=v}catch{}}throw d}}_request(c,m){typeof c=="string"?(m=m||{},m.url=c):m=c||{},m=Hs(this.defaults,m);const{transitional:d,paramsSerializer:g,headers:v}=m;d!==void 0&&go.assertOptions(d,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean),legacyInterceptorReqResOrdering:ma.transitional(ma.boolean)},!1),g!=null&&(ee.isFunction(g)?m.paramsSerializer={serialize:g}:go.assertOptions(g,{encode:ma.function,serialize:ma.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),go.assertOptions(m,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let S=v&&ee.merge(v.common,v[m.method]);v&&ee.forEach(["delete","get","head","post","put","patch","common"],$=>{delete v[$]}),m.headers=Qn.concat(S,v);const w=[];let U=!0;this.interceptors.request.forEach(function(ue){if(typeof ue.runWhen=="function"&&ue.runWhen(m)===!1)return;U=U&&ue.synchronous;const I=m.transitional||Ff;I&&I.legacyInterceptorReqResOrdering?w.unshift(ue.fulfilled,ue.rejected):w.push(ue.fulfilled,ue.rejected)});const E=[];this.interceptors.response.forEach(function(ue){E.push(ue.fulfilled,ue.rejected)});let R,C=0,F;if(!U){const $=[Sp.bind(this),void 0];for($.unshift(...w),$.push(...E),F=$.length,R=Promise.resolve(m);C<F;)R=R.then($[C++],$[C++]);return R}F=w.length;let be=m;for(;C<F;){const $=w[C++],ue=w[C++];try{be=$(be)}catch(I){ue.call(this,I);break}}try{R=Sp.call(this,be)}catch($){return Promise.reject($)}for(C=0,F=E.length;C<F;)R=R.then(E[C++],E[C++]);return R}getUri(c){c=Hs(this.defaults,c);const m=Ip(c.baseURL,c.url,c.allowAbsoluteUrls);return $p(m,c.params,c.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(c){qs.prototype[c]=function(m,d){return this.request(Hs(d||{},{method:c,url:m,data:(d||{}).data}))}});ee.forEach(["post","put","patch"],function(c){function m(d){return function(v,S,w){return this.request(Hs(w||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:v,data:S}))}}qs.prototype[c]=m(),qs.prototype[c+"Form"]=m(!0)});let _b=class ly{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(v){m=v});const d=this;this.promise.then(g=>{if(!d._listeners)return;let v=d._listeners.length;for(;v-- >0;)d._listeners[v](g);d._listeners=null}),this.promise.then=g=>{let v;const S=new Promise(w=>{d.subscribe(w),v=w}).then(g);return S.cancel=function(){d.unsubscribe(v)},S},c(function(v,S,w){d.reason||(d.reason=new Jr(v,S,w),m(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const m=this._listeners.indexOf(c);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const c=new AbortController,m=d=>{c.abort(d)};return this.subscribe(m),c.signal.unsubscribe=()=>this.unsubscribe(m),c.signal}static source(){let c;return{token:new ly(function(g){c=g}),cancel:c}}};function Eb(r){return function(m){return r.apply(null,m)}}function Cb(r){return ee.isObject(r)&&r.isAxiosError===!0}const Uf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Uf).forEach(([r,c])=>{Uf[c]=r});function sy(r){const c=new qs(r),m=Up(qs.prototype.request,c);return ee.extend(m,qs.prototype,c,{allOwnKeys:!0}),ee.extend(m,c,null,{allOwnKeys:!0}),m.create=function(g){return sy(Hs(r,g))},m}const ln=sy($r);ln.Axios=qs;ln.CanceledError=Jr;ln.CancelToken=_b;ln.isCancel=Pp;ln.VERSION=ay;ln.toFormData=Oo;ln.AxiosError=Pe;ln.Cancel=ln.CanceledError;ln.all=function(c){return Promise.all(c)};ln.spread=Eb;ln.isAxiosError=Cb;ln.mergeConfig=Hs;ln.AxiosHeaders=Qn;ln.formToJSON=r=>Jp(ee.isHTMLForm(r)?new FormData(r):r);ln.getAdapter=ny.getAdapter;ln.HttpStatusCode=Uf;ln.default=ln;const{Axios:rv,AxiosError:uv,CanceledError:ov,isCancel:cv,CancelToken:fv,VERSION:dv,all:hv,Cancel:mv,isAxiosError:pv,spread:yv,toFormData:gv,AxiosHeaders:bv,HttpStatusCode:xv,formToJSON:vv,getAdapter:Sv,mergeConfig:jv}=ln,xt=ln.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});xt.interceptors.request.use(r=>{const c=xl.getState().token;return c&&(r.headers.Authorization=`Token ${c}`),r.data instanceof FormData&&delete r.headers["Content-Type"],r});xt.interceptors.response.use(r=>r,r=>(r.response?.status===401&&xl.getState().logout(),Promise.reject(r)));const Bi={login:(r,c)=>xt.post("/auth/login/",{email:r,password:c}),register:r=>xt.post("/auth/register/",r),logout:()=>xt.post("/auth/logout/"),me:()=>xt.get("/auth/me/"),deleteAccount:()=>xt.post("/auth/me/delete/")},Qr={list:()=>xt.get("/projects/"),get:r=>xt.get(`/projects/${r}/`),create:r=>xt.post("/projects/",r),update:(r,c)=>xt.patch(`/projects/${r}/`,c),delete:r=>xt.delete(`/projects/${r}/`)},In={list:()=>xt.get("/lenses/"),get:r=>xt.get(`/lenses/${r}/`),create:r=>xt.post("/lenses/",r),update:(r,c)=>xt.patch(`/lenses/${r}/`,c),delete:r=>xt.delete(`/lenses/${r}/`),addColor:(r,c)=>xt.post(`/lenses/${r}/colors/`,c),updateColor:(r,c,m)=>xt.patch(`/lenses/${r}/colors/${c}/`,m),removeColor:(r,c)=>xt.delete(`/lenses/${r}/colors/${c}/`)},Ab={get:()=>xt.get("/library/")},an={list:r=>xt.get("/documents/",{params:r}),get:r=>xt.get(`/documents/${r}/`),create:r=>xt.post("/documents/",r),createWithFile:r=>xt.post("/documents/",r),getPdf:r=>xt.get(`/documents/${r}/pdf/`,{responseType:"arraybuffer"}),uploadPdf:(r,c)=>xt.post(`/documents/${r}/upload_pdf/`,c),update:(r,c)=>xt.patch(`/documents/${r}/`,c),delete:r=>xt.delete(`/documents/${r}/`),highlights:r=>xt.get(`/documents/${r}/highlights/`),createHighlight:(r,c)=>xt.post(`/documents/${r}/highlights/`,c),updateHighlight:(r,c,m)=>xt.patch(`/documents/${r}/highlights/${c}/`,m),deleteHighlight:(r,c)=>xt.delete(`/documents/${r}/highlights/${c}/`)},Ob={page:"bg-slate-50",surface:"bg-white",muted:"bg-slate-100"},Ve={body:"text-slate-800",heading:"text-slate-900",secondary:"text-slate-600",muted:"text-slate-500"},ea={default:"border-slate-200"},Us="min-h-screen p-6",iy="bg-white border-b border-slate-200",Yr="bg-slate-800 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-slate-700 cursor-pointer",ki="p-2 rounded-lg text-slate-600 hover:bg-slate-100 cursor-pointer",wp="w-px h-6 bg-slate-200",Na=Ob;function Db(){const r=ls(),c=xl(C=>C.setToken),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState(""),[U,E]=H.useState(!1),R=async C=>{C.preventDefault(),w(""),E(!0);try{const{data:F}=await Bi.login(m,g);c(F.token),r("/",{replace:!0})}catch(F){w(F.response?.data?.detail||F.response?.data?.email?.[0]||"Login failed")}finally{E(!1)}};return o.jsx("div",{className:`${Us} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ve.heading} mb-6`,children:"Sign in"}),o.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:C=>d(C.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:C=>v(C.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Yr,children:U?"Signing in...":"Sign in"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ve.muted}`,children:["No account? ",o.jsx(qp,{to:"/register",className:"text-slate-700 underline",children:"Register"})]})]})})}function Tb(){const r=ls(),c=xl(C=>C.setToken),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState(""),[U,E]=H.useState(!1),R=async C=>{C.preventDefault(),w(""),E(!0);try{await Bi.register({email:m,password:g});const{data:F}=await Bi.login(m,g);c(F.token),r("/",{replace:!0})}catch(F){const be=F.response?.data;w(be?.email?.[0]||be?.password?.[0]||"Registration failed")}finally{E(!1)}};return o.jsx("div",{className:`${Us} ${Na.page} flex items-center justify-center`,children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx("h1",{className:`text-2xl font-semibold ${Ve.heading} mb-6`,children:"Create account"}),o.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[S&&o.jsx("p",{className:"text-sm text-red-600",children:S}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Email"}),o.jsx("input",{type:"email",value:m,onChange:C=>d(C.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"email"})]}),o.jsxs("label",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:`text-sm ${Ve.secondary}`,children:"Password"}),o.jsx("input",{type:"password",value:g,onChange:C=>v(C.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900",required:!0,autoComplete:"new-password"})]}),o.jsx("button",{type:"submit",disabled:U,className:Yr,children:U?"Creating account...":"Register"})]}),o.jsxs("p",{className:`mt-4 text-sm ${Ve.muted}`,children:["Already have an account? ",o.jsx(qp,{to:"/login",className:"text-slate-700 underline",children:"Sign in"})]})]})})}const ry=(...r)=>r.filter((c,m,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===m).join(" ").trim();const Mb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const zb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,m,d)=>d?d.toUpperCase():m.toLowerCase());const Np=r=>{const c=zb(r);return c.charAt(0).toUpperCase()+c.slice(1)};var kb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rb=r=>{for(const c in r)if(c.startsWith("aria-")||c==="role"||c==="title")return!0;return!1};const Bb=H.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:m=2,absoluteStrokeWidth:d,className:g="",children:v,iconNode:S,...w},U)=>H.createElement("svg",{ref:U,...kb,width:c,height:c,stroke:r,strokeWidth:d?Number(m)*24/Number(c):m,className:ry("lucide",g),...!v&&!Rb(w)&&{"aria-hidden":"true"},...w},[...S.map(([E,R])=>H.createElement(E,R)),...Array.isArray(v)?v:[v]]));const Qt=(r,c)=>{const m=H.forwardRef(({className:d,...g},v)=>H.createElement(Bb,{ref:v,iconNode:c,className:ry(`lucide-${Mb(Np(r))}`,`lucide-${r}`,d),...g}));return m.displayName=Np(r),m};const qb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pr=Qt("arrow-left",qb);const Ub=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Hb=Qt("bookmark",Ub);const Lb=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],Kb=Qt("braces",Lb);const Qb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yb=Qt("chart-column",Qb);const Xb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jo=Qt("check",Xb);const Gb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bo=Qt("chevron-down",Gb);const Vb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xr=Qt("chevron-right",Vb);const Fb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jf=Qt("copy",Fb);const Zb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],$b=Qt("file-down",Zb);const Jb=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],Pb=Qt("file-stack",Jb);const Wb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qi=Qt("file-text",Wb);const Ib=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Hf=Qt("folder-open",Ib);const ex=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ya=Qt("loader-circle",ex);const tx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pf=Qt("log-out",tx);const nx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uy=Qt("palette",nx);const ax=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],lx=Qt("panel-right-close",ax);const sx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],ix=Qt("panel-right-open",sx);const rx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],To=Qt("pencil",rx);const ux=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_p=Qt("plus",ux);const ox=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gr=Qt("search",ox);const cx=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],fx=Qt("settings-2",cx);const dx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ss=Qt("trash-2",dx);const hx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wo=Qt("upload",hx);const mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=Qt("x",mx);const px=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],yx=Qt("zoom-in",px);const gx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bx=Qt("zoom-out",gx),Ep=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Mi=5,Cp=3;function oy(){const r=Ui(),[c,m]=H.useState(0),[d,g]=H.useState(""),[v,S]=H.useState([]),[w,U]=H.useState(null),[E,R]=H.useState(""),[C,F]=H.useState(null),[be,$]=H.useState(null),[ue,I]=H.useState(null),[De,ye]=H.useState(""),[_e,se]=H.useState(null),[ve,Se]=H.useState(""),{data:ge=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:G}=await In.list();return G}}),Ie=ge.filter(G=>!G.is_system),Ke=()=>{m(0),g(""),S([]),U(null),R("")},tt=An({mutationFn:G=>In.create(G),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),Ke()}}),Ue=An({mutationFn:G=>In.delete(G),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),$e=An({mutationFn:({lensId:G,data:O})=>In.addColor(G,O),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),$(null),I(null),ye("")}}),gt=An({mutationFn:({lensId:G,colorId:O})=>In.removeColor(G,O),onSuccess:()=>r.invalidateQueries({queryKey:["lenses"]})}),Ae=An({mutationFn:({lensId:G,colorId:O,displayName:W})=>In.updateColor(G,O,{display_name:W}),onSuccess:()=>{r.invalidateQueries({queryKey:["lenses"]}),se(null),Se("")}}),Qe=()=>{!be||!ue||!De.trim()||$e.mutate({lensId:be,data:{key:`custom_${Date.now()}`,display_name:De.trim(),hex:ue}})},X=new Set(v.map(G=>G.hex.toLowerCase())),ie=Ep.filter(G=>!X.has(G.toLowerCase())),pe=()=>{!w||!E.trim()||(S(G=>[...G,{key:`color_${Date.now()}_${G.length}`,display_name:E.trim(),hex:w}]),U(null),R(""))},we=G=>{S(O=>O.filter((W,ce)=>ce!==G))},Ne=()=>{!d.trim()||v.length<1||tt.mutate({name:d.trim(),colors:v})};return o.jsxs("section",{className:"p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsxs("h2",{className:"text-base font-semibold text-slate-800 mb-1 flex items-center gap-2",children:[o.jsx(uy,{className:"w-4 h-4 text-slate-500"}),"Highlight lenses"]}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Each lens has ",Mi," colour categories. You can create up to ",Cp," custom lenses."]}),o.jsx("ul",{className:"space-y-2 mb-4",children:ge.map(G=>o.jsxs("li",{className:"py-2.5 px-3 rounded-lg bg-slate-50 border border-slate-100",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("span",{className:"font-medium text-slate-800 truncate",children:G.name}),G.is_system&&o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-200 text-slate-600 shrink-0",children:"Default"})]}),!G.is_system&&o.jsx("button",{type:"button",onClick:()=>F(G),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 shrink-0",title:"Delete lens",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[(G.colors??[]).map(O=>{const W=_e?.lensId===G.id&&_e?.colorId===O.id;return o.jsxs("div",{className:"relative group flex items-center gap-1 bg-white rounded-full border border-slate-200 pl-1 pr-2 py-0.5 min-w-0",children:[o.jsx("div",{className:"w-4 h-4 rounded-full shrink-0",style:{backgroundColor:O.hex}}),W?o.jsx("input",{type:"text",value:ve,onChange:ce=>Se(ce.target.value),onBlur:()=>{const ce=ve.trim();ce&&ce!==O.display_name?Ae.mutate({lensId:G.id,colorId:O.id,displayName:ce}):(se(null),Se(""))},onKeyDown:ce=>{if(ce.key==="Enter"){const qe=ve.trim();qe&&Ae.mutate({lensId:G.id,colorId:O.id,displayName:qe})}ce.key==="Escape"&&(se(null),Se(""))},autoFocus:!0,className:"text-[11px] text-slate-600 bg-transparent border-0 outline-none focus:ring-0 min-w-[72px] max-w-[140px] py-0"}):o.jsx("button",{type:"button",onClick:()=>{G.is_system||(se({lensId:G.id,colorId:O.id}),Se(O.display_name))},className:`text-[11px] text-slate-600 text-left truncate max-w-[120px] ${G.is_system?"cursor-default":"cursor-pointer hover:text-slate-800"}`,children:O.display_name}),!G.is_system&&(G.colors?.length??0)>1&&!W&&o.jsx("button",{type:"button",onClick:ce=>{ce.stopPropagation(),gt.mutate({lensId:G.id,colorId:O.id})},className:"ml-0.5 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:o.jsx(as,{className:"w-3 h-3",strokeWidth:2.5})})]},O.id)}),!G.is_system&&(G.colors?.length??0)>1&&o.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Removing a colour will delete any highlights and comments using it."}),!G.is_system&&(G.colors?.length??0)<Mi&&o.jsx("button",{type:"button",onClick:()=>{$(G.id),I(null),ye("")},className:"w-5 h-5 rounded-full border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-400 hover:border-slate-400 hover:text-slate-500 transition-colors",title:"Add colour",children:o.jsx(_p,{className:"w-3 h-3",strokeWidth:2.5})})]})]},G.id))}),Ie.length<Cp&&o.jsxs("button",{type:"button",onClick:()=>m(1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50",children:[o.jsx(_p,{className:"w-4 h-4"}),"Create lens"]}),c>0&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!tt.isPending&&Ke(),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:G=>G.stopPropagation(),children:[c===1&&o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"New lens"}),o.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Lens name"}),o.jsx("input",{type:"text",value:d,onChange:G=>g(G.target.value),placeholder:"e.g. Credit Analysis",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&d.trim()&&m(2)},className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300 mb-4"}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:Ke,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(2),disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Next"})]})]}),c===2&&o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-1",children:["Add colours (",v.length,"/",Mi,")"]}),o.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Pick up to ",Mi," colours and give each a label."]}),v.length>0&&o.jsx("div",{className:"space-y-1.5 mb-3",children:v.map((G,O)=>o.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 rounded-lg px-2.5 py-1.5",children:[o.jsx("div",{className:"w-5 h-5 rounded-full shrink-0",style:{backgroundColor:G.hex}}),o.jsx("span",{className:"text-sm text-slate-700 flex-1 truncate",children:G.display_name}),o.jsx("button",{type:"button",onClick:()=>we(O),className:"text-slate-400 hover:text-red-500 shrink-0",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]},O))}),v.length<Mi&&o.jsx(o.Fragment,{children:w?o.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:w}}),o.jsx("input",{type:"text",value:E,onChange:G=>R(G.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&pe()},className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"}),o.jsx("button",{type:"button",onClick:pe,disabled:!E.trim(),className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:"Add"})]}):o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Pick colour ",v.length+1," of ",Mi]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(G=>o.jsx("button",{type:"button",onClick:()=>{U(G),R("")},className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent hover:border-slate-400 hover:scale-110",style:{background:G}},G))})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{m(1),S([]),U(null),R("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Back"}),o.jsx("button",{type:"button",onClick:Ne,disabled:v.length<1||tt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:tt.isPending?"Creating":"Create lens"})]})]})]})}),be&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!$e.isPending&&$(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:G=>G.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-3",children:"Add colour"}),ue?o.jsx("div",{className:"space-y-2.5",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:ue}}),o.jsx("input",{type:"text",value:De,onChange:G=>ye(G.target.value),placeholder:"Label, e.g. Investment Risks",autoFocus:!0,onKeyDown:G=>{G.key==="Enter"&&Qe()},className:"flex-1 min-w-0 rounded-lg border border-slate-200 px-2.5 py-1.5 text-sm text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-300"})]})}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Pick a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const G=ge.find(W=>W.id===be),O=new Set((G?.colors??[]).map(W=>W.hex.toLowerCase()));return Ep.filter(W=>!O.has(W.toLowerCase()))})().map(G=>o.jsx("button",{type:"button",onClick:()=>I(G),className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:G}},G))})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>{ue?(I(null),ye("")):$(null)},disabled:$e.isPending,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:ue?"Back":"Cancel"}),ue&&o.jsx("button",{type:"button",onClick:Qe,disabled:!De.trim()||$e.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:$e.isPending?"Adding":"Add"})]})]})}),C&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Ue.isPending&&F(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:G=>G.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:["This will permanently delete ",o.jsx("strong",{children:C.name})," and remove it from any documents using it."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>F(null),disabled:Ue.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>{Ue.mutate(C.id,{onSuccess:()=>F(null)})},disabled:Ue.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Ue.isPending?"Deleting":"Delete lens"})]})]})})]})}const gl=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function xx(r){if(!r)return"";const c=new Date(r);if(Number.isNaN(c.getTime()))return"";const m=new Date,d=m-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g} min ago`:v<24?`${v} hour${v===1?"":"s"} ago`:S===1?"Yesterday":S<7?`${S} days ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:c.getFullYear()!==m.getFullYear()?"numeric":void 0})}function vx({project:r,onOpen:c}){const[m,d]=H.useState(!1),g=r.document_count??0,v=r.annotation_count??0,S=r.color&&gl.includes(r.color)?r.color:gl[r.id%gl.length];return o.jsxs("div",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:()=>c(r.id),role:"button",tabIndex:0,onKeyDown:w=>w.key==="Enter"&&c(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${m?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${S}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none",background:m?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:[g," ",g===1?"doc":"docs"]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:xx(r.updated_at)})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:v>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[v," note",v!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:m?"#475569":"#cbd5e1"}})]})}function Sx({onClose:r,onCreate:c,isPending:m,defaultColorIndex:d=0}){const[g,v]=H.useState(""),[S,w]=H.useState(gl[d%gl.length]),U=()=>{const E=g.trim();E&&(c(E,S),v(""),w(gl[d%gl.length]))};return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-8 w-full max-w-[420px] shadow-xl mx-4",onClick:E=>E.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-xl font-normal text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"New project"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:"Group related deal documents together."}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-1.5 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Project name"}),o.jsx("input",{type:"text",value:g,onChange:E=>v(E.target.value),placeholder:"e.g. Meridian Healthcare CIM",autoFocus:!0,className:"w-full px-3.5 py-2.5 text-[15px] border border-slate-200 rounded-lg outline-none text-slate-800 focus:border-slate-600 transition-colors box-border",style:{fontFamily:"'DM Sans', sans-serif"}}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mt-5 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:gl.map(E=>o.jsx("button",{type:"button",onClick:()=>w(E),className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2",style:{background:E,borderColor:S===E?"#1e293b":"transparent",outline:S===E?"2px solid #fff":"none",outlineOffset:-4}},E))}),o.jsxs("div",{className:"flex justify-end gap-2.5 mt-7",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-500 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:U,disabled:!g.trim()||m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors disabled:bg-slate-300 disabled:cursor-default hover:bg-slate-700",style:{background:g.trim()&&!m?"#1e293b":"#cbd5e1"},children:m?"Creating":"Create project"})]})]})})}function jx(){const r=ls(),c=Ui(),m=xl(se=>se.logout),[d,g]=H.useState(!1),[v,S]=H.useState(!1),[w,U]=H.useState(""),{data:E}=kn({queryKey:["me"],queryFn:async()=>{const{data:se}=await Bi.me();return se}}),{data:R,isLoading:C}=kn({queryKey:["projects"],queryFn:async()=>{const{data:se}=await Qr.list();return se}}),F=Array.isArray(R)?R:R?.results??[],be=F.filter(se=>se.name.toLowerCase().includes(w.toLowerCase())),$=F.reduce((se,ve)=>se+(ve.document_count??0),0),ue=F.reduce((se,ve)=>se+(ve.annotation_count??0),0),I=An({mutationFn:({name:se,color:ve})=>Qr.create({name:se.trim(),color:ve}),onSuccess:()=>{c.invalidateQueries({queryKey:["projects"]}),g(!1)}}),De=(se,ve)=>{I.mutate({name:se,color:ve})},ye=()=>{m(),r("/login",{replace:!0})},_e=(E?.email?.[0]||E?.username?.[0]||"?").toUpperCase();return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",style:{fontFamily:"'DM Sans', sans-serif"},children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:ye,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>r("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",style:{fontFamily:"'DM Sans', sans-serif"},title:"Account settings",children:_e})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Projects"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>g(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700",style:{background:"#1e293b",fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New project"]}),o.jsxs("button",{type:"button",onClick:()=>r("/app/library"),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(Gr,{className:"w-4 h-4"}),"Library"]}),o.jsxs("button",{type:"button",onClick:()=>S(!0),className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 transition-colors",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(uy,{className:"w-4 h-4"}),"Your Lenses"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[F.length," project",F.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[$," document",$!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[ue," annotation",ue!==1?"s":""]})]}),F.length>3&&o.jsxs("div",{className:"relative mb-4",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#94a3b8",strokeWidth:"2",className:"absolute left-3 top-1/2 -translate-y-1/2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),o.jsx("input",{type:"text",placeholder:"Search projects",value:w,onChange:se=>U(se.target.value),className:"w-full py-2.5 pl-9 pr-3.5 text-sm border border-slate-200 rounded-lg outline-none text-slate-800 bg-white box-border",style:{fontFamily:"'DM Sans', sans-serif"}})]}),C?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"}),"Loading projects"]}):o.jsx("div",{className:"flex flex-col gap-2",children:be.map(se=>o.jsx(vx,{project:se,onOpen:ve=>r(`/project/${ve}`)},se.id))}),!C&&be.length===0&&w&&o.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm",style:{fontFamily:"'DM Sans', sans-serif"},children:['No projects match "',w,'"']}),!C&&F.length===0&&o.jsxs("div",{className:"text-center py-16 text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#cbd5e1",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-4",children:o.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),o.jsx("div",{className:"text-base font-medium text-slate-600 mb-1.5",children:"No projects yet"}),o.jsx("div",{className:"text-sm text-slate-500",children:"Create a project to start organising your deal documents."})]})]}),d&&o.jsx(Sx,{onClose:()=>g(!1),onCreate:De,isPending:I.isPending,defaultColorIndex:F.length%gl.length}),v&&o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:()=>S(!1),children:o.jsx("div",{className:"w-full max-w-[560px] mx-4 max-h-[85vh] overflow-auto",onClick:se=>se.stopPropagation(),children:o.jsx(oy,{})})})]})}var xo={exports:{}},wx=xo.exports,Ap;function Nx(){return Ap||(Ap=1,(function(r,c){((m,d)=>{r.exports=d()})(wx,function(){var m=function(l,u){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(f,h){f.__proto__=h}:function(f,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}))(l,u)},d=function(){return(d=Object.assign||function(l){for(var u,f=1,h=arguments.length;f<h;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l}).apply(this,arguments)};function g(l,u,f){for(var h,y=0,b=u.length;y<b;y++)!h&&y in u||((h=h||Array.prototype.slice.call(u,0,y))[y]=u[y]);return l.concat(h||Array.prototype.slice.call(u))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:z0,S=Object.keys,w=Array.isArray;function U(l,u){return typeof u=="object"&&S(u).forEach(function(f){l[f]=u[f]}),l}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var E=Object.getPrototypeOf,R={}.hasOwnProperty;function C(l,u){return R.call(l,u)}function F(l,u){typeof u=="function"&&(u=u(E(l))),(typeof Reflect>"u"?S:Reflect.ownKeys)(u).forEach(function(f){$(l,f,u[f])})}var be=Object.defineProperty;function $(l,u,f,h){be(l,u,U(f&&C(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},h))}function ue(l){return{from:function(u){return l.prototype=Object.create(u.prototype),$(l.prototype,"constructor",l),{extend:F.bind(null,l.prototype)}}}}var I=Object.getOwnPropertyDescriptor,De=[].slice;function ye(l,u,f){return De.call(l,u,f)}function _e(l,u){return u(l)}function se(l){if(!l)throw new Error("Assertion Failed")}function ve(l){v.setImmediate?setImmediate(l):setTimeout(l,0)}function Se(l,u){if(typeof u=="string"&&C(l,u))return l[u];if(!u)return l;if(typeof u!="string"){for(var f=[],h=0,y=u.length;h<y;++h){var b=Se(l,u[h]);f.push(b)}return f}var j,N=u.indexOf(".");return N===-1||(j=l[u.substr(0,N)])==null?void 0:Se(j,u.substr(N+1))}function ge(l,u,f){if(l&&u!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof u!="string"&&"length"in u){se(typeof f!="string"&&"length"in f);for(var h=0,y=u.length;h<y;++h)ge(l,u[h],f[h])}else{var b,j,N=u.indexOf(".");N!==-1?(b=u.substr(0,N),(N=u.substr(N+1))===""?f===void 0?w(l)&&!isNaN(parseInt(b))?l.splice(b,1):delete l[b]:l[b]=f:ge(j=(j=l[b])&&C(l,b)?j:l[b]={},N,f)):f===void 0?w(l)&&!isNaN(parseInt(u))?l.splice(u,1):delete l[u]:l[u]=f}}function Ie(l){var u,f={};for(u in l)C(l,u)&&(f[u]=l[u]);return f}var Ke=[].concat;function tt(l){return Ke.apply([],l)}var O="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(tt([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(u){return u+l+"Array"})}))).filter(function(l){return v[l]}),Ue=new Set(O.map(function(l){return v[l]})),$e=null;function gt(l){return $e=new WeakMap,l=(function u(f){if(!f||typeof f!="object")return f;var h=$e.get(f);if(h)return h;if(w(f)){h=[],$e.set(f,h);for(var y=0,b=f.length;y<b;++y)h.push(u(f[y]))}else if(Ue.has(f.constructor))h=f;else{var j,N=E(f);for(j in h=N===Object.prototype?{}:Object.create(N),$e.set(f,h),f)C(f,j)&&(h[j]=u(f[j]))}return h})(l),$e=null,l}var Ae={}.toString;function Qe(l){return Ae.call(l).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ie=typeof X=="symbol"?function(l){var u;return l!=null&&(u=l[X])&&u.apply(l)}:function(){return null};function pe(l,u){u=l.indexOf(u),0<=u&&l.splice(u,1)}var we={};function Ne(l){var u,f,h,y;if(arguments.length===1){if(w(l))return l.slice();if(this===we&&typeof l=="string")return[l];if(y=ie(l))for(f=[];!(h=y.next()).done;)f.push(h.value);else{if(l==null)return[l];if(typeof(u=l.length)!="number")return[l];for(f=new Array(u);u--;)f[u]=l[u]}}else for(u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return f}var G=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},O=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(O),W={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ce(l,u){this.name=l,this.message=u}function qe(l,u){return l+". Errors: "+Object.keys(u).map(function(f){return u[f].toString()}).filter(function(f,h,y){return y.indexOf(f)===h}).join(`
`)}function et(l,u,f,h){this.failures=u,this.failedKeys=h,this.successCount=f,this.message=qe(l,u)}function vt(l,u){this.name="BulkError",this.failures=Object.keys(u).map(function(f){return u[f]}),this.failuresByPos=u,this.message=qe(l,this.failures)}ue(ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ue(et).from(ce),ue(vt).from(ce);var Ft=Et.reduce(function(l,u){return l[u]=u+"Error",l},{}),dn=ce,je=Et.reduce(function(l,u){var f=u+"Error";function h(y,b){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(b?`
 `+b:""),this.inner=b||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=W[u]||f,this.inner=null)}return ue(h).from(dn),l[u]=h,l},{}),ft=(je.Syntax=SyntaxError,je.Type=TypeError,je.Range=RangeError,O.reduce(function(l,u){return l[u+"Error"]=je[u],l},{}));O=Et.reduce(function(l,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(l[u+"Error"]=je[u]),l},{});function Fe(){}function dt(l){return l}function Zt(l,u){return l==null||l===dt?u:function(f){return u(l(f))}}function Ot(l,u){return function(){l.apply(this,arguments),u.apply(this,arguments)}}function Yn(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments),h=(f!==void 0&&(arguments[0]=f),this.onsuccess),y=this.onerror,b=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return h&&(this.onsuccess=this.onsuccess?Ot(h,this.onsuccess):h),y&&(this.onerror=this.onerror?Ot(y,this.onerror):y),b!==void 0?b:f}}function ta(l,u){return l===Fe?u:function(){l.apply(this,arguments);var f=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ot(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Ot(h,this.onerror):h)}}function me(l,u){return l===Fe?u:function(y){var h=l.apply(this,arguments),y=(U(y,h),this.onsuccess),b=this.onerror,j=(this.onsuccess=null,this.onerror=null,u.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Ot(y,this.onsuccess):y),b&&(this.onerror=this.onerror?Ot(b,this.onerror):b),h===void 0?j===void 0?void 0:j:U(h,j)}}function at(l,u){return l===Fe?u:function(){return u.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function ne(l,u){return l===Fe?u:function(){var f=l.apply(this,arguments);if(f&&typeof f.then=="function"){for(var h=this,y=arguments.length,b=new Array(y);y--;)b[y]=arguments[y];return f.then(function(){return u.apply(h,b)})}return u.apply(this,arguments)}}O.ModifyError=et,O.DexieError=ce,O.BulkError=vt;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(l){ke=l}var Ze={},st=100,bt=typeof Promise>"u"?[]:(Et=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[bt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),E(bt),Et]:[Et,E(Et),Et]),Et=bt[0],el=bt[1],el=el&&el.then,mn=Et&&Et.constructor,sn=!!bt[2],Dn=function(l,u){ga.push([l,u]),Ye&&(queueMicrotask(Wr),Ye=!1)},ze=!0,Ye=!0,wt=[],qt=[],Ct=dt,Ut={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},Oe=Ut,ga=[],Qa=0,Ls=[];function Te(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=Oe;if(typeof l!="function"){if(l!==Ze)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ba(this,this._value)}else this._state=null,this._value=null,++u.ref,(function f(h,y){try{y(function(b){if(h._state===null){if(b===h)throw new TypeError("A promise cannot be resolved with itself.");var j=h._lib&&Ea();b&&typeof b.then=="function"?f(h,function(N,D){b instanceof Te?b._then(N,D):b.then(N,D)}):(h._state=!0,h._value=b,rs(h)),j&&na()}},ba.bind(null,h))}catch(b){ba(h,b)}})(this,l)}var vl={get:function(){var l=Oe,u=cs;function f(h,y){var b=this,j=!l.global&&(l!==Oe||u!==cs),N=j&&!Tn(),D=new Te(function(K,T){Ya(b,new is(Ks(h,l,j,N),Ks(y,l,j,N),K,T,l))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return f.prototype=Ze,f},set:function(l){$(this,"then",l&&l.prototype===Ze?vl:{get:function(){return l},set:vl.set})}};function is(l,u,f,h,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof u=="function"?u:null,this.resolve=f,this.reject=h,this.psd=y}function ba(l,u){var f,h;qt.push(u),l._state===null&&(f=l._lib&&Ea(),u=Ct(u),l._state=!1,l._value=u,h=l,wt.some(function(y){return y._value===h._value})||wt.push(h),rs(l),f)&&na()}function rs(l){var u=l._listeners;l._listeners=[];for(var f=0,h=u.length;f<h;++f)Ya(l,u[f]);var y=l._PSD;--y.ref||y.finalize(),Qa===0&&(++Qa,Dn(function(){--Qa==0&&Li()},[]))}function Ya(l,u){if(l._state===null)l._listeners.push(u);else{var f=l._state?u.onFulfilled:u.onRejected;if(f===null)return(l._state?u.resolve:u.reject)(l._value);++u.psd.ref,++Qa,Dn(Mo,[f,l,u])}}function Mo(l,u,f){try{var h,y=u._value;!u._state&&qt.length&&(qt=[]),h=ke&&u._consoleTask?u._consoleTask.run(function(){return l(y)}):l(y),u._state||qt.indexOf(y)!==-1||(b=>{for(var j=wt.length;j;)if(wt[--j]._value===b._value)return wt.splice(j,1)})(u),f.resolve(h)}catch(b){f.reject(b)}finally{--Qa==0&&Li(),--f.psd.ref||f.psd.finalize()}}function Wr(){Xn(Ut,function(){Ea()&&na()})}function Ea(){var l=ze;return Ye=ze=!1,l}function na(){var l,u,f;do for(;0<ga.length;)for(l=ga,ga=[],f=l.length,u=0;u<f;++u){var h=l[u];h[0].apply(null,h[1])}while(0<ga.length);Ye=ze=!0}function Li(){for(var l=wt,u=(wt=[],l.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)}),Ls.slice(0)),f=u.length;f;)u[--f]()}function us(l){return new Te(Ze,!1,l)}function Ht(l,u){var f=Oe;return function(){var h=Ea(),y=Oe;try{return Aa(f,!0),l.apply(this,arguments)}catch(b){u&&u(b)}finally{Aa(y,!1),h&&na()}}}F(Te.prototype,{then:vl,_then:function(l,u){Ya(this,new is(null,null,l,u,Oe))},catch:function(l){var u,f;return arguments.length===1?this.then(null,l):(u=l,f=arguments[1],typeof u=="function"?this.then(null,function(h){return(h instanceof u?f:us)(h)}):this.then(null,function(h){return(h&&h.name===u?f:us)(h)}))},finally:function(l){return this.then(function(u){return Te.resolve(l()).then(function(){return u})},function(u){return Te.resolve(l()).then(function(){return us(u)})})},timeout:function(l,u){var f=this;return l<1/0?new Te(function(h,y){var b=setTimeout(function(){return y(new je.Timeout(u))},l);f.then(h,y).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),Ut.env=Qi(),F(Te,{all:function(){var l=Ne.apply(null,arguments).map(jl);return new Te(function(u,f){l.length===0&&u([]);var h=l.length;l.forEach(function(y,b){return Te.resolve(y).then(function(j){l[b]=j,--h||u(l)},f)})})},resolve:function(l){return l instanceof Te?l:l&&typeof l.then=="function"?new Te(function(u,f){l.then(u,f)}):new Te(Ze,!0,l)},reject:us,race:function(){var l=Ne.apply(null,arguments).map(jl);return new Te(function(u,f){l.map(function(h){return Te.resolve(h).then(u,f)})})},PSD:{get:function(){return Oe},set:function(l){return Oe=l}},totalEchoes:{get:function(){return cs}},newPSD:Kt,usePSD:Xn,scheduler:{get:function(){return Dn},set:function(l){Dn=l}},rejectionMapper:{get:function(){return Ct},set:function(l){Ct=l}},follow:function(l,u){return new Te(function(f,h){return Kt(function(y,b){var j=Oe;j.unhandleds=[],j.onunhandled=b,j.finalize=Ot(function(){var N,D=this;N=function(){D.unhandleds.length===0?y():b(D.unhandleds[0])},Ls.push(function K(){N(),Ls.splice(Ls.indexOf(K),1)}),++Qa,Dn(function(){--Qa==0&&Li()},[])},j.finalize),l()},u,f,h)})}}),mn&&(mn.allSettled&&$(Te,"allSettled",function(){var l=Ne.apply(null,arguments).map(jl);return new Te(function(u){l.length===0&&u([]);var f=l.length,h=new Array(f);l.forEach(function(y,b){return Te.resolve(y).then(function(j){return h[b]={status:"fulfilled",value:j}},function(j){return h[b]={status:"rejected",reason:j}}).then(function(){return--f||u(h)})})})}),mn.any&&typeof AggregateError<"u"&&$(Te,"any",function(){var l=Ne.apply(null,arguments).map(jl);return new Te(function(u,f){l.length===0&&f(new AggregateError([]));var h=l.length,y=new Array(h);l.forEach(function(b,j){return Te.resolve(b).then(function(N){return u(N)},function(N){y[j]=N,--h||f(new AggregateError(y))})})})}),mn.withResolvers)&&(Te.withResolvers=mn.withResolvers);var Wt={awaits:0,echoes:0,id:0},Ki=0,Sl=[],os=0,cs=0,Ca=0;function Kt(l,j,f,h){var y=Oe,b=Object.create(y),j=(b.parent=y,b.ref=0,b.global=!1,b.id=++Ca,Ut.env,b.env=sn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},j&&U(b,j),++y.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},Xn(b,l,f,h));return b.ref===0&&b.finalize(),j}function It(){return Wt.id||(Wt.id=++Ki),++Wt.awaits,Wt.echoes+=st,Wt.id}function Tn(){return!!Wt.awaits&&(--Wt.awaits==0&&(Wt.id=0),Wt.echoes=Wt.awaits*st,!0)}function jl(l){return Wt.echoes&&l&&l.constructor===mn?(It(),l.then(function(u){return Tn(),u},function(u){return Tn(),Mt(u)})):l}function zo(){var l=Sl[Sl.length-1];Sl.pop(),Aa(l,!1)}function Aa(l,u){var f,h,y=Oe;(u?!Wt.echoes||os++&&l===Oe:!os||--os&&l===Oe)||queueMicrotask(u?(function(b){++cs,Wt.echoes&&--Wt.echoes!=0||(Wt.echoes=Wt.awaits=Wt.id=0),Sl.push(Oe),Aa(b,!0)}).bind(null,l):zo),l!==Oe&&(Oe=l,y===Ut&&(Ut.env=Qi()),sn)&&(f=Ut.env.Promise,h=l.env,y.global||l.global)&&(Object.defineProperty(v,"Promise",h.PromiseProp),f.all=h.all,f.race=h.race,f.resolve=h.resolve,f.reject=h.reject,h.allSettled&&(f.allSettled=h.allSettled),h.any)&&(f.any=h.any)}function Qi(){var l=v.Promise;return sn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Xn(l,u,f,h,y){var b=Oe;try{return Aa(l,!0),u(f,h,y)}finally{Aa(b,!1)}}function Ks(l,u,f,h){return typeof l!="function"?l:function(){var y=Oe;f&&It(),Aa(u,!0);try{return l.apply(this,arguments)}finally{Aa(y,!1),h&&queueMicrotask(Tn)}}}function Oa(l){Promise===mn&&Wt.echoes===0?os===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+el).indexOf("[native code]")===-1&&(It=Tn=Fe);var Mt=Te.reject,Gn="",Nn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Xa=[],fs="__dbnames",xa="readonly",Da="readwrite";function Ga(l,u){return l?u?function(){return l.apply(this,arguments)&&u.apply(this,arguments)}:l:u}var Yi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ds(l){return typeof l!="string"||/\./.test(l)?function(u){return u}:function(u){return u[l]===void 0&&l in u&&delete(u=gt(u))[l],u}}function Ir(){throw je.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function rt(l,u){try{var f=hs(l),h=hs(u);if(f!==h)return f==="Array"?1:h==="Array"?-1:f==="binary"?1:h==="binary"?-1:f==="string"?1:h==="string"?-1:f==="Date"?1:h!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return u<l?1:l<u?-1:0;case"binary":for(var y=aa(l),b=aa(u),j=y.length,N=b.length,D=j<N?j:N,K=0;K<D;++K)if(y[K]!==b[K])return y[K]<b[K]?-1:1;return j===N?0:j<N?-1:1;case"Array":for(var T=l,A=u,k=T.length,q=A.length,M=k<q?k:q,z=0;z<M;++z){var Y=rt(T[z],A[z]);if(Y!==0)return Y}return k===q?0:k<q?-1:1}}catch{}return NaN}function hs(l){var u=typeof l;return u=="object"&&(ArrayBuffer.isView(l)||(u=Qe(l))==="ArrayBuffer")?"binary":u}function aa(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function xn(l,u,f){var h=l.schema.yProps;return h?(u&&0<f.numFailures&&(u=u.filter(function(y,b){return!f.failures[b]})),Promise.all(h.map(function(y){return y=y.updatesTable,u?l.db.table(y).where("k").anyOf(u).delete():l.db.table(y).clear()})).then(function(){return f})):f}eu.prototype.execute=function(l){var u=this["@@propmod"];if(u.add!==void 0){var f=u.add;if(w(f))return g(g([],w(l)?l:[],!0),f).sort();if(typeof f=="number")return(Number(l)||0)+f;if(typeof f=="bigint")try{return BigInt(l)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(u.remove!==void 0){var h=u.remove;if(w(h))return w(l)?l.filter(function(y){return!h.includes(y)}).sort():[];if(typeof h=="number")return Number(l)-h;if(typeof h=="bigint")try{return BigInt(l)-h}catch{return BigInt(0)-h}throw new TypeError("Invalid subtrahend ".concat(h))}return f=(f=u.replacePrefix)==null?void 0:f[0],f&&typeof l=="string"&&l.startsWith(f)?u.replacePrefix[1]+l.substring(f.length):l};var wl=eu;function eu(l){this["@@propmod"]=l}function Qs(l,u){for(var f=S(u),h=f.length,y=!1,b=0;b<h;++b){var j=f[b],N=u[j],D=Se(l,j);N instanceof wl?(ge(l,j,N.execute(D)),y=!0):D!==N&&(ge(l,j,N),y=!0)}return y}Nt.prototype._trans=function(l,u,f){var h=this._tx||Oe.trans,y=this.name,b=ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(K,T,A){if(A.schema[y])return u(A.idbtrans,A);throw new je.NotFound("Table "+y+" not part of transaction")}var N=Ea();try{var D=h&&h.db._novip===this.db._novip?h===Oe.trans?h._promise(l,j,f):Kt(function(){return h._promise(l,j,f)},{trans:h,transless:Oe.transless||Oe}):(function K(T,A,k,q){if(T.idbdb&&(T._state.openComplete||Oe.letThrough||T._vip)){var M=T._createTransaction(A,k,T._dbSchema);try{M.create(),T._state.PR1398_maxLoop=3}catch(z){return z.name===Ft.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,A,k,q)})):Mt(z)}return M._promise(A,function(z,Y){return Kt(function(){return Oe.trans=M,q(z,Y,M)})}).then(function(z){if(A==="readwrite")try{M.idbtrans.commit()}catch{}return A==="readonly"?z:M._completion.then(function(){return z})})}if(T._state.openComplete)return Mt(new je.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return Mt(new je.DatabaseClosed);T.open().catch(Fe)}return T._state.dbReadyPromise.then(function(){return K(T,A,k,q)})})(this.db,l,[this.name],j);return b&&(D._consoleTask=b,D=D.catch(function(K){return console.trace(K),Mt(K)})),D}finally{N&&na()}},Nt.prototype.get=function(l,u){var f=this;return l&&l.constructor===Object?this.where(l).first(u):l==null?Mt(new je.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return f.core.get({trans:h,key:l}).then(function(y){return f.hook.reading.fire(y)})}).then(u)},Nt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(w(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var u=S(l);if(u.length===1)return this.where(u[0]).equals(l[u[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(K){return 0<=N.keyPath.indexOf(K)})){for(var D=0;D<u.length;++D)if(u.indexOf(N.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(N,D){return N.keyPath.length-D.keyPath.length})[0];if(f&&this.db._maxKey!==Gn)return j=f.keyPath.slice(0,u.length),this.where(j).equals(j.map(function(N){return l[N]}));!f&&ke&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var h=this.schema.idxByName;function y(N,D){return rt(N,D)===0}var j=u.reduce(function(T,D){var K=T[0],T=T[1],A=h[D],k=l[D];return[K||A,K||!A?Ga(T,A&&A.multi?function(q){return q=Se(q,D),w(q)&&q.some(function(M){return y(k,M)})}:function(q){return y(k,Se(q,D))}):T]},[null,null]),b=j[0],j=j[1];return b?this.where(b.name).equals(l[b.keyPath]).filter(j):f?this.filter(j):this.where(u).equals("")},Nt.prototype.filter=function(l){return this.toCollection().and(l)},Nt.prototype.count=function(l){return this.toCollection().count(l)},Nt.prototype.offset=function(l){return this.toCollection().offset(l)},Nt.prototype.limit=function(l){return this.toCollection().limit(l)},Nt.prototype.each=function(l){return this.toCollection().each(l)},Nt.prototype.toArray=function(l){return this.toCollection().toArray(l)},Nt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Nt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,w(l)?"[".concat(l.join("+"),"]"):l))},Nt.prototype.reverse=function(){return this.toCollection().reverse()},Nt.prototype.mapToClass=function(l){for(var u=this.db,f=this.name,h=((this.schema.mappedClass=l).prototype instanceof Ir&&(l=(j=>{var N=T,D=j;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function K(){this.constructor=N}function T(){return j!==null&&j.apply(this,arguments)||this}return m(N,D),N.prototype=D===null?Object.create(D):(K.prototype=D.prototype,new K),Object.defineProperty(T.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),T.prototype.table=function(){return f},T})(l)),new Set),y=l.prototype;y;y=E(y))Object.getOwnPropertyNames(y).forEach(function(j){return h.add(j)});function b(j){if(!j)return j;var N,D=Object.create(l.prototype);for(N in j)if(!h.has(N))try{D[N]=j[N]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),l},Nt.prototype.defineClass=function(){return this.mapToClass(function(l){U(this,l)})},Nt.prototype.add=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=ds(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"add",keys:u!=null?[u]:null,values:[j]})}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{ge(l,b,N)}catch{}return N})},Nt.prototype.upsert=function(l,u){var f=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(y){return f.core.get({trans:y,key:l}).then(function(b){var j=b??{};return Qs(j,u),h&&ge(j,h,l),f.core.mutate({trans:y,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[u]}}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):!!b})})})},Nt.prototype.update=function(l,u){return typeof l!="object"||w(l)?this.where(":id").equals(l).modify(u):(l=Se(l,this.schema.primKey.keyPath))===void 0?Mt(new je.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(u)},Nt.prototype.put=function(l,u){var f=this,h=this.schema.primKey,y=h.auto,b=h.keyPath,j=l;return b&&y&&(j=ds(b)(l)),this._trans("readwrite",function(N){return f.core.mutate({trans:N,type:"put",values:[j],keys:u!=null?[u]:null})}).then(function(N){return N.numFailures?Te.reject(N.failures[0]):N.lastResult}).then(function(N){if(b)try{ge(l,b,N)}catch{}return N})},Nt.prototype.delete=function(l){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"delete",keys:[l]}).then(function(h){return xn(u,[l],h)}).then(function(h){return h.numFailures?Te.reject(h.failures[0]):void 0})})},Nt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(u){return l.core.mutate({trans:u,type:"deleteRange",range:Yi}).then(function(f){return xn(l,null,f)})}).then(function(u){return u.numFailures?Te.reject(u.failures[0]):void 0})},Nt.prototype.bulkGet=function(l){var u=this;return this._trans("readonly",function(f){return u.core.getMany({keys:l,trans:f}).then(function(h){return h.map(function(y){return u.hook.reading.fire(y)})})})},Nt.prototype.bulkAdd=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=N&&K?l.map(ds(N)):l;return h.core.mutate({trans:j,type:"add",keys:y,values:K,wantResults:b}).then(function(T){var A=T.numFailures,k=T.failures;if(A===0)return b?T.results:T.lastResult;throw new vt("".concat(h.name,".bulkAdd(): ").concat(A," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkPut=function(l,u,f){var h=this,y=Array.isArray(u)?u:void 0,b=(f=f||(y?void 0:u))?f.allKeys:void 0;return this._trans("readwrite",function(j){var N=h.schema.primKey,K=N.auto,N=N.keyPath;if(N&&y)throw new je.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new je.InvalidArgument("Arguments objects and keys must have the same length");var D=l.length,K=N&&K?l.map(ds(N)):l;return h.core.mutate({trans:j,type:"put",keys:y,values:K,wantResults:b}).then(function(T){var A=T.numFailures,k=T.failures;if(A===0)return b?T.results:T.lastResult;throw new vt("".concat(h.name,".bulkPut(): ").concat(A," of ").concat(D," operations failed"),k)})})},Nt.prototype.bulkUpdate=function(l){var u=this,f=this.core,h=l.map(function(j){return j.key}),y=l.map(function(j){return j.changes}),b=[];return this._trans("readwrite",function(j){return f.getMany({trans:j,keys:h,cache:"clone"}).then(function(N){var D=[],K=[],T=(l.forEach(function(A,k){var q=A.key,M=A.changes,z=N[k];if(z){for(var Y=0,J=Object.keys(M);Y<J.length;Y++){var Q=J[Y],ae=M[Q];if(Q===u.schema.primKey.keyPath){if(rt(ae,q)!==0)throw new je.Constraint("Cannot update primary key in bulkUpdate()")}else ge(z,Q,ae)}b.push(k),D.push(q),K.push(z)}}),D.length);return f.mutate({trans:j,type:"put",keys:D,values:K,updates:{keys:h,changeSpecs:y}}).then(function(A){var k=A.numFailures,q=A.failures;if(k===0)return T;for(var M=0,z=Object.keys(q);M<z.length;M++){var Y,J=z[M],Q=b[Number(J)];Q!=null&&(Y=q[J],delete q[J],q[Q]=Y)}throw new vt("".concat(u.name,".bulkUpdate(): ").concat(k," of ").concat(T," operations failed"),q)})})})},Nt.prototype.bulkDelete=function(l){var u=this,f=l.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:l}).then(function(y){return xn(u,l,y)})}).then(function(h){var y=h.numFailures,b=h.failures;if(y===0)return h.lastResult;throw new vt("".concat(u.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),b)})};var Xi=Nt;function Nt(){}function ms(l){function u(j,N){if(N){for(var D=arguments.length,K=new Array(D-1);--D;)K[D-1]=arguments[D];return f[j].subscribe.apply(null,K),l}if(typeof j=="string")return f[j]}var f={};u.addEventType=b;for(var h=1,y=arguments.length;h<y;++h)b(arguments[h]);return u;function b(j,N,D){var K,T;if(typeof j!="object")return N=N||at,T={subscribers:[],fire:D=D||Fe,subscribe:function(A){T.subscribers.indexOf(A)===-1&&(T.subscribers.push(A),T.fire=N(T.fire,A))},unsubscribe:function(A){T.subscribers=T.subscribers.filter(function(k){return k!==A}),T.fire=T.subscribers.reduce(N,D)}},f[j]=u[j]=T;S(K=j).forEach(function(A){var k=K[A];if(w(k))b(A,K[A][0],K[A][1]);else{if(k!=="asap")throw new je.InvalidArgument("Invalid event config");var q=b(A,dt,function(){for(var M=arguments.length,z=new Array(M);M--;)z[M]=arguments[M];q.subscribers.forEach(function(Y){ve(function(){Y.apply(null,z)})})})}})}}function pn(l,u){return ue(u).from({prototype:l}),u}function Ta(l,u){return!(l.filter||l.algorithm||l.or)&&(u?l.justLimit:!l.replayFilter)}function Ys(l,u){l.filter=Ga(l.filter,u)}function ps(l,u,f){var h=l.replayFilter;l.replayFilter=h?function(){return Ga(h(),u())}:u,l.justLimit=f&&!h}function va(l,u){if(l.isPrimKey)return u.primaryKey;var f=u.getIndexByKeyPath(l.index);if(f)return f;throw new je.Schema("KeyPath "+l.index+" on object store "+u.name+" is not indexed")}function Gi(l,u,f){var h=va(l,u.schema);return u.openCursor({trans:f,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:h,range:l.range}})}function ys(l,u,f,h){var y,b,j=l.replayFilter?Ga(l.filter,l.replayFilter()):l.filter;return l.or?(y={},b=function(N,D,K){var T,A;j&&!j(D,K,function(k){return D.stop(k)},function(k){return D.fail(k)})||((A=""+(T=D.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(T)),C(y,A))||(y[A]=!0,u(N,D,K))},Promise.all([l.or._iterate(b,f),Va(Gi(l,h,f),l.algorithm,b,!l.keysOnly&&l.valueMapper)])):Va(Gi(l,h,f),Ga(l.algorithm,j),u,!l.keysOnly&&l.valueMapper)}function Va(l,u,f,h){var y=Ht(h?function(b,j,N){return f(h(b),j,N)}:f);return l.then(function(b){if(b)return b.start(function(){var j=function(){return b.continue()};u&&!u(b,function(N){return j=N},function(N){b.stop(N),j=Fe},function(N){b.fail(N),j=Fe})||y(b.value,b,function(N){return j=N}),j()})})}pt.prototype._read=function(l,u){var f=this._ctx;return f.error?f.table._trans(null,Mt.bind(null,f.error)):f.table._trans("readonly",l).then(u)},pt.prototype._write=function(l){var u=this._ctx;return u.error?u.table._trans(null,Mt.bind(null,u.error)):u.table._trans("readwrite",l,"locked")},pt.prototype._addAlgorithm=function(l){var u=this._ctx;u.algorithm=Ga(u.algorithm,l)},pt.prototype._iterate=function(l,u){return ys(this._ctx,l,u,this._ctx.table.core)},pt.prototype.clone=function(l){var u=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return l&&U(f,l),u._ctx=f,u},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(l){var u=this._ctx;return this._read(function(f){return ys(u,l,f,u.table.core)})},pt.prototype.count=function(l){var u=this;return this._read(function(f){var h,y=u._ctx,b=y.table.core;return Ta(y,!0)?b.count({trans:f,query:{index:va(y,b.schema),range:y.range}}).then(function(j){return Math.min(j,y.limit)}):(h=0,ys(y,function(){return++h,!1},f,b).then(function(){return h}))}).then(l)},pt.prototype.sortBy=function(l,u){var f=l.split(".").reverse(),h=f[0],y=f.length-1;function b(D,K){return K?b(D[f[K]],K-1):D[h]}var j=this._ctx.dir==="next"?1:-1;function N(D,K){return rt(b(D,y),b(K,y))*j}return this.toArray(function(D){return D.sort(N)}).then(u)},pt.prototype.toArray=function(l){var u=this;return this._read(function(f){var h,y,b,j=u._ctx;return j.dir==="next"&&Ta(j,!0)&&0<j.limit?(h=j.valueMapper,y=va(j,j.table.core.schema),j.table.core.query({trans:f,limit:j.limit,values:!0,query:{index:y,range:j.range}}).then(function(N){return N=N.result,h?N.map(h):N})):(b=[],ys(j,function(N){return b.push(N)},f,j.table.core).then(function(){return b}))},l)},pt.prototype.offset=function(l){var u=this._ctx;return l<=0||(u.offset+=l,Ta(u)?ps(u,function(){var f=l;return function(h,y){return f===0||(f===1?--f:y(function(){h.advance(f),f=0}),!1)}}):ps(u,function(){var f=l;return function(){return--f<0}})),this},pt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ps(this._ctx,function(){var u=l;return function(f,h,y){return--u<=0&&h(y),0<=u}},!0),this},pt.prototype.until=function(l,u){return Ys(this._ctx,function(f,h,y){return!l(f.value)||(h(y),u)}),this},pt.prototype.first=function(l){return this.limit(1).toArray(function(u){return u[0]}).then(l)},pt.prototype.last=function(l){return this.reverse().first(l)},pt.prototype.filter=function(l){var u;return Ys(this._ctx,function(f){return l(f.value)}),(u=this._ctx).isMatch=Ga(u.isMatch,l),this},pt.prototype.and=function(l){return this.filter(l)},pt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.key,h)})},pt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},pt.prototype.eachPrimaryKey=function(l){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(f,h){l(h.primaryKey,h)})},pt.prototype.keys=function(l){var u=this._ctx,f=(u.keysOnly=!u.isMatch,[]);return this.each(function(h,y){f.push(y.key)}).then(function(){return f}).then(l)},pt.prototype.primaryKeys=function(l){var u=this._ctx;if(u.dir==="next"&&Ta(u,!0)&&0<u.limit)return this._read(function(h){var y=va(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:y,range:u.range}})}).then(function(h){return h.result}).then(l);u.keysOnly=!u.isMatch;var f=[];return this.each(function(h,y){f.push(y.primaryKey)}).then(function(){return f}).then(l)},pt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},pt.prototype.firstKey=function(l){return this.limit(1).keys(function(u){return u[0]}).then(l)},pt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},pt.prototype.distinct=function(){var l,u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];return u&&u.multi&&(l={},Ys(this._ctx,function(h){var h=h.primaryKey.toString(),y=C(l,h);return l[h]=!0,!y})),this},pt.prototype.modify=function(l){var u=this,f=this._ctx;return this._write(function(h){function y(z,Y){var J=Y.failures;k+=z-Y.numFailures;for(var Q=0,ae=S(J);Q<ae.length;Q++){var fe=ae[Q];A.push(J[fe])}}var b=typeof l=="function"?l:function(z){return Qs(z,l)},j=f.table.core,T=j.schema.primaryKey,N=T.outbound,D=T.extractKey,K=200,T=u.db._options.modifyChunkSize,A=(T&&(K=typeof T=="object"?T[j.name]||T["*"]||200:T),[]),k=0,q=[],M=l===Vi;return u.clone().primaryKeys().then(function(z){function Y(Q){var ae=Math.min(K,z.length-Q),fe=z.slice(Q,Q+ae);return(M?Promise.resolve([]):j.getMany({trans:h,keys:fe,cache:"immutable"})).then(function(Ee){var Ce=[],de=[],Re=N?[]:null,Me=M?fe:[];if(!M)for(var he=0;he<ae;++he){var Be=Ee[he],We={value:gt(Be),primKey:z[Q+he]};b.call(We,We.value,We)!==!1&&(We.value==null?Me.push(z[Q+he]):N||rt(D(Be),D(We.value))===0?(de.push(We.value),N&&Re.push(z[Q+he])):(Me.push(z[Q+he]),Ce.push(We.value)))}return Promise.resolve(0<Ce.length&&j.mutate({trans:h,type:"add",values:Ce}).then(function(ut){for(var Xe in ut.failures)Me.splice(parseInt(Xe),1);y(Ce.length,ut)})).then(function(){return(0<de.length||J&&typeof l=="object")&&j.mutate({trans:h,type:"put",keys:Re,values:de,criteria:J,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Q}).then(function(ut){return y(de.length,ut)})}).then(function(){return(0<Me.length||J&&M)&&j.mutate({trans:h,type:"delete",keys:Me,criteria:J,isAdditionalChunk:0<Q}).then(function(ut){return xn(f.table,Me,ut)}).then(function(ut){return y(Me.length,ut)})}).then(function(){return z.length>Q+ae&&Y(Q+K)})})}var J=Ta(f)&&f.limit===1/0&&(typeof l!="function"||M)&&{index:f.index,range:f.range};return Y(0).then(function(){if(0<A.length)throw new et("Error modifying one or more objects",A,k,q);return z.length})})})},pt.prototype.delete=function(){var l=this._ctx,u=l.range;return!Ta(l)||l.table.schema.yProps||!l.isPrimKey&&u.type!==3?this.modify(Vi):this._write(function(f){var h=l.table.core.schema.primaryKey,y=u;return l.table.core.count({trans:f,query:{index:h,range:y}}).then(function(b){return l.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(D){var N=D.failures,D=D.numFailures;if(D)throw new et("Could not delete some values",Object.keys(N).map(function(K){return N[K]}),b-D);return b-D})})})};var ko=pt;function pt(){}var Vi=function(l,u){return u.value=null};function Fi(l,u){return l<u?-1:l===u?0:1}function Ro(l,u){return u<l?-1:l===u?0:1}function Mn(l,u,f){return l=l instanceof Fa?new l.Collection(l):l,l._ctx.error=new(f||TypeError)(u),l}function Sa(l){return new l.Collection(l,function(){return Xs("")}).limit(0)}function Rn(q,u,f,h){var y,b,j,N,D,K,T,A=f.length;if(!f.every(function(z){return typeof z=="string"}))return Mn(q,en);function k(z){y=z==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},b=z==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},j=z==="next"?Fi:Ro;var Y=f.map(function(J){return{lower:b(J),upper:y(J)}}).sort(function(J,Q){return j(J.lower,Q.lower)});N=Y.map(function(J){return J.upper}),D=Y.map(function(J){return J.lower}),T=(K=z)==="next"?"":h}k("next");var q=new q.Collection(q,function(){return la(N[0],D[A-1]+h)}),M=(q._ondirectionchange=function(z){k(z)},0);return q._addAlgorithm(function(z,Y,J){var Q=z.key;if(typeof Q=="string"){var ae=b(Q);if(u(ae,D,M))return!0;for(var fe=null,Ee=M;Ee<A;++Ee){var Ce=((de,Re,Me,he,Be,We)=>{for(var ut=Math.min(de.length,he.length),Xe=-1,nt=0;nt<ut;++nt){var zt=Re[nt];if(zt!==he[nt])return Be(de[nt],Me[nt])<0?de.substr(0,nt)+Me[nt]+Me.substr(nt+1):Be(de[nt],he[nt])<0?de.substr(0,nt)+he[nt]+Me.substr(nt+1):0<=Xe?de.substr(0,Xe)+Re[Xe]+Me.substr(Xe+1):null;Be(de[nt],zt)<0&&(Xe=nt)}return ut<he.length&&We==="next"?de+Me.substr(de.length):ut<de.length&&We==="prev"?de.substr(0,Me.length):Xe<0?null:de.substr(0,Xe)+he[Xe]+Me.substr(Xe+1)})(Q,ae,N[Ee],D[Ee],j,K);Ce===null&&fe===null?M=Ee+1:(fe===null||0<j(fe,Ce))&&(fe=Ce)}Y(fe!==null?function(){z.continue(fe+T)}:J)}return!1}),q}function la(l,u,f,h){return{type:2,lower:l,upper:u,lowerOpen:f,upperOpen:h}}function Xs(l){return{type:1,lower:l,upper:l}}Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(l,u,f,h){f=f!==!1,h=h===!0;try{return 0<this._cmp(l,u)||this._cmp(l,u)===0&&(f||h)&&(!f||!h)?Sa(this):new this.Collection(this,function(){return la(l,u,!f,!h)})}catch{return Mn(this,Nn)}},Yt.prototype.equals=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return Xs(l)})},Yt.prototype.above=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(l,void 0,!0)})},Yt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(l,void 0,!1)})},Yt.prototype.below=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(void 0,l,!1,!0)})},Yt.prototype.belowOrEqual=function(l){return l==null?Mn(this,Nn):new this.Collection(this,function(){return la(void 0,l)})},Yt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,en):this.between(l,l+Gn,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Rn(this,function(u,f){return u.indexOf(f[0])===0},[l],Gn)},Yt.prototype.equalsIgnoreCase=function(l){return Rn(this,function(u,f){return u===f[0]},[l],"")},Yt.prototype.anyOfIgnoreCase=function(){var l=Ne.apply(we,arguments);return l.length===0?Sa(this):Rn(this,function(u,f){return f.indexOf(u)!==-1},l,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Ne.apply(we,arguments);return l.length===0?Sa(this):Rn(this,function(u,f){return f.some(function(h){return u.indexOf(h)===0})},l,Gn)},Yt.prototype.anyOf=function(){var l,u,f=this,h=Ne.apply(we,arguments),y=this._cmp;try{h.sort(y)}catch{return Mn(this,Nn)}return h.length===0?Sa(this):((l=new this.Collection(this,function(){return la(h[0],h[h.length-1])}))._ondirectionchange=function(b){y=b==="next"?f._ascending:f._descending,h.sort(y)},u=0,l._addAlgorithm(function(b,j,N){for(var D=b.key;0<y(D,h[u]);)if(++u===h.length)return j(N),!1;return y(D,h[u])===0||(j(function(){b.continue(h[u])}),!1)}),l)},Yt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var l=Ne.apply(we,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,Nn)}var u=l.reduce(function(f,h){return f?f.concat([[f[f.length-1][1],h]]):[[-1/0,h]]},null);return u.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(l,J){var f=this,h=this._cmp,y=this._ascending,b=this._descending,j=this._min,N=this._max;if(l.length===0)return Sa(this);if(!l.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&y(Q[0],Q[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",je.InvalidArgument);var D=!J||J.includeLowers!==!1,K=J&&J.includeUppers===!0,T,A=y;function k(Q,ae){return A(Q[0],ae[0])}try{(T=l.reduce(function(Q,ae){for(var fe=0,Ee=Q.length;fe<Ee;++fe){var Ce=Q[fe];if(h(ae[0],Ce[1])<0&&0<h(ae[1],Ce[0])){Ce[0]=j(Ce[0],ae[0]),Ce[1]=N(Ce[1],ae[1]);break}}return fe===Ee&&Q.push(ae),Q},[])).sort(k)}catch{return Mn(this,Nn)}var q=0,M=K?function(Q){return 0<y(Q,T[q][1])}:function(Q){return 0<=y(Q,T[q][1])},z=D?function(Q){return 0<b(Q,T[q][0])}:function(Q){return 0<=b(Q,T[q][0])},Y=M,J=new this.Collection(this,function(){return la(T[0][0],T[T.length-1][1],!D,!K)});return J._ondirectionchange=function(Q){A=Q==="next"?(Y=M,y):(Y=z,b),T.sort(k)},J._addAlgorithm(function(Q,ae,fe){for(var Ee,Ce=Q.key;Y(Ce);)if(++q===T.length)return ae(fe),!1;return!M(Ee=Ce)&&!z(Ee)||(f._cmp(Ce,T[q][1])===0||f._cmp(Ce,T[q][0])===0||ae(function(){A===y?Q.continue(T[q][0]):Q.continue(T[q][1])}),!1)}),J},Yt.prototype.startsWithAnyOf=function(){var l=Ne.apply(we,arguments);return l.every(function(u){return typeof u=="string"})?l.length===0?Sa(this):this.inAnyRange(l.map(function(u){return[u,u+Gn]})):Mn(this,"startsWithAnyOf() only works with strings")};var Fa=Yt;function Yt(){}function Vn(l){return Ht(function(u){return Za(u),l(u.target.error),!1})}function Za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Nl="storagemutated",$a="x-storagemutated-1",yn=ms(null,Nl),Zi=(_n.prototype._lock=function(){return se(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},_n.prototype._unlock=function(){if(se(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Xn(l[1],l[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},_n.prototype.create=function(l){var u=this;if(this.mode){var f=this.db.idbdb,h=this.db._state.dbOpenError;if(se(!this.idbtrans),!l&&!f)switch(h&&h.name){case"DatabaseClosedError":throw new je.DatabaseClosed(h);case"MissingAPIError":throw new je.MissingAPI(h.message,h);default:throw new je.OpenFailed(h)}if(!this.active)throw new je.TransactionInactive;se(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ht(function(y){Za(y),u._reject(l.error)}),l.onabort=Ht(function(y){Za(y),u.active&&u._reject(new je.Abort(l.error)),u.active=!1,u.on("abort").fire(y)}),l.oncomplete=Ht(function(){u.active=!1,u._resolve(),"mutatedParts"in l&&yn.storagemutated.fire(l.mutatedParts)})}return this},_n.prototype._promise=function(l,u,f){var h,y=this;return l==="readwrite"&&this.mode!=="readwrite"?Mt(new je.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Te(function(b,j){y._blockedFuncs.push([function(){y._promise(l,u,f).then(b,j)},Oe])}):f?Kt(function(){var b=new Te(function(j,N){y._lock();var D=u(j,N,y);D&&D.then&&D.then(j,N)});return b.finally(function(){return y._unlock()}),b._lib=!0,b}):((h=new Te(function(b,j){var N=u(b,j,y);N&&N.then&&N.then(b,j)}))._lib=!0,h):Mt(new je.TransactionInactive)},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(l){var u,f=this._root(),h=Te.resolve(l),y=(f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return h}):(f._waitingFor=h,f._waitingQueue=[],u=f.idbtrans.objectStore(f.storeNames[0]),(function b(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(u.get(-1/0).onsuccess=b)})()),f._waitingFor);return new Te(function(b,j){h.then(function(N){return f._waitingQueue.push(Ht(b.bind(null,N)))},function(N){return f._waitingQueue.push(Ht(j.bind(null,N)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new je.Abort))},_n.prototype.table=function(l){var u=this._memoizedTables||(this._memoizedTables={});if(C(u,l))return u[l];var f=this.schema[l];if(f)return(f=new this.db.Table(l,f,this)).core=this.db.core.table(l),u[l]=f;throw new je.NotFound("Table "+l+" not part of transaction")},_n);function _n(){}function sa(l,u,f,h,y,b,j,N){return{name:l,keyPath:u,unique:f,multi:h,auto:y,compound:b,src:(f&&!j?"&":"")+(h?"*":"")+(y?"++":"")+Gs(u),type:N}}function Gs(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function _l(l,u,f){return{name:l,primKey:u,indexes:f,mappedClass:null,idxByName:(h=function(y){return[y.name,y]},f.reduce(function(y,b,j){return b=h(b,j),b&&(y[b[0]]=b[1]),y},{}))};var h}var El=function(l){try{return l.only([[]]),El=function(){return[[]]},[[]]}catch{return El=function(){return Gn},Gn}};function Cl(l){return l==null?function(){}:typeof l=="string"?(u=l).split(".").length===1?function(f){return f[u]}:function(f){return Se(f,u)}:function(f){return Se(f,l)};var u}function gs(l){return[].slice.call(l)}var tu=0;function rn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Ja(l,u,D){function h(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var A=M.lower,k=M.upper,q=M.lowerOpen,M=M.upperOpen;return A===void 0?k===void 0?null:u.upperBound(k,!!M):k===void 0?u.lowerBound(A,!!q):u.bound(A,k,!!q,!!M)}function y(T){var A,k=T.name;return{name:k,schema:T,mutate:function(q){var M=q.trans,z=q.type,Y=q.keys,J=q.values,Q=q.range;return new Promise(function(ae,fe){ae=Ht(ae);var Ee=M.objectStore(k),Ce=Ee.keyPath==null,de=z==="put"||z==="add";if(!de&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var Re,Me=(Y||J||{length:1}).length;if(Y&&J&&Y.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(Me===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function he(At){++ut,Za(At)}var Be=[],We=[],ut=0;if(z==="deleteRange"){if(Q.type===4)return ae({numFailures:ut,failures:We,results:[],lastResult:void 0});Q.type===3?Be.push(Re=Ee.clear()):Be.push(Re=Ee.delete(h(Q)))}else{var Ce=de?Ce?[J,Y]:[J,null]:[Y,null],Xe=Ce[0],nt=Ce[1];if(de)for(var zt=0;zt<Me;++zt)Be.push(Re=nt&&nt[zt]!==void 0?Ee[z](Xe[zt],nt[zt]):Ee[z](Xe[zt])),Re.onerror=he;else for(zt=0;zt<Me;++zt)Be.push(Re=Ee[z](Xe[zt])),Re.onerror=he}function Cn(At){At=At.target.result,Be.forEach(function(Ra,zl){return Ra.error!=null&&(We[zl]=Ra.error)}),ae({numFailures:ut,failures:We,results:z==="delete"?Y:Be.map(function(Ra){return Ra.result}),lastResult:At})}Re.onerror=function(At){he(At),Cn(At)},Re.onsuccess=Cn})},getMany:function(q){var M=q.trans,z=q.keys;return new Promise(function(Y,J){Y=Ht(Y);for(var Q,ae=M.objectStore(k),fe=z.length,Ee=new Array(fe),Ce=0,de=0,Re=function(Be){Be=Be.target,Ee[Be._pos]=Be.result,++de===Ce&&Y(Ee)},Me=Vn(J),he=0;he<fe;++he)z[he]!=null&&((Q=ae.get(z[he]))._pos=he,Q.onsuccess=Re,Q.onerror=Me,++Ce);Ce===0&&Y(Ee)})},get:function(q){var M=q.trans,z=q.key;return new Promise(function(Y,J){Y=Ht(Y);var Q=M.objectStore(k).get(z);Q.onsuccess=function(ae){return Y(ae.target.result)},Q.onerror=Vn(J)})},query:(A=N,function(q){return new Promise(function(M,z){M=Ht(M);var Y,J,Q,de=q.trans,ae=q.values,fe=q.limit,Ce=q.query,Ee=fe===1/0?void 0:fe,Re=Ce.index,Ce=Ce.range,de=de.objectStore(k),de=Re.isPrimaryKey?de:de.index(Re.name),Re=h(Ce);if(fe===0)return M({result:[]});A?((Ce=ae?de.getAll(Re,Ee):de.getAllKeys(Re,Ee)).onsuccess=function(Me){return M({result:Me.target.result})},Ce.onerror=Vn(z)):(Y=0,J=!ae&&"openKeyCursor"in de?de.openKeyCursor(Re):de.openCursor(Re),Q=[],J.onsuccess=function(Me){var he=J.result;return!he||(Q.push(ae?he.value:he.primaryKey),++Y===fe)?M({result:Q}):void he.continue()},J.onerror=Vn(z))})}),openCursor:function(q){var M=q.trans,z=q.values,Y=q.query,J=q.reverse,Q=q.unique;return new Promise(function(ae,fe){ae=Ht(ae);var de=Y.index,Ee=Y.range,Ce=M.objectStore(k),Ce=de.isPrimaryKey?Ce:Ce.index(de.name),de=J?Q?"prevunique":"prev":Q?"nextunique":"next",Re=!z&&"openKeyCursor"in Ce?Ce.openKeyCursor(h(Ee),de):Ce.openCursor(h(Ee),de);Re.onerror=Vn(fe),Re.onsuccess=Ht(function(Me){var he,Be,We,ut,Xe=Re.result;Xe?(Xe.___id=++tu,Xe.done=!1,he=Xe.continue.bind(Xe),Be=(Be=Xe.continuePrimaryKey)&&Be.bind(Xe),We=Xe.advance.bind(Xe),ut=function(){throw new Error("Cursor not stopped")},Xe.trans=M,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=Ht(fe),Xe.next=function(){var nt=this,zt=1;return this.start(function(){return zt--?nt.continue():nt.stop()}).then(function(){return nt})},Xe.start=function(nt){function zt(){if(Re.result)try{nt()}catch(At){Xe.fail(At)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var Cn=new Promise(function(At,Ra){At=Ht(At),Re.onerror=Vn(Ra),Xe.fail=Ra,Xe.stop=function(zl){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=ut,At(zl)}});return Re.onsuccess=Ht(function(At){Re.onsuccess=zt,zt()}),Xe.continue=he,Xe.continuePrimaryKey=Be,Xe.advance=We,zt(),Cn},ae(Xe)):ae(null)},fe)})},count:function(q){var M=q.query,z=q.trans,Y=M.index,J=M.range;return new Promise(function(Q,ae){var fe=z.objectStore(k),fe=Y.isPrimaryKey?fe:fe.index(Y.name),Ee=h(J),Ee=Ee?fe.count(Ee):fe.count();Ee.onsuccess=Ht(function(Ce){return Q(Ce.target.result)}),Ee.onerror=Vn(ae)})}}}b=D,j=gs((D=l).objectStoreNames);var b,D={schema:{name:D.name,tables:j.map(function(T){return b.objectStore(T)}).map(function(T){var A=T.keyPath,k=T.autoIncrement,M=w(A),q={},M={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A==null,compound:M,keyPath:A,autoIncrement:k,unique:!0,extractKey:Cl(A)},indexes:gs(T.indexNames).map(function(z){return T.index(z)}).map(function(Q){var ae=Q.name,Y=Q.unique,J=Q.multiEntry,Q=Q.keyPath,ae={name:ae,compound:w(Q),keyPath:Q,unique:Y,multiEntry:J,extractKey:Cl(Q)};return q[rn(Q)]=ae}),getIndexByKeyPath:function(z){return q[rn(z)]}};return q[":id"]=M.primaryKey,A!=null&&(q[rn(A)]=M.primaryKey),M})},hasGetAll:0<j.length&&"getAll"in b.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},j=D.schema,N=D.hasGetAll,D=j.tables.map(y),K={};return D.forEach(function(T){return K[T.name]=T}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(T){if(K[T])return K[T];throw new Error("Table '".concat(T,"' not found"))},MIN_KEY:-1/0,MAX_KEY:El(u),schema:j}}function Vs(l,u,f,h){return f=f.IDBKeyRange,u=Ja(u,f,h),{dbcore:l.dbcore.reduce(function(y,b){return b=b.create,d(d({},y),b(y))},u)}}function Ma(l,u){var f=u.db,f=Vs(l._middlewares,f,l._deps,u);l.core=f.dbcore,l.tables.forEach(function(h){var y=h.name;l.core.schema.tables.some(function(b){return b.name===y})&&(h.core=l.core.table(y),l[y]instanceof l.Table)&&(l[y].core=h.core)})}function Fs(l,u,f,h){f.forEach(function(y){var b=h[y];u.forEach(function(j){var N=(function D(K,T){return I(K,T)||(K=E(K))&&D(K,T)})(j,y);(!N||"value"in N&&N.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?$(j,y,{get:function(){return this.table(y)},set:function(D){be(this,y,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):j[y]=new l.Table(y,b))})})}function bs(l,u){u.forEach(function(f){for(var h in f)f[h]instanceof l.Table&&delete f[h]})}function $i(l,u){return l._cfg.version-u._cfg.version}function xs(l,u,f,h){var y=l._dbSchema,b=(f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=_l("$meta",au("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,y)),j=(b.create(f),b._completion.catch(h),b._reject.bind(b)),N=Oe.transless||Oe;Kt(function(){if(Oe.trans=b,Oe.transless=N,u!==0)return Ma(l,f),K=u,((D=b).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(T){return T??K}):Te.resolve(K)).then(function(Y){var A=l,k=Y,q=b,M=f,z=[],Y=A._versions,J=A._dbSchema=Al(0,A.idbdb,M);return(Y=Y.filter(function(Q){return Q._cfg.version>=k})).length===0?Te.resolve():(Y.forEach(function(Q){z.push(function(){var ae,fe,Ee,Ce=J,de=Q._cfg.dbschema,Re=(Ps(A,Ce,M),Ps(A,de,M),J=A._dbSchema=de,$s(Ce,de)),Me=(Re.add.forEach(function(he){Ji(M,he[0],he[1].primKey,he[1].indexes)}),Re.change.forEach(function(he){if(he.recreate)throw new je.Upgrade("Not yet support for changing primary key");var Be=M.objectStore(he.name);he.add.forEach(function(We){return Js(Be,We)}),he.change.forEach(function(We){Be.deleteIndex(We.name),Js(Be,We)}),he.del.forEach(function(We){return Be.deleteIndex(We)})}),Q._cfg.contentUpgrade);if(Me&&Q._cfg.version>k)return Ma(A,M),q._memoizedTables={},ae=Ie(de),Re.del.forEach(function(he){ae[he]=Ce[he]}),bs(A,[A.Transaction.prototype]),Fs(A,[A.Transaction.prototype],S(ae),ae),q.schema=ae,(fe=G(Me))&&It(),de=Te.follow(function(){var he;(Ee=Me(q))&&fe&&(he=Tn.bind(null,null),Ee.then(he,he))}),Ee&&typeof Ee.then=="function"?Te.resolve(Ee):de.then(function(){return Ee})}),z.push(function(ae){var fe,Ee,Ce=Q._cfg.dbschema;fe=Ce,Ee=ae,[].slice.call(Ee.db.objectStoreNames).forEach(function(de){return fe[de]==null&&Ee.db.deleteObjectStore(de)}),bs(A,[A.Transaction.prototype]),Fs(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),q.schema=A._dbSchema}),z.push(function(ae){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===Q._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(fe){return fe!=="$meta"})):ae.objectStore("$meta").put(Q._cfg.version,"version"))})}),(function Q(){return z.length?Te.resolve(z.shift()(q.idbtrans)).then(Q):Te.resolve()})().then(function(){nu(J,M)}))}).catch(j);var D,K;S(y).forEach(function(T){Ji(f,T,y[T].primKey,y[T].indexes)}),Ma(l,f),Te.follow(function(){return l.on.populate.fire(b)}).catch(j)})}function Zs(l,u){nu(l._dbSchema,u),u.db.version%10!=0||u.objectStoreNames.contains("$meta")||u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var f=Al(0,l.idbdb,u);Ps(l,l._dbSchema,u);for(var h=0,y=$s(f,l._dbSchema).change;h<y.length;h++){var b=(j=>{if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(j.name);j.add.forEach(function(D){ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(D.src)),Js(N,D)})})(y[h]);if(typeof b=="object")return b.value}}function $s(l,u){var f,h={del:[],add:[],change:[]};for(f in l)u[f]||h.del.push(f);for(f in u){var y=l[f],b=u[f];if(y){var j={name:f,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||y.primKey.auto!==b.primKey.auto)j.recreate=!0,h.change.push(j);else{var N=y.idxByName,D=b.idxByName,K=void 0;for(K in N)D[K]||j.del.push(K);for(K in D){var T=N[K],A=D[K];T?T.src!==A.src&&j.change.push(A):j.add.push(A)}(0<j.del.length||0<j.add.length||0<j.change.length)&&h.change.push(j)}}else h.add.push([f,b])}return h}function Ji(l,u,f,h){var y=l.db.createObjectStore(u,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});h.forEach(function(b){return Js(y,b)})}function nu(l,u){S(l).forEach(function(f){u.db.objectStoreNames.contains(f)||(ke&&console.debug("Dexie: Creating missing table",f),Ji(u,f,l[f].primKey,l[f].indexes))})}function Js(l,u){l.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function Al(l,u,f){var h={};return ye(u.objectStoreNames,0).forEach(function(y){for(var b=f.objectStore(y),j=sa(Gs(K=b.keyPath),K||"",!0,!1,!!b.autoIncrement,K&&typeof K!="string",!0),N=[],D=0;D<b.indexNames.length;++D){var T=b.index(b.indexNames[D]),K=T.keyPath,T=sa(T.name,K,!!T.unique,!!T.multiEntry,!1,K&&typeof K!="string",!1);N.push(T)}h[y]=_l(y,j,N)}),h}function Ps(l,u,f){for(var h=f.db.objectStoreNames,y=0;y<h.length;++y){var b=h[y],j=f.objectStore(b);l._hasGetAll="getAll"in j;for(var N=0;N<j.indexNames.length;++N){var D,K=j.indexNames[N],T=j.index(K).keyPath,T=typeof T=="string"?T:"["+ye(T).join("+")+"]";u[b]&&(D=u[b].idxByName[T])&&(D.name=K,delete u[b].idxByName[T],u[b].idxByName[K]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function au(l){return l.split(",").map(function(u,f){var y=u.split(":"),h=(h=y[1])==null?void 0:h.trim(),y=(u=y[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return sa(y,b||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),w(b),f===0,h)})}Ol.prototype._createTableSchema=_l,Ol.prototype._parseIndexSyntax=au,Ol.prototype._parseStoresSpec=function(l,u){var f=this;S(l).forEach(function(h){if(l[h]!==null){var y=f._parseIndexSyntax(l[h]),b=y.shift();if(!b)throw new je.Schema("Invalid schema for table "+h+": "+l[h]);if(b.unique=!0,b.multi)throw new je.Schema("Primary key cannot be multiEntry*");y.forEach(function(j){if(j.auto)throw new je.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new je.Schema("Index must have a name and cannot be an empty string")}),b=f._createTableSchema(h,b,y),u[h]=b}})},Ol.prototype.stores=function(f){var u=this.db,f=(this._cfg.storesSource=this._cfg.storesSource?U(this._cfg.storesSource,f):f,u._versions),h={},y={};return f.forEach(function(b){U(h,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(h,y)}),u._dbSchema=y,bs(u,[u._allTables,u,u.Transaction.prototype]),Fs(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],S(y),y),u._storeNames=S(y),this},Ol.prototype.upgrade=function(l){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Fe,l),this};var Bo=Ol;function Ol(){}function Pi(l,u){var f=l._dbNamesDB;return f||(f=l._dbNamesDB=new ia(fs,{addons:[],indexedDB:l,IDBKeyRange:u})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Ws(l){return l&&typeof l.databases=="function"}function Wi(l){return Kt(function(){return Oe.letThrough=!0,l()})}function Ii(l){return!("from"in l)}var gn=function(l,u){var f;if(!this)return f=new gn,l&&"d"in l&&U(f,l),f;U(this,arguments.length?{d:1,from:l,to:1<arguments.length?u:l}:{d:0})};function vs(l,u,f){var h=rt(u,f);if(!isNaN(h)){if(0<h)throw RangeError();if(Ii(l))return U(l,{from:u,to:f,d:1});var h=l.l,y=l.r;if(rt(f,l.from)<0)return h?vs(h,u,f):l.l={from:u,to:f,d:1,l:null,r:null},su(l);if(0<rt(u,l.to))return y?vs(y,u,f):l.r={from:u,to:f,d:1,l:null,r:null},su(l);rt(u,l.from)<0&&(l.from=u,l.l=null,l.d=y?y.d+1:1),0<rt(f,l.to)&&(l.to=f,l.r=null,l.d=l.l?l.l.d+1:1),u=!l.r,h&&!l.l&&Pa(l,h),y&&u&&Pa(l,y)}}function Pa(l,u){Ii(u)||(function f(h,y){var b=y.from,j=y.l,N=y.r;vs(h,b,y.to),j&&f(h,j),N&&f(h,N)})(l,u)}function lu(l,u){var f=Is(u),h=f.next();if(!h.done)for(var y=h.value,b=Is(l),j=b.next(y.from),N=j.value;!h.done&&!j.done;){if(rt(N.from,y.to)<=0&&0<=rt(N.to,y.from))return!0;rt(y.from,N.from)<0?y=(h=f.next(N.from)).value:N=(j=b.next(y.from)).value}return!1}function Is(l){var u=Ii(l)?null:{s:0,n:l};return{next:function(f){for(var h=0<arguments.length;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&rt(f,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||rt(f,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function su(l){var u,f,h,y=(((y=l.r)==null?void 0:y.d)||0)-(((y=l.l)==null?void 0:y.d)||0),y=1<y?"r":y<-1?"l":"";y&&(u=y=="r"?"l":"r",f=d({},l),h=l[y],l.from=h.from,l.to=h.to,l[y]=h[y],f[y]=h[u],(l[u]=f).d=er(f)),l.d=er(l)}function er(f){var u=f.r,f=f.l;return(u?f?Math.max(u.d,f.d):u.d:f?f.d:0)+1}function ei(l,u){return S(u).forEach(function(f){l[f]?Pa(l[f],u[f]):l[f]=(function h(y){var b,j,N={};for(b in y)C(y,b)&&(j=y[b],N[b]=!j||typeof j!="object"||Ue.has(j.constructor)?j:h(j));return N})(u[f])}),l}function tr(l,u){return l.all||u.all||Object.keys(l).some(function(f){return u[f]&&lu(u[f],l[f])})}F(gn.prototype,((Et={add:function(l){return Pa(this,l),this},addKey:function(l){return vs(this,l,l),this},addKeys:function(l){var u=this;return l.forEach(function(f){return vs(u,f,f)}),this},hasKey:function(l){var u=Is(this).next(l).value;return u&&rt(u.from,l)<=0&&0<=rt(u.to,l)}})[X]=function(){return Is(this)},Et));var Wa={},nr={},ar=!1;function ti(l){ei(nr,l),ar||(ar=!0,setTimeout(function(){ar=!1,lr(nr,!(nr={}))},0))}function lr(l,u){u===void 0&&(u=!1);var f=new Set;if(l.all)for(var h=0,y=Object.values(Wa);h<y.length;h++)iu(N=y[h],l,f,u);else for(var b in l){var j,N,b=/^idb\:\/\/(.*)\/(.*)\//.exec(b);b&&(j=b[1],b=b[2],N=Wa["idb://".concat(j,"/").concat(b)])&&iu(N,l,f,u)}f.forEach(function(D){return D()})}function iu(l,u,f,h){for(var y=[],b=0,j=Object.entries(l.queries.query);b<j.length;b++){for(var N=j[b],D=N[0],K=[],T=0,A=N[1];T<A.length;T++){var k=A[T];tr(u,k.obsSet)?k.subscribers.forEach(function(Y){return f.add(Y)}):h&&K.push(k)}h&&y.push([D,K])}if(h)for(var q=0,M=y;q<M.length;q++){var z=M[q],D=z[0],K=z[1];l.queries.query[D]=K}}function qo(l){var u=l._state,f=l._deps.indexedDB;if(u.isBeingOpened||l.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?Mt(u.dbOpenError):l});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,y=Math.round(10*l.verno),b=!1;function j(){if(u.openCanceller!==h)throw new je.DatabaseClosed("db.open() was cancelled")}function N(){return new Te(function(k,q){if(j(),!f)throw new je.MissingAPI;var M=l.name,z=u.autoSchema||!y?f.open(M):f.open(M,y);if(!z)throw new je.MissingAPI;z.onerror=Vn(q),z.onblocked=Ht(l._fireOnBlocked),z.onupgradeneeded=Ht(function(Y){var J;T=z.transaction,u.autoSchema&&!l._options.allowEmptyDB?(z.onerror=Za,T.abort(),z.result.close(),(J=f.deleteDatabase(M)).onsuccess=J.onerror=Ht(function(){q(new je.NoSuchDatabase("Database ".concat(M," doesnt exist")))})):(T.onerror=Vn(q),J=Y.oldVersion>Math.pow(2,62)?0:Y.oldVersion,A=J<1,l.idbdb=z.result,b&&Zs(l,T),xs(l,J/10,T,q))},q),z.onsuccess=Ht(function(){T=null;var Y,J,Q,ae,fe,Ee,Ce=l.idbdb=z.result,de=ye(Ce.objectStoreNames);if(0<de.length)try{var Re=Ce.transaction((fe=de).length===1?fe[0]:fe,"readonly");if(u.autoSchema)Ee=Ce,ae=Re,(Q=l).verno=Ee.version/10,ae=Q._dbSchema=Al(0,Ee,ae),Q._storeNames=ye(Ee.objectStoreNames,0),Fs(Q,[Q._allTables],S(ae),ae);else if(Ps(l,l._dbSchema,Re),J=Re,((J=$s(Al(0,(Y=l).idbdb,J),Y._dbSchema)).add.length||J.change.some(function(Me){return Me.add.length||Me.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ce.close(),y=Ce.version+1,b=!0,k(N());Ma(l,Re)}catch{}Xa.push(l),Ce.onversionchange=Ht(function(Me){u.vcFired=!0,l.on("versionchange").fire(Me)}),Ce.onclose=Ht(function(){l.close({disableAutoOpen:!1})}),A&&(de=l._deps,fe=M,Ws(Ee=de.indexedDB)||fe===fs||Pi(Ee,de.IDBKeyRange).put({name:fe}).catch(Fe)),k()},q)}).catch(function(k){switch(k?.name){case"UnknownError":if(0<u.PR1398_maxLoop)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(0<y)return y=0,N()}return Te.reject(k)})}var D,K=u.dbReadyResolve,T=null,A=!1;return Te.race([h,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(k){function q(){return indexedDB.databases().finally(k)}D=setInterval(q,100),q()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(N)]).then(function(){return j(),u.onReadyBeingFired=[],Te.resolve(Wi(function(){return l.on.ready.fire(l.vip)})).then(function k(){var q;if(0<u.onReadyBeingFired.length)return q=u.onReadyBeingFired.reduce(ne,Fe),u.onReadyBeingFired=[],Te.resolve(Wi(function(){return q(l.vip)})).then(k)})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(k){u.dbOpenError=k;try{T&&T.abort()}catch{}return h===u.openCanceller&&l._close(),Mt(k)}).finally(function(){u.openComplete=!0,K()}).then(function(){var k;return A&&(k={},l.tables.forEach(function(q){q.schema.indexes.forEach(function(M){M.name&&(k["idb://".concat(l.name,"/").concat(q.name,"/").concat(M.name)]=new gn(-1/0,[[[]]]))}),k["idb://".concat(l.name,"/").concat(q.name,"/")]=k["idb://".concat(l.name,"/").concat(q.name,"/:dels")]=new gn(-1/0,[[[]]])}),yn(Nl).fire(k),lr(k,!0)),l})}function Ss(l){function u(b){return l.next(b)}var f=y(u),h=y(function(b){return l.throw(b)});function y(b){return function(N){var N=b(N),D=N.value;return N.done?D:D&&typeof D.then=="function"?D.then(f,h):w(D)?Promise.all(D).then(f,h):f(D)}}return y(u)()}function za(l,u,f){for(var h=w(l)?l.slice():[l],y=0;y<f;++y)h.push(u);return h}var Uo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return d(d({},l),{table:function(h){var f=l.table(h),h=f.schema,y={},b=[];function j(k,q,M){var Q=rn(k),z=y[Q]=y[Q]||[],Y=k==null?0:typeof k=="string"?1:k.length,J=0<q,Q=d(d({},M),{name:J?"".concat(Q,"(virtual-from:").concat(M.name,")"):M.name,lowLevelIndex:M,isVirtual:J,keyTail:q,keyLength:Y,extractKey:Cl(k),unique:!J&&M.unique});return z.push(Q),Q.isPrimaryKey||b.push(Q),1<Y&&j(Y===2?k[0]:k.slice(0,Y-1),q+1,M),z.sort(function(ae,fe){return ae.keyTail-fe.keyTail}),Q}var N=j(h.primaryKey.keyPath,0,h.primaryKey);y[":id"]=[N];for(var D=0,K=h.indexes;D<K.length;D++){var T=K[D];j(T.keyPath,0,T)}function A(k){var q,M=k.query.index;return M.isVirtual?d(d({},k),{query:{index:M.lowLevelIndex,range:(q=k.query.range,M=M.keyTail,{type:q.type===1?2:q.type,lower:za(q.lower,q.lowerOpen?l.MAX_KEY:l.MIN_KEY,M),lowerOpen:!0,upper:za(q.upper,q.upperOpen?l.MIN_KEY:l.MAX_KEY,M),upperOpen:!0})}}):k}return d(d({},f),{schema:d(d({},h),{primaryKey:N,indexes:b,getIndexByKeyPath:function(k){return(k=y[rn(k)])&&k[0]}}),count:function(k){return f.count(A(k))},query:function(k){return f.query(A(k))},openCursor:function(k){var q=k.query.index,M=q.keyTail,z=q.keyLength;return q.isVirtual?f.openCursor(A(k)).then(function(J){return J&&Y(J)}):f.openCursor(k);function Y(J){return Object.create(J,{continue:{value:function(Q){Q!=null?J.continue(za(Q,k.reverse?l.MAX_KEY:l.MIN_KEY,M)):k.unique?J.continue(J.key.slice(0,z).concat(k.reverse?l.MIN_KEY:l.MAX_KEY,M)):J.continue()}},continuePrimaryKey:{value:function(Q,ae){J.continuePrimaryKey(za(Q,l.MAX_KEY,M),ae)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var Q=J.key;return z===1?Q[0]:Q.slice(0,z)}},value:{get:function(){return J.value}}})}}})}})}};function ni(l,u,f,h){return f=f||{},h=h||"",S(l).forEach(function(y){var b,j,N;C(u,y)?(b=l[y],j=u[y],typeof b=="object"&&typeof j=="object"&&b&&j?(N=Qe(b))!==Qe(j)?f[h+y]=u[y]:N==="Object"?ni(b,j,f,h+y+"."):b!==j&&(f[h+y]=u[y]):b!==j&&(f[h+y]=u[y])):f[h+y]=void 0}),S(u).forEach(function(y){C(l,y)||(f[h+y]=u[y])}),f}function ai(l,u){return u.type==="delete"?u.keys:u.keys||u.values.map(l.extractKey)}var ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return d(d({},l),{table:function(u){var f=l.table(u),h=f.schema.primaryKey;return d(d({},f),{mutate:function(y){var b=Oe.trans,j=b.table(u).hook,N=j.deleting,D=j.creating,K=j.updating;switch(y.type){case"add":if(D.fire===Fe)break;return b._promise("readwrite",function(){return T(y)},!0);case"put":if(D.fire===Fe&&K.fire===Fe)break;return b._promise("readwrite",function(){return T(y)},!0);case"delete":if(N.fire===Fe)break;return b._promise("readwrite",function(){return T(y)},!0);case"deleteRange":if(N.fire===Fe)break;return b._promise("readwrite",function(){return(function A(k,q,M){return f.query({trans:k,values:!1,query:{index:h,range:q},limit:M}).then(function(z){var Y=z.result;return T({type:"delete",keys:Y,trans:k}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):Y.length<M?{failures:[],numFailures:0,lastResult:void 0}:A(k,d(d({},q),{lower:Y[Y.length-1],lowerOpen:!0}),M)})})})(y.trans,y.range,1e4)},!0)}return f.mutate(y);function T(A){var k,q,M,z=Oe.trans,Y=A.keys||ai(h,A);if(Y)return(A=A.type==="add"||A.type==="put"?d(d({},A),{keys:Y}):d({},A)).type!=="delete"&&(A.values=g([],A.values)),A.keys&&(A.keys=g([],A.keys)),k=f,M=Y,((q=A).type==="add"?Promise.resolve([]):k.getMany({trans:q.trans,keys:M,cache:"immutable"})).then(function(J){var Q=Y.map(function(ae,fe){var Ee,Ce,de,Re=J[fe],Me={onerror:null,onsuccess:null};return A.type==="delete"?N.fire.call(Me,ae,Re,z):A.type==="add"||Re===void 0?(Ee=D.fire.call(Me,ae,A.values[fe],z),ae==null&&Ee!=null&&(A.keys[fe]=ae=Ee,h.outbound||ge(A.values[fe],h.keyPath,ae))):(Ee=ni(Re,A.values[fe]),(Ce=K.fire.call(Me,Ee,ae,Re,z))&&(de=A.values[fe],Object.keys(Ce).forEach(function(he){C(de,he)?de[he]=Ce[he]:ge(de,he,Ce[he])}))),Me});return f.mutate(A).then(function(ae){for(var fe=ae.failures,Ee=ae.results,Ce=ae.numFailures,ae=ae.lastResult,de=0;de<Y.length;++de){var Re=(Ee||Y)[de],Me=Q[de];Re==null?Me.onerror&&Me.onerror(fe[de]):Me.onsuccess&&Me.onsuccess(A.type==="put"&&J[de]?A.values[de]:Re)}return{failures:fe,results:Ee,numFailures:Ce,lastResult:ae}}).catch(function(ae){return Q.forEach(function(fe){return fe.onerror&&fe.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function sr(l,u,f){try{if(!u||u.keys.length<l.length)return null;for(var h=[],y=0,b=0;y<u.keys.length&&b<l.length;++y)rt(u.keys[y],l[b])===0&&(h.push(f?gt(u.values[y]):u.values[y]),++b);return h.length===l.length?h:null}catch{return null}}var uu={stack:"dbcore",level:-1,create:function(l){return{table:function(u){var f=l.table(u);return d(d({},f),{getMany:function(h){var y;return h.cache?(y=sr(h.keys,h.trans._cache,h.cache==="clone"))?Te.resolve(y):f.getMany(h).then(function(b){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?gt(b):b},b}):f.getMany(h)},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),f.mutate(h)}})}}}};function Ia(l,u){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function ou(l,u){switch(l){case"query":return u.values&&!u.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ho={stack:"dbcore",level:0,name:"Observability",create:function(l){var u=l.schema.name,f=new gn(l.MIN_KEY,l.MAX_KEY);return d(d({},l),{transaction:function(h,y,b){if(Oe.subscr&&y!=="readonly")throw new je.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return l.transaction(h,y,b)},table:function(h){function y(Y){var z,Y=Y.query;return[z=Y.index,new gn((z=(Y=Y.range).lower)!=null?z:l.MIN_KEY,(z=Y.upper)!=null?z:l.MAX_KEY)]}var b=l.table(h),j=b.schema,N=j.primaryKey,D=j.indexes,K=N.extractKey,T=N.outbound,A=N.autoIncrement&&D.filter(function(M){return M.compound&&M.keyPath.includes(N.keyPath)}),k=d(d({},b),{mutate:function(M){function z(Be){return Be="idb://".concat(u,"/").concat(h,"/").concat(Be),fe[Be]||(fe[Be]=new gn)}var Y,J,Q,ae=M.trans,fe=M.mutatedParts||(M.mutatedParts={}),Ee=z(""),Ce=z(":dels"),de=M.type,Me=M.type==="deleteRange"?[M.range]:M.type==="delete"?[M.keys]:M.values.length<50?[ai(N,M).filter(function(Be){return Be}),M.values]:[],Re=Me[0],Me=Me[1],he=M.trans._cache;return w(Re)?(Ee.addKeys(Re),(de=de==="delete"||Re.length===Me.length?sr(Re,he):null)||Ce.addKeys(Re),(de||Me)&&(Y=z,J=de,Q=Me,j.indexes.forEach(function(Be){var We=Y(Be.name||"");function ut(nt){return nt!=null?Be.extractKey(nt):null}function Xe(nt){Be.multiEntry&&w(nt)?nt.forEach(function(zt){return We.addKey(zt)}):We.addKey(nt)}(J||Q).forEach(function(nt,At){var Cn=J&&ut(J[At]),At=Q&&ut(Q[At]);rt(Cn,At)!==0&&(Cn!=null&&Xe(Cn),At!=null)&&Xe(At)})}))):Re?(Me={from:(he=Re.lower)!=null?he:l.MIN_KEY,to:(de=Re.upper)!=null?de:l.MAX_KEY},Ce.add(Me),Ee.add(Me)):(Ee.add(f),Ce.add(f),j.indexes.forEach(function(Be){return z(Be.name).add(f)})),b.mutate(M).then(function(Be){return!Re||M.type!=="add"&&M.type!=="put"||(Ee.addKeys(Be.results),A&&A.forEach(function(We){for(var ut=M.values.map(function(Cn){return We.extractKey(Cn)}),Xe=We.keyPath.findIndex(function(Cn){return Cn===N.keyPath}),nt=0,zt=Be.results.length;nt<zt;++nt)ut[nt][Xe]=Be.results[nt];z(We.name).addKeys(ut)})),ae.mutatedParts=ei(ae.mutatedParts||{},fe),Be})}}),q={get:function(M){return[N,new gn(M.key)]},getMany:function(M){return[N,new gn().addKeys(M.keys)]},count:y,query:y,openCursor:y};return S(q).forEach(function(M){k[M]=function(z){var Y=Oe.subscr,J=!!Y,Q=Ia(Oe,b)&&ou(M,z)?z.obsSet={}:Y;if(J){var ae,Y=function(Me){return Me="idb://".concat(u,"/").concat(h,"/").concat(Me),Q[Me]||(Q[Me]=new gn)},fe=Y(""),Ee=Y(":dels"),J=q[M](z),Ce=J[0],J=J[1];if((M==="query"&&Ce.isPrimaryKey&&!z.values?Ee:Y(Ce.name||"")).add(J),!Ce.isPrimaryKey){if(M!=="count")return ae=M==="query"&&T&&z.values&&b.query(d(d({},z),{values:!1})),b[M].apply(this,arguments).then(function(Me){if(M==="query"){if(T&&z.values)return ae.then(function(ut){return ut=ut.result,fe.addKeys(ut),Me});var he=z.values?Me.result.map(K):Me.result;(z.values?fe:Ee).addKeys(he)}else{var Be,We;if(M==="openCursor")return We=z.values,(Be=Me)&&Object.create(Be,{key:{get:function(){return Ee.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var ut=Be.primaryKey;return Ee.addKey(ut),ut}},value:{get:function(){return We&&fe.addKey(Be.primaryKey),Be.value}}})}return Me});Ee.add(f)}}return b[M].apply(this,arguments)}}),k}})}};function cu(l,u,f){var h;return f.numFailures===0?u:u.type==="deleteRange"||(h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1,f.numFailures===h)?null:(h=d({},u),w(h.keys)&&(h.keys=h.keys.filter(function(y,b){return!(b in f.failures)})),"values"in h&&w(h.values)&&(h.values=h.values.filter(function(y,b){return!(b in f.failures)})),h)}function li(l,u){return f=l,((h=u).lower===void 0||(h.lowerOpen?0<rt(f,h.lower):0<=rt(f,h.lower)))&&(f=l,(h=u).upper===void 0||(h.upperOpen?rt(f,h.upper)<0:rt(f,h.upper)<=0));var f,h}function ir(l,u,f,h,y,b){var j,N,D,K,T,A;return!f||f.length===0||(j=u.query.index,N=j.multiEntry,D=u.query.range,K=h.schema.primaryKey.extractKey,T=j.extractKey,A=(j.lowLevelIndex||j).extractKey,(h=f.reduce(function(k,q){var M=k,z=[];if(q.type==="add"||q.type==="put")for(var Y=new gn,J=q.values.length-1;0<=J;--J){var Q,ae=q.values[J],fe=K(ae);!Y.hasKey(fe)&&(Q=T(ae),N&&w(Q)?Q.some(function(Me){return li(Me,D)}):li(Q,D))&&(Y.addKey(fe),z.push(ae))}switch(q.type){case"add":var Ee=new gn().addKeys(u.values?k.map(function(he){return K(he)}):k),M=k.concat(u.values?z.filter(function(he){return he=K(he),!Ee.hasKey(he)&&(Ee.addKey(he),!0)}):z.map(function(he){return K(he)}).filter(function(he){return!Ee.hasKey(he)&&(Ee.addKey(he),!0)}));break;case"put":var Ce=new gn().addKeys(q.values.map(function(he){return K(he)}));M=k.filter(function(he){return!Ce.hasKey(u.values?K(he):he)}).concat(u.values?z:z.map(function(he){return K(he)}));break;case"delete":var de=new gn().addKeys(q.keys);M=k.filter(function(he){return!de.hasKey(u.values?K(he):he)});break;case"deleteRange":var Re=q.range;M=k.filter(function(he){return!li(K(he),Re)})}return M},l))===l)?l:(h.sort(function(k,q){return rt(A(k),A(q))||rt(K(k),K(q))}),u.limit&&u.limit<1/0&&(h.length>u.limit?h.length=u.limit:l.length===u.limit&&h.length<u.limit&&(y.dirty=!0)),b?Object.freeze(h):h)}function Dl(l,u){return rt(l.lower,u.lower)===0&&rt(l.upper,u.upper)===0&&!!l.lowerOpen==!!u.lowerOpen&&!!l.upperOpen==!!u.upperOpen}function js(l,u){return((f,h,y,b)=>{if(f===void 0)return h!==void 0?-1:0;if(h===void 0)return 1;if((f=rt(f,h))===0){if(y&&b)return 0;if(y)return 1;if(b)return-1}return f})(l.lower,u.lower,l.lowerOpen,u.lowerOpen)<=0&&0<=((f,h,y,b)=>{if(f===void 0)return h!==void 0?1:0;if(h===void 0)return-1;if((f=rt(f,h))===0){if(y&&b)return 0;if(y)return-1;if(b)return 1}return f})(l.upper,u.upper,l.upperOpen,u.upperOpen)}function Lo(l,u,f,h){l.subscribers.add(f),h.addEventListener("abort",function(){var y,b;l.subscribers.delete(f),l.subscribers.size===0&&(y=l,b=u,setTimeout(function(){y.subscribers.size===0&&pe(b,y)},3e3))})}var si={stack:"dbcore",level:0,name:"Cache",create:function(l){var u=l.schema.name;return d(d({},l),{transaction:function(f,h,y){var b,j,N=l.transaction(f,h,y);return h==="readwrite"&&(y=(b=new AbortController).signal,N.addEventListener("abort",(j=function(D){return function(){if(b.abort(),h==="readwrite"){for(var K=new Set,T=0,A=f;T<A.length;T++){var k=A[T],q=Wa["idb://".concat(u,"/").concat(k)];if(q){var M=l.table(k),z=q.optimisticOps.filter(function(Be){return Be.trans===N});if(N._explicit&&D&&N.mutatedParts)for(var Y=0,J=Object.values(q.queries.query);Y<J.length;Y++)for(var Q=0,ae=(Ce=J[Y]).slice();Q<ae.length;Q++)tr((de=ae[Q]).obsSet,N.mutatedParts)&&(pe(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)}));else if(0<z.length){q.optimisticOps=q.optimisticOps.filter(function(Be){return Be.trans!==N});for(var fe=0,Ee=Object.values(q.queries.query);fe<Ee.length;fe++)for(var Ce,de,Re,Me=0,he=(Ce=Ee[fe]).slice();Me<he.length;Me++)(de=he[Me]).res!=null&&N.mutatedParts&&(D&&!de.dirty?(Re=Object.isFrozen(de.res),Re=ir(de.res,de.req,z,M,de,Re),de.dirty?(pe(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)})):Re!==de.res&&(de.res=Re,de.promise=Te.resolve({result:Re}))):(de.dirty&&pe(Ce,de),de.subscribers.forEach(function(Be){return K.add(Be)})))}}}K.forEach(function(Be){return Be()})}}})(!1),{signal:y}),N.addEventListener("error",j(!1),{signal:y}),N.addEventListener("complete",j(!0),{signal:y})),N},table:function(f){var h=l.table(f),y=h.schema.primaryKey;return d(d({},h),{mutate:function(b){var j,N=Oe.trans;return!y.outbound&&N.db._options.cache!=="disabled"&&!N.explicit&&N.idbtrans.mode==="readwrite"&&(j=Wa["idb://".concat(u,"/").concat(f)])?(N=h.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||ai(y,b).some(function(D){return D==null}))?(j.optimisticOps.push(b),b.mutatedParts&&ti(b.mutatedParts),N.then(function(D){0<D.numFailures&&(pe(j.optimisticOps,b),(D=cu(0,b,D))&&j.optimisticOps.push(D),b.mutatedParts)&&ti(b.mutatedParts)}),N.catch(function(){pe(j.optimisticOps,b),b.mutatedParts&&ti(b.mutatedParts)})):N.then(function(D){var K=cu(0,d(d({},b),{values:b.values.map(function(T,A){var k;return D.failures[A]?T:(ge(k=(k=y.keyPath)!=null&&k.includes(".")?gt(T):d({},T),y.keyPath,D.results[A]),k)})}),D);j.optimisticOps.push(K),queueMicrotask(function(){return b.mutatedParts&&ti(b.mutatedParts)})}),N):h.mutate(b)},query:function(b){var j,N,D,K,T,A,k;return Ia(Oe,h)&&ou("query",b)?(j=((D=Oe.trans)==null?void 0:D.db._options.cache)==="immutable",N=(D=Oe).requery,D=D.signal,A=((q,M,z,Y)=>{var J=Wa["idb://".concat(q,"/").concat(M)];if(!J)return[];if(!(q=J.queries[z]))return[null,!1,J,null];var Q=q[(Y.query?Y.query.index.name:null)||""];if(!Q)return[null,!1,J,null];switch(z){case"query":var ae=Q.find(function(fe){return fe.req.limit===Y.limit&&fe.req.values===Y.values&&Dl(fe.req.query.range,Y.query.range)});return ae?[ae,!0,J,Q]:[Q.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=Y.limit&&(!Y.values||fe.req.values)&&js(fe.req.query.range,Y.query.range)}),!1,J,Q];case"count":return ae=Q.find(function(fe){return Dl(fe.req.query.range,Y.query.range)}),[ae,!!ae,J,Q]}})(u,f,"query",b),k=A[0],K=A[2],T=A[3],k&&A[1]?k.obsSet=b.obsSet:(A=h.query(b).then(function(q){var M=q.result;if(k&&(k.res=M),j){for(var z=0,Y=M.length;z<Y;++z)Object.freeze(M[z]);Object.freeze(M)}else q.result=gt(M);return q}).catch(function(q){return T&&k&&pe(T,k),Promise.reject(q)}),k={obsSet:b.obsSet,promise:A,subscribers:new Set,type:"query",req:b,dirty:!1},T?T.push(k):(T=[k],(K=K||(Wa["idb://".concat(u,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=T)),Lo(k,T,N,D),k.promise.then(function(q){return{result:ir(q.result,b,K?.optimisticOps,h,k,j)}})):h.query(b)}})}})}};function ws(l,u){return new Proxy(l,{get:function(f,h,y){return h==="db"?u:Reflect.get(f,h,y)}})}Xt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new je.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new je.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var u=this._versions,f=u.filter(function(h){return h._cfg.version===l})[0];return f||(f=new this.Version(l),u.push(f),u.sort($i),f.stores({}),this._state.autoSchema=!1),f},Xt.prototype._whenReady=function(l){var u=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?l():new Te(function(f,h){if(u._state.openComplete)return h(new je.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen)return void h(new je.DatabaseClosed);u.open().catch(Fe)}u._state.dbReadyPromise.then(f,h)}).then(l)},Xt.prototype.use=function(y){var u=y.stack,f=y.create,h=y.level,y=y.name,b=(y&&this.unuse({stack:u,name:y}),this._middlewares[u]||(this._middlewares[u]=[]));return b.push({stack:u,create:f,level:h??10,name:y}),b.sort(function(j,N){return j.level-N.level}),this},Xt.prototype.unuse=function(l){var u=l.stack,f=l.name,h=l.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(y){return h?y.create!==h:!!f&&y.name!==f})),this},Xt.prototype.open=function(){var l=this;return Xn(Ut,function(){return qo(l)})},Xt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,u=Xa.indexOf(this);if(0<=u&&Xa.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Te(function(f){l.dbReadyResolve=f}),l.openCanceller=new Te(function(f,h){l.cancelOpen=h}))},Xt.prototype.close=function(u){var u=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,f=this._state;u?(f.isBeingOpened&&f.cancelOpen(new je.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new je.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Xt.prototype.delete=function(l){var u=this,f=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),h=this._state;return new Te(function(y,b){function j(){u.close(l);var N=u._deps.indexedDB.deleteDatabase(u.name);N.onsuccess=Ht(function(){var D,K,T;D=u._deps,K=u.name,Ws(T=D.indexedDB)||K===fs||Pi(T,D.IDBKeyRange).delete(K).catch(Fe),y()}),N.onerror=Vn(b),N.onblocked=u._fireOnBlocked}if(f)throw new je.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(j):j()})},Xt.prototype.backendDB=function(){return this.idbdb},Xt.prototype.isOpen=function(){return this.idbdb!==null},Xt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xt.prototype,"tables",{get:function(){var l=this;return S(this._allTables).map(function(u){return l._allTables[u]})},enumerable:!1,configurable:!0}),Xt.prototype.transaction=function(){var l=(function(u,f,h){var y=arguments.length;if(y<2)throw new je.InvalidArgument("Too few arguments");for(var b=new Array(y-1);--y;)b[y-1]=arguments[y];return h=b.pop(),[u,tt(b),h]}).apply(this,arguments);return this._transaction.apply(this,l)},Xt.prototype._transaction=function(l,u,f){var h,y,b=this,j=Oe.trans,N=(j&&j.db===this&&l.indexOf("!")===-1||(j=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(y=u.map(function(K){if(K=K instanceof b.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),l=="r"||l===xa)h=xa;else{if(l!="rw"&&l!=Da)throw new je.InvalidArgument("Invalid transaction mode: "+l);h=Da}if(j){if(j.mode===xa&&h===Da){if(!N)throw new je.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&y.forEach(function(K){if(j&&j.storeNames.indexOf(K)===-1){if(!N)throw new je.SubTransaction("Table "+K+" not included in parent transaction.");j=null}}),N&&j&&!j.active&&(j=null)}}catch(K){return j?j._promise(null,function(T,A){A(K)}):Mt(K)}var D=(function K(T,A,k,q,M){return Te.resolve().then(function(){var Q=Oe.transless||Oe,z=T._createTransaction(A,k,T._dbSchema,q),Q=(z.explicit=!0,{trans:z,transless:Q});if(q)z.idbtrans=q.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,T._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ft.InvalidState&&T.isOpen()&&0<--T._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),T.close({disableAutoOpen:!1}),T.open().then(function(){return K(T,A,k,null,M)})):Mt(ae)}var Y,J=G(M),Q=(J&&It(),Te.follow(function(){var ae;(Y=M.call(z,z))&&(J?(ae=Tn.bind(null,null),Y.then(ae,ae)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=Ss(Y)))},Q));return(Y&&typeof Y.then=="function"?Te.resolve(Y).then(function(ae){return z.active?ae:Mt(new je.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return Y})).then(function(ae){return q&&z._resolve(),z._completion.then(function(){return ae})}).catch(function(ae){return z._reject(ae),Mt(ae)})})}).bind(null,this,h,y,j,f);return j?j._promise(h,D,"lock"):Oe.trans?Xn(Oe.transless,function(){return b._whenReady(D)}):this._whenReady(D)},Xt.prototype.table=function(l){if(C(this._allTables,l))return this._allTables[l];throw new je.InvalidTable("Table ".concat(l," does not exist"))};var ia=Xt;function Xt(l,u){var f,h,y,b,j,N=this,D=(this._middlewares={},this.verno=0,Xt.dependencies),D=(this._options=u=d({addons:Xt.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange},u.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen}),T=(K.dbReadyPromise=new Te(function(A){K.dbReadyResolve=A}),K.openCanceller=new Te(function(A,k){K.cancelOpen=k}),this._state=K,this.name=l,this.on=ms(this,"populate","blocked","versionchange","close",{ready:[ne,Fe]}),this.once=function(A,k){var q=function(){for(var M=[],z=0;z<arguments.length;z++)M[z]=arguments[z];N.on(A).unsubscribe(q),k.apply(N,M)};return N.on(A,q)},this.on.ready.subscribe=_e(this.on.ready.subscribe,function(A){return function(k,q){Xt.vip(function(){var M,z=N._state;z.openComplete?(z.dbOpenError||Te.resolve().then(k),q&&A(k)):z.onReadyBeingFired?(z.onReadyBeingFired.push(k),q&&A(k)):(A(k),M=N,q||A(function Y(){M.on.ready.unsubscribe(k),M.on.ready.unsubscribe(Y)}))})}}),this.Collection=(f=this,pn(ko.prototype,function(Y,z){this.db=f;var q=Yi,M=null;if(z)try{q=z()}catch(Q){M=Q}var z=Y._ctx,Y=z.table,J=Y.hook.reading.fire;this._ctx={table:Y,index:z.index,isPrimKey:!z.index||Y.schema.primKey.keyPath&&z.index===Y.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:M,or:z.or,valueMapper:J!==dt?J:null}})),this.Table=(h=this,pn(Xi.prototype,function(A,k,q){this.db=h,this._tx=q,this.name=A,this.schema=k,this.hook=h._allTables[A]?h._allTables[A].hook:ms(null,{creating:[Yn,Fe],reading:[Zt,dt],updating:[me,Fe],deleting:[ta,Fe]})})),this.Transaction=(y=this,pn(Zi.prototype,function(A,k,q,M,z){var Y=this;A!=="readonly"&&k.forEach(function(J){J=(J=q[J])==null?void 0:J.yProps,J&&(k=k.concat(J.map(function(Q){return Q.updatesTable})))}),this.db=y,this.mode=A,this.storeNames=k,this.schema=q,this.chromeTransactionDurability=M,this.idbtrans=null,this.on=ms(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(J,Q){Y._resolve=J,Y._reject=Q}),this._completion.then(function(){Y.active=!1,Y.on.complete.fire()},function(J){var Q=Y.active;return Y.active=!1,Y.on.error.fire(J),Y.parent?Y.parent._reject(J):Q&&Y.idbtrans&&Y.idbtrans.abort(),Mt(J)})})),this.Version=(b=this,pn(Bo.prototype,function(A){this.db=b,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(j=this,pn(Fa.prototype,function(A,k,q){if(this.db=j,this._ctx={table:A,index:k===":id"?null:k,or:q},this._cmp=this._ascending=rt,this._descending=function(M,z){return rt(z,M)},this._max=function(M,z){return 0<rt(M,z)?M:z},this._min=function(M,z){return rt(M,z)<0?M:z},this._IDBKeyRange=j._deps.IDBKeyRange,!this._IDBKeyRange)throw new je.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(N.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(N.name,"'. Closing db now to resume the delete request.")),N.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(N.name,"') was blocked")):console.warn("Upgrade '".concat(N.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=El(u.IDBKeyRange),this._createTransaction=function(A,k,q,M){return new N.Transaction(A,k,q,N._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(A){N.on("blocked").fire(A),Xa.filter(function(k){return k.name===N.name&&k!==N&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(A)})},this.use(uu),this.use(si),this.use(Ho),this.use(Uo),this.use(ru),new Proxy(this,{get:function(A,k,q){var M;return k==="_vip"||(k==="table"?function(z){return ws(N.table(z),T)}:(M=Reflect.get(A,k,q))instanceof Xi?ws(M,T):k==="tables"?M.map(function(z){return ws(z,T)}):k==="_createTransaction"?function(){return ws(M.apply(this,arguments),T)}:M)}}));this.vip=T,D.forEach(function(A){return A(N)})}var Tl,el=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",fu=(ii.prototype.subscribe=function(l,u,f){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:u,complete:f})},ii.prototype[el]=function(){return this},ii);function ii(l){this._subscribe=l}try{Tl={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{Tl={indexedDB:null,IDBKeyRange:null}}function du(l){var u,f=!1,h=new fu(function(y){var b=G(l),j,N=!1,D={},K={},T={get closed(){return N},unsubscribe:function(){N||(N=!0,j&&j.abort(),A&&yn.storagemutated.unsubscribe(q))}},A=(y.start&&y.start(T),!1),k=function(){return Oa(M)},q=function(z){ei(D,z),tr(K,D)&&k()},M=function(){var z,Y,J;!N&&Tl.indexedDB&&(D={},z={},j&&j.abort(),j=new AbortController,J=(Q=>{var ae=Ea();try{b&&It();var fe=Kt(l,Q);return fe=b?fe.finally(Tn):fe}finally{ae&&na()}})(Y={subscr:z,signal:j.signal,requery:k,querier:l,trans:null}),Promise.resolve(J).then(function(Q){f=!0,u=Q,N||Y.signal.aborted||(D={},(ae=>{for(var fe in ae)if(C(ae,fe))return;return 1})(K=z)||A||(yn(Nl,q),A=!0),Oa(function(){return!N&&y.next&&y.next(Q)}))},function(Q){f=!1,["DatabaseClosedError","AbortError"].includes(Q?.name)||N||Oa(function(){N||y.error&&y.error(Q)})}))};return setTimeout(k,0),T});return h.hasValue=function(){return f},h.getValue=function(){return u},h}var tl=ia;function rr(l){var u=ka;try{ka=!0,yn.storagemutated.fire(l),lr(l,!0)}finally{ka=u}}F(tl,d(d({},O),{delete:function(l){return new tl(l,{addons:[]}).delete()},exists:function(l){return new tl(l,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return u=tl.dependencies,f=u.indexedDB,u=u.IDBKeyRange,(Ws(f)?Promise.resolve(f.databases()).then(function(h){return h.map(function(y){return y.name}).filter(function(y){return y!==fs})}):Pi(f,u).toCollection().primaryKeys()).then(l)}catch{return Mt(new je.MissingAPI)}var u,f},defineClass:function(){return function(l){U(this,l)}},ignoreTransaction:function(l){return Oe.trans?Xn(Oe.transless,l):l()},vip:Wi,async:function(l){return function(){try{var u=Ss(l.apply(this,arguments));return u&&typeof u.then=="function"?u:Te.resolve(u)}catch(f){return Mt(f)}}},spawn:function(l,u,f){try{var h=Ss(l.apply(f,u||[]));return h&&typeof h.then=="function"?h:Te.resolve(h)}catch(y){return Mt(y)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(l,u){return l=Te.resolve(typeof l=="function"?tl.ignoreTransaction(l):l).timeout(u||6e4),Oe.trans?Oe.trans.waitFor(l):l},Promise:Te,debug:{get:function(){return ke},set:function(l){xe(l)}},derive:ue,extend:U,props:F,override:_e,Events:ms,on:yn,liveQuery:du,extendObservabilitySet:ei,getByKeyPath:Se,setByKeyPath:ge,delByKeyPath:function(l,u){typeof u=="string"?ge(l,u,void 0):"length"in u&&[].map.call(u,function(f){ge(l,f,void 0)})},shallowClone:Ie,deepClone:gt,getObjectDiff:ni,cmp:rt,asap:ve,minKey:-1/0,addons:[],connections:Xa,errnames:Ft,dependencies:Tl,cache:Wa,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,u,f){return l+u/Math.pow(10,2*f)})})),tl.maxKey=El(tl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(yn(Nl,function(l){ka||(l=new CustomEvent($a,{detail:l}),ka=!0,dispatchEvent(l),ka=!1)}),addEventListener($a,function(l){l=l.detail,ka||rr(l)}));var Ml,ka=!1,En=function(){};return typeof BroadcastChannel<"u"&&((En=function(){(Ml=new BroadcastChannel($a)).onmessage=function(l){return l.data&&rr(l.data)}})(),typeof Ml.unref=="function"&&Ml.unref(),yn(Nl,function(l){ka||Ml.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!ia.disableBfCache&&l.persisted){ke&&console.debug("Dexie: handling persisted pagehide"),Ml?.close();for(var u=0,f=Xa;u<f.length;u++)f[u].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!ia.disableBfCache&&l.persisted&&(ke&&console.debug("Dexie: handling persisted pageshow"),En(),rr({all:new gn(-1/0,[[]])}))})),Te.rejectionMapper=function(l,u){return!l||l instanceof ce||l instanceof TypeError||l instanceof SyntaxError||!l.name||!ft[l.name]?l:(u=new ft[l.name](u||l.message,l),"stack"in l&&$(u,"stack",{get:function(){return this.inner.stack}}),u)},xe(ke),d(ia,Object.freeze({__proto__:null,Dexie:ia,Entity:Ir,PropModification:wl,RangeSet:gn,add:function(l){return new wl({add:l})},cmp:rt,default:ia,liveQuery:du,mergeRanges:Pa,rangesOverlap:lu,remove:function(l){return new wl({remove:l})},replacePrefix:function(l,u){return new wl({replacePrefix:[l,u]})}}),{default:ia}),ia})})(xo)),xo.exports}var _x=Nx();const Lf=k0(_x),Op=Symbol.for("Dexie"),No=globalThis[Op]||(globalThis[Op]=Lf);if(Lf.semVer!==No.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Lf.semVer} and ${No.semVer}`);const{liveQuery:wv,mergeRanges:Nv,rangesOverlap:_v,RangeSet:Ev,cmp:Cv,Entity:Av,PropModification:Ov,replacePrefix:Dv,add:Tv,remove:Mv,DexieYProvider:zv}=No,Wf=new No("WiseMarkDB");Wf.version(1).stores({pdfs:"hash, filename, size, blob"});async function Kf(r){const c=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(c)).map(m=>m.toString(16).padStart(2,"0")).join("")}async function If(r,c,m,d){await Wf.pdfs.put({hash:r,filename:c,size:m,blob:d})}async function Ex(r){const c=await Wf.pdfs.get(r);return c?{data:c.blob,filename:c.filename,size:c.size}:null}async function Cx(r){if(!r?.pdf_hash)return null;try{const{data:c}=await an.getPdf(r.id),m=(c instanceof ArrayBuffer,c),d=r.file_size??m?.byteLength??0;return await If(r.pdf_hash,r.filename||"",d,m),{data:m,filename:r.filename||"",size:d}}catch{const c=await Ex(r.pdf_hash);return c||null}}const pa=["#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function Dp(r){if(!r)return null;const c=new Date(r);return Number.isNaN(c.getTime())?null:c.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function Ax(r){if(!r)return null;const c=new Date(r);if(Number.isNaN(c.getTime()))return null;const d=new Date-c,g=Math.floor(d/6e4),v=Math.floor(d/36e5),S=Math.floor(d/864e5);return g<1?"Just now":g<60?`${g}m ago`:v<24?`${v}h ago`:S===1?"Yesterday":S<7?`${S}d ago`:c.toLocaleDateString("en-GB",{day:"numeric",month:"short"})}function Ox({doc:r,lensMap:c,projectColor:m,hovered:d,onHover:g,onLeave:v,onOpen:S,onRename:w,onDelete:U}){const E=c[r.highlight_preset]??c._default,R=E?.colors?.[0]?.hex??"#94a3b8",C=r.color&&pa.includes(r.color)?r.color:m,F=r.annotation_count??0;return o.jsxs("div",{onMouseEnter:()=>g(r.id),onMouseLeave:v,onClick:()=>S(r.id),role:"button",tabIndex:0,onKeyDown:be=>be.key==="Enter"&&S(r.id),className:"flex items-center gap-3.5 rounded-xl bg-white px-4 py-3.5 cursor-pointer transition-shadow duration-200",style:{borderTop:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderRight:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderBottom:`1px solid ${d?"#d1d5db":"#e2e8f0"}`,borderLeft:`3px solid ${C}`,boxShadow:d?"0 2px 8px rgba(0,0,0,0.04)":"none",background:d?"#fafbfc":"#fff"},children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[14.5px] font-medium text-slate-900 truncate leading-snug",style:{fontFamily:"'DM Sans', sans-serif"},children:r.filename?.replace(/\.pdf$/i,"")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[E&&o.jsx("span",{className:"text-[11px] font-medium px-1.5 py-0.5 rounded",style:{color:R,background:`${R}14`},children:E.name}),Dp(r.created_at)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsx("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:Dp(r.created_at)})]}),r.last_opened_at&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11.5px] text-slate-400",style:{fontFamily:"'DM Sans', sans-serif"},children:["Opened ",Ax(r.last_opened_at)]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2.5 shrink-0",children:F>0?o.jsxs("span",{className:"text-xs font-medium text-slate-500",style:{fontFamily:"'DM Sans', sans-serif"},children:[F," note",F!==1?"s":""]}):o.jsx("span",{className:"text-xs text-slate-300 italic",style:{fontFamily:"'DM Sans', sans-serif"},children:"No annotations"})}),o.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 transition-opacity duration-150",style:{opacity:d?1:0},children:[o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),w(r)},className:"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",title:"Rename",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:be=>{be.stopPropagation(),U(r)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]}),o.jsx(Xr,{className:"w-4 h-4 shrink-0 transition-colors",style:{color:d?"#475569":"#cbd5e1"}})]})}function Dx(){const{projectId:r}=Xf(),c=ls(),m=Ui(),[d,g]=H.useState(!1),[v,S]=H.useState(""),[w,U]=H.useState(null),[E,R]=H.useState(""),[C,F]=H.useState(!1),[be,$]=H.useState(""),[ue,I]=H.useState(null),[De,ye]=H.useState(""),[_e,se]=H.useState(null),[ve,Se]=H.useState(pa[0]),ge=H.useRef(null),Ie=H.useRef(null),Ke=H.useRef(null),[tt,Ue]=H.useState(0),[$e,gt]=H.useState(null),[Ae,Qe]=H.useState("recent"),[X,ie]=H.useState(!1),[pe,we]=H.useState(null),[Ne,G]=H.useState(!1),{data:O,isLoading:W}=kn({queryKey:["project",r],queryFn:async()=>(await Qr.get(r)).data,enabled:!!r}),{data:ce,isLoading:qe}=kn({queryKey:["documents",r],queryFn:async()=>(await an.list({project:r})).data,enabled:!!r}),et=Array.isArray(ce)?ce:ce?.results??[],{data:vt=[]}=kn({queryKey:["lenses"],queryFn:async()=>(await In.list()).data}),Ft=H.useMemo(()=>{const ze={};vt.forEach(wt=>{ze[wt.id]=wt});const Ye=vt.find(wt=>wt.is_system)??vt[0];return Ye&&(ze._default=Ye),ze},[vt]),dn=H.useMemo(()=>{const ze=[...et];return Ae==="recent"?ze.sort((Ye,wt)=>{const qt=Ye.last_opened_at||Ye.updated_at||Ye.created_at||"";return(wt.last_opened_at||wt.updated_at||wt.created_at||"").localeCompare(qt)}):Ae==="uploaded"?ze.sort((Ye,wt)=>(wt.created_at||"").localeCompare(Ye.created_at||"")):Ae==="name"?ze.sort((Ye,wt)=>(Ye.filename||"").localeCompare(wt.filename||"")):Ae==="annotations"&&ze.sort((Ye,wt)=>(wt.annotation_count??0)-(Ye.annotation_count??0)),ze},[et,Ae]),je=et.reduce((ze,Ye)=>ze+(Ye.annotation_count??0),0),ft=An({mutationFn:({id:ze,name:Ye})=>Qr.update(ze,{name:Ye}),onSuccess:()=>{m.invalidateQueries({queryKey:["project",r]}),m.invalidateQueries({queryKey:["projects"]}),F(!1)}}),Fe=An({mutationFn:({id:ze,filename:Ye})=>an.update(ze,{filename:Ye}),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),U(null),R("")}}),dt=An({mutationFn:ze=>an.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["documents",r]}),we(null)}}),Zt=An({mutationFn:ze=>Qr.delete(ze),onSuccess:()=>{m.invalidateQueries({queryKey:["projects"]}),c("/app",{replace:!0})}}),Ot=async ze=>{const Ye=ze.target.files?.[0];if(!Ye||!Ye.type.includes("pdf"))return;S(""),I(Ye);const wt=Ye.name.replace(/\.pdf$/i,"")||Ye.name;ye(wt),Se(pa[et.length%pa.length]),se(null),ge.current=null;try{const qt=await Ye.arrayBuffer(),Ct=await Kf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Ye.size};se(Ut),ge.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),I(null),ye("")}},Yn=async ze=>{ze.preventDefault(),ie(!1);const Ye=ze.dataTransfer?.files?.[0];if(!Ye||!Ye.type.includes("pdf"))return;S(""),I(Ye);const wt=Ye.name.replace(/\.pdf$/i,"")||Ye.name;ye(wt),Se(pa[et.length%pa.length]),se(null),ge.current=null;try{const qt=await Ye.arrayBuffer(),Ct=await Kf(qt),Ut={arrayBuffer:qt,hash:Ct,size:Ye.size};se(Ut),ge.current={...Ut,suggestedName:wt}}catch(qt){S(qt.message||"Could not read file"),I(null),ye("")}},ta=()=>{I(null),ye(""),se(null),Se(pa[0]),S(""),ge.current=null,Ue(ze=>ze+1)},me=()=>Ke.current?.click(),at=async ze=>{ze.preventDefault();const Ye=r,qt=Ie.current?.value?.trim()||De?.trim()||ge.current?.suggestedName?.trim()||"",Ct=ge.current||_e;if(!Ye){S("Project not found.");return}if(!qt){S("Please enter a name for the PDF.");return}if(!Ct||!Ct.hash||!Ct.arrayBuffer){S("File data missing. Please close and select the file again.");return}const Ut=qt.toLowerCase().endsWith(".pdf")?qt:`${qt}.pdf`;S(""),g(!0);try{const Oe=new FormData;Oe.append("project",String(Ye)),Oe.append("filename",Ut),Oe.append("color",ve),Oe.append("file",new Blob([Ct.arrayBuffer]),Ut),await an.createWithFile(Oe),await If(Ct.hash,Ut,Ct.size,Ct.arrayBuffer),m.invalidateQueries({queryKey:["documents",Ye]}),I(null),ye(""),se(null),ge.current=null,Ue(ga=>ga+1)}catch(Oe){const ga=Oe.response?.data?.detail||typeof Oe.response?.data=="object"&&Object.values(Oe.response?.data||{}).flat().join(" ")||Oe.message||"Upload failed";S(String(ga))}finally{g(!1)}},ne=ze=>{U(ze.id),R(ze.filename||"")},ke=()=>{if(w==null||!E.trim()){U(null);return}Fe.mutate({id:w,filename:E.trim()})},xe=()=>{U(null),R("")},Ze=()=>{$(O?.name??""),F(!0)},st=()=>{const ze=be.trim();if(!ze||ze===O?.name){F(!1);return}ft.mutate({id:r,name:ze})},bt=()=>{F(!1),$("")},Et=xl(ze=>ze.logout),{data:mn}=kn({queryKey:["me"],queryFn:async()=>(await Bi.me()).data}),sn=(mn?.email?.[0]||mn?.username?.[0]||"?").toUpperCase(),Dn=O?.color&&pa.includes(O.color)?O.color:O?pa[O.id%pa.length]:pa[0];return W||!O?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 animate-spin text-slate-400"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif",color:"#1e293b"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>c("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("div",{className:"w-6 h-6 rounded-md bg-slate-700 flex items-center justify-center text-white text-xs font-semibold",children:"W"}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{Et(),c("/login",{replace:!0})},className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c("/app/settings"),className:"w-8 h-8 rounded-full bg-slate-700 text-white flex items-center justify-center text-[13px] font-semibold hover:bg-slate-600 transition-colors cursor-pointer",title:"Account settings",children:sn})]})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsxs("div",{className:"flex items-start justify-between mb-1",children:[o.jsx("div",{className:"flex items-center gap-2 min-w-0",children:C?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:be,onChange:ze=>$(ze.target.value),className:"border border-slate-200 rounded-lg px-3 py-2 text-slate-900 min-w-0 flex-1 max-w-md text-[28px]",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em"},autoFocus:!0,onKeyDown:ze=>{ze.key==="Enter"&&st(),ze.key==="Escape"&&bt()}}),o.jsx("button",{type:"button",onClick:st,className:"p-2 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-5 h-5"})}),o.jsx("button",{type:"button",onClick:bt,className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-5 h-5"})})]}):o.jsx("h1",{className:"m-0 text-[26px] text-slate-900 truncate",style:{fontFamily:"'DM Serif Display', serif",fontWeight:400,letterSpacing:"-0.01em",lineHeight:1.2},children:O.name})}),!C&&o.jsxs("div",{className:"flex items-center gap-1.5 shrink-0 mt-1",children:[o.jsx("button",{type:"button",onClick:Ze,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50",title:"Edit project name",children:o.jsx(To,{className:"w-3.5 h-3.5"})}),o.jsx("button",{type:"button",onClick:()=>G(!0),disabled:Zt.isPending,className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:text-red-600 hover:border-red-200 hover:bg-red-50",title:"Delete project",children:o.jsx(ss,{className:"w-3.5 h-3.5"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsxs("span",{children:[et.length," document",et.length!==1?"s":""]}),o.jsx("span",{className:"text-slate-300",children:""}),o.jsxs("span",{children:[je," annotation",je!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("select",{value:Ae,onChange:ze=>Qe(ze.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2.5 py-1.5 cursor-pointer outline-none",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("option",{value:"recent",children:"Recently opened"}),o.jsx("option",{value:"uploaded",children:"Date uploaded"}),o.jsx("option",{value:"name",children:"Name AZ"}),o.jsx("option",{value:"annotations",children:"Most annotated"})]}),o.jsxs("button",{type:"button",onClick:me,disabled:d,className:"flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg text-white transition-colors hover:bg-slate-700 disabled:opacity-70",style:{background:"#1e293b"},children:[o.jsx(wo,{className:"w-4 h-4"}),"Add PDF"]})]}),o.jsx("input",{ref:Ke,type:"file",accept:".pdf",onChange:Ot,className:"hidden","aria-hidden":"true",tabIndex:-1},tt),v&&o.jsx("p",{className:"text-sm text-red-600 mb-4",children:v}),d&&o.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-600 mb-4",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"})," Uploading"]}),qe?o.jsxs("div",{className:"flex items-center gap-2 text-slate-500 py-12",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin"})," Loading PDFs"]}):et.length===0?o.jsxs("div",{className:"rounded-xl border border-slate-200 p-8 text-center text-slate-500",children:[o.jsx(qi,{className:"w-12 h-12 mx-auto mb-3 text-slate-400"}),o.jsx("p",{children:"No PDFs in this project yet. Add a PDF above."})]}):o.jsx("div",{className:"flex flex-col gap-1.5",children:dn.map(ze=>w===ze.id?o.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-3",children:[o.jsx("input",{type:"text",value:E,onChange:Ye=>R(Ye.target.value),className:"flex-1 min-w-0 border border-slate-200 rounded-lg px-3 py-2 text-slate-900",autoFocus:!0,onKeyDown:Ye=>{Ye.key==="Enter"&&ke(),Ye.key==="Escape"&&xe()}}),o.jsx("button",{type:"button",onClick:ke,className:"p-2.5 text-green-600 hover:bg-slate-100 rounded-lg shrink-0",title:"Save",children:o.jsx(jo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:xe,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-lg shrink-0",title:"Cancel",children:o.jsx(as,{className:"w-4 h-4"})})]},ze.id):o.jsx(Ox,{doc:ze,lensMap:Ft,projectColor:Dn,hovered:$e===ze.id,onHover:gt,onLeave:()=>gt(null),onOpen:Ye=>c(`/document/${Ye}`),onRename:ne,onDelete:Ye=>we(Ye)},ze.id))}),et.length>0&&o.jsxs("div",{onDragOver:ze=>{ze.preventDefault(),ie(!0)},onDragLeave:()=>ie(!1),onDrop:Yn,onClick:me,className:"mt-2 rounded-xl py-7 flex flex-col items-center gap-1.5 cursor-pointer transition-all duration-200",style:{border:`2px dashed ${X?"#2563eb":"#e2e8f0"}`,background:X?"#eff6ff":"transparent"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center transition-colors",style:{background:X?"#dbeafe":"#f1f5f9"},children:o.jsx(wo,{className:"w-4 h-4 text-slate-400"})}),o.jsx("span",{className:"text-[13px] font-medium transition-colors",style:{color:X?"#2563eb":"#94a3b8"},children:"Drop a PDF here or click to upload"})]})]}),ue&&o.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center p-4 bg-slate-950/40 backdrop-blur-sm cursor-pointer",onClick:ta,children:o.jsxs("div",{className:"rounded-xl bg-white border border-slate-200 shadow-xl w-full max-w-md p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h2",{className:"m-0 text-lg font-semibold text-slate-900 mb-4",style:{fontFamily:"'Instrument Serif', serif"},children:"Name this PDF"}),_e?o.jsxs("div",{className:"space-y-4",children:[v&&o.jsx("p",{className:"text-sm text-red-600 bg-red-50 rounded-lg px-3 py-2",children:v}),o.jsx("input",{ref:Ie,type:"text",value:De,onChange:ze=>ye(ze.target.value),placeholder:"Document name",className:"w-full border border-slate-200 rounded-lg px-3 py-2.5 text-slate-900",autoFocus:!0,disabled:d}),o.jsx("label",{className:"block text-[13px] font-medium text-slate-600 mb-2 uppercase tracking-wider",style:{fontFamily:"'JetBrains Mono', monospace"},children:"Colour"}),o.jsx("div",{className:"flex gap-2",children:pa.map(ze=>o.jsx("button",{type:"button",onClick:()=>Se(ze),disabled:d,className:"w-7 h-7 rounded-full shrink-0 transition-all border-2 border-transparent focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-60",style:{background:ze,borderColor:ve===ze?"#1e293b":"transparent",outline:ve===ze?"2px solid #fff":"none",outlineOffset:-4}},ze))}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:ta,disabled:d,className:"px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:at,disabled:d||!De.trim(),className:"px-4 py-2 text-sm font-medium rounded-lg text-white hover:bg-slate-700",style:{background:"#1e293b"},children:d?o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Saving"]}):"Upload & save"})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-slate-600 py-4",children:[o.jsx(ya,{className:"w-5 h-5 animate-spin shrink-0"}),o.jsx("span",{children:"Reading file"})]})]})}),pe&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!dt.isPending&&we(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete document?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:pe.filename?.replace(/\.pdf$/i,"")})," and all its annotations."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>we(null),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>dt.mutate(pe.id),disabled:dt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:dt.isPending?"Deleting":"Delete"})]})]})}),Ne&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>!Zt.isPending&&G(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-6",onClick:ze=>ze.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete project?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This will permanently delete ",o.jsx("strong",{children:O.name})," and all its documents. This cannot be undone."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>G(!1),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>Zt.mutate(r),disabled:Zt.isPending,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70",children:Zt.isPending?"Deleting":"Delete project"})]})]})})]})}const bl={yellow:{key:"yellow",label:"Yellow",name:"Key Metrics",hex:"#EAB308",rgba:"rgba(254, 243, 199, 0.5)",rgbaSoft:"rgba(234,179,8,0.18)",rgbaHover:"rgba(234,179,8,0.38)",solid:"#fbbf24"},green:{key:"green",label:"Green",name:"Competitive Advantages",hex:"#22C55E",rgba:"rgba(209, 250, 229, 0.5)",rgbaSoft:"rgba(34,197,94,0.18)",rgbaHover:"rgba(34,197,94,0.38)",solid:"#10b981"},blue:{key:"blue",label:"Blue",name:"Management Questions",hex:"#3B82F6",rgba:"rgba(219, 234, 254, 0.5)",rgbaSoft:"rgba(59,130,246,0.18)",rgbaHover:"rgba(59,130,246,0.38)",solid:"#3b82f6"},pink:{key:"pink",label:"Pink",name:"Investment Risks",hex:"#EC4899",rgba:"rgba(252, 231, 243, 0.5)",rgbaSoft:"rgba(236,72,153,0.18)",rgbaHover:"rgba(236,72,153,0.38)",solid:"#ec4899"},orange:{key:"orange",label:"Orange",name:"Commercial DD",hex:"#F97316",rgba:"rgba(254, 215, 170, 0.5)",rgbaSoft:"rgba(249,115,22,0.18)",rgbaHover:"rgba(249,115,22,0.38)",solid:"#f59e0b"}},_o=Object.keys(bl);function Ka(r,c=1){if(!r||!r.startsWith("#"))return`rgba(148,163,184,${c})`;const m=parseInt(r.slice(1),16),d=m>>16&255,g=m>>8&255,v=m&255;return`rgba(${d},${g},${v},${c})`}function ns(r,c={},m){if(c&&typeof c[r]=="string"&&c[r].trim())return c[r].trim();if(m?.length){const d=m.find(g=>g.key===r);if(d?.display_name)return d.display_name}return bl[r]&&bl[r].name||r}U0.workerSrc=new URL("/static/frontend/assets/pdf.worker-BA9kU3Pw.mjs",import.meta.url).toString();const Tx=()=>typeof window<"u"&&window.devicePixelRatio||1;function Mx(r,c){const m=Math.sqrt(c[2]*c[2]+c[3]*c[3]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),g=m,v=g,S=typeof r.width=="number"&&r.width>0?r.width*d:(r.str?.length||1)*v*.5,w=c[4],U=c[5]-g*.85;return{x:w,y:U,w:S,h:v}}function zx(r,c,m){const g=(typeof document<"u"?document.createElement("canvas"):null)?.getContext("2d"),v=[];let S=0,w=-999;const U=4;let E=0;return r.items.forEach(R=>{if(!R.str||R.str.trim()==="")return;const C=L0.transform(c.transform,R.transform),F=Mx(R,C);Math.abs(F.y-w)>U&&(S+=1,w=F.y);const be=F.h,$=typeof R.width=="number"&&R.width>0?R.width*m:F.w,ue=R.str.split(/(\s+)/);if(!g||ue.length===0){v.push({id:E++,text:R.str,x:F.x,y:F.y,w:F.w,h:F.h,fontSize:F.h,lineIndex:S});return}g.font=`${be}px sans-serif`;const I=ue.map(se=>({text:se,measured:g.measureText(se).width,isSpace:/^\s+$/.test(se)||se===""})),De=I.reduce((se,ve)=>se+ve.measured,0),ye=De>0?$/De:1;let _e=0;I.forEach(se=>{const ve=se.measured*ye;if(se.text===""||se.isSpace){_e+=ve;return}v.push({id:E,text:se.text,x:F.x+_e,y:F.y,w:ve,h:be,fontSize:be,lineIndex:S}),E+=1,_e+=ve})}),v}function cy(r){const c={};return r.forEach(m=>{const d=m.lineIndex??Math.round(m.y/4)*4;c[d]||(c[d]=[]),c[d].push(m)}),Object.values(c)}function Tp(r,c,m){let v=null,S=1/0;for(const w of r){if(!(m>=w.y-6&&m<=w.y+w.h+6))continue;if(c>=w.x-4&&c<=w.x+w.w+4)return w;const R=c<w.x?w.x-c:c-(w.x+w.w);R<S&&R<40&&(S=R,v=w)}return v}function kx(r){if(!r.length)return"";const c=[];for(let v=1;v<r.length;v++){const S=r[v],w=r[v-1];(S.lineIndex??0)!==(w.lineIndex??0)&&S.y>w.y&&c.push(S.y-w.y)}const m=c.length?[...c].sort((v,S)=>v-S):[],d=m.length?m[Math.floor(m.length*.25)]||m[0]:null;let g="";for(let v=0;v<r.length;v++){const S=r[v];if(v>0){const w=r[v-1],U=(S.lineIndex??0)===(w.lineIndex??0),E=S.y-w.y,R=Math.max(8,(w.h+S.h)/2),C=d!=null?d*1.4:R*1.5,F=!U&&E>=C;U?S.x-(w.x+w.w)>1&&(g+=" "):F?g+=`

`:g+=`
`}g+=S.text}return g.trim()}function Rx(r,c){return r.length?cy(r).map(d=>{const g=Math.min(...d.map(C=>C.x)),v=Math.max(...d.map(C=>C.x+C.w)),S=d.map(C=>C.y),w=S.sort((C,F)=>C-F)[Math.floor(S.length/2)],U=Math.max(...d.map(C=>C.h)),E=2;return{x:(g-1)/c,y:(w-E)/c,width:(v-g+2)/c,height:(U+E+3)/c}}):[]}function Bx({pdfData:r,scale:c,highlights:m=[],hoveredHighlightId:d=null,activeHighlightId:g=null,selectionForPicker:v=null,lensColors:S=[],onSelectionComplete:w,onNumPages:U,onHighlightHover:E,onHighlightHoverEnd:R,onHighlightEdit:C,onHighlightDelete:F}){const[be,$]=H.useState(null),[ue,I]=H.useState(0),[De,ye]=H.useState(!0);return H.useEffect(()=>{if(!r)return;let _e=!1;return(async()=>{ye(!0);try{const ve=r.slice(0),Se=await H0({data:ve}).promise;_e||($(Se),I(Se.numPages),U?.(Se.numPages))}catch(ve){console.error("Failed to load PDF",ve)}_e||ye(!1)})(),()=>{_e=!0}},[r,U]),De?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(ya,{className:"w-6 h-6 text-slate-400 animate-spin"})}):be?o.jsx("div",{className:"flex flex-col items-center py-6 gap-4",children:Array.from({length:ue},(_e,se)=>o.jsx(qx,{pdf:be,pageNumber:se+1,scale:c,pageHighlights:m.filter(ve=>ve.page_number===se+1),hoveredHighlightId:d,activeHighlightId:g,selectionForPicker:v,lensColors:S,onSelectionComplete:w,onHighlightHover:E,onHighlightHoverEnd:R,onHighlightEdit:C,onHighlightDelete:F},se))}):null}function qx({pdf:r,pageNumber:c,scale:m,pageHighlights:d,hoveredHighlightId:g,activeHighlightId:v,selectionForPicker:S,lensColors:w=[],onSelectionComplete:U,onHighlightHover:E,onHighlightHoverEnd:R,onHighlightEdit:C,onHighlightDelete:F}){const be=H.useRef(null),$=H.useRef(null),ue=H.useRef(null),I=H.useRef(null),[De,ye]=H.useState({width:0,height:0}),[_e,se]=H.useState([]),[ve,Se]=H.useState(null),[ge,Ie]=H.useState(null),[Ke,tt]=H.useState(!1),Ue=H.useRef(null),$e=H.useRef(null),gt=H.useCallback(()=>{$e.current&&clearTimeout($e.current),$e.current=setTimeout(()=>{R?.(),$e.current=null},1e3)},[R]),Ae=H.useCallback(G=>{$e.current&&(clearTimeout($e.current),$e.current=null),E?.(G)},[E]);H.useEffect(()=>()=>{$e.current&&clearTimeout($e.current)},[]),H.useEffect(()=>{let G=!1;return(async()=>{const W=await r.getPage(c),ce=Tx(),qe=W.getViewport({scale:m}),et=W.getViewport({scale:m*ce}),vt=$.current;if(!vt||G)return;const Ft=vt.getContext("2d",{alpha:!1});Ft.imageSmoothingEnabled=!0,Ft.imageSmoothingQuality="high",vt.width=et.width,vt.height=et.height,vt.style.width=`${qe.width}px`,vt.style.height=`${qe.height}px`,ye({width:qe.width,height:qe.height}),await W.render({canvasContext:Ft,viewport:et}).promise;const dn=await W.getTextContent();if(G)return;const je=zx(dn,qe,m);se(je);const ft=ue.current;!ft||G||(ft.innerHTML="",ft.style.width=`${qe.width}px`,ft.style.height=`${qe.height}px`,je.forEach(Fe=>{const dt=document.createElement("span");dt.textContent=Fe.text,dt.style.position="absolute",dt.style.left=`${Fe.x}px`,dt.style.top=`${Fe.y}px`,dt.style.width=`${Fe.w}px`,dt.style.height=`${Fe.h}px`,dt.style.fontSize=`${Fe.fontSize}px`,dt.style.fontFamily="sans-serif",dt.style.color="transparent",dt.style.whiteSpace="pre",dt.style.pointerEvents="none",dt.style.lineHeight="1",ft.appendChild(dt)}))})(),()=>{G=!0}},[r,c,m]);const Qe=H.useMemo(()=>{if(S&&S.pageNumber===c){const W=Math.min(S.spanStart,S.spanEnd),ce=Math.max(S.spanStart,S.spanEnd);return _e.filter(qe=>qe.id>=W&&qe.id<=ce)}if(ve==null||ge==null)return[];const G=Math.min(ve,ge),O=Math.max(ve,ge);return _e.filter(W=>W.id>=G&&W.id<=O)},[_e,S,c,ve,ge]);H.useEffect(()=>{S===null&&Ue.current?.pageNumber===c&&(Se(null),Ie(null)),Ue.current=S},[S,c]);const X=H.useCallback((G,O)=>{const W=be.current?.getBoundingClientRect();return W?{x:G-W.left,y:O-W.top}:{x:0,y:0}},[]),ie=H.useCallback(G=>{if(G.button!==0||!_e.length)return;const{x:O,y:W}=X(G.clientX,G.clientY),ce=Tp(_e,O,W);ce?(Se(ce.id),Ie(ce.id),tt(!0)):(Se(null),Ie(null))},[_e,X]),pe=H.useCallback(G=>{if(!Ke)return;const{x:O,y:W}=X(G.clientX,G.clientY),ce=Tp(_e,O,W);ce&&Ie(ce.id)},[Ke,_e,X]),we=H.useCallback(G=>{if(G.button!==0||!Ke)return;if(tt(!1),Qe.length<2){Se(null),Ie(null);return}if(!U)return;const O=be.current?.getBoundingClientRect();if(!O)return;const W={rects:Rx(Qe,m)},ce=kx(Qe),qe=Qe[Qe.length-1],et={x:O.left+(qe.x+qe.w/2),y:O.top+(qe.y-8)};U({pageNumber:c,position_data:W,highlighted_text:ce,spanStart:Math.min(ve,ge),spanEnd:Math.max(ve,ge),pickerPosition:et})},[Ke,Qe,ve,ge,m,c,U]);H.useEffect(()=>{const G=I.current||be.current;if(G)return G.addEventListener("mousedown",ie),G.addEventListener("mousemove",pe),G.addEventListener("mouseup",we),G.addEventListener("mouseleave",we),()=>{G.removeEventListener("mousedown",ie),G.removeEventListener("mousemove",pe),G.removeEventListener("mouseup",we),G.removeEventListener("mouseleave",we)}},[ie,pe,we]);const Ne=H.useMemo(()=>cy(Qe),[Qe]);return o.jsxs("div",{ref:be,"data-page":c,className:"relative shadow-lg bg-white overflow-hidden select-none",style:{width:De.width||0,height:De.height||0,cursor:"text"},title:"Drag to highlight text",children:[o.jsx("canvas",{ref:$,className:"block w-full h-full",style:{display:"block"}}),o.jsxs("div",{ref:I,className:"absolute inset-0",style:{pointerEvents:"auto"},children:[d.map(G=>{const O=G.position_data?.rects||[],W=(w??[]).find(ft=>ft.key===G.color),ce=bl[G.color]||bl.yellow,qe=W?.hex??ce?.hex??ce?.solid,et=g!=null&&String(G.id)===String(g),vt=v!=null&&String(G.id)===String(v),Ft=et||vt?Ka(qe,.38):Ka(qe,.18),dn=C||F;let je=null;if(O.length>0){const ft=Math.min(...O.map(Ot=>Ot.x))*m,Fe=Math.min(...O.map(Ot=>Ot.y))*m,dt=Math.max(...O.map(Ot=>(Ot.x||0)+(Ot.width||0)))*m,Zt=Math.max(...O.map(Ot=>(Ot.y||0)+(Ot.height||4)))*m;je={left:ft,top:Fe,width:dt-ft,height:Zt-Fe}}return je?o.jsxs("div",{className:"absolute rounded-sm transition-colors duration-150 group",style:{left:je.left,top:je.top,width:je.width,height:je.height,pointerEvents:"auto"},onMouseEnter:()=>Ae(G.id),onMouseLeave:gt,children:[O.map((ft,Fe)=>o.jsx("div",{className:"absolute rounded-sm transition-colors duration-150",style:{left:(ft.x||0)*m-je.left,top:(ft.y||0)*m-je.top,width:Math.max(0,(ft.width||0)*m),height:Math.max(4,(ft.height||0)*m),backgroundColor:Ft,pointerEvents:"none"}},Fe)),dn&&et&&je&&o.jsxs("div",{className:"absolute flex items-center gap-0.5 rounded-md border border-slate-200 bg-white shadow-sm z-10",style:{left:0,bottom:"100%",marginBottom:4},onMouseEnter:()=>Ae(G.id),onMouseLeave:gt,children:[C&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),C(G.id,ft)},className:"p-1.5 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-l-md transition-colors",title:"Edit note","aria-label":"Edit note",children:o.jsx(To,{className:"w-3.5 h-3.5",strokeWidth:2})}),F&&o.jsx("button",{type:"button",onClick:ft=>{ft.stopPropagation(),F(G.id)},className:"p-1.5 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-r-md transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},G.id):null}),Ne.map((G,O)=>{const W=Math.min(...G.map(je=>je.x)),ce=Math.max(...G.map(je=>je.x+je.w)),qe=G.map(je=>je.y).sort((je,ft)=>je-ft),et=qe[Math.floor(qe.length/2)],vt=Math.max(...G.map(je=>je.h)),Ft=2;return o.jsx("div",{className:"absolute rounded-sm pointer-events-none",style:{left:`${W-1}px`,top:`${et-Ft}px`,width:`${ce-W+2}px`,height:`${vt+Ft+3}px`,backgroundColor:"rgba(59, 130, 246, 0.2)"}},O)})]}),o.jsx("div",{ref:ue,className:"absolute inset-0 overflow-hidden pointer-events-none","aria-hidden":!0})]})}function Ux({highlights:r,colorLabels:c,lensColors:m=[],documentColorKeys:d,activeHighlightId:g,onScrollToPage:v,onHighlightClick:S,onHighlightHover:w,onHighlightHoverEnd:U,onClearActive:E,documentId:R,onHighlightNoteUpdate:C,onHighlightDelete:F,openEditForHighlightId:be,onClearOpenEditForHighlightId:$}){const ue=m?.length>0?m.map(Ae=>Ae.key):d?.length>0?d:_o,[I,De]=H.useState("all"),[ye,_e]=H.useState(!1),[se,ve]=H.useState(""),[Se,ge]=H.useState(null),[Ie,Ke]=H.useState("");H.useEffect(()=>{if(be==null||!r?.length)return;const Ae=r.find(Qe=>String(Qe.id)===String(be));Ae&&(ge(Ae.id),Ke(Ae.note?.content??"")),$?.()},[be,r,$]);const tt=H.useMemo(()=>{let Ae=r||[];if(I!=="all"&&(Ae=Ae.filter(Qe=>Qe.color===I)),se.trim()){const Qe=se.trim().toLowerCase();Ae=Ae.filter(X=>X.highlighted_text&&X.highlighted_text.toLowerCase().includes(Qe)||X.note?.content&&X.note.content.toLowerCase().includes(Qe))}return Ae},[r,I,se]),Ue=Ae=>{ge(Ae.id),Ke(Ae.note?.content??"")},$e=async()=>{if(Se==null||!R||!C){ge(null);return}await C(Se,Ie.trim()||""),ge(null)},gt=()=>{ge(null),Ke("")};return o.jsxs("div",{className:`w-80 shrink-0 flex flex-col border-l ${ea.default} ${Na.surface}`,children:[o.jsxs("div",{className:`px-4 pt-5 pb-0 border-b ${ea.default}`,children:[o.jsx("h2",{className:`text-[15px] font-semibold ${Ve.heading} mb-1`,children:"Annotations"}),o.jsxs("p",{className:`text-xs ${Ve.muted} mb-4`,children:[tt.length," highlight",tt.length!==1?"s":"",r?.length!==tt.length&&` of ${r?.length||0}`]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{children:o.jsx("button",{type:"button",onClick:()=>{De("all"),E?.()},className:`text-[11px] font-semibold px-3 py-1 rounded-full border cursor-pointer transition-colors ${I==="all"?"bg-slate-900 text-white border-slate-900":`border-slate-200 ${Ve.secondary} hover:bg-slate-50`}`,children:"All"})}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:()=>_e(Ae=>!Ae),className:`flex items-center gap-1.5 text-[11px] font-semibold ${Ve.secondary} hover:text-slate-800 transition-colors`,children:[ye?o.jsx(Xr,{className:"w-3.5 h-3.5 shrink-0"}):o.jsx(bo,{className:"w-3.5 h-3.5 shrink-0"}),"Categories"]}),!ye&&o.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:ue.map(Ae=>{const Qe=(r||[]).filter(G=>G.color===Ae).length,X=bl[Ae],pe=m?.find(G=>G.key===Ae)?.hex??X?.hex??X?.solid??"#94a3b8",we=ns(Ae,c,m),Ne=I===Ae;return o.jsxs("button",{type:"button",onClick:()=>{De(Ne?"all":Ae),E?.()},className:`text-[11px] font-semibold px-2.5 py-1 rounded-full border cursor-pointer transition-colors flex items-center gap-1.5 ${Ne?"border-transparent":`border-slate-200 ${Ve.secondary} hover:bg-slate-50`}`,style:Ne?{backgroundColor:`${pe}25`,color:pe}:void 0,children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:pe,opacity:1}}),o.jsx("span",{children:we}),o.jsxs("span",{className:Ne?"opacity-80":Ve.muted,children:["(",Qe,")"]})]},Ae)})})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:se,onChange:Ae=>ve(Ae.target.value),className:`w-full pl-8 pr-3 py-1.5 text-xs border ${ea.default} rounded-lg bg-slate-50 outline-none ${Ve.body} placeholder:${Ve.muted}`})]})]}),o.jsx("div",{className:"flex-1 overflow-auto px-3 pb-5",children:r?.length?tt.length?o.jsx("ul",{className:"space-y-1.5",children:tt.map(Ae=>{const Qe=bl[Ae.color]||bl.yellow,ie=m?.find(Ne=>Ne.key===Ae.color)?.hex??Qe?.hex??Qe?.solid??"#94a3b8",pe=Ae.note?.content,we=g!=null&&String(Ae.id)===String(g);return o.jsx("li",{children:o.jsxs("div",{role:"button",tabIndex:0,className:`w-full text-left rounded-[10px] p-3 transition-all cursor-pointer border ${we?"border-slate-300":"border-transparent hover:border-slate-200"} hover:bg-slate-50`,onClick:()=>{S?.(Ae.id),v?.(Ae.page_number)},onKeyDown:Ne=>{Ne.target.tagName==="TEXTAREA"||Ne.target.tagName==="INPUT"||Ne.target.isContentEditable||(Ne.key==="Enter"||Ne.key===" ")&&(Ne.preventDefault(),S?.(Ae.id),v?.(Ae.page_number))},onMouseEnter:()=>w?.(Ae.id),onMouseLeave:U,children:[o.jsxs("div",{className:"flex gap-2.5",children:[o.jsx("div",{className:"w-0.5 min-h-9 shrink-0 rounded-full transition-opacity",style:{backgroundColor:ie,opacity:we?1:.6}}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`text-xs leading-snug ${Ve.body} whitespace-pre-wrap`,children:Ae.highlighted_text||"(No text captured)"})})]}),Se===Ae.id?o.jsxs("div",{className:"mt-2 pl-3.5 space-y-1.5",children:[o.jsx("textarea",{value:Ie,onChange:Ne=>Ke(Ne.target.value),placeholder:"Add a comment...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ve.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("button",{type:"button",onClick:$e,className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700",children:"Save"}),o.jsx("button",{type:"button",onClick:gt,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[pe&&o.jsx("p",{className:`text-[11.5px] ${Ve.muted} mt-2 pl-3.5 leading-snug italic`,children:pe}),R&&C&&o.jsx("button",{type:"button",onClick:()=>Ue(Ae),className:"mt-1.5 pl-3.5 text-[11px] text-slate-500 hover:text-slate-700",children:pe?"Edit comment":"Add comment"})]}),o.jsxs("div",{className:"mt-2 pl-3.5 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:ie,backgroundColor:`${ie}12`},children:ns(Ae.color,c,m)}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",Ae.page_number]}),R&&F&&o.jsx("button",{type:"button",onClick:Ne=>{Ne.stopPropagation(),F(Ae.id)},className:"ml-auto p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete highlight","aria-label":"Delete highlight",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})},Ae.id)})}):o.jsx("div",{className:`py-6 text-center ${Ve.muted} text-sm`,children:"No matching highlights."}):o.jsxs("div",{className:`py-8 text-center ${Ve.muted} text-sm`,children:[o.jsx(qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Select text on the document to create your first highlight."})]})})]})}const Qf=[{colorKey:"yellow",color:"#FBBF24",shortcut:"1"},{colorKey:"green",color:"#34D399",shortcut:"2"},{colorKey:"blue",color:"#60A5FA",shortcut:"3"},{colorKey:"pink",color:"#F472B6",shortcut:"4"},{colorKey:"orange",color:"#FB923C",shortcut:"5"}];function Hx(r,c){return r?.length?[...r].sort((d,g)=>(d.sort_order??0)-(g.sort_order??0)).map((d,g)=>({colorKey:d.key,color:d.hex,shortcut:String(g+1)})):c?.length>0?c.map(m=>Qf.find(d=>d.colorKey===m)).filter(Boolean):Qf}function Lx({position:r,onSelect:c,onClose:m,colorLabels:d,documentColorKeys:g,lensColors:v=[]}){const S=H.useRef(null),w=H.useRef(null),[U,E]=H.useState(null),[R,C]=H.useState(""),[F,be]=H.useState(!1),[$,ue]=H.useState(!1),I=H.useMemo(()=>Hx(v,g),[v,g]),De=I.length>0?I:Qf,ye=H.useCallback(Se=>ns(Se,d,v),[d,v]);H.useEffect(()=>{F&&w.current&&w.current.focus()},[F]);const _e=H.useCallback(Se=>{E(Se.colorKey),F||(c(Se.colorKey,""),m())},[F,c,m]),se=H.useCallback(()=>{U&&(c(U,R.trim()||void 0),m())},[U,R,c,m]);if(H.useEffect(()=>{const Se=ge=>{if(ge.key==="Escape"){m();return}if(!F){const Ie=parseInt(ge.key,10);if(Ie>=1&&Ie<=De.length){const Ke=De[Ie-1];Ke&&_e(Ke)}}F&&ge.key==="Enter"&&(ge.metaKey||ge.ctrlKey)&&(ge.preventDefault(),se())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[F,U,R,m,_e,se,De]),H.useEffect(()=>{const Se=ge=>{S.current&&!S.current.contains(ge.target)&&m()};return document.addEventListener("mousedown",Se),()=>document.removeEventListener("mousedown",Se)},[m]),H.useEffect(()=>{C(""),E(null),be(!1),ue(!1)},[r]),!r)return null;const ve=U?De.find(Se=>Se.colorKey===U):null;return o.jsx("div",{ref:S,className:"fixed z-1000",style:{left:r.x,top:r.y-48,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:$?o.jsxs("div",{className:"flex items-center gap-2 rounded-[10px] px-3.5 py-2 bg-white border border-slate-200 shadow-md",children:[o.jsx("div",{className:"flex h-[18px] w-[18px] items-center justify-center rounded-full",style:{background:ve?.color??"#64748b"},children:o.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M2 6L5 9L10 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsx("span",{className:"text-[13px] font-medium text-slate-800",children:"Saved"})]}):o.jsxs("div",{className:"overflow-hidden rounded-xl bg-white border border-slate-200 shadow-lg",style:{width:F?280:"auto",transition:"width 0.2s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsxs("div",{className:"flex items-center gap-0.5 p-1.5",children:[De.map((Se,ge)=>o.jsx("button",{type:"button",onClick:()=>_e(Se),className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 hover:bg-slate-100",style:{background:U===Se.colorKey?`${Se.color}25`:"transparent"},children:o.jsx("div",{className:"h-4 w-4 rounded-full transition-[box-shadow,transform] duration-150",style:{background:Se.color,boxShadow:U===Se.colorKey?`0 0 0 2px ${Se.color}80`:"none",transform:U===Se.colorKey?"scale(1.15)":"scale(1)"}})},Se.colorKey)),o.jsx("div",{className:"mx-0.5 h-4 w-px bg-slate-200"}),o.jsx("button",{type:"button",onClick:()=>be(!F),title:"Add note",className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 transition-colors duration-150 ${F?"bg-slate-100":"hover:bg-slate-100"}`,children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",children:[o.jsx("path",{d:"M13 2.5H3C2.72386 2.5 2.5 2.72386 2.5 3V13C2.5 13.2761 2.72386 13.5 3 13.5H10L13.5 10V3C13.5 2.72386 13.2761 2.5 13 2.5Z",stroke:F?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M5.5 6H10.5",stroke:F?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M5.5 8.5H8.5",stroke:F?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round"}),o.jsx("path",{d:"M10 13.5V10H13.5",stroke:F?"#475569":"#64748b",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",onClick:m,className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-lg border-0 bg-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition-colors duration-150",children:o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:o.jsx("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]}),F&&o.jsxs("div",{className:"px-2 pb-2 border-t border-slate-100 pt-2",style:{animation:"expandIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[!ve&&o.jsx("div",{className:"px-1.5 pb-2 pt-1 text-[11px] text-slate-500",children:"Pick a category above, then add your note"}),ve&&o.jsxs("div",{className:"flex items-center gap-1.5 px-1.5 pb-2 pt-0.5",children:[o.jsx("div",{className:"h-2 w-2 rounded-full shrink-0",style:{background:ve.color}}),o.jsx("span",{className:"text-[11px] font-medium text-slate-600",children:ye(ve.colorKey)})]}),o.jsx("textarea",{ref:w,value:R,onChange:Se=>C(Se.target.value),placeholder:"Add a note...",rows:2,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200"}),o.jsx("div",{className:"mt-1.5 flex items-center justify-end",children:o.jsx("button",{type:"button",onClick:se,disabled:!ve,className:"rounded-lg border-0 px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Save"})})]})]})})}const Kx=["#FBBF24","#34D399","#60A5FA","#F472B6","#FB923C","#f59e0b","#3b82f6","#10b981","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#14b8a6"],Mp=5;function Qx({lens:r,documentId:c,onClose:m}){const d=Ui(),g=r?.colors??[],v=!r||r.is_system,[S,w]=H.useState(null),[U,E]=H.useState(""),R=()=>{d.invalidateQueries({queryKey:["lenses"]}),d.invalidateQueries({queryKey:["document",c]})},C=An({mutationFn:ye=>In.addColor(r.id,ye),onSuccess:()=>{R(),w(null),E("")}}),F=An({mutationFn:ye=>In.removeColor(r.id,ye),onSuccess:R}),be=An({mutationFn:({colorId:ye,data:_e})=>In.updateColor(r.id,ye,_e),onSuccess:R}),$=new Set(g.map(ye=>ye.hex.toLowerCase())),ue=Kx.filter(ye=>!$.has(ye.toLowerCase())),I=()=>{!S||!U.trim()||C.mutate({key:`custom_${Date.now()}`,display_name:U.trim(),hex:S})},De=o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:m,children:o.jsxs("div",{role:"dialog","aria-modal":"true",className:`relative z-10 ${Na.surface} rounded-xl shadow-xl border ${ea.default} w-full max-w-md mx-4 overflow-hidden max-h-[90vh] flex flex-col`,onClick:ye=>ye.stopPropagation(),onMouseDown:ye=>ye.stopPropagation(),children:[o.jsxs("div",{className:"px-5 pt-5 pb-3 border-b border-slate-100 shrink-0",children:[o.jsx("h3",{className:`text-base font-semibold ${Ve.heading}`,children:"Edit lens"}),r&&o.jsx("p",{className:`text-xs ${Ve.muted} mt-0.5`,children:r.name})]}),o.jsx("div",{className:"px-5 py-4 space-y-4 overflow-auto flex-1 min-h-0",children:v?o.jsx("p",{className:`text-sm ${Ve.secondary}`,children:"Default lenses cannot be edited. Create a custom lens from Settings to customise colours."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-xs ${Ve.muted} mb-2.5 uppercase tracking-wider font-medium`,children:["Colours (",g.length,"/",Mp,")"]}),o.jsx("div",{className:"space-y-2",children:g.map(ye=>o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-200",style:{backgroundColor:ye.hex}}),o.jsx("input",{type:"text",defaultValue:ye.display_name,placeholder:"Label",onBlur:_e=>{const se=_e.target.value.trim();se&&se!==ye.display_name&&be.mutate({colorId:ye.id,data:{display_name:se}})},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Ve.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`}),g.length>1&&o.jsx("button",{type:"button",onClick:()=>F.mutate(ye.id),className:"shrink-0 p-1.5 rounded-lg text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",disabled:F.isPending,children:o.jsx(as,{className:"w-3.5 h-3.5",strokeWidth:2.5})})]},ye.id))}),o.jsx("p",{className:`text-xs ${Ve.muted} mt-2.5 italic`,children:"Removing a colour will delete any highlights and comments using it."})]}),g.length<Mp&&ue.length>0&&o.jsx("div",{className:"pt-3 border-t border-slate-100",children:S?o.jsxs("div",{className:"space-y-2.5",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-7 h-7 rounded-full shrink-0 border-2 border-slate-300",style:{backgroundColor:S}}),o.jsx("input",{type:"text",value:U,onChange:ye=>E(ye.target.value),placeholder:"Label, e.g. Key Metrics",autoFocus:!0,onKeyDown:ye=>{ye.key==="Enter"&&I()},className:`flex-1 min-w-0 rounded-lg border ${ea.default} px-2.5 py-1.5 text-sm ${Ve.body} placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-200`})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>{w(null),E("")},className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:I,disabled:!U.trim()||C.isPending,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-slate-800 text-white hover:bg-slate-700 disabled:opacity-50",children:C.isPending?"Adding":"Add"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:`text-xs ${Ve.muted} mb-2`,children:"Add a colour"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(ye=>o.jsx("button",{type:"button",onClick:()=>{w(ye),E("")},className:"w-7 h-7 rounded-full border-2 border-transparent hover:border-slate-400 transition-all hover:scale-110",style:{backgroundColor:ye}},ye))})]})})]})}),o.jsx("div",{className:"px-5 py-3 border-t border-slate-100 flex justify-end shrink-0",children:o.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg",children:"Done"})})]})});return typeof document>"u"||!document.body?De:R0.createPortal(De,document.body)}function Yx({position:r,initialValue:c="",onSave:m,onClose:d}){const[g,v]=H.useState(c),S=H.useRef(null),w=H.useRef(null);return H.useEffect(()=>{v(c)},[c,r]),H.useEffect(()=>{w.current?.focus()},[r]),H.useEffect(()=>{const U=E=>{E.key==="Escape"&&d(),E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),m(g.trim()))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[g,m,d]),H.useEffect(()=>{const U=E=>{S.current&&!S.current.contains(E.target)&&d()};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[d]),r?o.jsxs("div",{ref:S,className:"fixed z-[1001] w-64 rounded-xl border border-slate-200 bg-white p-3 shadow-lg",style:{left:r.x,top:r.y+6,transform:"translateX(-50%)",animation:"pickerIn 0.15s cubic-bezier(0.16, 1, 0.3, 1)"},children:[o.jsx("textarea",{ref:w,value:g,onChange:U=>v(U.target.value),placeholder:"Add a note...",rows:3,className:"w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-2.5 py-2 text-[13px] leading-relaxed text-slate-800 placeholder:text-slate-400 outline-none focus:border-slate-300 focus:ring-1 focus:ring-slate-200 mb-2"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:d,className:"rounded-lg px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:bg-slate-100 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:()=>m(g.trim()),className:"rounded-lg px-3 py-1.5 text-xs font-medium bg-slate-800 text-white hover:bg-slate-700 transition-colors",children:"Save"})]})]}):null}function Xx(){const{id:r}=Xf(),c=ls(),m=Ui(),[d,g]=H.useState(null),[v,S]=H.useState(!1),[w,U]=H.useState(!0),[E,R]=H.useState(1.3),[C,F]=H.useState(!0),[be,$]=H.useState(null),[ue,I]=H.useState(null),[De,ye]=H.useState(null),[_e,se]=H.useState(null),[ve,Se]=H.useState(null),[ge,Ie]=H.useState(0),[Ke,tt]=H.useState(1),[Ue,$e]=H.useState(!1),[gt,Ae]=H.useState(null),[Qe,X]=H.useState(null),[ie,pe]=H.useState(null),{data:we,isLoading:Ne,isError:G}=kn({queryKey:["document",r],queryFn:async()=>{const{data:me}=await an.get(r);return me},enabled:!!r});H.useEffect(()=>{if(!we||!r)return;let me=!1;return(async()=>{U(!0);try{const ne=await Cx(we);me||(ne?g(ne.data):S(!0))}finally{me||U(!1)}})(),()=>{me=!0}},[we,r]);const{data:O=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:me}=await an.highlights(r);return me},enabled:!!r}),{data:W=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:me}=await In.list();return me}}),ce=H.useMemo(()=>W.length?we?.highlight_preset!=null?W.find(me=>me.id===we.highlight_preset)??null:W.find(me=>me.is_system)??W[0]??null:null,[W,we?.highlight_preset]),qe=H.useMemo(()=>ce?.colors??we?.highlight_preset_detail?.colors??[],[ce?.colors,we?.highlight_preset_detail?.colors]),et=H.useMemo(()=>{if(qe?.length)return qe.map(at=>at.key);const me=Object.keys(we?.color_labels||{});return me.length>0?me:[..._o]},[qe,we?.color_labels]),vt=An({mutationFn:({documentId:me,payload:at})=>an.update(me,at),onSuccess:(me,{documentId:at})=>{m.invalidateQueries({queryKey:["document",at]})}}),Ft=H.useCallback(async me=>{if(!r)return;const at=`_opt_${Date.now()}`,ne={id:at,page_number:me.page_number,position_data:me.position_data,highlighted_text:me.highlighted_text,color:me.color,note:me.comment?{id:at,content:me.comment}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m.setQueryData(["highlights",r],(ke=[])=>[...ke,ne]),ye(null),se(null),Se(null);try{await an.createHighlight(r,me),m.invalidateQueries({queryKey:["highlights",r]})}catch(ke){console.error("Failed to save highlight",ke),m.setQueryData(["highlights",r],(xe=[])=>xe.filter(Ze=>Ze.id!==at))}},[r,m]),dn=H.useCallback(me=>{ye({page_number:me.pageNumber,position_data:me.position_data,highlighted_text:me.highlighted_text}),se(me.pickerPosition),Se({pageNumber:me.pageNumber,spanStart:me.spanStart,spanEnd:me.spanEnd})},[]),je=H.useCallback((me,at)=>{De&&Ft({...De,color:me,comment:at})},[De,Ft]),ft=H.useCallback(()=>{ye(null),se(null),Se(null)},[]),Fe=H.useCallback(me=>{tt(me),window.document.getElementById("pdf-scroll-container")?.querySelector(`[data-page="${me}"]`)?.scrollIntoView({behavior:"smooth",block:"start"})},[]),dt=H.useCallback(me=>{I(at=>at!=null&&String(at)===String(me)?null:me)},[]),Zt=H.useCallback(me=>Ie(me??0),[]),Ot=H.useCallback(()=>{if(Ke<=1)return;const me=Ke-1;tt(me),Fe(me)},[Ke,Fe]),Yn=H.useCallback(()=>{if(Ke>=ge)return;const me=Ke+1;tt(me),Fe(me)},[Ke,ge,Fe]),ta=async me=>{const at=me.target.files?.[0];if(!at||!we||!r)return;const ne=await at.arrayBuffer(),ke=await Kf(ne);if(ke!==we.pdf_hash){alert("This file does not match the original document.");return}try{const xe=new FormData;xe.append("file",new Blob([ne],{type:"application/pdf"}),at.name||we.filename||"document.pdf"),await an.uploadPdf(r,xe)}catch(xe){const Ze=xe.response?.data?.detail??xe.message??"Upload failed";alert(typeof Ze=="string"?Ze:JSON.stringify(Ze));return}await If(ke,we.filename||at.name,at.size,ne),g(ne),S(!1)};return r?Ne||w?o.jsx("div",{className:`${Us} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ve.muted} animate-spin`})}):G||!we&&!Ne?o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ve.secondary} mb-4`,children:"It may have been deleted or you dont have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:Yr,children:"Back to project"})]}):v?o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center`,children:[o.jsx(wo,{className:`w-12 h-12 ${Ve.muted} mb-4`}),o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"PDF needed on this device"}),o.jsxs("p",{className:`text-sm ${Ve.secondary} mb-4 text-center max-w-sm`,children:["Upload the same file to open ",o.jsx("strong",{children:we?.filename}),"."]}),o.jsxs("label",{className:`${Yr} inline-flex items-center gap-2`,children:[o.jsx(wo,{className:"w-4 h-4"})," Upload PDF",o.jsx("input",{type:"file",accept:".pdf",onChange:ta,className:"hidden"})]}),o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:`mt-4 text-sm ${Ve.muted} hover:underline`,children:"Back to project"})]}):o.jsxs("div",{className:`h-screen flex flex-col ${Na.page} overflow-hidden`,children:[o.jsxs("header",{className:`${iy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(we?.project?`/project/${we.project}`:"/"),className:ki,title:"Back to project",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("p",{className:`text-sm font-medium ${Ve.heading} truncate max-w-xs`,children:we?.filename})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[W.length>0&&o.jsx("select",{value:we?.highlight_preset!=null?String(we.highlight_preset):W.find(me=>me.is_system)?.id??"",onChange:me=>{const at=me.target.value,ne=at===""?null:Number(at);r&&(O.length>0?pe(ne):vt.mutate({documentId:r,payload:{highlight_preset:ne}}))},className:`text-xs rounded-lg border ${ea.default} ${Na.surface} py-1.5 pl-2 pr-7 ${Ve.body} cursor-pointer max-w-44`,title:"Highlight lens",children:W.map(me=>o.jsx("option",{value:me.id,children:me.name},me.id))}),o.jsx("button",{type:"button",onClick:()=>$e(!0),className:ki,title:"Edit lens",children:o.jsx(fx,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>c(`/document/${r}/summary`),className:ki,title:"Summary",children:o.jsx(Pb,{className:"w-4 h-4"})}),o.jsx("div",{className:wp}),o.jsxs("div",{className:`flex items-center gap-1 ${Na.muted} rounded-lg px-1 py-0.5`,children:[o.jsx("button",{type:"button",onClick:()=>R(me=>Math.max(.5,me-.1)),className:`p-1.5 ${Ve.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(bx,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:`text-xs ${Ve.secondary} w-12 text-center`,children:[Math.round(E*100),"%"]}),o.jsx("button",{type:"button",onClick:()=>R(me=>Math.min(3,me+.1)),className:`p-1.5 ${Ve.secondary} hover:text-slate-700 rounded cursor-pointer`,children:o.jsx(yx,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:wp}),o.jsx("button",{type:"button",onClick:()=>F(me=>!me),className:ki,title:C?"Close annotations":"Open annotations",children:C?o.jsx(lx,{className:"w-4 h-4"}):o.jsx(ix,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 overflow-auto flex flex-col relative pb-14",id:"pdf-scroll-container",children:[d&&o.jsx(Bx,{pdfData:d,scale:E,highlights:O,hoveredHighlightId:be,activeHighlightId:ue,selectionForPicker:ve,lensColors:qe,onSelectionComplete:dn,onNumPages:Zt,onHighlightHover:$,onHighlightHoverEnd:()=>$(null),onHighlightEdit:(me,at)=>{const ne=at?.target?.getBoundingClientRect?.();ne?X({highlightId:me,x:ne.left+ne.width/2,y:ne.bottom}):(Ae(me),F(!0))},onHighlightDelete:async me=>{if(!r)return;const at=m.getQueryData(["highlights",r]);m.setQueryData(["highlights",r],(ne=[])=>ne.filter(ke=>String(ke.id)!==String(me))),String(ue)===String(me)&&I(null),String(be)===String(me)&&$(null);try{await an.deleteHighlight(r,me),m.invalidateQueries({queryKey:["highlights",r]})}catch(ne){console.error("Failed to delete highlight",ne),m.setQueryData(["highlights",r],at)}}}),_e&&o.jsx(Lx,{position:_e,onSelect:je,onClose:ft,colorLabels:we?.color_labels,documentColorKeys:et,lensColors:qe}),Qe&&o.jsx(Yx,{position:{x:Qe.x,y:Qe.y},initialValue:(O||[]).find(me=>String(me.id)===String(Qe.highlightId))?.note?.content??"",onSave:async me=>{r&&(await an.updateHighlight(r,Qe.highlightId,{note:me}),m.invalidateQueries({queryKey:["highlights",r]}),X(null))},onClose:()=>X(null)}),Ue&&o.jsx(Qx,{lens:ce,documentId:r,onClose:()=>$e(!1)}),ie!==null&&o.jsx("div",{className:"fixed inset-0 z-9999 flex items-center justify-center bg-black/40 cursor-pointer",onClick:()=>pe(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:me=>me.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",children:"Switch lens?"}),o.jsxs("p",{className:"text-sm text-slate-600 mb-5",children:["This document has ",o.jsx("strong",{children:O.length})," highlight",O.length!==1?"s":"",". Switching lenses will ",o.jsx("strong",{children:"delete all existing highlights"})," because the colour categories will change."]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>pe(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:async()=>{const me=ie;pe(null);for(const at of O)await an.deleteHighlight(r,at.id);m.invalidateQueries({queryKey:["highlights",r]}),I(null),$(null),vt.mutate({documentId:r,payload:{highlight_preset:me}})},className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete highlights & switch"})]})]})})]}),C&&o.jsx(Ux,{highlights:O,colorLabels:we?.color_labels,lensColors:qe,documentColorKeys:et,activeHighlightId:ue,onScrollToPage:Fe,onHighlightClick:dt,onHighlightHover:$,onHighlightHoverEnd:()=>$(null),onClearActive:()=>I(null),documentId:r,openEditForHighlightId:gt,onClearOpenEditForHighlightId:()=>Ae(null),onHighlightNoteUpdate:async(me,at)=>{r&&(await an.updateHighlight(r,me,{note:at}),m.invalidateQueries({queryKey:["highlights",r]}))},onHighlightDelete:async me=>{r&&(await an.deleteHighlight(r,me),m.invalidateQueries({queryKey:["highlights",r]}),String(ue)===String(me)&&I(null),String(be)===String(me)&&$(null))}})]}),ge>0&&o.jsxs("div",{className:`fixed bottom-0 left-0 z-10 flex items-center justify-center gap-2 border-t border-slate-200 bg-white py-2.5 shadow-[0_-2px_8px_rgba(0,0,0,0.06)] ${C?"right-80":"right-0"}`,children:[o.jsx("button",{type:"button",onClick:Ot,disabled:Ke<=1,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""}),o.jsxs("span",{className:"min-w-[80px] text-center text-xs text-slate-500",children:["Page ",Ke," of ",ge]}),o.jsx("button",{type:"button",onClick:Yn,disabled:Ke>=ge,className:"flex h-8 w-8 items-center justify-center rounded-md border border-slate-200 bg-white text-slate-600 disabled:opacity-30 disabled:cursor-default cursor-pointer hover:bg-slate-50 text-sm",children:""})]})]}):(c("/",{replace:!0}),null)}const Gx="modulepreload",Vx=function(r){return"/static/frontend/"+r},zp={},mo=function(c,m,d){let g=Promise.resolve();if(m&&m.length>0){let U=function(E){return Promise.all(E.map(R=>Promise.resolve(R).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const S=document.querySelector("meta[property=csp-nonce]"),w=S?.nonce||S?.getAttribute("nonce");g=U(m.map(E=>{if(E=Vx(E),E in zp)return;zp[E]=!0;const R=E.endsWith(".css"),C=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${C}`))return;const F=document.createElement("link");if(F.rel=R?"stylesheet":Gx,R||(F.as="script"),F.crossOrigin="",F.href=E,w&&F.setAttribute("nonce",w),document.head.appendChild(F),R)return new Promise((be,$)=>{F.addEventListener("load",be),F.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${E}`)))})}))}function v(S){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=S,window.dispatchEvent(w),!w.defaultPrevented)throw S}return g.then(S=>{for(const w of S||[])w.status==="rejected"&&v(w.reason);return c().catch(v)})};function Yf(r,c){return c?.find(m=>m.key===r)?.hex??bl[r]?.hex??"#94a3b8"}function Mf({highlight:r,selected:c,onToggleSelect:m,lensColors:d,colorLabels:g,editingNoteId:v,editingNoteValue:S,onStartEdit:w,onSaveNote:U,onCancelEdit:E,onEditValueChange:R,onCopy:C,onDelete:F}){const be=r.color,$=Yf(be,d),ue=ns(be,g,d),I=v===r.id;return o.jsx("div",{className:`rounded-[10px] p-3 border bg-white transition-all ${c?"border-slate-300":"border-slate-200 hover:border-slate-300"}`,children:o.jsxs("div",{className:"flex gap-2.5 items-start",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:()=>m(r.id),className:"mt-1.5 shrink-0 rounded border-slate-300 text-slate-800 focus:ring-slate-400 cursor-pointer","aria-label":"Select highlight"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-xs leading-snug ${Ve.body} whitespace-pre-wrap`,children:r.highlighted_text||"(No text captured)"}),I?o.jsxs("div",{className:"mt-2 space-y-1.5",children:[o.jsx("textarea",{value:S,onChange:De=>R(De.target.value),placeholder:"Add a note...",rows:2,className:`w-full text-[11.5px] border ${ea.default} rounded-lg px-2 py-1.5 resize-none outline-none focus:ring-1 focus:ring-slate-300 ${Ve.body}`}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{type:"button",onClick:()=>U(r.id),className:"text-[11px] font-medium px-2 py-1 rounded bg-slate-800 text-white hover:bg-slate-700 flex items-center gap-1",children:[o.jsx(jo,{className:"w-3 h-3"})," Save"]}),o.jsxs("button",{type:"button",onClick:E,className:"text-[11px] font-medium px-2 py-1 rounded text-slate-600 hover:bg-slate-100 flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"})," Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[r.note?.content&&o.jsx("p",{className:`text-[11.5px] ${Ve.muted} mt-2 leading-snug italic`,children:r.note.content}),o.jsxs("button",{type:"button",onClick:()=>w(r),className:"mt-1.5 text-[11px] text-slate-500 hover:text-slate-700 flex items-center gap-1",children:[o.jsx(To,{className:"w-3 h-3"}),r.note?.content?"Edit note":"Add note"]})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-[10px] font-semibold px-2 py-0.5 rounded",style:{color:$,backgroundColor:Ka($,.08)},children:ue}),o.jsxs("span",{className:"text-[10px] text-slate-400",children:["p.",r.page_number]}),o.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>C(r),className:"p-1 rounded text-slate-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",title:"Copy","aria-label":"Copy",children:o.jsx(Jf,{className:"w-3.5 h-3.5",strokeWidth:2})}),o.jsx("button",{type:"button",onClick:()=>F(r.id),className:"p-1 rounded text-slate-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete","aria-label":"Delete",children:o.jsx(ss,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]})]})]})})}function Fx(){const{id:r}=Xf(),c=ls(),m=Ui(),[d,g]=H.useState("sequence"),[v,S]=H.useState(""),[w,U]=H.useState(new Set),[E,R]=H.useState(new Set),[C,F]=H.useState(()=>new Set),[be,$]=H.useState(!1),[ue,I]=H.useState(!1),[De,ye]=H.useState(null),[_e,se]=H.useState(!1),[ve,Se]=H.useState(!1),[ge,Ie]=H.useState(null),[Ke,tt]=H.useState(""),{data:Ue,isLoading:$e,isError:gt}=kn({queryKey:["document",r],queryFn:async()=>{const{data:ne}=await an.get(r);return ne},enabled:!!r}),{data:Ae=[]}=kn({queryKey:["highlights",r],queryFn:async()=>{const{data:ne}=await an.highlights(r);return ne},enabled:!!r}),{data:Qe=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:ne}=await In.list();return ne}}),X=H.useMemo(()=>Qe.length?Ue?.highlight_preset!=null?Qe.find(ne=>ne.id===Ue.highlight_preset)??null:Qe.find(ne=>ne.is_system)??Qe[0]??null:null,[Qe,Ue?.highlight_preset]),ie=H.useMemo(()=>X?.colors??Ue?.highlight_preset_detail?.colors??[],[X?.colors,Ue?.highlight_preset_detail?.colors]),pe=H.useMemo(()=>{if(ie?.length)return ie.map(ke=>ke.key);const ne=Object.keys(Ue?.color_labels||{});return ne.length>0?ne:[..._o]},[ie,Ue?.color_labels]);An({mutationFn:({documentId:ne,highlightId:ke})=>an.deleteHighlight(ne,ke),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}});const we=An({mutationFn:({documentId:ne,highlightId:ke,note:xe})=>an.updateHighlight(ne,ke,{note:xe}),onSuccess:(ne,{documentId:ke})=>{m.invalidateQueries({queryKey:["highlights",ke]})}}),Ne=H.useMemo(()=>{let ne=Ae||[];const ke=v.trim().toLowerCase();return ke&&(ne=ne.filter(xe=>xe.highlighted_text&&xe.highlighted_text.toLowerCase().includes(ke)||xe.note?.content&&xe.note.content.toLowerCase().includes(ke))),w.size>0&&(ne=ne.filter(xe=>w.has(xe.color))),ne},[Ae,v,w]),G=H.useMemo(()=>Ne,[Ne]),O=H.useMemo(()=>{const ne={};for(const ke of Ne){const xe=ke.color??"uncategorized";ne[xe]||(ne[xe]=[]),ne[xe].push(ke)}return ne},[Ne]),W=H.useMemo(()=>{const ne={};for(const xe of Ne){const Ze=`page-${xe.page_number??0}`;ne[Ze]||(ne[Ze]=[]),ne[Ze].push(xe)}return Object.keys(ne).sort((xe,Ze)=>parseInt(xe.replace("page-",""),10)-parseInt(Ze.replace("page-",""),10)).map(xe=>({key:xe,page:parseInt(xe.replace("page-",""),10),items:ne[xe]}))},[Ne]),ce=H.useCallback(ne=>{U(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),qe=H.useCallback(ne=>{R(ke=>{const xe=new Set(ke);return xe.has(ne)?xe.delete(ne):xe.add(ne),xe})},[]),et=H.useCallback(ne=>{F(ke=>{const xe=new Set(ke),Ze=String(ne);return xe.has(Ze)?xe.delete(Ze):xe.add(Ze),xe})},[]),vt=H.useCallback(async()=>{const ke=Ae.filter(xe=>C.has(String(xe.id))).map(xe=>`${xe.highlighted_text||""}${xe.note?.content?`
  Note: ${xe.note.content}`:""}`).join(`

`);try{await navigator.clipboard?.writeText(ke),$(!0),setTimeout(()=>$(!1),2e3)}catch(xe){console.error("Failed to copy",xe)}},[Ae,C]),Ft=H.useCallback(async()=>{r&&se(!0)},[r]),dn=H.useCallback(async()=>{if(r){Se(!0);try{for(const ne of C)await an.deleteHighlight(r,ne);m.invalidateQueries({queryKey:["highlights",r]}),F(new Set),se(!1)}catch(ne){console.error("Failed to delete highlights",ne)}finally{Se(!1)}}},[r,C,m]),je=H.useCallback(()=>{const ne={filename:Ue?.filename,exportedAt:new Date().toISOString(),highlights:Ne.map(st=>({id:st.id,page_number:st.page_number,color:st.color,highlighted_text:st.highlighted_text,note:st.note?.content,created_at:st.created_at,updated_at:st.updated_at}))},ke=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),xe=URL.createObjectURL(ke),Ze=window.document.createElement("a");Ze.href=xe,Ze.download=`${(Ue?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.json`,Ze.click(),URL.revokeObjectURL(xe),I(!1)},[Ue?.filename,Ne]),ft=H.useCallback(async()=>{try{const{Document:ne,Packer:ke,Paragraph:xe,TextRun:Ze}=await mo(async()=>{const{Document:sn,Packer:Dn,Paragraph:ze,TextRun:Ye}=await import("./index-CMhXIFeh.js");return{Document:sn,Packer:Dn,Paragraph:ze,TextRun:Ye}},[]),{saveAs:st}=await mo(async()=>{const{saveAs:sn}=await import("./FileSaver.min-rgW_m_5v.js").then(Dn=>Dn.F);return{saveAs:sn}},__vite__mapDeps([0,1])),bt=[new xe({children:[new Ze({text:Ue?.filename??"Document Summary",bold:!0,size:28})],spacing:{after:200}})];for(const sn of Ne){const Dn=ns(sn.color,Ue?.color_labels,ie);bt.push(new xe({children:[new Ze({text:`[${Dn}] p.${sn.page_number}`,bold:!0,size:20})],spacing:{before:120,after:60}}),new xe({children:[new Ze({text:sn.highlighted_text||"",size:22})],spacing:{after:60}})),sn.note?.content&&bt.push(new xe({children:[new Ze({text:`Note: ${sn.note.content}`,italics:!0,size:20})],spacing:{after:120}}))}const Et=new ne({sections:[{children:bt}]}),mn=await ke.toBlob(Et);st(mn,`${(Ue?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.docx`),I(!1)}catch(ne){console.error("Export docx failed",ne)}},[Ue?.filename,Ue?.color_labels,Ne,ie]),Fe=H.useCallback(async()=>{try{const{jsPDF:ne}=await mo(async()=>{const{jsPDF:bt}=await import("./jspdf.es.min-c2W_Jbad.js").then(Et=>Et.j);return{jsPDF:bt}},[]),{saveAs:ke}=await mo(async()=>{const{saveAs:bt}=await import("./FileSaver.min-rgW_m_5v.js").then(Et=>Et.F);return{saveAs:bt}},__vite__mapDeps([0,1])),xe=new ne;let Ze=20;xe.setFontSize(16),xe.text(Ue?.filename??"Document Summary",20,Ze),Ze+=12;for(const bt of Ne){const Et=ns(bt.color,Ue?.color_labels,ie);Ze>270&&(xe.addPage(),Ze=20),xe.setFontSize(10),xe.setFont(void 0,"bold"),xe.text(`[${Et}] p.${bt.page_number}`,20,Ze),Ze+=6,xe.setFont(void 0,"normal");const mn=xe.splitTextToSize(bt.highlighted_text||"",170);xe.text(mn,20,Ze),Ze+=mn.length*5+4,bt.note?.content&&(xe.setFont(void 0,"italic"),xe.text(`Note: ${bt.note.content}`,20,Ze),Ze+=6,xe.setFont(void 0,"normal")),Ze+=8}const st=xe.output("blob");ke(st,`${(Ue?.filename||"summary").replace(/\.pdf$/i,"")}-highlights.pdf`),I(!1)}catch(ne){console.error("Export pdf failed",ne)}},[Ue?.filename,Ue?.color_labels,Ne,ie]),dt=ne=>{Ie(ne.id),tt(ne.note?.content??"")},Zt=ne=>{r&&(we.mutate({documentId:r,highlightId:ne,note:Ke.trim()||""}),Ie(null),tt(""))},Ot=()=>{Ie(null),tt("")},Yn=ne=>{const ke=`${ne.highlighted_text||""}${ne.note?.content?`
  Note: ${ne.note.content}`:""}`;navigator.clipboard?.writeText(ke).catch(console.error)},ta=ne=>{ye(ne)},me=H.useCallback(async()=>{!r||!De||(await an.deleteHighlight(r,De),m.invalidateQueries({queryKey:["highlights",r]}),F(ne=>{const ke=new Set(ne);return ke.delete(String(De)),ke}),ye(null))},[r,De,m]);if(!r)return c("/",{replace:!0}),null;if($e)return o.jsx("div",{className:`${Us} flex items-center justify-center min-h-[50vh]`,children:o.jsx(ya,{className:`w-8 h-8 ${Ve.muted} animate-spin`})});if(gt||!Ue&&!$e)return o.jsxs("div",{className:`${Us} flex flex-col items-center justify-center min-h-[50vh]`,children:[o.jsx("h2",{className:`text-lg font-semibold ${Ve.heading} mb-2`,children:"Document not found"}),o.jsx("p",{className:`text-sm ${Ve.secondary} mb-4`,children:"It may have been deleted or you don't have access to it."}),o.jsx("button",{type:"button",onClick:()=>c(Ue?.project?`/project/${Ue.project}`:"/"),className:Yr,children:"Back to project"})]});const at=ie?.length>0?ie.map(ne=>ne.key):pe?.length>0?pe:_o;return o.jsxs("div",{className:`min-h-screen ${Na.page}`,children:[o.jsx("header",{className:`${iy} px-4 py-2.5 flex items-center justify-between shrink-0`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>c(Ue?.project?`/project/${Ue.project}`:`/document/${r}`),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`text-base font-semibold ${Ve.heading}`,children:"Summary"}),o.jsx("p",{className:`text-xs ${Ve.muted} truncate max-w-xs`,children:Ue?.filename})]})]})}),o.jsxs("main",{className:"p-4 max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-2 bg-slate-100 rounded-lg p-1",children:[{key:"sequence",label:"Sequence"},{key:"topic",label:"Topic"},{key:"page",label:"Page"}].map(({key:ne,label:ke})=>o.jsx("button",{type:"button",onClick:()=>g(ne),className:`px-2.5 py-1 text-sm font-medium rounded-md transition-all ${d===ne?"bg-white text-slate-900 shadow-sm border border-slate-200":`${Ve.secondary} hover:text-slate-700`}`,children:ke},ne))}),o.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-[360px]",children:[o.jsx(Gr,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",strokeWidth:2}),o.jsx("input",{type:"text",placeholder:"Search highlights...",value:v,onChange:ne=>S(ne.target.value),className:`w-full pl-9 pr-3 py-1.5 text-sm border ${ea.default} rounded-lg ${Na.surface} outline-none ${Ve.body} placeholder:text-slate-400`})]}),o.jsxs("div",{className:"relative shrink-0",children:[o.jsxs("button",{type:"button",onClick:()=>I(ne=>!ne),className:`flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-lg border ${ea.default} ${Na.surface} hover:bg-slate-50 ${Ve.body}`,children:["Export",o.jsx(bo,{className:"w-4 h-4"})]}),ue&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>I(!1),"aria-hidden":"true"}),o.jsxs("div",{className:`absolute right-0 top-full mt-1 z-20 py-1 rounded-lg border ${ea.default} ${Na.surface} shadow-lg min-w-[160px]`,children:[o.jsxs("button",{type:"button",onClick:ft,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(qi,{className:"w-4 h-4"})," DOCX"]}),o.jsxs("button",{type:"button",onClick:Fe,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx($b,{className:"w-4 h-4"})," PDF"]}),o.jsxs("button",{type:"button",onClick:je,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-slate-50",children:[o.jsx(Kb,{className:"w-4 h-4"})," JSON"]})]})]})]})]}),C.size>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[o.jsxs("span",{className:`text-sm ${Ve.secondary}`,children:[C.size," selected"]}),o.jsxs("button",{type:"button",onClick:vt,className:"text-[11px] font-medium text-blue-600 border border-blue-300 rounded px-2 py-0.5 hover:bg-blue-50 flex items-center gap-1",children:[o.jsx(Jf,{className:"w-3.5 h-3.5"}),be?"Copied":"Copy selected"]}),o.jsxs("button",{type:"button",onClick:Ft,className:"text-[11px] font-medium text-red-600 border border-red-300 rounded px-2 py-0.5 hover:bg-red-50 flex items-center gap-1",children:[o.jsx(ss,{className:"w-3.5 h-3.5"}),"Delete selected"]}),o.jsx("button",{type:"button",onClick:()=>F(new Set),className:"text-blue-400 hover:text-blue-600 flex items-center gap-1","aria-label":"Clear selection",children:o.jsx(as,{className:"w-3.5 h-3.5"})})]}),o.jsx("div",{className:"flex flex-wrap gap-1.5 mb-6",children:at.map(ne=>{const ke=(Ae||[]).filter(bt=>bt.color===ne).length;if(!ke)return null;const xe=Yf(ne,ie),Ze=ns(ne,Ue?.color_labels,ie),st=w.size===0||w.has(ne);return o.jsxs("button",{type:"button",onClick:()=>ce(ne),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-md border transition-all text-[11px] font-semibold",style:{borderColor:st?xe:"#E2E8F0",background:st?Ka(xe,.08):"#fff",opacity:st?1:.5},children:[o.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:xe}}),o.jsx("span",{children:Ze}),o.jsxs("span",{className:"opacity-80",children:["(",ke,")"]})]},ne)})}),o.jsx("div",{className:"space-y-4",children:Ne.length?d==="sequence"?o.jsx("ul",{className:"space-y-2",children:G.map(ne=>o.jsx("li",{children:o.jsx(Mf,{highlight:ne,selected:C.has(String(ne.id)),onToggleSelect:et,lensColors:ie,colorLabels:Ue?.color_labels,editingNoteId:ge,editingNoteValue:Ke,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:tt,onCopy:Yn,onDelete:ta})},ne.id))}):d==="topic"?o.jsx("div",{className:"space-y-4",children:Object.entries(O).map(([ne,ke])=>{const xe=Yf(ne,ie),Ze=ns(ne,Ue?.color_labels,ie),st=`topic-${ne}`,bt=E.has(st);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:Ka(xe,.3)},children:[o.jsxs("button",{type:"button",onClick:()=>qe(st),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm",style:{backgroundColor:Ka(xe,.1)},children:[bt?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),o.jsx("span",{style:{color:xe},children:Ze}),o.jsxs("span",{className:"text-slate-500 text-xs",children:["(",ke.length,")"]})]}),!bt&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:ke.map(Et=>o.jsx("li",{children:o.jsx(Mf,{highlight:Et,selected:C.has(String(Et.id)),onToggleSelect:et,lensColors:ie,colorLabels:Ue?.color_labels,editingNoteId:ge,editingNoteValue:Ke,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:tt,onCopy:Yn,onDelete:ta})},Et.id))})]},ne)})}):o.jsx("div",{className:"space-y-4",children:W.map(({key:ne,page:ke,items:xe})=>{const Ze=`page-${ke}`,st=E.has(Ze);return o.jsxs("div",{className:`border ${ea.default} rounded-lg overflow-hidden`,children:[o.jsxs("button",{type:"button",onClick:()=>qe(Ze),className:"w-full flex items-center gap-2 px-4 py-2.5 text-left font-semibold text-sm bg-slate-50",children:[st?o.jsx(Xr,{className:"w-4 h-4 shrink-0"}):o.jsx(bo,{className:"w-4 h-4 shrink-0"}),"Page ",ke,o.jsxs("span",{className:`text-xs ${Ve.muted}`,children:["(",xe.length,")"]})]}),!st&&o.jsx("ul",{className:"p-3 space-y-2 bg-white",children:xe.map(bt=>o.jsx("li",{children:o.jsx(Mf,{highlight:bt,selected:C.has(String(bt.id)),onToggleSelect:et,lensColors:ie,colorLabels:Ue?.color_labels,editingNoteId:ge,editingNoteValue:Ke,onStartEdit:dt,onSaveNote:Zt,onCancelEdit:Ot,onEditValueChange:tt,onCopy:Yn,onDelete:ta})},bt.id))})]},ne)})}):o.jsxs("div",{className:`py-12 text-center ${Ve.muted} text-sm`,children:[o.jsx(qi,{className:"w-10 h-10 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No highlights yet."}),o.jsx("p",{className:"mt-1 text-xs",children:"Open the document and create highlights to see them here."})]})})]}),De&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>ye(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:"Delete highlight?"}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"This highlight will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>ye(null),className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"button",onClick:me,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),_e&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:()=>!ve&&se(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 w-full max-w-sm mx-4 p-5",onClick:ne=>ne.stopPropagation(),children:[o.jsxs("h3",{className:"text-base font-semibold text-slate-800 mb-2",style:{fontFamily:"'DM Sans', sans-serif"},children:["Delete ",C.size," highlight",C.size!==1?"s":"","?"]}),o.jsx("p",{className:"text-sm text-slate-600 mb-5",children:"The selected highlights will be permanently removed."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>se(!1),disabled:ve,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:dn,disabled:ve,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-600 text-white hover:bg-red-700 disabled:opacity-70 flex items-center gap-2",children:[ve&&o.jsx(ya,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})})]})}function Zx({onClose:r,onConfirm:c,isDeleting:m}){return o.jsx("div",{className:"fixed inset-0 bg-slate-950/40 backdrop-blur-sm flex items-center justify-center z-1000 cursor-pointer",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-[400px] mx-4 shadow-xl",onClick:d=>d.stopPropagation(),children:[o.jsx("h3",{className:"m-0 text-lg font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"Delete account?"}),o.jsx("p",{className:"mt-2 mb-6 text-sm text-slate-600",style:{fontFamily:"'DM Sans', sans-serif"},children:"This will permanently delete your account and all your data. This cannot be undone."}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:r,disabled:m,className:"px-4 py-2 text-sm font-medium border border-slate-200 rounded-lg bg-white text-slate-600 hover:bg-slate-50 cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:c,disabled:m,className:"px-4 py-2 text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 disabled:opacity-70 cursor-pointer disabled:cursor-not-allowed",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ya,{className:"w-4 h-4 animate-spin inline-block mr-1.5 align-middle"}),"Deleting"]}):"Delete account"})]})]})})}function $x(){const r=ls(),c=xl(R=>R.logout),[m,d]=H.useState(!1),[g,v]=H.useState(!1),[S,w]=H.useState(""),U=()=>{c(),r("/login",{replace:!0})},E=async()=>{w(""),v(!0);try{await Bi.deleteAccount(),c(),r("/",{replace:!0})}catch(R){w(R.response?.data?.detail||R.message||"Something went wrong."),v(!1)}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 antialiased",style:{fontFamily:"'DM Sans', sans-serif"},children:[o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&display=swap",rel:"stylesheet"}),o.jsxs("header",{className:"bg-white/92 backdrop-blur-md border-b border-slate-200 py-4 px-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Back to projects",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("span",{className:"text-[1.05rem] font-semibold text-slate-900",style:{fontFamily:"'Instrument Serif', serif"},children:"WiseMark"})]}),o.jsx("button",{type:"button",onClick:U,className:"p-2 rounded-lg text-slate-500 hover:text-slate-700 hover:bg-slate-100 cursor-pointer",title:"Sign out",children:o.jsx(Pf,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"max-w-[720px] mx-auto px-6 py-10",children:[o.jsx("h1",{className:"m-0 text-[28px] text-slate-950",style:{fontFamily:"'Instrument Serif', serif",fontWeight:700,letterSpacing:"0.01em"},children:"Account settings"}),o.jsx("div",{className:"mt-8",children:o.jsx(oy,{})}),o.jsxs("section",{className:"mt-8 p-6 bg-white border border-slate-200 rounded-xl",children:[o.jsx("h2",{className:"text-base font-semibold text-slate-800 mb-1",children:"Delete account"}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Permanently delete your account and all your projects and documents."}),o.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 text-sm font-medium rounded-lg text-red-600 border border-red-200 bg-white hover:bg-red-50 cursor-pointer",children:"Delete account"})]}),S&&o.jsx("p",{className:"mt-4 text-sm text-red-600",children:S})]}),m&&o.jsx(Zx,{onClose:()=>!g&&d(!1),onConfirm:E,isDeleting:g})]})}function kp(r,c){if(!c||c.length<2)return r;const m=new RegExp(`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return r.split(m).map((g,v)=>m.test(g)?o.jsx("mark",{className:"bg-yellow-200 rounded-sm px-px",children:g},v):g)}const fy="wisemark_saved_searches";function Jx(){try{const r=localStorage.getItem(fy);if(r){const c=JSON.parse(r);if(Array.isArray(c)&&c.length>0)return c}}catch{}return[{id:"s1",name:"Margin compression",query:"margin compression",filters:{categories:[]}}]}function Rp(r){localStorage.setItem(fy,JSON.stringify(r))}function zf({ann:r,query:c,hovered:m,onHover:d,onLeave:g,showDoc:v,onNavigate:S}){const[w,U]=H.useState(!1),E=r.color_hex||"#94a3b8",R=F=>{F.stopPropagation();const be=`"${r.highlighted_text}"${r.note?.content?`
  Note: ${r.note.content}`:""}`;navigator.clipboard?.writeText(be),U(!0),setTimeout(()=>U(!1),1500)},C=m?"#D1D9E2":"#EDF0F4";return o.jsx("div",{onMouseEnter:()=>d(r.id),onMouseLeave:g,onClick:()=>S(r.document_id),className:"bg-white rounded-[10px] transition-all cursor-pointer",style:{borderTop:`1px solid ${C}`,borderRight:`1px solid ${C}`,borderBottom:`1px solid ${C}`,borderLeft:`3px solid ${E}`,boxShadow:m?"0 2px 8px rgba(0,0,0,0.04)":"none"},children:o.jsxs("div",{className:"px-4 py-3.5",children:[o.jsxs("p",{className:"text-xs leading-snug text-slate-800 whitespace-pre-wrap",style:{fontFamily:"'Charter', 'Georgia', serif"},children:["",kp(r.highlighted_text,c),""]}),r.note?.content&&o.jsx("p",{className:"mt-1.5 text-[11.5px] leading-snug italic",style:{fontFamily:"'DM Sans', sans-serif",color:E},children:kp(r.note.content,c)}),o.jsxs("div",{className:"flex items-center gap-2 mt-2.5 pt-2 border-t border-slate-100 flex-wrap",children:[o.jsx("span",{className:"text-[11px] font-semibold px-2 py-0.5 rounded",style:{color:E,background:Ka(E,.08)},children:r.color_display_name}),o.jsxs("span",{className:"text-[11px] font-medium text-slate-400",children:["p.",r.page_number]}),v&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-500 font-medium truncate max-w-[220px] flex items-center gap-1",children:[o.jsx(qi,{className:"w-3 h-3 shrink-0"}),r.document_name?.replace(/\.pdf$/i,"")]})]}),o.jsx("span",{className:"text-slate-200",children:""}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Hf,{className:"w-2.5 h-2.5 shrink-0"}),r.project_name]}),o.jsx("div",{className:"ml-auto flex gap-1 transition-opacity",style:{opacity:m?1:0},children:o.jsxs("button",{onClick:R,className:"flex items-center gap-1 text-[11px] border border-slate-200 rounded px-2 py-0.5 hover:bg-slate-50",style:{color:w?"#16A34A":"#64748B"},children:[w?o.jsx(jo,{className:"w-3 h-3"}):o.jsx(Jf,{className:"w-3 h-3"}),w?"Copied":"Copy"]})})]})]})})}function Px({results:r,colorMap:c}){const m={},d={},g={};r.forEach(w=>{m[w.color]=(m[w.color]||0)+1,d[w.document_id]=(d[w.document_id]||0)+1,g[w.project_id]=(g[w.project_id]||0)+1});const v=Object.entries(d).sort(([,w],[,U])=>U-w).slice(0,4),S=v.length?v[0][1]:1;return o.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-[10px] p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-2.5 text-xs font-semibold text-slate-600",children:[o.jsx(Yb,{className:"w-3.5 h-3.5"})," Search insights"]}),o.jsx("div",{className:"flex gap-1 flex-wrap mb-2.5",children:Object.entries(m).sort(([,w],[,U])=>U-w).map(([w,U])=>{const E=c[w],R=E?.hex||"#94a3b8";return o.jsxs("span",{className:"text-[11px] font-medium px-2 py-0.5 rounded flex items-center gap-1",style:{color:R,background:Ka(R,.08)},children:[o.jsx("strong",{children:U})," ",E?.name||w]},w)})}),o.jsxs("div",{className:"text-[11px] text-slate-500",children:[o.jsxs("span",{className:"font-semibold",children:["Across ",Object.keys(d).length," documents"]}),o.jsxs("span",{className:"text-slate-400",children:[" in ",Object.keys(g).length," projects"]}),o.jsx("div",{className:"mt-1.5 flex flex-col gap-1",children:v.map(([w,U])=>{const E=r.find(R=>R.document_id===Number(w));return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-1 rounded bg-slate-300",style:{width:Math.max(12,U/S*80)}}),o.jsxs("span",{className:"text-[11px] text-slate-500 truncate max-w-[260px]",children:[E?.document_name?.replace(/\.pdf$/i,"")," (",U,")"]})]},w)})})]})]})}function Wx(){const r=ls(),c=H.useRef(null),[m,d]=H.useState(""),[g,v]=H.useState(""),[S,w]=H.useState([]),[U,E]=H.useState([]),[R,C]=H.useState("flat"),[F,be]=H.useState("relevance"),[$,ue]=H.useState(null),{data:I,isLoading:De}=kn({queryKey:["library"],queryFn:async()=>{const{data:O}=await Ab.get();return O}}),{data:ye=[]}=kn({queryKey:["lenses"],queryFn:async()=>{const{data:O}=await In.list();return O}}),[_e,se]=H.useState(null),[ve,Se]=H.useState(Jx),ge=I?.highlights||[],Ie=I?.projects||[],Ke=ye;H.useEffect(()=>{c.current?.focus()},[]),H.useEffect(()=>{if(Ke.length&&_e==null){const O=Ke.find(W=>W.is_system)??Ke[0];O&&se(O.id)}},[Ke,_e]);const tt=H.useMemo(()=>Ke.find(O=>O.id===_e)??Ke.find(O=>O.is_system)??Ke[0]??null,[Ke,_e]),Ue=H.useMemo(()=>{if(tt?.colors?.length){const W={};return tt.colors.forEach(ce=>{W[ce.key]={name:ce.display_name||ce.key,hex:ce.hex||"#94a3b8"}}),W}const O={};return ge.forEach(W=>{O[W.color]||(O[W.color]={name:W.color_display_name,hex:W.color_hex})}),O},[tt,ge]);H.useCallback(O=>{d(O),v(O)},[]);const $e=H.useCallback(O=>{d(O.query),v(O.query),O.filters?.categories?.length&&w(O.filters.categories),O.filters?.projects?.length&&E(O.filters.projects)},[]),gt=H.useCallback(()=>{const O=g||"Untitled search",W={id:"s"+Date.now(),name:O,query:g,filters:{categories:[...S],projects:[...U]}},ce=[...ve.filter(qe=>qe.query!==g),W];Se(ce),Rp(ce)},[g,S,U,ve]),Ae=H.useCallback((O,W)=>{W?.stopPropagation?.();const ce=ve.filter(qe=>qe.id!==O);Se(ce),Rp(ce)},[ve]),Qe=H.useCallback(O=>{w(W=>W.includes(O)?W.filter(ce=>ce!==O):[...W,O])},[]),X=H.useCallback(O=>{E(W=>W.includes(O)?W.filter(ce=>ce!==O):[...W,O])},[]),ie=H.useMemo(()=>{let O=ge;if(g){const W=g.toLowerCase();O=O.filter(ce=>ce.highlighted_text?.toLowerCase().includes(W)||ce.note?.content?.toLowerCase().includes(W)||ce.color_display_name?.toLowerCase().includes(W))}return S.length>0&&(O=O.filter(W=>S.includes(W.color))),U.length>0&&(O=O.filter(W=>U.includes(W.project_id))),F==="date"&&(O=[...O].sort((W,ce)=>ce.created_at.localeCompare(W.created_at))),F==="category"&&(O=[...O].sort((W,ce)=>W.color.localeCompare(ce.color))),O},[ge,g,S,U,F]),pe=H.useMemo(()=>{if(R==="document"){const O={};return ie.forEach(W=>{O[W.document_id]||(O[W.document_id]=[]),O[W.document_id].push(W)}),O}if(R==="category"){const O={};return ie.forEach(W=>{O[W.color]||(O[W.color]=[]),O[W.color].push(W)}),O}return null},[R,ie]),we=S.length>0||U.length>0,Ne=g||we,G=H.useMemo(()=>new Set(ge.map(W=>W.document_id)).size,[ge]);return De?o.jsx("div",{className:"min-h-screen bg-[#F8FAFB] flex items-center justify-center",children:o.jsx(ya,{className:"w-8 h-8 text-slate-400 animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-[#F8FAFB]",style:{fontFamily:"'DM Sans', -apple-system, sans-serif"},children:[o.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 pt-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("button",{type:"button",onClick:()=>r("/app"),className:ki,title:"Back",children:o.jsx(Pr,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-[17px] font-semibold text-slate-900 tracking-tight",children:"Library"}),o.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:[ge.length," annotations across ",G," documents"]})]})}),o.jsxs("div",{className:"flex items-center gap-2.5 bg-slate-50 border-[1.5px] border-slate-200 rounded-[10px] px-3.5 py-2.5 mb-3.5 focus-within:border-slate-400 transition-colors",children:[o.jsx(Gr,{className:"w-[18px] h-[18px] text-slate-400 shrink-0"}),o.jsx("input",{ref:c,value:m,onChange:O=>d(O.target.value),onKeyDown:O=>{O.key==="Enter"&&v(m)},placeholder:"Search across all your annotations...",className:"border-0 bg-transparent outline-none text-[15px] text-slate-900 w-full placeholder:text-slate-400"}),m&&o.jsx("button",{onClick:()=>{d(""),v("")},className:"bg-slate-200 rounded p-0.5 text-slate-500 hover:bg-slate-300 shrink-0",children:o.jsx(as,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>v(m),className:"bg-slate-800 text-white rounded-lg px-4 py-1.5 text-[13px] font-medium hover:bg-slate-700 shrink-0",children:"Search"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 mb-3 flex-wrap",children:[o.jsxs("span",{className:"text-[11px] text-slate-400 font-medium mr-1 flex items-center gap-1",children:[o.jsx(Hb,{className:"w-3 h-3"}),"Saved:"]}),ve.map(O=>o.jsxs("div",{className:"flex items-center gap-0.5 group",children:[o.jsx("button",{onClick:()=>$e(O),className:"text-xs text-slate-500 bg-white border border-slate-200 rounded-full pl-3 pr-2 py-1 hover:border-slate-400 hover:text-slate-900 transition-colors",children:O.name}),o.jsx("button",{onClick:W=>Ae(O.id,W),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded-full hover:bg-red-50 text-slate-400 hover:text-red-600 transition-all",title:"Delete saved search",children:o.jsx(ss,{className:"w-2.5 h-2.5"})})]},O.id)),Ne&&o.jsx("button",{onClick:gt,className:"text-xs text-slate-500 border border-dashed border-slate-300 rounded-full px-3 py-1 hover:border-slate-400 hover:text-slate-700",children:"Save this search"})]}),o.jsxs("div",{className:"flex items-center gap-2 pb-3 flex-wrap",children:[Ke.length>1&&o.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[o.jsx("span",{className:"text-[11px] text-slate-400 font-medium",children:"Lens:"}),o.jsx("select",{value:tt?.id??"",onChange:O=>se(O.target.value?Number(O.target.value):null),className:"text-xs text-slate-700 bg-white border border-slate-200 rounded-lg px-2.5 py-1.5 cursor-pointer outline-none focus:ring-1 focus:ring-slate-300",children:Ke.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))})]}),Ke.length===1&&tt&&o.jsxs("span",{className:"text-[11px] text-slate-400 font-medium mr-1",children:["Lens: ",tt.name]}),Object.entries(Ue).map(([O,W])=>{const ce=S.includes(O),qe=W.hex;return o.jsxs("button",{onClick:()=>Qe(O),className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:ce?Ka(qe,.5):"#E8ECF0",background:ce?Ka(qe,.08):"#FAFBFC",opacity:ce?1:S.length>0?.4:.7},children:[o.jsx("span",{className:"w-[7px] h-[7px] rounded-full",style:{background:qe}}),o.jsx("span",{className:"text-xs font-medium",style:{color:ce?"#374151":"#94A3B8"},children:W.name})]},O)}),Object.keys(Ue).length>0&&Ie.length>0&&o.jsx("div",{className:"w-px h-[18px] bg-slate-200 mx-1"}),Ie.map(O=>{const W=U.includes(O.id);return o.jsxs("button",{onClick:()=>X(O.id),className:"flex items-center gap-1 px-2.5 py-1 rounded-full border-[1.5px] transition-all",style:{borderColor:W?"#475569":"#E8ECF0",background:W?"#F1F5F9":"#FAFBFC",opacity:W?1:U.length>0?.4:.7},children:[o.jsx(Hf,{className:"w-2.5 h-2.5"}),o.jsx("span",{className:"text-xs font-medium",style:{color:W?"#1E293B":"#94A3B8"},children:O.name})]},O.id)}),we&&o.jsx("button",{onClick:()=>{w([]),E([])},className:"text-xs text-slate-400 border border-dashed border-slate-300 rounded-full px-2.5 py-1 hover:text-slate-600",children:"Clear all"})]})]})}),o.jsxs("div",{className:"max-w-[860px] mx-auto px-7 py-5 pb-20",children:[Ne&&o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[13px] text-slate-500",children:[o.jsx("strong",{className:"text-slate-900",children:ie.length})," result",ie.length!==1&&"s",g&&o.jsxs(o.Fragment,{children:[" for ",o.jsx("strong",{className:"text-slate-900",children:g}),""]}),we&&o.jsx("span",{className:"text-slate-400",children:" (filtered)"})]}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("select",{value:R,onChange:O=>C(O.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"flat",children:"No grouping"}),o.jsx("option",{value:"document",children:"Group by document"}),o.jsx("option",{value:"category",children:"Group by category"})]}),o.jsxs("select",{value:F,onChange:O=>be(O.target.value),className:"text-xs text-slate-500 bg-slate-50 border border-slate-200 rounded-md px-2 py-1 cursor-pointer outline-none",children:[o.jsx("option",{value:"relevance",children:"Most relevant"}),o.jsx("option",{value:"date",children:"Most recent"}),o.jsx("option",{value:"category",children:"By category"})]})]})]}),Ne&&ie.length>3&&o.jsx(Px,{results:ie,colorMap:Ue}),!Ne&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Gr,{className:"w-10 h-10 mx-auto mb-3 text-slate-200"}),o.jsx("p",{className:"text-[15px] text-slate-600 font-medium mb-1.5",children:"Search across all your annotations"}),o.jsx("p",{className:"text-[13px] text-slate-400 max-w-[380px] mx-auto",children:"Find patterns across deals, surface past insights, and build on your own analysis."})]}),Ne&&ie.length===0&&o.jsx("div",{className:"text-center py-12 text-slate-400 text-sm",children:"No annotations match your search. Try different keywords or clear your filters."}),Ne&&R==="flat"&&ie.length>0&&o.jsx("div",{className:"flex flex-col gap-2",children:ie.map(O=>o.jsx(zf,{ann:O,query:g,hovered:$===O.id,onHover:ue,onLeave:()=>ue(null),showDoc:!0,onNavigate:W=>r(`/document/${W}`)},O.id))}),Ne&&R==="document"&&pe&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(pe).map(([O,W])=>{const ce=W[0];return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qi,{className:"w-3.5 h-3.5 text-slate-500"}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:ce?.document_name?.replace(/\.pdf$/i,"")}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:W.length}),o.jsxs("span",{className:"text-[11px] text-slate-400 flex items-center gap-1",children:[o.jsx(Hf,{className:"w-2.5 h-2.5"})," ",ce?.project_name]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:W.map(qe=>o.jsx(zf,{ann:qe,query:g,hovered:$===qe.id,onHover:ue,onLeave:()=>ue(null),showDoc:!1,onNavigate:et=>r(`/document/${et}`)},qe.id))})]},O)})}),Ne&&R==="category"&&pe&&o.jsx("div",{className:"flex flex-col gap-5",children:Object.entries(Ue).map(([O,W])=>{const ce=pe[O];return!ce||ce.length===0?null:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:W.hex}}),o.jsx("span",{className:"text-[13px] font-semibold text-slate-900",children:W.name}),o.jsx("span",{className:"text-[11px] text-slate-400 bg-slate-100 px-1.5 rounded",children:ce.length})]}),o.jsx("div",{className:"flex flex-col gap-2",children:ce.map(qe=>o.jsx(zf,{ann:qe,query:g,hovered:$===qe.id,onHover:ue,onLeave:()=>ue(null),showDoc:!0,onNavigate:et=>r(`/document/${et}`)},qe.id))})]},O)})})]})]})}const Ix=new O0({defaultOptions:{queries:{staleTime:3e4,retry:1}}});function zi({children:r}){return xl(m=>m.token)?r:o.jsx(vo,{to:"/login",replace:!0})}function Bp({children:r}){return xl(m=>m.token)?o.jsx(vo,{to:"/app",replace:!0}):r}function ev(){return o.jsx(D0,{client:Ix,children:o.jsx(B0,{children:o.jsxs(q0,{children:[o.jsx(La,{path:"/login",element:o.jsx(Bp,{children:o.jsx(Db,{})})}),o.jsx(La,{path:"/register",element:o.jsx(Bp,{children:o.jsx(Tb,{})})}),o.jsx(La,{path:"/",element:o.jsx(vo,{to:"/app",replace:!0})}),o.jsx(La,{path:"/app",element:o.jsx(zi,{children:o.jsx(jx,{})})}),o.jsx(La,{path:"/app/library",element:o.jsx(zi,{children:o.jsx(Wx,{})})}),o.jsx(La,{path:"/app/settings",element:o.jsx(zi,{children:o.jsx($x,{})})}),o.jsx(La,{path:"/project/:projectId",element:o.jsx(zi,{children:o.jsx(Dx,{})})}),o.jsx(La,{path:"/document/:id",element:o.jsx(zi,{children:o.jsx(Xx,{})})}),o.jsx(La,{path:"/document/:id/summary",element:o.jsx(zi,{children:o.jsx(Fx,{})})}),o.jsx(La,{path:"*",element:o.jsx(vo,{to:"/app",replace:!0})})]})})})}G0.createRoot(document.getElementById("root")).render(o.jsx(H.StrictMode,{children:o.jsx(ev,{})}));export{mo as _};
